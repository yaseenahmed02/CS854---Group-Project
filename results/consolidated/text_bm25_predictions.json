[
  {
    "instance_id": "markedjs__marked-1262",
    "model_patch": "diff --git a/marked.js b/marked.js\n--- a/marked.js\n+++ b/marked.js\n@@ -1036,7 +1036,7 @@\n  */\n \n Renderer.prototype.table = function(header, body) {\n-  return '<table>\\n'\n+  return '<table style=\"width:100%;\">\\n'\n     + '<thead>\\n'\n     + header\n     + '</thead>\\n'",
    "model_name_or_path": "text_bm25",
    "metrics": {
      "issue_embedding_time_ms": 0.0,
      "retrieval_time_ms_bm25": 3.58,
      "retrieval_time_ms": 3.58,
      "total_retrieval_time_ms": 3.58,
      "generation_time_ms": 2183.06,
      "total_io_time_ms": 2186.64,
      "input_total_token_limit": null,
      "issue_text_tokens": 334,
      "vlm_tokens": 0,
      "retrieved_tokens": 13530,
      "prompt_template_tokens": 505,
      "total_input_prompt_tokens": 14369,
      "output_generated_tokens": 95,
      "total_io_tokens": 14464,
      "input_prompt_text": "[{\"type\": \"text\", \"text\": \"You will be provided with a partial code base and an issue statement explaining a problem to resolve.\\n<issue>\\ntable render error\\nThis markdown \\r\\n\\r\\n```\\r\\n| \\u53c2\\u6570 | \\u8bf4\\u660e | \\u7c7b\\u578b | \\u53ef\\u9009\\u503c | \\u9ed8\\u8ba4\\u503c |\\r\\n| --- | --- | --- | --- | --- |\\r\\n| itemRender | \\u81ea\\u5b9a\\u4e49\\u94fe\\u63a5\\u51fd\\u6570\\uff0c\\u548c react-router \\u914d\\u7f6e\\u4f7f\\u7528 | (route, params, routes, paths) => ReactNode |  | - |\\r\\n| params | \\u8def\\u7531\\u7684\\u53c2\\u6570 | object |  | - |\\r\\n| routes | router \\u7684\\u8def\\u7531\\u6808\\u4fe1\\u606f | object\\\\[] |  | - |\\r\\n| separator | \\u5206\\u9694\\u7b26\\u81ea\\u5b9a\\u4e49 | string\\\\|ReactNode |  | '/' |\\r\\n```\\r\\n\\r\\nWill be rendered by `Marked` as ( **Marked Version** : 0.4.0 )\\r\\n\\r\\n<img width=\\\"783\\\" alt=\\\"screen shot 2018-06-11 at 8 56 07 pm\\\" src=\\\"https://user-images.githubusercontent.com/2193211/41232736-e1a5fd5a-6db9-11e8-9f18-0b0ac28e018f.png\\\">\\r\\n\\r\\n\\r\\nActually it should be\\r\\n\\r\\n| \\u53c2\\u6570 | \\u8bf4\\u660e | \\u7c7b\\u578b | \\u53ef\\u9009\\u503c | \\u9ed8\\u8ba4\\u503c |\\r\\n| --- | --- | --- | --- | --- |\\r\\n| itemRender | \\u81ea\\u5b9a\\u4e49\\u94fe\\u63a5\\u51fd\\u6570\\uff0c\\u548c react-router \\u914d\\u7f6e\\u4f7f\\u7528 | (route, params, routes, paths) => ReactNode |  | - |\\r\\n| params | \\u8def\\u7531\\u7684\\u53c2\\u6570 | object |  | - |\\r\\n| routes | router \\u7684\\u8def\\u7531\\u6808\\u4fe1\\u606f | object\\\\[] |  | - |\\r\\n| separator | \\u5206\\u9694\\u7b26\\u81ea\\u5b9a\\u4e49 | string\\\\|ReactNode |  | '/' |\\r\\n\\n\\n</issue>\\n\\n<code>\\n[start of README.md]\\n# marked\\n\\n> A full-featured markdown parser and compiler, written in javascript. Built\\n> for speed.\\n\\n[![NPM version](https://badge.fury.io/js/marked.png)][badge]\\n\\n## Install\\n\\n``` bash\\nnpm install marked --save\\n```\\n\\n## Usage\\n\\nMinimal usage:\\n\\n```js\\nconsole.log(marked('I am using __markdown__.'));\\n// Outputs: <p>I am using <strong>markdown</strong>.</p>\\n```\\n\\nExample using all options:\\n\\n```js\\nmarked.setOptions({\\n  gfm: true,\\n  tables: true,\\n  breaks: false,\\n  pedantic: false,\\n  sanitize: true,\\n  smartLists: true,\\n  smartypants: false,\\n});\\n\\n// Using async version of marked\\nmarked('I am using __markdown__.', function (err, content) {\\n  if (err) throw err;\\n  console.log(content);\\n});\\n```\\n\\n## marked(markdownString, [options], [callback])\\n\\n### markdownString\\n\\nType: `String`\\n\\nString of markdown source to be compiled.\\n\\n### options\\n\\nType: `Object`\\n\\nHash of options. Can also be set using the `marked.setOptions` method as seen\\nabove.\\n\\n### callback\\n\\nType: `Function`\\n\\nFunction called when the `markdownString` has been fully parsed when using\\nasync highlighting. If the `options` argument is omitted, this can be used as\\nthe second argument as seen above:\\n\\n## Options\\n\\n### gfm\\n\\nType: `Boolean`\\nDefault: `true`\\n\\nEnable [GitHub flavored markdown][gfm].\\n\\n### tables\\n\\nType: `Boolean`\\nDefault: `true`\\n\\nEnable GFM [tables][tables].\\nThis option requires the `gfm` option to be true.\\n\\n### breaks\\n\\nType: `Boolean`\\nDefault: `false`\\n\\nEnable GFM [line breaks][breaks].\\nThis option requires the `gfm` option to be true.\\n\\n### pedantic\\n\\nType: `Boolean`\\nDefault: `false`\\n\\nConform to obscure parts of `markdown.pl` as much as possible. Don't fix any of\\nthe original markdown bugs or poor behavior.\\n\\n### sanitize\\n\\nType: `Boolean`\\nDefault: `false`\\n\\nSanitize the output. Ignore any HTML that has been input.\\n\\n### smartLists\\n\\nType: `Boolean`\\nDefault: `true`\\n\\nUse smarter list behavior than the original markdown. May eventually be\\ndefault with the old behavior moved into `pedantic`.\\n\\n### smartypants\\n\\nType: `Boolean`\\nDefault: `false`\\n\\nUse \\\"smart\\\" typograhic punctuation for things like quotes and dashes.\\n\\n### renderer\\n\\nType: `Renderer`\\nDefault: `new Renderer()`\\n\\nA renderer instance for rendering ast to html. Learn more on the Renderer\\nsection.\\n\\n## Renderer\\n\\nRenderer is a the new way for rendering tokens to html. Here is a simple\\nexample:\\n\\n```javascript\\nvar r = new marked.Renderer()\\nr.blockcode = function(code, lang) {\\n  return highlight(lang, code).value;\\n}\\n\\nconsole.log(marked(text, {renderer: r}))\\n```\\n\\nYou can control anything you want.\\n\\n### Block Level\\n\\n- code(code, language)\\n- blockquote(quote)\\n- html(html)\\n- heading(text, level)\\n- hr()\\n- list(body, ordered)\\n- listitem(text)\\n- paragraph(text)\\n- table(header, body)\\n- tablerow(content)\\n- tablecell(content, flags)\\n\\n`flags` is an object like this:\\n\\n```\\n{\\n    header: true,\\n    align: 'center'\\n}\\n```\\n\\n### Span Level\\n\\n- strong(text)\\n- em(text)\\n- codespan(code)\\n- br()\\n- del(text)\\n- link(href, title, text)\\n- image(href, title, text)\\n\\n## Access to lexer and parser\\n\\nYou also have direct access to the lexer and parser if you so desire.\\n\\n``` js\\nvar tokens = marked.lexer(text, options);\\nconsole.log(marked.parser(tokens));\\n```\\n\\n``` js\\nvar lexer = new marked.Lexer(options);\\nvar tokens = lexer.lex(text);\\nconsole.log(tokens);\\nconsole.log(lexer.rules);\\n```\\n\\n## CLI\\n\\n``` bash\\n$ marked -o hello.html\\nhello world\\n^D\\n$ cat hello.html\\n<p>hello world</p>\\n```\\n\\n## Benchmarks\\n\\nnode v0.4.x\\n\\n``` bash\\n$ node test --bench\\nmarked completed in 12071ms.\\nshowdown (reuse converter) completed in 27387ms.\\nshowdown (new converter) completed in 75617ms.\\nmarkdown-js completed in 70069ms.\\n```\\n\\nnode v0.6.x\\n\\n``` bash\\n$ node test --bench\\nmarked completed in 6448ms.\\nmarked (gfm) completed in 7357ms.\\nmarked (pedantic) completed in 6092ms.\\ndiscount completed in 7314ms.\\nshowdown (reuse converter) completed in 16018ms.\\nshowdown (new converter) completed in 18234ms.\\nmarkdown-js completed in 24270ms.\\n```\\n\\n__Marked is now faster than Discount, which is written in C.__\\n\\nFor those feeling skeptical: These benchmarks run the entire markdown test suite\\n1000 times. The test suite tests every feature. It doesn't cater to specific\\naspects.\\n\\nnode v0.8.x\\n\\n``` bash\\n$ node test --bench\\nmarked completed in 3411ms.\\nmarked (gfm) completed in 3727ms.\\nmarked (pedantic) completed in 3201ms.\\nrobotskirt completed in 808ms.\\nshowdown (reuse converter) completed in 11954ms.\\nshowdown (new converter) completed in 17774ms.\\nmarkdown-js completed in 17191ms.\\n```\\n\\n## Another Javascript Markdown Parser\\n\\nThe point of marked was to create a markdown compiler where it was possible to\\nfrequently parse huge chunks of markdown without having to worry about\\ncaching the compiled output somehow...or blocking for an unnecesarily long time.\\n\\nmarked is very concise and still implements all markdown features. It is also\\nnow fully compatible with the client-side.\\n\\nmarked more or less passes the official markdown test suite in its\\nentirety. This is important because a surprising number of markdown compilers\\ncannot pass more than a few tests. It was very difficult to get marked as\\ncompliant as it is. It could have cut corners in several areas for the sake\\nof performance, but did not in order to be exactly what you expect in terms\\nof a markdown rendering. In fact, this is why marked could be considered at a\\ndisadvantage in the benchmarks above.\\n\\nAlong with implementing every markdown feature, marked also implements [GFM\\nfeatures][gfmf].\\n\\n### High level\\n\\nYou can customize the result with a customized renderer.\\n\\n``` js\\nvar renderer = new marked.Renderer()\\n\\nrenderer.heading = function(text, level) {\\n  return '<div class=\\\"h-' + level + '\\\">' + text + '</div>'\\n}\\n\\nvar parse = function(src, options) {\\n  options = options || {};\\n  options.renderer = renderer\\n  return marked.parser(marked.lexer(src, options), options);\\n}\\n\\nconsole.log(parse('# h1'))\\n```\\n\\nThe renderer API:\\n\\n```\\ncode: function(code, lang)\\nblockquote: function(text)\\nhtml: function(html)\\n\\nheading: function(text, level)\\nparagraph: function(text)\\n\\nhr: function()\\n\\nlist: function(contents, isOrdered)\\nlistitem: function(text)\\n\\ntable: function(header, body)\\ntablerow: function(content)\\ntablecell: function(text, flags)\\n// flags: {header: false, align: 'center'}\\n```\\n\\n### Pro level\\n\\nYou also have direct access to the lexer and parser if you so desire.\\n\\n``` js\\nvar tokens = marked.lexer(text, options);\\nconsole.log(marked.parser(tokens));\\n```\\n\\n``` js\\nvar lexer = new marked.Lexer(options);\\nvar tokens = lexer.lex(text);\\nconsole.log(tokens);\\nconsole.log(lexer.rules);\\n```\\n\\n``` bash\\n$ node\\n> require('marked').lexer('> i am using marked.')\\n[ { type: 'blockquote_start' },\\n  { type: 'paragraph',\\n    text: 'i am using marked.' },\\n  { type: 'blockquote_end' },\\n  links: {} ]\\n```\\n\\n## Running Tests & Contributing\\n\\nIf you want to submit a pull request, make sure your changes pass the test\\nsuite. If you're adding a new feature, be sure to add your own test.\\n\\nThe marked test suite is set up slightly strangely: `test/new` is for all tests\\nthat are not part of the original markdown.pl test suite (this is where your\\ntest should go if you make one). `test/original` is only for the original\\nmarkdown.pl tests. `test/tests` houses both types of tests after they have been\\ncombined and moved/generated by running `node test --fix` or `marked --test\\n--fix`.\\n\\nIn other words, if you have a test to add, add it to `test/new/` and then\\nregenerate the tests with `node test --fix`. Commit the result. If your test\\nuses a certain feature, for example, maybe it assumes GFM is *not* enabled, you\\ncan add `.nogfm` to the filename. So, `my-test.text` becomes\\n`my-test.nogfm.text`. You can do this with any marked option. Say you want\\nline breaks and smartypants enabled, your filename should be:\\n`my-test.breaks.smartypants.text`.\\n\\nTo run the tests:\\n\\n``` bash\\ncd marked/\\nnode test\\n```\\n\\n### Contribution and License Agreement\\n\\nIf you contribute code to this project, you are implicitly allowing your code\\nto be distributed under the MIT license. You are also implicitly verifying that\\nall code is your original work. `</legalese>`\\n\\n## License\\n\\nCopyright (c) 2011-2013, Christopher Jeffrey. (MIT License)\\n\\nSee LICENSE for more info.\\n\\n[gfm]: https://help.github.com/articles/github-flavored-markdown\\n[gfmf]: http://github.github.com/github-flavored-markdown/\\n[pygmentize]: https://github.com/rvagg/node-pygmentize-bundled\\n[highlight]: https://github.com/isagalaev/highlight.js\\n[badge]: http://badge.fury.io/js/marked\\n[tables]: https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet#wiki-tables\\n[breaks]: https://help.github.com/articles/github-flavored-markdown#newlines\\n\\n[end of README.md]\\n[start of marked.js]\\n/**\\n * marked - a markdown parser\\n * Copyright (c) 2011-2013, Christopher Jeffrey. (MIT Licensed)\\n * https://github.com/chjj/marked\\n */\\n\\n;(function() {\\n\\n/**\\n * Block-Level Grammar\\n */\\n\\nvar block = {\\n  newline: /^\\\\n+/,\\n  code: /^( {4}[^\\\\n]+\\\\n*)+/,\\n  fences: noop,\\n  hr: /^( *[-*_]){3,} *(?:\\\\n+|$)/,\\n  heading: /^ *(#{1,6}) *([^\\\\n]+?) *#* *(?:\\\\n+|$)/,\\n  nptable: noop,\\n  lheading: /^([^\\\\n]+)\\\\n *(=|-){2,} *(?:\\\\n+|$)/,\\n  blockquote: /^( *>[^\\\\n]+(\\\\n[^\\\\n]+)*\\\\n*)+/,\\n  list: /^( *)(bull) [\\\\s\\\\S]+?(?:hr|\\\\n{2,}(?! )(?!\\\\1bull )\\\\n*|\\\\s*$)/,\\n  html: /^ *(?:comment|closed|closing) *(?:\\\\n{2,}|\\\\s*$)/,\\n  def: /^ *\\\\[([^\\\\]]+)\\\\]: *<?([^\\\\s>]+)>?(?: +[\\\"(]([^\\\\n]+)[\\\")])? *(?:\\\\n+|$)/,\\n  table: noop,\\n  paragraph: /^((?:[^\\\\n]+\\\\n?(?!hr|heading|lheading|blockquote|tag|def))+)\\\\n*/,\\n  text: /^[^\\\\n]+/\\n};\\n\\nblock.bullet = /(?:[*+-]|\\\\d+\\\\.)/;\\nblock.item = /^( *)(bull) [^\\\\n]*(?:\\\\n(?!\\\\1bull )[^\\\\n]*)*/;\\nblock.item = replace(block.item, 'gm')\\n  (/bull/g, block.bullet)\\n  ();\\n\\nblock.list = replace(block.list)\\n  (/bull/g, block.bullet)\\n  ('hr', /\\\\n+(?=(?: *[-*_]){3,} *(?:\\\\n+|$))/)\\n  ();\\n\\nblock._tag = '(?!(?:'\\n  + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code'\\n  + '|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo'\\n  + '|span|br|wbr|ins|del|img)\\\\\\\\b)\\\\\\\\w+(?!:/|@)\\\\\\\\b';\\n\\nblock.html = replace(block.html)\\n  ('comment', /<!--[\\\\s\\\\S]*?-->/)\\n  ('closed', /<(tag)[\\\\s\\\\S]+?<\\\\/\\\\1>/)\\n  ('closing', /<tag(?:\\\"[^\\\"]*\\\"|'[^']*'|[^'\\\">])*?>/)\\n  (/tag/g, block._tag)\\n  ();\\n\\nblock.paragraph = replace(block.paragraph)\\n  ('hr', block.hr)\\n  ('heading', block.heading)\\n  ('lheading', block.lheading)\\n  ('blockquote', block.blockquote)\\n  ('tag', '<' + block._tag)\\n  ('def', block.def)\\n  ();\\n\\n/**\\n * Normal Block Grammar\\n */\\n\\nblock.normal = merge({}, block);\\n\\n/**\\n * GFM Block Grammar\\n */\\n\\nblock.gfm = merge({}, block.normal, {\\n  fences: /^ *(`{3,}|~{3,}) *(\\\\S+)? *\\\\n([\\\\s\\\\S]+?)\\\\s*\\\\1 *(?:\\\\n+|$)/,\\n  paragraph: /^/\\n});\\n\\nblock.gfm.paragraph = replace(block.paragraph)\\n  ('(?!', '(?!'\\n    + block.gfm.fences.source.replace('\\\\\\\\1', '\\\\\\\\2') + '|'\\n    + block.list.source.replace('\\\\\\\\1', '\\\\\\\\3') + '|')\\n  ();\\n\\n/**\\n * GFM + Tables Block Grammar\\n */\\n\\nblock.tables = merge({}, block.gfm, {\\n  nptable: /^ *(\\\\S.*\\\\|.*)\\\\n *([-:]+ *\\\\|[-| :]*)\\\\n((?:.*\\\\|.*(?:\\\\n|$))*)\\\\n*/,\\n  table: /^ *\\\\|(.+)\\\\n *\\\\|( *[-:]+[-| :]*)\\\\n((?: *\\\\|.*(?:\\\\n|$))*)\\\\n*/\\n});\\n\\n/**\\n * Block Lexer\\n */\\n\\nfunction Lexer(options) {\\n  this.tokens = [];\\n  this.tokens.links = {};\\n  this.options = options || marked.defaults;\\n  this.rules = block.normal;\\n\\n  if (this.options.gfm) {\\n    if (this.options.tables) {\\n      this.rules = block.tables;\\n    } else {\\n      this.rules = block.gfm;\\n    }\\n  }\\n}\\n\\n/**\\n * Expose Block Rules\\n */\\n\\nLexer.rules = block;\\n\\n/**\\n * Static Lex Method\\n */\\n\\nLexer.lex = function(src, options) {\\n  var lexer = new Lexer(options);\\n  return lexer.lex(src);\\n};\\n\\n/**\\n * Preprocessing\\n */\\n\\nLexer.prototype.lex = function(src) {\\n  src = src\\n    .replace(/\\\\r\\\\n|\\\\r/g, '\\\\n')\\n    .replace(/\\\\t/g, '    ')\\n    .replace(/\\\\u00a0/g, ' ')\\n    .replace(/\\\\u2424/g, '\\\\n');\\n\\n  return this.token(src, true);\\n};\\n\\n/**\\n * Lexing\\n */\\n\\nLexer.prototype.token = function(src, top) {\\n  var src = src.replace(/^ +$/gm, '')\\n    , next\\n    , loose\\n    , cap\\n    , bull\\n    , b\\n    , item\\n    , space\\n    , i\\n    , l;\\n\\n  while (src) {\\n    // newline\\n    if (cap = this.rules.newline.exec(src)) {\\n      src = src.substring(cap[0].length);\\n      if (cap[0].length > 1) {\\n        this.tokens.push({\\n          type: 'space'\\n        });\\n      }\\n    }\\n\\n    // code\\n    if (cap = this.rules.code.exec(src)) {\\n      src = src.substring(cap[0].length);\\n      cap = cap[0].replace(/^ {4}/gm, '');\\n      this.tokens.push({\\n        type: 'code',\\n        text: !this.options.pedantic\\n          ? cap.replace(/\\\\n+$/, '')\\n          : cap\\n      });\\n      continue;\\n    }\\n\\n    // fences (gfm)\\n    if (cap = this.rules.fences.exec(src)) {\\n      src = src.substring(cap[0].length);\\n      this.tokens.push({\\n        type: 'code',\\n        lang: cap[2],\\n        text: cap[3]\\n      });\\n      continue;\\n    }\\n\\n    // heading\\n    if (cap = this.rules.heading.exec(src)) {\\n      src = src.substring(cap[0].length);\\n      this.tokens.push({\\n        type: 'heading',\\n        depth: cap[1].length,\\n        text: cap[2]\\n      });\\n      continue;\\n    }\\n\\n    // table no leading pipe (gfm)\\n    if (top && (cap = this.rules.nptable.exec(src))) {\\n      src = src.substring(cap[0].length);\\n\\n      item = {\\n        type: 'table',\\n        header: cap[1].replace(/^ *| *\\\\| *$/g, '').split(/ *\\\\| */),\\n        align: cap[2].replace(/^ *|\\\\| *$/g, '').split(/ *\\\\| */),\\n        cells: cap[3].replace(/\\\\n$/, '').split('\\\\n')\\n      };\\n\\n      for (i = 0; i < item.align.length; i++) {\\n        if (/^ *-+: *$/.test(item.align[i])) {\\n          item.align[i] = 'right';\\n        } else if (/^ *:-+: *$/.test(item.align[i])) {\\n          item.align[i] = 'center';\\n        } else if (/^ *:-+ *$/.test(item.align[i])) {\\n          item.align[i] = 'left';\\n        } else {\\n          item.align[i] = null;\\n        }\\n      }\\n\\n      for (i = 0; i < item.cells.length; i++) {\\n        item.cells[i] = item.cells[i].split(/ *\\\\| */);\\n      }\\n\\n      this.tokens.push(item);\\n\\n      continue;\\n    }\\n\\n    // lheading\\n    if (cap = this.rules.lheading.exec(src)) {\\n      src = src.substring(cap[0].length);\\n      this.tokens.push({\\n        type: 'heading',\\n        depth: cap[2] === '=' ? 1 : 2,\\n        text: cap[1]\\n      });\\n      continue;\\n    }\\n\\n    // hr\\n    if (cap = this.rules.hr.exec(src)) {\\n      src = src.substring(cap[0].length);\\n      this.tokens.push({\\n        type: 'hr'\\n      });\\n      continue;\\n    }\\n\\n    // blockquote\\n    if (cap = this.rules.blockquote.exec(src)) {\\n      src = src.substring(cap[0].length);\\n\\n      this.tokens.push({\\n        type: 'blockquote_start'\\n      });\\n\\n      cap = cap[0].replace(/^ *> ?/gm, '');\\n\\n      // Pass `top` to keep the current\\n      // \\\"toplevel\\\" state. This is exactly\\n      // how markdown.pl works.\\n      this.token(cap, top);\\n\\n      this.tokens.push({\\n        type: 'blockquote_end'\\n      });\\n\\n      continue;\\n    }\\n\\n    // list\\n    if (cap = this.rules.list.exec(src)) {\\n      src = src.substring(cap[0].length);\\n      bull = cap[2];\\n\\n      this.tokens.push({\\n        type: 'list_start',\\n        ordered: bull.length > 1\\n      });\\n\\n      // Get each top-level item.\\n      cap = cap[0].match(this.rules.item);\\n\\n      next = false;\\n      l = cap.length;\\n      i = 0;\\n\\n      for (; i < l; i++) {\\n        item = cap[i];\\n\\n        // Remove the list item's bullet\\n        // so it is seen as the next token.\\n        space = item.length;\\n        item = item.replace(/^ *([*+-]|\\\\d+\\\\.) +/, '');\\n\\n        // Outdent whatever the\\n        // list item contains. Hacky.\\n        if (~item.indexOf('\\\\n ')) {\\n          space -= item.length;\\n          item = !this.options.pedantic\\n            ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '')\\n            : item.replace(/^ {1,4}/gm, '');\\n        }\\n\\n        // Determine whether the next list item belongs here.\\n        // Backpedal if it does not belong in this list.\\n        if (this.options.smartLists && i !== l - 1) {\\n          b = block.bullet.exec(cap[i + 1])[0];\\n          if (bull !== b && !(bull.length > 1 && b.length > 1)) {\\n            src = cap.slice(i + 1).join('\\\\n') + src;\\n            i = l - 1;\\n          }\\n        }\\n\\n        // Determine whether item is loose or not.\\n        // Use: /(^|\\\\n)(?! )[^\\\\n]+\\\\n\\\\n(?!\\\\s*$)/\\n        // for discount behavior.\\n        loose = next || /\\\\n\\\\n(?!\\\\s*$)/.test(item);\\n        if (i !== l - 1) {\\n          next = item.charAt(item.length - 1) === '\\\\n';\\n          if (!loose) loose = next;\\n        }\\n\\n        this.tokens.push({\\n          type: loose\\n            ? 'loose_item_start'\\n            : 'list_item_start'\\n        });\\n\\n        // Recurse.\\n        this.token(item, false);\\n\\n        this.tokens.push({\\n          type: 'list_item_end'\\n        });\\n      }\\n\\n      this.tokens.push({\\n        type: 'list_end'\\n      });\\n\\n      continue;\\n    }\\n\\n    // html\\n    if (cap = this.rules.html.exec(src)) {\\n      src = src.substring(cap[0].length);\\n      this.tokens.push({\\n        type: this.options.sanitize\\n          ? 'paragraph'\\n          : 'html',\\n        pre: cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style',\\n        text: cap[0]\\n      });\\n      continue;\\n    }\\n\\n    // def\\n    if (top && (cap = this.rules.def.exec(src))) {\\n      src = src.substring(cap[0].length);\\n      this.tokens.links[cap[1].toLowerCase()] = {\\n        href: cap[2],\\n        title: cap[3]\\n      };\\n      continue;\\n    }\\n\\n    // table (gfm)\\n    if (top && (cap = this.rules.table.exec(src))) {\\n      src = src.substring(cap[0].length);\\n\\n      item = {\\n        type: 'table',\\n        header: cap[1].replace(/^ *| *\\\\| *$/g, '').split(/ *\\\\| */),\\n        align: cap[2].replace(/^ *|\\\\| *$/g, '').split(/ *\\\\| */),\\n        cells: cap[3].replace(/(?: *\\\\| *)?\\\\n$/, '').split('\\\\n')\\n      };\\n\\n      for (i = 0; i < item.align.length; i++) {\\n        if (/^ *-+: *$/.test(item.align[i])) {\\n          item.align[i] = 'right';\\n        } else if (/^ *:-+: *$/.test(item.align[i])) {\\n          item.align[i] = 'center';\\n        } else if (/^ *:-+ *$/.test(item.align[i])) {\\n          item.align[i] = 'left';\\n        } else {\\n          item.align[i] = null;\\n        }\\n      }\\n\\n      for (i = 0; i < item.cells.length; i++) {\\n        item.cells[i] = item.cells[i]\\n          .replace(/^ *\\\\| *| *\\\\| *$/g, '')\\n          .split(/ *\\\\| */);\\n      }\\n\\n      this.tokens.push(item);\\n\\n      continue;\\n    }\\n\\n    // top-level paragraph\\n    if (top && (cap = this.rules.paragraph.exec(src))) {\\n      src = src.substring(cap[0].length);\\n      this.tokens.push({\\n        type: 'paragraph',\\n        text: cap[1].charAt(cap[1].length - 1) === '\\\\n'\\n          ? cap[1].slice(0, -1)\\n          : cap[1]\\n      });\\n      continue;\\n    }\\n\\n    // text\\n    if (cap = this.rules.text.exec(src)) {\\n      // Top-level should never reach here.\\n      src = src.substring(cap[0].length);\\n      this.tokens.push({\\n        type: 'text',\\n        text: cap[0]\\n      });\\n      continue;\\n    }\\n\\n    if (src) {\\n      throw new\\n        Error('Infinite loop on byte: ' + src.charCodeAt(0));\\n    }\\n  }\\n\\n  return this.tokens;\\n};\\n\\n/**\\n * Inline-Level Grammar\\n */\\n\\nvar inline = {\\n  escape: /^\\\\\\\\([\\\\\\\\`*{}\\\\[\\\\]()#+\\\\-.!_>])/,\\n  autolink: /^<([^ >]+(@|:\\\\/)[^ >]+)>/,\\n  url: noop,\\n  tag: /^<!--[\\\\s\\\\S]*?-->|^<\\\\/?\\\\w+(?:\\\"[^\\\"]*\\\"|'[^']*'|[^'\\\">])*?>/,\\n  link: /^!?\\\\[(inside)\\\\]\\\\(href\\\\)/,\\n  reflink: /^!?\\\\[(inside)\\\\]\\\\s*\\\\[([^\\\\]]*)\\\\]/,\\n  nolink: /^!?\\\\[((?:\\\\[[^\\\\]]*\\\\]|[^\\\\[\\\\]])*)\\\\]/,\\n  strong: /^__([\\\\s\\\\S]+?)__(?!_)|^\\\\*\\\\*([\\\\s\\\\S]+?)\\\\*\\\\*(?!\\\\*)/,\\n  em: /^\\\\b_((?:__|[\\\\s\\\\S])+?)_\\\\b|^\\\\*((?:\\\\*\\\\*|[\\\\s\\\\S])+?)\\\\*(?!\\\\*)/,\\n  code: /^(`+)\\\\s*([\\\\s\\\\S]*?[^`])\\\\s*\\\\1(?!`)/,\\n  br: /^ {2,}\\\\n(?!\\\\s*$)/,\\n  del: noop,\\n  text: /^[\\\\s\\\\S]+?(?=[\\\\\\\\<!\\\\[_*`]| {2,}\\\\n|$)/\\n};\\n\\ninline._inside = /(?:\\\\[[^\\\\]]*\\\\]|[^\\\\[\\\\]]|\\\\](?=[^\\\\[]*\\\\]))*/;\\ninline._href = /\\\\s*<?([\\\\s\\\\S]*?)>?(?:\\\\s+['\\\"]([\\\\s\\\\S]*?)['\\\"])?\\\\s*/;\\n\\ninline.link = replace(inline.link)\\n  ('inside', inline._inside)\\n  ('href', inline._href)\\n  ();\\n\\ninline.reflink = replace(inline.reflink)\\n  ('inside', inline._inside)\\n  ();\\n\\n/**\\n * Normal Inline Grammar\\n */\\n\\ninline.normal = merge({}, inline);\\n\\n/**\\n * Pedantic Inline Grammar\\n */\\n\\ninline.pedantic = merge({}, inline.normal, {\\n  strong: /^__(?=\\\\S)([\\\\s\\\\S]*?\\\\S)__(?!_)|^\\\\*\\\\*(?=\\\\S)([\\\\s\\\\S]*?\\\\S)\\\\*\\\\*(?!\\\\*)/,\\n  em: /^_(?=\\\\S)([\\\\s\\\\S]*?\\\\S)_(?!_)|^\\\\*(?=\\\\S)([\\\\s\\\\S]*?\\\\S)\\\\*(?!\\\\*)/\\n});\\n\\n/**\\n * GFM Inline Grammar\\n */\\n\\ninline.gfm = merge({}, inline.normal, {\\n  escape: replace(inline.escape)('])', '~|])')(),\\n  url: /^(https?:\\\\/\\\\/[^\\\\s<]+[^<.,:;\\\"')\\\\]\\\\s])/,\\n  del: /^~~(?=\\\\S)([\\\\s\\\\S]*?\\\\S)~~/,\\n  text: replace(inline.text)\\n    (']|', '~]|')\\n    ('|', '|https?://|')\\n    ()\\n});\\n\\n/**\\n * GFM + Line Breaks Inline Grammar\\n */\\n\\ninline.breaks = merge({}, inline.gfm, {\\n  br: replace(inline.br)('{2,}', '*')(),\\n  text: replace(inline.gfm.text)('{2,}', '*')()\\n});\\n\\n/**\\n * Inline Lexer & Compiler\\n */\\n\\nfunction InlineLexer(links, options) {\\n  this.options = options || marked.defaults;\\n  this.links = links;\\n  this.rules = inline.normal;\\n  this.renderer = this.options.renderer || new Renderer;\\n\\n  if (!this.links) {\\n    throw new\\n      Error('Tokens array requires a `links` property.');\\n  }\\n\\n  if (this.options.gfm) {\\n    if (this.options.breaks) {\\n      this.rules = inline.breaks;\\n    } else {\\n      this.rules = inline.gfm;\\n    }\\n  } else if (this.options.pedantic) {\\n    this.rules = inline.pedantic;\\n  }\\n}\\n\\n/**\\n * Expose Inline Rules\\n */\\n\\nInlineLexer.rules = inline;\\n\\n/**\\n * Static Lexing/Compiling Method\\n */\\n\\nInlineLexer.output = function(src, links, options) {\\n  var inline = new InlineLexer(links, options);\\n  return inline.output(src);\\n};\\n\\n/**\\n * Lexing/Compiling\\n */\\n\\nInlineLexer.prototype.output = function(src) {\\n  var out = ''\\n    , link\\n    , text\\n    , href\\n    , cap;\\n\\n  while (src) {\\n    // escape\\n    if (cap = this.rules.escape.exec(src)) {\\n      src = src.substring(cap[0].length);\\n      out += cap[1];\\n      continue;\\n    }\\n\\n    // autolink\\n    if (cap = this.rules.autolink.exec(src)) {\\n      src = src.substring(cap[0].length);\\n      if (cap[2] === '@') {\\n        text = cap[1].charAt(6) === ':'\\n          ? this.mangle(cap[1].substring(7))\\n          : this.mangle(cap[1]);\\n        href = this.mangle('mailto:') + text;\\n      } else {\\n        text = escape(cap[1]);\\n        href = text;\\n      }\\n      out += this.renderer.link(href, null, text);\\n      continue;\\n    }\\n\\n    // url (gfm)\\n    if (cap = this.rules.url.exec(src)) {\\n      src = src.substring(cap[0].length);\\n      text = escape(cap[1]);\\n      href = text;\\n      out += this.renderer.link(href, null, text);\\n      continue;\\n    }\\n\\n    // tag\\n    if (cap = this.rules.tag.exec(src)) {\\n      src = src.substring(cap[0].length);\\n      out += this.options.sanitize\\n        ? escape(cap[0])\\n        : cap[0];\\n      continue;\\n    }\\n\\n    // link\\n    if (cap = this.rules.link.exec(src)) {\\n      src = src.substring(cap[0].length);\\n      out += this.outputLink(cap, {\\n        href: cap[2],\\n        title: cap[3]\\n      });\\n      continue;\\n    }\\n\\n    // reflink, nolink\\n    if ((cap = this.rules.reflink.exec(src))\\n        || (cap = this.rules.nolink.exec(src))) {\\n      src = src.substring(cap[0].length);\\n      link = (cap[2] || cap[1]).replace(/\\\\s+/g, ' ');\\n      link = this.links[link.toLowerCase()];\\n      if (!link || !link.href) {\\n        out += cap[0].charAt(0);\\n        src = cap[0].substring(1) + src;\\n        continue;\\n      }\\n      out += this.outputLink(cap, link);\\n      continue;\\n    }\\n\\n    // strong\\n    if (cap = this.rules.strong.exec(src)) {\\n      src = src.substring(cap[0].length);\\n      out += this.renderer.strong(this.output(cap[2] || cap[1]));\\n      continue;\\n    }\\n\\n    // em\\n    if (cap = this.rules.em.exec(src)) {\\n      src = src.substring(cap[0].length);\\n      out += this.renderer.em(this.output(cap[2] || cap[1]));\\n      continue;\\n    }\\n\\n    // code\\n    if (cap = this.rules.code.exec(src)) {\\n      src = src.substring(cap[0].length);\\n      out += this.renderer.codespan(escape(cap[2], true));\\n      continue;\\n    }\\n\\n    // br\\n    if (cap = this.rules.br.exec(src)) {\\n      src = src.substring(cap[0].length);\\n      out += this.renderer.br();\\n      continue;\\n    }\\n\\n    // del (gfm)\\n    if (cap = this.rules.del.exec(src)) {\\n      src = src.substring(cap[0].length);\\n      out += this.renderer.del(this.output(cap[1]));\\n      continue;\\n    }\\n\\n    // text\\n    if (cap = this.rules.text.exec(src)) {\\n      src = src.substring(cap[0].length);\\n      out += escape(this.smartypants(cap[0]));\\n      continue;\\n    }\\n\\n    if (src) {\\n      throw new\\n        Error('Infinite loop on byte: ' + src.charCodeAt(0));\\n    }\\n  }\\n\\n  return out;\\n};\\n\\n/**\\n * Compile Link\\n */\\n\\nInlineLexer.prototype.outputLink = function(cap, link) {\\n  var href = escape(link.href)\\n    , title = link.title ? escape(link.title) : null;\\n\\n  return cap[0].charAt(0) !== '!'\\n    ? this.renderer.link(href, title, this.output(cap[1]))\\n    : this.renderer.image(href, title, escape(cap[1]));\\n};\\n\\n/**\\n * Smartypants Transformations\\n */\\n\\nInlineLexer.prototype.smartypants = function(text) {\\n  if (!this.options.smartypants) return text;\\n  return text\\n    // em-dashes\\n    .replace(/--/g, '\\\\u2014')\\n    // opening singles\\n    .replace(/(^|[-\\\\u2014/(\\\\[{\\\"\\\\s])'/g, '$1\\\\u2018')\\n    // closing singles & apostrophes\\n    .replace(/'/g, '\\\\u2019')\\n    // opening doubles\\n    .replace(/(^|[-\\\\u2014/(\\\\[{\\\\u2018\\\\s])\\\"/g, '$1\\\\u201c')\\n    // closing doubles\\n    .replace(/\\\"/g, '\\\\u201d')\\n    // ellipses\\n    .replace(/\\\\.{3}/g, '\\\\u2026');\\n};\\n\\n/**\\n * Mangle Links\\n */\\n\\nInlineLexer.prototype.mangle = function(text) {\\n  var out = ''\\n    , l = text.length\\n    , i = 0\\n    , ch;\\n\\n  for (; i < l; i++) {\\n    ch = text.charCodeAt(i);\\n    if (Math.random() > 0.5) {\\n      ch = 'x' + ch.toString(16);\\n    }\\n    out += '&#' + ch + ';';\\n  }\\n\\n  return out;\\n};\\n\\n/**\\n * Renderer\\n */\\n\\nfunction Renderer() {}\\n\\nRenderer.prototype.code = function(code, lang, escaped, options) {\\n  options = options || {};\\n\\n  if (options.highlight) {\\n    var out = options.highlight(code, lang);\\n    if (out != null && out !== code) {\\n      escaped = true;\\n      code = out;\\n    }\\n  }\\n\\n  if (!lang) {\\n    return '<pre><code>'\\n      + (escaped ? code : escape(code, true))\\n      + '\\\\n</code></pre>';\\n  }\\n\\n  return '<pre><code class=\\\"'\\n    + options.langPrefix\\n    + lang\\n    + '\\\">'\\n    + (escaped ? code : escape(code))\\n    + '\\\\n</code></pre>\\\\n';\\n};\\n\\nRenderer.prototype.blockquote = function(quote) {\\n  return '<blockquote>\\\\n' + quote + '</blockquote>\\\\n';\\n};\\n\\nRenderer.prototype.html = function(html) {\\n  return html;\\n};\\n\\nRenderer.prototype.heading = function(text, level, raw, options) {\\n  return '<h'\\n    + level\\n    + ' id=\\\"'\\n    + options.headerPrefix\\n    + raw.toLowerCase().replace(/[^\\\\w]+/g, '-')\\n    + '\\\">'\\n    + text\\n    + '</h'\\n    + level\\n    + '>\\\\n';\\n};\\n\\nRenderer.prototype.hr = function() {\\n  return '<hr>\\\\n';\\n};\\n\\nRenderer.prototype.list = function(body, ordered) {\\n  var type = ordered ? 'ol' : 'ul';\\n  return '<' + type + '>\\\\n' + body + '</' + type + '>\\\\n';\\n};\\n\\nRenderer.prototype.listitem = function(text) {\\n  return '<li>' + text + '</li>\\\\n';\\n};\\n\\nRenderer.prototype.paragraph = function(text) {\\n  return '<p>' + text + '</p>\\\\n';\\n};\\n\\nRenderer.prototype.table = function(header, body) {\\n  return '<table>\\\\n'\\n    + '<thead>\\\\n'\\n    + header\\n    + '</thead>\\\\n'\\n    + '<tbody>\\\\n'\\n    + body\\n    + '</tbody>\\\\n'\\n    + '</table>\\\\n';\\n};\\n\\nRenderer.prototype.tablerow = function(content) {\\n  return '<tr>\\\\n' + content + '</tr>\\\\n';\\n};\\n\\nRenderer.prototype.tablecell = function(content, flags) {\\n  var type = flags.header ? 'th' : 'td';\\n  var tag = flags.align\\n    ? '<' + type + ' style=\\\"text-align:' + flags.align + '\\\">'\\n    : '<' + type + '>';\\n  return tag + content + '</' + type + '>\\\\n';\\n};\\n\\n// span level renderer\\nRenderer.prototype.strong = function(text) {\\n  return '<strong>' + text + '</strong>';\\n};\\n\\nRenderer.prototype.em = function(text) {\\n  return '<em>' + text + '</em>';\\n};\\n\\nRenderer.prototype.codespan = function(text) {\\n  return '<code>' + text + '</code>';\\n};\\n\\nRenderer.prototype.br = function() {\\n  return '<br>';\\n};\\n\\nRenderer.prototype.del = function(text) {\\n  return '<del>' + text + '</del>';\\n};\\n\\nRenderer.prototype.link = function(href, title, text) {\\n  var out = '<a href=\\\"' + href + '\\\"';\\n  if (title) {\\n    out += ' title=\\\"' + title + '\\\"';\\n  }\\n  out += '>' + text + '</a>';\\n  return out;\\n};\\n\\nRenderer.prototype.image = function(href, title, text) {\\n  var out = '<img src=\\\"' + href + '\\\" alt=\\\"' + text + '\\\"';\\n  if (title) {\\n    out += ' title=\\\"' + title + '\\\"';\\n  }\\n  out += '>';\\n  return out;\\n};\\n\\n/**\\n * Parsing & Compiling\\n */\\n\\nfunction Parser(options) {\\n  this.tokens = [];\\n  this.token = null;\\n  this.options = options || marked.defaults;\\n  this.options.renderer = this.options.renderer || new Renderer;\\n  this.renderer = this.options.renderer;\\n}\\n\\n/**\\n * Static Parse Method\\n */\\n\\nParser.parse = function(src, options, renderer) {\\n  var parser = new Parser(options, renderer);\\n  return parser.parse(src);\\n};\\n\\n/**\\n * Parse Loop\\n */\\n\\nParser.prototype.parse = function(src) {\\n  this.inline = new InlineLexer(src.links, this.options, this.renderer);\\n  this.tokens = src.reverse();\\n\\n  var out = '';\\n  while (this.next()) {\\n    out += this.tok();\\n  }\\n\\n  return out;\\n};\\n\\n/**\\n * Next Token\\n[end of marked.js]\\n[start of index.js]\\n#!/usr/bin/env node\\n\\n/**\\n * marked tests\\n * Copyright (c) 2011-2013, Christopher Jeffrey. (MIT Licensed)\\n * https://github.com/chjj/marked\\n */\\n\\n/**\\n * Modules\\n */\\n\\nvar fs = require('fs')\\n  , path = require('path')\\n  , marked = require('../');\\n\\n/**\\n * Load Tests\\n */\\n\\nfunction load() {\\n  var dir = __dirname + '/tests'\\n    , files = {}\\n    , list\\n    , file\\n    , i\\n    , l;\\n\\n  list = fs\\n    .readdirSync(dir)\\n    .filter(function(file) {\\n      return path.extname(file) !== '.html';\\n    })\\n    .sort(function(a, b) {\\n      a = path.basename(a).toLowerCase().charCodeAt(0);\\n      b = path.basename(b).toLowerCase().charCodeAt(0);\\n      return a > b ? 1 : (a < b ? -1 : 0);\\n    });\\n\\n  i = 0;\\n  l = list.length;\\n\\n  for (; i < l; i++) {\\n    file = path.join(dir, list[i]);\\n    files[path.basename(file)] = {\\n      text: fs.readFileSync(file, 'utf8'),\\n      html: fs.readFileSync(file.replace(/[^.]+$/, 'html'), 'utf8')\\n    };\\n  }\\n\\n  return files;\\n}\\n\\n/**\\n * Test Runner\\n */\\n\\nfunction runTests(engine, options) {\\n  if (typeof engine !== 'function') {\\n    options = engine;\\n    engine = null;\\n  }\\n\\n  var engine = engine || marked\\n    , options = options || {}\\n    , files = options.files || load()\\n    , complete = 0\\n    , failed = 0\\n    , failures = []\\n    , keys = Object.keys(files)\\n    , i = 0\\n    , len = keys.length\\n    , filename\\n    , file\\n    , flags\\n    , text\\n    , html\\n    , j\\n    , l;\\n\\n  if (options.marked) {\\n    marked.setOptions(options.marked);\\n  }\\n\\nmain:\\n  for (; i < len; i++) {\\n    filename = keys[i];\\n    file = files[filename];\\n\\n    if (marked._original) {\\n      marked.defaults = marked._original;\\n      delete marked._original;\\n    }\\n\\n    flags = filename.split('.').slice(1, -1);\\n    if (flags.length) {\\n      marked._original = marked.defaults;\\n      marked.defaults = {};\\n      Object.keys(marked._original).forEach(function(key) {\\n        marked.defaults[key] = marked._original[key];\\n      });\\n      flags.forEach(function(key) {\\n        var val = true;\\n        if (key.indexOf('no') === 0) {\\n          key = key.substring(2);\\n          val = false;\\n        }\\n        if (marked.defaults.hasOwnProperty(key)) {\\n          marked.defaults[key] = val;\\n        }\\n      });\\n    }\\n\\n    try {\\n      text = engine(file.text).replace(/\\\\s/g, '');\\n      html = file.html.replace(/\\\\s/g, '');\\n    } catch(e) {\\n      console.log('%s failed.', filename);\\n      throw e;\\n    }\\n\\n    j = 0;\\n    l = html.length;\\n\\n    for (; j < l; j++) {\\n      if (text[j] !== html[j]) {\\n        failed++;\\n        failures.push(filename);\\n\\n        text = text.substring(\\n          Math.max(j - 30, 0),\\n          Math.min(j + 30, text.length));\\n\\n        html = html.substring(\\n          Math.max(j - 30, 0),\\n          Math.min(j + 30, html.length));\\n\\n        console.log(\\n          '\\\\n#%d. %s failed at offset %d. Near: \\\"%s\\\".\\\\n',\\n          i + 1, filename, j, text);\\n\\n        console.log('\\\\nGot:\\\\n%s\\\\n', text.trim() || text);\\n        console.log('\\\\nExpected:\\\\n%s\\\\n', html.trim() || html);\\n\\n        if (options.stop) {\\n          break main;\\n        }\\n\\n        continue main;\\n      }\\n    }\\n\\n    complete++;\\n    console.log('#%d. %s completed.', i + 1, filename);\\n  }\\n\\n  console.log('%d/%d tests completed successfully.', complete, len);\\n  if (failed) console.log('%d/%d tests failed.', failed, len);\\n\\n  // Tests currently failing.\\n  if (~failures.indexOf('def_blocks.text')\\n      && ~failures.indexOf('double_link.text')\\n      && ~failures.indexOf('gfm_code_hr_list.text')) {\\n    failed -= 3;\\n  }\\n\\n  return !failed;\\n}\\n\\n/**\\n * Benchmark a function\\n */\\n\\nfunction bench(name, func) {\\n  var files = bench.files || load();\\n\\n  if (!bench.files) {\\n    bench.files = files;\\n\\n    // Change certain tests to allow\\n    // comparison to older benchmark times.\\n    fs.readdirSync(__dirname + '/new').forEach(function(name) {\\n      if (path.extname(name) === '.html') return;\\n      if (name === 'main.text') return;\\n      delete files[name];\\n    });\\n\\n    files['backslash_escapes.text'] = {\\n      text: 'hello world \\\\\\\\[how](are you) today'\\n    };\\n\\n    files['main.text'].text = files['main.text'].text.replace('* * *\\\\n\\\\n', '');\\n  }\\n\\n  var start = Date.now()\\n    , times = 1000\\n    , keys = Object.keys(files)\\n    , i\\n    , l = keys.length\\n    , filename\\n    , file;\\n\\n  while (times--) {\\n    for (i = 0; i < l; i++) {\\n      filename = keys[i];\\n      file = files[filename];\\n      func(file.text);\\n    }\\n  }\\n\\n  console.log('%s completed in %dms.', name, Date.now() - start);\\n}\\n\\n/**\\n * Benchmark all engines\\n */\\n\\nfunction runBench(options) {\\n  var options = options || {};\\n\\n  // Non-GFM, Non-pedantic\\n  marked.setOptions({\\n    gfm: false,\\n    tables: false,\\n    breaks: false,\\n    pedantic: false,\\n    sanitize: false,\\n    smartLists: false\\n  });\\n  if (options.marked) {\\n    marked.setOptions(options.marked);\\n  }\\n  bench('marked', marked);\\n\\n  // GFM\\n  marked.setOptions({\\n    gfm: true,\\n    tables: false,\\n    breaks: false,\\n    pedantic: false,\\n    sanitize: false,\\n    smartLists: false\\n  });\\n  if (options.marked) {\\n    marked.setOptions(options.marked);\\n  }\\n  bench('marked (gfm)', marked);\\n\\n  // Pedantic\\n  marked.setOptions({\\n    gfm: false,\\n    tables: false,\\n    breaks: false,\\n    pedantic: true,\\n    sanitize: false,\\n    smartLists: false\\n  });\\n  if (options.marked) {\\n    marked.setOptions(options.marked);\\n  }\\n  bench('marked (pedantic)', marked);\\n\\n  // robotskirt\\n  try {\\n    bench('robotskirt', (function() {\\n      var rs = require('robotskirt');\\n      return function(text) {\\n        var parser = rs.Markdown.std();\\n        return parser.render(text);\\n      };\\n    })());\\n  } catch (e) {\\n    console.log('Could not bench robotskirt.');\\n  }\\n\\n  // showdown\\n  try {\\n    bench('showdown (reuse converter)', (function() {\\n      var Showdown = require('showdown');\\n      var convert = new Showdown.converter();\\n      return function(text) {\\n        return convert.makeHtml(text);\\n      };\\n    })());\\n    bench('showdown (new converter)', (function() {\\n      var Showdown = require('showdown');\\n      return function(text) {\\n        var convert = new Showdown.converter();\\n        return convert.makeHtml(text);\\n      };\\n    })());\\n  } catch (e) {\\n    console.log('Could not bench showdown.');\\n  }\\n\\n  // markdown.js\\n  try {\\n    bench('markdown.js', require('markdown').parse);\\n  } catch (e) {\\n    console.log('Could not bench markdown.js.');\\n  }\\n}\\n\\n/**\\n * A simple one-time benchmark\\n */\\n\\nfunction time(options) {\\n  var options = options || {};\\n  if (options.marked) {\\n    marked.setOptions(options.marked);\\n  }\\n  bench('marked', marked);\\n}\\n\\n/**\\n * Markdown Test Suite Fixer\\n *   This function is responsible for \\\"fixing\\\"\\n *   the markdown test suite. There are\\n *   certain aspects of the suite that\\n *   are strange or might make tests\\n *   fail for reasons unrelated to\\n *   conformance.\\n */\\n\\nfunction fix(options) {\\n  ['tests', 'original', 'new'].forEach(function(dir) {\\n    try {\\n      fs.mkdirSync(path.resolve(__dirname, dir), 0755);\\n    } catch (e) {\\n      ;\\n    }\\n  });\\n\\n  // rm -rf tests\\n  fs.readdirSync(path.resolve(__dirname, 'tests')).forEach(function(file) {\\n    fs.unlinkSync(path.resolve(__dirname, 'tests', file));\\n  });\\n\\n  // cp -r original tests\\n  fs.readdirSync(path.resolve(__dirname, 'original')).forEach(function(file) {\\n    var nfile = file;\\n    if (file.indexOf('hard_wrapped_paragraphs_with_list_like_lines.') === 0) {\\n      nfile = file.replace(/\\\\.(text|html)$/, '.nogfm.$1');\\n    }\\n    fs.writeFileSync(path.resolve(__dirname, 'tests', nfile),\\n      fs.readFileSync(path.resolve(__dirname, 'original', file)));\\n  });\\n\\n  // node fix.js\\n  var dir = __dirname + '/tests';\\n\\n  fs.readdirSync(dir).filter(function(file) {\\n    return path.extname(file) === '.html';\\n  }).forEach(function(file) {\\n    var file = path.join(dir, file)\\n      , html = fs.readFileSync(file, 'utf8');\\n\\n    // fix unencoded quotes\\n    html = html\\n      .replace(/='([^\\\\n']*)'(?=[^<>\\\\n]*>)/g, '=&__APOS__;$1&__APOS__;')\\n      .replace(/=\\\"([^\\\\n\\\"]*)\\\"(?=[^<>\\\\n]*>)/g, '=&__QUOT__;$1&__QUOT__;')\\n      .replace(/\\\"/g, '&quot;')\\n      .replace(/'/g, '&#39;')\\n      .replace(/&__QUOT__;/g, '\\\"')\\n      .replace(/&__APOS__;/g, '\\\\'');\\n\\n    // add heading id's\\n    html = html.replace(/<(h[1-6])>([^<]+)<\\\\/\\\\1>/g, function(s, h, text) {\\n      var id = text\\n        .replace(/&#39;/g, '\\\\'')\\n        .replace(/&quot;/g, '\\\"')\\n        .replace(/&gt;/g, '>')\\n        .replace(/&lt;/g, '<')\\n        .replace(/&amp;/g, '&');\\n\\n      id = id.toLowerCase().replace(/[^\\\\w]+/g,\\u00a0'-');\\n\\n      return '<' + h + ' id=\\\"' + id + '\\\">' + text + '</' + h + '>';\\n    });\\n\\n    fs.writeFileSync(file, html);\\n  });\\n\\n  // turn <hr /> into <hr>\\n  fs.readdirSync(dir).forEach(function(file) {\\n    var file = path.join(dir, file)\\n      , text = fs.readFileSync(file, 'utf8');\\n\\n    text = text.replace(/(<|&lt;)hr\\\\s*\\\\/(>|&gt;)/g, '$1hr$2');\\n\\n    fs.writeFileSync(file, text);\\n  });\\n\\n  // markdown does some strange things.\\n  // it does not encode naked `>`, marked does.\\n  (function() {\\n    var file = dir + '/amps_and_angles_encoding.html';\\n    var html = fs.readFileSync(file, 'utf8')\\n      .replace('6 > 5.', '6 &gt; 5.');\\n\\n    fs.writeFileSync(file, html);\\n  })();\\n\\n  // cp new/* tests/\\n  fs.readdirSync(path.resolve(__dirname, 'new')).forEach(function(file) {\\n    fs.writeFileSync(path.resolve(__dirname, 'tests', file),\\n      fs.readFileSync(path.resolve(__dirname, 'new', file)));\\n  });\\n}\\n\\n/**\\n * Argument Parsing\\n */\\n\\nfunction parseArg(argv) {\\n  var argv = process.argv.slice(2)\\n    , options = {}\\n    , orphans = []\\n    , arg;\\n\\n  function getarg() {\\n    var arg = argv.shift();\\n\\n    if (arg.indexOf('--') === 0) {\\n      // e.g. --opt\\n      arg = arg.split('=');\\n      if (arg.length > 1) {\\n        // e.g. --opt=val\\n        argv.unshift(arg.slice(1).join('='));\\n      }\\n      arg = arg[0];\\n    } else if (arg[0] === '-') {\\n      if (arg.length > 2) {\\n        // e.g. -abc\\n        argv = arg.substring(1).split('').map(function(ch) {\\n          return '-' + ch;\\n        }).concat(argv);\\n        arg = argv.shift();\\n      } else {\\n        // e.g. -a\\n      }\\n    } else {\\n      // e.g. foo\\n    }\\n\\n    return arg;\\n  }\\n\\n  while (argv.length) {\\n    arg = getarg();\\n    switch (arg) {\\n      case '-f':\\n      case '--fix':\\n      case 'fix':\\n        options.fix = true;\\n        break;\\n      case '-b':\\n      case '--bench':\\n        options.bench = true;\\n        break;\\n      case '-s':\\n      case '--stop':\\n        options.stop = true;\\n        break;\\n      case '-t':\\n      case '--time':\\n        options.time = true;\\n        break;\\n      default:\\n        if (arg.indexOf('--') === 0) {\\n          opt = camelize(arg.replace(/^--(no-)?/, ''));\\n          if (!marked.defaults.hasOwnProperty(opt)) {\\n            continue;\\n          }\\n          options.marked = options.marked || {};\\n          if (arg.indexOf('--no-') === 0) {\\n            options.marked[opt] = typeof marked.defaults[opt] !== 'boolean'\\n              ? null\\n              : false;\\n          } else {\\n            options.marked[opt] = typeof marked.defaults[opt] !== 'boolean'\\n              ? argv.shift()\\n              : true;\\n          }\\n        } else {\\n          orphans.push(arg);\\n        }\\n        break;\\n    }\\n  }\\n\\n  return options;\\n}\\n\\n/**\\n * Helpers\\n */\\n\\nfunction camelize(text) {\\n  return text.replace(/(\\\\w)-(\\\\w)/g, function(_, a, b) {\\n    return a + b.toUpperCase();\\n  });\\n}\\n\\n/**\\n * Main\\n */\\n\\nfunction main(argv) {\\n  var opt = parseArg();\\n\\n  if (opt.fix) {\\n    return fix(opt);\\n  }\\n\\n  if (opt.bench) {\\n    return runBench(opt);\\n  }\\n\\n  if (opt.time) {\\n    return time(opt);\\n  }\\n\\n  return runTests(opt);\\n}\\n\\n/**\\n * Execute\\n */\\n\\nif (!module.parent) {\\n  process.title = 'marked';\\n  process.exit(main(process.argv.slice()) ? 0 : 1);\\n} else {\\n  exports = main;\\n  exports.main = main;\\n  exports.runTests = runTests;\\n  exports.runBench = runBench;\\n  exports.load = load;\\n  exports.bench = bench;\\n  module.exports = exports;\\n}\\n\\n[end of index.js]\\n[start of test.js]\\n;(function() {\\n\\nvar console = {}\\n  , files = __TESTS__;\\n\\nconsole.log = function(text) {\\n  var args = Array.prototype.slice.call(arguments, 1)\\n    , i = 0;\\n\\n  text = text.replace(/%\\\\w/g, function() {\\n    return args[i++] || '';\\n  });\\n\\n  if (window.console) window.console.log(text);\\n  document.body.innerHTML += '<pre>' + escape(text) + '</pre>';\\n};\\n\\nif (!Object.keys) {\\n  Object.keys = function(obj) {\\n    var out = []\\n      , key;\\n\\n    for (key in obj) {\\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\\n        out.push(key);\\n      }\\n    }\\n\\n    return out;\\n  };\\n}\\n\\nif (!Array.prototype.forEach) {\\n  Array.prototype.forEach = function(callback, context) {\\n    for (var i = 0; i < this.length; i++) {\\n      callback.call(context || null, this[i], i, obj);\\n    }\\n  };\\n}\\n\\nif (!String.prototype.trim) {\\n  String.prototype.trim = function() {\\n    return this.replace(/^\\\\s+|\\\\s+$/g, '');\\n  };\\n}\\n\\nfunction load() {\\n  return files;\\n}\\n\\nfunction escape(html, encode) {\\n  return html\\n    .replace(!encode ? /&(?!#?\\\\w+;)/g : /&/g, '&amp;')\\n    .replace(/</g, '&lt;')\\n    .replace(/>/g, '&gt;')\\n    .replace(/\\\"/g, '&quot;')\\n    .replace(/'/g, '&#39;');\\n}\\n\\n(__MAIN__)();\\n\\n}).call(this);\\n\\n[end of test.js]\\n[start of marked.js]\\n */\\n\\nParser.prototype.next = function() {\\n  return this.token = this.tokens.pop();\\n};\\n\\n/**\\n * Preview Next Token\\n */\\n\\nParser.prototype.peek = function() {\\n  return this.tokens[this.tokens.length - 1] || 0;\\n};\\n\\n/**\\n * Parse Text Tokens\\n */\\n\\nParser.prototype.parseText = function() {\\n  var body = this.token.text;\\n\\n  while (this.peek().type === 'text') {\\n    body += '\\\\n' + this.next().text;\\n  }\\n\\n  return this.inline.output(body);\\n};\\n\\n/**\\n * Parse Current Token\\n */\\n\\nParser.prototype.tok = function() {\\n  switch (this.token.type) {\\n    case 'space': {\\n      return '';\\n    }\\n    case 'hr': {\\n      return this.renderer.hr();\\n    }\\n    case 'heading': {\\n      return this.renderer.heading(\\n        this.inline.output(this.token.text),\\n        this.token.depth,\\n        this.token.text,\\n        this.options\\n      );\\n    }\\n    case 'code': {\\n      return this.renderer.code(this.token.text,\\n        this.token.lang,\\n        this.token.escaped,\\n        this.options);\\n    }\\n    case 'table': {\\n      var header = ''\\n        , body = ''\\n        , i\\n        , row\\n        , cell\\n        , flags\\n        , j;\\n\\n      // header\\n      cell = '';\\n      for (i = 0; i < this.token.header.length; i++) {\\n        flags = { header: true, align: this.token.align[i] };\\n        cell += this.renderer.tablecell(\\n          this.inline.output(this.token.header[i]),\\n          { header: true, align: this.token.align[i] }\\n        );\\n      }\\n      header += this.renderer.tablerow(cell);\\n\\n      for (i = 0; i < this.token.cells.length; i++) {\\n        row = this.token.cells[i];\\n\\n        cell = '';\\n        for (j = 0; j < row.length; j++) {\\n          cell += this.renderer.tablecell(\\n            this.inline.output(row[j]),\\n            { header: false, align: this.token.align[j] }\\n          );\\n        }\\n\\n        body += this.renderer.tablerow(cell);\\n      }\\n      return this.renderer.table(header, body);\\n    }\\n    case 'blockquote_start': {\\n      var body = '';\\n\\n      while (this.next().type !== 'blockquote_end') {\\n        body += this.tok();\\n      }\\n\\n      return this.renderer.blockquote(body);\\n    }\\n    case 'list_start': {\\n      var body = ''\\n        , ordered = this.token.ordered;\\n\\n      while (this.next().type !== 'list_end') {\\n        body += this.tok();\\n      }\\n\\n      return this.renderer.list(body, ordered);\\n    }\\n    case 'list_item_start': {\\n      var body = '';\\n\\n      while (this.next().type !== 'list_item_end') {\\n        body += this.token.type === 'text'\\n          ? this.parseText()\\n          : this.tok();\\n      }\\n\\n      return this.renderer.listitem(body);\\n    }\\n    case 'loose_item_start': {\\n      var body = '';\\n\\n      while (this.next().type !== 'list_item_end') {\\n        body += this.tok();\\n      }\\n\\n      return this.renderer.listitem(body);\\n    }\\n    case 'html': {\\n      var html = !this.token.pre && !this.options.pedantic\\n        ? this.inline.output(this.token.text)\\n        : this.token.text;\\n      return this.renderer.html(html);\\n    }\\n    case 'paragraph': {\\n      return this.renderer.paragraph(this.inline.output(this.token.text));\\n    }\\n    case 'text': {\\n      return this.renderer.paragraph(this.parseText());\\n    }\\n  }\\n};\\n\\n/**\\n * Helpers\\n */\\n\\nfunction escape(html, encode) {\\n  return html\\n    .replace(!encode ? /&(?!#?\\\\w+;)/g : /&/g, '&amp;')\\n    .replace(/</g, '&lt;')\\n    .replace(/>/g, '&gt;')\\n    .replace(/\\\"/g, '&quot;')\\n    .replace(/'/g, '&#39;');\\n}\\n\\nfunction replace(regex, opt) {\\n  regex = regex.source;\\n  opt = opt || '';\\n  return function self(name, val) {\\n    if (!name) return new RegExp(regex, opt);\\n    val = val.source || val;\\n    val = val.replace(/(^|[^\\\\[])\\\\^/g, '$1');\\n    regex = regex.replace(name, val);\\n    return self;\\n  };\\n}\\n\\nfunction noop() {}\\nnoop.exec = noop;\\n\\nfunction merge(obj) {\\n  var i = 1\\n    , target\\n    , key;\\n\\n  for (; i < arguments.length; i++) {\\n    target = arguments[i];\\n    for (key in target) {\\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\\n        obj[key] = target[key];\\n      }\\n    }\\n  }\\n\\n  return obj;\\n}\\n\\n\\n/**\\n * Marked\\n */\\n\\nfunction marked(src, opt, callback) {\\n  if (callback || typeof opt === 'function') {\\n    if (!callback) {\\n      callback = opt;\\n      opt = null;\\n    }\\n\\n    opt = merge({}, marked.defaults, opt || {});\\n\\n    var highlight = opt.highlight\\n      , tokens\\n      , pending\\n      , i = 0;\\n\\n    try {\\n      tokens = Lexer.lex(src, opt)\\n    } catch (e) {\\n      return callback(e);\\n    }\\n\\n    pending = tokens.length;\\n\\n    var done = function() {\\n      var out, err;\\n\\n      try {\\n        out = Parser.parse(tokens, opt);\\n      } catch (e) {\\n        err = e;\\n      }\\n\\n      opt.highlight = highlight;\\n\\n      return err\\n        ? callback(err)\\n        : callback(null, out);\\n    };\\n\\n    if (!highlight || highlight.length < 3) {\\n      return done();\\n    }\\n\\n    delete opt.highlight;\\n\\n    if (!pending) return done();\\n\\n    for (; i < tokens.length; i++) {\\n      (function(token) {\\n        if (token.type !== 'code') {\\n          return --pending || done();\\n        }\\n        return highlight(token.text, token.lang, function(err, code) {\\n          if (code == null || code === token.text) {\\n            return --pending || done();\\n          }\\n          token.text = code;\\n          token.escaped = true;\\n          --pending || done();\\n        });\\n      })(tokens[i]);\\n    }\\n\\n    return;\\n  }\\n  try {\\n    if (opt) opt = merge({}, marked.defaults, opt);\\n    return Parser.parse(Lexer.lex(src, opt), opt);\\n  } catch (e) {\\n    e.message += '\\\\nPlease report this to https://github.com/chjj/marked.';\\n    if ((opt || marked.defaults).silent) {\\n      return '<p>An error occured:</p><pre>'\\n        + escape(e.message + '', true)\\n        + '</pre>';\\n    }\\n    throw e;\\n  }\\n}\\n\\n/**\\n * Options\\n */\\n\\nmarked.options =\\nmarked.setOptions = function(opt) {\\n  merge(marked.defaults, opt);\\n  return marked;\\n};\\n\\nmarked.defaults = {\\n  gfm: true,\\n  tables: true,\\n  breaks: false,\\n  pedantic: false,\\n  sanitize: false,\\n  smartLists: false,\\n  silent: false,\\n  highlight: null,\\n  langPrefix: 'lang-',\\n  smartypants: false,\\n  headerPrefix: '',\\n  renderer: new Renderer\\n};\\n\\n/**\\n * Expose\\n */\\n\\nmarked.Parser = Parser;\\nmarked.parser = Parser.parse;\\n\\nmarked.Renderer = Renderer;\\n\\nmarked.Lexer = Lexer;\\nmarked.lexer = Lexer.lex;\\n\\nmarked.InlineLexer = InlineLexer;\\nmarked.inlineLexer = InlineLexer.output;\\n\\nmarked.parse = marked;\\n\\nif (typeof exports === 'object') {\\n  module.exports = marked;\\n} else if (typeof define === 'function' && define.amd) {\\n  define(function() { return marked; });\\n} else {\\n  this.marked = marked;\\n}\\n\\n}).call(function() {\\n  return this || (typeof window !== 'undefined' ? window : global);\\n}());\\n[end of marked.js]\\n\\n</code>\\n\\nHere is an example of a patch file. It consists of changes to the code base. It specifies the file names, the line numbers of each change, and the removed and added lines. A single patch file can contain changes to multiple files.\\n\\n<patch>\\ndiff --git a/file.py b/file.py\\n--- a/file.py\\n+++ b/file.py\\n@@ -1,27 +1,35 @@\\n def euclidean(a, b):\\n-    while b:\\n-        a, b = b, a % b\\n-    return a\\n+    if b == 0:\\n+        return a\\n+    return euclidean(b, a % b)\\n \\n def bresenham(x0, y0, x1, y1):\\n+    points = []\\n+    dx = abs(x1 - x0)\\n+    dy = abs(y1 - y0)\\n+    sx = 1 if x0 < x1 else -1\\n+    sy = 1 if y0 < y1 else -1\\n+    err = dx - dy\\n+    \\n     while True:\\n-        plot(x0, y0)\\n+        points.append((x0, y0))\\n         if x0 == x1 and y0 == y1:\\n             break\\n-        e2 = 2 * err\\n-        if e2 > -dy:\\n-            err -= dy\\n-            x0 += sx\\n-        if e2 < dx:\\n-            err += dx\\n-            y0 += sy\\n+        e2 = 2 * err\\n+        if e2 > -dy:\\n+            err -= dy\\n+            x0 += sx\\n+        if e2 < dx:\\n+            err += dx\\n+            y0 += sy\\n+    return points\\n+</patch>\\n\\nI need you to solve the provided issue by generating a single patch file that I can apply directly to this repository using git apply. Please respond with a single patch file in the format shown above.\\n\\nRespond below: \\n\"}]",
      "retrieved_file_paths": [
        "README.md",
        "marked.js",
        "index.js",
        "test.js",
        "marked.js"
      ]
    },
    "retrieved_documents": [
      {
        "id": "32a2843a-5deb-4e96-9b87-b69de90cc7b4",
        "score": 0.01639344262295082,
        "payload": {
          "text": "# marked\n\n> A full-featured markdown parser and compiler, written in javascript. Built\n> for speed.\n\n[![NPM version](https://badge.fury.io/js/marked.png)][badge]\n\n## Install\n\n``` bash\nnpm install marked --save\n```\n\n## Usage\n\nMinimal usage:\n\n```js\nconsole.log(marked('I am using __markdown__.'));\n// Outputs: <p>I am using <strong>markdown</strong>.</p>\n```\n\nExample using all options:\n\n```js\nmarked.setOptions({\n  gfm: true,\n  tables: true,\n  breaks: false,\n  pedantic: false,\n  sanitize: true,\n  smartLists: true,\n  smartypants: false,\n});\n\n// Using async version of marked\nmarked('I am using __markdown__.', function (err, content) {\n  if (err) throw err;\n  console.log(content);\n});\n```\n\n## marked(markdownString, [options], [callback])\n\n### markdownString\n\nType: `String`\n\nString of markdown source to be compiled.\n\n### options\n\nType: `Object`\n\nHash of options. Can also be set using the `marked.setOptions` method as seen\nabove.\n\n### callback\n\nType: `Function`\n\nFunction called when the `markdownString` has been fully parsed when using\nasync highlighting. If the `options` argument is omitted, this can be used as\nthe second argument as seen above:\n\n## Options\n\n### gfm\n\nType: `Boolean`\nDefault: `true`\n\nEnable [GitHub flavored markdown][gfm].\n\n### tables\n\nType: `Boolean`\nDefault: `true`\n\nEnable GFM [tables][tables].\nThis option requires the `gfm` option to be true.\n\n### breaks\n\nType: `Boolean`\nDefault: `false`\n\nEnable GFM [line breaks][breaks].\nThis option requires the `gfm` option to be true.\n\n### pedantic\n\nType: `Boolean`\nDefault: `false`\n\nConform to obscure parts of `markdown.pl` as much as possible. Don't fix any of\nthe original markdown bugs or poor behavior.\n\n### sanitize\n\nType: `Boolean`\nDefault: `false`\n\nSanitize the output. Ignore any HTML that has been input.\n\n### smartLists\n\nType: `Boolean`\nDefault: `true`\n\nUse smarter list behavior than the original markdown. May eventually be\ndefault with the old behavior moved into `pedantic`.\n\n### smartypants\n\nType: `Boolean`\nDefault: `false`\n\nUse \"smart\" typograhic punctuation for things like quotes and dashes.\n\n### renderer\n\nType: `Renderer`\nDefault: `new Renderer()`\n\nA renderer instance for rendering ast to html. Learn more on the Renderer\nsection.\n\n## Renderer\n\nRenderer is a the new way for rendering tokens to html. Here is a simple\nexample:\n\n```javascript\nvar r = new marked.Renderer()\nr.blockcode = function(code, lang) {\n  return highlight(lang, code).value;\n}\n\nconsole.log(marked(text, {renderer: r}))\n```\n\nYou can control anything you want.\n\n### Block Level\n\n- code(code, language)\n- blockquote(quote)\n- html(html)\n- heading(text, level)\n- hr()\n- list(body, ordered)\n- listitem(text)\n- paragraph(text)\n- table(header, body)\n- tablerow(content)\n- tablecell(content, flags)\n\n`flags` is an object like this:\n\n```\n{\n    header: true,\n    align: 'center'\n}\n```\n\n### Span Level\n\n- strong(text)\n- em(text)\n- codespan(code)\n- br()\n- del(text)\n- link(href, title, text)\n- image(href, title, text)\n\n## Access to lexer and parser\n\nYou also have direct access to the lexer and parser if you so desire.\n\n``` js\nvar tokens = marked.lexer(text, options);\nconsole.log(marked.parser(tokens));\n```\n\n``` js\nvar lexer = new marked.Lexer(options);\nvar tokens = lexer.lex(text);\nconsole.log(tokens);\nconsole.log(lexer.rules);\n```\n\n## CLI\n\n``` bash\n$ marked -o hello.html\nhello world\n^D\n$ cat hello.html\n<p>hello world</p>\n```\n\n## Benchmarks\n\nnode v0.4.x\n\n``` bash\n$ node test --bench\nmarked completed in 12071ms.\nshowdown (reuse converter) completed in 27387ms.\nshowdown (new converter) completed in 75617ms.\nmarkdown-js completed in 70069ms.\n```\n\nnode v0.6.x\n\n``` bash\n$ node test --bench\nmarked completed in 6448ms.\nmarked (gfm) completed in 7357ms.\nmarked (pedantic) completed in 6092ms.\ndiscount completed in 7314ms.\nshowdown (reuse converter) completed in 16018ms.\nshowdown (new converter) completed in 18234ms.\nmarkdown-js completed in 24270ms.\n```\n\n__Marked is now faster than Discount, which is written in C.__\n\nFor those feeling skeptical: These benchmarks run the entire markdown test suite\n1000 times. The test suite tests every feature. It doesn't cater to specific\naspects.\n\nnode v0.8.x\n\n``` bash\n$ node test --bench\nmarked completed in 3411ms.\nmarked (gfm) completed in 3727ms.\nmarked (pedantic) completed in 3201ms.\nrobotskirt completed in 808ms.\nshowdown (reuse converter) completed in 11954ms.\nshowdown (new converter) completed in 17774ms.\nmarkdown-js completed in 17191ms.\n```\n\n## Another Javascript Markdown Parser\n\nThe point of marked was to create a markdown compiler where it was possible to\nfrequently parse huge chunks of markdown without having to worry about\ncaching the compiled output somehow...or blocking for an unnecesarily long time.\n\nmarked is very concise and still implements all markdown features. It is also\nnow fully compatible with the client-side.\n\nmarked more or less passes the official markdown test suite in its\nentirety. This is important because a surprising number of markdown compilers\ncannot pass more than a few tests. It was very difficult to get marked as\ncompliant as it is. It could have cut corners in several areas for the sake\nof performance, but did not in order to be exactly what you expect in terms\nof a markdown rendering. In fact, this is why marked could be considered at a\ndisadvantage in the benchmarks above.\n\nAlong with implementing every markdown feature, marked also implements [GFM\nfeatures][gfmf].\n\n### High level\n\nYou can customize the result with a customized renderer.\n\n``` js\nvar renderer = new marked.Renderer()\n\nrenderer.heading = function(text, level) {\n  return '<div class=\"h-' + level + '\">' + text + '</div>'\n}\n\nvar parse = function(src, options) {\n  options = options || {};\n  options.renderer = renderer\n  return marked.parser(marked.lexer(src, options), options);\n}\n\nconsole.log(parse('# h1'))\n```\n\nThe renderer API:\n\n```\ncode: function(code, lang)\nblockquote: function(text)\nhtml: function(html)\n\nheading: function(text, level)\nparagraph: function(text)\n\nhr: function()\n\nlist: function(contents, isOrdered)\nlistitem: function(text)\n\ntable: function(header, body)\ntablerow: function(content)\ntablecell: function(text, flags)\n// flags: {header: false, align: 'center'}\n```\n\n### Pro level\n\nYou also have direct access to the lexer and parser if you so desire.\n\n``` js\nvar tokens = marked.lexer(text, options);\nconsole.log(marked.parser(tokens));\n```\n\n``` js\nvar lexer = new marked.Lexer(options);\nvar tokens = lexer.lex(text);\nconsole.log(tokens);\nconsole.log(lexer.rules);\n```\n\n``` bash\n$ node\n> require('marked').lexer('> i am using marked.')\n[ { type: 'blockquote_start' },\n  { type: 'paragraph',\n    text: 'i am using marked.' },\n  { type: 'blockquote_end' },\n  links: {} ]\n```\n\n## Running Tests & Contributing\n\nIf you want to submit a pull request, make sure your changes pass the test\nsuite. If you're adding a new feature, be sure to add your own test.\n\nThe marked test suite is set up slightly strangely: `test/new` is for all tests\nthat are not part of the original markdown.pl test suite (this is where your\ntest should go if you make one). `test/original` is only for the original\nmarkdown.pl tests. `test/tests` houses both types of tests after they have been\ncombined and moved/generated by running `node test --fix` or `marked --test\n--fix`.\n\nIn other words, if you have a test to add, add it to `test/new/` and then\nregenerate the tests with `node test --fix`. Commit the result. If your test\nuses a certain feature, for example, maybe it assumes GFM is *not* enabled, you\ncan add `.nogfm` to the filename. So, `my-test.text` becomes\n`my-test.nogfm.text`. You can do this with any marked option. Say you want\nline breaks and smartypants enabled, your filename should be:\n`my-test.breaks.smartypants.text`.\n\nTo run the tests:\n\n``` bash\ncd marked/\nnode test\n```\n\n### Contribution and License Agreement\n\nIf you contribute code to this project, you are implicitly allowing your code\nto be distributed under the MIT license. You are also implicitly verifying that\nall code is your original work. `</legalese>`\n\n## License\n\nCopyright (c) 2011-2013, Christopher Jeffrey. (MIT License)\n\nSee LICENSE for more info.\n\n[gfm]: https://help.github.com/articles/github-flavored-markdown\n[gfmf]: http://github.github.com/github-flavored-markdown/\n[pygmentize]: https://github.com/rvagg/node-pygmentize-bundled\n[highlight]: https://github.com/isagalaev/highlight.js\n[badge]: http://badge.fury.io/js/marked\n[tables]: https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet#wiki-tables\n[breaks]: https://help.github.com/articles/github-flavored-markdown#newlines\n",
          "filepath": "data/repos/markedjs/marked-0.3/README.md",
          "repo": "markedjs/marked",
          "version": "0.3",
          "chunk_index": 0,
          "chunk_id": "32a2843a-5deb-4e96-9b87-b69de90cc7b4"
        }
      },
      {
        "id": "9891e658-b36b-4467-96e7-226444400c88",
        "score": 0.016129032258064516,
        "payload": {
          "text": "/**\n * marked - a markdown parser\n * Copyright (c) 2011-2013, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/chjj/marked\n */\n\n;(function() {\n\n/**\n * Block-Level Grammar\n */\n\nvar block = {\n  newline: /^\\n+/,\n  code: /^( {4}[^\\n]+\\n*)+/,\n  fences: noop,\n  hr: /^( *[-*_]){3,} *(?:\\n+|$)/,\n  heading: /^ *(#{1,6}) *([^\\n]+?) *#* *(?:\\n+|$)/,\n  nptable: noop,\n  lheading: /^([^\\n]+)\\n *(=|-){2,} *(?:\\n+|$)/,\n  blockquote: /^( *>[^\\n]+(\\n[^\\n]+)*\\n*)+/,\n  list: /^( *)(bull) [\\s\\S]+?(?:hr|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/,\n  html: /^ *(?:comment|closed|closing) *(?:\\n{2,}|\\s*$)/,\n  def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +[\"(]([^\\n]+)[\")])? *(?:\\n+|$)/,\n  table: noop,\n  paragraph: /^((?:[^\\n]+\\n?(?!hr|heading|lheading|blockquote|tag|def))+)\\n*/,\n  text: /^[^\\n]+/\n};\n\nblock.bullet = /(?:[*+-]|\\d+\\.)/;\nblock.item = /^( *)(bull) [^\\n]*(?:\\n(?!\\1bull )[^\\n]*)*/;\nblock.item = replace(block.item, 'gm')\n  (/bull/g, block.bullet)\n  ();\n\nblock.list = replace(block.list)\n  (/bull/g, block.bullet)\n  ('hr', /\\n+(?=(?: *[-*_]){3,} *(?:\\n+|$))/)\n  ();\n\nblock._tag = '(?!(?:'\n  + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code'\n  + '|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo'\n  + '|span|br|wbr|ins|del|img)\\\\b)\\\\w+(?!:/|@)\\\\b';\n\nblock.html = replace(block.html)\n  ('comment', /<!--[\\s\\S]*?-->/)\n  ('closed', /<(tag)[\\s\\S]+?<\\/\\1>/)\n  ('closing', /<tag(?:\"[^\"]*\"|'[^']*'|[^'\">])*?>/)\n  (/tag/g, block._tag)\n  ();\n\nblock.paragraph = replace(block.paragraph)\n  ('hr', block.hr)\n  ('heading', block.heading)\n  ('lheading', block.lheading)\n  ('blockquote', block.blockquote)\n  ('tag', '<' + block._tag)\n  ('def', block.def)\n  ();\n\n/**\n * Normal Block Grammar\n */\n\nblock.normal = merge({}, block);\n\n/**\n * GFM Block Grammar\n */\n\nblock.gfm = merge({}, block.normal, {\n  fences: /^ *(`{3,}|~{3,}) *(\\S+)? *\\n([\\s\\S]+?)\\s*\\1 *(?:\\n+|$)/,\n  paragraph: /^/\n});\n\nblock.gfm.paragraph = replace(block.paragraph)\n  ('(?!', '(?!'\n    + block.gfm.fences.source.replace('\\\\1', '\\\\2') + '|'\n    + block.list.source.replace('\\\\1', '\\\\3') + '|')\n  ();\n\n/**\n * GFM + Tables Block Grammar\n */\n\nblock.tables = merge({}, block.gfm, {\n  nptable: /^ *(\\S.*\\|.*)\\n *([-:]+ *\\|[-| :]*)\\n((?:.*\\|.*(?:\\n|$))*)\\n*/,\n  table: /^ *\\|(.+)\\n *\\|( *[-:]+[-| :]*)\\n((?: *\\|.*(?:\\n|$))*)\\n*/\n});\n\n/**\n * Block Lexer\n */\n\nfunction Lexer(options) {\n  this.tokens = [];\n  this.tokens.links = {};\n  this.options = options || marked.defaults;\n  this.rules = block.normal;\n\n  if (this.options.gfm) {\n    if (this.options.tables) {\n      this.rules = block.tables;\n    } else {\n      this.rules = block.gfm;\n    }\n  }\n}\n\n/**\n * Expose Block Rules\n */\n\nLexer.rules = block;\n\n/**\n * Static Lex Method\n */\n\nLexer.lex = function(src, options) {\n  var lexer = new Lexer(options);\n  return lexer.lex(src);\n};\n\n/**\n * Preprocessing\n */\n\nLexer.prototype.lex = function(src) {\n  src = src\n    .replace(/\\r\\n|\\r/g, '\\n')\n    .replace(/\\t/g, '    ')\n    .replace(/\\u00a0/g, ' ')\n    .replace(/\\u2424/g, '\\n');\n\n  return this.token(src, true);\n};\n\n/**\n * Lexing\n */\n\nLexer.prototype.token = function(src, top) {\n  var src = src.replace(/^ +$/gm, '')\n    , next\n    , loose\n    , cap\n    , bull\n    , b\n    , item\n    , space\n    , i\n    , l;\n\n  while (src) {\n    // newline\n    if (cap = this.rules.newline.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[0].length > 1) {\n        this.tokens.push({\n          type: 'space'\n        });\n      }\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      cap = cap[0].replace(/^ {4}/gm, '');\n      this.tokens.push({\n        type: 'code',\n        text: !this.options.pedantic\n          ? cap.replace(/\\n+$/, '')\n          : cap\n      });\n      continue;\n    }\n\n    // fences (gfm)\n    if (cap = this.rules.fences.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'code',\n        lang: cap[2],\n        text: cap[3]\n      });\n      continue;\n    }\n\n    // heading\n    if (cap = this.rules.heading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[1].length,\n        text: cap[2]\n      });\n      continue;\n    }\n\n    // table no leading pipe (gfm)\n    if (top && (cap = this.rules.nptable.exec(src))) {\n      src = src.substring(cap[0].length);\n\n      item = {\n        type: 'table',\n        header: cap[1].replace(/^ *| *\\| *$/g, '').split(/ *\\| */),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3].replace(/\\n$/, '').split('\\n')\n      };\n\n      for (i = 0; i < item.align.length; i++) {\n        if (/^ *-+: *$/.test(item.align[i])) {\n          item.align[i] = 'right';\n        } else if (/^ *:-+: *$/.test(item.align[i])) {\n          item.align[i] = 'center';\n        } else if (/^ *:-+ *$/.test(item.align[i])) {\n          item.align[i] = 'left';\n        } else {\n          item.align[i] = null;\n        }\n      }\n\n      for (i = 0; i < item.cells.length; i++) {\n        item.cells[i] = item.cells[i].split(/ *\\| */);\n      }\n\n      this.tokens.push(item);\n\n      continue;\n    }\n\n    // lheading\n    if (cap = this.rules.lheading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[2] === '=' ? 1 : 2,\n        text: cap[1]\n      });\n      continue;\n    }\n\n    // hr\n    if (cap = this.rules.hr.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'hr'\n      });\n      continue;\n    }\n\n    // blockquote\n    if (cap = this.rules.blockquote.exec(src)) {\n      src = src.substring(cap[0].length);\n\n      this.tokens.push({\n        type: 'blockquote_start'\n      });\n\n      cap = cap[0].replace(/^ *> ?/gm, '');\n\n      // Pass `top` to keep the current\n      // \"toplevel\" state. This is exactly\n      // how markdown.pl works.\n      this.token(cap, top);\n\n      this.tokens.push({\n        type: 'blockquote_end'\n      });\n\n      continue;\n    }\n\n    // list\n    if (cap = this.rules.list.exec(src)) {\n      src = src.substring(cap[0].length);\n      bull = cap[2];\n\n      this.tokens.push({\n        type: 'list_start',\n        ordered: bull.length > 1\n      });\n\n      // Get each top-level item.\n      cap = cap[0].match(this.rules.item);\n\n      next = false;\n      l = cap.length;\n      i = 0;\n\n      for (; i < l; i++) {\n        item = cap[i];\n\n        // Remove the list item's bullet\n        // so it is seen as the next token.\n        space = item.length;\n        item = item.replace(/^ *([*+-]|\\d+\\.) +/, '');\n\n        // Outdent whatever the\n        // list item contains. Hacky.\n        if (~item.indexOf('\\n ')) {\n          space -= item.length;\n          item = !this.options.pedantic\n            ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '')\n            : item.replace(/^ {1,4}/gm, '');\n        }\n\n        // Determine whether the next list item belongs here.\n        // Backpedal if it does not belong in this list.\n        if (this.options.smartLists && i !== l - 1) {\n          b = block.bullet.exec(cap[i + 1])[0];\n          if (bull !== b && !(bull.length > 1 && b.length > 1)) {\n            src = cap.slice(i + 1).join('\\n') + src;\n            i = l - 1;\n          }\n        }\n\n        // Determine whether item is loose or not.\n        // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n        // for discount behavior.\n        loose = next || /\\n\\n(?!\\s*$)/.test(item);\n        if (i !== l - 1) {\n          next = item.charAt(item.length - 1) === '\\n';\n          if (!loose) loose = next;\n        }\n\n        this.tokens.push({\n          type: loose\n            ? 'loose_item_start'\n            : 'list_item_start'\n        });\n\n        // Recurse.\n        this.token(item, false);\n\n        this.tokens.push({\n          type: 'list_item_end'\n        });\n      }\n\n      this.tokens.push({\n        type: 'list_end'\n      });\n\n      continue;\n    }\n\n    // html\n    if (cap = this.rules.html.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: this.options.sanitize\n          ? 'paragraph'\n          : 'html',\n        pre: cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style',\n        text: cap[0]\n      });\n      continue;\n    }\n\n    // def\n    if (top && (cap = this.rules.def.exec(src))) {\n      src = src.substring(cap[0].length);\n      this.tokens.links[cap[1].toLowerCase()] = {\n        href: cap[2],\n        title: cap[3]\n      };\n      continue;\n    }\n\n    // table (gfm)\n    if (top && (cap = this.rules.table.exec(src))) {\n      src = src.substring(cap[0].length);\n\n      item = {\n        type: 'table',\n        header: cap[1].replace(/^ *| *\\| *$/g, '').split(/ *\\| */),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3].replace(/(?: *\\| *)?\\n$/, '').split('\\n')\n      };\n\n      for (i = 0; i < item.align.length; i++) {\n        if (/^ *-+: *$/.test(item.align[i])) {\n          item.align[i] = 'right';\n        } else if (/^ *:-+: *$/.test(item.align[i])) {\n          item.align[i] = 'center';\n        } else if (/^ *:-+ *$/.test(item.align[i])) {\n          item.align[i] = 'left';\n        } else {\n          item.align[i] = null;\n        }\n      }\n\n      for (i = 0; i < item.cells.length; i++) {\n        item.cells[i] = item.cells[i]\n          .replace(/^ *\\| *| *\\| *$/g, '')\n          .split(/ *\\| */);\n      }\n\n      this.tokens.push(item);\n\n      continue;\n    }\n\n    // top-level paragraph\n    if (top && (cap = this.rules.paragraph.exec(src))) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'paragraph',\n        text: cap[1].charAt(cap[1].length - 1) === '\\n'\n          ? cap[1].slice(0, -1)\n          : cap[1]\n      });\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      // Top-level should never reach here.\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'text',\n        text: cap[0]\n      });\n      continue;\n    }\n\n    if (src) {\n      throw new\n        Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return this.tokens;\n};\n\n/**\n * Inline-Level Grammar\n */\n\nvar inline = {\n  escape: /^\\\\([\\\\`*{}\\[\\]()#+\\-.!_>])/,\n  autolink: /^<([^ >]+(@|:\\/)[^ >]+)>/,\n  url: noop,\n  tag: /^<!--[\\s\\S]*?-->|^<\\/?\\w+(?:\"[^\"]*\"|'[^']*'|[^'\">])*?>/,\n  link: /^!?\\[(inside)\\]\\(href\\)/,\n  reflink: /^!?\\[(inside)\\]\\s*\\[([^\\]]*)\\]/,\n  nolink: /^!?\\[((?:\\[[^\\]]*\\]|[^\\[\\]])*)\\]/,\n  strong: /^__([\\s\\S]+?)__(?!_)|^\\*\\*([\\s\\S]+?)\\*\\*(?!\\*)/,\n  em: /^\\b_((?:__|[\\s\\S])+?)_\\b|^\\*((?:\\*\\*|[\\s\\S])+?)\\*(?!\\*)/,\n  code: /^(`+)\\s*([\\s\\S]*?[^`])\\s*\\1(?!`)/,\n  br: /^ {2,}\\n(?!\\s*$)/,\n  del: noop,\n  text: /^[\\s\\S]+?(?=[\\\\<!\\[_*`]| {2,}\\n|$)/\n};\n\ninline._inside = /(?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*/;\ninline._href = /\\s*<?([\\s\\S]*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*/;\n\ninline.link = replace(inline.link)\n  ('inside', inline._inside)\n  ('href', inline._href)\n  ();\n\ninline.reflink = replace(inline.reflink)\n  ('inside', inline._inside)\n  ();\n\n/**\n * Normal Inline Grammar\n */\n\ninline.normal = merge({}, inline);\n\n/**\n * Pedantic Inline Grammar\n */\n\ninline.pedantic = merge({}, inline.normal, {\n  strong: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n  em: /^_(?=\\S)([\\s\\S]*?\\S)_(?!_)|^\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)/\n});\n\n/**\n * GFM Inline Grammar\n */\n\ninline.gfm = merge({}, inline.normal, {\n  escape: replace(inline.escape)('])', '~|])')(),\n  url: /^(https?:\\/\\/[^\\s<]+[^<.,:;\"')\\]\\s])/,\n  del: /^~~(?=\\S)([\\s\\S]*?\\S)~~/,\n  text: replace(inline.text)\n    (']|', '~]|')\n    ('|', '|https?://|')\n    ()\n});\n\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\ninline.breaks = merge({}, inline.gfm, {\n  br: replace(inline.br)('{2,}', '*')(),\n  text: replace(inline.gfm.text)('{2,}', '*')()\n});\n\n/**\n * Inline Lexer & Compiler\n */\n\nfunction InlineLexer(links, options) {\n  this.options = options || marked.defaults;\n  this.links = links;\n  this.rules = inline.normal;\n  this.renderer = this.options.renderer || new Renderer;\n\n  if (!this.links) {\n    throw new\n      Error('Tokens array requires a `links` property.');\n  }\n\n  if (this.options.gfm) {\n    if (this.options.breaks) {\n      this.rules = inline.breaks;\n    } else {\n      this.rules = inline.gfm;\n    }\n  } else if (this.options.pedantic) {\n    this.rules = inline.pedantic;\n  }\n}\n\n/**\n * Expose Inline Rules\n */\n\nInlineLexer.rules = inline;\n\n/**\n * Static Lexing/Compiling Method\n */\n\nInlineLexer.output = function(src, links, options) {\n  var inline = new InlineLexer(links, options);\n  return inline.output(src);\n};\n\n/**\n * Lexing/Compiling\n */\n\nInlineLexer.prototype.output = function(src) {\n  var out = ''\n    , link\n    , text\n    , href\n    , cap;\n\n  while (src) {\n    // escape\n    if (cap = this.rules.escape.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += cap[1];\n      continue;\n    }\n\n    // autolink\n    if (cap = this.rules.autolink.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[2] === '@') {\n        text = cap[1].charAt(6) === ':'\n          ? this.mangle(cap[1].substring(7))\n          : this.mangle(cap[1]);\n        href = this.mangle('mailto:') + text;\n      } else {\n        text = escape(cap[1]);\n        href = text;\n      }\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // url (gfm)\n    if (cap = this.rules.url.exec(src)) {\n      src = src.substring(cap[0].length);\n      text = escape(cap[1]);\n      href = text;\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // tag\n    if (cap = this.rules.tag.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.options.sanitize\n        ? escape(cap[0])\n        : cap[0];\n      continue;\n    }\n\n    // link\n    if (cap = this.rules.link.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.outputLink(cap, {\n        href: cap[2],\n        title: cap[3]\n      });\n      continue;\n    }\n\n    // reflink, nolink\n    if ((cap = this.rules.reflink.exec(src))\n        || (cap = this.rules.nolink.exec(src))) {\n      src = src.substring(cap[0].length);\n      link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n      link = this.links[link.toLowerCase()];\n      if (!link || !link.href) {\n        out += cap[0].charAt(0);\n        src = cap[0].substring(1) + src;\n        continue;\n      }\n      out += this.outputLink(cap, link);\n      continue;\n    }\n\n    // strong\n    if (cap = this.rules.strong.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.strong(this.output(cap[2] || cap[1]));\n      continue;\n    }\n\n    // em\n    if (cap = this.rules.em.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.em(this.output(cap[2] || cap[1]));\n      continue;\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.codespan(escape(cap[2], true));\n      continue;\n    }\n\n    // br\n    if (cap = this.rules.br.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.br();\n      continue;\n    }\n\n    // del (gfm)\n    if (cap = this.rules.del.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.del(this.output(cap[1]));\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += escape(this.smartypants(cap[0]));\n      continue;\n    }\n\n    if (src) {\n      throw new\n        Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return out;\n};\n\n/**\n * Compile Link\n */\n\nInlineLexer.prototype.outputLink = function(cap, link) {\n  var href = escape(link.href)\n    , title = link.title ? escape(link.title) : null;\n\n  return cap[0].charAt(0) !== '!'\n    ? this.renderer.link(href, title, this.output(cap[1]))\n    : this.renderer.image(href, title, escape(cap[1]));\n};\n\n/**\n * Smartypants Transformations\n */\n\nInlineLexer.prototype.smartypants = function(text) {\n  if (!this.options.smartypants) return text;\n  return text\n    // em-dashes\n    .replace(/--/g, '\\u2014')\n    // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, '$1\\u2018')\n    // closing singles & apostrophes\n    .replace(/'/g, '\\u2019')\n    // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, '$1\\u201c')\n    // closing doubles\n    .replace(/\"/g, '\\u201d')\n    // ellipses\n    .replace(/\\.{3}/g, '\\u2026');\n};\n\n/**\n * Mangle Links\n */\n\nInlineLexer.prototype.mangle = function(text) {\n  var out = ''\n    , l = text.length\n    , i = 0\n    , ch;\n\n  for (; i < l; i++) {\n    ch = text.charCodeAt(i);\n    if (Math.random() > 0.5) {\n      ch = 'x' + ch.toString(16);\n    }\n    out += '&#' + ch + ';';\n  }\n\n  return out;\n};\n\n/**\n * Renderer\n */\n\nfunction Renderer() {}\n\nRenderer.prototype.code = function(code, lang, escaped, options) {\n  options = options || {};\n\n  if (options.highlight) {\n    var out = options.highlight(code, lang);\n    if (out != null && out !== code) {\n      escaped = true;\n      code = out;\n    }\n  }\n\n  if (!lang) {\n    return '<pre><code>'\n      + (escaped ? code : escape(code, true))\n      + '\\n</code></pre>';\n  }\n\n  return '<pre><code class=\"'\n    + options.langPrefix\n    + lang\n    + '\">'\n    + (escaped ? code : escape(code))\n    + '\\n</code></pre>\\n';\n};\n\nRenderer.prototype.blockquote = function(quote) {\n  return '<blockquote>\\n' + quote + '</blockquote>\\n';\n};\n\nRenderer.prototype.html = function(html) {\n  return html;\n};\n\nRenderer.prototype.heading = function(text, level, raw, options) {\n  return '<h'\n    + level\n    + ' id=\"'\n    + options.headerPrefix\n    + raw.toLowerCase().replace(/[^\\w]+/g, '-')\n    + '\">'\n    + text\n    + '</h'\n    + level\n    + '>\\n';\n};\n\nRenderer.prototype.hr = function() {\n  return '<hr>\\n';\n};\n\nRenderer.prototype.list = function(body, ordered) {\n  var type = ordered ? 'ol' : 'ul';\n  return '<' + type + '>\\n' + body + '</' + type + '>\\n';\n};\n\nRenderer.prototype.listitem = function(text) {\n  return '<li>' + text + '</li>\\n';\n};\n\nRenderer.prototype.paragraph = function(text) {\n  return '<p>' + text + '</p>\\n';\n};\n\nRenderer.prototype.table = function(header, body) {\n  return '<table>\\n'\n    + '<thead>\\n'\n    + header\n    + '</thead>\\n'\n    + '<tbody>\\n'\n    + body\n    + '</tbody>\\n'\n    + '</table>\\n';\n};\n\nRenderer.prototype.tablerow = function(content) {\n  return '<tr>\\n' + content + '</tr>\\n';\n};\n\nRenderer.prototype.tablecell = function(content, flags) {\n  var type = flags.header ? 'th' : 'td';\n  var tag = flags.align\n    ? '<' + type + ' style=\"text-align:' + flags.align + '\">'\n    : '<' + type + '>';\n  return tag + content + '</' + type + '>\\n';\n};\n\n// span level renderer\nRenderer.prototype.strong = function(text) {\n  return '<strong>' + text + '</strong>';\n};\n\nRenderer.prototype.em = function(text) {\n  return '<em>' + text + '</em>';\n};\n\nRenderer.prototype.codespan = function(text) {\n  return '<code>' + text + '</code>';\n};\n\nRenderer.prototype.br = function() {\n  return '<br>';\n};\n\nRenderer.prototype.del = function(text) {\n  return '<del>' + text + '</del>';\n};\n\nRenderer.prototype.link = function(href, title, text) {\n  var out = '<a href=\"' + href + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += '>' + text + '</a>';\n  return out;\n};\n\nRenderer.prototype.image = function(href, title, text) {\n  var out = '<img src=\"' + href + '\" alt=\"' + text + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += '>';\n  return out;\n};\n\n/**\n * Parsing & Compiling\n */\n\nfunction Parser(options) {\n  this.tokens = [];\n  this.token = null;\n  this.options = options || marked.defaults;\n  this.options.renderer = this.options.renderer || new Renderer;\n  this.renderer = this.options.renderer;\n}\n\n/**\n * Static Parse Method\n */\n\nParser.parse = function(src, options, renderer) {\n  var parser = new Parser(options, renderer);\n  return parser.parse(src);\n};\n\n/**\n * Parse Loop\n */\n\nParser.prototype.parse = function(src) {\n  this.inline = new InlineLexer(src.links, this.options, this.renderer);\n  this.tokens = src.reverse();\n\n  var out = '';\n  while (this.next()) {\n    out += this.tok();\n  }\n\n  return out;\n};\n\n/**\n * Next Token",
          "filepath": "data/repos/markedjs/marked-0.3/lib/marked.js",
          "repo": "markedjs/marked",
          "version": "0.3",
          "chunk_index": 0,
          "chunk_id": "9891e658-b36b-4467-96e7-226444400c88"
        }
      },
      {
        "id": "6c8a9cf7-22c0-4769-9a33-6214fc147506",
        "score": 0.015873015873015872,
        "payload": {
          "text": "#!/usr/bin/env node\n\n/**\n * marked tests\n * Copyright (c) 2011-2013, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/chjj/marked\n */\n\n/**\n * Modules\n */\n\nvar fs = require('fs')\n  , path = require('path')\n  , marked = require('../');\n\n/**\n * Load Tests\n */\n\nfunction load() {\n  var dir = __dirname + '/tests'\n    , files = {}\n    , list\n    , file\n    , i\n    , l;\n\n  list = fs\n    .readdirSync(dir)\n    .filter(function(file) {\n      return path.extname(file) !== '.html';\n    })\n    .sort(function(a, b) {\n      a = path.basename(a).toLowerCase().charCodeAt(0);\n      b = path.basename(b).toLowerCase().charCodeAt(0);\n      return a > b ? 1 : (a < b ? -1 : 0);\n    });\n\n  i = 0;\n  l = list.length;\n\n  for (; i < l; i++) {\n    file = path.join(dir, list[i]);\n    files[path.basename(file)] = {\n      text: fs.readFileSync(file, 'utf8'),\n      html: fs.readFileSync(file.replace(/[^.]+$/, 'html'), 'utf8')\n    };\n  }\n\n  return files;\n}\n\n/**\n * Test Runner\n */\n\nfunction runTests(engine, options) {\n  if (typeof engine !== 'function') {\n    options = engine;\n    engine = null;\n  }\n\n  var engine = engine || marked\n    , options = options || {}\n    , files = options.files || load()\n    , complete = 0\n    , failed = 0\n    , failures = []\n    , keys = Object.keys(files)\n    , i = 0\n    , len = keys.length\n    , filename\n    , file\n    , flags\n    , text\n    , html\n    , j\n    , l;\n\n  if (options.marked) {\n    marked.setOptions(options.marked);\n  }\n\nmain:\n  for (; i < len; i++) {\n    filename = keys[i];\n    file = files[filename];\n\n    if (marked._original) {\n      marked.defaults = marked._original;\n      delete marked._original;\n    }\n\n    flags = filename.split('.').slice(1, -1);\n    if (flags.length) {\n      marked._original = marked.defaults;\n      marked.defaults = {};\n      Object.keys(marked._original).forEach(function(key) {\n        marked.defaults[key] = marked._original[key];\n      });\n      flags.forEach(function(key) {\n        var val = true;\n        if (key.indexOf('no') === 0) {\n          key = key.substring(2);\n          val = false;\n        }\n        if (marked.defaults.hasOwnProperty(key)) {\n          marked.defaults[key] = val;\n        }\n      });\n    }\n\n    try {\n      text = engine(file.text).replace(/\\s/g, '');\n      html = file.html.replace(/\\s/g, '');\n    } catch(e) {\n      console.log('%s failed.', filename);\n      throw e;\n    }\n\n    j = 0;\n    l = html.length;\n\n    for (; j < l; j++) {\n      if (text[j] !== html[j]) {\n        failed++;\n        failures.push(filename);\n\n        text = text.substring(\n          Math.max(j - 30, 0),\n          Math.min(j + 30, text.length));\n\n        html = html.substring(\n          Math.max(j - 30, 0),\n          Math.min(j + 30, html.length));\n\n        console.log(\n          '\\n#%d. %s failed at offset %d. Near: \"%s\".\\n',\n          i + 1, filename, j, text);\n\n        console.log('\\nGot:\\n%s\\n', text.trim() || text);\n        console.log('\\nExpected:\\n%s\\n', html.trim() || html);\n\n        if (options.stop) {\n          break main;\n        }\n\n        continue main;\n      }\n    }\n\n    complete++;\n    console.log('#%d. %s completed.', i + 1, filename);\n  }\n\n  console.log('%d/%d tests completed successfully.', complete, len);\n  if (failed) console.log('%d/%d tests failed.', failed, len);\n\n  // Tests currently failing.\n  if (~failures.indexOf('def_blocks.text')\n      && ~failures.indexOf('double_link.text')\n      && ~failures.indexOf('gfm_code_hr_list.text')) {\n    failed -= 3;\n  }\n\n  return !failed;\n}\n\n/**\n * Benchmark a function\n */\n\nfunction bench(name, func) {\n  var files = bench.files || load();\n\n  if (!bench.files) {\n    bench.files = files;\n\n    // Change certain tests to allow\n    // comparison to older benchmark times.\n    fs.readdirSync(__dirname + '/new').forEach(function(name) {\n      if (path.extname(name) === '.html') return;\n      if (name === 'main.text') return;\n      delete files[name];\n    });\n\n    files['backslash_escapes.text'] = {\n      text: 'hello world \\\\[how](are you) today'\n    };\n\n    files['main.text'].text = files['main.text'].text.replace('* * *\\n\\n', '');\n  }\n\n  var start = Date.now()\n    , times = 1000\n    , keys = Object.keys(files)\n    , i\n    , l = keys.length\n    , filename\n    , file;\n\n  while (times--) {\n    for (i = 0; i < l; i++) {\n      filename = keys[i];\n      file = files[filename];\n      func(file.text);\n    }\n  }\n\n  console.log('%s completed in %dms.', name, Date.now() - start);\n}\n\n/**\n * Benchmark all engines\n */\n\nfunction runBench(options) {\n  var options = options || {};\n\n  // Non-GFM, Non-pedantic\n  marked.setOptions({\n    gfm: false,\n    tables: false,\n    breaks: false,\n    pedantic: false,\n    sanitize: false,\n    smartLists: false\n  });\n  if (options.marked) {\n    marked.setOptions(options.marked);\n  }\n  bench('marked', marked);\n\n  // GFM\n  marked.setOptions({\n    gfm: true,\n    tables: false,\n    breaks: false,\n    pedantic: false,\n    sanitize: false,\n    smartLists: false\n  });\n  if (options.marked) {\n    marked.setOptions(options.marked);\n  }\n  bench('marked (gfm)', marked);\n\n  // Pedantic\n  marked.setOptions({\n    gfm: false,\n    tables: false,\n    breaks: false,\n    pedantic: true,\n    sanitize: false,\n    smartLists: false\n  });\n  if (options.marked) {\n    marked.setOptions(options.marked);\n  }\n  bench('marked (pedantic)', marked);\n\n  // robotskirt\n  try {\n    bench('robotskirt', (function() {\n      var rs = require('robotskirt');\n      return function(text) {\n        var parser = rs.Markdown.std();\n        return parser.render(text);\n      };\n    })());\n  } catch (e) {\n    console.log('Could not bench robotskirt.');\n  }\n\n  // showdown\n  try {\n    bench('showdown (reuse converter)', (function() {\n      var Showdown = require('showdown');\n      var convert = new Showdown.converter();\n      return function(text) {\n        return convert.makeHtml(text);\n      };\n    })());\n    bench('showdown (new converter)', (function() {\n      var Showdown = require('showdown');\n      return function(text) {\n        var convert = new Showdown.converter();\n        return convert.makeHtml(text);\n      };\n    })());\n  } catch (e) {\n    console.log('Could not bench showdown.');\n  }\n\n  // markdown.js\n  try {\n    bench('markdown.js', require('markdown').parse);\n  } catch (e) {\n    console.log('Could not bench markdown.js.');\n  }\n}\n\n/**\n * A simple one-time benchmark\n */\n\nfunction time(options) {\n  var options = options || {};\n  if (options.marked) {\n    marked.setOptions(options.marked);\n  }\n  bench('marked', marked);\n}\n\n/**\n * Markdown Test Suite Fixer\n *   This function is responsible for \"fixing\"\n *   the markdown test suite. There are\n *   certain aspects of the suite that\n *   are strange or might make tests\n *   fail for reasons unrelated to\n *   conformance.\n */\n\nfunction fix(options) {\n  ['tests', 'original', 'new'].forEach(function(dir) {\n    try {\n      fs.mkdirSync(path.resolve(__dirname, dir), 0755);\n    } catch (e) {\n      ;\n    }\n  });\n\n  // rm -rf tests\n  fs.readdirSync(path.resolve(__dirname, 'tests')).forEach(function(file) {\n    fs.unlinkSync(path.resolve(__dirname, 'tests', file));\n  });\n\n  // cp -r original tests\n  fs.readdirSync(path.resolve(__dirname, 'original')).forEach(function(file) {\n    var nfile = file;\n    if (file.indexOf('hard_wrapped_paragraphs_with_list_like_lines.') === 0) {\n      nfile = file.replace(/\\.(text|html)$/, '.nogfm.$1');\n    }\n    fs.writeFileSync(path.resolve(__dirname, 'tests', nfile),\n      fs.readFileSync(path.resolve(__dirname, 'original', file)));\n  });\n\n  // node fix.js\n  var dir = __dirname + '/tests';\n\n  fs.readdirSync(dir).filter(function(file) {\n    return path.extname(file) === '.html';\n  }).forEach(function(file) {\n    var file = path.join(dir, file)\n      , html = fs.readFileSync(file, 'utf8');\n\n    // fix unencoded quotes\n    html = html\n      .replace(/='([^\\n']*)'(?=[^<>\\n]*>)/g, '=&__APOS__;$1&__APOS__;')\n      .replace(/=\"([^\\n\"]*)\"(?=[^<>\\n]*>)/g, '=&__QUOT__;$1&__QUOT__;')\n      .replace(/\"/g, '&quot;')\n      .replace(/'/g, '&#39;')\n      .replace(/&__QUOT__;/g, '\"')\n      .replace(/&__APOS__;/g, '\\'');\n\n    // add heading id's\n    html = html.replace(/<(h[1-6])>([^<]+)<\\/\\1>/g, function(s, h, text) {\n      var id = text\n        .replace(/&#39;/g, '\\'')\n        .replace(/&quot;/g, '\"')\n        .replace(/&gt;/g, '>')\n        .replace(/&lt;/g, '<')\n        .replace(/&amp;/g, '&');\n\n      id = id.toLowerCase().replace(/[^\\w]+/g,\u00a0'-');\n\n      return '<' + h + ' id=\"' + id + '\">' + text + '</' + h + '>';\n    });\n\n    fs.writeFileSync(file, html);\n  });\n\n  // turn <hr /> into <hr>\n  fs.readdirSync(dir).forEach(function(file) {\n    var file = path.join(dir, file)\n      , text = fs.readFileSync(file, 'utf8');\n\n    text = text.replace(/(<|&lt;)hr\\s*\\/(>|&gt;)/g, '$1hr$2');\n\n    fs.writeFileSync(file, text);\n  });\n\n  // markdown does some strange things.\n  // it does not encode naked `>`, marked does.\n  (function() {\n    var file = dir + '/amps_and_angles_encoding.html';\n    var html = fs.readFileSync(file, 'utf8')\n      .replace('6 > 5.', '6 &gt; 5.');\n\n    fs.writeFileSync(file, html);\n  })();\n\n  // cp new/* tests/\n  fs.readdirSync(path.resolve(__dirname, 'new')).forEach(function(file) {\n    fs.writeFileSync(path.resolve(__dirname, 'tests', file),\n      fs.readFileSync(path.resolve(__dirname, 'new', file)));\n  });\n}\n\n/**\n * Argument Parsing\n */\n\nfunction parseArg(argv) {\n  var argv = process.argv.slice(2)\n    , options = {}\n    , orphans = []\n    , arg;\n\n  function getarg() {\n    var arg = argv.shift();\n\n    if (arg.indexOf('--') === 0) {\n      // e.g. --opt\n      arg = arg.split('=');\n      if (arg.length > 1) {\n        // e.g. --opt=val\n        argv.unshift(arg.slice(1).join('='));\n      }\n      arg = arg[0];\n    } else if (arg[0] === '-') {\n      if (arg.length > 2) {\n        // e.g. -abc\n        argv = arg.substring(1).split('').map(function(ch) {\n          return '-' + ch;\n        }).concat(argv);\n        arg = argv.shift();\n      } else {\n        // e.g. -a\n      }\n    } else {\n      // e.g. foo\n    }\n\n    return arg;\n  }\n\n  while (argv.length) {\n    arg = getarg();\n    switch (arg) {\n      case '-f':\n      case '--fix':\n      case 'fix':\n        options.fix = true;\n        break;\n      case '-b':\n      case '--bench':\n        options.bench = true;\n        break;\n      case '-s':\n      case '--stop':\n        options.stop = true;\n        break;\n      case '-t':\n      case '--time':\n        options.time = true;\n        break;\n      default:\n        if (arg.indexOf('--') === 0) {\n          opt = camelize(arg.replace(/^--(no-)?/, ''));\n          if (!marked.defaults.hasOwnProperty(opt)) {\n            continue;\n          }\n          options.marked = options.marked || {};\n          if (arg.indexOf('--no-') === 0) {\n            options.marked[opt] = typeof marked.defaults[opt] !== 'boolean'\n              ? null\n              : false;\n          } else {\n            options.marked[opt] = typeof marked.defaults[opt] !== 'boolean'\n              ? argv.shift()\n              : true;\n          }\n        } else {\n          orphans.push(arg);\n        }\n        break;\n    }\n  }\n\n  return options;\n}\n\n/**\n * Helpers\n */\n\nfunction camelize(text) {\n  return text.replace(/(\\w)-(\\w)/g, function(_, a, b) {\n    return a + b.toUpperCase();\n  });\n}\n\n/**\n * Main\n */\n\nfunction main(argv) {\n  var opt = parseArg();\n\n  if (opt.fix) {\n    return fix(opt);\n  }\n\n  if (opt.bench) {\n    return runBench(opt);\n  }\n\n  if (opt.time) {\n    return time(opt);\n  }\n\n  return runTests(opt);\n}\n\n/**\n * Execute\n */\n\nif (!module.parent) {\n  process.title = 'marked';\n  process.exit(main(process.argv.slice()) ? 0 : 1);\n} else {\n  exports = main;\n  exports.main = main;\n  exports.runTests = runTests;\n  exports.runBench = runBench;\n  exports.load = load;\n  exports.bench = bench;\n  module.exports = exports;\n}\n",
          "filepath": "data/repos/markedjs/marked-0.3/test/index.js",
          "repo": "markedjs/marked",
          "version": "0.3",
          "chunk_index": 0,
          "chunk_id": "6c8a9cf7-22c0-4769-9a33-6214fc147506"
        }
      },
      {
        "id": "eb6feda7-71f9-4875-9408-880bc778ae8c",
        "score": 0.015625,
        "payload": {
          "text": ";(function() {\n\nvar console = {}\n  , files = __TESTS__;\n\nconsole.log = function(text) {\n  var args = Array.prototype.slice.call(arguments, 1)\n    , i = 0;\n\n  text = text.replace(/%\\w/g, function() {\n    return args[i++] || '';\n  });\n\n  if (window.console) window.console.log(text);\n  document.body.innerHTML += '<pre>' + escape(text) + '</pre>';\n};\n\nif (!Object.keys) {\n  Object.keys = function(obj) {\n    var out = []\n      , key;\n\n    for (key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        out.push(key);\n      }\n    }\n\n    return out;\n  };\n}\n\nif (!Array.prototype.forEach) {\n  Array.prototype.forEach = function(callback, context) {\n    for (var i = 0; i < this.length; i++) {\n      callback.call(context || null, this[i], i, obj);\n    }\n  };\n}\n\nif (!String.prototype.trim) {\n  String.prototype.trim = function() {\n    return this.replace(/^\\s+|\\s+$/g, '');\n  };\n}\n\nfunction load() {\n  return files;\n}\n\nfunction escape(html, encode) {\n  return html\n    .replace(!encode ? /&(?!#?\\w+;)/g : /&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#39;');\n}\n\n(__MAIN__)();\n\n}).call(this);\n",
          "filepath": "data/repos/markedjs/marked-0.3/test/browser/test.js",
          "repo": "markedjs/marked",
          "version": "0.3",
          "chunk_index": 0,
          "chunk_id": "eb6feda7-71f9-4875-9408-880bc778ae8c"
        }
      },
      {
        "id": "6d9af21f-e7fd-4287-ad5e-aae4876d2636",
        "score": 0.015384615384615385,
        "payload": {
          "text": " */\n\nParser.prototype.next = function() {\n  return this.token = this.tokens.pop();\n};\n\n/**\n * Preview Next Token\n */\n\nParser.prototype.peek = function() {\n  return this.tokens[this.tokens.length - 1] || 0;\n};\n\n/**\n * Parse Text Tokens\n */\n\nParser.prototype.parseText = function() {\n  var body = this.token.text;\n\n  while (this.peek().type === 'text') {\n    body += '\\n' + this.next().text;\n  }\n\n  return this.inline.output(body);\n};\n\n/**\n * Parse Current Token\n */\n\nParser.prototype.tok = function() {\n  switch (this.token.type) {\n    case 'space': {\n      return '';\n    }\n    case 'hr': {\n      return this.renderer.hr();\n    }\n    case 'heading': {\n      return this.renderer.heading(\n        this.inline.output(this.token.text),\n        this.token.depth,\n        this.token.text,\n        this.options\n      );\n    }\n    case 'code': {\n      return this.renderer.code(this.token.text,\n        this.token.lang,\n        this.token.escaped,\n        this.options);\n    }\n    case 'table': {\n      var header = ''\n        , body = ''\n        , i\n        , row\n        , cell\n        , flags\n        , j;\n\n      // header\n      cell = '';\n      for (i = 0; i < this.token.header.length; i++) {\n        flags = { header: true, align: this.token.align[i] };\n        cell += this.renderer.tablecell(\n          this.inline.output(this.token.header[i]),\n          { header: true, align: this.token.align[i] }\n        );\n      }\n      header += this.renderer.tablerow(cell);\n\n      for (i = 0; i < this.token.cells.length; i++) {\n        row = this.token.cells[i];\n\n        cell = '';\n        for (j = 0; j < row.length; j++) {\n          cell += this.renderer.tablecell(\n            this.inline.output(row[j]),\n            { header: false, align: this.token.align[j] }\n          );\n        }\n\n        body += this.renderer.tablerow(cell);\n      }\n      return this.renderer.table(header, body);\n    }\n    case 'blockquote_start': {\n      var body = '';\n\n      while (this.next().type !== 'blockquote_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.blockquote(body);\n    }\n    case 'list_start': {\n      var body = ''\n        , ordered = this.token.ordered;\n\n      while (this.next().type !== 'list_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.list(body, ordered);\n    }\n    case 'list_item_start': {\n      var body = '';\n\n      while (this.next().type !== 'list_item_end') {\n        body += this.token.type === 'text'\n          ? this.parseText()\n          : this.tok();\n      }\n\n      return this.renderer.listitem(body);\n    }\n    case 'loose_item_start': {\n      var body = '';\n\n      while (this.next().type !== 'list_item_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.listitem(body);\n    }\n    case 'html': {\n      var html = !this.token.pre && !this.options.pedantic\n        ? this.inline.output(this.token.text)\n        : this.token.text;\n      return this.renderer.html(html);\n    }\n    case 'paragraph': {\n      return this.renderer.paragraph(this.inline.output(this.token.text));\n    }\n    case 'text': {\n      return this.renderer.paragraph(this.parseText());\n    }\n  }\n};\n\n/**\n * Helpers\n */\n\nfunction escape(html, encode) {\n  return html\n    .replace(!encode ? /&(?!#?\\w+;)/g : /&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#39;');\n}\n\nfunction replace(regex, opt) {\n  regex = regex.source;\n  opt = opt || '';\n  return function self(name, val) {\n    if (!name) return new RegExp(regex, opt);\n    val = val.source || val;\n    val = val.replace(/(^|[^\\[])\\^/g, '$1');\n    regex = regex.replace(name, val);\n    return self;\n  };\n}\n\nfunction noop() {}\nnoop.exec = noop;\n\nfunction merge(obj) {\n  var i = 1\n    , target\n    , key;\n\n  for (; i < arguments.length; i++) {\n    target = arguments[i];\n    for (key in target) {\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\n        obj[key] = target[key];\n      }\n    }\n  }\n\n  return obj;\n}\n\n\n/**\n * Marked\n */\n\nfunction marked(src, opt, callback) {\n  if (callback || typeof opt === 'function') {\n    if (!callback) {\n      callback = opt;\n      opt = null;\n    }\n\n    opt = merge({}, marked.defaults, opt || {});\n\n    var highlight = opt.highlight\n      , tokens\n      , pending\n      , i = 0;\n\n    try {\n      tokens = Lexer.lex(src, opt)\n    } catch (e) {\n      return callback(e);\n    }\n\n    pending = tokens.length;\n\n    var done = function() {\n      var out, err;\n\n      try {\n        out = Parser.parse(tokens, opt);\n      } catch (e) {\n        err = e;\n      }\n\n      opt.highlight = highlight;\n\n      return err\n        ? callback(err)\n        : callback(null, out);\n    };\n\n    if (!highlight || highlight.length < 3) {\n      return done();\n    }\n\n    delete opt.highlight;\n\n    if (!pending) return done();\n\n    for (; i < tokens.length; i++) {\n      (function(token) {\n        if (token.type !== 'code') {\n          return --pending || done();\n        }\n        return highlight(token.text, token.lang, function(err, code) {\n          if (code == null || code === token.text) {\n            return --pending || done();\n          }\n          token.text = code;\n          token.escaped = true;\n          --pending || done();\n        });\n      })(tokens[i]);\n    }\n\n    return;\n  }\n  try {\n    if (opt) opt = merge({}, marked.defaults, opt);\n    return Parser.parse(Lexer.lex(src, opt), opt);\n  } catch (e) {\n    e.message += '\\nPlease report this to https://github.com/chjj/marked.';\n    if ((opt || marked.defaults).silent) {\n      return '<p>An error occured:</p><pre>'\n        + escape(e.message + '', true)\n        + '</pre>';\n    }\n    throw e;\n  }\n}\n\n/**\n * Options\n */\n\nmarked.options =\nmarked.setOptions = function(opt) {\n  merge(marked.defaults, opt);\n  return marked;\n};\n\nmarked.defaults = {\n  gfm: true,\n  tables: true,\n  breaks: false,\n  pedantic: false,\n  sanitize: false,\n  smartLists: false,\n  silent: false,\n  highlight: null,\n  langPrefix: 'lang-',\n  smartypants: false,\n  headerPrefix: '',\n  renderer: new Renderer\n};\n\n/**\n * Expose\n */\n\nmarked.Parser = Parser;\nmarked.parser = Parser.parse;\n\nmarked.Renderer = Renderer;\n\nmarked.Lexer = Lexer;\nmarked.lexer = Lexer.lex;\n\nmarked.InlineLexer = InlineLexer;\nmarked.inlineLexer = InlineLexer.output;\n\nmarked.parse = marked;\n\nif (typeof exports === 'object') {\n  module.exports = marked;\n} else if (typeof define === 'function' && define.amd) {\n  define(function() { return marked; });\n} else {\n  this.marked = marked;\n}\n\n}).call(function() {\n  return this || (typeof window !== 'undefined' ? window : global);\n}());",
          "filepath": "data/repos/markedjs/marked-0.3/lib/marked.js",
          "repo": "markedjs/marked",
          "version": "0.3",
          "chunk_index": 1,
          "chunk_id": "6d9af21f-e7fd-4287-ad5e-aae4876d2636"
        }
      }
    ]
  },
  {
    "instance_id": "diegomura__react-pdf-1178",
    "model_patch": "diff --git a/src/renderer.js b/src/renderer.js\n--- a/src/renderer.js\n+++ b/src/renderer.js\n@@ -10,6 +10,20 @@\n   // Existing style application logic\n   const applyStyles = (element, styles) => {\n     // Apply existing styles\n+\n+    // Ensure margin auto is handled correctly\n+    if (styles.margin === 'auto') {\n+      const parentWidth = element.parentNode ? element.parentNode.offsetWidth : 0;\n+      const elementWidth = element.offsetWidth;\n+      const marginLeft = (parentWidth - elementWidth) / 2;\n+      element.style.marginLeft = `${marginLeft}px`;\n+      element.style.marginRight = `${marginLeft}px`;\n+    }\n+\n+    // Apply other styles\n+    Object.keys(styles).forEach(styleKey => {\n+      element.style[styleKey] = styles[styleKey];\n+    });\n   };\n \n   // Render function\n@@ -50,6 +64,7 @@\n     // Render logic\n     const element = document.createElement('div');\n     applyStyles(element, styles);\n+    // Additional rendering logic\n     return element;\n   };",
    "model_name_or_path": "text_bm25",
    "metrics": {
      "issue_embedding_time_ms": 0.0,
      "retrieval_time_ms_bm25": 34.72,
      "retrieval_time_ms": 34.72,
      "total_retrieval_time_ms": 34.72,
      "generation_time_ms": 7400.67,
      "total_io_time_ms": 7435.39,
      "input_total_token_limit": null,
      "issue_text_tokens": 209,
      "vlm_tokens": 0,
      "retrieved_tokens": 4091,
      "prompt_template_tokens": 507,
      "total_input_prompt_tokens": 4807,
      "output_generated_tokens": 521,
      "total_io_tokens": 5328,
      "input_prompt_text": "[{\"type\": \"text\", \"text\": \"You will be provided with a partial code base and an issue statement explaining a problem to resolve.\\n<issue>\\nmargin auto is broken in v2\\n**Describe the bug**\\r\\nRun a some snapshot tests with react-pdf examples for v1/v2 and seems like margin auto doesn't work\\r\\n\\r\\nhttps://github.com/diegomura/react-pdf/blob/master/packages/examples/src/knobs/index.js#L20\\r\\n\\r\\n![index-test-js-renders-correctly-1-diff](https://user-images.githubusercontent.com/6726016/113850039-b8736b00-97a2-11eb-857d-50470f1d52c2.png)\\r\\n> v1 on the left side v2 on the right\\r\\n\\r\\n**To Reproduce**\\r\\nSteps to reproduce the behavior including code snippet (if applies):\\r\\n1. run https://github.com/diegomura/react-pdf/blob/master/packages/examples/src/knobs/\\r\\n2. See error\\r\\n\\r\\n\\r\\n**Desktop (please complete the following information):**\\r\\n - MacOS\\r\\n - Node v14.7.0\\r\\n - React-pdf version v2.0.0\\r\\n\\r\\n\\r\\n\\n\\n</issue>\\n\\n<code>\\n[start of bug_report.md]\\n---\\nname: Bug report\\nabout: Create a report to help us improve\\ntitle: ''\\nlabels: ''\\nassignees: ''\\n\\n---\\n\\n**Describe the bug**\\nA clear and concise description of what the bug is.\\n\\n**To Reproduce**\\nSteps to reproduce the behavior including code snippet (if applies):\\n1. Go to '...'\\n2. Click on '....'\\n3. Scroll down to '....'\\n4. See error\\n\\n_You can make use of [react-pdf REPL](https://react-pdf/repl) to share the snippet_\\n\\n**Expected behavior**\\nA clear and concise description of what you expected to happen.\\n\\n**Screenshots**\\nIf applicable, add screenshots to help explain your problem.\\n\\n**Desktop (please complete the following information):**\\n - OS: [e.g. MacOS, Windows]\\n - Browser [e.g. chrome, safari]\\n - React-pdf version [e.g. v1.1.0]\\n\\n<!-- Love react-pdf? Please consider supporting our collective:\\n\\ud83d\\udc49  https://opencollective.com/react-pdf/donate -->\\n\\n[end of bug_report.md]\\n[start of README.md]\\n<p align=\\\"center\\\">\\n  <img src=\\\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\\\" height=\\\"280px\\\">\\n  <p align=\\\"center\\\">React renderer for creating PDF files on the browser and server<p>\\n  <p align=\\\"center\\\">\\n    <a href=\\\"https://www.npmjs.com/package/@react-pdf/renderer\\\">\\n      <img src=\\\"https://img.shields.io/npm/v/@react-pdf/renderer.svg\\\" />\\n    </a>\\n    <a href=\\\"https://travis-ci.org/diegomura/react-pdf\\\">\\n      <img src=\\\"https://img.shields.io/travis/diegomura/react-pdf.svg\\\" />\\n    </a>\\n    <a href=\\\"https://github.com/diegomura/react-pdf/blob/master/LICENSE\\\">\\n      <img src=\\\"https://img.shields.io/github/license/diegomura/react-pdf.svg\\\" />\\n    </a>\\n    <a href=\\\"https://spectrum.chat/react-pdf\\\">\\n      <img src=\\\"https://withspectrum.github.io/badge/badge.svg\\\" />\\n    </a>\\n    <a href=\\\"https://github.com/prettier/prettier\\\">\\n      <img src=\\\"https://img.shields.io/badge/styled_with-prettier-ff69b4.svg\\\" />\\n    </a>\\n    <a href=\\\"https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_shield\\\" alt=\\\"FOSSA Status\\\"><img src=\\\"https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=shield\\\"/></a>\\n  </p>\\n</p>\\n\\n## How to install\\n```sh\\nyarn add @react-pdf/renderer\\n```\\n\\n## How it works\\n\\n```jsx\\nimport React from 'react';\\nimport { Document, Page, Text, View, StyleSheet } from '@react-pdf/renderer';\\n\\n// Create styles\\nconst styles = StyleSheet.create({\\n  page: {\\n    flexDirection: 'row',\\n    backgroundColor: '#E4E4E4'\\n  },\\n  section: {\\n    margin: 10,\\n    padding: 10,\\n    flexGrow: 1\\n  }\\n});\\n\\n// Create Document Component\\nconst MyDocument = () => (\\n  <Document>\\n    <Page size=\\\"A4\\\" style={styles.page}>\\n      <View style={styles.section}>\\n        <Text>Section #1</Text>\\n      </View>\\n      <View style={styles.section}>\\n        <Text>Section #2</Text>\\n      </View>\\n    </Page>\\n  </Document>\\n);\\n```\\n\\n### `Web.` Render in DOM\\n```jsx\\nimport React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport { PDFViewer } from '@react-pdf/renderer';\\n\\nconst App = () => (\\n  <PDFViewer>\\n    <MyDocument />\\n  </PDFViewer>\\n);\\n\\nReactDOM.render(<App />, document.getElementById('root'));\\n```\\n\\n### `Node.` Save in a file\\n```jsx\\nimport React from 'react';\\nimport ReactPDF from '@react-pdf/renderer';\\n\\nReactPDF.render(<MyDocument />, `${__dirname}/example.pdf`);\\n```\\n\\n## Examples\\nFor each example, try opening `output.pdf` to see the result.\\n\\n<table>\\n\\t<tbody>\\n\\t\\t<tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/text/thumb.png\\\">\\n        <br>\\n        <a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/text/\\\">Text</a>\\n      </td>\\n\\t\\t\\t<td align=\\\"center\\\" valign=\\\"top\\\">\\n\\t\\t\\t\\t<img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/resume/thumb.png\\\">\\n\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t<a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/resume/\\\">Resume</a>\\n\\t\\t\\t</td>\\n\\t\\t\\t<td align=\\\"center\\\" valign=\\\"top\\\">\\n\\t\\t\\t\\t<img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/fractals/thumb.png\\\">\\n\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t<a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/fractals/\\\">Fractals</a>\\n\\t\\t\\t</td>\\n\\t\\t</tr>\\n\\t</tbody>\\n</table>\\n<table>\\n\\t<tbody>\\n\\t\\t<tr>\\n\\t\\t\\t<td align=\\\"center\\\" valign=\\\"top\\\">\\n\\t\\t\\t\\t<img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/knobs/thumb.png\\\">\\n\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t<a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/knobs/\\\">Knobs</a>\\n\\t\\t\\t</td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/pageWrap/thumb.png\\\">\\n        <br>\\n        <a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/pageWrap/\\\">Page wrap</a>\\n      </td>\\n\\t\\t</tr>\\n\\t</tbody>\\n</table>\\n\\n## Contributors\\n\\nThis project exists thanks to all the people who contribute. [[Contribute]](CONTRIBUTING.md).\\n<a href=\\\"https://github.com/diegomura/react-pdf/graphs/contributors\\\"><img src=\\\"https://opencollective.com/react-pdf/contributors.svg?width=890\\\" /></a>\\n\\n## Sponsors\\n\\nThank you to all our sponsors! [[Become a sponsors](https://opencollective.com/react-pdf#sponsors)]\\n\\n<a href=\\\"https://opencollective.com/react-pdf#sponsors\\\" target=\\\"_blank\\\"><img src=\\\"https://opencollective.com/react-pdf/sponsors.svg?width=890\\\"></a>\\n\\n## Backers\\n\\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\\n\\n<a href=\\\"https://opencollective.com/react-pdf#backers\\\" target=\\\"_blank\\\"><img src=\\\"https://opencollective.com/react-pdf/backers.svg?width=890\\\"></a>\\n\\n## License\\n\\nMIT \\u00a9 [Diego Muracciole](http://github.com/diegomura)\\n\\n[![FOSSA Status](https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=large)](https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_large)\\n\\n---\\n![](https://img.shields.io/npm/dt/@react-pdf/renderer.svg?style=flat)\\n\\n[end of README.md]\\n[start of README.md]\\n<p align=\\\"center\\\">\\n  <img src=\\\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\\\" height=\\\"280px\\\">\\n</p>\\n\\n> React-pdf examples\\n\\n## Catalog\\n\\n<table>\\n\\t<tbody>\\n\\t\\t<tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/text/thumb.png\\\">\\n        <br>\\n        <a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/text/\\\">Text</a>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/images/thumb.png\\\">\\n        <br>\\n        <a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/images/\\\">Images</a>\\n      </td>\\n\\t\\t\\t<td align=\\\"center\\\" valign=\\\"top\\\">\\n\\t\\t\\t\\t<img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/resume/thumb.png\\\">\\n\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t<a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/resume/\\\">Resume</a>\\n\\t\\t\\t</td>\\n\\t\\t\\t<td align=\\\"center\\\" valign=\\\"top\\\">\\n\\t\\t\\t\\t<img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/fractals/thumb.png\\\">\\n\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t<a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/fractals/\\\">Fractals</a>\\n\\t\\t\\t</td>\\n\\t\\t</tr>\\n\\t</tbody>\\n</table>\\n<table>\\n\\t<tbody>\\n\\t\\t<tr>\\n\\t\\t\\t<td align=\\\"center\\\" valign=\\\"top\\\">\\n\\t\\t\\t\\t<img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/knobs/thumb.png\\\">\\n\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t<a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/knobs/\\\">Knobs</a>\\n\\t\\t\\t</td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/pageWrap/thumb.png\\\">\\n        <br>\\n        <a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/pageWrap/\\\">Page wrap</a>\\n      </td>\\n\\t\\t</tr>\\n\\t</tbody>\\n</table>\\n\\n## License\\n\\nMIT \\u00a9 [Diego Muracciole](http://github.com/diegomura)\\n\\n[end of README.md]\\n[start of CONTRIBUTING.md]\\n# Contribute\\n\\n## Introduction\\n\\nFirst, thank you for considering contributing to react-pdf!\\n\\nWe welcome any type of contribution, not only code. You can help with \\n- **QA**: file bug reports, the more details you can give the better (e.g. screenshots with the console open)\\n- **Marketing**: writing blog posts, howto's, printing stickers, ...\\n- **Community**: presenting the project at meetups, organizing a dedicated meetup for the local community, ...\\n- **Code**: take a look at the [open issues](https://github.com/diegomura/react-pdf/issues). Even if you can't write code, commenting on them, showing that you care about a given issue matters. It helps us triage them.\\n- **Money**: we welcome financial contributions in full transparency on our [open collective](https://opencollective.com/react-pdf).\\n\\n## Your First Contribution\\n\\nWorking on your first Pull Request? You can learn how from this *free* series, [How to Contribute to an Open Source Project on GitHub](https://egghead.io/series/how-to-contribute-to-an-open-source-project-on-github).\\n\\n## Submitting code\\n\\nAny code change should be submitted as a pull request. The description should explain what the code does and give steps to execute it. The pull request should also contain tests.\\n\\n## Code review process\\n\\nThe bigger the pull request, the longer it will take to review and merge. Try to break down large pull requests in smaller chunks that are easier to review and merge.\\nIt is also always helpful to have some context for your pull request. What was the purpose? Why does it matter to you?\\n\\n## Financial contributions\\n\\nWe also welcome financial contributions in full transparency on our [open collective](https://opencollective.com/react-pdf).\\nAnyone can file an expense. If the expense makes sense for the development of the community, it will be \\\"merged\\\" in the ledger of our open collective by the core contributors and the person who filed the expense will be reimbursed.\\n\\n## Questions\\n\\nIf you have any questions, create an [issue](https://github.com/diegomura/react-pdf/issues) (protip: do a quick search first to see if someone else didn't ask the same question before!).\\nYou can also reach us at hello@react-pdf.opencollective.com.\\n\\n## Credits\\n\\n### Contributors\\n\\nThank you to all the people who have already contributed to react-pdf!\\n<a href=\\\"/diegomura/react-pdf/graphs/contributors\\\"><img src=\\\"https://opencollective.com/react-pdf/contributors.svg?width=890\\\" /></a>\\n\\n\\n### Backers\\n\\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\\n\\n<a href=\\\"https://opencollective.com/react-pdf#backers\\\" target=\\\"_blank\\\"><img src=\\\"https://opencollective.com/react-pdf/backers.svg?width=890\\\"></a>\\n\\n\\n<!-- This `CONTRIBUTING.md` is based on @nayafia's template https://github.com/nayafia/contributing-template -->\\n\\n[end of CONTRIBUTING.md]\\n[start of README.md]\\n<p align=\\\"center\\\">\\n  <img src=\\\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\\\" height=\\\"280px\\\">\\n  <p align=\\\"center\\\">React renderer for creating PDF files on the browser and server<p>\\n  <p align=\\\"center\\\">\\n    <a href=\\\"https://www.npmjs.com/package/@react-pdf/renderer\\\">\\n      <img src=\\\"https://img.shields.io/npm/v/@react-pdf/renderer.svg\\\" />\\n    </a>\\n    <a href=\\\"https://travis-ci.org/diegomura/react-pdf\\\">\\n      <img src=\\\"https://img.shields.io/travis/diegomura/react-pdf.svg\\\" />\\n    </a>\\n    <a href=\\\"https://github.com/diegomura/react-pdf/blob/master/LICENSE\\\">\\n      <img src=\\\"https://img.shields.io/github/license/diegomura/react-pdf.svg\\\" />\\n    </a>\\n    <a href=\\\"https://github.com/prettier/prettier\\\">\\n      <img src=\\\"https://img.shields.io/badge/styled_with-prettier-ff69b4.svg\\\" />\\n    </a>\\n    <a href=\\\"https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_shield\\\" alt=\\\"FOSSA Status\\\"><img src=\\\"https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=shield\\\"/></a>\\n  </p>\\n</p>\\n\\n> New react-pdf 2.0 was relesed. [Read about the announcement](http://react-pdf.org/blog/announcing-react-pdf-v2)\\n\\n## Lost?\\n\\nThis package is used to _create_ PDFs using React. If you wish to _display_ existing PDFs, you may be looking for [react-pdf](https://github.com/wojtekmaj/react-pdf).\\n\\n## How to install\\n```sh\\nyarn add @react-pdf/renderer\\n```\\n\\n## How it works\\n\\n```jsx\\nimport React from 'react';\\nimport { Document, Page, Text, View, StyleSheet } from '@react-pdf/renderer';\\n\\n// Create styles\\nconst styles = StyleSheet.create({\\n  page: {\\n    flexDirection: 'row',\\n    backgroundColor: '#E4E4E4'\\n  },\\n  section: {\\n    margin: 10,\\n    padding: 10,\\n    flexGrow: 1\\n  }\\n});\\n\\n// Create Document Component\\nconst MyDocument = () => (\\n  <Document>\\n    <Page size=\\\"A4\\\" style={styles.page}>\\n      <View style={styles.section}>\\n        <Text>Section #1</Text>\\n      </View>\\n      <View style={styles.section}>\\n        <Text>Section #2</Text>\\n      </View>\\n    </Page>\\n  </Document>\\n);\\n```\\n\\n### `Web.` Render in DOM\\n```jsx\\nimport React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport { PDFViewer } from '@react-pdf/renderer';\\n\\nconst App = () => (\\n  <PDFViewer>\\n    <MyDocument />\\n  </PDFViewer>\\n);\\n\\nReactDOM.render(<App />, document.getElementById('root'));\\n```\\n\\n### `Node.` Save in a file\\n```jsx\\nimport React from 'react';\\nimport ReactPDF from '@react-pdf/renderer';\\n\\nReactPDF.render(<MyDocument />, `${__dirname}/example.pdf`);\\n```\\n\\n## Contributors\\n\\nThis project exists thanks to all the people who contribute. [[Contribute]](CONTRIBUTING.md).\\n<a href=\\\"https://github.com/diegomura/react-pdf/graphs/contributors\\\"><img src=\\\"https://opencollective.com/react-pdf/contributors.svg?width=890\\\" /></a>\\n\\n## Sponsors\\n\\nThank you to all our sponsors! [[Become a sponsors](https://opencollective.com/react-pdf#sponsors)]\\n\\n<a href=\\\"https://opencollective.com/react-pdf#sponsors\\\" target=\\\"_blank\\\"><img src=\\\"https://opencollective.com/react-pdf/sponsors.svg?width=890\\\"></a>\\n\\n## Backers\\n\\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\\n\\n<a href=\\\"https://opencollective.com/react-pdf#backers\\\" target=\\\"_blank\\\"><img src=\\\"https://opencollective.com/react-pdf/backers.svg?width=890\\\"></a>\\n\\n## License\\n\\nMIT \\u00a9 [Diego Muracciole](http://github.com/diegomura)\\n\\n[![FOSSA Status](https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=large)](https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_large)\\n\\n---\\n![](https://img.shields.io/npm/dt/@react-pdf/renderer.svg?style=flat)\\n\\n[end of README.md]\\n\\n</code>\\n\\nHere is an example of a patch file. It consists of changes to the code base. It specifies the file names, the line numbers of each change, and the removed and added lines. A single patch file can contain changes to multiple files.\\n\\n<patch>\\ndiff --git a/file.py b/file.py\\n--- a/file.py\\n+++ b/file.py\\n@@ -1,27 +1,35 @@\\n def euclidean(a, b):\\n-    while b:\\n-        a, b = b, a % b\\n-    return a\\n+    if b == 0:\\n+        return a\\n+    return euclidean(b, a % b)\\n \\n def bresenham(x0, y0, x1, y1):\\n+    points = []\\n+    dx = abs(x1 - x0)\\n+    dy = abs(y1 - y0)\\n+    sx = 1 if x0 < x1 else -1\\n+    sy = 1 if y0 < y1 else -1\\n+    err = dx - dy\\n+    \\n     while True:\\n-        plot(x0, y0)\\n+        points.append((x0, y0))\\n         if x0 == x1 and y0 == y1:\\n             break\\n-        e2 = 2 * err\\n-        if e2 > -dy:\\n-            err -= dy\\n-            x0 += sx\\n-        if e2 < dx:\\n-            err += dx\\n-            y0 += sy\\n+        e2 = 2 * err\\n+        if e2 > -dy:\\n+            err -= dy\\n+            x0 += sx\\n+        if e2 < dx:\\n+            err += dx\\n+            y0 += sy\\n+    return points\\n+</patch>\\n\\nI need you to solve the provided issue by generating a single patch file that I can apply directly to this repository using git apply. Please respond with a single patch file in the format shown above.\\n\\nRespond below: \\n\"}]",
      "retrieved_file_paths": [
        "bug_report.md",
        "README.md",
        "README.md",
        "CONTRIBUTING.md",
        "README.md"
      ]
    },
    "retrieved_documents": [
      {
        "id": "62ec4b36-1585-49a0-895a-0ef0f44bd44e",
        "score": 0.01639344262295082,
        "payload": {
          "text": "---\nname: Bug report\nabout: Create a report to help us improve\ntitle: ''\nlabels: ''\nassignees: ''\n\n---\n\n**Describe the bug**\nA clear and concise description of what the bug is.\n\n**To Reproduce**\nSteps to reproduce the behavior including code snippet (if applies):\n1. Go to '...'\n2. Click on '....'\n3. Scroll down to '....'\n4. See error\n\n_You can make use of [react-pdf REPL](https://react-pdf/repl) to share the snippet_\n\n**Expected behavior**\nA clear and concise description of what you expected to happen.\n\n**Screenshots**\nIf applicable, add screenshots to help explain your problem.\n\n**Desktop (please complete the following information):**\n - OS: [e.g. MacOS, Windows]\n - Browser [e.g. chrome, safari]\n - React-pdf version [e.g. v1.1.0]\n\n<!-- Love react-pdf? Please consider supporting our collective:\n\ud83d\udc49  https://opencollective.com/react-pdf/donate -->\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/.github/ISSUE_TEMPLATE/bug_report.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "62ec4b36-1585-49a0-895a-0ef0f44bd44e"
        }
      },
      {
        "id": "adceb749-ad96-47f9-b286-0f8d059de07f",
        "score": 0.016129032258064516,
        "payload": {
          "text": "<p align=\"center\">\n  <img src=\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\" height=\"280px\">\n  <p align=\"center\">React renderer for creating PDF files on the browser and server<p>\n  <p align=\"center\">\n    <a href=\"https://www.npmjs.com/package/@react-pdf/renderer\">\n      <img src=\"https://img.shields.io/npm/v/@react-pdf/renderer.svg\" />\n    </a>\n    <a href=\"https://travis-ci.org/diegomura/react-pdf\">\n      <img src=\"https://img.shields.io/travis/diegomura/react-pdf.svg\" />\n    </a>\n    <a href=\"https://github.com/diegomura/react-pdf/blob/master/LICENSE\">\n      <img src=\"https://img.shields.io/github/license/diegomura/react-pdf.svg\" />\n    </a>\n    <a href=\"https://spectrum.chat/react-pdf\">\n      <img src=\"https://withspectrum.github.io/badge/badge.svg\" />\n    </a>\n    <a href=\"https://github.com/prettier/prettier\">\n      <img src=\"https://img.shields.io/badge/styled_with-prettier-ff69b4.svg\" />\n    </a>\n    <a href=\"https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_shield\" alt=\"FOSSA Status\"><img src=\"https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=shield\"/></a>\n  </p>\n</p>\n\n## How to install\n```sh\nyarn add @react-pdf/renderer\n```\n\n## How it works\n\n```jsx\nimport React from 'react';\nimport { Document, Page, Text, View, StyleSheet } from '@react-pdf/renderer';\n\n// Create styles\nconst styles = StyleSheet.create({\n  page: {\n    flexDirection: 'row',\n    backgroundColor: '#E4E4E4'\n  },\n  section: {\n    margin: 10,\n    padding: 10,\n    flexGrow: 1\n  }\n});\n\n// Create Document Component\nconst MyDocument = () => (\n  <Document>\n    <Page size=\"A4\" style={styles.page}>\n      <View style={styles.section}>\n        <Text>Section #1</Text>\n      </View>\n      <View style={styles.section}>\n        <Text>Section #2</Text>\n      </View>\n    </Page>\n  </Document>\n);\n```\n\n### `Web.` Render in DOM\n```jsx\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { PDFViewer } from '@react-pdf/renderer';\n\nconst App = () => (\n  <PDFViewer>\n    <MyDocument />\n  </PDFViewer>\n);\n\nReactDOM.render(<App />, document.getElementById('root'));\n```\n\n### `Node.` Save in a file\n```jsx\nimport React from 'react';\nimport ReactPDF from '@react-pdf/renderer';\n\nReactPDF.render(<MyDocument />, `${__dirname}/example.pdf`);\n```\n\n## Examples\nFor each example, try opening `output.pdf` to see the result.\n\n<table>\n\t<tbody>\n\t\t<tr>\n      <td align=\"center\" valign=\"top\">\n        <img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/text/thumb.png\">\n        <br>\n        <a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/text/\">Text</a>\n      </td>\n\t\t\t<td align=\"center\" valign=\"top\">\n\t\t\t\t<img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/resume/thumb.png\">\n\t\t\t\t<br>\n\t\t\t\t<a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/resume/\">Resume</a>\n\t\t\t</td>\n\t\t\t<td align=\"center\" valign=\"top\">\n\t\t\t\t<img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/fractals/thumb.png\">\n\t\t\t\t<br>\n\t\t\t\t<a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/fractals/\">Fractals</a>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n<table>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td align=\"center\" valign=\"top\">\n\t\t\t\t<img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/knobs/thumb.png\">\n\t\t\t\t<br>\n\t\t\t\t<a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/knobs/\">Knobs</a>\n\t\t\t</td>\n      <td align=\"center\" valign=\"top\">\n        <img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/pageWrap/thumb.png\">\n        <br>\n        <a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/pageWrap/\">Page wrap</a>\n      </td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n## Contributors\n\nThis project exists thanks to all the people who contribute. [[Contribute]](CONTRIBUTING.md).\n<a href=\"https://github.com/diegomura/react-pdf/graphs/contributors\"><img src=\"https://opencollective.com/react-pdf/contributors.svg?width=890\" /></a>\n\n## Sponsors\n\nThank you to all our sponsors! [[Become a sponsors](https://opencollective.com/react-pdf#sponsors)]\n\n<a href=\"https://opencollective.com/react-pdf#sponsors\" target=\"_blank\"><img src=\"https://opencollective.com/react-pdf/sponsors.svg?width=890\"></a>\n\n## Backers\n\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\n\n<a href=\"https://opencollective.com/react-pdf#backers\" target=\"_blank\"><img src=\"https://opencollective.com/react-pdf/backers.svg?width=890\"></a>\n\n## License\n\nMIT \u00a9 [Diego Muracciole](http://github.com/diegomura)\n\n[![FOSSA Status](https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=large)](https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_large)\n\n---\n![](https://img.shields.io/npm/dt/@react-pdf/renderer.svg?style=flat)\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/packages/renderer/README.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "adceb749-ad96-47f9-b286-0f8d059de07f"
        }
      },
      {
        "id": "c7d41578-65e1-44bd-8804-e9433e94fa2f",
        "score": 0.015873015873015872,
        "payload": {
          "text": "<p align=\"center\">\n  <img src=\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\" height=\"280px\">\n</p>\n\n> React-pdf examples\n\n## Catalog\n\n<table>\n\t<tbody>\n\t\t<tr>\n      <td align=\"center\" valign=\"top\">\n        <img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/text/thumb.png\">\n        <br>\n        <a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/text/\">Text</a>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/images/thumb.png\">\n        <br>\n        <a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/images/\">Images</a>\n      </td>\n\t\t\t<td align=\"center\" valign=\"top\">\n\t\t\t\t<img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/resume/thumb.png\">\n\t\t\t\t<br>\n\t\t\t\t<a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/resume/\">Resume</a>\n\t\t\t</td>\n\t\t\t<td align=\"center\" valign=\"top\">\n\t\t\t\t<img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/fractals/thumb.png\">\n\t\t\t\t<br>\n\t\t\t\t<a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/fractals/\">Fractals</a>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n<table>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td align=\"center\" valign=\"top\">\n\t\t\t\t<img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/knobs/thumb.png\">\n\t\t\t\t<br>\n\t\t\t\t<a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/knobs/\">Knobs</a>\n\t\t\t</td>\n      <td align=\"center\" valign=\"top\">\n        <img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/pageWrap/thumb.png\">\n        <br>\n        <a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/pageWrap/\">Page wrap</a>\n      </td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n## License\n\nMIT \u00a9 [Diego Muracciole](http://github.com/diegomura)\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/packages/examples/README.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "c7d41578-65e1-44bd-8804-e9433e94fa2f"
        }
      },
      {
        "id": "390d9984-4d3e-4987-a216-26be5f3deba4",
        "score": 0.015625,
        "payload": {
          "text": "# Contribute\n\n## Introduction\n\nFirst, thank you for considering contributing to react-pdf!\n\nWe welcome any type of contribution, not only code. You can help with \n- **QA**: file bug reports, the more details you can give the better (e.g. screenshots with the console open)\n- **Marketing**: writing blog posts, howto's, printing stickers, ...\n- **Community**: presenting the project at meetups, organizing a dedicated meetup for the local community, ...\n- **Code**: take a look at the [open issues](https://github.com/diegomura/react-pdf/issues). Even if you can't write code, commenting on them, showing that you care about a given issue matters. It helps us triage them.\n- **Money**: we welcome financial contributions in full transparency on our [open collective](https://opencollective.com/react-pdf).\n\n## Your First Contribution\n\nWorking on your first Pull Request? You can learn how from this *free* series, [How to Contribute to an Open Source Project on GitHub](https://egghead.io/series/how-to-contribute-to-an-open-source-project-on-github).\n\n## Submitting code\n\nAny code change should be submitted as a pull request. The description should explain what the code does and give steps to execute it. The pull request should also contain tests.\n\n## Code review process\n\nThe bigger the pull request, the longer it will take to review and merge. Try to break down large pull requests in smaller chunks that are easier to review and merge.\nIt is also always helpful to have some context for your pull request. What was the purpose? Why does it matter to you?\n\n## Financial contributions\n\nWe also welcome financial contributions in full transparency on our [open collective](https://opencollective.com/react-pdf).\nAnyone can file an expense. If the expense makes sense for the development of the community, it will be \"merged\" in the ledger of our open collective by the core contributors and the person who filed the expense will be reimbursed.\n\n## Questions\n\nIf you have any questions, create an [issue](https://github.com/diegomura/react-pdf/issues) (protip: do a quick search first to see if someone else didn't ask the same question before!).\nYou can also reach us at hello@react-pdf.opencollective.com.\n\n## Credits\n\n### Contributors\n\nThank you to all the people who have already contributed to react-pdf!\n<a href=\"/diegomura/react-pdf/graphs/contributors\"><img src=\"https://opencollective.com/react-pdf/contributors.svg?width=890\" /></a>\n\n\n### Backers\n\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\n\n<a href=\"https://opencollective.com/react-pdf#backers\" target=\"_blank\"><img src=\"https://opencollective.com/react-pdf/backers.svg?width=890\"></a>\n\n\n<!-- This `CONTRIBUTING.md` is based on @nayafia's template https://github.com/nayafia/contributing-template -->\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/.github/CONTRIBUTING.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "390d9984-4d3e-4987-a216-26be5f3deba4"
        }
      },
      {
        "id": "401ae391-ee3a-493b-bc3f-20e9e5aedd4b",
        "score": 0.015384615384615385,
        "payload": {
          "text": "<p align=\"center\">\n  <img src=\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\" height=\"280px\">\n  <p align=\"center\">React renderer for creating PDF files on the browser and server<p>\n  <p align=\"center\">\n    <a href=\"https://www.npmjs.com/package/@react-pdf/renderer\">\n      <img src=\"https://img.shields.io/npm/v/@react-pdf/renderer.svg\" />\n    </a>\n    <a href=\"https://travis-ci.org/diegomura/react-pdf\">\n      <img src=\"https://img.shields.io/travis/diegomura/react-pdf.svg\" />\n    </a>\n    <a href=\"https://github.com/diegomura/react-pdf/blob/master/LICENSE\">\n      <img src=\"https://img.shields.io/github/license/diegomura/react-pdf.svg\" />\n    </a>\n    <a href=\"https://github.com/prettier/prettier\">\n      <img src=\"https://img.shields.io/badge/styled_with-prettier-ff69b4.svg\" />\n    </a>\n    <a href=\"https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_shield\" alt=\"FOSSA Status\"><img src=\"https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=shield\"/></a>\n  </p>\n</p>\n\n> New react-pdf 2.0 was relesed. [Read about the announcement](http://react-pdf.org/blog/announcing-react-pdf-v2)\n\n## Lost?\n\nThis package is used to _create_ PDFs using React. If you wish to _display_ existing PDFs, you may be looking for [react-pdf](https://github.com/wojtekmaj/react-pdf).\n\n## How to install\n```sh\nyarn add @react-pdf/renderer\n```\n\n## How it works\n\n```jsx\nimport React from 'react';\nimport { Document, Page, Text, View, StyleSheet } from '@react-pdf/renderer';\n\n// Create styles\nconst styles = StyleSheet.create({\n  page: {\n    flexDirection: 'row',\n    backgroundColor: '#E4E4E4'\n  },\n  section: {\n    margin: 10,\n    padding: 10,\n    flexGrow: 1\n  }\n});\n\n// Create Document Component\nconst MyDocument = () => (\n  <Document>\n    <Page size=\"A4\" style={styles.page}>\n      <View style={styles.section}>\n        <Text>Section #1</Text>\n      </View>\n      <View style={styles.section}>\n        <Text>Section #2</Text>\n      </View>\n    </Page>\n  </Document>\n);\n```\n\n### `Web.` Render in DOM\n```jsx\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { PDFViewer } from '@react-pdf/renderer';\n\nconst App = () => (\n  <PDFViewer>\n    <MyDocument />\n  </PDFViewer>\n);\n\nReactDOM.render(<App />, document.getElementById('root'));\n```\n\n### `Node.` Save in a file\n```jsx\nimport React from 'react';\nimport ReactPDF from '@react-pdf/renderer';\n\nReactPDF.render(<MyDocument />, `${__dirname}/example.pdf`);\n```\n\n## Contributors\n\nThis project exists thanks to all the people who contribute. [[Contribute]](CONTRIBUTING.md).\n<a href=\"https://github.com/diegomura/react-pdf/graphs/contributors\"><img src=\"https://opencollective.com/react-pdf/contributors.svg?width=890\" /></a>\n\n## Sponsors\n\nThank you to all our sponsors! [[Become a sponsors](https://opencollective.com/react-pdf#sponsors)]\n\n<a href=\"https://opencollective.com/react-pdf#sponsors\" target=\"_blank\"><img src=\"https://opencollective.com/react-pdf/sponsors.svg?width=890\"></a>\n\n## Backers\n\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\n\n<a href=\"https://opencollective.com/react-pdf#backers\" target=\"_blank\"><img src=\"https://opencollective.com/react-pdf/backers.svg?width=890\"></a>\n\n## License\n\nMIT \u00a9 [Diego Muracciole](http://github.com/diegomura)\n\n[![FOSSA Status](https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=large)](https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_large)\n\n---\n![](https://img.shields.io/npm/dt/@react-pdf/renderer.svg?style=flat)\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/README.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "401ae391-ee3a-493b-bc3f-20e9e5aedd4b"
        }
      }
    ]
  },
  {
    "instance_id": "diegomura__react-pdf-1280",
    "model_patch": "diff --git a/src/utils/styles.js b/src/utils/styles.js\n--- a/src/utils/styles.js\n+++ b/src/utils/styles.js\n@@ -1,5 +1,5 @@\n import { StyleSheet } from '@react-pdf/renderer';\n \n const styles = StyleSheet.create({\n-  flexBasis: (value) => ({ flexGrow: 0, flexShrink: 0, flexBasis: value }),\n+  flexBasis: (value) => ({ flexGrow: 0, flexShrink: 1, flexBasis: value }),\n });\n \n export default styles;",
    "model_name_or_path": "text_bm25",
    "metrics": {
      "issue_embedding_time_ms": 0.0,
      "retrieval_time_ms_bm25": 33.11,
      "retrieval_time_ms": 33.11,
      "total_retrieval_time_ms": 33.11,
      "generation_time_ms": 2012.09,
      "total_io_time_ms": 2045.2,
      "input_total_token_limit": null,
      "issue_text_tokens": 218,
      "vlm_tokens": 0,
      "retrieved_tokens": 4739,
      "prompt_template_tokens": 504,
      "total_input_prompt_tokens": 5461,
      "output_generated_tokens": 124,
      "total_io_tokens": 5585,
      "input_prompt_text": "[{\"type\": \"text\", \"text\": \"You will be provided with a partial code base and an issue statement explaining a problem to resolve.\\n<issue>\\nThe flexBasis rule does not work in v2.0.8.\\nThe flexBasis rule does not work since I upgraded to version 2.0.8 from 1.6.14.\\r\\nI have the following code:\\r\\n\\r\\n```\\r\\n<View\\r\\n  style={{\\r\\n    display: \\\"flex\\\",\\r\\n    flexDirection: \\\"row\\\",\\r\\n    alignItems: \\\"center\\\",\\r\\n  }}\\r\\n>\\r\\n  <Text style={{ flexBasis: \\\"50%\\\" }}>One</Text>\\r\\n  <Text style={{ flexBasis: \\\"25%\\\" }}>Two</Text>\\r\\n  <Text style={{ flexBasis: \\\"25%\\\" }}>Three</Text>\\r\\n</View>\\r\\n```\\r\\n\\r\\nBefore:\\r\\n![image](https://user-images.githubusercontent.com/21165322/116717903-ca19ee00-a9af-11eb-89bd-7633c37bd21f.png)\\r\\n\\r\\nAfter:\\r\\n![image](https://user-images.githubusercontent.com/21165322/116718099-01889a80-a9b0-11eb-9d12-a15756b0a819.png)\\r\\n\\n\\n</issue>\\n\\n<code>\\n[start of README.md]\\n<p align=\\\"center\\\">\\n  <img src=\\\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\\\" height=\\\"280px\\\">\\n  <p align=\\\"center\\\">React renderer for creating PDF files on the browser and server<p>\\n  <p align=\\\"center\\\">\\n    <a href=\\\"https://www.npmjs.com/package/@react-pdf/renderer\\\">\\n      <img src=\\\"https://img.shields.io/npm/v/@react-pdf/renderer.svg\\\" />\\n    </a>\\n    <a href=\\\"https://travis-ci.org/diegomura/react-pdf\\\">\\n      <img src=\\\"https://img.shields.io/travis/diegomura/react-pdf.svg\\\" />\\n    </a>\\n    <a href=\\\"https://github.com/diegomura/react-pdf/blob/master/LICENSE\\\">\\n      <img src=\\\"https://img.shields.io/github/license/diegomura/react-pdf.svg\\\" />\\n    </a>\\n    <a href=\\\"https://github.com/prettier/prettier\\\">\\n      <img src=\\\"https://img.shields.io/badge/styled_with-prettier-ff69b4.svg\\\" />\\n    </a>\\n    <a href=\\\"https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_shield\\\" alt=\\\"FOSSA Status\\\"><img src=\\\"https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=shield\\\"/></a>\\n  </p>\\n</p>\\n\\n> New react-pdf 2.0 was relesed. [Read about the announcement](http://react-pdf.org/blog/announcing-react-pdf-v2)\\n\\n## Lost?\\n\\nThis package is used to _create_ PDFs using React. If you wish to _display_ existing PDFs, you may be looking for [react-pdf](https://github.com/wojtekmaj/react-pdf).\\n\\n## How to install\\n```sh\\nyarn add @react-pdf/renderer\\n```\\n\\n## How it works\\n\\n```jsx\\nimport React from 'react';\\nimport { Document, Page, Text, View, StyleSheet } from '@react-pdf/renderer';\\n\\n// Create styles\\nconst styles = StyleSheet.create({\\n  page: {\\n    flexDirection: 'row',\\n    backgroundColor: '#E4E4E4'\\n  },\\n  section: {\\n    margin: 10,\\n    padding: 10,\\n    flexGrow: 1\\n  }\\n});\\n\\n// Create Document Component\\nconst MyDocument = () => (\\n  <Document>\\n    <Page size=\\\"A4\\\" style={styles.page}>\\n      <View style={styles.section}>\\n        <Text>Section #1</Text>\\n      </View>\\n      <View style={styles.section}>\\n        <Text>Section #2</Text>\\n      </View>\\n    </Page>\\n  </Document>\\n);\\n```\\n\\n### `Web.` Render in DOM\\n```jsx\\nimport React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport { PDFViewer } from '@react-pdf/renderer';\\n\\nconst App = () => (\\n  <PDFViewer>\\n    <MyDocument />\\n  </PDFViewer>\\n);\\n\\nReactDOM.render(<App />, document.getElementById('root'));\\n```\\n\\n### `Node.` Save in a file\\n```jsx\\nimport React from 'react';\\nimport ReactPDF from '@react-pdf/renderer';\\n\\nReactPDF.render(<MyDocument />, `${__dirname}/example.pdf`);\\n```\\n\\n## Contributors\\n\\nThis project exists thanks to all the people who contribute. [[Contribute]](CONTRIBUTING.md).\\n<a href=\\\"https://github.com/diegomura/react-pdf/graphs/contributors\\\"><img src=\\\"https://opencollective.com/react-pdf/contributors.svg?width=890\\\" /></a>\\n\\n## Sponsors\\n\\nThank you to all our sponsors! [[Become a sponsors](https://opencollective.com/react-pdf#sponsors)]\\n\\n<a href=\\\"https://opencollective.com/react-pdf#sponsors\\\" target=\\\"_blank\\\"><img src=\\\"https://opencollective.com/react-pdf/sponsors.svg?width=890\\\"></a>\\n\\n## Backers\\n\\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\\n\\n<a href=\\\"https://opencollective.com/react-pdf#backers\\\" target=\\\"_blank\\\"><img src=\\\"https://opencollective.com/react-pdf/backers.svg?width=890\\\"></a>\\n\\n## License\\n\\nMIT \\u00a9 [Diego Muracciole](http://github.com/diegomura)\\n\\n[![FOSSA Status](https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=large)](https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_large)\\n\\n---\\n![](https://img.shields.io/npm/dt/@react-pdf/renderer.svg?style=flat)\\n\\n[end of README.md]\\n[start of index.js]\\nimport React from 'react';\\nimport {\\n  Text,\\n  Font,\\n  Page,\\n  View,\\n  Image,\\n  Document,\\n  StyleSheet,\\n} from '@react-pdf/renderer';\\n\\nimport Header from './Header';\\nimport Skills from './Skills';\\nimport Education from './Education';\\nimport Experience from './Experience';\\n\\nconst styles = StyleSheet.create({\\n  page: {\\n    padding: 30,\\n  },\\n  container: {\\n    flex: 1,\\n    flexDirection: 'row',\\n    '@media max-width: 400': {\\n      flexDirection: 'column',\\n    },\\n  },\\n  image: {\\n    marginBottom: 10,\\n  },\\n  leftColumn: {\\n    flexDirection: 'column',\\n    width: 170,\\n    paddingTop: 30,\\n    paddingRight: 15,\\n    '@media max-width: 400': {\\n      width: '100%',\\n      paddingRight: 0,\\n    },\\n    '@media orientation: landscape': {\\n      width: 200,\\n    },\\n  },\\n  footer: {\\n    fontSize: 12,\\n    fontFamily: 'Lato Bold',\\n    textAlign: 'center',\\n    marginTop: 15,\\n    paddingTop: 5,\\n    borderWidth: 3,\\n    borderColor: 'gray',\\n    borderStyle: 'dashed',\\n    '@media orientation: landscape': {\\n      marginTop: 10,\\n    },\\n  },\\n});\\n\\nFont.register({\\n  family: 'Open Sans',\\n  src: `https://fonts.gstatic.com/s/opensans/v17/mem8YaGs126MiZpBA-UFVZ0e.ttf`,\\n});\\n\\nFont.register({\\n  family: 'Lato',\\n  src: `https://fonts.gstatic.com/s/lato/v16/S6uyw4BMUTPHjx4wWw.ttf`,\\n});\\n\\nFont.register({\\n  family: 'Lato Italic',\\n  src: `https://fonts.gstatic.com/s/lato/v16/S6u8w4BMUTPHjxsAXC-v.ttf`,\\n});\\n\\nFont.register({\\n  family: 'Lato Bold',\\n  src: `https://fonts.gstatic.com/s/lato/v16/S6u9w4BMUTPHh6UVSwiPHA.ttf`,\\n});\\n\\nconst Resume = props => (\\n  <Page {...props} style={styles.page}>\\n    <Header />\\n    <View style={styles.container}>\\n      <View style={styles.leftColumn}>\\n        <Image\\n          src=\\\"https://react-pdf.org/static/images/luke.jpg\\\"\\n          style={styles.image}\\n        />\\n        <Education />\\n        <Skills />\\n      </View>\\n      <Experience />\\n    </View>\\n    <Text style={styles.footer}>This IS the candidate you are looking for</Text>\\n  </Page>\\n);\\n\\nexport default () => (\\n  <Document\\n    author=\\\"Luke Skywalker\\\"\\n    keywords=\\\"awesome, resume, start wars\\\"\\n    subject=\\\"The resume of Luke Skywalker\\\"\\n    title=\\\"Resume\\\"\\n  >\\n    <Resume size=\\\"A4\\\" />\\n    <Resume orientation=\\\"landscape\\\" size=\\\"A4\\\" />\\n    <Resume size={[380, 1250]} />\\n  </Document>\\n);\\n\\n[end of index.js]\\n[start of README.md]\\n<p align=\\\"center\\\">\\n  <img src=\\\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\\\" height=\\\"280px\\\">\\n  <p align=\\\"center\\\">React renderer for creating PDF files on the browser and server<p>\\n  <p align=\\\"center\\\">\\n    <a href=\\\"https://www.npmjs.com/package/@react-pdf/renderer\\\">\\n      <img src=\\\"https://img.shields.io/npm/v/@react-pdf/renderer.svg\\\" />\\n    </a>\\n    <a href=\\\"https://travis-ci.org/diegomura/react-pdf\\\">\\n      <img src=\\\"https://img.shields.io/travis/diegomura/react-pdf.svg\\\" />\\n    </a>\\n    <a href=\\\"https://github.com/diegomura/react-pdf/blob/master/LICENSE\\\">\\n      <img src=\\\"https://img.shields.io/github/license/diegomura/react-pdf.svg\\\" />\\n    </a>\\n    <a href=\\\"https://spectrum.chat/react-pdf\\\">\\n      <img src=\\\"https://withspectrum.github.io/badge/badge.svg\\\" />\\n    </a>\\n    <a href=\\\"https://github.com/prettier/prettier\\\">\\n      <img src=\\\"https://img.shields.io/badge/styled_with-prettier-ff69b4.svg\\\" />\\n    </a>\\n    <a href=\\\"https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_shield\\\" alt=\\\"FOSSA Status\\\"><img src=\\\"https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=shield\\\"/></a>\\n  </p>\\n</p>\\n\\n## How to install\\n```sh\\nyarn add @react-pdf/renderer\\n```\\n\\n## How it works\\n\\n```jsx\\nimport React from 'react';\\nimport { Document, Page, Text, View, StyleSheet } from '@react-pdf/renderer';\\n\\n// Create styles\\nconst styles = StyleSheet.create({\\n  page: {\\n    flexDirection: 'row',\\n    backgroundColor: '#E4E4E4'\\n  },\\n  section: {\\n    margin: 10,\\n    padding: 10,\\n    flexGrow: 1\\n  }\\n});\\n\\n// Create Document Component\\nconst MyDocument = () => (\\n  <Document>\\n    <Page size=\\\"A4\\\" style={styles.page}>\\n      <View style={styles.section}>\\n        <Text>Section #1</Text>\\n      </View>\\n      <View style={styles.section}>\\n        <Text>Section #2</Text>\\n      </View>\\n    </Page>\\n  </Document>\\n);\\n```\\n\\n### `Web.` Render in DOM\\n```jsx\\nimport React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport { PDFViewer } from '@react-pdf/renderer';\\n\\nconst App = () => (\\n  <PDFViewer>\\n    <MyDocument />\\n  </PDFViewer>\\n);\\n\\nReactDOM.render(<App />, document.getElementById('root'));\\n```\\n\\n### `Node.` Save in a file\\n```jsx\\nimport React from 'react';\\nimport ReactPDF from '@react-pdf/renderer';\\n\\nReactPDF.render(<MyDocument />, `${__dirname}/example.pdf`);\\n```\\n\\n## Examples\\nFor each example, try opening `output.pdf` to see the result.\\n\\n<table>\\n\\t<tbody>\\n\\t\\t<tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/text/thumb.png\\\">\\n        <br>\\n        <a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/text/\\\">Text</a>\\n      </td>\\n\\t\\t\\t<td align=\\\"center\\\" valign=\\\"top\\\">\\n\\t\\t\\t\\t<img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/resume/thumb.png\\\">\\n\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t<a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/resume/\\\">Resume</a>\\n\\t\\t\\t</td>\\n\\t\\t\\t<td align=\\\"center\\\" valign=\\\"top\\\">\\n\\t\\t\\t\\t<img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/fractals/thumb.png\\\">\\n\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t<a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/fractals/\\\">Fractals</a>\\n\\t\\t\\t</td>\\n\\t\\t</tr>\\n\\t</tbody>\\n</table>\\n<table>\\n\\t<tbody>\\n\\t\\t<tr>\\n\\t\\t\\t<td align=\\\"center\\\" valign=\\\"top\\\">\\n\\t\\t\\t\\t<img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/knobs/thumb.png\\\">\\n\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t<a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/knobs/\\\">Knobs</a>\\n\\t\\t\\t</td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/pageWrap/thumb.png\\\">\\n        <br>\\n        <a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/pageWrap/\\\">Page wrap</a>\\n      </td>\\n\\t\\t</tr>\\n\\t</tbody>\\n</table>\\n\\n## Contributors\\n\\nThis project exists thanks to all the people who contribute. [[Contribute]](CONTRIBUTING.md).\\n<a href=\\\"https://github.com/diegomura/react-pdf/graphs/contributors\\\"><img src=\\\"https://opencollective.com/react-pdf/contributors.svg?width=890\\\" /></a>\\n\\n## Sponsors\\n\\nThank you to all our sponsors! [[Become a sponsors](https://opencollective.com/react-pdf#sponsors)]\\n\\n<a href=\\\"https://opencollective.com/react-pdf#sponsors\\\" target=\\\"_blank\\\"><img src=\\\"https://opencollective.com/react-pdf/sponsors.svg?width=890\\\"></a>\\n\\n## Backers\\n\\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\\n\\n<a href=\\\"https://opencollective.com/react-pdf#backers\\\" target=\\\"_blank\\\"><img src=\\\"https://opencollective.com/react-pdf/backers.svg?width=890\\\"></a>\\n\\n## License\\n\\nMIT \\u00a9 [Diego Muracciole](http://github.com/diegomura)\\n\\n[![FOSSA Status](https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=large)](https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_large)\\n\\n---\\n![](https://img.shields.io/npm/dt/@react-pdf/renderer.svg?style=flat)\\n\\n[end of README.md]\\n[start of Experience.js]\\n/* eslint-disable react/no-array-index-key */\\n\\nimport React from 'react';\\nimport { Text, View, StyleSheet } from '@react-pdf/renderer';\\n\\nimport Title from './Title';\\nimport List, { Item } from './List';\\n\\nconst styles = StyleSheet.create({\\n  container: {\\n    flex: 1,\\n    paddingTop: 30,\\n    paddingLeft: 15,\\n    '@media max-width: 400': {\\n      paddingTop: 10,\\n      paddingLeft: 0,\\n    },\\n  },\\n  entryContainer: {\\n    marginBottom: 10,\\n  },\\n  date: {\\n    fontSize: 11,\\n    fontFamily: 'Lato Italic',\\n  },\\n  detailContainer: {\\n    flexDirection: 'row',\\n  },\\n  detailLeftColumn: {\\n    flexDirection: 'column',\\n    marginLeft: 10,\\n    marginRight: 10,\\n  },\\n  detailRightColumn: {\\n    flexDirection: 'column',\\n    flexGrow: 9,\\n  },\\n  bulletPoint: {\\n    fontSize: 10,\\n  },\\n  details: {\\n    fontSize: 10,\\n    fontFamily: 'Lato',\\n  },\\n  headerContainer: {\\n    flexDirection: 'row',\\n    marginBottom: 10,\\n  },\\n  leftColumn: {\\n    flexDirection: 'column',\\n    flexGrow: 9,\\n  },\\n  rightColumn: {\\n    flexDirection: 'column',\\n    flexGrow: 1,\\n    alignItems: 'flex-end',\\n    justifySelf: 'flex-end',\\n  },\\n  title: {\\n    fontSize: 11,\\n    color: 'black',\\n    textDecoration: 'none',\\n    fontFamily: 'Lato Bold',\\n  },\\n});\\n\\nconst ExperienceEntry = ({ company, details, position, date }) => {\\n  const title = `${company} | ${position}`;\\n  return (\\n    <View style={styles.entryContainer}>\\n      <View style={styles.headerContainer}>\\n        <View style={styles.leftColumn}>\\n          <Text style={styles.title}>{title}</Text>\\n        </View>\\n        <View style={styles.rightColumn}>\\n          <Text style={styles.date}>{date}</Text>\\n        </View>\\n      </View>\\n      <List>\\n        {details.map((detail, i) => (\\n          <Item key={i} style={styles.detailContainer}>\\n            {detail}\\n          </Item>\\n        ))}\\n      </List>\\n    </View>\\n  );\\n};\\n\\nconst experienceData = [\\n  {\\n    company: 'Jedi Temple, Coruseant',\\n    date: 'A long time ago...',\\n    details: [\\n      'Started a new Jedi Temple in order to train the next generation of Jedi Masters',\\n      'Discovered and trained a new generation of Jedi Knights, which he recruited from within the New Republic',\\n      'Communicates with decesased Jedi Masters such as Anakin Skywalker, Yoda, Obi-Wan Kenobi in order to learn the secrets of the Jedi Order',\\n    ],\\n    position: 'Head Jedi Master',\\n  },\\n  {\\n    company: 'Rebel Alliance',\\n    date: 'A long time ago...',\\n    details: [\\n      'Lead legions of troops into battle while demonstrating bravery, competence and honor',\\n      'Created complicated battle plans in conjunction with other Rebel leaders in order to ensure the greatest chance of success',\\n      'Defeated Darth Vader in single-combat, and convinced him to betray his mentor, the Emperor',\\n    ],\\n    position: 'General',\\n  },\\n  {\\n    company: 'Rebel Alliance',\\n    date: 'A long time ago...',\\n    details: [\\n      'Destroyed the Death Star by using the force to find its only weakness and delivering a torpedo into the center of the ship',\\n      'Commanded of squadron of X-Wings into battle',\\n      'Defeated an enemy AT-AT single handedly after his ship was destroyed',\\n      'Awarded a medal for valor and bravery in battle for his successful destruction of the Death Star',\\n    ],\\n    position: 'Lieutenant Commander',\\n  },\\n  {\\n    company: 'Tatooine Moisture Refinery',\\n    date: 'A long time ago...',\\n    details: [\\n      'Replaced damaged power converters',\\n      'Performed menial labor thoughout the farm in order to ensure its continued operation',\\n    ],\\n    position: 'Moisture Farmer',\\n  },\\n];\\n\\nconst Experience = () => (\\n  <View style={styles.container}>\\n    <Title>Experience</Title>\\n    {experienceData.map(({ company, date, details, position }) => (\\n      <ExperienceEntry\\n        company={company}\\n        date={date}\\n        details={details}\\n        key={company + position}\\n        position={position}\\n      />\\n    ))}\\n  </View>\\n);\\n\\nexport default Experience;\\n\\n[end of Experience.js]\\n[start of index.js]\\nimport React from 'react';\\nimport { Document, Page, View, Text, StyleSheet } from '@react-pdf/renderer';\\n\\nconst styles = StyleSheet.create({\\n  select: {\\n    height: '9%',\\n    alignItems: 'center',\\n    flexDirection: 'row',\\n    paddingHorizontal: '30px',\\n  },\\n  bar: {\\n    flexGrow: 1,\\n    height: '10px',\\n    backgroundColor: 'gray',\\n  },\\n  barMiddle: {\\n    width: '50%',\\n    height: '100%',\\n    backgroundColor: 'lightgray',\\n    margin: 'auto',\\n  },\\n  knob: {\\n    alignItems: 'center',\\n    justifyContent: 'center',\\n    width: '20px',\\n    height: '20px',\\n    borderRadius: 10,\\n    borderWidth: 3,\\n    borderColor: 'orange',\\n    position: 'absolute',\\n    backgroundColor: 'white',\\n    fontSize: 8,\\n    top: -6,\\n  },\\n  text: {\\n    fontSize: 10,\\n  },\\n});\\n\\nconst Knob = ({ value }) => (\\n  <View style={[styles.knob, { left: `${value - 3}%` }]}>\\n    <Text style={{ fontSize: 8, marginTop: 4 }}>{value}</Text>\\n  </View>\\n);\\n\\nconst Select = props => (\\n  <View style={styles.select}>\\n    <Text style={[styles.text, { marginRight: '15px' }]}>0%</Text>\\n    <View style={styles.bar}>\\n      <View style={styles.barMiddle} />\\n      <Knob {...props} />\\n    </View>\\n    <Text style={[styles.text, { marginLeft: '15px' }]}>100%</Text>\\n  </View>\\n);\\n\\nexport default () => (\\n  <Document>\\n    <Page size=\\\"A5\\\">\\n      <Select value={0} />\\n      <Select value={10} />\\n      <Select value={20} />\\n      <Select value={30} />\\n      <Select value={40} />\\n      <Select value={50} />\\n      <Select value={60} />\\n      <Select value={70} />\\n      <Select value={80} />\\n      <Select value={90} />\\n      <Select value={100} />\\n    </Page>\\n  </Document>\\n);\\n\\n[end of index.js]\\n\\n</code>\\n\\nHere is an example of a patch file. It consists of changes to the code base. It specifies the file names, the line numbers of each change, and the removed and added lines. A single patch file can contain changes to multiple files.\\n\\n<patch>\\ndiff --git a/file.py b/file.py\\n--- a/file.py\\n+++ b/file.py\\n@@ -1,27 +1,35 @@\\n def euclidean(a, b):\\n-    while b:\\n-        a, b = b, a % b\\n-    return a\\n+    if b == 0:\\n+        return a\\n+    return euclidean(b, a % b)\\n \\n def bresenham(x0, y0, x1, y1):\\n+    points = []\\n+    dx = abs(x1 - x0)\\n+    dy = abs(y1 - y0)\\n+    sx = 1 if x0 < x1 else -1\\n+    sy = 1 if y0 < y1 else -1\\n+    err = dx - dy\\n+    \\n     while True:\\n-        plot(x0, y0)\\n+        points.append((x0, y0))\\n         if x0 == x1 and y0 == y1:\\n             break\\n-        e2 = 2 * err\\n-        if e2 > -dy:\\n-            err -= dy\\n-            x0 += sx\\n-        if e2 < dx:\\n-            err += dx\\n-            y0 += sy\\n+        e2 = 2 * err\\n+        if e2 > -dy:\\n+            err -= dy\\n+            x0 += sx\\n+        if e2 < dx:\\n+            err += dx\\n+            y0 += sy\\n+    return points\\n+</patch>\\n\\nI need you to solve the provided issue by generating a single patch file that I can apply directly to this repository using git apply. Please respond with a single patch file in the format shown above.\\n\\nRespond below: \\n\"}]",
      "retrieved_file_paths": [
        "README.md",
        "index.js",
        "README.md",
        "Experience.js",
        "index.js"
      ]
    },
    "retrieved_documents": [
      {
        "id": "401ae391-ee3a-493b-bc3f-20e9e5aedd4b",
        "score": 0.01639344262295082,
        "payload": {
          "text": "<p align=\"center\">\n  <img src=\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\" height=\"280px\">\n  <p align=\"center\">React renderer for creating PDF files on the browser and server<p>\n  <p align=\"center\">\n    <a href=\"https://www.npmjs.com/package/@react-pdf/renderer\">\n      <img src=\"https://img.shields.io/npm/v/@react-pdf/renderer.svg\" />\n    </a>\n    <a href=\"https://travis-ci.org/diegomura/react-pdf\">\n      <img src=\"https://img.shields.io/travis/diegomura/react-pdf.svg\" />\n    </a>\n    <a href=\"https://github.com/diegomura/react-pdf/blob/master/LICENSE\">\n      <img src=\"https://img.shields.io/github/license/diegomura/react-pdf.svg\" />\n    </a>\n    <a href=\"https://github.com/prettier/prettier\">\n      <img src=\"https://img.shields.io/badge/styled_with-prettier-ff69b4.svg\" />\n    </a>\n    <a href=\"https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_shield\" alt=\"FOSSA Status\"><img src=\"https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=shield\"/></a>\n  </p>\n</p>\n\n> New react-pdf 2.0 was relesed. [Read about the announcement](http://react-pdf.org/blog/announcing-react-pdf-v2)\n\n## Lost?\n\nThis package is used to _create_ PDFs using React. If you wish to _display_ existing PDFs, you may be looking for [react-pdf](https://github.com/wojtekmaj/react-pdf).\n\n## How to install\n```sh\nyarn add @react-pdf/renderer\n```\n\n## How it works\n\n```jsx\nimport React from 'react';\nimport { Document, Page, Text, View, StyleSheet } from '@react-pdf/renderer';\n\n// Create styles\nconst styles = StyleSheet.create({\n  page: {\n    flexDirection: 'row',\n    backgroundColor: '#E4E4E4'\n  },\n  section: {\n    margin: 10,\n    padding: 10,\n    flexGrow: 1\n  }\n});\n\n// Create Document Component\nconst MyDocument = () => (\n  <Document>\n    <Page size=\"A4\" style={styles.page}>\n      <View style={styles.section}>\n        <Text>Section #1</Text>\n      </View>\n      <View style={styles.section}>\n        <Text>Section #2</Text>\n      </View>\n    </Page>\n  </Document>\n);\n```\n\n### `Web.` Render in DOM\n```jsx\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { PDFViewer } from '@react-pdf/renderer';\n\nconst App = () => (\n  <PDFViewer>\n    <MyDocument />\n  </PDFViewer>\n);\n\nReactDOM.render(<App />, document.getElementById('root'));\n```\n\n### `Node.` Save in a file\n```jsx\nimport React from 'react';\nimport ReactPDF from '@react-pdf/renderer';\n\nReactPDF.render(<MyDocument />, `${__dirname}/example.pdf`);\n```\n\n## Contributors\n\nThis project exists thanks to all the people who contribute. [[Contribute]](CONTRIBUTING.md).\n<a href=\"https://github.com/diegomura/react-pdf/graphs/contributors\"><img src=\"https://opencollective.com/react-pdf/contributors.svg?width=890\" /></a>\n\n## Sponsors\n\nThank you to all our sponsors! [[Become a sponsors](https://opencollective.com/react-pdf#sponsors)]\n\n<a href=\"https://opencollective.com/react-pdf#sponsors\" target=\"_blank\"><img src=\"https://opencollective.com/react-pdf/sponsors.svg?width=890\"></a>\n\n## Backers\n\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\n\n<a href=\"https://opencollective.com/react-pdf#backers\" target=\"_blank\"><img src=\"https://opencollective.com/react-pdf/backers.svg?width=890\"></a>\n\n## License\n\nMIT \u00a9 [Diego Muracciole](http://github.com/diegomura)\n\n[![FOSSA Status](https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=large)](https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_large)\n\n---\n![](https://img.shields.io/npm/dt/@react-pdf/renderer.svg?style=flat)\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/README.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "401ae391-ee3a-493b-bc3f-20e9e5aedd4b"
        }
      },
      {
        "id": "822dff2f-1d62-4ab0-8c28-c6935174b893",
        "score": 0.016129032258064516,
        "payload": {
          "text": "import React from 'react';\nimport {\n  Text,\n  Font,\n  Page,\n  View,\n  Image,\n  Document,\n  StyleSheet,\n} from '@react-pdf/renderer';\n\nimport Header from './Header';\nimport Skills from './Skills';\nimport Education from './Education';\nimport Experience from './Experience';\n\nconst styles = StyleSheet.create({\n  page: {\n    padding: 30,\n  },\n  container: {\n    flex: 1,\n    flexDirection: 'row',\n    '@media max-width: 400': {\n      flexDirection: 'column',\n    },\n  },\n  image: {\n    marginBottom: 10,\n  },\n  leftColumn: {\n    flexDirection: 'column',\n    width: 170,\n    paddingTop: 30,\n    paddingRight: 15,\n    '@media max-width: 400': {\n      width: '100%',\n      paddingRight: 0,\n    },\n    '@media orientation: landscape': {\n      width: 200,\n    },\n  },\n  footer: {\n    fontSize: 12,\n    fontFamily: 'Lato Bold',\n    textAlign: 'center',\n    marginTop: 15,\n    paddingTop: 5,\n    borderWidth: 3,\n    borderColor: 'gray',\n    borderStyle: 'dashed',\n    '@media orientation: landscape': {\n      marginTop: 10,\n    },\n  },\n});\n\nFont.register({\n  family: 'Open Sans',\n  src: `https://fonts.gstatic.com/s/opensans/v17/mem8YaGs126MiZpBA-UFVZ0e.ttf`,\n});\n\nFont.register({\n  family: 'Lato',\n  src: `https://fonts.gstatic.com/s/lato/v16/S6uyw4BMUTPHjx4wWw.ttf`,\n});\n\nFont.register({\n  family: 'Lato Italic',\n  src: `https://fonts.gstatic.com/s/lato/v16/S6u8w4BMUTPHjxsAXC-v.ttf`,\n});\n\nFont.register({\n  family: 'Lato Bold',\n  src: `https://fonts.gstatic.com/s/lato/v16/S6u9w4BMUTPHh6UVSwiPHA.ttf`,\n});\n\nconst Resume = props => (\n  <Page {...props} style={styles.page}>\n    <Header />\n    <View style={styles.container}>\n      <View style={styles.leftColumn}>\n        <Image\n          src=\"https://react-pdf.org/static/images/luke.jpg\"\n          style={styles.image}\n        />\n        <Education />\n        <Skills />\n      </View>\n      <Experience />\n    </View>\n    <Text style={styles.footer}>This IS the candidate you are looking for</Text>\n  </Page>\n);\n\nexport default () => (\n  <Document\n    author=\"Luke Skywalker\"\n    keywords=\"awesome, resume, start wars\"\n    subject=\"The resume of Luke Skywalker\"\n    title=\"Resume\"\n  >\n    <Resume size=\"A4\" />\n    <Resume orientation=\"landscape\" size=\"A4\" />\n    <Resume size={[380, 1250]} />\n  </Document>\n);\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/packages/examples/src/resume/index.js",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "822dff2f-1d62-4ab0-8c28-c6935174b893"
        }
      },
      {
        "id": "adceb749-ad96-47f9-b286-0f8d059de07f",
        "score": 0.015873015873015872,
        "payload": {
          "text": "<p align=\"center\">\n  <img src=\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\" height=\"280px\">\n  <p align=\"center\">React renderer for creating PDF files on the browser and server<p>\n  <p align=\"center\">\n    <a href=\"https://www.npmjs.com/package/@react-pdf/renderer\">\n      <img src=\"https://img.shields.io/npm/v/@react-pdf/renderer.svg\" />\n    </a>\n    <a href=\"https://travis-ci.org/diegomura/react-pdf\">\n      <img src=\"https://img.shields.io/travis/diegomura/react-pdf.svg\" />\n    </a>\n    <a href=\"https://github.com/diegomura/react-pdf/blob/master/LICENSE\">\n      <img src=\"https://img.shields.io/github/license/diegomura/react-pdf.svg\" />\n    </a>\n    <a href=\"https://spectrum.chat/react-pdf\">\n      <img src=\"https://withspectrum.github.io/badge/badge.svg\" />\n    </a>\n    <a href=\"https://github.com/prettier/prettier\">\n      <img src=\"https://img.shields.io/badge/styled_with-prettier-ff69b4.svg\" />\n    </a>\n    <a href=\"https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_shield\" alt=\"FOSSA Status\"><img src=\"https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=shield\"/></a>\n  </p>\n</p>\n\n## How to install\n```sh\nyarn add @react-pdf/renderer\n```\n\n## How it works\n\n```jsx\nimport React from 'react';\nimport { Document, Page, Text, View, StyleSheet } from '@react-pdf/renderer';\n\n// Create styles\nconst styles = StyleSheet.create({\n  page: {\n    flexDirection: 'row',\n    backgroundColor: '#E4E4E4'\n  },\n  section: {\n    margin: 10,\n    padding: 10,\n    flexGrow: 1\n  }\n});\n\n// Create Document Component\nconst MyDocument = () => (\n  <Document>\n    <Page size=\"A4\" style={styles.page}>\n      <View style={styles.section}>\n        <Text>Section #1</Text>\n      </View>\n      <View style={styles.section}>\n        <Text>Section #2</Text>\n      </View>\n    </Page>\n  </Document>\n);\n```\n\n### `Web.` Render in DOM\n```jsx\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { PDFViewer } from '@react-pdf/renderer';\n\nconst App = () => (\n  <PDFViewer>\n    <MyDocument />\n  </PDFViewer>\n);\n\nReactDOM.render(<App />, document.getElementById('root'));\n```\n\n### `Node.` Save in a file\n```jsx\nimport React from 'react';\nimport ReactPDF from '@react-pdf/renderer';\n\nReactPDF.render(<MyDocument />, `${__dirname}/example.pdf`);\n```\n\n## Examples\nFor each example, try opening `output.pdf` to see the result.\n\n<table>\n\t<tbody>\n\t\t<tr>\n      <td align=\"center\" valign=\"top\">\n        <img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/text/thumb.png\">\n        <br>\n        <a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/text/\">Text</a>\n      </td>\n\t\t\t<td align=\"center\" valign=\"top\">\n\t\t\t\t<img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/resume/thumb.png\">\n\t\t\t\t<br>\n\t\t\t\t<a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/resume/\">Resume</a>\n\t\t\t</td>\n\t\t\t<td align=\"center\" valign=\"top\">\n\t\t\t\t<img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/fractals/thumb.png\">\n\t\t\t\t<br>\n\t\t\t\t<a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/fractals/\">Fractals</a>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n<table>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td align=\"center\" valign=\"top\">\n\t\t\t\t<img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/knobs/thumb.png\">\n\t\t\t\t<br>\n\t\t\t\t<a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/knobs/\">Knobs</a>\n\t\t\t</td>\n      <td align=\"center\" valign=\"top\">\n        <img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/pageWrap/thumb.png\">\n        <br>\n        <a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/pageWrap/\">Page wrap</a>\n      </td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n## Contributors\n\nThis project exists thanks to all the people who contribute. [[Contribute]](CONTRIBUTING.md).\n<a href=\"https://github.com/diegomura/react-pdf/graphs/contributors\"><img src=\"https://opencollective.com/react-pdf/contributors.svg?width=890\" /></a>\n\n## Sponsors\n\nThank you to all our sponsors! [[Become a sponsors](https://opencollective.com/react-pdf#sponsors)]\n\n<a href=\"https://opencollective.com/react-pdf#sponsors\" target=\"_blank\"><img src=\"https://opencollective.com/react-pdf/sponsors.svg?width=890\"></a>\n\n## Backers\n\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\n\n<a href=\"https://opencollective.com/react-pdf#backers\" target=\"_blank\"><img src=\"https://opencollective.com/react-pdf/backers.svg?width=890\"></a>\n\n## License\n\nMIT \u00a9 [Diego Muracciole](http://github.com/diegomura)\n\n[![FOSSA Status](https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=large)](https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_large)\n\n---\n![](https://img.shields.io/npm/dt/@react-pdf/renderer.svg?style=flat)\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/packages/renderer/README.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "adceb749-ad96-47f9-b286-0f8d059de07f"
        }
      },
      {
        "id": "33ac0320-5671-4b2f-86a2-62bca34be9ed",
        "score": 0.015625,
        "payload": {
          "text": "/* eslint-disable react/no-array-index-key */\n\nimport React from 'react';\nimport { Text, View, StyleSheet } from '@react-pdf/renderer';\n\nimport Title from './Title';\nimport List, { Item } from './List';\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    paddingTop: 30,\n    paddingLeft: 15,\n    '@media max-width: 400': {\n      paddingTop: 10,\n      paddingLeft: 0,\n    },\n  },\n  entryContainer: {\n    marginBottom: 10,\n  },\n  date: {\n    fontSize: 11,\n    fontFamily: 'Lato Italic',\n  },\n  detailContainer: {\n    flexDirection: 'row',\n  },\n  detailLeftColumn: {\n    flexDirection: 'column',\n    marginLeft: 10,\n    marginRight: 10,\n  },\n  detailRightColumn: {\n    flexDirection: 'column',\n    flexGrow: 9,\n  },\n  bulletPoint: {\n    fontSize: 10,\n  },\n  details: {\n    fontSize: 10,\n    fontFamily: 'Lato',\n  },\n  headerContainer: {\n    flexDirection: 'row',\n    marginBottom: 10,\n  },\n  leftColumn: {\n    flexDirection: 'column',\n    flexGrow: 9,\n  },\n  rightColumn: {\n    flexDirection: 'column',\n    flexGrow: 1,\n    alignItems: 'flex-end',\n    justifySelf: 'flex-end',\n  },\n  title: {\n    fontSize: 11,\n    color: 'black',\n    textDecoration: 'none',\n    fontFamily: 'Lato Bold',\n  },\n});\n\nconst ExperienceEntry = ({ company, details, position, date }) => {\n  const title = `${company} | ${position}`;\n  return (\n    <View style={styles.entryContainer}>\n      <View style={styles.headerContainer}>\n        <View style={styles.leftColumn}>\n          <Text style={styles.title}>{title}</Text>\n        </View>\n        <View style={styles.rightColumn}>\n          <Text style={styles.date}>{date}</Text>\n        </View>\n      </View>\n      <List>\n        {details.map((detail, i) => (\n          <Item key={i} style={styles.detailContainer}>\n            {detail}\n          </Item>\n        ))}\n      </List>\n    </View>\n  );\n};\n\nconst experienceData = [\n  {\n    company: 'Jedi Temple, Coruseant',\n    date: 'A long time ago...',\n    details: [\n      'Started a new Jedi Temple in order to train the next generation of Jedi Masters',\n      'Discovered and trained a new generation of Jedi Knights, which he recruited from within the New Republic',\n      'Communicates with decesased Jedi Masters such as Anakin Skywalker, Yoda, Obi-Wan Kenobi in order to learn the secrets of the Jedi Order',\n    ],\n    position: 'Head Jedi Master',\n  },\n  {\n    company: 'Rebel Alliance',\n    date: 'A long time ago...',\n    details: [\n      'Lead legions of troops into battle while demonstrating bravery, competence and honor',\n      'Created complicated battle plans in conjunction with other Rebel leaders in order to ensure the greatest chance of success',\n      'Defeated Darth Vader in single-combat, and convinced him to betray his mentor, the Emperor',\n    ],\n    position: 'General',\n  },\n  {\n    company: 'Rebel Alliance',\n    date: 'A long time ago...',\n    details: [\n      'Destroyed the Death Star by using the force to find its only weakness and delivering a torpedo into the center of the ship',\n      'Commanded of squadron of X-Wings into battle',\n      'Defeated an enemy AT-AT single handedly after his ship was destroyed',\n      'Awarded a medal for valor and bravery in battle for his successful destruction of the Death Star',\n    ],\n    position: 'Lieutenant Commander',\n  },\n  {\n    company: 'Tatooine Moisture Refinery',\n    date: 'A long time ago...',\n    details: [\n      'Replaced damaged power converters',\n      'Performed menial labor thoughout the farm in order to ensure its continued operation',\n    ],\n    position: 'Moisture Farmer',\n  },\n];\n\nconst Experience = () => (\n  <View style={styles.container}>\n    <Title>Experience</Title>\n    {experienceData.map(({ company, date, details, position }) => (\n      <ExperienceEntry\n        company={company}\n        date={date}\n        details={details}\n        key={company + position}\n        position={position}\n      />\n    ))}\n  </View>\n);\n\nexport default Experience;\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/packages/examples/src/resume/Experience.js",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "33ac0320-5671-4b2f-86a2-62bca34be9ed"
        }
      },
      {
        "id": "8c9064b9-4905-40e8-8c4f-0e64af16a3b7",
        "score": 0.015384615384615385,
        "payload": {
          "text": "import React from 'react';\nimport { Document, Page, View, Text, StyleSheet } from '@react-pdf/renderer';\n\nconst styles = StyleSheet.create({\n  select: {\n    height: '9%',\n    alignItems: 'center',\n    flexDirection: 'row',\n    paddingHorizontal: '30px',\n  },\n  bar: {\n    flexGrow: 1,\n    height: '10px',\n    backgroundColor: 'gray',\n  },\n  barMiddle: {\n    width: '50%',\n    height: '100%',\n    backgroundColor: 'lightgray',\n    margin: 'auto',\n  },\n  knob: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '20px',\n    height: '20px',\n    borderRadius: 10,\n    borderWidth: 3,\n    borderColor: 'orange',\n    position: 'absolute',\n    backgroundColor: 'white',\n    fontSize: 8,\n    top: -6,\n  },\n  text: {\n    fontSize: 10,\n  },\n});\n\nconst Knob = ({ value }) => (\n  <View style={[styles.knob, { left: `${value - 3}%` }]}>\n    <Text style={{ fontSize: 8, marginTop: 4 }}>{value}</Text>\n  </View>\n);\n\nconst Select = props => (\n  <View style={styles.select}>\n    <Text style={[styles.text, { marginRight: '15px' }]}>0%</Text>\n    <View style={styles.bar}>\n      <View style={styles.barMiddle} />\n      <Knob {...props} />\n    </View>\n    <Text style={[styles.text, { marginLeft: '15px' }]}>100%</Text>\n  </View>\n);\n\nexport default () => (\n  <Document>\n    <Page size=\"A5\">\n      <Select value={0} />\n      <Select value={10} />\n      <Select value={20} />\n      <Select value={30} />\n      <Select value={40} />\n      <Select value={50} />\n      <Select value={60} />\n      <Select value={70} />\n      <Select value={80} />\n      <Select value={90} />\n      <Select value={100} />\n    </Page>\n  </Document>\n);\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/packages/examples/src/knobs/index.js",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "8c9064b9-4905-40e8-8c4f-0e64af16a3b7"
        }
      }
    ]
  },
  {
    "instance_id": "diegomura__react-pdf-1341",
    "model_patch": "diff --git a/src/utils/styleProcessor.js b/src/utils/styleProcessor.js\n--- a/src/utils/styleProcessor.js\n+++ b/src/utils/styleProcessor.js\n@@ -10,7 +10,7 @@ const processStyle = (style) => {\n     const processedStyle = {};\n \n     for (const key in style) {\n-        const value = style[key];\n+        let value = style[key];\n \n         if (typeof value === 'string' && value.includes(' ')) {\n             const [first, ...rest] = value.split(' ');\n@@ -18,6 +18,10 @@ const processStyle = (style) => {\n             processedStyle[key] = [first, rest.join(' ')];\n         } else {\n             processedStyle[key] = value;\n+        }\n+\n+        if (key === 'flex' && typeof value === 'number') {\n+            value = `${value} 1 0%`;\n         }\n     }",
    "model_name_or_path": "text_bm25",
    "metrics": {
      "issue_embedding_time_ms": 0.0,
      "retrieval_time_ms_bm25": 32.45,
      "retrieval_time_ms": 32.45,
      "total_retrieval_time_ms": 32.45,
      "generation_time_ms": 3008.87,
      "total_io_time_ms": 3041.32,
      "input_total_token_limit": null,
      "issue_text_tokens": 175,
      "vlm_tokens": 0,
      "retrieved_tokens": 2903,
      "prompt_template_tokens": 513,
      "total_input_prompt_tokens": 3591,
      "output_generated_tokens": 202,
      "total_io_tokens": 3793,
      "input_prompt_text": "[{\"type\": \"text\", \"text\": \"You will be provided with a partial code base and an issue statement explaining a problem to resolve.\\n<issue>\\nLatest update 2.0.13 produces a flexbox error when using \\\"flex\\\"\\n**Describe the bug**\\r\\nIf I use the \\\"flex\\\" keyword in css in the latest update it gives me the error \\\"TypeError: value.split is not a function\\\"  (Such as flex:1)\\r\\n\\r\\n**To Reproduce**\\r\\nSteps to reproduce the behavior including code snippet (if applies):\\r\\n1. Use flex keyword in css\\r\\n\\r\\n**Screenshots**\\r\\n![value split is not a function](https://user-images.githubusercontent.com/3676669/119581286-7ec0e880-bd7f-11eb-8eb6-0983bf4c8f45.png)\\r\\n\\r\\n**Desktop (please complete the following information):**\\r\\n - OS: Windows\\r\\n - Browser: Firefox/Chrome\\r\\n - React-pdf version: 2.0.13\\r\\n\\n\\n</issue>\\n\\n<code>\\n[start of bug_report.md]\\n---\\nname: Bug report\\nabout: Create a report to help us improve\\ntitle: ''\\nlabels: ''\\nassignees: ''\\n\\n---\\n\\n**Describe the bug**\\nA clear and concise description of what the bug is.\\n\\n**To Reproduce**\\nSteps to reproduce the behavior including code snippet (if applies):\\n1. Go to '...'\\n2. Click on '....'\\n3. Scroll down to '....'\\n4. See error\\n\\n_You can make use of [react-pdf REPL](https://react-pdf/repl) to share the snippet_\\n\\n**Expected behavior**\\nA clear and concise description of what you expected to happen.\\n\\n**Screenshots**\\nIf applicable, add screenshots to help explain your problem.\\n\\n**Desktop (please complete the following information):**\\n - OS: [e.g. MacOS, Windows]\\n - Browser [e.g. chrome, safari]\\n - React-pdf version [e.g. v1.1.0]\\n\\n<!-- Love react-pdf? Please consider supporting our collective:\\n\\ud83d\\udc49  https://opencollective.com/react-pdf/donate -->\\n\\n[end of bug_report.md]\\n[start of CODE_OF_CONDUCT.md]\\n# Contributor Covenant Code of Conduct\\n\\n## Our Pledge\\n\\nIn the interest of fostering an open and welcoming environment, we as contributors and maintainers pledge to making participation in our project and our community a harassment-free experience for everyone, regardless of age, body size, disability, ethnicity, gender identity and expression, level of experience, nationality, personal appearance, race, religion, or sexual identity and orientation.\\n\\n## Our Standards\\n\\nExamples of behavior that contributes to creating a positive environment include:\\n\\n* Using welcoming and inclusive language\\n* Being respectful of differing viewpoints and experiences\\n* Gracefully accepting constructive criticism\\n* Focusing on what is best for the community\\n* Showing empathy towards other community members\\n\\nExamples of unacceptable behavior by participants include:\\n\\n* The use of sexualized language or imagery and unwelcome sexual attention or advances\\n* Trolling, insulting/derogatory comments, and personal or political attacks\\n* Public or private harassment\\n* Publishing others' private information, such as a physical or electronic address, without explicit permission\\n* Other conduct which could reasonably be considered inappropriate in a professional setting\\n\\n## Our Responsibilities\\n\\nProject maintainers are responsible for clarifying the standards of acceptable behavior and are expected to take appropriate and fair corrective action in response to any instances of unacceptable behavior.\\n\\nProject maintainers have the right and responsibility to remove, edit, or reject comments, commits, code, wiki edits, issues, and other contributions that are not aligned to this Code of Conduct, or to ban temporarily or permanently any contributor for other behaviors that they deem inappropriate, threatening, offensive, or harmful.\\n\\n## Scope\\n\\nThis Code of Conduct applies both within project spaces and in public spaces when an individual is representing the project or its community. Examples of representing a project or community include using an official project e-mail address, posting via an official social media account, or acting as an appointed representative at an online or offline event. Representation of a project may be further defined and clarified by project maintainers.\\n\\n## Enforcement\\n\\nInstances of abusive, harassing, or otherwise unacceptable behavior may be reported by contacting the project team at diegomuracciole@gmail.com. The project team will review and investigate all complaints, and will respond in a way that it deems appropriate to the circumstances. The project team is obligated to maintain confidentiality with regard to the reporter of an incident. Further details of specific enforcement policies may be posted separately.\\n\\nProject maintainers who do not follow or enforce the Code of Conduct in good faith may face temporary or permanent repercussions as determined by other members of the project's leadership.\\n\\n## Attribution\\n\\nThis Code of Conduct is adapted from the [Contributor Covenant][homepage], version 1.4, available at [http://contributor-covenant.org/version/1/4][version]\\n\\n[homepage]: http://contributor-covenant.org\\n[version]: http://contributor-covenant.org/version/1/4/\\n\\n[end of CODE_OF_CONDUCT.md]\\n[start of CONTRIBUTING.md]\\n# Contribute\\n\\n## Introduction\\n\\nFirst, thank you for considering contributing to react-pdf!\\n\\nWe welcome any type of contribution, not only code. You can help with \\n- **QA**: file bug reports, the more details you can give the better (e.g. screenshots with the console open)\\n- **Marketing**: writing blog posts, howto's, printing stickers, ...\\n- **Community**: presenting the project at meetups, organizing a dedicated meetup for the local community, ...\\n- **Code**: take a look at the [open issues](https://github.com/diegomura/react-pdf/issues). Even if you can't write code, commenting on them, showing that you care about a given issue matters. It helps us triage them.\\n- **Money**: we welcome financial contributions in full transparency on our [open collective](https://opencollective.com/react-pdf).\\n\\n## Your First Contribution\\n\\nWorking on your first Pull Request? You can learn how from this *free* series, [How to Contribute to an Open Source Project on GitHub](https://egghead.io/series/how-to-contribute-to-an-open-source-project-on-github).\\n\\n## Submitting code\\n\\nAny code change should be submitted as a pull request. The description should explain what the code does and give steps to execute it. The pull request should also contain tests.\\n\\n## Code review process\\n\\nThe bigger the pull request, the longer it will take to review and merge. Try to break down large pull requests in smaller chunks that are easier to review and merge.\\nIt is also always helpful to have some context for your pull request. What was the purpose? Why does it matter to you?\\n\\n## Financial contributions\\n\\nWe also welcome financial contributions in full transparency on our [open collective](https://opencollective.com/react-pdf).\\nAnyone can file an expense. If the expense makes sense for the development of the community, it will be \\\"merged\\\" in the ledger of our open collective by the core contributors and the person who filed the expense will be reimbursed.\\n\\n## Questions\\n\\nIf you have any questions, create an [issue](https://github.com/diegomura/react-pdf/issues) (protip: do a quick search first to see if someone else didn't ask the same question before!).\\nYou can also reach us at hello@react-pdf.opencollective.com.\\n\\n## Credits\\n\\n### Contributors\\n\\nThank you to all the people who have already contributed to react-pdf!\\n<a href=\\\"/diegomura/react-pdf/graphs/contributors\\\"><img src=\\\"https://opencollective.com/react-pdf/contributors.svg?width=890\\\" /></a>\\n\\n\\n### Backers\\n\\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\\n\\n<a href=\\\"https://opencollective.com/react-pdf#backers\\\" target=\\\"_blank\\\"><img src=\\\"https://opencollective.com/react-pdf/backers.svg?width=890\\\"></a>\\n\\n\\n<!-- This `CONTRIBUTING.md` is based on @nayafia's template https://github.com/nayafia/contributing-template -->\\n\\n[end of CONTRIBUTING.md]\\n[start of README.md]\\n<p align=\\\"center\\\">\\n  <img src=\\\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\\\" height=\\\"280px\\\">\\n</p>\\n\\n# @react-pdf/render\\n\\n> React-pdf render engine\\n\\n## How to install\\n```sh\\nyarn add @react-pdf/render\\n```\\n\\n## How it works\\n\\n```js\\nconst render = require('@react-pdf/render');\\nconst primitives = require('@react-pdf/primitives');\\n\\nconst view = {\\n  type: primitives.View,\\n  style: {\\n    backgroundColor: 'red',\\n    borderTopLeftRadius: 5,\\n    borderTopRightRadius: 10,\\n    borderBottomLeftRadius: 0,\\n    borderBottomRightRadius: 15,\\n    borderTopColor: 'yellow',\\n    borderLeftColor: 'green',\\n    borderBottomColor: 'black',\\n    borderRightColor: 'purple',\\n  },\\n  box: {\\n    left: 20,\\n    top: 20,\\n    width: 100,\\n    height: 80,\\n    borderTopWidth: 3,\\n    borderLeftWidth: 2,\\n    borderBottomWidth: 1,\\n    borderRightWidth: 4,\\n  },\\n};\\n\\nconst doc = {\\n  type: primitives.Document,\\n  children: [\\n    {\\n      type: primitives.Page,\\n      box: { width: 400, height: 600 },\\n      children: [view],\\n    },\\n  ],\\n};\\n\\n// Provide your own context\\nconst ctx = createContext();\\n\\nrender.default(ctx, doc);\\n```\\n\\nThis library exports a `render` function that takes two arguments:\\n\\n- *ctx*: This is the target context where the document is going to be rendered. React-pdf currently uses a [pdfkit](https://github.com/react-pdf/pdfkit) document as context, but it can target any other type of structure as long as it signature matches pdfkit API. In the future this will enable rendering documents into muliple formats in addition to PDF.\\n- *node*: Document root node. A node is a nested structure that defines a single element in a document. They are defined by it's `type` and arguments.\\n\\n## Node structure\\n\\nA node represents a single element inside a document. It's mainly defined by it's `type` (mandatory) field in addition to other values to define where that element is positioned inside the document (`box`), how it looks (`style`), how it should behave (`params`) and what sub-nodes it contains (`children`).\\n\\nThe root node must always be of type `DOCUMENT`, containing as many `PAGE` nodes as desired inside it's children field.\\n\\nBare in mind this package does not handle any type of node positioning, inheritance, style transformations or any other layout related logic. It's role is limited to render exactly the node it get's into the provided context. Take this into account when definig styles as `paddingTop`, `paddingLeft` and so on instead of the shortcut `padding`. For layout or styles transformation this project provides separate packages.\\n\\n### node.type\\n\\nMandatory field specifiying the type of the particular node. The full list of types can be found and imported from `@react-pdf/primitives`\\n\\n### node.box\\n\\nDefines bounding box where a particular node is located inside a document\\n\\n- left\\n- top\\n- width\\n- height\\n- paddingTop\\n- paddingLeft\\n- paddingBottom\\n- paddingRight\\n- marginTop\\n- marginLeft\\n- marginBottom\\n- marginRight\\n- borderTopWidth\\n- borderLeftWidth\\n- borderBottomWidth\\n- borderRightWidth\\n\\n### node.style\\n\\nDefines how the node looks like. There are some types of nodes that expect special style values, but generally all support:\\n\\n- color\\n- opacity\\n- overflow\\n- backgroundColor\\n- borderTopLeftRadius\\n- borderTopRightRadius\\n- borderBottomLeftRadius\\n- borderBottomRightRadius\\n- borderTopColor\\n- borderLeftColor\\n- borderBottomColor\\n- borderRightColor\\n- _others..._\\n\\n### node.props\\n\\nSpecific node params needed to render correctly ot behave like certain way. Specially needed for SVG nodes\\n\\n## PDF example\\n\\n```js\\nconst fs = require('fs');\\nconst render = require('@react-pdf/render');\\nconst pdfkit = require('@react-pdf/pdfkit');\\n\\nconst PDFDocument = pdfkit.default;\\n\\nconst ctx = new PDFDocument({ autoFirstPage: false });\\n\\nconst doc = {}; // See above\\n\\nrender.default(ctx, doc);\\n\\nconst stream = fs.createWriteStream('./test.pdf');\\n\\nctx.pipe(stream);\\n```\\n\\n## License\\n\\nMIT \\u00a9 [Diego Muracciole](http://github.com/diegomura)\\n\\n[end of README.md]\\n[start of README.md]\\n<p align=\\\"center\\\">\\n  <img src=\\\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\\\" height=\\\"280px\\\">\\n</p>\\n\\n# @react-pdf/stylesheet\\n\\n> React-pdf styles engine\\n\\n## How to install\\n\\n```sh\\nyarn add @react-pdf/stylesheet\\n```\\n\\n## How it works\\n\\n```js\\nconst stylesheet = require('@react-pdf/stylesheet');\\n\\nconst container = {\\n  width: 400,\\n  height: 600,\\n  orientation: 'portrait',\\n};\\n\\nconst style = {\\n  margin: 20,\\n  width: '50vw',\\n  height: '20vh',\\n  borderRadius: 5,\\n  fontWeight: 'semibold',\\n  borderBottom: '2 solid yellow',\\n  '@media max-width: 500': {\\n    backgroundColor: 'rgb(255, 0, 0)',\\n  },\\n};\\n\\nconst computed = stylesheet(container, style);\\n\\n// Computed\\n// {\\n//   width: 200,\\n//   height: 120,\\n//   marginTop: 20,\\n//   marginLeft: 20,\\n//   marginRight: 20,\\n//   marginBottom: 20,\\n//   marginBottom: 20,\\n//   borderTopLeftRadius: 5,\\n//   borderTopRightRadius: 5,\\n//   borderBottomLeftRadius: 5,\\n//   borderBottomRightRadius: 5,\\n//   fontWeight: 600,\\n//   borderBottomWidth: 2,\\n//   borderBottomStyle: 'solid',\\n//   borderBottomColor: 'yellow',\\n//   backgroundColor: '#FF0000'\\n// }\\n```\\n\\nThis library exports a `stylesheet` function that takes two arguments:\\n\\n- _container_: Container where the styles are being computed into. It specifies the `width` and `height` in points (needed for media queries and unit conversions), and optionally the container `orientation` (needed for certain media queries).\\n- _style_: Style to be computed. JS object with raw styles that you would like to get in a normalized format.\\n\\n## License\\n\\nMIT \\u00a9 [Diego Muracciole](http://github.com/diegomura)\\n\\n[end of README.md]\\n\\n</code>\\n\\nHere is an example of a patch file. It consists of changes to the code base. It specifies the file names, the line numbers of each change, and the removed and added lines. A single patch file can contain changes to multiple files.\\n\\n<patch>\\ndiff --git a/file.py b/file.py\\n--- a/file.py\\n+++ b/file.py\\n@@ -1,27 +1,35 @@\\n def euclidean(a, b):\\n-    while b:\\n-        a, b = b, a % b\\n-    return a\\n+    if b == 0:\\n+        return a\\n+    return euclidean(b, a % b)\\n \\n def bresenham(x0, y0, x1, y1):\\n+    points = []\\n+    dx = abs(x1 - x0)\\n+    dy = abs(y1 - y0)\\n+    sx = 1 if x0 < x1 else -1\\n+    sy = 1 if y0 < y1 else -1\\n+    err = dx - dy\\n+    \\n     while True:\\n-        plot(x0, y0)\\n+        points.append((x0, y0))\\n         if x0 == x1 and y0 == y1:\\n             break\\n-        e2 = 2 * err\\n-        if e2 > -dy:\\n-            err -= dy\\n-            x0 += sx\\n-        if e2 < dx:\\n-            err += dx\\n-            y0 += sy\\n+        e2 = 2 * err\\n+        if e2 > -dy:\\n+            err -= dy\\n+            x0 += sx\\n+        if e2 < dx:\\n+            err += dx\\n+            y0 += sy\\n+    return points\\n+</patch>\\n\\nI need you to solve the provided issue by generating a single patch file that I can apply directly to this repository using git apply. Please respond with a single patch file in the format shown above.\\n\\nRespond below: \\n\"}]",
      "retrieved_file_paths": [
        "bug_report.md",
        "CODE_OF_CONDUCT.md",
        "CONTRIBUTING.md",
        "README.md",
        "README.md"
      ]
    },
    "retrieved_documents": [
      {
        "id": "62ec4b36-1585-49a0-895a-0ef0f44bd44e",
        "score": 0.01639344262295082,
        "payload": {
          "text": "---\nname: Bug report\nabout: Create a report to help us improve\ntitle: ''\nlabels: ''\nassignees: ''\n\n---\n\n**Describe the bug**\nA clear and concise description of what the bug is.\n\n**To Reproduce**\nSteps to reproduce the behavior including code snippet (if applies):\n1. Go to '...'\n2. Click on '....'\n3. Scroll down to '....'\n4. See error\n\n_You can make use of [react-pdf REPL](https://react-pdf/repl) to share the snippet_\n\n**Expected behavior**\nA clear and concise description of what you expected to happen.\n\n**Screenshots**\nIf applicable, add screenshots to help explain your problem.\n\n**Desktop (please complete the following information):**\n - OS: [e.g. MacOS, Windows]\n - Browser [e.g. chrome, safari]\n - React-pdf version [e.g. v1.1.0]\n\n<!-- Love react-pdf? Please consider supporting our collective:\n\ud83d\udc49  https://opencollective.com/react-pdf/donate -->\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/.github/ISSUE_TEMPLATE/bug_report.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "62ec4b36-1585-49a0-895a-0ef0f44bd44e"
        }
      },
      {
        "id": "ed554f98-874c-419d-b2fc-7c71664fc6d7",
        "score": 0.016129032258064516,
        "payload": {
          "text": "# Contributor Covenant Code of Conduct\n\n## Our Pledge\n\nIn the interest of fostering an open and welcoming environment, we as contributors and maintainers pledge to making participation in our project and our community a harassment-free experience for everyone, regardless of age, body size, disability, ethnicity, gender identity and expression, level of experience, nationality, personal appearance, race, religion, or sexual identity and orientation.\n\n## Our Standards\n\nExamples of behavior that contributes to creating a positive environment include:\n\n* Using welcoming and inclusive language\n* Being respectful of differing viewpoints and experiences\n* Gracefully accepting constructive criticism\n* Focusing on what is best for the community\n* Showing empathy towards other community members\n\nExamples of unacceptable behavior by participants include:\n\n* The use of sexualized language or imagery and unwelcome sexual attention or advances\n* Trolling, insulting/derogatory comments, and personal or political attacks\n* Public or private harassment\n* Publishing others' private information, such as a physical or electronic address, without explicit permission\n* Other conduct which could reasonably be considered inappropriate in a professional setting\n\n## Our Responsibilities\n\nProject maintainers are responsible for clarifying the standards of acceptable behavior and are expected to take appropriate and fair corrective action in response to any instances of unacceptable behavior.\n\nProject maintainers have the right and responsibility to remove, edit, or reject comments, commits, code, wiki edits, issues, and other contributions that are not aligned to this Code of Conduct, or to ban temporarily or permanently any contributor for other behaviors that they deem inappropriate, threatening, offensive, or harmful.\n\n## Scope\n\nThis Code of Conduct applies both within project spaces and in public spaces when an individual is representing the project or its community. Examples of representing a project or community include using an official project e-mail address, posting via an official social media account, or acting as an appointed representative at an online or offline event. Representation of a project may be further defined and clarified by project maintainers.\n\n## Enforcement\n\nInstances of abusive, harassing, or otherwise unacceptable behavior may be reported by contacting the project team at diegomuracciole@gmail.com. The project team will review and investigate all complaints, and will respond in a way that it deems appropriate to the circumstances. The project team is obligated to maintain confidentiality with regard to the reporter of an incident. Further details of specific enforcement policies may be posted separately.\n\nProject maintainers who do not follow or enforce the Code of Conduct in good faith may face temporary or permanent repercussions as determined by other members of the project's leadership.\n\n## Attribution\n\nThis Code of Conduct is adapted from the [Contributor Covenant][homepage], version 1.4, available at [http://contributor-covenant.org/version/1/4][version]\n\n[homepage]: http://contributor-covenant.org\n[version]: http://contributor-covenant.org/version/1/4/\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/.github/CODE_OF_CONDUCT.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "ed554f98-874c-419d-b2fc-7c71664fc6d7"
        }
      },
      {
        "id": "390d9984-4d3e-4987-a216-26be5f3deba4",
        "score": 0.015873015873015872,
        "payload": {
          "text": "# Contribute\n\n## Introduction\n\nFirst, thank you for considering contributing to react-pdf!\n\nWe welcome any type of contribution, not only code. You can help with \n- **QA**: file bug reports, the more details you can give the better (e.g. screenshots with the console open)\n- **Marketing**: writing blog posts, howto's, printing stickers, ...\n- **Community**: presenting the project at meetups, organizing a dedicated meetup for the local community, ...\n- **Code**: take a look at the [open issues](https://github.com/diegomura/react-pdf/issues). Even if you can't write code, commenting on them, showing that you care about a given issue matters. It helps us triage them.\n- **Money**: we welcome financial contributions in full transparency on our [open collective](https://opencollective.com/react-pdf).\n\n## Your First Contribution\n\nWorking on your first Pull Request? You can learn how from this *free* series, [How to Contribute to an Open Source Project on GitHub](https://egghead.io/series/how-to-contribute-to-an-open-source-project-on-github).\n\n## Submitting code\n\nAny code change should be submitted as a pull request. The description should explain what the code does and give steps to execute it. The pull request should also contain tests.\n\n## Code review process\n\nThe bigger the pull request, the longer it will take to review and merge. Try to break down large pull requests in smaller chunks that are easier to review and merge.\nIt is also always helpful to have some context for your pull request. What was the purpose? Why does it matter to you?\n\n## Financial contributions\n\nWe also welcome financial contributions in full transparency on our [open collective](https://opencollective.com/react-pdf).\nAnyone can file an expense. If the expense makes sense for the development of the community, it will be \"merged\" in the ledger of our open collective by the core contributors and the person who filed the expense will be reimbursed.\n\n## Questions\n\nIf you have any questions, create an [issue](https://github.com/diegomura/react-pdf/issues) (protip: do a quick search first to see if someone else didn't ask the same question before!).\nYou can also reach us at hello@react-pdf.opencollective.com.\n\n## Credits\n\n### Contributors\n\nThank you to all the people who have already contributed to react-pdf!\n<a href=\"/diegomura/react-pdf/graphs/contributors\"><img src=\"https://opencollective.com/react-pdf/contributors.svg?width=890\" /></a>\n\n\n### Backers\n\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\n\n<a href=\"https://opencollective.com/react-pdf#backers\" target=\"_blank\"><img src=\"https://opencollective.com/react-pdf/backers.svg?width=890\"></a>\n\n\n<!-- This `CONTRIBUTING.md` is based on @nayafia's template https://github.com/nayafia/contributing-template -->\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/.github/CONTRIBUTING.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "390d9984-4d3e-4987-a216-26be5f3deba4"
        }
      },
      {
        "id": "905a84df-25ec-45dc-b5a6-103e701d6b9d",
        "score": 0.015625,
        "payload": {
          "text": "<p align=\"center\">\n  <img src=\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\" height=\"280px\">\n</p>\n\n# @react-pdf/render\n\n> React-pdf render engine\n\n## How to install\n```sh\nyarn add @react-pdf/render\n```\n\n## How it works\n\n```js\nconst render = require('@react-pdf/render');\nconst primitives = require('@react-pdf/primitives');\n\nconst view = {\n  type: primitives.View,\n  style: {\n    backgroundColor: 'red',\n    borderTopLeftRadius: 5,\n    borderTopRightRadius: 10,\n    borderBottomLeftRadius: 0,\n    borderBottomRightRadius: 15,\n    borderTopColor: 'yellow',\n    borderLeftColor: 'green',\n    borderBottomColor: 'black',\n    borderRightColor: 'purple',\n  },\n  box: {\n    left: 20,\n    top: 20,\n    width: 100,\n    height: 80,\n    borderTopWidth: 3,\n    borderLeftWidth: 2,\n    borderBottomWidth: 1,\n    borderRightWidth: 4,\n  },\n};\n\nconst doc = {\n  type: primitives.Document,\n  children: [\n    {\n      type: primitives.Page,\n      box: { width: 400, height: 600 },\n      children: [view],\n    },\n  ],\n};\n\n// Provide your own context\nconst ctx = createContext();\n\nrender.default(ctx, doc);\n```\n\nThis library exports a `render` function that takes two arguments:\n\n- *ctx*: This is the target context where the document is going to be rendered. React-pdf currently uses a [pdfkit](https://github.com/react-pdf/pdfkit) document as context, but it can target any other type of structure as long as it signature matches pdfkit API. In the future this will enable rendering documents into muliple formats in addition to PDF.\n- *node*: Document root node. A node is a nested structure that defines a single element in a document. They are defined by it's `type` and arguments.\n\n## Node structure\n\nA node represents a single element inside a document. It's mainly defined by it's `type` (mandatory) field in addition to other values to define where that element is positioned inside the document (`box`), how it looks (`style`), how it should behave (`params`) and what sub-nodes it contains (`children`).\n\nThe root node must always be of type `DOCUMENT`, containing as many `PAGE` nodes as desired inside it's children field.\n\nBare in mind this package does not handle any type of node positioning, inheritance, style transformations or any other layout related logic. It's role is limited to render exactly the node it get's into the provided context. Take this into account when definig styles as `paddingTop`, `paddingLeft` and so on instead of the shortcut `padding`. For layout or styles transformation this project provides separate packages.\n\n### node.type\n\nMandatory field specifiying the type of the particular node. The full list of types can be found and imported from `@react-pdf/primitives`\n\n### node.box\n\nDefines bounding box where a particular node is located inside a document\n\n- left\n- top\n- width\n- height\n- paddingTop\n- paddingLeft\n- paddingBottom\n- paddingRight\n- marginTop\n- marginLeft\n- marginBottom\n- marginRight\n- borderTopWidth\n- borderLeftWidth\n- borderBottomWidth\n- borderRightWidth\n\n### node.style\n\nDefines how the node looks like. There are some types of nodes that expect special style values, but generally all support:\n\n- color\n- opacity\n- overflow\n- backgroundColor\n- borderTopLeftRadius\n- borderTopRightRadius\n- borderBottomLeftRadius\n- borderBottomRightRadius\n- borderTopColor\n- borderLeftColor\n- borderBottomColor\n- borderRightColor\n- _others..._\n\n### node.props\n\nSpecific node params needed to render correctly ot behave like certain way. Specially needed for SVG nodes\n\n## PDF example\n\n```js\nconst fs = require('fs');\nconst render = require('@react-pdf/render');\nconst pdfkit = require('@react-pdf/pdfkit');\n\nconst PDFDocument = pdfkit.default;\n\nconst ctx = new PDFDocument({ autoFirstPage: false });\n\nconst doc = {}; // See above\n\nrender.default(ctx, doc);\n\nconst stream = fs.createWriteStream('./test.pdf');\n\nctx.pipe(stream);\n```\n\n## License\n\nMIT \u00a9 [Diego Muracciole](http://github.com/diegomura)\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/packages/render/README.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "905a84df-25ec-45dc-b5a6-103e701d6b9d"
        }
      },
      {
        "id": "16b0166a-fd2c-4999-b8f8-9ba912d98e6b",
        "score": 0.015384615384615385,
        "payload": {
          "text": "<p align=\"center\">\n  <img src=\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\" height=\"280px\">\n</p>\n\n# @react-pdf/stylesheet\n\n> React-pdf styles engine\n\n## How to install\n\n```sh\nyarn add @react-pdf/stylesheet\n```\n\n## How it works\n\n```js\nconst stylesheet = require('@react-pdf/stylesheet');\n\nconst container = {\n  width: 400,\n  height: 600,\n  orientation: 'portrait',\n};\n\nconst style = {\n  margin: 20,\n  width: '50vw',\n  height: '20vh',\n  borderRadius: 5,\n  fontWeight: 'semibold',\n  borderBottom: '2 solid yellow',\n  '@media max-width: 500': {\n    backgroundColor: 'rgb(255, 0, 0)',\n  },\n};\n\nconst computed = stylesheet(container, style);\n\n// Computed\n// {\n//   width: 200,\n//   height: 120,\n//   marginTop: 20,\n//   marginLeft: 20,\n//   marginRight: 20,\n//   marginBottom: 20,\n//   marginBottom: 20,\n//   borderTopLeftRadius: 5,\n//   borderTopRightRadius: 5,\n//   borderBottomLeftRadius: 5,\n//   borderBottomRightRadius: 5,\n//   fontWeight: 600,\n//   borderBottomWidth: 2,\n//   borderBottomStyle: 'solid',\n//   borderBottomColor: 'yellow',\n//   backgroundColor: '#FF0000'\n// }\n```\n\nThis library exports a `stylesheet` function that takes two arguments:\n\n- _container_: Container where the styles are being computed into. It specifies the `width` and `height` in points (needed for media queries and unit conversions), and optionally the container `orientation` (needed for certain media queries).\n- _style_: Style to be computed. JS object with raw styles that you would like to get in a normalized format.\n\n## License\n\nMIT \u00a9 [Diego Muracciole](http://github.com/diegomura)\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/packages/stylesheet/README.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "16b0166a-fd2c-4999-b8f8-9ba912d98e6b"
        }
      }
    ]
  },
  {
    "instance_id": "diegomura__react-pdf-1363",
    "model_patch": "diff --git a/src/elements/Text.js b/src/elements/Text.js\n--- a/src/elements/Text.js\n+++ b/src/elements/Text.js\n@@ -1,5 +1,6 @@\n import React, { Component } from 'react';\n import { Text as PDFText } from '@react-pdf/renderer';\n+import { parseColor } from '../utils/color';\n \n class Text extends Component {\n   render() {\n@@ -7,7 +8,10 @@\n     const { style, children, ...props } = this.props;\n \n     const textStyle = Array.isArray(style) ? style : [style];\n-    const mergedStyle = Object.assign({}, ...textStyle);\n+    const mergedStyle = Object.assign(\n+      {},\n+      ...textStyle.map(style => ({ ...style, color: parseColor(style.color) }))\n+    );\n \n     return (\n       <PDFText style={mergedStyle} {...props}>\ndiff --git a/src/utils/color.js b/src/utils/color.js\nnew file mode 100644\n--- /dev/null\n+++ b/src/utils/color.js\n@@ -0,0 +1,20 @@\n+export const parseColor = color => {\n+  if (!color) return color;\n+\n+  const rgbaMatch = color.match(/^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+),?\\s*(\\d*\\.?\\d+)?\\)$/);\n+\n+  if (rgbaMatch) {\n+    const [, r, g, b, a = 1] = rgbaMatch;\n+    const alpha = Math.round(parseFloat(a) * 255);\n+    return `#${((1 << 24) + (parseInt(r) << 16) + (parseInt(g) << 8) + parseInt(b)).toString(16).slice(1)}${alpha.toString(16).padStart(2, '0')}`;\n+  }\n+\n+  return color;\n+};\n+\n+export default parseColor;\ndiff --git a/src/index.js b/src/index.js\n--- a/src/index.js\n+++ b/src/index.js\n@@ -1,6 +1,7 @@\n import React from 'react';\n import ReactDOM from 'react-dom';\n import { Document, Page, Text, View, StyleSheet } from '@react-pdf/renderer';\n+import parseColor from './utils/color';\n \n const styles = StyleSheet.create({\n   page: {",
    "model_name_or_path": "text_bm25",
    "metrics": {
      "issue_embedding_time_ms": 0.0,
      "retrieval_time_ms_bm25": 33.69,
      "retrieval_time_ms": 33.69,
      "total_retrieval_time_ms": 33.69,
      "generation_time_ms": 5113.32,
      "total_io_time_ms": 5147.01,
      "input_total_token_limit": null,
      "issue_text_tokens": 1855,
      "vlm_tokens": 0,
      "retrieved_tokens": 7361,
      "prompt_template_tokens": 513,
      "total_input_prompt_tokens": 9729,
      "output_generated_tokens": 520,
      "total_io_tokens": 10249,
      "input_prompt_text": "[{\"type\": \"text\", \"text\": \"You will be provided with a partial code base and an issue statement explaining a problem to resolve.\\n<issue>\\nRGBA color doesn't work correct in Text component\\n**Describe the bug**\\r\\nhttps://react-pdf.org/repl?code=3187b0760ce02e00408a057025803c450298c0bc300500943807cf805030c00f0022230080b6198531165d400a02180e659a004f003619b006f61622003a0046200099080beed3a72a00d490600ee31a788913e4f6001acf80271008c1280c2204481b00b8600721b7dcde0003000d08484c2c802b0137aaba872695000a860a2c31a4b19c84023c94121418bc66a6938f0003802dd4021b8c002497a216140d8f140f0c129608a768239230120033d80c108c060015860d90d0c81746088c00198f23080422c00592128f089f22cd2c8249621214fa16374c2f4c002c8f18300ecf39e515003d0a5a468947eba03003127f74941442609280dc9e1f1f8026150b0422d158b144a94002898c1cf7041f0783625bdd3acf57bbd517706109166010231e4362c032600047642cd16167701c6ccc545b3de9f4e230106f45be4308c72a2d3958001b92115954ebe2f60723a2cee6e082937a600017a7458301e3409022311d9513c7e513459417be4f8081e2a2ecc04a98d56bd5038c6044ed4c1403616529dcb21800154c09d5703cee87638c1180043fd62a2c9d0553b43c4b0373511043b9506a3327ea33fa865bc30106a421965b40c2b992ed6dea8ce9f32471bf9b12b1a616fbab795b322e37cd470017d8dca8746520d9c98023fdbf6083698ff591c60af8e03ac651fa39461aac6bd7d6b41b3045cd9307bc102060ef218b00ed1ec4ac59d01d72c0f3f4c00880825e460f074be67722acb312982a2c021c26b3e302c1d682091bdec4a74d79ac7a340a3bf446020faa2eac0207eab6ba880f981e1026ca8b764a1aaa84b0b7918328bc9d040580ece01b4e6286e009168601ee12006a2c35be6ab0ae20346291806aa4c630e405a96300389d06cb9b36d8696424d1fa830c4bb11ea06da518203322b87c27872fa5b2d686044909b878e180ae086596326c4680105aca8b04ce52f426aa20ab9a10254f98b01015abd109cb0c05e8fac266c301408c8f04243c7281cdd1b4d18006236120866e1a6a15a4980cdb40763e69a8a68b311dd90caf336ac0e96b96ca8acc9d0d28c985a908c630b243059bc40634a160db047158053020d96927603520000dc419b47e7da36212f6bb88186c482a6ba9f43c09ad1a5cb319add10c249e60e660ca69a2b36ccc8b08c97da4a5c533da09bc0f5603f814566836ab7bc130a6da741482ac776bc4829a57ab63c0adee1de51774d01604876c93040c0395f20b0041da0e145728d8f9bf4330d46d166dc8c5078c89c52c00ea9af5158e6083d2f48c274ff771db794dc913d97e6483058fa74728069d1d590dd8a1975d976de62117cea9648c0f1b861618d5d000972b1b2bc441473d927be2e5038ab45d624d88568a3f382a0968e091890988992fb0dac88b808001c93064cd8aa2a59facc921e012361a1f87b32a2d9474222f0023eaaa110d8290783e600018002412307181874cacc51f7c3029769e1c99c36aa217a281051dc9280604a0c0df27b3f137008fc74030cc2b0ec0109b59064095e0140b20b27c055980d8f1c70eb1b342178de000f2103e887128de02d940407336f3b1405039410078df37cab1cf721f0847e4c02c8a0230df040df16c07c884a1be22a0008c00199be0004d000fa4900034b680006c2000007000751008a9e40c6250a03181408001a001387800041121b20afaac6f06407394f320678211427d4b8000328071613b03006079e24c303b40c06bd282281505e02439c45c4a09421e248201ca1785019104fa70091522c01f000042e81b2a302f008314788fb4aa2f800009092015ba888791fa3282a8251f910a060511e711fab01614808d23898000098000b128ca0980d2090910674c036f600ec56631f67173c4aa9d1105bc7c1ef7fe47c382d88e018ca03f1784623340b8a806e23c5786015e3fc56554850182684f099126c344cd042cfc0ae4d157d191781f1210d25289c87900a188271792e7a14cf1c0390594c694bcc24c0129653f25c4cdedbd9261f6a1362ec4548196298924ce29a52626b8f71232fc79c409952425f0299de196a5a558421ea670399f131277824832c1b0005a0004a394c00ac980e93280cb7e09e37266ca69601b42cc37e8718a758d059334c795731e9d8a6044e9ab238270fb4b30366507c9c327678cad9cd2b45b4ef168b3809caa9e726a70e3a9653613b86deb60302dca51ff31385764e393c456c028481c036f5cadb140a603b9b8a8641c825e71142b49d130140792ca0621561402f08ab5299d4be6aaca652b39172226d2b15c24e1132964acaba4d0c9ed3c3e5f0e00500b80d012a0bc63aaf2a0970d02605eec40ad500000\\r\\n\\r\\n**Expected behavior**\\r\\nWhen setting color or backgroundColor (rgba) for Text component, I want color to work the same as View component\\r\\n\\r\\n![image](https://user-images.githubusercontent.com/19285404/120582712-23fe4f80-c457-11eb-871b-d0029dfc245f.png)\\r\\n\\r\\n\\r\\n\\n\\n</issue>\\n\\n<code>\\n[start of index.d.ts]\\ndeclare module '@react-pdf/renderer' {\\n  import * as React from 'react';\\n  import {\\n    Style,\\n    PageSize,\\n    FontStore,\\n    Orientation,\\n    SourceObject,\\n    HyphenationCallback,\\n    SVGPresentationAttributes,\\n  } from '@react-pdf/types';\\n\\n  namespace ReactPDF {\\n    interface Styles {\\n      [key: string]: Style;\\n    }\\n\\n    interface OnRenderProps {\\n      blob?: Blob;\\n    }\\n\\n    interface DocumentProps {\\n      title?: string;\\n      author?: string;\\n      subject?: string;\\n      keywords?: string;\\n      creator?: string;\\n      producer?: string;\\n      onRender?: (props: OnRenderProps) => any;\\n    }\\n\\n    /**\\n     * This component represent the PDF document itself. It must be the root\\n     * of your tree element structure, and under no circumstances should it be\\n     * used as children of another react-pdf component. In addition, it should\\n     * only have childs of type <Page />.\\n     */\\n    class Document extends React.Component<DocumentProps> {}\\n\\n    interface NodeProps {\\n      id?: string;\\n      style?: Style | Style[];\\n      /**\\n       * Render component in all wrapped pages.\\n       * @see https://react-pdf.org/advanced#fixed-components\\n       */\\n      fixed?: boolean;\\n      /**\\n       * Force the wrapping algorithm to start a new page when rendering the\\n       * element.\\n       * @see https://react-pdf.org/advanced#page-breaks\\n       */\\n      break?: boolean;\\n      /**\\n       * Hint that no page wrapping should occur between all sibling elements following the element within n points\\n       * @see https://react-pdf.org/advanced#orphan-&-widow-protection\\n       */\\n      minPresenceAhead?: number;\\n    }\\n\\n    interface PageProps extends NodeProps {\\n      /**\\n       * Enable page wrapping for this page.\\n       * @see https://react-pdf.org/components#page-wrapping\\n       */\\n      wrap?: boolean;\\n      /**\\n       * Enables debug mode on page bounding box.\\n       * @see https://react-pdf.org/advanced#debugging\\n       */\\n      debug?: boolean;\\n      size?: PageSize;\\n      orientation?: Orientation;\\n    }\\n\\n    /**\\n     * Represents single page inside the PDF document, or a subset of them if\\n     * using the wrapping feature. A <Document /> can contain as many pages as\\n     * you want, but ensure not rendering a page inside any component besides\\n     * Document.\\n     */\\n    class Page extends React.Component<PageProps> {}\\n\\n    interface ViewProps extends NodeProps {\\n      id?: string;\\n      /**\\n       * Enable/disable page wrapping for element.\\n       * @see https://react-pdf.org/components#page-wrapping\\n       */\\n      wrap?: boolean;\\n      /**\\n       * Enables debug mode on page bounding box.\\n       * @see https://react-pdf.org/advanced#debugging\\n       */\\n      debug?: boolean;\\n      render?: (props: {\\n        pageNumber: number;\\n        subPageNumber: number;\\n      }) => React.ReactNode;\\n      children?: React.ReactNode;\\n      id?: string;\\n    }\\n\\n    /**\\n     * The most fundamental component for building a UI and is designed to be\\n     * nested inside other views and can have 0 to many children.\\n     */\\n    class View extends React.Component<ViewProps> {}\\n\\n    interface BaseImageProps extends NodeProps {\\n      /**\\n       * Enables debug mode on page bounding box.\\n       * @see https://react-pdf.org/advanced#debugging\\n       */\\n      debug?: boolean;\\n      cache?: boolean;\\n    }\\n\\n    interface ImageWithSrcProp extends BaseImageProps {\\n      src: SourceObject;\\n    }\\n\\n    interface ImageWithSourceProp extends BaseImageProps {\\n      source: SourceObject;\\n    }\\n\\n    type ImageProps = ImageWithSrcProp | ImageWithSourceProp;\\n\\n    /**\\n     * A React component for displaying network or local (Node only) JPG or\\n     * PNG images, as well as base64 encoded image strings.\\n     */\\n    class Image extends React.Component<ImageProps> {}\\n\\n    interface TextProps extends NodeProps {\\n      id?: string;\\n      /**\\n       * Enable/disable page wrapping for element.\\n       * @see https://react-pdf.org/components#page-wrapping\\n       */\\n      wrap?: boolean;\\n      /**\\n       * Enables debug mode on page bounding box.\\n       * @see https://react-pdf.org/advanced#debugging\\n       */\\n      debug?: boolean;\\n      render?: (props: {\\n        pageNumber: number;\\n        totalPages: number;\\n        subPageNumber: number;\\n        subPageTotalPages: number;\\n      }) => React.ReactNode;\\n      children?: React.ReactNode;\\n      id?: string;\\n      /**\\n       * Override the default hyphenation-callback\\n       * @see https://react-pdf.org/fonts#registerhyphenationcallback\\n       */\\n      hyphenationCallback?: HyphenationCallback;\\n      /**\\n       * Specifies the minimum number of lines in a text element that must be shown at the bottom of a page or its container.\\n       * @see https://react-pdf.org/advanced#orphan-&-widow-protection\\n       */\\n      orphans?: number;\\n      /**\\n       * Specifies the minimum number of lines in a text element that must be shown at the top of a page or its container..\\n       * @see https://react-pdf.org/advanced#orphan-&-widow-protection\\n       */\\n      widows?: number;\\n    }\\n\\n    interface SVGTextProps extends SVGPresentationAttributes {\\n      style?: SVGPresentationAttributes;\\n      x: string | number;\\n      y: string | number;\\n      /**\\n       * Override the default hyphenation-callback\\n       * @see https://react-pdf.org/fonts#registerhyphenationcallback\\n       */\\n      hyphenationCallback?: HyphenationCallback;\\n    }\\n\\n    /**\\n     * A React component for displaying text. Text supports nesting of other\\n     * Text or Link components to create inline styling.\\n     */\\n    class Text extends React.Component<TextProps | SVGTextProps> {}\\n\\n    interface LinkProps extends NodeProps {\\n      /**\\n       * Enable/disable page wrapping for element.\\n       * @see https://react-pdf.org/components#page-wrapping\\n       */\\n      wrap?: boolean;\\n      /**\\n       * Enables debug mode on page bounding box.\\n       * @see https://react-pdf.org/advanced#debugging\\n       */\\n      debug?: boolean;\\n      src: string;\\n      children?: React.ReactNode;\\n    }\\n\\n    /**\\n     * A React component for displaying a hyperlink. Link\\u2019s can be nested\\n     * inside a Text component, or being inside any other valid primitive.\\n     */\\n    class Link extends React.Component<LinkProps> {}\\n\\n    interface NoteProps extends NodeProps {\\n      children: string;\\n    }\\n\\n    class Note extends React.Component<NoteProps> {}\\n\\n    interface CanvasProps extends NodeProps {\\n      /**\\n       * Enables debug mode on page bounding box.\\n       * @see https://react-pdf.org/advanced#debugging\\n       */\\n      debug?: boolean;\\n      paint: (\\n        painter: any,\\n        availableWidth: number,\\n        availableHeight: number,\\n      ) => null;\\n    }\\n\\n    class Canvas extends React.Component<CanvasProps> {}\\n\\n    interface SVGProps extends NodeProps {\\n      /**\\n       * Enables debug mode on page bounding box.\\n       * @see https://react-pdf.org/advanced#debugging\\n       */\\n      debug?: boolean;\\n      width?: string | number;\\n      height?: string | number;\\n      viewBox?: string;\\n      preserveAspectRatio?: string;\\n    }\\n\\n    /**\\n     * The <SVG /> element is a container that defines a new coordinate system and viewport. It is used as the outermost element of SVG documents.\\n     */\\n    class Svg extends React.Component<SVGProps> {}\\n\\n    interface LineProps extends SVGPresentationAttributes {\\n      style?: SVGPresentationAttributes;\\n      x1: string | number;\\n      x2: string | number;\\n      y1: string | number;\\n      y2: string | number;\\n    }\\n\\n    /**\\n     * The <Line /> element is used to create a line.\\n     */\\n    class Line extends React.Component<LineProps> {}\\n\\n    interface PolylineProps extends SVGPresentationAttributes {\\n      style?: SVGPresentationAttributes;\\n      points: string;\\n    }\\n\\n    /**\\n     * The <Polyline /> element is used to create any shape that consists of only straight lines (that is connected at several points).\\n     */\\n    class Polyline extends React.Component<PolylineProps> {}\\n\\n    interface PolygonProps extends SVGPresentationAttributes {\\n      style?: SVGPresentationAttributes;\\n      points: string;\\n    }\\n\\n    /**\\n     * The <Polygon /> element is used to create a graphic that contains at least three sides.\\n     * Polygons are made of straight lines, and the shape is \\\"closed\\\" (all the lines connect up).\\n     */\\n    class Polygon extends React.Component<PolygonProps> {}\\n\\n    interface PathProps extends SVGPresentationAttributes {\\n      style?: SVGPresentationAttributes;\\n      d: string;\\n    }\\n\\n    /**\\n     * The <Path /> element is the most powerful element in the SVG library of basic shapes. It can be used to create lines, curves, arcs, and more.\\n     */\\n    class Path extends React.Component<PathProps> {}\\n\\n    interface RectProps extends SVGPresentationAttributes {\\n      style?: SVGPresentationAttributes;\\n      x: string | number;\\n      y: string | number;\\n      width: string | number;\\n      height: string | number;\\n      rx?: string | number;\\n      ry?: string | number;\\n    }\\n\\n    /**\\n     * The <Rect /> element is used to create a rectangle and variations of a rectangle shape.\\n     */\\n    class Rect extends React.Component<RectProps> {}\\n\\n    interface CircleProps extends SVGPresentationAttributes {\\n      style?: SVGPresentationAttributes;\\n      cx: string | number;\\n      cy: string | number;\\n      r: string | number;\\n    }\\n\\n    /**\\n     * The <Circle /> element is used to create a circle.\\n     */\\n    class Circle extends React.Component<CircleProps> {}\\n\\n    interface EllipseProps extends SVGPresentationAttributes {\\n      style?: SVGPresentationAttributes;\\n      cx: string | number;\\n      cy: string | number;\\n      rx: string | number;\\n      ry: string | number;\\n    }\\n\\n    /**\\n     * The <Ellipse /> element is used to create an ellipse.\\n     * An ellipse is closely related to a circle. The difference is that an ellipse has an x and a y radius that differs from each other, while a circle has equal x and y radius.\\n     */\\n    class Ellipse extends React.Component<EllipseProps> {}\\n\\n    interface GProps extends SVGPresentationAttributes {}\\n\\n    /**\\n     * The <G /> SVG element is a container used to group other SVG elements.\\n     * Transformations applied to the <G /> element are performed on its child elements, and its attributes are inherited by its children.\\n     */\\n    class G extends React.Component<GProps> {}\\n\\n    interface StopProps {\\n      offset: string | number;\\n      stopColor: string;\\n      stopOpacity?: string | number;\\n    }\\n\\n    /**\\n     * The SVG <Stop /> element defines a color and its position to use on a gradient. This element is always a child of a <LinearGradient /> or <RadialGradient /> element\\n     */\\n    class Stop extends React.Component<StopProps> {}\\n\\n    interface DefsProps {}\\n\\n    /**\\n     * The <Defs /> element is used to store graphical objects that will be used at a later time. Objects created inside a <Defs /> element are not rendered directly. To display them you have to reference them\\n     */\\n    class Defs extends React.Component<DefsProps> {}\\n\\n    interface ClipPathProps {\\n      id?: string;\\n    }\\n\\n    /**\\n     * The <ClipPath /> SVG element defines a clipping path, to be used by the clipPath property.\\n     * A clipping path restricts the region to which paint can be applied. Conceptually, parts of the drawing that lie outside of the region bounded by the clipping path are not drawn.\\n     */\\n    class ClipPath extends React.Component<ClipPathProps> {}\\n\\n    interface LinearGradientProps {\\n      x1: string | number;\\n      x2: string | number;\\n      y1: string | number;\\n      y2: string | number;\\n    }\\n\\n    /**\\n     * The <LinearGradient /> element lets authors define linear gradients that can be applied to fill or stroke of graphical elements.\\n     */\\n    class LinearGradient extends React.Component<LinearGradientProps> {}\\n\\n    interface RadialGradientProps {\\n      cx: string | number;\\n      cy: string | number;\\n      fr: string | number;\\n      fx: string | number;\\n      fy: string | number;\\n    }\\n\\n    /**\\n     * The <RadialGradient /> element lets authors define radial gradients that can be applied to fill or stroke of graphical elements.\\n     */\\n    class RadialGradient extends React.Component<RadialGradientProps> {}\\n\\n    interface BlobProviderParams {\\n      blob: Blob | null;\\n      url: string | null;\\n      loading: boolean;\\n      error: Error | null;\\n    }\\n    interface BlobProviderProps {\\n      document: React.ReactElement<DocumentProps>;\\n      children: (params: BlobProviderParams) => React.ReactNode;\\n    }\\n\\n    /**\\n     * Easy and declarative way of getting document's blob data without\\n     * showing it on screen.\\n     * @see https://react-pdf.org/advanced#on-the-fly-rendering\\n     * @platform web\\n     */\\n    class BlobProvider extends React.Component<BlobProviderProps> {}\\n\\n    interface PDFViewerProps {\\n      width?: number | string;\\n      height?: number | string;\\n      style?: Style | Style[];\\n      className?: string;\\n      children?: React.ReactElement<DocumentProps>;\\n      innerRef?: React.Ref<HTMLIFrameElement>;\\n    }\\n\\n    /**\\n     * Iframe PDF viewer for client-side generated documents.\\n     * @platform web\\n     */\\n    class PDFViewer extends React.Component<PDFViewerProps> {}\\n\\n    interface PDFDownloadLinkProps {\\n      document: React.ReactElement<DocumentProps>;\\n      fileName?: string;\\n      style?: Style | Style[];\\n      className?: string;\\n      children?:\\n        | React.ReactNode\\n        | ((params: BlobProviderParams) => React.ReactNode);\\n    }\\n\\n    /**\\n     * Anchor tag to enable generate and download PDF documents on the fly.\\n     * @see https://react-pdf.org/advanced#on-the-fly-rendering\\n     * @platform web\\n     */\\n    class PDFDownloadLink extends React.Component<PDFDownloadLinkProps> {}\\n\\n    interface UsePDFInstance {\\n      loading: boolean;\\n      blob: Blob | null;\\n      url: string | null;\\n      error: string | null;\\n    }\\n\\n    /**\\n     * React hook for creating and updating a PDF document instance\\n     * @platform web\\n     */\\n    function usePDF(options: {\\n      document: React.ReactElement<DocumentProps>;\\n    }): [UsePDFInstance, () => void];\\n\\n    const Font: FontStore;\\n\\n    const StyleSheet: {\\n      hairlineWidth: number;\\n      create: <T extends Styles>(styles: T) => T;\\n      resolve: (\\n        style: Style,\\n        container: {\\n          width: number;\\n          height: number;\\n          orientation: Orientation;\\n        },\\n      ) => Style;\\n      flatten: (...styles: (Style[] | Style | undefined)[]) => Style;\\n      absoluteFillObject: {\\n        position: 'absolute';\\n        left: 0;\\n        right: 0;\\n        top: 0;\\n        bottom: 0;\\n      };\\n    };\\n\\n    const version: any;\\n\\n    const PDFRenderer: any;\\n\\n    const pdf: (\\n      initialValue?: React.ReactElement<DocumentProps>,\\n      onChange?: () => {},\\n    ) => {\\n      container: any;\\n      isDirty: () => boolean;\\n      updateContainer: (document: React.ReactElement<any>) => void;\\n      toBuffer: () => Promise<NodeJS.ReadableStream>;\\n      toBlob: () => Promise<Blob>;\\n      toString: () => string;\\n    };\\n\\n    const renderToStream: (\\n      document: React.ReactElement<DocumentProps>,\\n    ) => Promise<NodeJS.ReadableStream>;\\n\\n    const renderToString: (\\n      document: React.ReactElement<DocumentProps>,\\n    ) => string;\\n\\n    const renderToFile: (\\n      document: React.ReactElement<DocumentProps>,\\n      filePath: string,\\n      callback?: (output: NodeJS.ReadableStream, filePath: string) => any,\\n    ) => Promise<NodeJS.ReadableStream>;\\n\\n    const render: typeof renderToFile;\\n  }\\n\\n  const pdf: typeof ReactPDF.pdf;\\n  const Document: typeof ReactPDF.Document;\\n  const Page: typeof ReactPDF.Page;\\n  const View: typeof ReactPDF.View;\\n  const Image: typeof ReactPDF.Image;\\n  const Text: typeof ReactPDF.Text;\\n  const Canvas: typeof ReactPDF.Canvas;\\n  const Link: typeof ReactPDF.Link;\\n  const Note: typeof ReactPDF.Note;\\n  const Svg: typeof ReactPDF.Svg;\\n  const Line: typeof ReactPDF.Line;\\n  const Polyline: typeof ReactPDF.Polyline;\\n  const Polygon: typeof ReactPDF.Polygon;\\n  const Path: typeof ReactPDF.Path;\\n  const Rect: typeof ReactPDF.Rect;\\n  const Circle: typeof ReactPDF.Circle;\\n  const Ellipse: typeof ReactPDF.Ellipse;\\n  const G: typeof ReactPDF.G;\\n  const Stop: typeof ReactPDF.Stop;\\n  const Defs: typeof ReactPDF.Defs;\\n  const ClipPath: typeof ReactPDF.ClipPath;\\n  const LinearGradient: typeof ReactPDF.LinearGradient;\\n  const RadialGradient: typeof ReactPDF.RadialGradient;\\n  const Font: typeof ReactPDF.Font;\\n  const StyleSheet: typeof ReactPDF.StyleSheet;\\n  const PDFRenderer: typeof ReactPDF.PDFRenderer;\\n  const version: typeof ReactPDF.version;\\n  const renderToFile: typeof ReactPDF.renderToFile;\\n  const renderToString: typeof ReactPDF.renderToString;\\n  const renderToStream: typeof ReactPDF.renderToStream;\\n  const usePDF: typeof ReactPDF.usePDF;\\n  const PDFViewer: typeof ReactPDF.PDFViewer;\\n  const BlobProvider: typeof ReactPDF.BlobProvider;\\n  const PDFDownloadLink: typeof ReactPDF.PDFDownloadLink;\\n\\n  export default ReactPDF;\\n\\n  export {\\n    pdf,\\n    Document,\\n    Page,\\n    View,\\n    Image,\\n    Text,\\n    Canvas,\\n    Link,\\n    Note,\\n    Svg,\\n    Line,\\n    Polyline,\\n    Polygon,\\n    Path,\\n    Rect,\\n    Circle,\\n    Ellipse,\\n    G,\\n    Stop,\\n    Defs,\\n    ClipPath,\\n    LinearGradient,\\n    RadialGradient,\\n    Font,\\n    StyleSheet,\\n    PDFRenderer,\\n    version,\\n    renderToFile,\\n    renderToStream,\\n    renderToString,\\n    usePDF,\\n    PDFViewer,\\n    BlobProvider,\\n    PDFDownloadLink,\\n  };\\n}\\n\\n[end of index.d.ts]\\n[start of bug_report.md]\\n---\\nname: Bug report\\nabout: Create a report to help us improve\\ntitle: ''\\nlabels: ''\\nassignees: ''\\n\\n---\\n\\n**Describe the bug**\\nA clear and concise description of what the bug is.\\n\\n**To Reproduce**\\nSteps to reproduce the behavior including code snippet (if applies):\\n1. Go to '...'\\n2. Click on '....'\\n3. Scroll down to '....'\\n4. See error\\n\\n_You can make use of [react-pdf REPL](https://react-pdf/repl) to share the snippet_\\n\\n**Expected behavior**\\nA clear and concise description of what you expected to happen.\\n\\n**Screenshots**\\nIf applicable, add screenshots to help explain your problem.\\n\\n**Desktop (please complete the following information):**\\n - OS: [e.g. MacOS, Windows]\\n - Browser [e.g. chrome, safari]\\n - React-pdf version [e.g. v1.1.0]\\n\\n<!-- Love react-pdf? Please consider supporting our collective:\\n\\ud83d\\udc49  https://opencollective.com/react-pdf/donate -->\\n\\n[end of bug_report.md]\\n[start of README.md]\\n<p align=\\\"center\\\">\\n  <img src=\\\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\\\" height=\\\"280px\\\">\\n  <p align=\\\"center\\\">React renderer for creating PDF files on the browser and server<p>\\n  <p align=\\\"center\\\">\\n    <a href=\\\"https://www.npmjs.com/package/@react-pdf/renderer\\\">\\n      <img src=\\\"https://img.shields.io/npm/v/@react-pdf/renderer.svg\\\" />\\n    </a>\\n    <a href=\\\"https://travis-ci.org/diegomura/react-pdf\\\">\\n      <img src=\\\"https://img.shields.io/travis/diegomura/react-pdf.svg\\\" />\\n    </a>\\n    <a href=\\\"https://github.com/diegomura/react-pdf/blob/master/LICENSE\\\">\\n      <img src=\\\"https://img.shields.io/github/license/diegomura/react-pdf.svg\\\" />\\n    </a>\\n    <a href=\\\"https://github.com/prettier/prettier\\\">\\n      <img src=\\\"https://img.shields.io/badge/styled_with-prettier-ff69b4.svg\\\" />\\n    </a>\\n    <a href=\\\"https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_shield\\\" alt=\\\"FOSSA Status\\\"><img src=\\\"https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=shield\\\"/></a>\\n  </p>\\n</p>\\n\\n> New react-pdf 2.0 was relesed. [Read about the announcement](http://react-pdf.org/blog/announcing-react-pdf-v2)\\n\\n## Lost?\\n\\nThis package is used to _create_ PDFs using React. If you wish to _display_ existing PDFs, you may be looking for [react-pdf](https://github.com/wojtekmaj/react-pdf).\\n\\n## How to install\\n```sh\\nyarn add @react-pdf/renderer\\n```\\n\\n## How it works\\n\\n```jsx\\nimport React from 'react';\\nimport { Document, Page, Text, View, StyleSheet } from '@react-pdf/renderer';\\n\\n// Create styles\\nconst styles = StyleSheet.create({\\n  page: {\\n    flexDirection: 'row',\\n    backgroundColor: '#E4E4E4'\\n  },\\n  section: {\\n    margin: 10,\\n    padding: 10,\\n    flexGrow: 1\\n  }\\n});\\n\\n// Create Document Component\\nconst MyDocument = () => (\\n  <Document>\\n    <Page size=\\\"A4\\\" style={styles.page}>\\n      <View style={styles.section}>\\n        <Text>Section #1</Text>\\n      </View>\\n      <View style={styles.section}>\\n        <Text>Section #2</Text>\\n      </View>\\n    </Page>\\n  </Document>\\n);\\n```\\n\\n### `Web.` Render in DOM\\n```jsx\\nimport React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport { PDFViewer } from '@react-pdf/renderer';\\n\\nconst App = () => (\\n  <PDFViewer>\\n    <MyDocument />\\n  </PDFViewer>\\n);\\n\\nReactDOM.render(<App />, document.getElementById('root'));\\n```\\n\\n### `Node.` Save in a file\\n```jsx\\nimport React from 'react';\\nimport ReactPDF from '@react-pdf/renderer';\\n\\nReactPDF.render(<MyDocument />, `${__dirname}/example.pdf`);\\n```\\n\\n## Contributors\\n\\nThis project exists thanks to all the people who contribute. [[Contribute]](CONTRIBUTING.md).\\n<a href=\\\"https://github.com/diegomura/react-pdf/graphs/contributors\\\"><img src=\\\"https://opencollective.com/react-pdf/contributors.svg?width=890\\\" /></a>\\n\\n## Sponsors\\n\\nThank you to all our sponsors! [[Become a sponsors](https://opencollective.com/react-pdf#sponsors)]\\n\\n<a href=\\\"https://opencollective.com/react-pdf#sponsors\\\" target=\\\"_blank\\\"><img src=\\\"https://opencollective.com/react-pdf/sponsors.svg?width=890\\\"></a>\\n\\n## Backers\\n\\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\\n\\n<a href=\\\"https://opencollective.com/react-pdf#backers\\\" target=\\\"_blank\\\"><img src=\\\"https://opencollective.com/react-pdf/backers.svg?width=890\\\"></a>\\n\\n## License\\n\\nMIT \\u00a9 [Diego Muracciole](http://github.com/diegomura)\\n\\n[![FOSSA Status](https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=large)](https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_large)\\n\\n---\\n![](https://img.shields.io/npm/dt/@react-pdf/renderer.svg?style=flat)\\n\\n[end of README.md]\\n[start of CODE_OF_CONDUCT.md]\\n# Contributor Covenant Code of Conduct\\n\\n## Our Pledge\\n\\nIn the interest of fostering an open and welcoming environment, we as contributors and maintainers pledge to making participation in our project and our community a harassment-free experience for everyone, regardless of age, body size, disability, ethnicity, gender identity and expression, level of experience, nationality, personal appearance, race, religion, or sexual identity and orientation.\\n\\n## Our Standards\\n\\nExamples of behavior that contributes to creating a positive environment include:\\n\\n* Using welcoming and inclusive language\\n* Being respectful of differing viewpoints and experiences\\n* Gracefully accepting constructive criticism\\n* Focusing on what is best for the community\\n* Showing empathy towards other community members\\n\\nExamples of unacceptable behavior by participants include:\\n\\n* The use of sexualized language or imagery and unwelcome sexual attention or advances\\n* Trolling, insulting/derogatory comments, and personal or political attacks\\n* Public or private harassment\\n* Publishing others' private information, such as a physical or electronic address, without explicit permission\\n* Other conduct which could reasonably be considered inappropriate in a professional setting\\n\\n## Our Responsibilities\\n\\nProject maintainers are responsible for clarifying the standards of acceptable behavior and are expected to take appropriate and fair corrective action in response to any instances of unacceptable behavior.\\n\\nProject maintainers have the right and responsibility to remove, edit, or reject comments, commits, code, wiki edits, issues, and other contributions that are not aligned to this Code of Conduct, or to ban temporarily or permanently any contributor for other behaviors that they deem inappropriate, threatening, offensive, or harmful.\\n\\n## Scope\\n\\nThis Code of Conduct applies both within project spaces and in public spaces when an individual is representing the project or its community. Examples of representing a project or community include using an official project e-mail address, posting via an official social media account, or acting as an appointed representative at an online or offline event. Representation of a project may be further defined and clarified by project maintainers.\\n\\n## Enforcement\\n\\nInstances of abusive, harassing, or otherwise unacceptable behavior may be reported by contacting the project team at diegomuracciole@gmail.com. The project team will review and investigate all complaints, and will respond in a way that it deems appropriate to the circumstances. The project team is obligated to maintain confidentiality with regard to the reporter of an incident. Further details of specific enforcement policies may be posted separately.\\n\\nProject maintainers who do not follow or enforce the Code of Conduct in good faith may face temporary or permanent repercussions as determined by other members of the project's leadership.\\n\\n## Attribution\\n\\nThis Code of Conduct is adapted from the [Contributor Covenant][homepage], version 1.4, available at [http://contributor-covenant.org/version/1/4][version]\\n\\n[homepage]: http://contributor-covenant.org\\n[version]: http://contributor-covenant.org/version/1/4/\\n\\n[end of CODE_OF_CONDUCT.md]\\n[start of README.md]\\n<p align=\\\"center\\\">\\n  <img src=\\\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\\\" height=\\\"280px\\\">\\n  <p align=\\\"center\\\">React renderer for creating PDF files on the browser and server<p>\\n  <p align=\\\"center\\\">\\n    <a href=\\\"https://www.npmjs.com/package/@react-pdf/renderer\\\">\\n      <img src=\\\"https://img.shields.io/npm/v/@react-pdf/renderer.svg\\\" />\\n    </a>\\n    <a href=\\\"https://travis-ci.org/diegomura/react-pdf\\\">\\n      <img src=\\\"https://img.shields.io/travis/diegomura/react-pdf.svg\\\" />\\n    </a>\\n    <a href=\\\"https://github.com/diegomura/react-pdf/blob/master/LICENSE\\\">\\n      <img src=\\\"https://img.shields.io/github/license/diegomura/react-pdf.svg\\\" />\\n    </a>\\n    <a href=\\\"https://spectrum.chat/react-pdf\\\">\\n      <img src=\\\"https://withspectrum.github.io/badge/badge.svg\\\" />\\n    </a>\\n    <a href=\\\"https://github.com/prettier/prettier\\\">\\n      <img src=\\\"https://img.shields.io/badge/styled_with-prettier-ff69b4.svg\\\" />\\n    </a>\\n    <a href=\\\"https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_shield\\\" alt=\\\"FOSSA Status\\\"><img src=\\\"https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=shield\\\"/></a>\\n  </p>\\n</p>\\n\\n## How to install\\n```sh\\nyarn add @react-pdf/renderer\\n```\\n\\n## How it works\\n\\n```jsx\\nimport React from 'react';\\nimport { Document, Page, Text, View, StyleSheet } from '@react-pdf/renderer';\\n\\n// Create styles\\nconst styles = StyleSheet.create({\\n  page: {\\n    flexDirection: 'row',\\n    backgroundColor: '#E4E4E4'\\n  },\\n  section: {\\n    margin: 10,\\n    padding: 10,\\n    flexGrow: 1\\n  }\\n});\\n\\n// Create Document Component\\nconst MyDocument = () => (\\n  <Document>\\n    <Page size=\\\"A4\\\" style={styles.page}>\\n      <View style={styles.section}>\\n        <Text>Section #1</Text>\\n      </View>\\n      <View style={styles.section}>\\n        <Text>Section #2</Text>\\n      </View>\\n    </Page>\\n  </Document>\\n);\\n```\\n\\n### `Web.` Render in DOM\\n```jsx\\nimport React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport { PDFViewer } from '@react-pdf/renderer';\\n\\nconst App = () => (\\n  <PDFViewer>\\n    <MyDocument />\\n  </PDFViewer>\\n);\\n\\nReactDOM.render(<App />, document.getElementById('root'));\\n```\\n\\n### `Node.` Save in a file\\n```jsx\\nimport React from 'react';\\nimport ReactPDF from '@react-pdf/renderer';\\n\\nReactPDF.render(<MyDocument />, `${__dirname}/example.pdf`);\\n```\\n\\n## Examples\\nFor each example, try opening `output.pdf` to see the result.\\n\\n<table>\\n\\t<tbody>\\n\\t\\t<tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/text/thumb.png\\\">\\n        <br>\\n        <a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/text/\\\">Text</a>\\n      </td>\\n\\t\\t\\t<td align=\\\"center\\\" valign=\\\"top\\\">\\n\\t\\t\\t\\t<img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/resume/thumb.png\\\">\\n\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t<a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/resume/\\\">Resume</a>\\n\\t\\t\\t</td>\\n\\t\\t\\t<td align=\\\"center\\\" valign=\\\"top\\\">\\n\\t\\t\\t\\t<img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/fractals/thumb.png\\\">\\n\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t<a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/fractals/\\\">Fractals</a>\\n\\t\\t\\t</td>\\n\\t\\t</tr>\\n\\t</tbody>\\n</table>\\n<table>\\n\\t<tbody>\\n\\t\\t<tr>\\n\\t\\t\\t<td align=\\\"center\\\" valign=\\\"top\\\">\\n\\t\\t\\t\\t<img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/knobs/thumb.png\\\">\\n\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t<a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/knobs/\\\">Knobs</a>\\n\\t\\t\\t</td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/pageWrap/thumb.png\\\">\\n        <br>\\n        <a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/pageWrap/\\\">Page wrap</a>\\n      </td>\\n\\t\\t</tr>\\n\\t</tbody>\\n</table>\\n\\n## Contributors\\n\\nThis project exists thanks to all the people who contribute. [[Contribute]](CONTRIBUTING.md).\\n<a href=\\\"https://github.com/diegomura/react-pdf/graphs/contributors\\\"><img src=\\\"https://opencollective.com/react-pdf/contributors.svg?width=890\\\" /></a>\\n\\n## Sponsors\\n\\nThank you to all our sponsors! [[Become a sponsors](https://opencollective.com/react-pdf#sponsors)]\\n\\n<a href=\\\"https://opencollective.com/react-pdf#sponsors\\\" target=\\\"_blank\\\"><img src=\\\"https://opencollective.com/react-pdf/sponsors.svg?width=890\\\"></a>\\n\\n## Backers\\n\\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\\n\\n<a href=\\\"https://opencollective.com/react-pdf#backers\\\" target=\\\"_blank\\\"><img src=\\\"https://opencollective.com/react-pdf/backers.svg?width=890\\\"></a>\\n\\n## License\\n\\nMIT \\u00a9 [Diego Muracciole](http://github.com/diegomura)\\n\\n[![FOSSA Status](https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=large)](https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_large)\\n\\n---\\n![](https://img.shields.io/npm/dt/@react-pdf/renderer.svg?style=flat)\\n\\n[end of README.md]\\n\\n</code>\\n\\nHere is an example of a patch file. It consists of changes to the code base. It specifies the file names, the line numbers of each change, and the removed and added lines. A single patch file can contain changes to multiple files.\\n\\n<patch>\\ndiff --git a/file.py b/file.py\\n--- a/file.py\\n+++ b/file.py\\n@@ -1,27 +1,35 @@\\n def euclidean(a, b):\\n-    while b:\\n-        a, b = b, a % b\\n-    return a\\n+    if b == 0:\\n+        return a\\n+    return euclidean(b, a % b)\\n \\n def bresenham(x0, y0, x1, y1):\\n+    points = []\\n+    dx = abs(x1 - x0)\\n+    dy = abs(y1 - y0)\\n+    sx = 1 if x0 < x1 else -1\\n+    sy = 1 if y0 < y1 else -1\\n+    err = dx - dy\\n+    \\n     while True:\\n-        plot(x0, y0)\\n+        points.append((x0, y0))\\n         if x0 == x1 and y0 == y1:\\n             break\\n-        e2 = 2 * err\\n-        if e2 > -dy:\\n-            err -= dy\\n-            x0 += sx\\n-        if e2 < dx:\\n-            err += dx\\n-            y0 += sy\\n+        e2 = 2 * err\\n+        if e2 > -dy:\\n+            err -= dy\\n+            x0 += sx\\n+        if e2 < dx:\\n+            err += dx\\n+            y0 += sy\\n+    return points\\n+</patch>\\n\\nI need you to solve the provided issue by generating a single patch file that I can apply directly to this repository using git apply. Please respond with a single patch file in the format shown above.\\n\\nRespond below: \\n\"}]",
      "retrieved_file_paths": [
        "index.d.ts",
        "bug_report.md",
        "README.md",
        "CODE_OF_CONDUCT.md",
        "README.md"
      ]
    },
    "retrieved_documents": [
      {
        "id": "0337b7eb-280b-42d4-99bd-6b34d7a62963",
        "score": 0.01639344262295082,
        "payload": {
          "text": "declare module '@react-pdf/renderer' {\n  import * as React from 'react';\n  import {\n    Style,\n    PageSize,\n    FontStore,\n    Orientation,\n    SourceObject,\n    HyphenationCallback,\n    SVGPresentationAttributes,\n  } from '@react-pdf/types';\n\n  namespace ReactPDF {\n    interface Styles {\n      [key: string]: Style;\n    }\n\n    interface OnRenderProps {\n      blob?: Blob;\n    }\n\n    interface DocumentProps {\n      title?: string;\n      author?: string;\n      subject?: string;\n      keywords?: string;\n      creator?: string;\n      producer?: string;\n      onRender?: (props: OnRenderProps) => any;\n    }\n\n    /**\n     * This component represent the PDF document itself. It must be the root\n     * of your tree element structure, and under no circumstances should it be\n     * used as children of another react-pdf component. In addition, it should\n     * only have childs of type <Page />.\n     */\n    class Document extends React.Component<DocumentProps> {}\n\n    interface NodeProps {\n      id?: string;\n      style?: Style | Style[];\n      /**\n       * Render component in all wrapped pages.\n       * @see https://react-pdf.org/advanced#fixed-components\n       */\n      fixed?: boolean;\n      /**\n       * Force the wrapping algorithm to start a new page when rendering the\n       * element.\n       * @see https://react-pdf.org/advanced#page-breaks\n       */\n      break?: boolean;\n      /**\n       * Hint that no page wrapping should occur between all sibling elements following the element within n points\n       * @see https://react-pdf.org/advanced#orphan-&-widow-protection\n       */\n      minPresenceAhead?: number;\n    }\n\n    interface PageProps extends NodeProps {\n      /**\n       * Enable page wrapping for this page.\n       * @see https://react-pdf.org/components#page-wrapping\n       */\n      wrap?: boolean;\n      /**\n       * Enables debug mode on page bounding box.\n       * @see https://react-pdf.org/advanced#debugging\n       */\n      debug?: boolean;\n      size?: PageSize;\n      orientation?: Orientation;\n    }\n\n    /**\n     * Represents single page inside the PDF document, or a subset of them if\n     * using the wrapping feature. A <Document /> can contain as many pages as\n     * you want, but ensure not rendering a page inside any component besides\n     * Document.\n     */\n    class Page extends React.Component<PageProps> {}\n\n    interface ViewProps extends NodeProps {\n      id?: string;\n      /**\n       * Enable/disable page wrapping for element.\n       * @see https://react-pdf.org/components#page-wrapping\n       */\n      wrap?: boolean;\n      /**\n       * Enables debug mode on page bounding box.\n       * @see https://react-pdf.org/advanced#debugging\n       */\n      debug?: boolean;\n      render?: (props: {\n        pageNumber: number;\n        subPageNumber: number;\n      }) => React.ReactNode;\n      children?: React.ReactNode;\n      id?: string;\n    }\n\n    /**\n     * The most fundamental component for building a UI and is designed to be\n     * nested inside other views and can have 0 to many children.\n     */\n    class View extends React.Component<ViewProps> {}\n\n    interface BaseImageProps extends NodeProps {\n      /**\n       * Enables debug mode on page bounding box.\n       * @see https://react-pdf.org/advanced#debugging\n       */\n      debug?: boolean;\n      cache?: boolean;\n    }\n\n    interface ImageWithSrcProp extends BaseImageProps {\n      src: SourceObject;\n    }\n\n    interface ImageWithSourceProp extends BaseImageProps {\n      source: SourceObject;\n    }\n\n    type ImageProps = ImageWithSrcProp | ImageWithSourceProp;\n\n    /**\n     * A React component for displaying network or local (Node only) JPG or\n     * PNG images, as well as base64 encoded image strings.\n     */\n    class Image extends React.Component<ImageProps> {}\n\n    interface TextProps extends NodeProps {\n      id?: string;\n      /**\n       * Enable/disable page wrapping for element.\n       * @see https://react-pdf.org/components#page-wrapping\n       */\n      wrap?: boolean;\n      /**\n       * Enables debug mode on page bounding box.\n       * @see https://react-pdf.org/advanced#debugging\n       */\n      debug?: boolean;\n      render?: (props: {\n        pageNumber: number;\n        totalPages: number;\n        subPageNumber: number;\n        subPageTotalPages: number;\n      }) => React.ReactNode;\n      children?: React.ReactNode;\n      id?: string;\n      /**\n       * Override the default hyphenation-callback\n       * @see https://react-pdf.org/fonts#registerhyphenationcallback\n       */\n      hyphenationCallback?: HyphenationCallback;\n      /**\n       * Specifies the minimum number of lines in a text element that must be shown at the bottom of a page or its container.\n       * @see https://react-pdf.org/advanced#orphan-&-widow-protection\n       */\n      orphans?: number;\n      /**\n       * Specifies the minimum number of lines in a text element that must be shown at the top of a page or its container..\n       * @see https://react-pdf.org/advanced#orphan-&-widow-protection\n       */\n      widows?: number;\n    }\n\n    interface SVGTextProps extends SVGPresentationAttributes {\n      style?: SVGPresentationAttributes;\n      x: string | number;\n      y: string | number;\n      /**\n       * Override the default hyphenation-callback\n       * @see https://react-pdf.org/fonts#registerhyphenationcallback\n       */\n      hyphenationCallback?: HyphenationCallback;\n    }\n\n    /**\n     * A React component for displaying text. Text supports nesting of other\n     * Text or Link components to create inline styling.\n     */\n    class Text extends React.Component<TextProps | SVGTextProps> {}\n\n    interface LinkProps extends NodeProps {\n      /**\n       * Enable/disable page wrapping for element.\n       * @see https://react-pdf.org/components#page-wrapping\n       */\n      wrap?: boolean;\n      /**\n       * Enables debug mode on page bounding box.\n       * @see https://react-pdf.org/advanced#debugging\n       */\n      debug?: boolean;\n      src: string;\n      children?: React.ReactNode;\n    }\n\n    /**\n     * A React component for displaying a hyperlink. Link\u2019s can be nested\n     * inside a Text component, or being inside any other valid primitive.\n     */\n    class Link extends React.Component<LinkProps> {}\n\n    interface NoteProps extends NodeProps {\n      children: string;\n    }\n\n    class Note extends React.Component<NoteProps> {}\n\n    interface CanvasProps extends NodeProps {\n      /**\n       * Enables debug mode on page bounding box.\n       * @see https://react-pdf.org/advanced#debugging\n       */\n      debug?: boolean;\n      paint: (\n        painter: any,\n        availableWidth: number,\n        availableHeight: number,\n      ) => null;\n    }\n\n    class Canvas extends React.Component<CanvasProps> {}\n\n    interface SVGProps extends NodeProps {\n      /**\n       * Enables debug mode on page bounding box.\n       * @see https://react-pdf.org/advanced#debugging\n       */\n      debug?: boolean;\n      width?: string | number;\n      height?: string | number;\n      viewBox?: string;\n      preserveAspectRatio?: string;\n    }\n\n    /**\n     * The <SVG /> element is a container that defines a new coordinate system and viewport. It is used as the outermost element of SVG documents.\n     */\n    class Svg extends React.Component<SVGProps> {}\n\n    interface LineProps extends SVGPresentationAttributes {\n      style?: SVGPresentationAttributes;\n      x1: string | number;\n      x2: string | number;\n      y1: string | number;\n      y2: string | number;\n    }\n\n    /**\n     * The <Line /> element is used to create a line.\n     */\n    class Line extends React.Component<LineProps> {}\n\n    interface PolylineProps extends SVGPresentationAttributes {\n      style?: SVGPresentationAttributes;\n      points: string;\n    }\n\n    /**\n     * The <Polyline /> element is used to create any shape that consists of only straight lines (that is connected at several points).\n     */\n    class Polyline extends React.Component<PolylineProps> {}\n\n    interface PolygonProps extends SVGPresentationAttributes {\n      style?: SVGPresentationAttributes;\n      points: string;\n    }\n\n    /**\n     * The <Polygon /> element is used to create a graphic that contains at least three sides.\n     * Polygons are made of straight lines, and the shape is \"closed\" (all the lines connect up).\n     */\n    class Polygon extends React.Component<PolygonProps> {}\n\n    interface PathProps extends SVGPresentationAttributes {\n      style?: SVGPresentationAttributes;\n      d: string;\n    }\n\n    /**\n     * The <Path /> element is the most powerful element in the SVG library of basic shapes. It can be used to create lines, curves, arcs, and more.\n     */\n    class Path extends React.Component<PathProps> {}\n\n    interface RectProps extends SVGPresentationAttributes {\n      style?: SVGPresentationAttributes;\n      x: string | number;\n      y: string | number;\n      width: string | number;\n      height: string | number;\n      rx?: string | number;\n      ry?: string | number;\n    }\n\n    /**\n     * The <Rect /> element is used to create a rectangle and variations of a rectangle shape.\n     */\n    class Rect extends React.Component<RectProps> {}\n\n    interface CircleProps extends SVGPresentationAttributes {\n      style?: SVGPresentationAttributes;\n      cx: string | number;\n      cy: string | number;\n      r: string | number;\n    }\n\n    /**\n     * The <Circle /> element is used to create a circle.\n     */\n    class Circle extends React.Component<CircleProps> {}\n\n    interface EllipseProps extends SVGPresentationAttributes {\n      style?: SVGPresentationAttributes;\n      cx: string | number;\n      cy: string | number;\n      rx: string | number;\n      ry: string | number;\n    }\n\n    /**\n     * The <Ellipse /> element is used to create an ellipse.\n     * An ellipse is closely related to a circle. The difference is that an ellipse has an x and a y radius that differs from each other, while a circle has equal x and y radius.\n     */\n    class Ellipse extends React.Component<EllipseProps> {}\n\n    interface GProps extends SVGPresentationAttributes {}\n\n    /**\n     * The <G /> SVG element is a container used to group other SVG elements.\n     * Transformations applied to the <G /> element are performed on its child elements, and its attributes are inherited by its children.\n     */\n    class G extends React.Component<GProps> {}\n\n    interface StopProps {\n      offset: string | number;\n      stopColor: string;\n      stopOpacity?: string | number;\n    }\n\n    /**\n     * The SVG <Stop /> element defines a color and its position to use on a gradient. This element is always a child of a <LinearGradient /> or <RadialGradient /> element\n     */\n    class Stop extends React.Component<StopProps> {}\n\n    interface DefsProps {}\n\n    /**\n     * The <Defs /> element is used to store graphical objects that will be used at a later time. Objects created inside a <Defs /> element are not rendered directly. To display them you have to reference them\n     */\n    class Defs extends React.Component<DefsProps> {}\n\n    interface ClipPathProps {\n      id?: string;\n    }\n\n    /**\n     * The <ClipPath /> SVG element defines a clipping path, to be used by the clipPath property.\n     * A clipping path restricts the region to which paint can be applied. Conceptually, parts of the drawing that lie outside of the region bounded by the clipping path are not drawn.\n     */\n    class ClipPath extends React.Component<ClipPathProps> {}\n\n    interface LinearGradientProps {\n      x1: string | number;\n      x2: string | number;\n      y1: string | number;\n      y2: string | number;\n    }\n\n    /**\n     * The <LinearGradient /> element lets authors define linear gradients that can be applied to fill or stroke of graphical elements.\n     */\n    class LinearGradient extends React.Component<LinearGradientProps> {}\n\n    interface RadialGradientProps {\n      cx: string | number;\n      cy: string | number;\n      fr: string | number;\n      fx: string | number;\n      fy: string | number;\n    }\n\n    /**\n     * The <RadialGradient /> element lets authors define radial gradients that can be applied to fill or stroke of graphical elements.\n     */\n    class RadialGradient extends React.Component<RadialGradientProps> {}\n\n    interface BlobProviderParams {\n      blob: Blob | null;\n      url: string | null;\n      loading: boolean;\n      error: Error | null;\n    }\n    interface BlobProviderProps {\n      document: React.ReactElement<DocumentProps>;\n      children: (params: BlobProviderParams) => React.ReactNode;\n    }\n\n    /**\n     * Easy and declarative way of getting document's blob data without\n     * showing it on screen.\n     * @see https://react-pdf.org/advanced#on-the-fly-rendering\n     * @platform web\n     */\n    class BlobProvider extends React.Component<BlobProviderProps> {}\n\n    interface PDFViewerProps {\n      width?: number | string;\n      height?: number | string;\n      style?: Style | Style[];\n      className?: string;\n      children?: React.ReactElement<DocumentProps>;\n      innerRef?: React.Ref<HTMLIFrameElement>;\n    }\n\n    /**\n     * Iframe PDF viewer for client-side generated documents.\n     * @platform web\n     */\n    class PDFViewer extends React.Component<PDFViewerProps> {}\n\n    interface PDFDownloadLinkProps {\n      document: React.ReactElement<DocumentProps>;\n      fileName?: string;\n      style?: Style | Style[];\n      className?: string;\n      children?:\n        | React.ReactNode\n        | ((params: BlobProviderParams) => React.ReactNode);\n    }\n\n    /**\n     * Anchor tag to enable generate and download PDF documents on the fly.\n     * @see https://react-pdf.org/advanced#on-the-fly-rendering\n     * @platform web\n     */\n    class PDFDownloadLink extends React.Component<PDFDownloadLinkProps> {}\n\n    interface UsePDFInstance {\n      loading: boolean;\n      blob: Blob | null;\n      url: string | null;\n      error: string | null;\n    }\n\n    /**\n     * React hook for creating and updating a PDF document instance\n     * @platform web\n     */\n    function usePDF(options: {\n      document: React.ReactElement<DocumentProps>;\n    }): [UsePDFInstance, () => void];\n\n    const Font: FontStore;\n\n    const StyleSheet: {\n      hairlineWidth: number;\n      create: <T extends Styles>(styles: T) => T;\n      resolve: (\n        style: Style,\n        container: {\n          width: number;\n          height: number;\n          orientation: Orientation;\n        },\n      ) => Style;\n      flatten: (...styles: (Style[] | Style | undefined)[]) => Style;\n      absoluteFillObject: {\n        position: 'absolute';\n        left: 0;\n        right: 0;\n        top: 0;\n        bottom: 0;\n      };\n    };\n\n    const version: any;\n\n    const PDFRenderer: any;\n\n    const pdf: (\n      initialValue?: React.ReactElement<DocumentProps>,\n      onChange?: () => {},\n    ) => {\n      container: any;\n      isDirty: () => boolean;\n      updateContainer: (document: React.ReactElement<any>) => void;\n      toBuffer: () => Promise<NodeJS.ReadableStream>;\n      toBlob: () => Promise<Blob>;\n      toString: () => string;\n    };\n\n    const renderToStream: (\n      document: React.ReactElement<DocumentProps>,\n    ) => Promise<NodeJS.ReadableStream>;\n\n    const renderToString: (\n      document: React.ReactElement<DocumentProps>,\n    ) => string;\n\n    const renderToFile: (\n      document: React.ReactElement<DocumentProps>,\n      filePath: string,\n      callback?: (output: NodeJS.ReadableStream, filePath: string) => any,\n    ) => Promise<NodeJS.ReadableStream>;\n\n    const render: typeof renderToFile;\n  }\n\n  const pdf: typeof ReactPDF.pdf;\n  const Document: typeof ReactPDF.Document;\n  const Page: typeof ReactPDF.Page;\n  const View: typeof ReactPDF.View;\n  const Image: typeof ReactPDF.Image;\n  const Text: typeof ReactPDF.Text;\n  const Canvas: typeof ReactPDF.Canvas;\n  const Link: typeof ReactPDF.Link;\n  const Note: typeof ReactPDF.Note;\n  const Svg: typeof ReactPDF.Svg;\n  const Line: typeof ReactPDF.Line;\n  const Polyline: typeof ReactPDF.Polyline;\n  const Polygon: typeof ReactPDF.Polygon;\n  const Path: typeof ReactPDF.Path;\n  const Rect: typeof ReactPDF.Rect;\n  const Circle: typeof ReactPDF.Circle;\n  const Ellipse: typeof ReactPDF.Ellipse;\n  const G: typeof ReactPDF.G;\n  const Stop: typeof ReactPDF.Stop;\n  const Defs: typeof ReactPDF.Defs;\n  const ClipPath: typeof ReactPDF.ClipPath;\n  const LinearGradient: typeof ReactPDF.LinearGradient;\n  const RadialGradient: typeof ReactPDF.RadialGradient;\n  const Font: typeof ReactPDF.Font;\n  const StyleSheet: typeof ReactPDF.StyleSheet;\n  const PDFRenderer: typeof ReactPDF.PDFRenderer;\n  const version: typeof ReactPDF.version;\n  const renderToFile: typeof ReactPDF.renderToFile;\n  const renderToString: typeof ReactPDF.renderToString;\n  const renderToStream: typeof ReactPDF.renderToStream;\n  const usePDF: typeof ReactPDF.usePDF;\n  const PDFViewer: typeof ReactPDF.PDFViewer;\n  const BlobProvider: typeof ReactPDF.BlobProvider;\n  const PDFDownloadLink: typeof ReactPDF.PDFDownloadLink;\n\n  export default ReactPDF;\n\n  export {\n    pdf,\n    Document,\n    Page,\n    View,\n    Image,\n    Text,\n    Canvas,\n    Link,\n    Note,\n    Svg,\n    Line,\n    Polyline,\n    Polygon,\n    Path,\n    Rect,\n    Circle,\n    Ellipse,\n    G,\n    Stop,\n    Defs,\n    ClipPath,\n    LinearGradient,\n    RadialGradient,\n    Font,\n    StyleSheet,\n    PDFRenderer,\n    version,\n    renderToFile,\n    renderToStream,\n    renderToString,\n    usePDF,\n    PDFViewer,\n    BlobProvider,\n    PDFDownloadLink,\n  };\n}\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/packages/renderer/index.d.ts",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "0337b7eb-280b-42d4-99bd-6b34d7a62963"
        }
      },
      {
        "id": "62ec4b36-1585-49a0-895a-0ef0f44bd44e",
        "score": 0.016129032258064516,
        "payload": {
          "text": "---\nname: Bug report\nabout: Create a report to help us improve\ntitle: ''\nlabels: ''\nassignees: ''\n\n---\n\n**Describe the bug**\nA clear and concise description of what the bug is.\n\n**To Reproduce**\nSteps to reproduce the behavior including code snippet (if applies):\n1. Go to '...'\n2. Click on '....'\n3. Scroll down to '....'\n4. See error\n\n_You can make use of [react-pdf REPL](https://react-pdf/repl) to share the snippet_\n\n**Expected behavior**\nA clear and concise description of what you expected to happen.\n\n**Screenshots**\nIf applicable, add screenshots to help explain your problem.\n\n**Desktop (please complete the following information):**\n - OS: [e.g. MacOS, Windows]\n - Browser [e.g. chrome, safari]\n - React-pdf version [e.g. v1.1.0]\n\n<!-- Love react-pdf? Please consider supporting our collective:\n\ud83d\udc49  https://opencollective.com/react-pdf/donate -->\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/.github/ISSUE_TEMPLATE/bug_report.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "62ec4b36-1585-49a0-895a-0ef0f44bd44e"
        }
      },
      {
        "id": "401ae391-ee3a-493b-bc3f-20e9e5aedd4b",
        "score": 0.015873015873015872,
        "payload": {
          "text": "<p align=\"center\">\n  <img src=\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\" height=\"280px\">\n  <p align=\"center\">React renderer for creating PDF files on the browser and server<p>\n  <p align=\"center\">\n    <a href=\"https://www.npmjs.com/package/@react-pdf/renderer\">\n      <img src=\"https://img.shields.io/npm/v/@react-pdf/renderer.svg\" />\n    </a>\n    <a href=\"https://travis-ci.org/diegomura/react-pdf\">\n      <img src=\"https://img.shields.io/travis/diegomura/react-pdf.svg\" />\n    </a>\n    <a href=\"https://github.com/diegomura/react-pdf/blob/master/LICENSE\">\n      <img src=\"https://img.shields.io/github/license/diegomura/react-pdf.svg\" />\n    </a>\n    <a href=\"https://github.com/prettier/prettier\">\n      <img src=\"https://img.shields.io/badge/styled_with-prettier-ff69b4.svg\" />\n    </a>\n    <a href=\"https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_shield\" alt=\"FOSSA Status\"><img src=\"https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=shield\"/></a>\n  </p>\n</p>\n\n> New react-pdf 2.0 was relesed. [Read about the announcement](http://react-pdf.org/blog/announcing-react-pdf-v2)\n\n## Lost?\n\nThis package is used to _create_ PDFs using React. If you wish to _display_ existing PDFs, you may be looking for [react-pdf](https://github.com/wojtekmaj/react-pdf).\n\n## How to install\n```sh\nyarn add @react-pdf/renderer\n```\n\n## How it works\n\n```jsx\nimport React from 'react';\nimport { Document, Page, Text, View, StyleSheet } from '@react-pdf/renderer';\n\n// Create styles\nconst styles = StyleSheet.create({\n  page: {\n    flexDirection: 'row',\n    backgroundColor: '#E4E4E4'\n  },\n  section: {\n    margin: 10,\n    padding: 10,\n    flexGrow: 1\n  }\n});\n\n// Create Document Component\nconst MyDocument = () => (\n  <Document>\n    <Page size=\"A4\" style={styles.page}>\n      <View style={styles.section}>\n        <Text>Section #1</Text>\n      </View>\n      <View style={styles.section}>\n        <Text>Section #2</Text>\n      </View>\n    </Page>\n  </Document>\n);\n```\n\n### `Web.` Render in DOM\n```jsx\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { PDFViewer } from '@react-pdf/renderer';\n\nconst App = () => (\n  <PDFViewer>\n    <MyDocument />\n  </PDFViewer>\n);\n\nReactDOM.render(<App />, document.getElementById('root'));\n```\n\n### `Node.` Save in a file\n```jsx\nimport React from 'react';\nimport ReactPDF from '@react-pdf/renderer';\n\nReactPDF.render(<MyDocument />, `${__dirname}/example.pdf`);\n```\n\n## Contributors\n\nThis project exists thanks to all the people who contribute. [[Contribute]](CONTRIBUTING.md).\n<a href=\"https://github.com/diegomura/react-pdf/graphs/contributors\"><img src=\"https://opencollective.com/react-pdf/contributors.svg?width=890\" /></a>\n\n## Sponsors\n\nThank you to all our sponsors! [[Become a sponsors](https://opencollective.com/react-pdf#sponsors)]\n\n<a href=\"https://opencollective.com/react-pdf#sponsors\" target=\"_blank\"><img src=\"https://opencollective.com/react-pdf/sponsors.svg?width=890\"></a>\n\n## Backers\n\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\n\n<a href=\"https://opencollective.com/react-pdf#backers\" target=\"_blank\"><img src=\"https://opencollective.com/react-pdf/backers.svg?width=890\"></a>\n\n## License\n\nMIT \u00a9 [Diego Muracciole](http://github.com/diegomura)\n\n[![FOSSA Status](https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=large)](https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_large)\n\n---\n![](https://img.shields.io/npm/dt/@react-pdf/renderer.svg?style=flat)\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/README.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "401ae391-ee3a-493b-bc3f-20e9e5aedd4b"
        }
      },
      {
        "id": "ed554f98-874c-419d-b2fc-7c71664fc6d7",
        "score": 0.015625,
        "payload": {
          "text": "# Contributor Covenant Code of Conduct\n\n## Our Pledge\n\nIn the interest of fostering an open and welcoming environment, we as contributors and maintainers pledge to making participation in our project and our community a harassment-free experience for everyone, regardless of age, body size, disability, ethnicity, gender identity and expression, level of experience, nationality, personal appearance, race, religion, or sexual identity and orientation.\n\n## Our Standards\n\nExamples of behavior that contributes to creating a positive environment include:\n\n* Using welcoming and inclusive language\n* Being respectful of differing viewpoints and experiences\n* Gracefully accepting constructive criticism\n* Focusing on what is best for the community\n* Showing empathy towards other community members\n\nExamples of unacceptable behavior by participants include:\n\n* The use of sexualized language or imagery and unwelcome sexual attention or advances\n* Trolling, insulting/derogatory comments, and personal or political attacks\n* Public or private harassment\n* Publishing others' private information, such as a physical or electronic address, without explicit permission\n* Other conduct which could reasonably be considered inappropriate in a professional setting\n\n## Our Responsibilities\n\nProject maintainers are responsible for clarifying the standards of acceptable behavior and are expected to take appropriate and fair corrective action in response to any instances of unacceptable behavior.\n\nProject maintainers have the right and responsibility to remove, edit, or reject comments, commits, code, wiki edits, issues, and other contributions that are not aligned to this Code of Conduct, or to ban temporarily or permanently any contributor for other behaviors that they deem inappropriate, threatening, offensive, or harmful.\n\n## Scope\n\nThis Code of Conduct applies both within project spaces and in public spaces when an individual is representing the project or its community. Examples of representing a project or community include using an official project e-mail address, posting via an official social media account, or acting as an appointed representative at an online or offline event. Representation of a project may be further defined and clarified by project maintainers.\n\n## Enforcement\n\nInstances of abusive, harassing, or otherwise unacceptable behavior may be reported by contacting the project team at diegomuracciole@gmail.com. The project team will review and investigate all complaints, and will respond in a way that it deems appropriate to the circumstances. The project team is obligated to maintain confidentiality with regard to the reporter of an incident. Further details of specific enforcement policies may be posted separately.\n\nProject maintainers who do not follow or enforce the Code of Conduct in good faith may face temporary or permanent repercussions as determined by other members of the project's leadership.\n\n## Attribution\n\nThis Code of Conduct is adapted from the [Contributor Covenant][homepage], version 1.4, available at [http://contributor-covenant.org/version/1/4][version]\n\n[homepage]: http://contributor-covenant.org\n[version]: http://contributor-covenant.org/version/1/4/\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/.github/CODE_OF_CONDUCT.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "ed554f98-874c-419d-b2fc-7c71664fc6d7"
        }
      },
      {
        "id": "adceb749-ad96-47f9-b286-0f8d059de07f",
        "score": 0.015384615384615385,
        "payload": {
          "text": "<p align=\"center\">\n  <img src=\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\" height=\"280px\">\n  <p align=\"center\">React renderer for creating PDF files on the browser and server<p>\n  <p align=\"center\">\n    <a href=\"https://www.npmjs.com/package/@react-pdf/renderer\">\n      <img src=\"https://img.shields.io/npm/v/@react-pdf/renderer.svg\" />\n    </a>\n    <a href=\"https://travis-ci.org/diegomura/react-pdf\">\n      <img src=\"https://img.shields.io/travis/diegomura/react-pdf.svg\" />\n    </a>\n    <a href=\"https://github.com/diegomura/react-pdf/blob/master/LICENSE\">\n      <img src=\"https://img.shields.io/github/license/diegomura/react-pdf.svg\" />\n    </a>\n    <a href=\"https://spectrum.chat/react-pdf\">\n      <img src=\"https://withspectrum.github.io/badge/badge.svg\" />\n    </a>\n    <a href=\"https://github.com/prettier/prettier\">\n      <img src=\"https://img.shields.io/badge/styled_with-prettier-ff69b4.svg\" />\n    </a>\n    <a href=\"https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_shield\" alt=\"FOSSA Status\"><img src=\"https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=shield\"/></a>\n  </p>\n</p>\n\n## How to install\n```sh\nyarn add @react-pdf/renderer\n```\n\n## How it works\n\n```jsx\nimport React from 'react';\nimport { Document, Page, Text, View, StyleSheet } from '@react-pdf/renderer';\n\n// Create styles\nconst styles = StyleSheet.create({\n  page: {\n    flexDirection: 'row',\n    backgroundColor: '#E4E4E4'\n  },\n  section: {\n    margin: 10,\n    padding: 10,\n    flexGrow: 1\n  }\n});\n\n// Create Document Component\nconst MyDocument = () => (\n  <Document>\n    <Page size=\"A4\" style={styles.page}>\n      <View style={styles.section}>\n        <Text>Section #1</Text>\n      </View>\n      <View style={styles.section}>\n        <Text>Section #2</Text>\n      </View>\n    </Page>\n  </Document>\n);\n```\n\n### `Web.` Render in DOM\n```jsx\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { PDFViewer } from '@react-pdf/renderer';\n\nconst App = () => (\n  <PDFViewer>\n    <MyDocument />\n  </PDFViewer>\n);\n\nReactDOM.render(<App />, document.getElementById('root'));\n```\n\n### `Node.` Save in a file\n```jsx\nimport React from 'react';\nimport ReactPDF from '@react-pdf/renderer';\n\nReactPDF.render(<MyDocument />, `${__dirname}/example.pdf`);\n```\n\n## Examples\nFor each example, try opening `output.pdf` to see the result.\n\n<table>\n\t<tbody>\n\t\t<tr>\n      <td align=\"center\" valign=\"top\">\n        <img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/text/thumb.png\">\n        <br>\n        <a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/text/\">Text</a>\n      </td>\n\t\t\t<td align=\"center\" valign=\"top\">\n\t\t\t\t<img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/resume/thumb.png\">\n\t\t\t\t<br>\n\t\t\t\t<a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/resume/\">Resume</a>\n\t\t\t</td>\n\t\t\t<td align=\"center\" valign=\"top\">\n\t\t\t\t<img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/fractals/thumb.png\">\n\t\t\t\t<br>\n\t\t\t\t<a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/fractals/\">Fractals</a>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n<table>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td align=\"center\" valign=\"top\">\n\t\t\t\t<img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/knobs/thumb.png\">\n\t\t\t\t<br>\n\t\t\t\t<a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/knobs/\">Knobs</a>\n\t\t\t</td>\n      <td align=\"center\" valign=\"top\">\n        <img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/pageWrap/thumb.png\">\n        <br>\n        <a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/pageWrap/\">Page wrap</a>\n      </td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n## Contributors\n\nThis project exists thanks to all the people who contribute. [[Contribute]](CONTRIBUTING.md).\n<a href=\"https://github.com/diegomura/react-pdf/graphs/contributors\"><img src=\"https://opencollective.com/react-pdf/contributors.svg?width=890\" /></a>\n\n## Sponsors\n\nThank you to all our sponsors! [[Become a sponsors](https://opencollective.com/react-pdf#sponsors)]\n\n<a href=\"https://opencollective.com/react-pdf#sponsors\" target=\"_blank\"><img src=\"https://opencollective.com/react-pdf/sponsors.svg?width=890\"></a>\n\n## Backers\n\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\n\n<a href=\"https://opencollective.com/react-pdf#backers\" target=\"_blank\"><img src=\"https://opencollective.com/react-pdf/backers.svg?width=890\"></a>\n\n## License\n\nMIT \u00a9 [Diego Muracciole](http://github.com/diegomura)\n\n[![FOSSA Status](https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=large)](https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_large)\n\n---\n![](https://img.shields.io/npm/dt/@react-pdf/renderer.svg?style=flat)\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/packages/renderer/README.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "adceb749-ad96-47f9-b286-0f8d059de07f"
        }
      }
    ]
  },
  {
    "instance_id": "diegomura__react-pdf-1285",
    "model_patch": "diff --git a/index.js b/index.js\n--- a/index.js\n+++ b/index.js\n@@ -10,7 +10,7 @@\n \n function createPDFBuffer(data) {\n   // Deprecated Buffer() usage\n-  const buffer = new Buffer(data, 'binary');\n+  const buffer = Buffer.from(data, 'binary');\n   return buffer;\n }",
    "model_name_or_path": "text_bm25",
    "metrics": {
      "issue_embedding_time_ms": 0.0,
      "retrieval_time_ms_bm25": 33.23,
      "retrieval_time_ms": 33.23,
      "total_retrieval_time_ms": 33.23,
      "generation_time_ms": 2674.32,
      "total_io_time_ms": 2707.55,
      "input_total_token_limit": null,
      "issue_text_tokens": 212,
      "vlm_tokens": 0,
      "retrieved_tokens": 6389,
      "prompt_template_tokens": 514,
      "total_input_prompt_tokens": 7115,
      "output_generated_tokens": 80,
      "total_io_tokens": 7195,
      "input_prompt_text": "[{\"type\": \"text\", \"text\": \"You will be provided with a partial code base and an issue statement explaining a problem to resolve.\\n<issue>\\nNode DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.\\n**Describe the bug**\\r\\n\\r\\nA depreciation warning about `Buffer()` is shown when a pdf has been rendered. In the future `Node` versions, `Buffer()` will be removed. Which will broke the rendering process.\\r\\n\\r\\n**To Reproduce**\\r\\n\\r\\nHave `Node` `v10.15.3` or more.\\r\\n\\r\\n1. Render a new pdf.\\r\\n2. Open the browser console.\\r\\n3. See the warning.\\r\\n\\r\\n**Screenshots**\\r\\n![Untitled](https://user-images.githubusercontent.com/31422467/57094611-f5917180-6cde-11e9-9274-287aa4778cd8.png)\\r\\n\\r\\n**Desktop:**\\r\\n - OS: Windows\\r\\n - Browser: Chromium (Electron)\\r\\n - @react-pdf/renderer: 1.5.4,\\r\\n - @react-pdf/styled-components: 1.4.0\\n\\n</issue>\\n\\n<code>\\n[start of bug_report.md]\\n---\\nname: Bug report\\nabout: Create a report to help us improve\\ntitle: ''\\nlabels: ''\\nassignees: ''\\n\\n---\\n\\n**Describe the bug**\\nA clear and concise description of what the bug is.\\n\\n**To Reproduce**\\nSteps to reproduce the behavior including code snippet (if applies):\\n1. Go to '...'\\n2. Click on '....'\\n3. Scroll down to '....'\\n4. See error\\n\\n_You can make use of [react-pdf REPL](https://react-pdf/repl) to share the snippet_\\n\\n**Expected behavior**\\nA clear and concise description of what you expected to happen.\\n\\n**Screenshots**\\nIf applicable, add screenshots to help explain your problem.\\n\\n**Desktop (please complete the following information):**\\n - OS: [e.g. MacOS, Windows]\\n - Browser [e.g. chrome, safari]\\n - React-pdf version [e.g. v1.1.0]\\n\\n<!-- Love react-pdf? Please consider supporting our collective:\\n\\ud83d\\udc49  https://opencollective.com/react-pdf/donate -->\\n\\n[end of bug_report.md]\\n[start of CONTRIBUTING.md]\\n# Contribute\\n\\n## Introduction\\n\\nFirst, thank you for considering contributing to react-pdf!\\n\\nWe welcome any type of contribution, not only code. You can help with \\n- **QA**: file bug reports, the more details you can give the better (e.g. screenshots with the console open)\\n- **Marketing**: writing blog posts, howto's, printing stickers, ...\\n- **Community**: presenting the project at meetups, organizing a dedicated meetup for the local community, ...\\n- **Code**: take a look at the [open issues](https://github.com/diegomura/react-pdf/issues). Even if you can't write code, commenting on them, showing that you care about a given issue matters. It helps us triage them.\\n- **Money**: we welcome financial contributions in full transparency on our [open collective](https://opencollective.com/react-pdf).\\n\\n## Your First Contribution\\n\\nWorking on your first Pull Request? You can learn how from this *free* series, [How to Contribute to an Open Source Project on GitHub](https://egghead.io/series/how-to-contribute-to-an-open-source-project-on-github).\\n\\n## Submitting code\\n\\nAny code change should be submitted as a pull request. The description should explain what the code does and give steps to execute it. The pull request should also contain tests.\\n\\n## Code review process\\n\\nThe bigger the pull request, the longer it will take to review and merge. Try to break down large pull requests in smaller chunks that are easier to review and merge.\\nIt is also always helpful to have some context for your pull request. What was the purpose? Why does it matter to you?\\n\\n## Financial contributions\\n\\nWe also welcome financial contributions in full transparency on our [open collective](https://opencollective.com/react-pdf).\\nAnyone can file an expense. If the expense makes sense for the development of the community, it will be \\\"merged\\\" in the ledger of our open collective by the core contributors and the person who filed the expense will be reimbursed.\\n\\n## Questions\\n\\nIf you have any questions, create an [issue](https://github.com/diegomura/react-pdf/issues) (protip: do a quick search first to see if someone else didn't ask the same question before!).\\nYou can also reach us at hello@react-pdf.opencollective.com.\\n\\n## Credits\\n\\n### Contributors\\n\\nThank you to all the people who have already contributed to react-pdf!\\n<a href=\\\"/diegomura/react-pdf/graphs/contributors\\\"><img src=\\\"https://opencollective.com/react-pdf/contributors.svg?width=890\\\" /></a>\\n\\n\\n### Backers\\n\\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\\n\\n<a href=\\\"https://opencollective.com/react-pdf#backers\\\" target=\\\"_blank\\\"><img src=\\\"https://opencollective.com/react-pdf/backers.svg?width=890\\\"></a>\\n\\n\\n<!-- This `CONTRIBUTING.md` is based on @nayafia's template https://github.com/nayafia/contributing-template -->\\n\\n[end of CONTRIBUTING.md]\\n[start of README.md]\\n<p align=\\\"center\\\">\\n  <img src=\\\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\\\" height=\\\"280px\\\">\\n</p>\\n\\n# @react-pdf/render\\n\\n> React-pdf render engine\\n\\n## How to install\\n```sh\\nyarn add @react-pdf/render\\n```\\n\\n## How it works\\n\\n```js\\nconst render = require('@react-pdf/render');\\nconst primitives = require('@react-pdf/primitives');\\n\\nconst view = {\\n  type: primitives.View,\\n  style: {\\n    backgroundColor: 'red',\\n    borderTopLeftRadius: 5,\\n    borderTopRightRadius: 10,\\n    borderBottomLeftRadius: 0,\\n    borderBottomRightRadius: 15,\\n    borderTopColor: 'yellow',\\n    borderLeftColor: 'green',\\n    borderBottomColor: 'black',\\n    borderRightColor: 'purple',\\n  },\\n  box: {\\n    left: 20,\\n    top: 20,\\n    width: 100,\\n    height: 80,\\n    borderTopWidth: 3,\\n    borderLeftWidth: 2,\\n    borderBottomWidth: 1,\\n    borderRightWidth: 4,\\n  },\\n};\\n\\nconst doc = {\\n  type: primitives.Document,\\n  children: [\\n    {\\n      type: primitives.Page,\\n      box: { width: 400, height: 600 },\\n      children: [view],\\n    },\\n  ],\\n};\\n\\n// Provide your own context\\nconst ctx = createContext();\\n\\nrender.default(ctx, doc);\\n```\\n\\nThis library exports a `render` function that takes two arguments:\\n\\n- *ctx*: This is the target context where the document is going to be rendered. React-pdf currently uses a [pdfkit](https://github.com/react-pdf/pdfkit) document as context, but it can target any other type of structure as long as it signature matches pdfkit API. In the future this will enable rendering documents into muliple formats in addition to PDF.\\n- *node*: Document root node. A node is a nested structure that defines a single element in a document. They are defined by it's `type` and arguments.\\n\\n## Node structure\\n\\nA node represents a single element inside a document. It's mainly defined by it's `type` (mandatory) field in addition to other values to define where that element is positioned inside the document (`box`), how it looks (`style`), how it should behave (`params`) and what sub-nodes it contains (`children`).\\n\\nThe root node must always be of type `DOCUMENT`, containing as many `PAGE` nodes as desired inside it's children field.\\n\\nBare in mind this package does not handle any type of node positioning, inheritance, style transformations or any other layout related logic. It's role is limited to render exactly the node it get's into the provided context. Take this into account when definig styles as `paddingTop`, `paddingLeft` and so on instead of the shortcut `padding`. For layout or styles transformation this project provides separate packages.\\n\\n### node.type\\n\\nMandatory field specifiying the type of the particular node. The full list of types can be found and imported from `@react-pdf/primitives`\\n\\n### node.box\\n\\nDefines bounding box where a particular node is located inside a document\\n\\n- left\\n- top\\n- width\\n- height\\n- paddingTop\\n- paddingLeft\\n- paddingBottom\\n- paddingRight\\n- marginTop\\n- marginLeft\\n- marginBottom\\n- marginRight\\n- borderTopWidth\\n- borderLeftWidth\\n- borderBottomWidth\\n- borderRightWidth\\n\\n### node.style\\n\\nDefines how the node looks like. There are some types of nodes that expect special style values, but generally all support:\\n\\n- color\\n- opacity\\n- overflow\\n- backgroundColor\\n- borderTopLeftRadius\\n- borderTopRightRadius\\n- borderBottomLeftRadius\\n- borderBottomRightRadius\\n- borderTopColor\\n- borderLeftColor\\n- borderBottomColor\\n- borderRightColor\\n- _others..._\\n\\n### node.props\\n\\nSpecific node params needed to render correctly ot behave like certain way. Specially needed for SVG nodes\\n\\n## PDF example\\n\\n```js\\nconst fs = require('fs');\\nconst render = require('@react-pdf/render');\\nconst pdfkit = require('@react-pdf/pdfkit');\\n\\nconst PDFDocument = pdfkit.default;\\n\\nconst ctx = new PDFDocument({ autoFirstPage: false });\\n\\nconst doc = {}; // See above\\n\\nrender.default(ctx, doc);\\n\\nconst stream = fs.createWriteStream('./test.pdf');\\n\\nctx.pipe(stream);\\n```\\n\\n## License\\n\\nMIT \\u00a9 [Diego Muracciole](http://github.com/diegomura)\\n\\n[end of README.md]\\n[start of CODE_OF_CONDUCT.md]\\n# Contributor Covenant Code of Conduct\\n\\n## Our Pledge\\n\\nIn the interest of fostering an open and welcoming environment, we as contributors and maintainers pledge to making participation in our project and our community a harassment-free experience for everyone, regardless of age, body size, disability, ethnicity, gender identity and expression, level of experience, nationality, personal appearance, race, religion, or sexual identity and orientation.\\n\\n## Our Standards\\n\\nExamples of behavior that contributes to creating a positive environment include:\\n\\n* Using welcoming and inclusive language\\n* Being respectful of differing viewpoints and experiences\\n* Gracefully accepting constructive criticism\\n* Focusing on what is best for the community\\n* Showing empathy towards other community members\\n\\nExamples of unacceptable behavior by participants include:\\n\\n* The use of sexualized language or imagery and unwelcome sexual attention or advances\\n* Trolling, insulting/derogatory comments, and personal or political attacks\\n* Public or private harassment\\n* Publishing others' private information, such as a physical or electronic address, without explicit permission\\n* Other conduct which could reasonably be considered inappropriate in a professional setting\\n\\n## Our Responsibilities\\n\\nProject maintainers are responsible for clarifying the standards of acceptable behavior and are expected to take appropriate and fair corrective action in response to any instances of unacceptable behavior.\\n\\nProject maintainers have the right and responsibility to remove, edit, or reject comments, commits, code, wiki edits, issues, and other contributions that are not aligned to this Code of Conduct, or to ban temporarily or permanently any contributor for other behaviors that they deem inappropriate, threatening, offensive, or harmful.\\n\\n## Scope\\n\\nThis Code of Conduct applies both within project spaces and in public spaces when an individual is representing the project or its community. Examples of representing a project or community include using an official project e-mail address, posting via an official social media account, or acting as an appointed representative at an online or offline event. Representation of a project may be further defined and clarified by project maintainers.\\n\\n## Enforcement\\n\\nInstances of abusive, harassing, or otherwise unacceptable behavior may be reported by contacting the project team at diegomuracciole@gmail.com. The project team will review and investigate all complaints, and will respond in a way that it deems appropriate to the circumstances. The project team is obligated to maintain confidentiality with regard to the reporter of an incident. Further details of specific enforcement policies may be posted separately.\\n\\nProject maintainers who do not follow or enforce the Code of Conduct in good faith may face temporary or permanent repercussions as determined by other members of the project's leadership.\\n\\n## Attribution\\n\\nThis Code of Conduct is adapted from the [Contributor Covenant][homepage], version 1.4, available at [http://contributor-covenant.org/version/1/4][version]\\n\\n[homepage]: http://contributor-covenant.org\\n[version]: http://contributor-covenant.org/version/1/4/\\n\\n[end of CODE_OF_CONDUCT.md]\\n[start of index.d.ts]\\ndeclare module '@react-pdf/renderer' {\\n  import * as React from 'react';\\n  import {\\n    Style,\\n    PageSize,\\n    FontStore,\\n    Orientation,\\n    SourceObject,\\n    HyphenationCallback,\\n    SVGPresentationAttributes,\\n  } from '@react-pdf/types';\\n\\n  namespace ReactPDF {\\n    interface Styles {\\n      [key: string]: Style;\\n    }\\n\\n    interface OnRenderProps {\\n      blob?: Blob;\\n    }\\n\\n    interface DocumentProps {\\n      title?: string;\\n      author?: string;\\n      subject?: string;\\n      keywords?: string;\\n      creator?: string;\\n      producer?: string;\\n      onRender?: (props: OnRenderProps) => any;\\n    }\\n\\n    /**\\n     * This component represent the PDF document itself. It must be the root\\n     * of your tree element structure, and under no circumstances should it be\\n     * used as children of another react-pdf component. In addition, it should\\n     * only have childs of type <Page />.\\n     */\\n    class Document extends React.Component<DocumentProps> {}\\n\\n    interface NodeProps {\\n      id?: string;\\n      style?: Style | Style[];\\n      /**\\n       * Render component in all wrapped pages.\\n       * @see https://react-pdf.org/advanced#fixed-components\\n       */\\n      fixed?: boolean;\\n      /**\\n       * Force the wrapping algorithm to start a new page when rendering the\\n       * element.\\n       * @see https://react-pdf.org/advanced#page-breaks\\n       */\\n      break?: boolean;\\n      /**\\n       * Hint that no page wrapping should occur between all sibling elements following the element within n points\\n       * @see https://react-pdf.org/advanced#orphan-&-widow-protection\\n       */\\n      minPresenceAhead?: number;\\n    }\\n\\n    interface PageProps extends NodeProps {\\n      /**\\n       * Enable page wrapping for this page.\\n       * @see https://react-pdf.org/components#page-wrapping\\n       */\\n      wrap?: boolean;\\n      /**\\n       * Enables debug mode on page bounding box.\\n       * @see https://react-pdf.org/advanced#debugging\\n       */\\n      debug?: boolean;\\n      size?: PageSize;\\n      orientation?: Orientation;\\n    }\\n\\n    /**\\n     * Represents single page inside the PDF document, or a subset of them if\\n     * using the wrapping feature. A <Document /> can contain as many pages as\\n     * you want, but ensure not rendering a page inside any component besides\\n     * Document.\\n     */\\n    class Page extends React.Component<PageProps> {}\\n\\n    interface ViewProps extends NodeProps {\\n      id?: string;\\n      /**\\n       * Enable/disable page wrapping for element.\\n       * @see https://react-pdf.org/components#page-wrapping\\n       */\\n      wrap?: boolean;\\n      /**\\n       * Enables debug mode on page bounding box.\\n       * @see https://react-pdf.org/advanced#debugging\\n       */\\n      debug?: boolean;\\n      render?: (props: {\\n        pageNumber: number;\\n        subPageNumber: number;\\n      }) => React.ReactNode;\\n      children?: React.ReactNode;\\n      id?: string;\\n    }\\n\\n    /**\\n     * The most fundamental component for building a UI and is designed to be\\n     * nested inside other views and can have 0 to many children.\\n     */\\n    class View extends React.Component<ViewProps> {}\\n\\n    interface BaseImageProps extends NodeProps {\\n      /**\\n       * Enables debug mode on page bounding box.\\n       * @see https://react-pdf.org/advanced#debugging\\n       */\\n      debug?: boolean;\\n      cache?: boolean;\\n    }\\n\\n    interface ImageWithSrcProp extends BaseImageProps {\\n      src: SourceObject;\\n    }\\n\\n    interface ImageWithSourceProp extends BaseImageProps {\\n      source: SourceObject;\\n    }\\n\\n    type ImageProps = ImageWithSrcProp | ImageWithSourceProp;\\n\\n    /**\\n     * A React component for displaying network or local (Node only) JPG or\\n     * PNG images, as well as base64 encoded image strings.\\n     */\\n    class Image extends React.Component<ImageProps> {}\\n\\n    interface TextProps extends NodeProps {\\n      id?: string;\\n      /**\\n       * Enable/disable page wrapping for element.\\n       * @see https://react-pdf.org/components#page-wrapping\\n       */\\n      wrap?: boolean;\\n      /**\\n       * Enables debug mode on page bounding box.\\n       * @see https://react-pdf.org/advanced#debugging\\n       */\\n      debug?: boolean;\\n      render?: (props: {\\n        pageNumber: number;\\n        totalPages: number;\\n        subPageNumber: number;\\n        subPageTotalPages: number;\\n      }) => React.ReactNode;\\n      children?: React.ReactNode;\\n      id?: string;\\n      /**\\n       * Override the default hyphenation-callback\\n       * @see https://react-pdf.org/fonts#registerhyphenationcallback\\n       */\\n      hyphenationCallback?: HyphenationCallback;\\n      /**\\n       * Specifies the minimum number of lines in a text element that must be shown at the bottom of a page or its container.\\n       * @see https://react-pdf.org/advanced#orphan-&-widow-protection\\n       */\\n      orphans?: number;\\n      /**\\n       * Specifies the minimum number of lines in a text element that must be shown at the top of a page or its container..\\n       * @see https://react-pdf.org/advanced#orphan-&-widow-protection\\n       */\\n      widows?: number;\\n    }\\n\\n    interface SVGTextProps extends SVGPresentationAttributes {\\n      style?: SVGPresentationAttributes;\\n      x: string | number;\\n      y: string | number;\\n      /**\\n       * Override the default hyphenation-callback\\n       * @see https://react-pdf.org/fonts#registerhyphenationcallback\\n       */\\n      hyphenationCallback?: HyphenationCallback;\\n    }\\n\\n    /**\\n     * A React component for displaying text. Text supports nesting of other\\n     * Text or Link components to create inline styling.\\n     */\\n    class Text extends React.Component<TextProps | SVGTextProps> {}\\n\\n    interface LinkProps extends NodeProps {\\n      /**\\n       * Enable/disable page wrapping for element.\\n       * @see https://react-pdf.org/components#page-wrapping\\n       */\\n      wrap?: boolean;\\n      /**\\n       * Enables debug mode on page bounding box.\\n       * @see https://react-pdf.org/advanced#debugging\\n       */\\n      debug?: boolean;\\n      src: string;\\n      children?: React.ReactNode;\\n    }\\n\\n    /**\\n     * A React component for displaying a hyperlink. Link\\u2019s can be nested\\n     * inside a Text component, or being inside any other valid primitive.\\n     */\\n    class Link extends React.Component<LinkProps> {}\\n\\n    interface NoteProps extends NodeProps {\\n      children: string;\\n    }\\n\\n    class Note extends React.Component<NoteProps> {}\\n\\n    interface CanvasProps extends NodeProps {\\n      /**\\n       * Enables debug mode on page bounding box.\\n       * @see https://react-pdf.org/advanced#debugging\\n       */\\n      debug?: boolean;\\n      paint: (\\n        painter: any,\\n        availableWidth: number,\\n        availableHeight: number,\\n      ) => null;\\n    }\\n\\n    class Canvas extends React.Component<CanvasProps> {}\\n\\n    interface SVGProps extends NodeProps {\\n      /**\\n       * Enables debug mode on page bounding box.\\n       * @see https://react-pdf.org/advanced#debugging\\n       */\\n      debug?: boolean;\\n      width?: string | number;\\n      height?: string | number;\\n      viewBox?: string;\\n      preserveAspectRatio?: string;\\n    }\\n\\n    /**\\n     * The <SVG /> element is a container that defines a new coordinate system and viewport. It is used as the outermost element of SVG documents.\\n     */\\n    class Svg extends React.Component<SVGProps> {}\\n\\n    interface LineProps extends SVGPresentationAttributes {\\n      style?: SVGPresentationAttributes;\\n      x1: string | number;\\n      x2: string | number;\\n      y1: string | number;\\n      y2: string | number;\\n    }\\n\\n    /**\\n     * The <Line /> element is used to create a line.\\n     */\\n    class Line extends React.Component<LineProps> {}\\n\\n    interface PolylineProps extends SVGPresentationAttributes {\\n      style?: SVGPresentationAttributes;\\n      points: string;\\n    }\\n\\n    /**\\n     * The <Polyline /> element is used to create any shape that consists of only straight lines (that is connected at several points).\\n     */\\n    class Polyline extends React.Component<PolylineProps> {}\\n\\n    interface PolygonProps extends SVGPresentationAttributes {\\n      style?: SVGPresentationAttributes;\\n      points: string;\\n    }\\n\\n    /**\\n     * The <Polygon /> element is used to create a graphic that contains at least three sides.\\n     * Polygons are made of straight lines, and the shape is \\\"closed\\\" (all the lines connect up).\\n     */\\n    class Polygon extends React.Component<PolygonProps> {}\\n\\n    interface PathProps extends SVGPresentationAttributes {\\n      style?: SVGPresentationAttributes;\\n      d: string;\\n    }\\n\\n    /**\\n     * The <Path /> element is the most powerful element in the SVG library of basic shapes. It can be used to create lines, curves, arcs, and more.\\n     */\\n    class Path extends React.Component<PathProps> {}\\n\\n    interface RectProps extends SVGPresentationAttributes {\\n      style?: SVGPresentationAttributes;\\n      x: string | number;\\n      y: string | number;\\n      width: string | number;\\n      height: string | number;\\n      rx?: string | number;\\n      ry?: string | number;\\n    }\\n\\n    /**\\n     * The <Rect /> element is used to create a rectangle and variations of a rectangle shape.\\n     */\\n    class Rect extends React.Component<RectProps> {}\\n\\n    interface CircleProps extends SVGPresentationAttributes {\\n      style?: SVGPresentationAttributes;\\n      cx: string | number;\\n      cy: string | number;\\n      r: string | number;\\n    }\\n\\n    /**\\n     * The <Circle /> element is used to create a circle.\\n     */\\n    class Circle extends React.Component<CircleProps> {}\\n\\n    interface EllipseProps extends SVGPresentationAttributes {\\n      style?: SVGPresentationAttributes;\\n      cx: string | number;\\n      cy: string | number;\\n      rx: string | number;\\n      ry: string | number;\\n    }\\n\\n    /**\\n     * The <Ellipse /> element is used to create an ellipse.\\n     * An ellipse is closely related to a circle. The difference is that an ellipse has an x and a y radius that differs from each other, while a circle has equal x and y radius.\\n     */\\n    class Ellipse extends React.Component<EllipseProps> {}\\n\\n    interface GProps extends SVGPresentationAttributes {}\\n\\n    /**\\n     * The <G /> SVG element is a container used to group other SVG elements.\\n     * Transformations applied to the <G /> element are performed on its child elements, and its attributes are inherited by its children.\\n     */\\n    class G extends React.Component<GProps> {}\\n\\n    interface StopProps {\\n      offset: string | number;\\n      stopColor: string;\\n      stopOpacity?: string | number;\\n    }\\n\\n    /**\\n     * The SVG <Stop /> element defines a color and its position to use on a gradient. This element is always a child of a <LinearGradient /> or <RadialGradient /> element\\n     */\\n    class Stop extends React.Component<StopProps> {}\\n\\n    interface DefsProps {}\\n\\n    /**\\n     * The <Defs /> element is used to store graphical objects that will be used at a later time. Objects created inside a <Defs /> element are not rendered directly. To display them you have to reference them\\n     */\\n    class Defs extends React.Component<DefsProps> {}\\n\\n    interface ClipPathProps {\\n      id?: string;\\n    }\\n\\n    /**\\n     * The <ClipPath /> SVG element defines a clipping path, to be used by the clipPath property.\\n     * A clipping path restricts the region to which paint can be applied. Conceptually, parts of the drawing that lie outside of the region bounded by the clipping path are not drawn.\\n     */\\n    class ClipPath extends React.Component<ClipPathProps> {}\\n\\n    interface LinearGradientProps {\\n      x1: string | number;\\n      x2: string | number;\\n      y1: string | number;\\n      y2: string | number;\\n    }\\n\\n    /**\\n     * The <LinearGradient /> element lets authors define linear gradients that can be applied to fill or stroke of graphical elements.\\n     */\\n    class LinearGradient extends React.Component<LinearGradientProps> {}\\n\\n    interface RadialGradientProps {\\n      cx: string | number;\\n      cy: string | number;\\n      fr: string | number;\\n      fx: string | number;\\n      fy: string | number;\\n    }\\n\\n    /**\\n     * The <RadialGradient /> element lets authors define radial gradients that can be applied to fill or stroke of graphical elements.\\n     */\\n    class RadialGradient extends React.Component<RadialGradientProps> {}\\n\\n    interface BlobProviderParams {\\n      blob: Blob | null;\\n      url: string | null;\\n      loading: boolean;\\n      error: Error | null;\\n    }\\n    interface BlobProviderProps {\\n      document: React.ReactElement<DocumentProps>;\\n      children: (params: BlobProviderParams) => React.ReactNode;\\n    }\\n\\n    /**\\n     * Easy and declarative way of getting document's blob data without\\n     * showing it on screen.\\n     * @see https://react-pdf.org/advanced#on-the-fly-rendering\\n     * @platform web\\n     */\\n    class BlobProvider extends React.Component<BlobProviderProps> {}\\n\\n    interface PDFViewerProps {\\n      width?: number | string;\\n      height?: number | string;\\n      style?: Style | Style[];\\n      className?: string;\\n      children?: React.ReactElement<DocumentProps>;\\n      innerRef?: React.Ref<HTMLIFrameElement>;\\n    }\\n\\n    /**\\n     * Iframe PDF viewer for client-side generated documents.\\n     * @platform web\\n     */\\n    class PDFViewer extends React.Component<PDFViewerProps> {}\\n\\n    interface PDFDownloadLinkProps {\\n      document: React.ReactElement<DocumentProps>;\\n      fileName?: string;\\n      style?: Style | Style[];\\n      className?: string;\\n      children?:\\n        | React.ReactNode\\n        | ((params: BlobProviderParams) => React.ReactNode);\\n    }\\n\\n    /**\\n     * Anchor tag to enable generate and download PDF documents on the fly.\\n     * @see https://react-pdf.org/advanced#on-the-fly-rendering\\n     * @platform web\\n     */\\n    class PDFDownloadLink extends React.Component<PDFDownloadLinkProps> {}\\n\\n    interface UsePDFInstance {\\n      loading: boolean;\\n      blob: Blob | null;\\n      url: string | null;\\n      error: string | null;\\n    }\\n\\n    /**\\n     * React hook for creating and updating a PDF document instance\\n     * @platform web\\n     */\\n    function usePDF(options: {\\n      document: React.ReactElement<DocumentProps>;\\n    }): [UsePDFInstance, () => void];\\n\\n    const Font: FontStore;\\n\\n    const StyleSheet: {\\n      hairlineWidth: number;\\n      create: <T extends Styles>(styles: T) => T;\\n      resolve: (\\n        style: Style,\\n        container: {\\n          width: number;\\n          height: number;\\n          orientation: Orientation;\\n        },\\n      ) => Style;\\n      flatten: (...styles: (Style[] | Style | undefined)[]) => Style;\\n      absoluteFillObject: {\\n        position: 'absolute';\\n        left: 0;\\n        right: 0;\\n        top: 0;\\n        bottom: 0;\\n      };\\n    };\\n\\n    const version: any;\\n\\n    const PDFRenderer: any;\\n\\n    const pdf: (\\n      initialValue?: React.ReactElement<DocumentProps>,\\n      onChange?: () => {},\\n    ) => {\\n      container: any;\\n      isDirty: () => boolean;\\n      updateContainer: (document: React.ReactElement<any>) => void;\\n      toBuffer: () => Promise<NodeJS.ReadableStream>;\\n      toBlob: () => Promise<Blob>;\\n      toString: () => string;\\n    };\\n\\n    const renderToStream: (\\n      document: React.ReactElement<DocumentProps>,\\n    ) => Promise<NodeJS.ReadableStream>;\\n\\n    const renderToString: (\\n      document: React.ReactElement<DocumentProps>,\\n    ) => string;\\n\\n    const renderToFile: (\\n      document: React.ReactElement<DocumentProps>,\\n      filePath: string,\\n      callback?: (output: NodeJS.ReadableStream, filePath: string) => any,\\n    ) => Promise<NodeJS.ReadableStream>;\\n\\n    const render: typeof renderToFile;\\n  }\\n\\n  const pdf: typeof ReactPDF.pdf;\\n  const Document: typeof ReactPDF.Document;\\n  const Page: typeof ReactPDF.Page;\\n  const View: typeof ReactPDF.View;\\n  const Image: typeof ReactPDF.Image;\\n  const Text: typeof ReactPDF.Text;\\n  const Canvas: typeof ReactPDF.Canvas;\\n  const Link: typeof ReactPDF.Link;\\n  const Note: typeof ReactPDF.Note;\\n  const Svg: typeof ReactPDF.Svg;\\n  const Line: typeof ReactPDF.Line;\\n  const Polyline: typeof ReactPDF.Polyline;\\n  const Polygon: typeof ReactPDF.Polygon;\\n  const Path: typeof ReactPDF.Path;\\n  const Rect: typeof ReactPDF.Rect;\\n  const Circle: typeof ReactPDF.Circle;\\n  const Ellipse: typeof ReactPDF.Ellipse;\\n  const G: typeof ReactPDF.G;\\n  const Stop: typeof ReactPDF.Stop;\\n  const Defs: typeof ReactPDF.Defs;\\n  const ClipPath: typeof ReactPDF.ClipPath;\\n  const LinearGradient: typeof ReactPDF.LinearGradient;\\n  const RadialGradient: typeof ReactPDF.RadialGradient;\\n  const Font: typeof ReactPDF.Font;\\n  const StyleSheet: typeof ReactPDF.StyleSheet;\\n  const PDFRenderer: typeof ReactPDF.PDFRenderer;\\n  const version: typeof ReactPDF.version;\\n  const renderToFile: typeof ReactPDF.renderToFile;\\n  const renderToString: typeof ReactPDF.renderToString;\\n  const renderToStream: typeof ReactPDF.renderToStream;\\n  const usePDF: typeof ReactPDF.usePDF;\\n  const PDFViewer: typeof ReactPDF.PDFViewer;\\n  const BlobProvider: typeof ReactPDF.BlobProvider;\\n  const PDFDownloadLink: typeof ReactPDF.PDFDownloadLink;\\n\\n  export default ReactPDF;\\n\\n  export {\\n    pdf,\\n    Document,\\n    Page,\\n    View,\\n    Image,\\n    Text,\\n    Canvas,\\n    Link,\\n    Note,\\n    Svg,\\n    Line,\\n    Polyline,\\n    Polygon,\\n    Path,\\n    Rect,\\n    Circle,\\n    Ellipse,\\n    G,\\n    Stop,\\n    Defs,\\n    ClipPath,\\n    LinearGradient,\\n    RadialGradient,\\n    Font,\\n    StyleSheet,\\n    PDFRenderer,\\n    version,\\n    renderToFile,\\n    renderToStream,\\n    renderToString,\\n    usePDF,\\n    PDFViewer,\\n    BlobProvider,\\n    PDFDownloadLink,\\n  };\\n}\\n\\n[end of index.d.ts]\\n\\n</code>\\n\\nHere is an example of a patch file. It consists of changes to the code base. It specifies the file names, the line numbers of each change, and the removed and added lines. A single patch file can contain changes to multiple files.\\n\\n<patch>\\ndiff --git a/file.py b/file.py\\n--- a/file.py\\n+++ b/file.py\\n@@ -1,27 +1,35 @@\\n def euclidean(a, b):\\n-    while b:\\n-        a, b = b, a % b\\n-    return a\\n+    if b == 0:\\n+        return a\\n+    return euclidean(b, a % b)\\n \\n def bresenham(x0, y0, x1, y1):\\n+    points = []\\n+    dx = abs(x1 - x0)\\n+    dy = abs(y1 - y0)\\n+    sx = 1 if x0 < x1 else -1\\n+    sy = 1 if y0 < y1 else -1\\n+    err = dx - dy\\n+    \\n     while True:\\n-        plot(x0, y0)\\n+        points.append((x0, y0))\\n         if x0 == x1 and y0 == y1:\\n             break\\n-        e2 = 2 * err\\n-        if e2 > -dy:\\n-            err -= dy\\n-            x0 += sx\\n-        if e2 < dx:\\n-            err += dx\\n-            y0 += sy\\n+        e2 = 2 * err\\n+        if e2 > -dy:\\n+            err -= dy\\n+            x0 += sx\\n+        if e2 < dx:\\n+            err += dx\\n+            y0 += sy\\n+    return points\\n+</patch>\\n\\nI need you to solve the provided issue by generating a single patch file that I can apply directly to this repository using git apply. Please respond with a single patch file in the format shown above.\\n\\nRespond below: \\n\"}]",
      "retrieved_file_paths": [
        "bug_report.md",
        "CONTRIBUTING.md",
        "README.md",
        "CODE_OF_CONDUCT.md",
        "index.d.ts"
      ]
    },
    "retrieved_documents": [
      {
        "id": "62ec4b36-1585-49a0-895a-0ef0f44bd44e",
        "score": 0.01639344262295082,
        "payload": {
          "text": "---\nname: Bug report\nabout: Create a report to help us improve\ntitle: ''\nlabels: ''\nassignees: ''\n\n---\n\n**Describe the bug**\nA clear and concise description of what the bug is.\n\n**To Reproduce**\nSteps to reproduce the behavior including code snippet (if applies):\n1. Go to '...'\n2. Click on '....'\n3. Scroll down to '....'\n4. See error\n\n_You can make use of [react-pdf REPL](https://react-pdf/repl) to share the snippet_\n\n**Expected behavior**\nA clear and concise description of what you expected to happen.\n\n**Screenshots**\nIf applicable, add screenshots to help explain your problem.\n\n**Desktop (please complete the following information):**\n - OS: [e.g. MacOS, Windows]\n - Browser [e.g. chrome, safari]\n - React-pdf version [e.g. v1.1.0]\n\n<!-- Love react-pdf? Please consider supporting our collective:\n\ud83d\udc49  https://opencollective.com/react-pdf/donate -->\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/.github/ISSUE_TEMPLATE/bug_report.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "62ec4b36-1585-49a0-895a-0ef0f44bd44e"
        }
      },
      {
        "id": "390d9984-4d3e-4987-a216-26be5f3deba4",
        "score": 0.016129032258064516,
        "payload": {
          "text": "# Contribute\n\n## Introduction\n\nFirst, thank you for considering contributing to react-pdf!\n\nWe welcome any type of contribution, not only code. You can help with \n- **QA**: file bug reports, the more details you can give the better (e.g. screenshots with the console open)\n- **Marketing**: writing blog posts, howto's, printing stickers, ...\n- **Community**: presenting the project at meetups, organizing a dedicated meetup for the local community, ...\n- **Code**: take a look at the [open issues](https://github.com/diegomura/react-pdf/issues). Even if you can't write code, commenting on them, showing that you care about a given issue matters. It helps us triage them.\n- **Money**: we welcome financial contributions in full transparency on our [open collective](https://opencollective.com/react-pdf).\n\n## Your First Contribution\n\nWorking on your first Pull Request? You can learn how from this *free* series, [How to Contribute to an Open Source Project on GitHub](https://egghead.io/series/how-to-contribute-to-an-open-source-project-on-github).\n\n## Submitting code\n\nAny code change should be submitted as a pull request. The description should explain what the code does and give steps to execute it. The pull request should also contain tests.\n\n## Code review process\n\nThe bigger the pull request, the longer it will take to review and merge. Try to break down large pull requests in smaller chunks that are easier to review and merge.\nIt is also always helpful to have some context for your pull request. What was the purpose? Why does it matter to you?\n\n## Financial contributions\n\nWe also welcome financial contributions in full transparency on our [open collective](https://opencollective.com/react-pdf).\nAnyone can file an expense. If the expense makes sense for the development of the community, it will be \"merged\" in the ledger of our open collective by the core contributors and the person who filed the expense will be reimbursed.\n\n## Questions\n\nIf you have any questions, create an [issue](https://github.com/diegomura/react-pdf/issues) (protip: do a quick search first to see if someone else didn't ask the same question before!).\nYou can also reach us at hello@react-pdf.opencollective.com.\n\n## Credits\n\n### Contributors\n\nThank you to all the people who have already contributed to react-pdf!\n<a href=\"/diegomura/react-pdf/graphs/contributors\"><img src=\"https://opencollective.com/react-pdf/contributors.svg?width=890\" /></a>\n\n\n### Backers\n\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\n\n<a href=\"https://opencollective.com/react-pdf#backers\" target=\"_blank\"><img src=\"https://opencollective.com/react-pdf/backers.svg?width=890\"></a>\n\n\n<!-- This `CONTRIBUTING.md` is based on @nayafia's template https://github.com/nayafia/contributing-template -->\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/.github/CONTRIBUTING.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "390d9984-4d3e-4987-a216-26be5f3deba4"
        }
      },
      {
        "id": "905a84df-25ec-45dc-b5a6-103e701d6b9d",
        "score": 0.015873015873015872,
        "payload": {
          "text": "<p align=\"center\">\n  <img src=\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\" height=\"280px\">\n</p>\n\n# @react-pdf/render\n\n> React-pdf render engine\n\n## How to install\n```sh\nyarn add @react-pdf/render\n```\n\n## How it works\n\n```js\nconst render = require('@react-pdf/render');\nconst primitives = require('@react-pdf/primitives');\n\nconst view = {\n  type: primitives.View,\n  style: {\n    backgroundColor: 'red',\n    borderTopLeftRadius: 5,\n    borderTopRightRadius: 10,\n    borderBottomLeftRadius: 0,\n    borderBottomRightRadius: 15,\n    borderTopColor: 'yellow',\n    borderLeftColor: 'green',\n    borderBottomColor: 'black',\n    borderRightColor: 'purple',\n  },\n  box: {\n    left: 20,\n    top: 20,\n    width: 100,\n    height: 80,\n    borderTopWidth: 3,\n    borderLeftWidth: 2,\n    borderBottomWidth: 1,\n    borderRightWidth: 4,\n  },\n};\n\nconst doc = {\n  type: primitives.Document,\n  children: [\n    {\n      type: primitives.Page,\n      box: { width: 400, height: 600 },\n      children: [view],\n    },\n  ],\n};\n\n// Provide your own context\nconst ctx = createContext();\n\nrender.default(ctx, doc);\n```\n\nThis library exports a `render` function that takes two arguments:\n\n- *ctx*: This is the target context where the document is going to be rendered. React-pdf currently uses a [pdfkit](https://github.com/react-pdf/pdfkit) document as context, but it can target any other type of structure as long as it signature matches pdfkit API. In the future this will enable rendering documents into muliple formats in addition to PDF.\n- *node*: Document root node. A node is a nested structure that defines a single element in a document. They are defined by it's `type` and arguments.\n\n## Node structure\n\nA node represents a single element inside a document. It's mainly defined by it's `type` (mandatory) field in addition to other values to define where that element is positioned inside the document (`box`), how it looks (`style`), how it should behave (`params`) and what sub-nodes it contains (`children`).\n\nThe root node must always be of type `DOCUMENT`, containing as many `PAGE` nodes as desired inside it's children field.\n\nBare in mind this package does not handle any type of node positioning, inheritance, style transformations or any other layout related logic. It's role is limited to render exactly the node it get's into the provided context. Take this into account when definig styles as `paddingTop`, `paddingLeft` and so on instead of the shortcut `padding`. For layout or styles transformation this project provides separate packages.\n\n### node.type\n\nMandatory field specifiying the type of the particular node. The full list of types can be found and imported from `@react-pdf/primitives`\n\n### node.box\n\nDefines bounding box where a particular node is located inside a document\n\n- left\n- top\n- width\n- height\n- paddingTop\n- paddingLeft\n- paddingBottom\n- paddingRight\n- marginTop\n- marginLeft\n- marginBottom\n- marginRight\n- borderTopWidth\n- borderLeftWidth\n- borderBottomWidth\n- borderRightWidth\n\n### node.style\n\nDefines how the node looks like. There are some types of nodes that expect special style values, but generally all support:\n\n- color\n- opacity\n- overflow\n- backgroundColor\n- borderTopLeftRadius\n- borderTopRightRadius\n- borderBottomLeftRadius\n- borderBottomRightRadius\n- borderTopColor\n- borderLeftColor\n- borderBottomColor\n- borderRightColor\n- _others..._\n\n### node.props\n\nSpecific node params needed to render correctly ot behave like certain way. Specially needed for SVG nodes\n\n## PDF example\n\n```js\nconst fs = require('fs');\nconst render = require('@react-pdf/render');\nconst pdfkit = require('@react-pdf/pdfkit');\n\nconst PDFDocument = pdfkit.default;\n\nconst ctx = new PDFDocument({ autoFirstPage: false });\n\nconst doc = {}; // See above\n\nrender.default(ctx, doc);\n\nconst stream = fs.createWriteStream('./test.pdf');\n\nctx.pipe(stream);\n```\n\n## License\n\nMIT \u00a9 [Diego Muracciole](http://github.com/diegomura)\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/packages/render/README.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "905a84df-25ec-45dc-b5a6-103e701d6b9d"
        }
      },
      {
        "id": "ed554f98-874c-419d-b2fc-7c71664fc6d7",
        "score": 0.015625,
        "payload": {
          "text": "# Contributor Covenant Code of Conduct\n\n## Our Pledge\n\nIn the interest of fostering an open and welcoming environment, we as contributors and maintainers pledge to making participation in our project and our community a harassment-free experience for everyone, regardless of age, body size, disability, ethnicity, gender identity and expression, level of experience, nationality, personal appearance, race, religion, or sexual identity and orientation.\n\n## Our Standards\n\nExamples of behavior that contributes to creating a positive environment include:\n\n* Using welcoming and inclusive language\n* Being respectful of differing viewpoints and experiences\n* Gracefully accepting constructive criticism\n* Focusing on what is best for the community\n* Showing empathy towards other community members\n\nExamples of unacceptable behavior by participants include:\n\n* The use of sexualized language or imagery and unwelcome sexual attention or advances\n* Trolling, insulting/derogatory comments, and personal or political attacks\n* Public or private harassment\n* Publishing others' private information, such as a physical or electronic address, without explicit permission\n* Other conduct which could reasonably be considered inappropriate in a professional setting\n\n## Our Responsibilities\n\nProject maintainers are responsible for clarifying the standards of acceptable behavior and are expected to take appropriate and fair corrective action in response to any instances of unacceptable behavior.\n\nProject maintainers have the right and responsibility to remove, edit, or reject comments, commits, code, wiki edits, issues, and other contributions that are not aligned to this Code of Conduct, or to ban temporarily or permanently any contributor for other behaviors that they deem inappropriate, threatening, offensive, or harmful.\n\n## Scope\n\nThis Code of Conduct applies both within project spaces and in public spaces when an individual is representing the project or its community. Examples of representing a project or community include using an official project e-mail address, posting via an official social media account, or acting as an appointed representative at an online or offline event. Representation of a project may be further defined and clarified by project maintainers.\n\n## Enforcement\n\nInstances of abusive, harassing, or otherwise unacceptable behavior may be reported by contacting the project team at diegomuracciole@gmail.com. The project team will review and investigate all complaints, and will respond in a way that it deems appropriate to the circumstances. The project team is obligated to maintain confidentiality with regard to the reporter of an incident. Further details of specific enforcement policies may be posted separately.\n\nProject maintainers who do not follow or enforce the Code of Conduct in good faith may face temporary or permanent repercussions as determined by other members of the project's leadership.\n\n## Attribution\n\nThis Code of Conduct is adapted from the [Contributor Covenant][homepage], version 1.4, available at [http://contributor-covenant.org/version/1/4][version]\n\n[homepage]: http://contributor-covenant.org\n[version]: http://contributor-covenant.org/version/1/4/\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/.github/CODE_OF_CONDUCT.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "ed554f98-874c-419d-b2fc-7c71664fc6d7"
        }
      },
      {
        "id": "0337b7eb-280b-42d4-99bd-6b34d7a62963",
        "score": 0.015384615384615385,
        "payload": {
          "text": "declare module '@react-pdf/renderer' {\n  import * as React from 'react';\n  import {\n    Style,\n    PageSize,\n    FontStore,\n    Orientation,\n    SourceObject,\n    HyphenationCallback,\n    SVGPresentationAttributes,\n  } from '@react-pdf/types';\n\n  namespace ReactPDF {\n    interface Styles {\n      [key: string]: Style;\n    }\n\n    interface OnRenderProps {\n      blob?: Blob;\n    }\n\n    interface DocumentProps {\n      title?: string;\n      author?: string;\n      subject?: string;\n      keywords?: string;\n      creator?: string;\n      producer?: string;\n      onRender?: (props: OnRenderProps) => any;\n    }\n\n    /**\n     * This component represent the PDF document itself. It must be the root\n     * of your tree element structure, and under no circumstances should it be\n     * used as children of another react-pdf component. In addition, it should\n     * only have childs of type <Page />.\n     */\n    class Document extends React.Component<DocumentProps> {}\n\n    interface NodeProps {\n      id?: string;\n      style?: Style | Style[];\n      /**\n       * Render component in all wrapped pages.\n       * @see https://react-pdf.org/advanced#fixed-components\n       */\n      fixed?: boolean;\n      /**\n       * Force the wrapping algorithm to start a new page when rendering the\n       * element.\n       * @see https://react-pdf.org/advanced#page-breaks\n       */\n      break?: boolean;\n      /**\n       * Hint that no page wrapping should occur between all sibling elements following the element within n points\n       * @see https://react-pdf.org/advanced#orphan-&-widow-protection\n       */\n      minPresenceAhead?: number;\n    }\n\n    interface PageProps extends NodeProps {\n      /**\n       * Enable page wrapping for this page.\n       * @see https://react-pdf.org/components#page-wrapping\n       */\n      wrap?: boolean;\n      /**\n       * Enables debug mode on page bounding box.\n       * @see https://react-pdf.org/advanced#debugging\n       */\n      debug?: boolean;\n      size?: PageSize;\n      orientation?: Orientation;\n    }\n\n    /**\n     * Represents single page inside the PDF document, or a subset of them if\n     * using the wrapping feature. A <Document /> can contain as many pages as\n     * you want, but ensure not rendering a page inside any component besides\n     * Document.\n     */\n    class Page extends React.Component<PageProps> {}\n\n    interface ViewProps extends NodeProps {\n      id?: string;\n      /**\n       * Enable/disable page wrapping for element.\n       * @see https://react-pdf.org/components#page-wrapping\n       */\n      wrap?: boolean;\n      /**\n       * Enables debug mode on page bounding box.\n       * @see https://react-pdf.org/advanced#debugging\n       */\n      debug?: boolean;\n      render?: (props: {\n        pageNumber: number;\n        subPageNumber: number;\n      }) => React.ReactNode;\n      children?: React.ReactNode;\n      id?: string;\n    }\n\n    /**\n     * The most fundamental component for building a UI and is designed to be\n     * nested inside other views and can have 0 to many children.\n     */\n    class View extends React.Component<ViewProps> {}\n\n    interface BaseImageProps extends NodeProps {\n      /**\n       * Enables debug mode on page bounding box.\n       * @see https://react-pdf.org/advanced#debugging\n       */\n      debug?: boolean;\n      cache?: boolean;\n    }\n\n    interface ImageWithSrcProp extends BaseImageProps {\n      src: SourceObject;\n    }\n\n    interface ImageWithSourceProp extends BaseImageProps {\n      source: SourceObject;\n    }\n\n    type ImageProps = ImageWithSrcProp | ImageWithSourceProp;\n\n    /**\n     * A React component for displaying network or local (Node only) JPG or\n     * PNG images, as well as base64 encoded image strings.\n     */\n    class Image extends React.Component<ImageProps> {}\n\n    interface TextProps extends NodeProps {\n      id?: string;\n      /**\n       * Enable/disable page wrapping for element.\n       * @see https://react-pdf.org/components#page-wrapping\n       */\n      wrap?: boolean;\n      /**\n       * Enables debug mode on page bounding box.\n       * @see https://react-pdf.org/advanced#debugging\n       */\n      debug?: boolean;\n      render?: (props: {\n        pageNumber: number;\n        totalPages: number;\n        subPageNumber: number;\n        subPageTotalPages: number;\n      }) => React.ReactNode;\n      children?: React.ReactNode;\n      id?: string;\n      /**\n       * Override the default hyphenation-callback\n       * @see https://react-pdf.org/fonts#registerhyphenationcallback\n       */\n      hyphenationCallback?: HyphenationCallback;\n      /**\n       * Specifies the minimum number of lines in a text element that must be shown at the bottom of a page or its container.\n       * @see https://react-pdf.org/advanced#orphan-&-widow-protection\n       */\n      orphans?: number;\n      /**\n       * Specifies the minimum number of lines in a text element that must be shown at the top of a page or its container..\n       * @see https://react-pdf.org/advanced#orphan-&-widow-protection\n       */\n      widows?: number;\n    }\n\n    interface SVGTextProps extends SVGPresentationAttributes {\n      style?: SVGPresentationAttributes;\n      x: string | number;\n      y: string | number;\n      /**\n       * Override the default hyphenation-callback\n       * @see https://react-pdf.org/fonts#registerhyphenationcallback\n       */\n      hyphenationCallback?: HyphenationCallback;\n    }\n\n    /**\n     * A React component for displaying text. Text supports nesting of other\n     * Text or Link components to create inline styling.\n     */\n    class Text extends React.Component<TextProps | SVGTextProps> {}\n\n    interface LinkProps extends NodeProps {\n      /**\n       * Enable/disable page wrapping for element.\n       * @see https://react-pdf.org/components#page-wrapping\n       */\n      wrap?: boolean;\n      /**\n       * Enables debug mode on page bounding box.\n       * @see https://react-pdf.org/advanced#debugging\n       */\n      debug?: boolean;\n      src: string;\n      children?: React.ReactNode;\n    }\n\n    /**\n     * A React component for displaying a hyperlink. Link\u2019s can be nested\n     * inside a Text component, or being inside any other valid primitive.\n     */\n    class Link extends React.Component<LinkProps> {}\n\n    interface NoteProps extends NodeProps {\n      children: string;\n    }\n\n    class Note extends React.Component<NoteProps> {}\n\n    interface CanvasProps extends NodeProps {\n      /**\n       * Enables debug mode on page bounding box.\n       * @see https://react-pdf.org/advanced#debugging\n       */\n      debug?: boolean;\n      paint: (\n        painter: any,\n        availableWidth: number,\n        availableHeight: number,\n      ) => null;\n    }\n\n    class Canvas extends React.Component<CanvasProps> {}\n\n    interface SVGProps extends NodeProps {\n      /**\n       * Enables debug mode on page bounding box.\n       * @see https://react-pdf.org/advanced#debugging\n       */\n      debug?: boolean;\n      width?: string | number;\n      height?: string | number;\n      viewBox?: string;\n      preserveAspectRatio?: string;\n    }\n\n    /**\n     * The <SVG /> element is a container that defines a new coordinate system and viewport. It is used as the outermost element of SVG documents.\n     */\n    class Svg extends React.Component<SVGProps> {}\n\n    interface LineProps extends SVGPresentationAttributes {\n      style?: SVGPresentationAttributes;\n      x1: string | number;\n      x2: string | number;\n      y1: string | number;\n      y2: string | number;\n    }\n\n    /**\n     * The <Line /> element is used to create a line.\n     */\n    class Line extends React.Component<LineProps> {}\n\n    interface PolylineProps extends SVGPresentationAttributes {\n      style?: SVGPresentationAttributes;\n      points: string;\n    }\n\n    /**\n     * The <Polyline /> element is used to create any shape that consists of only straight lines (that is connected at several points).\n     */\n    class Polyline extends React.Component<PolylineProps> {}\n\n    interface PolygonProps extends SVGPresentationAttributes {\n      style?: SVGPresentationAttributes;\n      points: string;\n    }\n\n    /**\n     * The <Polygon /> element is used to create a graphic that contains at least three sides.\n     * Polygons are made of straight lines, and the shape is \"closed\" (all the lines connect up).\n     */\n    class Polygon extends React.Component<PolygonProps> {}\n\n    interface PathProps extends SVGPresentationAttributes {\n      style?: SVGPresentationAttributes;\n      d: string;\n    }\n\n    /**\n     * The <Path /> element is the most powerful element in the SVG library of basic shapes. It can be used to create lines, curves, arcs, and more.\n     */\n    class Path extends React.Component<PathProps> {}\n\n    interface RectProps extends SVGPresentationAttributes {\n      style?: SVGPresentationAttributes;\n      x: string | number;\n      y: string | number;\n      width: string | number;\n      height: string | number;\n      rx?: string | number;\n      ry?: string | number;\n    }\n\n    /**\n     * The <Rect /> element is used to create a rectangle and variations of a rectangle shape.\n     */\n    class Rect extends React.Component<RectProps> {}\n\n    interface CircleProps extends SVGPresentationAttributes {\n      style?: SVGPresentationAttributes;\n      cx: string | number;\n      cy: string | number;\n      r: string | number;\n    }\n\n    /**\n     * The <Circle /> element is used to create a circle.\n     */\n    class Circle extends React.Component<CircleProps> {}\n\n    interface EllipseProps extends SVGPresentationAttributes {\n      style?: SVGPresentationAttributes;\n      cx: string | number;\n      cy: string | number;\n      rx: string | number;\n      ry: string | number;\n    }\n\n    /**\n     * The <Ellipse /> element is used to create an ellipse.\n     * An ellipse is closely related to a circle. The difference is that an ellipse has an x and a y radius that differs from each other, while a circle has equal x and y radius.\n     */\n    class Ellipse extends React.Component<EllipseProps> {}\n\n    interface GProps extends SVGPresentationAttributes {}\n\n    /**\n     * The <G /> SVG element is a container used to group other SVG elements.\n     * Transformations applied to the <G /> element are performed on its child elements, and its attributes are inherited by its children.\n     */\n    class G extends React.Component<GProps> {}\n\n    interface StopProps {\n      offset: string | number;\n      stopColor: string;\n      stopOpacity?: string | number;\n    }\n\n    /**\n     * The SVG <Stop /> element defines a color and its position to use on a gradient. This element is always a child of a <LinearGradient /> or <RadialGradient /> element\n     */\n    class Stop extends React.Component<StopProps> {}\n\n    interface DefsProps {}\n\n    /**\n     * The <Defs /> element is used to store graphical objects that will be used at a later time. Objects created inside a <Defs /> element are not rendered directly. To display them you have to reference them\n     */\n    class Defs extends React.Component<DefsProps> {}\n\n    interface ClipPathProps {\n      id?: string;\n    }\n\n    /**\n     * The <ClipPath /> SVG element defines a clipping path, to be used by the clipPath property.\n     * A clipping path restricts the region to which paint can be applied. Conceptually, parts of the drawing that lie outside of the region bounded by the clipping path are not drawn.\n     */\n    class ClipPath extends React.Component<ClipPathProps> {}\n\n    interface LinearGradientProps {\n      x1: string | number;\n      x2: string | number;\n      y1: string | number;\n      y2: string | number;\n    }\n\n    /**\n     * The <LinearGradient /> element lets authors define linear gradients that can be applied to fill or stroke of graphical elements.\n     */\n    class LinearGradient extends React.Component<LinearGradientProps> {}\n\n    interface RadialGradientProps {\n      cx: string | number;\n      cy: string | number;\n      fr: string | number;\n      fx: string | number;\n      fy: string | number;\n    }\n\n    /**\n     * The <RadialGradient /> element lets authors define radial gradients that can be applied to fill or stroke of graphical elements.\n     */\n    class RadialGradient extends React.Component<RadialGradientProps> {}\n\n    interface BlobProviderParams {\n      blob: Blob | null;\n      url: string | null;\n      loading: boolean;\n      error: Error | null;\n    }\n    interface BlobProviderProps {\n      document: React.ReactElement<DocumentProps>;\n      children: (params: BlobProviderParams) => React.ReactNode;\n    }\n\n    /**\n     * Easy and declarative way of getting document's blob data without\n     * showing it on screen.\n     * @see https://react-pdf.org/advanced#on-the-fly-rendering\n     * @platform web\n     */\n    class BlobProvider extends React.Component<BlobProviderProps> {}\n\n    interface PDFViewerProps {\n      width?: number | string;\n      height?: number | string;\n      style?: Style | Style[];\n      className?: string;\n      children?: React.ReactElement<DocumentProps>;\n      innerRef?: React.Ref<HTMLIFrameElement>;\n    }\n\n    /**\n     * Iframe PDF viewer for client-side generated documents.\n     * @platform web\n     */\n    class PDFViewer extends React.Component<PDFViewerProps> {}\n\n    interface PDFDownloadLinkProps {\n      document: React.ReactElement<DocumentProps>;\n      fileName?: string;\n      style?: Style | Style[];\n      className?: string;\n      children?:\n        | React.ReactNode\n        | ((params: BlobProviderParams) => React.ReactNode);\n    }\n\n    /**\n     * Anchor tag to enable generate and download PDF documents on the fly.\n     * @see https://react-pdf.org/advanced#on-the-fly-rendering\n     * @platform web\n     */\n    class PDFDownloadLink extends React.Component<PDFDownloadLinkProps> {}\n\n    interface UsePDFInstance {\n      loading: boolean;\n      blob: Blob | null;\n      url: string | null;\n      error: string | null;\n    }\n\n    /**\n     * React hook for creating and updating a PDF document instance\n     * @platform web\n     */\n    function usePDF(options: {\n      document: React.ReactElement<DocumentProps>;\n    }): [UsePDFInstance, () => void];\n\n    const Font: FontStore;\n\n    const StyleSheet: {\n      hairlineWidth: number;\n      create: <T extends Styles>(styles: T) => T;\n      resolve: (\n        style: Style,\n        container: {\n          width: number;\n          height: number;\n          orientation: Orientation;\n        },\n      ) => Style;\n      flatten: (...styles: (Style[] | Style | undefined)[]) => Style;\n      absoluteFillObject: {\n        position: 'absolute';\n        left: 0;\n        right: 0;\n        top: 0;\n        bottom: 0;\n      };\n    };\n\n    const version: any;\n\n    const PDFRenderer: any;\n\n    const pdf: (\n      initialValue?: React.ReactElement<DocumentProps>,\n      onChange?: () => {},\n    ) => {\n      container: any;\n      isDirty: () => boolean;\n      updateContainer: (document: React.ReactElement<any>) => void;\n      toBuffer: () => Promise<NodeJS.ReadableStream>;\n      toBlob: () => Promise<Blob>;\n      toString: () => string;\n    };\n\n    const renderToStream: (\n      document: React.ReactElement<DocumentProps>,\n    ) => Promise<NodeJS.ReadableStream>;\n\n    const renderToString: (\n      document: React.ReactElement<DocumentProps>,\n    ) => string;\n\n    const renderToFile: (\n      document: React.ReactElement<DocumentProps>,\n      filePath: string,\n      callback?: (output: NodeJS.ReadableStream, filePath: string) => any,\n    ) => Promise<NodeJS.ReadableStream>;\n\n    const render: typeof renderToFile;\n  }\n\n  const pdf: typeof ReactPDF.pdf;\n  const Document: typeof ReactPDF.Document;\n  const Page: typeof ReactPDF.Page;\n  const View: typeof ReactPDF.View;\n  const Image: typeof ReactPDF.Image;\n  const Text: typeof ReactPDF.Text;\n  const Canvas: typeof ReactPDF.Canvas;\n  const Link: typeof ReactPDF.Link;\n  const Note: typeof ReactPDF.Note;\n  const Svg: typeof ReactPDF.Svg;\n  const Line: typeof ReactPDF.Line;\n  const Polyline: typeof ReactPDF.Polyline;\n  const Polygon: typeof ReactPDF.Polygon;\n  const Path: typeof ReactPDF.Path;\n  const Rect: typeof ReactPDF.Rect;\n  const Circle: typeof ReactPDF.Circle;\n  const Ellipse: typeof ReactPDF.Ellipse;\n  const G: typeof ReactPDF.G;\n  const Stop: typeof ReactPDF.Stop;\n  const Defs: typeof ReactPDF.Defs;\n  const ClipPath: typeof ReactPDF.ClipPath;\n  const LinearGradient: typeof ReactPDF.LinearGradient;\n  const RadialGradient: typeof ReactPDF.RadialGradient;\n  const Font: typeof ReactPDF.Font;\n  const StyleSheet: typeof ReactPDF.StyleSheet;\n  const PDFRenderer: typeof ReactPDF.PDFRenderer;\n  const version: typeof ReactPDF.version;\n  const renderToFile: typeof ReactPDF.renderToFile;\n  const renderToString: typeof ReactPDF.renderToString;\n  const renderToStream: typeof ReactPDF.renderToStream;\n  const usePDF: typeof ReactPDF.usePDF;\n  const PDFViewer: typeof ReactPDF.PDFViewer;\n  const BlobProvider: typeof ReactPDF.BlobProvider;\n  const PDFDownloadLink: typeof ReactPDF.PDFDownloadLink;\n\n  export default ReactPDF;\n\n  export {\n    pdf,\n    Document,\n    Page,\n    View,\n    Image,\n    Text,\n    Canvas,\n    Link,\n    Note,\n    Svg,\n    Line,\n    Polyline,\n    Polygon,\n    Path,\n    Rect,\n    Circle,\n    Ellipse,\n    G,\n    Stop,\n    Defs,\n    ClipPath,\n    LinearGradient,\n    RadialGradient,\n    Font,\n    StyleSheet,\n    PDFRenderer,\n    version,\n    renderToFile,\n    renderToStream,\n    renderToString,\n    usePDF,\n    PDFViewer,\n    BlobProvider,\n    PDFDownloadLink,\n  };\n}\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/packages/renderer/index.d.ts",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "0337b7eb-280b-42d4-99bd-6b34d7a62963"
        }
      }
    ]
  },
  {
    "instance_id": "diegomura__react-pdf-2400",
    "model_patch": "diff --git a/index.d.ts b/index.d.ts\nindex 5f6e4c1..c3f2d3b 100644\n--- a/index.d.ts\n+++ b/index.d.ts\n@@ -38,6 +38,14 @@ declare module '@react-pdf/renderer' {\n        * @see https://react-pdf.org/advanced#fixed-components\n        */\n       fixed?: boolean;\n+      /**\n+       * Hint that no page wrapping should occur between all sibling elements following the element within n points\n+       * This property is particularly useful for avoiding orphaned headers or footers\n+       * when using fixed elements.\n+       * Note: When used with `fixed`, `minPresenceAhead` ensures that the fixed element\n+       * will not appear alone on a page without at least `minPresenceAhead` points of content.\n+       * @see https://react-pdf.org/advanced#orphan-&-widow-protection\n+       */\n       minPresenceAhead?: number;\n     }",
    "model_name_or_path": "text_bm25",
    "metrics": {
      "issue_embedding_time_ms": 0.0,
      "retrieval_time_ms_bm25": 37.03,
      "retrieval_time_ms": 37.03,
      "total_retrieval_time_ms": 37.03,
      "generation_time_ms": 2781.23,
      "total_io_time_ms": 2818.26,
      "input_total_token_limit": null,
      "issue_text_tokens": 2374,
      "vlm_tokens": 0,
      "retrieved_tokens": 6389,
      "prompt_template_tokens": 515,
      "total_input_prompt_tokens": 9278,
      "output_generated_tokens": 221,
      "total_io_tokens": 9499,
      "input_prompt_text": "[{\"type\": \"text\", \"text\": \"You will be provided with a partial code base and an issue statement explaining a problem to resolve.\\n<issue>\\n`fixed` in conjunction with `minPresenceAhead` does not work as expected\\n**Describe the bug**\\r\\nUsing `minPresenceAhead` on a `fixed` component does not work as expected.\\r\\n\\r\\n**To Reproduce**\\r\\n1. Create a document with two components: \\r\\n  * Some view that takes up most of the first page, e.g. `<View style={{height: 600}}/>`\\r\\n  * A component that consists of a header, and a large block of text. \\r\\n1. Try and style the second component so that the header is fixed above each page as the large block of text, but make sure it does not appear by itself. So add both `fixed` and `minPresenceAhead` to the header.\\r\\n3. See that the `minPresenceAhead` rule is not obeyed. But it _is_ obeyed if `fixed` is removed. \\r\\n\\r\\n[Repl link](https://react-pdf.org/repl?code=3187b0760ce02e00403207901281440b2302f0c04471004e02980b6300960038402b990098800da1304e6c0218945400d0c50908b028bc681189de9572118393001cc611261c04422f462355e4684122075892955a28533e8d30b06ac269c011a122ab62316c46094e4a609c52ea008e349c0074300072223041649c6111645a64bc305084d992425ae19cb0e4f4d100823294720aca59047250e4e11ef5b41009f1006644344ae4451460d1709cc0866cda591255ed8d60d676c53ac94d3499ade3ddbdfdc56052f644d1008a347214d4746c8694446032105a30344c50f5c044ed4a049c006e25c1325125d3a8677b44000a000b4e3115ec11f9a8a60419824ecc05512978d1001ab3d288e22878209c2aadc3ae8e25f4a08d768ad0a647f1303e117a3045ce4172dd6c490218c607f282703c6a522dca074728f1606226131c6c06fad32ad5450a96ee40c8d09128a2263a09c76a51610624adc889c21ac4e44c2bbc9645c655db6aecce5dd2e1f070bcdee40fa0cc498c9384ce9c1a28908d1002481c08dc9805968445f0f948e75a03198ac76140711c2154943b95516a434a3593c9c22716d379346880184246d3f114697e6607a7d520a28d9ec1d822606375958a3ecd688a09ce452f389eb2ee2819189e6d3368d26091a408a183a93904102a3e6827001422d998000555a8d66a78311e834c083ed2a1a723e644cc932fe07b04e60b7b01ee8be24c1fc41010109a84c81c100ded0bb282801c6010ec9d40d2ac4499a40bb499180e2361b0232cc9aef5a36e338ac899cdfb12591582522cba29ce58c0841811e13258794e888661a4825996fe048c1af465ae1638c0281ea82bb4fe088b703e94342b0b7c479803f324ea21a20026be121ec8423923485aea99378ac2e9e4024e014835a443800050767e4b039e1e96030000140025160001f079764c0300003c0008880630f0f60f901605c178201112500009e4ca6000379a5943483232800170c000230000c45400bea5745b16c5417623e800ee6c325a94659091053a42503e5001b095e5400f495555c16d5441d58350dc37d530274e40001e930908a382c4168f3110652b5d23a500332f53038d137052e6cdb034029510e95a5a00f8f9400e4c43d0b74089d38050000cae40005e443e5bb408597d0395280010880d4880243e5000b1951540012e6bd0899057d71d5001d554a32358d3144d415a318d0d69620a81a0a56e3434a304c5398f53876c5c4f20e8393f4d534409d84d63f541d28fc598a0d28d851158ad167900370390e520e6a88e08850018a44c41dc89bb9f8eb90378b92d0000)\\r\\n\\r\\n<details><summary>Click to see REPL Link if above link doesn't work</summary>\\r\\n<pre>\\r\\nhttps://react-pdf.org/repl?code=3187b0760ce02e00403207901281440b2302f0c04471004e02980b6300960038402b990098800da1304e6c0218945400d0c50908b028bc681189de9572118393001cc611261c04422f462355e4684122075892955a28533e8d30b06ac269c011a122ab62316c46094e4a609c52ea008e349c0074300072223041649c6111645a64bc305084d992425ae19cb0e4f4d100823294720aca59047250e4e11ef5b41009f1006644344ae4451460d1709cc0866cda591255ed8d60d676c53ac94d3499ade3ddbdfdc56052f644d1008a347214d4746c8694446032105a30344c50f5c044ed4a049c006e25c1325125d3a8677b44000a000b4e3115ec11f9a8a60419824ecc05512978d1001ab3d288e22878209c2aadc3ae8e25f4a08d768ad0a647f1303e117a3045ce4172dd6c490218c607f282703c6a522dca074728f1606226131c6c06fad32ad5450a96ee40c8d09128a2263a09c76a51610624adc889c21ac4e44c2bbc9645c655db6aecce5dd2e1f070bcdee40fa0cc498c9384ce9c1a28908d1002481c08dc9805968445f0f948e75a03198ac76140711c2154943b95516a434a3593c9c22716d379346880184246d3f114697e6607a7d520a28d9ec1d822606375958a3ecd688a09ce452f389eb2ee2819189e6d3368d26091a408a183a93904102a3e6827001422d998000555a8d66a78311e834c083ed2a1a723e644cc932fe07b04e60b7b01ee8be24c1fc41010109a84c81c100ded0bb282801c6010ec9d40d2ac4499a40bb499180e2361b0232cc9aef5a36e338ac899cdfb12591582522cba29ce58c0841811e13258794e888661a4825996fe048c1af465ae1638c0281ea82bb4fe088b703e94342b0b7c479803f324ea21a20026be121ec8423923485aea99378ac2e9e4024e014835a443800050767e4b039e1e96030000140025160001f079764c0300003c0008880630f0f60f901605c178201112500009e4ca6000379a5943483232800170c000230000c45400bea5745b16c5417623e800ee6c325a94659091053a42503e5001b095e5400f495555c16d5441d58350dc37d530274e40001e930908a382c4168f3110652b5d23a500332f53038d137052e6cdb034029510e95a5a00f8f9400e4c43d0b74089d38050000cae40005e443e5bb408597d0395280010880d4880243e5000b1951540012e6bd0899057d71d5001d554a32358d3144d415a318d0d69620a81a0a56e3434a304c5398f53876c5c4f20e8393f4d534409d84d63f541d28fc598a0d28d851158ad167900370390e520e6a88e08850018a44c41dc89bb9f8eb90378b92d0000\\r\\n</pre>\\r\\n</details> \\r\\n\\r\\n\\r\\n**Expected behavior**\\r\\n\\r\\nI want to be able to have fixed headers that appear above multi-page content. But which also does not appear by itself.\\r\\n\\r\\n**Screenshots**\\r\\nActual:\\r\\n![image](https://user-images.githubusercontent.com/896684/224213720-70a980a3-f4cc-4dea-9b9a-ab7dce7a1a87.png)\\r\\n\\r\\nExpected:\\r\\n![image](https://user-images.githubusercontent.com/896684/224213733-db3f0076-17e8-4f2c-930b-6659508fd8f6.png)\\r\\n\\r\\n\\r\\n**Desktop (please complete the following information):**\\r\\n - OS: Mac OS Monterey\\r\\n - Browser: Safari\\r\\n - React-pdf: v3.1.3\\r\\n\\r\\n\\r\\n\\n\\n</issue>\\n\\n<code>\\n[start of bug_report.md]\\n---\\nname: Bug report\\nabout: Create a report to help us improve\\ntitle: ''\\nlabels: ''\\nassignees: ''\\n\\n---\\n\\n**Describe the bug**\\nA clear and concise description of what the bug is.\\n\\n**To Reproduce**\\nSteps to reproduce the behavior including code snippet (if applies):\\n1. Go to '...'\\n2. Click on '....'\\n3. Scroll down to '....'\\n4. See error\\n\\n_You can make use of [react-pdf REPL](https://react-pdf/repl) to share the snippet_\\n\\n**Expected behavior**\\nA clear and concise description of what you expected to happen.\\n\\n**Screenshots**\\nIf applicable, add screenshots to help explain your problem.\\n\\n**Desktop (please complete the following information):**\\n - OS: [e.g. MacOS, Windows]\\n - Browser [e.g. chrome, safari]\\n - React-pdf version [e.g. v1.1.0]\\n\\n<!-- Love react-pdf? Please consider supporting our collective:\\n\\ud83d\\udc49  https://opencollective.com/react-pdf/donate -->\\n\\n[end of bug_report.md]\\n[start of index.d.ts]\\ndeclare module '@react-pdf/renderer' {\\n  import * as React from 'react';\\n  import {\\n    Style,\\n    PageSize,\\n    FontStore,\\n    Orientation,\\n    SourceObject,\\n    HyphenationCallback,\\n    SVGPresentationAttributes,\\n  } from '@react-pdf/types';\\n\\n  namespace ReactPDF {\\n    interface Styles {\\n      [key: string]: Style;\\n    }\\n\\n    interface OnRenderProps {\\n      blob?: Blob;\\n    }\\n\\n    interface DocumentProps {\\n      title?: string;\\n      author?: string;\\n      subject?: string;\\n      keywords?: string;\\n      creator?: string;\\n      producer?: string;\\n      onRender?: (props: OnRenderProps) => any;\\n    }\\n\\n    /**\\n     * This component represent the PDF document itself. It must be the root\\n     * of your tree element structure, and under no circumstances should it be\\n     * used as children of another react-pdf component. In addition, it should\\n     * only have childs of type <Page />.\\n     */\\n    class Document extends React.Component<DocumentProps> {}\\n\\n    interface NodeProps {\\n      id?: string;\\n      style?: Style | Style[];\\n      /**\\n       * Render component in all wrapped pages.\\n       * @see https://react-pdf.org/advanced#fixed-components\\n       */\\n      fixed?: boolean;\\n      /**\\n       * Force the wrapping algorithm to start a new page when rendering the\\n       * element.\\n       * @see https://react-pdf.org/advanced#page-breaks\\n       */\\n      break?: boolean;\\n      /**\\n       * Hint that no page wrapping should occur between all sibling elements following the element within n points\\n       * @see https://react-pdf.org/advanced#orphan-&-widow-protection\\n       */\\n      minPresenceAhead?: number;\\n    }\\n\\n    interface PageProps extends NodeProps {\\n      /**\\n       * Enable page wrapping for this page.\\n       * @see https://react-pdf.org/components#page-wrapping\\n       */\\n      wrap?: boolean;\\n      /**\\n       * Enables debug mode on page bounding box.\\n       * @see https://react-pdf.org/advanced#debugging\\n       */\\n      debug?: boolean;\\n      size?: PageSize;\\n      orientation?: Orientation;\\n    }\\n\\n    /**\\n     * Represents single page inside the PDF document, or a subset of them if\\n     * using the wrapping feature. A <Document /> can contain as many pages as\\n     * you want, but ensure not rendering a page inside any component besides\\n     * Document.\\n     */\\n    class Page extends React.Component<PageProps> {}\\n\\n    interface ViewProps extends NodeProps {\\n      id?: string;\\n      /**\\n       * Enable/disable page wrapping for element.\\n       * @see https://react-pdf.org/components#page-wrapping\\n       */\\n      wrap?: boolean;\\n      /**\\n       * Enables debug mode on page bounding box.\\n       * @see https://react-pdf.org/advanced#debugging\\n       */\\n      debug?: boolean;\\n      render?: (props: {\\n        pageNumber: number;\\n        subPageNumber: number;\\n      }) => React.ReactNode;\\n      children?: React.ReactNode;\\n      id?: string;\\n    }\\n\\n    /**\\n     * The most fundamental component for building a UI and is designed to be\\n     * nested inside other views and can have 0 to many children.\\n     */\\n    class View extends React.Component<ViewProps> {}\\n\\n    interface BaseImageProps extends NodeProps {\\n      /**\\n       * Enables debug mode on page bounding box.\\n       * @see https://react-pdf.org/advanced#debugging\\n       */\\n      debug?: boolean;\\n      cache?: boolean;\\n    }\\n\\n    interface ImageWithSrcProp extends BaseImageProps {\\n      src: SourceObject;\\n    }\\n\\n    interface ImageWithSourceProp extends BaseImageProps {\\n      source: SourceObject;\\n    }\\n\\n    type ImageProps = ImageWithSrcProp | ImageWithSourceProp;\\n\\n    /**\\n     * A React component for displaying network or local (Node only) JPG or\\n     * PNG images, as well as base64 encoded image strings.\\n     */\\n    class Image extends React.Component<ImageProps> {}\\n\\n    interface TextProps extends NodeProps {\\n      id?: string;\\n      /**\\n       * Enable/disable page wrapping for element.\\n       * @see https://react-pdf.org/components#page-wrapping\\n       */\\n      wrap?: boolean;\\n      /**\\n       * Enables debug mode on page bounding box.\\n       * @see https://react-pdf.org/advanced#debugging\\n       */\\n      debug?: boolean;\\n      render?: (props: {\\n        pageNumber: number;\\n        totalPages: number;\\n        subPageNumber: number;\\n        subPageTotalPages: number;\\n      }) => React.ReactNode;\\n      children?: React.ReactNode;\\n      id?: string;\\n      /**\\n       * Override the default hyphenation-callback\\n       * @see https://react-pdf.org/fonts#registerhyphenationcallback\\n       */\\n      hyphenationCallback?: HyphenationCallback;\\n      /**\\n       * Specifies the minimum number of lines in a text element that must be shown at the bottom of a page or its container.\\n       * @see https://react-pdf.org/advanced#orphan-&-widow-protection\\n       */\\n      orphans?: number;\\n      /**\\n       * Specifies the minimum number of lines in a text element that must be shown at the top of a page or its container..\\n       * @see https://react-pdf.org/advanced#orphan-&-widow-protection\\n       */\\n      widows?: number;\\n    }\\n\\n    interface SVGTextProps extends SVGPresentationAttributes {\\n      style?: SVGPresentationAttributes;\\n      x: string | number;\\n      y: string | number;\\n      /**\\n       * Override the default hyphenation-callback\\n       * @see https://react-pdf.org/fonts#registerhyphenationcallback\\n       */\\n      hyphenationCallback?: HyphenationCallback;\\n    }\\n\\n    /**\\n     * A React component for displaying text. Text supports nesting of other\\n     * Text or Link components to create inline styling.\\n     */\\n    class Text extends React.Component<TextProps | SVGTextProps> {}\\n\\n    interface LinkProps extends NodeProps {\\n      /**\\n       * Enable/disable page wrapping for element.\\n       * @see https://react-pdf.org/components#page-wrapping\\n       */\\n      wrap?: boolean;\\n      /**\\n       * Enables debug mode on page bounding box.\\n       * @see https://react-pdf.org/advanced#debugging\\n       */\\n      debug?: boolean;\\n      src: string;\\n      children?: React.ReactNode;\\n    }\\n\\n    /**\\n     * A React component for displaying a hyperlink. Link\\u2019s can be nested\\n     * inside a Text component, or being inside any other valid primitive.\\n     */\\n    class Link extends React.Component<LinkProps> {}\\n\\n    interface NoteProps extends NodeProps {\\n      children: string;\\n    }\\n\\n    class Note extends React.Component<NoteProps> {}\\n\\n    interface CanvasProps extends NodeProps {\\n      /**\\n       * Enables debug mode on page bounding box.\\n       * @see https://react-pdf.org/advanced#debugging\\n       */\\n      debug?: boolean;\\n      paint: (\\n        painter: any,\\n        availableWidth: number,\\n        availableHeight: number,\\n      ) => null;\\n    }\\n\\n    class Canvas extends React.Component<CanvasProps> {}\\n\\n    interface SVGProps extends NodeProps {\\n      /**\\n       * Enables debug mode on page bounding box.\\n       * @see https://react-pdf.org/advanced#debugging\\n       */\\n      debug?: boolean;\\n      width?: string | number;\\n      height?: string | number;\\n      viewBox?: string;\\n      preserveAspectRatio?: string;\\n    }\\n\\n    /**\\n     * The <SVG /> element is a container that defines a new coordinate system and viewport. It is used as the outermost element of SVG documents.\\n     */\\n    class Svg extends React.Component<SVGProps> {}\\n\\n    interface LineProps extends SVGPresentationAttributes {\\n      style?: SVGPresentationAttributes;\\n      x1: string | number;\\n      x2: string | number;\\n      y1: string | number;\\n      y2: string | number;\\n    }\\n\\n    /**\\n     * The <Line /> element is used to create a line.\\n     */\\n    class Line extends React.Component<LineProps> {}\\n\\n    interface PolylineProps extends SVGPresentationAttributes {\\n      style?: SVGPresentationAttributes;\\n      points: string;\\n    }\\n\\n    /**\\n     * The <Polyline /> element is used to create any shape that consists of only straight lines (that is connected at several points).\\n     */\\n    class Polyline extends React.Component<PolylineProps> {}\\n\\n    interface PolygonProps extends SVGPresentationAttributes {\\n      style?: SVGPresentationAttributes;\\n      points: string;\\n    }\\n\\n    /**\\n     * The <Polygon /> element is used to create a graphic that contains at least three sides.\\n     * Polygons are made of straight lines, and the shape is \\\"closed\\\" (all the lines connect up).\\n     */\\n    class Polygon extends React.Component<PolygonProps> {}\\n\\n    interface PathProps extends SVGPresentationAttributes {\\n      style?: SVGPresentationAttributes;\\n      d: string;\\n    }\\n\\n    /**\\n     * The <Path /> element is the most powerful element in the SVG library of basic shapes. It can be used to create lines, curves, arcs, and more.\\n     */\\n    class Path extends React.Component<PathProps> {}\\n\\n    interface RectProps extends SVGPresentationAttributes {\\n      style?: SVGPresentationAttributes;\\n      x: string | number;\\n      y: string | number;\\n      width: string | number;\\n      height: string | number;\\n      rx?: string | number;\\n      ry?: string | number;\\n    }\\n\\n    /**\\n     * The <Rect /> element is used to create a rectangle and variations of a rectangle shape.\\n     */\\n    class Rect extends React.Component<RectProps> {}\\n\\n    interface CircleProps extends SVGPresentationAttributes {\\n      style?: SVGPresentationAttributes;\\n      cx: string | number;\\n      cy: string | number;\\n      r: string | number;\\n    }\\n\\n    /**\\n     * The <Circle /> element is used to create a circle.\\n     */\\n    class Circle extends React.Component<CircleProps> {}\\n\\n    interface EllipseProps extends SVGPresentationAttributes {\\n      style?: SVGPresentationAttributes;\\n      cx: string | number;\\n      cy: string | number;\\n      rx: string | number;\\n      ry: string | number;\\n    }\\n\\n    /**\\n     * The <Ellipse /> element is used to create an ellipse.\\n     * An ellipse is closely related to a circle. The difference is that an ellipse has an x and a y radius that differs from each other, while a circle has equal x and y radius.\\n     */\\n    class Ellipse extends React.Component<EllipseProps> {}\\n\\n    interface GProps extends SVGPresentationAttributes {}\\n\\n    /**\\n     * The <G /> SVG element is a container used to group other SVG elements.\\n     * Transformations applied to the <G /> element are performed on its child elements, and its attributes are inherited by its children.\\n     */\\n    class G extends React.Component<GProps> {}\\n\\n    interface StopProps {\\n      offset: string | number;\\n      stopColor: string;\\n      stopOpacity?: string | number;\\n    }\\n\\n    /**\\n     * The SVG <Stop /> element defines a color and its position to use on a gradient. This element is always a child of a <LinearGradient /> or <RadialGradient /> element\\n     */\\n    class Stop extends React.Component<StopProps> {}\\n\\n    interface DefsProps {}\\n\\n    /**\\n     * The <Defs /> element is used to store graphical objects that will be used at a later time. Objects created inside a <Defs /> element are not rendered directly. To display them you have to reference them\\n     */\\n    class Defs extends React.Component<DefsProps> {}\\n\\n    interface ClipPathProps {\\n      id?: string;\\n    }\\n\\n    /**\\n     * The <ClipPath /> SVG element defines a clipping path, to be used by the clipPath property.\\n     * A clipping path restricts the region to which paint can be applied. Conceptually, parts of the drawing that lie outside of the region bounded by the clipping path are not drawn.\\n     */\\n    class ClipPath extends React.Component<ClipPathProps> {}\\n\\n    interface LinearGradientProps {\\n      x1: string | number;\\n      x2: string | number;\\n      y1: string | number;\\n      y2: string | number;\\n    }\\n\\n    /**\\n     * The <LinearGradient /> element lets authors define linear gradients that can be applied to fill or stroke of graphical elements.\\n     */\\n    class LinearGradient extends React.Component<LinearGradientProps> {}\\n\\n    interface RadialGradientProps {\\n      cx: string | number;\\n      cy: string | number;\\n      fr: string | number;\\n      fx: string | number;\\n      fy: string | number;\\n    }\\n\\n    /**\\n     * The <RadialGradient /> element lets authors define radial gradients that can be applied to fill or stroke of graphical elements.\\n     */\\n    class RadialGradient extends React.Component<RadialGradientProps> {}\\n\\n    interface BlobProviderParams {\\n      blob: Blob | null;\\n      url: string | null;\\n      loading: boolean;\\n      error: Error | null;\\n    }\\n    interface BlobProviderProps {\\n      document: React.ReactElement<DocumentProps>;\\n      children: (params: BlobProviderParams) => React.ReactNode;\\n    }\\n\\n    /**\\n     * Easy and declarative way of getting document's blob data without\\n     * showing it on screen.\\n     * @see https://react-pdf.org/advanced#on-the-fly-rendering\\n     * @platform web\\n     */\\n    class BlobProvider extends React.Component<BlobProviderProps> {}\\n\\n    interface PDFViewerProps {\\n      width?: number | string;\\n      height?: number | string;\\n      style?: Style | Style[];\\n      className?: string;\\n      children?: React.ReactElement<DocumentProps>;\\n      innerRef?: React.Ref<HTMLIFrameElement>;\\n    }\\n\\n    /**\\n     * Iframe PDF viewer for client-side generated documents.\\n     * @platform web\\n     */\\n    class PDFViewer extends React.Component<PDFViewerProps> {}\\n\\n    interface PDFDownloadLinkProps {\\n      document: React.ReactElement<DocumentProps>;\\n      fileName?: string;\\n      style?: Style | Style[];\\n      className?: string;\\n      children?:\\n        | React.ReactNode\\n        | ((params: BlobProviderParams) => React.ReactNode);\\n    }\\n\\n    /**\\n     * Anchor tag to enable generate and download PDF documents on the fly.\\n     * @see https://react-pdf.org/advanced#on-the-fly-rendering\\n     * @platform web\\n     */\\n    class PDFDownloadLink extends React.Component<PDFDownloadLinkProps> {}\\n\\n    interface UsePDFInstance {\\n      loading: boolean;\\n      blob: Blob | null;\\n      url: string | null;\\n      error: string | null;\\n    }\\n\\n    /**\\n     * React hook for creating and updating a PDF document instance\\n     * @platform web\\n     */\\n    function usePDF(options: {\\n      document: React.ReactElement<DocumentProps>;\\n    }): [UsePDFInstance, () => void];\\n\\n    const Font: FontStore;\\n\\n    const StyleSheet: {\\n      hairlineWidth: number;\\n      create: <T extends Styles>(styles: T) => T;\\n      resolve: (\\n        style: Style,\\n        container: {\\n          width: number;\\n          height: number;\\n          orientation: Orientation;\\n        },\\n      ) => Style;\\n      flatten: (...styles: (Style[] | Style | undefined)[]) => Style;\\n      absoluteFillObject: {\\n        position: 'absolute';\\n        left: 0;\\n        right: 0;\\n        top: 0;\\n        bottom: 0;\\n      };\\n    };\\n\\n    const version: any;\\n\\n    const PDFRenderer: any;\\n\\n    const pdf: (\\n      initialValue?: React.ReactElement<DocumentProps>,\\n      onChange?: () => {},\\n    ) => {\\n      container: any;\\n      isDirty: () => boolean;\\n      updateContainer: (document: React.ReactElement<any>) => void;\\n      toBuffer: () => Promise<NodeJS.ReadableStream>;\\n      toBlob: () => Promise<Blob>;\\n      toString: () => string;\\n    };\\n\\n    const renderToStream: (\\n      document: React.ReactElement<DocumentProps>,\\n    ) => Promise<NodeJS.ReadableStream>;\\n\\n    const renderToString: (\\n      document: React.ReactElement<DocumentProps>,\\n    ) => string;\\n\\n    const renderToFile: (\\n      document: React.ReactElement<DocumentProps>,\\n      filePath: string,\\n      callback?: (output: NodeJS.ReadableStream, filePath: string) => any,\\n    ) => Promise<NodeJS.ReadableStream>;\\n\\n    const render: typeof renderToFile;\\n  }\\n\\n  const pdf: typeof ReactPDF.pdf;\\n  const Document: typeof ReactPDF.Document;\\n  const Page: typeof ReactPDF.Page;\\n  const View: typeof ReactPDF.View;\\n  const Image: typeof ReactPDF.Image;\\n  const Text: typeof ReactPDF.Text;\\n  const Canvas: typeof ReactPDF.Canvas;\\n  const Link: typeof ReactPDF.Link;\\n  const Note: typeof ReactPDF.Note;\\n  const Svg: typeof ReactPDF.Svg;\\n  const Line: typeof ReactPDF.Line;\\n  const Polyline: typeof ReactPDF.Polyline;\\n  const Polygon: typeof ReactPDF.Polygon;\\n  const Path: typeof ReactPDF.Path;\\n  const Rect: typeof ReactPDF.Rect;\\n  const Circle: typeof ReactPDF.Circle;\\n  const Ellipse: typeof ReactPDF.Ellipse;\\n  const G: typeof ReactPDF.G;\\n  const Stop: typeof ReactPDF.Stop;\\n  const Defs: typeof ReactPDF.Defs;\\n  const ClipPath: typeof ReactPDF.ClipPath;\\n  const LinearGradient: typeof ReactPDF.LinearGradient;\\n  const RadialGradient: typeof ReactPDF.RadialGradient;\\n  const Font: typeof ReactPDF.Font;\\n  const StyleSheet: typeof ReactPDF.StyleSheet;\\n  const PDFRenderer: typeof ReactPDF.PDFRenderer;\\n  const version: typeof ReactPDF.version;\\n  const renderToFile: typeof ReactPDF.renderToFile;\\n  const renderToString: typeof ReactPDF.renderToString;\\n  const renderToStream: typeof ReactPDF.renderToStream;\\n  const usePDF: typeof ReactPDF.usePDF;\\n  const PDFViewer: typeof ReactPDF.PDFViewer;\\n  const BlobProvider: typeof ReactPDF.BlobProvider;\\n  const PDFDownloadLink: typeof ReactPDF.PDFDownloadLink;\\n\\n  export default ReactPDF;\\n\\n  export {\\n    pdf,\\n    Document,\\n    Page,\\n    View,\\n    Image,\\n    Text,\\n    Canvas,\\n    Link,\\n    Note,\\n    Svg,\\n    Line,\\n    Polyline,\\n    Polygon,\\n    Path,\\n    Rect,\\n    Circle,\\n    Ellipse,\\n    G,\\n    Stop,\\n    Defs,\\n    ClipPath,\\n    LinearGradient,\\n    RadialGradient,\\n    Font,\\n    StyleSheet,\\n    PDFRenderer,\\n    version,\\n    renderToFile,\\n    renderToStream,\\n    renderToString,\\n    usePDF,\\n    PDFViewer,\\n    BlobProvider,\\n    PDFDownloadLink,\\n  };\\n}\\n\\n[end of index.d.ts]\\n[start of CONTRIBUTING.md]\\n# Contribute\\n\\n## Introduction\\n\\nFirst, thank you for considering contributing to react-pdf!\\n\\nWe welcome any type of contribution, not only code. You can help with \\n- **QA**: file bug reports, the more details you can give the better (e.g. screenshots with the console open)\\n- **Marketing**: writing blog posts, howto's, printing stickers, ...\\n- **Community**: presenting the project at meetups, organizing a dedicated meetup for the local community, ...\\n- **Code**: take a look at the [open issues](https://github.com/diegomura/react-pdf/issues). Even if you can't write code, commenting on them, showing that you care about a given issue matters. It helps us triage them.\\n- **Money**: we welcome financial contributions in full transparency on our [open collective](https://opencollective.com/react-pdf).\\n\\n## Your First Contribution\\n\\nWorking on your first Pull Request? You can learn how from this *free* series, [How to Contribute to an Open Source Project on GitHub](https://egghead.io/series/how-to-contribute-to-an-open-source-project-on-github).\\n\\n## Submitting code\\n\\nAny code change should be submitted as a pull request. The description should explain what the code does and give steps to execute it. The pull request should also contain tests.\\n\\n## Code review process\\n\\nThe bigger the pull request, the longer it will take to review and merge. Try to break down large pull requests in smaller chunks that are easier to review and merge.\\nIt is also always helpful to have some context for your pull request. What was the purpose? Why does it matter to you?\\n\\n## Financial contributions\\n\\nWe also welcome financial contributions in full transparency on our [open collective](https://opencollective.com/react-pdf).\\nAnyone can file an expense. If the expense makes sense for the development of the community, it will be \\\"merged\\\" in the ledger of our open collective by the core contributors and the person who filed the expense will be reimbursed.\\n\\n## Questions\\n\\nIf you have any questions, create an [issue](https://github.com/diegomura/react-pdf/issues) (protip: do a quick search first to see if someone else didn't ask the same question before!).\\nYou can also reach us at hello@react-pdf.opencollective.com.\\n\\n## Credits\\n\\n### Contributors\\n\\nThank you to all the people who have already contributed to react-pdf!\\n<a href=\\\"/diegomura/react-pdf/graphs/contributors\\\"><img src=\\\"https://opencollective.com/react-pdf/contributors.svg?width=890\\\" /></a>\\n\\n\\n### Backers\\n\\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\\n\\n<a href=\\\"https://opencollective.com/react-pdf#backers\\\" target=\\\"_blank\\\"><img src=\\\"https://opencollective.com/react-pdf/backers.svg?width=890\\\"></a>\\n\\n\\n<!-- This `CONTRIBUTING.md` is based on @nayafia's template https://github.com/nayafia/contributing-template -->\\n\\n[end of CONTRIBUTING.md]\\n[start of README.md]\\n<p align=\\\"center\\\">\\n  <img src=\\\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\\\" height=\\\"280px\\\">\\n</p>\\n\\n# @react-pdf/render\\n\\n> React-pdf render engine\\n\\n## How to install\\n```sh\\nyarn add @react-pdf/render\\n```\\n\\n## How it works\\n\\n```js\\nconst render = require('@react-pdf/render');\\nconst primitives = require('@react-pdf/primitives');\\n\\nconst view = {\\n  type: primitives.View,\\n  style: {\\n    backgroundColor: 'red',\\n    borderTopLeftRadius: 5,\\n    borderTopRightRadius: 10,\\n    borderBottomLeftRadius: 0,\\n    borderBottomRightRadius: 15,\\n    borderTopColor: 'yellow',\\n    borderLeftColor: 'green',\\n    borderBottomColor: 'black',\\n    borderRightColor: 'purple',\\n  },\\n  box: {\\n    left: 20,\\n    top: 20,\\n    width: 100,\\n    height: 80,\\n    borderTopWidth: 3,\\n    borderLeftWidth: 2,\\n    borderBottomWidth: 1,\\n    borderRightWidth: 4,\\n  },\\n};\\n\\nconst doc = {\\n  type: primitives.Document,\\n  children: [\\n    {\\n      type: primitives.Page,\\n      box: { width: 400, height: 600 },\\n      children: [view],\\n    },\\n  ],\\n};\\n\\n// Provide your own context\\nconst ctx = createContext();\\n\\nrender.default(ctx, doc);\\n```\\n\\nThis library exports a `render` function that takes two arguments:\\n\\n- *ctx*: This is the target context where the document is going to be rendered. React-pdf currently uses a [pdfkit](https://github.com/react-pdf/pdfkit) document as context, but it can target any other type of structure as long as it signature matches pdfkit API. In the future this will enable rendering documents into muliple formats in addition to PDF.\\n- *node*: Document root node. A node is a nested structure that defines a single element in a document. They are defined by it's `type` and arguments.\\n\\n## Node structure\\n\\nA node represents a single element inside a document. It's mainly defined by it's `type` (mandatory) field in addition to other values to define where that element is positioned inside the document (`box`), how it looks (`style`), how it should behave (`params`) and what sub-nodes it contains (`children`).\\n\\nThe root node must always be of type `DOCUMENT`, containing as many `PAGE` nodes as desired inside it's children field.\\n\\nBare in mind this package does not handle any type of node positioning, inheritance, style transformations or any other layout related logic. It's role is limited to render exactly the node it get's into the provided context. Take this into account when definig styles as `paddingTop`, `paddingLeft` and so on instead of the shortcut `padding`. For layout or styles transformation this project provides separate packages.\\n\\n### node.type\\n\\nMandatory field specifiying the type of the particular node. The full list of types can be found and imported from `@react-pdf/primitives`\\n\\n### node.box\\n\\nDefines bounding box where a particular node is located inside a document\\n\\n- left\\n- top\\n- width\\n- height\\n- paddingTop\\n- paddingLeft\\n- paddingBottom\\n- paddingRight\\n- marginTop\\n- marginLeft\\n- marginBottom\\n- marginRight\\n- borderTopWidth\\n- borderLeftWidth\\n- borderBottomWidth\\n- borderRightWidth\\n\\n### node.style\\n\\nDefines how the node looks like. There are some types of nodes that expect special style values, but generally all support:\\n\\n- color\\n- opacity\\n- overflow\\n- backgroundColor\\n- borderTopLeftRadius\\n- borderTopRightRadius\\n- borderBottomLeftRadius\\n- borderBottomRightRadius\\n- borderTopColor\\n- borderLeftColor\\n- borderBottomColor\\n- borderRightColor\\n- _others..._\\n\\n### node.props\\n\\nSpecific node params needed to render correctly ot behave like certain way. Specially needed for SVG nodes\\n\\n## PDF example\\n\\n```js\\nconst fs = require('fs');\\nconst render = require('@react-pdf/render');\\nconst pdfkit = require('@react-pdf/pdfkit');\\n\\nconst PDFDocument = pdfkit.default;\\n\\nconst ctx = new PDFDocument({ autoFirstPage: false });\\n\\nconst doc = {}; // See above\\n\\nrender.default(ctx, doc);\\n\\nconst stream = fs.createWriteStream('./test.pdf');\\n\\nctx.pipe(stream);\\n```\\n\\n## License\\n\\nMIT \\u00a9 [Diego Muracciole](http://github.com/diegomura)\\n\\n[end of README.md]\\n[start of CODE_OF_CONDUCT.md]\\n# Contributor Covenant Code of Conduct\\n\\n## Our Pledge\\n\\nIn the interest of fostering an open and welcoming environment, we as contributors and maintainers pledge to making participation in our project and our community a harassment-free experience for everyone, regardless of age, body size, disability, ethnicity, gender identity and expression, level of experience, nationality, personal appearance, race, religion, or sexual identity and orientation.\\n\\n## Our Standards\\n\\nExamples of behavior that contributes to creating a positive environment include:\\n\\n* Using welcoming and inclusive language\\n* Being respectful of differing viewpoints and experiences\\n* Gracefully accepting constructive criticism\\n* Focusing on what is best for the community\\n* Showing empathy towards other community members\\n\\nExamples of unacceptable behavior by participants include:\\n\\n* The use of sexualized language or imagery and unwelcome sexual attention or advances\\n* Trolling, insulting/derogatory comments, and personal or political attacks\\n* Public or private harassment\\n* Publishing others' private information, such as a physical or electronic address, without explicit permission\\n* Other conduct which could reasonably be considered inappropriate in a professional setting\\n\\n## Our Responsibilities\\n\\nProject maintainers are responsible for clarifying the standards of acceptable behavior and are expected to take appropriate and fair corrective action in response to any instances of unacceptable behavior.\\n\\nProject maintainers have the right and responsibility to remove, edit, or reject comments, commits, code, wiki edits, issues, and other contributions that are not aligned to this Code of Conduct, or to ban temporarily or permanently any contributor for other behaviors that they deem inappropriate, threatening, offensive, or harmful.\\n\\n## Scope\\n\\nThis Code of Conduct applies both within project spaces and in public spaces when an individual is representing the project or its community. Examples of representing a project or community include using an official project e-mail address, posting via an official social media account, or acting as an appointed representative at an online or offline event. Representation of a project may be further defined and clarified by project maintainers.\\n\\n## Enforcement\\n\\nInstances of abusive, harassing, or otherwise unacceptable behavior may be reported by contacting the project team at diegomuracciole@gmail.com. The project team will review and investigate all complaints, and will respond in a way that it deems appropriate to the circumstances. The project team is obligated to maintain confidentiality with regard to the reporter of an incident. Further details of specific enforcement policies may be posted separately.\\n\\nProject maintainers who do not follow or enforce the Code of Conduct in good faith may face temporary or permanent repercussions as determined by other members of the project's leadership.\\n\\n## Attribution\\n\\nThis Code of Conduct is adapted from the [Contributor Covenant][homepage], version 1.4, available at [http://contributor-covenant.org/version/1/4][version]\\n\\n[homepage]: http://contributor-covenant.org\\n[version]: http://contributor-covenant.org/version/1/4/\\n\\n[end of CODE_OF_CONDUCT.md]\\n\\n</code>\\n\\nHere is an example of a patch file. It consists of changes to the code base. It specifies the file names, the line numbers of each change, and the removed and added lines. A single patch file can contain changes to multiple files.\\n\\n<patch>\\ndiff --git a/file.py b/file.py\\n--- a/file.py\\n+++ b/file.py\\n@@ -1,27 +1,35 @@\\n def euclidean(a, b):\\n-    while b:\\n-        a, b = b, a % b\\n-    return a\\n+    if b == 0:\\n+        return a\\n+    return euclidean(b, a % b)\\n \\n def bresenham(x0, y0, x1, y1):\\n+    points = []\\n+    dx = abs(x1 - x0)\\n+    dy = abs(y1 - y0)\\n+    sx = 1 if x0 < x1 else -1\\n+    sy = 1 if y0 < y1 else -1\\n+    err = dx - dy\\n+    \\n     while True:\\n-        plot(x0, y0)\\n+        points.append((x0, y0))\\n         if x0 == x1 and y0 == y1:\\n             break\\n-        e2 = 2 * err\\n-        if e2 > -dy:\\n-            err -= dy\\n-            x0 += sx\\n-        if e2 < dx:\\n-            err += dx\\n-            y0 += sy\\n+        e2 = 2 * err\\n+        if e2 > -dy:\\n+            err -= dy\\n+            x0 += sx\\n+        if e2 < dx:\\n+            err += dx\\n+            y0 += sy\\n+    return points\\n+</patch>\\n\\nI need you to solve the provided issue by generating a single patch file that I can apply directly to this repository using git apply. Please respond with a single patch file in the format shown above.\\n\\nRespond below: \\n\"}]",
      "retrieved_file_paths": [
        "bug_report.md",
        "index.d.ts",
        "CONTRIBUTING.md",
        "README.md",
        "CODE_OF_CONDUCT.md"
      ]
    },
    "retrieved_documents": [
      {
        "id": "62ec4b36-1585-49a0-895a-0ef0f44bd44e",
        "score": 0.01639344262295082,
        "payload": {
          "text": "---\nname: Bug report\nabout: Create a report to help us improve\ntitle: ''\nlabels: ''\nassignees: ''\n\n---\n\n**Describe the bug**\nA clear and concise description of what the bug is.\n\n**To Reproduce**\nSteps to reproduce the behavior including code snippet (if applies):\n1. Go to '...'\n2. Click on '....'\n3. Scroll down to '....'\n4. See error\n\n_You can make use of [react-pdf REPL](https://react-pdf/repl) to share the snippet_\n\n**Expected behavior**\nA clear and concise description of what you expected to happen.\n\n**Screenshots**\nIf applicable, add screenshots to help explain your problem.\n\n**Desktop (please complete the following information):**\n - OS: [e.g. MacOS, Windows]\n - Browser [e.g. chrome, safari]\n - React-pdf version [e.g. v1.1.0]\n\n<!-- Love react-pdf? Please consider supporting our collective:\n\ud83d\udc49  https://opencollective.com/react-pdf/donate -->\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/.github/ISSUE_TEMPLATE/bug_report.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "62ec4b36-1585-49a0-895a-0ef0f44bd44e"
        }
      },
      {
        "id": "0337b7eb-280b-42d4-99bd-6b34d7a62963",
        "score": 0.016129032258064516,
        "payload": {
          "text": "declare module '@react-pdf/renderer' {\n  import * as React from 'react';\n  import {\n    Style,\n    PageSize,\n    FontStore,\n    Orientation,\n    SourceObject,\n    HyphenationCallback,\n    SVGPresentationAttributes,\n  } from '@react-pdf/types';\n\n  namespace ReactPDF {\n    interface Styles {\n      [key: string]: Style;\n    }\n\n    interface OnRenderProps {\n      blob?: Blob;\n    }\n\n    interface DocumentProps {\n      title?: string;\n      author?: string;\n      subject?: string;\n      keywords?: string;\n      creator?: string;\n      producer?: string;\n      onRender?: (props: OnRenderProps) => any;\n    }\n\n    /**\n     * This component represent the PDF document itself. It must be the root\n     * of your tree element structure, and under no circumstances should it be\n     * used as children of another react-pdf component. In addition, it should\n     * only have childs of type <Page />.\n     */\n    class Document extends React.Component<DocumentProps> {}\n\n    interface NodeProps {\n      id?: string;\n      style?: Style | Style[];\n      /**\n       * Render component in all wrapped pages.\n       * @see https://react-pdf.org/advanced#fixed-components\n       */\n      fixed?: boolean;\n      /**\n       * Force the wrapping algorithm to start a new page when rendering the\n       * element.\n       * @see https://react-pdf.org/advanced#page-breaks\n       */\n      break?: boolean;\n      /**\n       * Hint that no page wrapping should occur between all sibling elements following the element within n points\n       * @see https://react-pdf.org/advanced#orphan-&-widow-protection\n       */\n      minPresenceAhead?: number;\n    }\n\n    interface PageProps extends NodeProps {\n      /**\n       * Enable page wrapping for this page.\n       * @see https://react-pdf.org/components#page-wrapping\n       */\n      wrap?: boolean;\n      /**\n       * Enables debug mode on page bounding box.\n       * @see https://react-pdf.org/advanced#debugging\n       */\n      debug?: boolean;\n      size?: PageSize;\n      orientation?: Orientation;\n    }\n\n    /**\n     * Represents single page inside the PDF document, or a subset of them if\n     * using the wrapping feature. A <Document /> can contain as many pages as\n     * you want, but ensure not rendering a page inside any component besides\n     * Document.\n     */\n    class Page extends React.Component<PageProps> {}\n\n    interface ViewProps extends NodeProps {\n      id?: string;\n      /**\n       * Enable/disable page wrapping for element.\n       * @see https://react-pdf.org/components#page-wrapping\n       */\n      wrap?: boolean;\n      /**\n       * Enables debug mode on page bounding box.\n       * @see https://react-pdf.org/advanced#debugging\n       */\n      debug?: boolean;\n      render?: (props: {\n        pageNumber: number;\n        subPageNumber: number;\n      }) => React.ReactNode;\n      children?: React.ReactNode;\n      id?: string;\n    }\n\n    /**\n     * The most fundamental component for building a UI and is designed to be\n     * nested inside other views and can have 0 to many children.\n     */\n    class View extends React.Component<ViewProps> {}\n\n    interface BaseImageProps extends NodeProps {\n      /**\n       * Enables debug mode on page bounding box.\n       * @see https://react-pdf.org/advanced#debugging\n       */\n      debug?: boolean;\n      cache?: boolean;\n    }\n\n    interface ImageWithSrcProp extends BaseImageProps {\n      src: SourceObject;\n    }\n\n    interface ImageWithSourceProp extends BaseImageProps {\n      source: SourceObject;\n    }\n\n    type ImageProps = ImageWithSrcProp | ImageWithSourceProp;\n\n    /**\n     * A React component for displaying network or local (Node only) JPG or\n     * PNG images, as well as base64 encoded image strings.\n     */\n    class Image extends React.Component<ImageProps> {}\n\n    interface TextProps extends NodeProps {\n      id?: string;\n      /**\n       * Enable/disable page wrapping for element.\n       * @see https://react-pdf.org/components#page-wrapping\n       */\n      wrap?: boolean;\n      /**\n       * Enables debug mode on page bounding box.\n       * @see https://react-pdf.org/advanced#debugging\n       */\n      debug?: boolean;\n      render?: (props: {\n        pageNumber: number;\n        totalPages: number;\n        subPageNumber: number;\n        subPageTotalPages: number;\n      }) => React.ReactNode;\n      children?: React.ReactNode;\n      id?: string;\n      /**\n       * Override the default hyphenation-callback\n       * @see https://react-pdf.org/fonts#registerhyphenationcallback\n       */\n      hyphenationCallback?: HyphenationCallback;\n      /**\n       * Specifies the minimum number of lines in a text element that must be shown at the bottom of a page or its container.\n       * @see https://react-pdf.org/advanced#orphan-&-widow-protection\n       */\n      orphans?: number;\n      /**\n       * Specifies the minimum number of lines in a text element that must be shown at the top of a page or its container..\n       * @see https://react-pdf.org/advanced#orphan-&-widow-protection\n       */\n      widows?: number;\n    }\n\n    interface SVGTextProps extends SVGPresentationAttributes {\n      style?: SVGPresentationAttributes;\n      x: string | number;\n      y: string | number;\n      /**\n       * Override the default hyphenation-callback\n       * @see https://react-pdf.org/fonts#registerhyphenationcallback\n       */\n      hyphenationCallback?: HyphenationCallback;\n    }\n\n    /**\n     * A React component for displaying text. Text supports nesting of other\n     * Text or Link components to create inline styling.\n     */\n    class Text extends React.Component<TextProps | SVGTextProps> {}\n\n    interface LinkProps extends NodeProps {\n      /**\n       * Enable/disable page wrapping for element.\n       * @see https://react-pdf.org/components#page-wrapping\n       */\n      wrap?: boolean;\n      /**\n       * Enables debug mode on page bounding box.\n       * @see https://react-pdf.org/advanced#debugging\n       */\n      debug?: boolean;\n      src: string;\n      children?: React.ReactNode;\n    }\n\n    /**\n     * A React component for displaying a hyperlink. Link\u2019s can be nested\n     * inside a Text component, or being inside any other valid primitive.\n     */\n    class Link extends React.Component<LinkProps> {}\n\n    interface NoteProps extends NodeProps {\n      children: string;\n    }\n\n    class Note extends React.Component<NoteProps> {}\n\n    interface CanvasProps extends NodeProps {\n      /**\n       * Enables debug mode on page bounding box.\n       * @see https://react-pdf.org/advanced#debugging\n       */\n      debug?: boolean;\n      paint: (\n        painter: any,\n        availableWidth: number,\n        availableHeight: number,\n      ) => null;\n    }\n\n    class Canvas extends React.Component<CanvasProps> {}\n\n    interface SVGProps extends NodeProps {\n      /**\n       * Enables debug mode on page bounding box.\n       * @see https://react-pdf.org/advanced#debugging\n       */\n      debug?: boolean;\n      width?: string | number;\n      height?: string | number;\n      viewBox?: string;\n      preserveAspectRatio?: string;\n    }\n\n    /**\n     * The <SVG /> element is a container that defines a new coordinate system and viewport. It is used as the outermost element of SVG documents.\n     */\n    class Svg extends React.Component<SVGProps> {}\n\n    interface LineProps extends SVGPresentationAttributes {\n      style?: SVGPresentationAttributes;\n      x1: string | number;\n      x2: string | number;\n      y1: string | number;\n      y2: string | number;\n    }\n\n    /**\n     * The <Line /> element is used to create a line.\n     */\n    class Line extends React.Component<LineProps> {}\n\n    interface PolylineProps extends SVGPresentationAttributes {\n      style?: SVGPresentationAttributes;\n      points: string;\n    }\n\n    /**\n     * The <Polyline /> element is used to create any shape that consists of only straight lines (that is connected at several points).\n     */\n    class Polyline extends React.Component<PolylineProps> {}\n\n    interface PolygonProps extends SVGPresentationAttributes {\n      style?: SVGPresentationAttributes;\n      points: string;\n    }\n\n    /**\n     * The <Polygon /> element is used to create a graphic that contains at least three sides.\n     * Polygons are made of straight lines, and the shape is \"closed\" (all the lines connect up).\n     */\n    class Polygon extends React.Component<PolygonProps> {}\n\n    interface PathProps extends SVGPresentationAttributes {\n      style?: SVGPresentationAttributes;\n      d: string;\n    }\n\n    /**\n     * The <Path /> element is the most powerful element in the SVG library of basic shapes. It can be used to create lines, curves, arcs, and more.\n     */\n    class Path extends React.Component<PathProps> {}\n\n    interface RectProps extends SVGPresentationAttributes {\n      style?: SVGPresentationAttributes;\n      x: string | number;\n      y: string | number;\n      width: string | number;\n      height: string | number;\n      rx?: string | number;\n      ry?: string | number;\n    }\n\n    /**\n     * The <Rect /> element is used to create a rectangle and variations of a rectangle shape.\n     */\n    class Rect extends React.Component<RectProps> {}\n\n    interface CircleProps extends SVGPresentationAttributes {\n      style?: SVGPresentationAttributes;\n      cx: string | number;\n      cy: string | number;\n      r: string | number;\n    }\n\n    /**\n     * The <Circle /> element is used to create a circle.\n     */\n    class Circle extends React.Component<CircleProps> {}\n\n    interface EllipseProps extends SVGPresentationAttributes {\n      style?: SVGPresentationAttributes;\n      cx: string | number;\n      cy: string | number;\n      rx: string | number;\n      ry: string | number;\n    }\n\n    /**\n     * The <Ellipse /> element is used to create an ellipse.\n     * An ellipse is closely related to a circle. The difference is that an ellipse has an x and a y radius that differs from each other, while a circle has equal x and y radius.\n     */\n    class Ellipse extends React.Component<EllipseProps> {}\n\n    interface GProps extends SVGPresentationAttributes {}\n\n    /**\n     * The <G /> SVG element is a container used to group other SVG elements.\n     * Transformations applied to the <G /> element are performed on its child elements, and its attributes are inherited by its children.\n     */\n    class G extends React.Component<GProps> {}\n\n    interface StopProps {\n      offset: string | number;\n      stopColor: string;\n      stopOpacity?: string | number;\n    }\n\n    /**\n     * The SVG <Stop /> element defines a color and its position to use on a gradient. This element is always a child of a <LinearGradient /> or <RadialGradient /> element\n     */\n    class Stop extends React.Component<StopProps> {}\n\n    interface DefsProps {}\n\n    /**\n     * The <Defs /> element is used to store graphical objects that will be used at a later time. Objects created inside a <Defs /> element are not rendered directly. To display them you have to reference them\n     */\n    class Defs extends React.Component<DefsProps> {}\n\n    interface ClipPathProps {\n      id?: string;\n    }\n\n    /**\n     * The <ClipPath /> SVG element defines a clipping path, to be used by the clipPath property.\n     * A clipping path restricts the region to which paint can be applied. Conceptually, parts of the drawing that lie outside of the region bounded by the clipping path are not drawn.\n     */\n    class ClipPath extends React.Component<ClipPathProps> {}\n\n    interface LinearGradientProps {\n      x1: string | number;\n      x2: string | number;\n      y1: string | number;\n      y2: string | number;\n    }\n\n    /**\n     * The <LinearGradient /> element lets authors define linear gradients that can be applied to fill or stroke of graphical elements.\n     */\n    class LinearGradient extends React.Component<LinearGradientProps> {}\n\n    interface RadialGradientProps {\n      cx: string | number;\n      cy: string | number;\n      fr: string | number;\n      fx: string | number;\n      fy: string | number;\n    }\n\n    /**\n     * The <RadialGradient /> element lets authors define radial gradients that can be applied to fill or stroke of graphical elements.\n     */\n    class RadialGradient extends React.Component<RadialGradientProps> {}\n\n    interface BlobProviderParams {\n      blob: Blob | null;\n      url: string | null;\n      loading: boolean;\n      error: Error | null;\n    }\n    interface BlobProviderProps {\n      document: React.ReactElement<DocumentProps>;\n      children: (params: BlobProviderParams) => React.ReactNode;\n    }\n\n    /**\n     * Easy and declarative way of getting document's blob data without\n     * showing it on screen.\n     * @see https://react-pdf.org/advanced#on-the-fly-rendering\n     * @platform web\n     */\n    class BlobProvider extends React.Component<BlobProviderProps> {}\n\n    interface PDFViewerProps {\n      width?: number | string;\n      height?: number | string;\n      style?: Style | Style[];\n      className?: string;\n      children?: React.ReactElement<DocumentProps>;\n      innerRef?: React.Ref<HTMLIFrameElement>;\n    }\n\n    /**\n     * Iframe PDF viewer for client-side generated documents.\n     * @platform web\n     */\n    class PDFViewer extends React.Component<PDFViewerProps> {}\n\n    interface PDFDownloadLinkProps {\n      document: React.ReactElement<DocumentProps>;\n      fileName?: string;\n      style?: Style | Style[];\n      className?: string;\n      children?:\n        | React.ReactNode\n        | ((params: BlobProviderParams) => React.ReactNode);\n    }\n\n    /**\n     * Anchor tag to enable generate and download PDF documents on the fly.\n     * @see https://react-pdf.org/advanced#on-the-fly-rendering\n     * @platform web\n     */\n    class PDFDownloadLink extends React.Component<PDFDownloadLinkProps> {}\n\n    interface UsePDFInstance {\n      loading: boolean;\n      blob: Blob | null;\n      url: string | null;\n      error: string | null;\n    }\n\n    /**\n     * React hook for creating and updating a PDF document instance\n     * @platform web\n     */\n    function usePDF(options: {\n      document: React.ReactElement<DocumentProps>;\n    }): [UsePDFInstance, () => void];\n\n    const Font: FontStore;\n\n    const StyleSheet: {\n      hairlineWidth: number;\n      create: <T extends Styles>(styles: T) => T;\n      resolve: (\n        style: Style,\n        container: {\n          width: number;\n          height: number;\n          orientation: Orientation;\n        },\n      ) => Style;\n      flatten: (...styles: (Style[] | Style | undefined)[]) => Style;\n      absoluteFillObject: {\n        position: 'absolute';\n        left: 0;\n        right: 0;\n        top: 0;\n        bottom: 0;\n      };\n    };\n\n    const version: any;\n\n    const PDFRenderer: any;\n\n    const pdf: (\n      initialValue?: React.ReactElement<DocumentProps>,\n      onChange?: () => {},\n    ) => {\n      container: any;\n      isDirty: () => boolean;\n      updateContainer: (document: React.ReactElement<any>) => void;\n      toBuffer: () => Promise<NodeJS.ReadableStream>;\n      toBlob: () => Promise<Blob>;\n      toString: () => string;\n    };\n\n    const renderToStream: (\n      document: React.ReactElement<DocumentProps>,\n    ) => Promise<NodeJS.ReadableStream>;\n\n    const renderToString: (\n      document: React.ReactElement<DocumentProps>,\n    ) => string;\n\n    const renderToFile: (\n      document: React.ReactElement<DocumentProps>,\n      filePath: string,\n      callback?: (output: NodeJS.ReadableStream, filePath: string) => any,\n    ) => Promise<NodeJS.ReadableStream>;\n\n    const render: typeof renderToFile;\n  }\n\n  const pdf: typeof ReactPDF.pdf;\n  const Document: typeof ReactPDF.Document;\n  const Page: typeof ReactPDF.Page;\n  const View: typeof ReactPDF.View;\n  const Image: typeof ReactPDF.Image;\n  const Text: typeof ReactPDF.Text;\n  const Canvas: typeof ReactPDF.Canvas;\n  const Link: typeof ReactPDF.Link;\n  const Note: typeof ReactPDF.Note;\n  const Svg: typeof ReactPDF.Svg;\n  const Line: typeof ReactPDF.Line;\n  const Polyline: typeof ReactPDF.Polyline;\n  const Polygon: typeof ReactPDF.Polygon;\n  const Path: typeof ReactPDF.Path;\n  const Rect: typeof ReactPDF.Rect;\n  const Circle: typeof ReactPDF.Circle;\n  const Ellipse: typeof ReactPDF.Ellipse;\n  const G: typeof ReactPDF.G;\n  const Stop: typeof ReactPDF.Stop;\n  const Defs: typeof ReactPDF.Defs;\n  const ClipPath: typeof ReactPDF.ClipPath;\n  const LinearGradient: typeof ReactPDF.LinearGradient;\n  const RadialGradient: typeof ReactPDF.RadialGradient;\n  const Font: typeof ReactPDF.Font;\n  const StyleSheet: typeof ReactPDF.StyleSheet;\n  const PDFRenderer: typeof ReactPDF.PDFRenderer;\n  const version: typeof ReactPDF.version;\n  const renderToFile: typeof ReactPDF.renderToFile;\n  const renderToString: typeof ReactPDF.renderToString;\n  const renderToStream: typeof ReactPDF.renderToStream;\n  const usePDF: typeof ReactPDF.usePDF;\n  const PDFViewer: typeof ReactPDF.PDFViewer;\n  const BlobProvider: typeof ReactPDF.BlobProvider;\n  const PDFDownloadLink: typeof ReactPDF.PDFDownloadLink;\n\n  export default ReactPDF;\n\n  export {\n    pdf,\n    Document,\n    Page,\n    View,\n    Image,\n    Text,\n    Canvas,\n    Link,\n    Note,\n    Svg,\n    Line,\n    Polyline,\n    Polygon,\n    Path,\n    Rect,\n    Circle,\n    Ellipse,\n    G,\n    Stop,\n    Defs,\n    ClipPath,\n    LinearGradient,\n    RadialGradient,\n    Font,\n    StyleSheet,\n    PDFRenderer,\n    version,\n    renderToFile,\n    renderToStream,\n    renderToString,\n    usePDF,\n    PDFViewer,\n    BlobProvider,\n    PDFDownloadLink,\n  };\n}\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/packages/renderer/index.d.ts",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "0337b7eb-280b-42d4-99bd-6b34d7a62963"
        }
      },
      {
        "id": "390d9984-4d3e-4987-a216-26be5f3deba4",
        "score": 0.015873015873015872,
        "payload": {
          "text": "# Contribute\n\n## Introduction\n\nFirst, thank you for considering contributing to react-pdf!\n\nWe welcome any type of contribution, not only code. You can help with \n- **QA**: file bug reports, the more details you can give the better (e.g. screenshots with the console open)\n- **Marketing**: writing blog posts, howto's, printing stickers, ...\n- **Community**: presenting the project at meetups, organizing a dedicated meetup for the local community, ...\n- **Code**: take a look at the [open issues](https://github.com/diegomura/react-pdf/issues). Even if you can't write code, commenting on them, showing that you care about a given issue matters. It helps us triage them.\n- **Money**: we welcome financial contributions in full transparency on our [open collective](https://opencollective.com/react-pdf).\n\n## Your First Contribution\n\nWorking on your first Pull Request? You can learn how from this *free* series, [How to Contribute to an Open Source Project on GitHub](https://egghead.io/series/how-to-contribute-to-an-open-source-project-on-github).\n\n## Submitting code\n\nAny code change should be submitted as a pull request. The description should explain what the code does and give steps to execute it. The pull request should also contain tests.\n\n## Code review process\n\nThe bigger the pull request, the longer it will take to review and merge. Try to break down large pull requests in smaller chunks that are easier to review and merge.\nIt is also always helpful to have some context for your pull request. What was the purpose? Why does it matter to you?\n\n## Financial contributions\n\nWe also welcome financial contributions in full transparency on our [open collective](https://opencollective.com/react-pdf).\nAnyone can file an expense. If the expense makes sense for the development of the community, it will be \"merged\" in the ledger of our open collective by the core contributors and the person who filed the expense will be reimbursed.\n\n## Questions\n\nIf you have any questions, create an [issue](https://github.com/diegomura/react-pdf/issues) (protip: do a quick search first to see if someone else didn't ask the same question before!).\nYou can also reach us at hello@react-pdf.opencollective.com.\n\n## Credits\n\n### Contributors\n\nThank you to all the people who have already contributed to react-pdf!\n<a href=\"/diegomura/react-pdf/graphs/contributors\"><img src=\"https://opencollective.com/react-pdf/contributors.svg?width=890\" /></a>\n\n\n### Backers\n\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\n\n<a href=\"https://opencollective.com/react-pdf#backers\" target=\"_blank\"><img src=\"https://opencollective.com/react-pdf/backers.svg?width=890\"></a>\n\n\n<!-- This `CONTRIBUTING.md` is based on @nayafia's template https://github.com/nayafia/contributing-template -->\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/.github/CONTRIBUTING.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "390d9984-4d3e-4987-a216-26be5f3deba4"
        }
      },
      {
        "id": "905a84df-25ec-45dc-b5a6-103e701d6b9d",
        "score": 0.015625,
        "payload": {
          "text": "<p align=\"center\">\n  <img src=\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\" height=\"280px\">\n</p>\n\n# @react-pdf/render\n\n> React-pdf render engine\n\n## How to install\n```sh\nyarn add @react-pdf/render\n```\n\n## How it works\n\n```js\nconst render = require('@react-pdf/render');\nconst primitives = require('@react-pdf/primitives');\n\nconst view = {\n  type: primitives.View,\n  style: {\n    backgroundColor: 'red',\n    borderTopLeftRadius: 5,\n    borderTopRightRadius: 10,\n    borderBottomLeftRadius: 0,\n    borderBottomRightRadius: 15,\n    borderTopColor: 'yellow',\n    borderLeftColor: 'green',\n    borderBottomColor: 'black',\n    borderRightColor: 'purple',\n  },\n  box: {\n    left: 20,\n    top: 20,\n    width: 100,\n    height: 80,\n    borderTopWidth: 3,\n    borderLeftWidth: 2,\n    borderBottomWidth: 1,\n    borderRightWidth: 4,\n  },\n};\n\nconst doc = {\n  type: primitives.Document,\n  children: [\n    {\n      type: primitives.Page,\n      box: { width: 400, height: 600 },\n      children: [view],\n    },\n  ],\n};\n\n// Provide your own context\nconst ctx = createContext();\n\nrender.default(ctx, doc);\n```\n\nThis library exports a `render` function that takes two arguments:\n\n- *ctx*: This is the target context where the document is going to be rendered. React-pdf currently uses a [pdfkit](https://github.com/react-pdf/pdfkit) document as context, but it can target any other type of structure as long as it signature matches pdfkit API. In the future this will enable rendering documents into muliple formats in addition to PDF.\n- *node*: Document root node. A node is a nested structure that defines a single element in a document. They are defined by it's `type` and arguments.\n\n## Node structure\n\nA node represents a single element inside a document. It's mainly defined by it's `type` (mandatory) field in addition to other values to define where that element is positioned inside the document (`box`), how it looks (`style`), how it should behave (`params`) and what sub-nodes it contains (`children`).\n\nThe root node must always be of type `DOCUMENT`, containing as many `PAGE` nodes as desired inside it's children field.\n\nBare in mind this package does not handle any type of node positioning, inheritance, style transformations or any other layout related logic. It's role is limited to render exactly the node it get's into the provided context. Take this into account when definig styles as `paddingTop`, `paddingLeft` and so on instead of the shortcut `padding`. For layout or styles transformation this project provides separate packages.\n\n### node.type\n\nMandatory field specifiying the type of the particular node. The full list of types can be found and imported from `@react-pdf/primitives`\n\n### node.box\n\nDefines bounding box where a particular node is located inside a document\n\n- left\n- top\n- width\n- height\n- paddingTop\n- paddingLeft\n- paddingBottom\n- paddingRight\n- marginTop\n- marginLeft\n- marginBottom\n- marginRight\n- borderTopWidth\n- borderLeftWidth\n- borderBottomWidth\n- borderRightWidth\n\n### node.style\n\nDefines how the node looks like. There are some types of nodes that expect special style values, but generally all support:\n\n- color\n- opacity\n- overflow\n- backgroundColor\n- borderTopLeftRadius\n- borderTopRightRadius\n- borderBottomLeftRadius\n- borderBottomRightRadius\n- borderTopColor\n- borderLeftColor\n- borderBottomColor\n- borderRightColor\n- _others..._\n\n### node.props\n\nSpecific node params needed to render correctly ot behave like certain way. Specially needed for SVG nodes\n\n## PDF example\n\n```js\nconst fs = require('fs');\nconst render = require('@react-pdf/render');\nconst pdfkit = require('@react-pdf/pdfkit');\n\nconst PDFDocument = pdfkit.default;\n\nconst ctx = new PDFDocument({ autoFirstPage: false });\n\nconst doc = {}; // See above\n\nrender.default(ctx, doc);\n\nconst stream = fs.createWriteStream('./test.pdf');\n\nctx.pipe(stream);\n```\n\n## License\n\nMIT \u00a9 [Diego Muracciole](http://github.com/diegomura)\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/packages/render/README.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "905a84df-25ec-45dc-b5a6-103e701d6b9d"
        }
      },
      {
        "id": "ed554f98-874c-419d-b2fc-7c71664fc6d7",
        "score": 0.015384615384615385,
        "payload": {
          "text": "# Contributor Covenant Code of Conduct\n\n## Our Pledge\n\nIn the interest of fostering an open and welcoming environment, we as contributors and maintainers pledge to making participation in our project and our community a harassment-free experience for everyone, regardless of age, body size, disability, ethnicity, gender identity and expression, level of experience, nationality, personal appearance, race, religion, or sexual identity and orientation.\n\n## Our Standards\n\nExamples of behavior that contributes to creating a positive environment include:\n\n* Using welcoming and inclusive language\n* Being respectful of differing viewpoints and experiences\n* Gracefully accepting constructive criticism\n* Focusing on what is best for the community\n* Showing empathy towards other community members\n\nExamples of unacceptable behavior by participants include:\n\n* The use of sexualized language or imagery and unwelcome sexual attention or advances\n* Trolling, insulting/derogatory comments, and personal or political attacks\n* Public or private harassment\n* Publishing others' private information, such as a physical or electronic address, without explicit permission\n* Other conduct which could reasonably be considered inappropriate in a professional setting\n\n## Our Responsibilities\n\nProject maintainers are responsible for clarifying the standards of acceptable behavior and are expected to take appropriate and fair corrective action in response to any instances of unacceptable behavior.\n\nProject maintainers have the right and responsibility to remove, edit, or reject comments, commits, code, wiki edits, issues, and other contributions that are not aligned to this Code of Conduct, or to ban temporarily or permanently any contributor for other behaviors that they deem inappropriate, threatening, offensive, or harmful.\n\n## Scope\n\nThis Code of Conduct applies both within project spaces and in public spaces when an individual is representing the project or its community. Examples of representing a project or community include using an official project e-mail address, posting via an official social media account, or acting as an appointed representative at an online or offline event. Representation of a project may be further defined and clarified by project maintainers.\n\n## Enforcement\n\nInstances of abusive, harassing, or otherwise unacceptable behavior may be reported by contacting the project team at diegomuracciole@gmail.com. The project team will review and investigate all complaints, and will respond in a way that it deems appropriate to the circumstances. The project team is obligated to maintain confidentiality with regard to the reporter of an incident. Further details of specific enforcement policies may be posted separately.\n\nProject maintainers who do not follow or enforce the Code of Conduct in good faith may face temporary or permanent repercussions as determined by other members of the project's leadership.\n\n## Attribution\n\nThis Code of Conduct is adapted from the [Contributor Covenant][homepage], version 1.4, available at [http://contributor-covenant.org/version/1/4][version]\n\n[homepage]: http://contributor-covenant.org\n[version]: http://contributor-covenant.org/version/1/4/\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/.github/CODE_OF_CONDUCT.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "ed554f98-874c-419d-b2fc-7c71664fc6d7"
        }
      }
    ]
  },
  {
    "instance_id": "diegomura__react-pdf-1552",
    "model_patch": "diff --git a/src/elements/Text.js b/src/elements/Text.js\nindex 1234567..89abcde 100644\n--- a/src/elements/Text.js\n+++ b/src/elements/Text.js\n@@ -45,7 +45,7 @@ const Text = ({ style, children }) => {\n   // Existing code to process text and style\n \n   // Fix: Ensure node.lines is defined and has at least one element\n-  const firstLine = node.lines[0];\n+  const firstLine = node.lines?.[0] || '';\n \n   // Existing code to render text\n };",
    "model_name_or_path": "text_bm25",
    "metrics": {
      "issue_embedding_time_ms": 0.0,
      "retrieval_time_ms_bm25": 33.12,
      "retrieval_time_ms": 33.12,
      "total_retrieval_time_ms": 33.12,
      "generation_time_ms": 2088.62,
      "total_io_time_ms": 2121.74,
      "input_total_token_limit": null,
      "issue_text_tokens": 172,
      "vlm_tokens": 0,
      "retrieved_tokens": 4414,
      "prompt_template_tokens": 505,
      "total_input_prompt_tokens": 5091,
      "output_generated_tokens": 130,
      "total_io_tokens": 5221,
      "input_prompt_text": "[{\"type\": \"text\", \"text\": \"You will be provided with a partial code base and an issue statement explaining a problem to resolve.\\n<issue>\\nEmpty Text with defined height throw \\\"Cannot read property '0' of undefined\\\"\\n**Describe the bug**\\r\\n The following snippet throw a TypeError \\\"Cannot read property '0' of undefined\\\"\\r\\n```javascript\\r\\n<View>\\r\\n  <Text style={{ height: 12 }}>{''}</Text>\\r\\n</View>\\r\\n```\\r\\n\\r\\n![screen](https://user-images.githubusercontent.com/1511512/132485670-9c9653b2-e563-438d-b73b-461cc16ed88b.png)\\r\\n![code](https://user-images.githubusercontent.com/1511512/132486410-efc68c57-bc52-4ce3-80b5-c2a67a3e058d.png)\\r\\n\\r\\nMaybe add an extra check `node.lines?.[0]` or provide default array for `lines`  ?\\r\\n\\n\\n</issue>\\n\\n<code>\\n[start of README.md]\\n<p align=\\\"center\\\">\\n  <img src=\\\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\\\" height=\\\"280px\\\">\\n  <p align=\\\"center\\\">React renderer for creating PDF files on the browser and server<p>\\n  <p align=\\\"center\\\">\\n    <a href=\\\"https://www.npmjs.com/package/@react-pdf/renderer\\\">\\n      <img src=\\\"https://img.shields.io/npm/v/@react-pdf/renderer.svg\\\" />\\n    </a>\\n    <a href=\\\"https://travis-ci.org/diegomura/react-pdf\\\">\\n      <img src=\\\"https://img.shields.io/travis/diegomura/react-pdf.svg\\\" />\\n    </a>\\n    <a href=\\\"https://github.com/diegomura/react-pdf/blob/master/LICENSE\\\">\\n      <img src=\\\"https://img.shields.io/github/license/diegomura/react-pdf.svg\\\" />\\n    </a>\\n    <a href=\\\"https://github.com/prettier/prettier\\\">\\n      <img src=\\\"https://img.shields.io/badge/styled_with-prettier-ff69b4.svg\\\" />\\n    </a>\\n    <a href=\\\"https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_shield\\\" alt=\\\"FOSSA Status\\\"><img src=\\\"https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=shield\\\"/></a>\\n  </p>\\n</p>\\n\\n> New react-pdf 2.0 was relesed. [Read about the announcement](http://react-pdf.org/blog/announcing-react-pdf-v2)\\n\\n## Lost?\\n\\nThis package is used to _create_ PDFs using React. If you wish to _display_ existing PDFs, you may be looking for [react-pdf](https://github.com/wojtekmaj/react-pdf).\\n\\n## How to install\\n```sh\\nyarn add @react-pdf/renderer\\n```\\n\\n## How it works\\n\\n```jsx\\nimport React from 'react';\\nimport { Document, Page, Text, View, StyleSheet } from '@react-pdf/renderer';\\n\\n// Create styles\\nconst styles = StyleSheet.create({\\n  page: {\\n    flexDirection: 'row',\\n    backgroundColor: '#E4E4E4'\\n  },\\n  section: {\\n    margin: 10,\\n    padding: 10,\\n    flexGrow: 1\\n  }\\n});\\n\\n// Create Document Component\\nconst MyDocument = () => (\\n  <Document>\\n    <Page size=\\\"A4\\\" style={styles.page}>\\n      <View style={styles.section}>\\n        <Text>Section #1</Text>\\n      </View>\\n      <View style={styles.section}>\\n        <Text>Section #2</Text>\\n      </View>\\n    </Page>\\n  </Document>\\n);\\n```\\n\\n### `Web.` Render in DOM\\n```jsx\\nimport React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport { PDFViewer } from '@react-pdf/renderer';\\n\\nconst App = () => (\\n  <PDFViewer>\\n    <MyDocument />\\n  </PDFViewer>\\n);\\n\\nReactDOM.render(<App />, document.getElementById('root'));\\n```\\n\\n### `Node.` Save in a file\\n```jsx\\nimport React from 'react';\\nimport ReactPDF from '@react-pdf/renderer';\\n\\nReactPDF.render(<MyDocument />, `${__dirname}/example.pdf`);\\n```\\n\\n## Contributors\\n\\nThis project exists thanks to all the people who contribute. [[Contribute]](CONTRIBUTING.md).\\n<a href=\\\"https://github.com/diegomura/react-pdf/graphs/contributors\\\"><img src=\\\"https://opencollective.com/react-pdf/contributors.svg?width=890\\\" /></a>\\n\\n## Sponsors\\n\\nThank you to all our sponsors! [[Become a sponsors](https://opencollective.com/react-pdf#sponsors)]\\n\\n<a href=\\\"https://opencollective.com/react-pdf#sponsors\\\" target=\\\"_blank\\\"><img src=\\\"https://opencollective.com/react-pdf/sponsors.svg?width=890\\\"></a>\\n\\n## Backers\\n\\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\\n\\n<a href=\\\"https://opencollective.com/react-pdf#backers\\\" target=\\\"_blank\\\"><img src=\\\"https://opencollective.com/react-pdf/backers.svg?width=890\\\"></a>\\n\\n## License\\n\\nMIT \\u00a9 [Diego Muracciole](http://github.com/diegomura)\\n\\n[![FOSSA Status](https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=large)](https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_large)\\n\\n---\\n![](https://img.shields.io/npm/dt/@react-pdf/renderer.svg?style=flat)\\n\\n[end of README.md]\\n[start of README.md]\\n<p align=\\\"center\\\">\\n  <img src=\\\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\\\" height=\\\"280px\\\">\\n</p>\\n\\n# @react-pdf/render\\n\\n> React-pdf render engine\\n\\n## How to install\\n```sh\\nyarn add @react-pdf/render\\n```\\n\\n## How it works\\n\\n```js\\nconst render = require('@react-pdf/render');\\nconst primitives = require('@react-pdf/primitives');\\n\\nconst view = {\\n  type: primitives.View,\\n  style: {\\n    backgroundColor: 'red',\\n    borderTopLeftRadius: 5,\\n    borderTopRightRadius: 10,\\n    borderBottomLeftRadius: 0,\\n    borderBottomRightRadius: 15,\\n    borderTopColor: 'yellow',\\n    borderLeftColor: 'green',\\n    borderBottomColor: 'black',\\n    borderRightColor: 'purple',\\n  },\\n  box: {\\n    left: 20,\\n    top: 20,\\n    width: 100,\\n    height: 80,\\n    borderTopWidth: 3,\\n    borderLeftWidth: 2,\\n    borderBottomWidth: 1,\\n    borderRightWidth: 4,\\n  },\\n};\\n\\nconst doc = {\\n  type: primitives.Document,\\n  children: [\\n    {\\n      type: primitives.Page,\\n      box: { width: 400, height: 600 },\\n      children: [view],\\n    },\\n  ],\\n};\\n\\n// Provide your own context\\nconst ctx = createContext();\\n\\nrender.default(ctx, doc);\\n```\\n\\nThis library exports a `render` function that takes two arguments:\\n\\n- *ctx*: This is the target context where the document is going to be rendered. React-pdf currently uses a [pdfkit](https://github.com/react-pdf/pdfkit) document as context, but it can target any other type of structure as long as it signature matches pdfkit API. In the future this will enable rendering documents into muliple formats in addition to PDF.\\n- *node*: Document root node. A node is a nested structure that defines a single element in a document. They are defined by it's `type` and arguments.\\n\\n## Node structure\\n\\nA node represents a single element inside a document. It's mainly defined by it's `type` (mandatory) field in addition to other values to define where that element is positioned inside the document (`box`), how it looks (`style`), how it should behave (`params`) and what sub-nodes it contains (`children`).\\n\\nThe root node must always be of type `DOCUMENT`, containing as many `PAGE` nodes as desired inside it's children field.\\n\\nBare in mind this package does not handle any type of node positioning, inheritance, style transformations or any other layout related logic. It's role is limited to render exactly the node it get's into the provided context. Take this into account when definig styles as `paddingTop`, `paddingLeft` and so on instead of the shortcut `padding`. For layout or styles transformation this project provides separate packages.\\n\\n### node.type\\n\\nMandatory field specifiying the type of the particular node. The full list of types can be found and imported from `@react-pdf/primitives`\\n\\n### node.box\\n\\nDefines bounding box where a particular node is located inside a document\\n\\n- left\\n- top\\n- width\\n- height\\n- paddingTop\\n- paddingLeft\\n- paddingBottom\\n- paddingRight\\n- marginTop\\n- marginLeft\\n- marginBottom\\n- marginRight\\n- borderTopWidth\\n- borderLeftWidth\\n- borderBottomWidth\\n- borderRightWidth\\n\\n### node.style\\n\\nDefines how the node looks like. There are some types of nodes that expect special style values, but generally all support:\\n\\n- color\\n- opacity\\n- overflow\\n- backgroundColor\\n- borderTopLeftRadius\\n- borderTopRightRadius\\n- borderBottomLeftRadius\\n- borderBottomRightRadius\\n- borderTopColor\\n- borderLeftColor\\n- borderBottomColor\\n- borderRightColor\\n- _others..._\\n\\n### node.props\\n\\nSpecific node params needed to render correctly ot behave like certain way. Specially needed for SVG nodes\\n\\n## PDF example\\n\\n```js\\nconst fs = require('fs');\\nconst render = require('@react-pdf/render');\\nconst pdfkit = require('@react-pdf/pdfkit');\\n\\nconst PDFDocument = pdfkit.default;\\n\\nconst ctx = new PDFDocument({ autoFirstPage: false });\\n\\nconst doc = {}; // See above\\n\\nrender.default(ctx, doc);\\n\\nconst stream = fs.createWriteStream('./test.pdf');\\n\\nctx.pipe(stream);\\n```\\n\\n## License\\n\\nMIT \\u00a9 [Diego Muracciole](http://github.com/diegomura)\\n\\n[end of README.md]\\n[start of bug_report.md]\\n---\\nname: Bug report\\nabout: Create a report to help us improve\\ntitle: ''\\nlabels: ''\\nassignees: ''\\n\\n---\\n\\n**Describe the bug**\\nA clear and concise description of what the bug is.\\n\\n**To Reproduce**\\nSteps to reproduce the behavior including code snippet (if applies):\\n1. Go to '...'\\n2. Click on '....'\\n3. Scroll down to '....'\\n4. See error\\n\\n_You can make use of [react-pdf REPL](https://react-pdf/repl) to share the snippet_\\n\\n**Expected behavior**\\nA clear and concise description of what you expected to happen.\\n\\n**Screenshots**\\nIf applicable, add screenshots to help explain your problem.\\n\\n**Desktop (please complete the following information):**\\n - OS: [e.g. MacOS, Windows]\\n - Browser [e.g. chrome, safari]\\n - React-pdf version [e.g. v1.1.0]\\n\\n<!-- Love react-pdf? Please consider supporting our collective:\\n\\ud83d\\udc49  https://opencollective.com/react-pdf/donate -->\\n\\n[end of bug_report.md]\\n[start of README.md]\\n<p align=\\\"center\\\">\\n  <img src=\\\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\\\" height=\\\"280px\\\">\\n  <p align=\\\"center\\\">React renderer for creating PDF files on the browser and server<p>\\n  <p align=\\\"center\\\">\\n    <a href=\\\"https://www.npmjs.com/package/@react-pdf/renderer\\\">\\n      <img src=\\\"https://img.shields.io/npm/v/@react-pdf/renderer.svg\\\" />\\n    </a>\\n    <a href=\\\"https://travis-ci.org/diegomura/react-pdf\\\">\\n      <img src=\\\"https://img.shields.io/travis/diegomura/react-pdf.svg\\\" />\\n    </a>\\n    <a href=\\\"https://github.com/diegomura/react-pdf/blob/master/LICENSE\\\">\\n      <img src=\\\"https://img.shields.io/github/license/diegomura/react-pdf.svg\\\" />\\n    </a>\\n    <a href=\\\"https://spectrum.chat/react-pdf\\\">\\n      <img src=\\\"https://withspectrum.github.io/badge/badge.svg\\\" />\\n    </a>\\n    <a href=\\\"https://github.com/prettier/prettier\\\">\\n      <img src=\\\"https://img.shields.io/badge/styled_with-prettier-ff69b4.svg\\\" />\\n    </a>\\n    <a href=\\\"https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_shield\\\" alt=\\\"FOSSA Status\\\"><img src=\\\"https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=shield\\\"/></a>\\n  </p>\\n</p>\\n\\n## How to install\\n```sh\\nyarn add @react-pdf/renderer\\n```\\n\\n## How it works\\n\\n```jsx\\nimport React from 'react';\\nimport { Document, Page, Text, View, StyleSheet } from '@react-pdf/renderer';\\n\\n// Create styles\\nconst styles = StyleSheet.create({\\n  page: {\\n    flexDirection: 'row',\\n    backgroundColor: '#E4E4E4'\\n  },\\n  section: {\\n    margin: 10,\\n    padding: 10,\\n    flexGrow: 1\\n  }\\n});\\n\\n// Create Document Component\\nconst MyDocument = () => (\\n  <Document>\\n    <Page size=\\\"A4\\\" style={styles.page}>\\n      <View style={styles.section}>\\n        <Text>Section #1</Text>\\n      </View>\\n      <View style={styles.section}>\\n        <Text>Section #2</Text>\\n      </View>\\n    </Page>\\n  </Document>\\n);\\n```\\n\\n### `Web.` Render in DOM\\n```jsx\\nimport React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport { PDFViewer } from '@react-pdf/renderer';\\n\\nconst App = () => (\\n  <PDFViewer>\\n    <MyDocument />\\n  </PDFViewer>\\n);\\n\\nReactDOM.render(<App />, document.getElementById('root'));\\n```\\n\\n### `Node.` Save in a file\\n```jsx\\nimport React from 'react';\\nimport ReactPDF from '@react-pdf/renderer';\\n\\nReactPDF.render(<MyDocument />, `${__dirname}/example.pdf`);\\n```\\n\\n## Examples\\nFor each example, try opening `output.pdf` to see the result.\\n\\n<table>\\n\\t<tbody>\\n\\t\\t<tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/text/thumb.png\\\">\\n        <br>\\n        <a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/text/\\\">Text</a>\\n      </td>\\n\\t\\t\\t<td align=\\\"center\\\" valign=\\\"top\\\">\\n\\t\\t\\t\\t<img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/resume/thumb.png\\\">\\n\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t<a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/resume/\\\">Resume</a>\\n\\t\\t\\t</td>\\n\\t\\t\\t<td align=\\\"center\\\" valign=\\\"top\\\">\\n\\t\\t\\t\\t<img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/fractals/thumb.png\\\">\\n\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t<a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/fractals/\\\">Fractals</a>\\n\\t\\t\\t</td>\\n\\t\\t</tr>\\n\\t</tbody>\\n</table>\\n<table>\\n\\t<tbody>\\n\\t\\t<tr>\\n\\t\\t\\t<td align=\\\"center\\\" valign=\\\"top\\\">\\n\\t\\t\\t\\t<img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/knobs/thumb.png\\\">\\n\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t<a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/knobs/\\\">Knobs</a>\\n\\t\\t\\t</td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/pageWrap/thumb.png\\\">\\n        <br>\\n        <a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/pageWrap/\\\">Page wrap</a>\\n      </td>\\n\\t\\t</tr>\\n\\t</tbody>\\n</table>\\n\\n## Contributors\\n\\nThis project exists thanks to all the people who contribute. [[Contribute]](CONTRIBUTING.md).\\n<a href=\\\"https://github.com/diegomura/react-pdf/graphs/contributors\\\"><img src=\\\"https://opencollective.com/react-pdf/contributors.svg?width=890\\\" /></a>\\n\\n## Sponsors\\n\\nThank you to all our sponsors! [[Become a sponsors](https://opencollective.com/react-pdf#sponsors)]\\n\\n<a href=\\\"https://opencollective.com/react-pdf#sponsors\\\" target=\\\"_blank\\\"><img src=\\\"https://opencollective.com/react-pdf/sponsors.svg?width=890\\\"></a>\\n\\n## Backers\\n\\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\\n\\n<a href=\\\"https://opencollective.com/react-pdf#backers\\\" target=\\\"_blank\\\"><img src=\\\"https://opencollective.com/react-pdf/backers.svg?width=890\\\"></a>\\n\\n## License\\n\\nMIT \\u00a9 [Diego Muracciole](http://github.com/diegomura)\\n\\n[![FOSSA Status](https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=large)](https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_large)\\n\\n---\\n![](https://img.shields.io/npm/dt/@react-pdf/renderer.svg?style=flat)\\n\\n[end of README.md]\\n[start of README.md]\\n<p align=\\\"center\\\">\\n  <img src=\\\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\\\" height=\\\"280px\\\">\\n</p>\\n\\n> React-pdf examples\\n\\n## Catalog\\n\\n<table>\\n\\t<tbody>\\n\\t\\t<tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/text/thumb.png\\\">\\n        <br>\\n        <a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/text/\\\">Text</a>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/images/thumb.png\\\">\\n        <br>\\n        <a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/images/\\\">Images</a>\\n      </td>\\n\\t\\t\\t<td align=\\\"center\\\" valign=\\\"top\\\">\\n\\t\\t\\t\\t<img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/resume/thumb.png\\\">\\n\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t<a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/resume/\\\">Resume</a>\\n\\t\\t\\t</td>\\n\\t\\t\\t<td align=\\\"center\\\" valign=\\\"top\\\">\\n\\t\\t\\t\\t<img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/fractals/thumb.png\\\">\\n\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t<a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/fractals/\\\">Fractals</a>\\n\\t\\t\\t</td>\\n\\t\\t</tr>\\n\\t</tbody>\\n</table>\\n<table>\\n\\t<tbody>\\n\\t\\t<tr>\\n\\t\\t\\t<td align=\\\"center\\\" valign=\\\"top\\\">\\n\\t\\t\\t\\t<img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/knobs/thumb.png\\\">\\n\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t<a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/knobs/\\\">Knobs</a>\\n\\t\\t\\t</td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/pageWrap/thumb.png\\\">\\n        <br>\\n        <a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/pageWrap/\\\">Page wrap</a>\\n      </td>\\n\\t\\t</tr>\\n\\t</tbody>\\n</table>\\n\\n## License\\n\\nMIT \\u00a9 [Diego Muracciole](http://github.com/diegomura)\\n\\n[end of README.md]\\n\\n</code>\\n\\nHere is an example of a patch file. It consists of changes to the code base. It specifies the file names, the line numbers of each change, and the removed and added lines. A single patch file can contain changes to multiple files.\\n\\n<patch>\\ndiff --git a/file.py b/file.py\\n--- a/file.py\\n+++ b/file.py\\n@@ -1,27 +1,35 @@\\n def euclidean(a, b):\\n-    while b:\\n-        a, b = b, a % b\\n-    return a\\n+    if b == 0:\\n+        return a\\n+    return euclidean(b, a % b)\\n \\n def bresenham(x0, y0, x1, y1):\\n+    points = []\\n+    dx = abs(x1 - x0)\\n+    dy = abs(y1 - y0)\\n+    sx = 1 if x0 < x1 else -1\\n+    sy = 1 if y0 < y1 else -1\\n+    err = dx - dy\\n+    \\n     while True:\\n-        plot(x0, y0)\\n+        points.append((x0, y0))\\n         if x0 == x1 and y0 == y1:\\n             break\\n-        e2 = 2 * err\\n-        if e2 > -dy:\\n-            err -= dy\\n-            x0 += sx\\n-        if e2 < dx:\\n-            err += dx\\n-            y0 += sy\\n+        e2 = 2 * err\\n+        if e2 > -dy:\\n+            err -= dy\\n+            x0 += sx\\n+        if e2 < dx:\\n+            err += dx\\n+            y0 += sy\\n+    return points\\n+</patch>\\n\\nI need you to solve the provided issue by generating a single patch file that I can apply directly to this repository using git apply. Please respond with a single patch file in the format shown above.\\n\\nRespond below: \\n\"}]",
      "retrieved_file_paths": [
        "README.md",
        "README.md",
        "bug_report.md",
        "README.md",
        "README.md"
      ]
    },
    "retrieved_documents": [
      {
        "id": "401ae391-ee3a-493b-bc3f-20e9e5aedd4b",
        "score": 0.01639344262295082,
        "payload": {
          "text": "<p align=\"center\">\n  <img src=\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\" height=\"280px\">\n  <p align=\"center\">React renderer for creating PDF files on the browser and server<p>\n  <p align=\"center\">\n    <a href=\"https://www.npmjs.com/package/@react-pdf/renderer\">\n      <img src=\"https://img.shields.io/npm/v/@react-pdf/renderer.svg\" />\n    </a>\n    <a href=\"https://travis-ci.org/diegomura/react-pdf\">\n      <img src=\"https://img.shields.io/travis/diegomura/react-pdf.svg\" />\n    </a>\n    <a href=\"https://github.com/diegomura/react-pdf/blob/master/LICENSE\">\n      <img src=\"https://img.shields.io/github/license/diegomura/react-pdf.svg\" />\n    </a>\n    <a href=\"https://github.com/prettier/prettier\">\n      <img src=\"https://img.shields.io/badge/styled_with-prettier-ff69b4.svg\" />\n    </a>\n    <a href=\"https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_shield\" alt=\"FOSSA Status\"><img src=\"https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=shield\"/></a>\n  </p>\n</p>\n\n> New react-pdf 2.0 was relesed. [Read about the announcement](http://react-pdf.org/blog/announcing-react-pdf-v2)\n\n## Lost?\n\nThis package is used to _create_ PDFs using React. If you wish to _display_ existing PDFs, you may be looking for [react-pdf](https://github.com/wojtekmaj/react-pdf).\n\n## How to install\n```sh\nyarn add @react-pdf/renderer\n```\n\n## How it works\n\n```jsx\nimport React from 'react';\nimport { Document, Page, Text, View, StyleSheet } from '@react-pdf/renderer';\n\n// Create styles\nconst styles = StyleSheet.create({\n  page: {\n    flexDirection: 'row',\n    backgroundColor: '#E4E4E4'\n  },\n  section: {\n    margin: 10,\n    padding: 10,\n    flexGrow: 1\n  }\n});\n\n// Create Document Component\nconst MyDocument = () => (\n  <Document>\n    <Page size=\"A4\" style={styles.page}>\n      <View style={styles.section}>\n        <Text>Section #1</Text>\n      </View>\n      <View style={styles.section}>\n        <Text>Section #2</Text>\n      </View>\n    </Page>\n  </Document>\n);\n```\n\n### `Web.` Render in DOM\n```jsx\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { PDFViewer } from '@react-pdf/renderer';\n\nconst App = () => (\n  <PDFViewer>\n    <MyDocument />\n  </PDFViewer>\n);\n\nReactDOM.render(<App />, document.getElementById('root'));\n```\n\n### `Node.` Save in a file\n```jsx\nimport React from 'react';\nimport ReactPDF from '@react-pdf/renderer';\n\nReactPDF.render(<MyDocument />, `${__dirname}/example.pdf`);\n```\n\n## Contributors\n\nThis project exists thanks to all the people who contribute. [[Contribute]](CONTRIBUTING.md).\n<a href=\"https://github.com/diegomura/react-pdf/graphs/contributors\"><img src=\"https://opencollective.com/react-pdf/contributors.svg?width=890\" /></a>\n\n## Sponsors\n\nThank you to all our sponsors! [[Become a sponsors](https://opencollective.com/react-pdf#sponsors)]\n\n<a href=\"https://opencollective.com/react-pdf#sponsors\" target=\"_blank\"><img src=\"https://opencollective.com/react-pdf/sponsors.svg?width=890\"></a>\n\n## Backers\n\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\n\n<a href=\"https://opencollective.com/react-pdf#backers\" target=\"_blank\"><img src=\"https://opencollective.com/react-pdf/backers.svg?width=890\"></a>\n\n## License\n\nMIT \u00a9 [Diego Muracciole](http://github.com/diegomura)\n\n[![FOSSA Status](https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=large)](https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_large)\n\n---\n![](https://img.shields.io/npm/dt/@react-pdf/renderer.svg?style=flat)\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/README.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "401ae391-ee3a-493b-bc3f-20e9e5aedd4b"
        }
      },
      {
        "id": "905a84df-25ec-45dc-b5a6-103e701d6b9d",
        "score": 0.016129032258064516,
        "payload": {
          "text": "<p align=\"center\">\n  <img src=\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\" height=\"280px\">\n</p>\n\n# @react-pdf/render\n\n> React-pdf render engine\n\n## How to install\n```sh\nyarn add @react-pdf/render\n```\n\n## How it works\n\n```js\nconst render = require('@react-pdf/render');\nconst primitives = require('@react-pdf/primitives');\n\nconst view = {\n  type: primitives.View,\n  style: {\n    backgroundColor: 'red',\n    borderTopLeftRadius: 5,\n    borderTopRightRadius: 10,\n    borderBottomLeftRadius: 0,\n    borderBottomRightRadius: 15,\n    borderTopColor: 'yellow',\n    borderLeftColor: 'green',\n    borderBottomColor: 'black',\n    borderRightColor: 'purple',\n  },\n  box: {\n    left: 20,\n    top: 20,\n    width: 100,\n    height: 80,\n    borderTopWidth: 3,\n    borderLeftWidth: 2,\n    borderBottomWidth: 1,\n    borderRightWidth: 4,\n  },\n};\n\nconst doc = {\n  type: primitives.Document,\n  children: [\n    {\n      type: primitives.Page,\n      box: { width: 400, height: 600 },\n      children: [view],\n    },\n  ],\n};\n\n// Provide your own context\nconst ctx = createContext();\n\nrender.default(ctx, doc);\n```\n\nThis library exports a `render` function that takes two arguments:\n\n- *ctx*: This is the target context where the document is going to be rendered. React-pdf currently uses a [pdfkit](https://github.com/react-pdf/pdfkit) document as context, but it can target any other type of structure as long as it signature matches pdfkit API. In the future this will enable rendering documents into muliple formats in addition to PDF.\n- *node*: Document root node. A node is a nested structure that defines a single element in a document. They are defined by it's `type` and arguments.\n\n## Node structure\n\nA node represents a single element inside a document. It's mainly defined by it's `type` (mandatory) field in addition to other values to define where that element is positioned inside the document (`box`), how it looks (`style`), how it should behave (`params`) and what sub-nodes it contains (`children`).\n\nThe root node must always be of type `DOCUMENT`, containing as many `PAGE` nodes as desired inside it's children field.\n\nBare in mind this package does not handle any type of node positioning, inheritance, style transformations or any other layout related logic. It's role is limited to render exactly the node it get's into the provided context. Take this into account when definig styles as `paddingTop`, `paddingLeft` and so on instead of the shortcut `padding`. For layout or styles transformation this project provides separate packages.\n\n### node.type\n\nMandatory field specifiying the type of the particular node. The full list of types can be found and imported from `@react-pdf/primitives`\n\n### node.box\n\nDefines bounding box where a particular node is located inside a document\n\n- left\n- top\n- width\n- height\n- paddingTop\n- paddingLeft\n- paddingBottom\n- paddingRight\n- marginTop\n- marginLeft\n- marginBottom\n- marginRight\n- borderTopWidth\n- borderLeftWidth\n- borderBottomWidth\n- borderRightWidth\n\n### node.style\n\nDefines how the node looks like. There are some types of nodes that expect special style values, but generally all support:\n\n- color\n- opacity\n- overflow\n- backgroundColor\n- borderTopLeftRadius\n- borderTopRightRadius\n- borderBottomLeftRadius\n- borderBottomRightRadius\n- borderTopColor\n- borderLeftColor\n- borderBottomColor\n- borderRightColor\n- _others..._\n\n### node.props\n\nSpecific node params needed to render correctly ot behave like certain way. Specially needed for SVG nodes\n\n## PDF example\n\n```js\nconst fs = require('fs');\nconst render = require('@react-pdf/render');\nconst pdfkit = require('@react-pdf/pdfkit');\n\nconst PDFDocument = pdfkit.default;\n\nconst ctx = new PDFDocument({ autoFirstPage: false });\n\nconst doc = {}; // See above\n\nrender.default(ctx, doc);\n\nconst stream = fs.createWriteStream('./test.pdf');\n\nctx.pipe(stream);\n```\n\n## License\n\nMIT \u00a9 [Diego Muracciole](http://github.com/diegomura)\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/packages/render/README.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "905a84df-25ec-45dc-b5a6-103e701d6b9d"
        }
      },
      {
        "id": "62ec4b36-1585-49a0-895a-0ef0f44bd44e",
        "score": 0.015873015873015872,
        "payload": {
          "text": "---\nname: Bug report\nabout: Create a report to help us improve\ntitle: ''\nlabels: ''\nassignees: ''\n\n---\n\n**Describe the bug**\nA clear and concise description of what the bug is.\n\n**To Reproduce**\nSteps to reproduce the behavior including code snippet (if applies):\n1. Go to '...'\n2. Click on '....'\n3. Scroll down to '....'\n4. See error\n\n_You can make use of [react-pdf REPL](https://react-pdf/repl) to share the snippet_\n\n**Expected behavior**\nA clear and concise description of what you expected to happen.\n\n**Screenshots**\nIf applicable, add screenshots to help explain your problem.\n\n**Desktop (please complete the following information):**\n - OS: [e.g. MacOS, Windows]\n - Browser [e.g. chrome, safari]\n - React-pdf version [e.g. v1.1.0]\n\n<!-- Love react-pdf? Please consider supporting our collective:\n\ud83d\udc49  https://opencollective.com/react-pdf/donate -->\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/.github/ISSUE_TEMPLATE/bug_report.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "62ec4b36-1585-49a0-895a-0ef0f44bd44e"
        }
      },
      {
        "id": "adceb749-ad96-47f9-b286-0f8d059de07f",
        "score": 0.015625,
        "payload": {
          "text": "<p align=\"center\">\n  <img src=\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\" height=\"280px\">\n  <p align=\"center\">React renderer for creating PDF files on the browser and server<p>\n  <p align=\"center\">\n    <a href=\"https://www.npmjs.com/package/@react-pdf/renderer\">\n      <img src=\"https://img.shields.io/npm/v/@react-pdf/renderer.svg\" />\n    </a>\n    <a href=\"https://travis-ci.org/diegomura/react-pdf\">\n      <img src=\"https://img.shields.io/travis/diegomura/react-pdf.svg\" />\n    </a>\n    <a href=\"https://github.com/diegomura/react-pdf/blob/master/LICENSE\">\n      <img src=\"https://img.shields.io/github/license/diegomura/react-pdf.svg\" />\n    </a>\n    <a href=\"https://spectrum.chat/react-pdf\">\n      <img src=\"https://withspectrum.github.io/badge/badge.svg\" />\n    </a>\n    <a href=\"https://github.com/prettier/prettier\">\n      <img src=\"https://img.shields.io/badge/styled_with-prettier-ff69b4.svg\" />\n    </a>\n    <a href=\"https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_shield\" alt=\"FOSSA Status\"><img src=\"https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=shield\"/></a>\n  </p>\n</p>\n\n## How to install\n```sh\nyarn add @react-pdf/renderer\n```\n\n## How it works\n\n```jsx\nimport React from 'react';\nimport { Document, Page, Text, View, StyleSheet } from '@react-pdf/renderer';\n\n// Create styles\nconst styles = StyleSheet.create({\n  page: {\n    flexDirection: 'row',\n    backgroundColor: '#E4E4E4'\n  },\n  section: {\n    margin: 10,\n    padding: 10,\n    flexGrow: 1\n  }\n});\n\n// Create Document Component\nconst MyDocument = () => (\n  <Document>\n    <Page size=\"A4\" style={styles.page}>\n      <View style={styles.section}>\n        <Text>Section #1</Text>\n      </View>\n      <View style={styles.section}>\n        <Text>Section #2</Text>\n      </View>\n    </Page>\n  </Document>\n);\n```\n\n### `Web.` Render in DOM\n```jsx\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { PDFViewer } from '@react-pdf/renderer';\n\nconst App = () => (\n  <PDFViewer>\n    <MyDocument />\n  </PDFViewer>\n);\n\nReactDOM.render(<App />, document.getElementById('root'));\n```\n\n### `Node.` Save in a file\n```jsx\nimport React from 'react';\nimport ReactPDF from '@react-pdf/renderer';\n\nReactPDF.render(<MyDocument />, `${__dirname}/example.pdf`);\n```\n\n## Examples\nFor each example, try opening `output.pdf` to see the result.\n\n<table>\n\t<tbody>\n\t\t<tr>\n      <td align=\"center\" valign=\"top\">\n        <img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/text/thumb.png\">\n        <br>\n        <a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/text/\">Text</a>\n      </td>\n\t\t\t<td align=\"center\" valign=\"top\">\n\t\t\t\t<img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/resume/thumb.png\">\n\t\t\t\t<br>\n\t\t\t\t<a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/resume/\">Resume</a>\n\t\t\t</td>\n\t\t\t<td align=\"center\" valign=\"top\">\n\t\t\t\t<img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/fractals/thumb.png\">\n\t\t\t\t<br>\n\t\t\t\t<a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/fractals/\">Fractals</a>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n<table>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td align=\"center\" valign=\"top\">\n\t\t\t\t<img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/knobs/thumb.png\">\n\t\t\t\t<br>\n\t\t\t\t<a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/knobs/\">Knobs</a>\n\t\t\t</td>\n      <td align=\"center\" valign=\"top\">\n        <img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/pageWrap/thumb.png\">\n        <br>\n        <a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/pageWrap/\">Page wrap</a>\n      </td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n## Contributors\n\nThis project exists thanks to all the people who contribute. [[Contribute]](CONTRIBUTING.md).\n<a href=\"https://github.com/diegomura/react-pdf/graphs/contributors\"><img src=\"https://opencollective.com/react-pdf/contributors.svg?width=890\" /></a>\n\n## Sponsors\n\nThank you to all our sponsors! [[Become a sponsors](https://opencollective.com/react-pdf#sponsors)]\n\n<a href=\"https://opencollective.com/react-pdf#sponsors\" target=\"_blank\"><img src=\"https://opencollective.com/react-pdf/sponsors.svg?width=890\"></a>\n\n## Backers\n\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\n\n<a href=\"https://opencollective.com/react-pdf#backers\" target=\"_blank\"><img src=\"https://opencollective.com/react-pdf/backers.svg?width=890\"></a>\n\n## License\n\nMIT \u00a9 [Diego Muracciole](http://github.com/diegomura)\n\n[![FOSSA Status](https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=large)](https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_large)\n\n---\n![](https://img.shields.io/npm/dt/@react-pdf/renderer.svg?style=flat)\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/packages/renderer/README.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "adceb749-ad96-47f9-b286-0f8d059de07f"
        }
      },
      {
        "id": "c7d41578-65e1-44bd-8804-e9433e94fa2f",
        "score": 0.015384615384615385,
        "payload": {
          "text": "<p align=\"center\">\n  <img src=\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\" height=\"280px\">\n</p>\n\n> React-pdf examples\n\n## Catalog\n\n<table>\n\t<tbody>\n\t\t<tr>\n      <td align=\"center\" valign=\"top\">\n        <img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/text/thumb.png\">\n        <br>\n        <a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/text/\">Text</a>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/images/thumb.png\">\n        <br>\n        <a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/images/\">Images</a>\n      </td>\n\t\t\t<td align=\"center\" valign=\"top\">\n\t\t\t\t<img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/resume/thumb.png\">\n\t\t\t\t<br>\n\t\t\t\t<a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/resume/\">Resume</a>\n\t\t\t</td>\n\t\t\t<td align=\"center\" valign=\"top\">\n\t\t\t\t<img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/fractals/thumb.png\">\n\t\t\t\t<br>\n\t\t\t\t<a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/fractals/\">Fractals</a>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n<table>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td align=\"center\" valign=\"top\">\n\t\t\t\t<img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/knobs/thumb.png\">\n\t\t\t\t<br>\n\t\t\t\t<a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/knobs/\">Knobs</a>\n\t\t\t</td>\n      <td align=\"center\" valign=\"top\">\n        <img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/pageWrap/thumb.png\">\n        <br>\n        <a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/pageWrap/\">Page wrap</a>\n      </td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n## License\n\nMIT \u00a9 [Diego Muracciole](http://github.com/diegomura)\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/packages/examples/README.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "c7d41578-65e1-44bd-8804-e9433e94fa2f"
        }
      }
    ]
  },
  {
    "instance_id": "diegomura__react-pdf-1541",
    "model_patch": "diff --git a/src/styles.js b/src/styles.js\n--- a/src/styles.js\n+++ b/src/styles.js\n@@ -1,6 +1,10 @@\n const styles = {\n   page: {\n-    flexDirection: 'row',\n+    display: 'flex',\n+    flexDirection: 'column',\n+    height: '100vh',\n+    width: '100vw',\n+    margin: 0,\n     backgroundColor: '#E4E4E4'\n   },\n   section: {\n@@ -8,7 +12,7 @@\n     padding: 10,\n     flexGrow: 1,\n     display: 'flex',\n-    flexDirection: 'row',\n+    flexDirection: 'column',\n     justifyContent: 'center',\n     alignItems: 'center'\n   }",
    "model_name_or_path": "text_bm25",
    "metrics": {
      "issue_embedding_time_ms": 0.0,
      "retrieval_time_ms_bm25": 34.94,
      "retrieval_time_ms": 34.94,
      "total_retrieval_time_ms": 34.94,
      "generation_time_ms": 3851.7,
      "total_io_time_ms": 3886.63,
      "input_total_token_limit": null,
      "issue_text_tokens": 689,
      "vlm_tokens": 0,
      "retrieved_tokens": 4471,
      "prompt_template_tokens": 507,
      "total_input_prompt_tokens": 5667,
      "output_generated_tokens": 245,
      "total_io_tokens": 5912,
      "input_prompt_text": "[{\"type\": \"text\", \"text\": \"You will be provided with a partial code base and an issue statement explaining a problem to resolve.\\n<issue>\\nflexbox elements doesn't stretch to full page size\\n**Describe the bug**\\r\\nflexbox elements doesn't stretch to full page size\\r\\n\\r\\n\\r\\n**To Reproduce**\\r\\nSteps to reproduce the behavior including code snippet (if applies):\\r\\n1. Go to [repl](https://react-pdf.org/repl?code=140630f60760ce02e004b027806c0a6538178e06518b51c00b5551803a1002754043195002806f60e39c64057016c200b8e2b76ec009804b28001d92d4482039003334003c1401a362256a550045c4d1031c644100893af0816b48b8008d68800d601cca982e11440613064302a4b0077127a3b6d005f2d6d2f50c16111096959793865354d6d765d032354133301380b04a8877c807104c100467b3858e06d2571646424dca7170f2f1f7f40e0cb1a514a9150f15118224b0016000600520996ed4f5252e4f667374f6f5f00a090b2cdd45b26e8e068804a006e56f0687800212e772c38465bac003e6fb68003cfa300817817181fc7a408002ad1dca8043e0d09866120d0504a2046cd168439d840801ab8950a164410d118f439012789e83989a4f2752a9289a7b53a78a0401e84964fc4121c0c91102002a7a2849d503c38388a4505e2f225aa2848b79fcd0a0b093cf862305bcd07827890e843d5a00253a09961fa0018ad22ea25415118ef772dd5a5ea00000)\\r\\n2. '....'\\r\\n3. '....'\\r\\n4. See error\\r\\n\\r\\nthe same layout in html , css \\r\\n[codesanbox](https://codesandbox.io/s/great-lumiere-j7fx0?file=/index.html)\\r\\n\\r\\n**Expected behavior**\\r\\nIt should work how browser does\\r\\n\\r\\n**Screenshots**\\r\\n\\r\\nHow it looks: \\r\\n<img width=\\\"599\\\" alt=\\\"\\u0421\\u043d\\u0438\\u043c\\u043e\\u043a \\u044d\\u043a\\u0440\\u0430\\u043d\\u0430 2021-09-16 \\u0432 11 19 41\\\" src=\\\"https://user-images.githubusercontent.com/6726016/133747387-36b0979e-13ca-46a8-88f9-d5f814b744fc.png\\\">\\r\\n\\r\\nHow it should be: \\r\\n<img width=\\\"600\\\" alt=\\\"\\u0421\\u043d\\u0438\\u043c\\u043e\\u043a \\u044d\\u043a\\u0440\\u0430\\u043d\\u0430 2021-09-16 \\u0432 11 19 32\\\" src=\\\"https://user-images.githubusercontent.com/6726016/133747413-879dda20-3a50-4163-ad6f-1f4d0a8a879b.png\\\">\\r\\n\\r\\n**Desktop (please complete the following information):**\\r\\n - React-pdf version: current\\r\\n\\r\\n\\r\\n\\n\\n</issue>\\n\\n<code>\\n[start of bug_report.md]\\n---\\nname: Bug report\\nabout: Create a report to help us improve\\ntitle: ''\\nlabels: ''\\nassignees: ''\\n\\n---\\n\\n**Describe the bug**\\nA clear and concise description of what the bug is.\\n\\n**To Reproduce**\\nSteps to reproduce the behavior including code snippet (if applies):\\n1. Go to '...'\\n2. Click on '....'\\n3. Scroll down to '....'\\n4. See error\\n\\n_You can make use of [react-pdf REPL](https://react-pdf/repl) to share the snippet_\\n\\n**Expected behavior**\\nA clear and concise description of what you expected to happen.\\n\\n**Screenshots**\\nIf applicable, add screenshots to help explain your problem.\\n\\n**Desktop (please complete the following information):**\\n - OS: [e.g. MacOS, Windows]\\n - Browser [e.g. chrome, safari]\\n - React-pdf version [e.g. v1.1.0]\\n\\n<!-- Love react-pdf? Please consider supporting our collective:\\n\\ud83d\\udc49  https://opencollective.com/react-pdf/donate -->\\n\\n[end of bug_report.md]\\n[start of CONTRIBUTING.md]\\n# Contribute\\n\\n## Introduction\\n\\nFirst, thank you for considering contributing to react-pdf!\\n\\nWe welcome any type of contribution, not only code. You can help with \\n- **QA**: file bug reports, the more details you can give the better (e.g. screenshots with the console open)\\n- **Marketing**: writing blog posts, howto's, printing stickers, ...\\n- **Community**: presenting the project at meetups, organizing a dedicated meetup for the local community, ...\\n- **Code**: take a look at the [open issues](https://github.com/diegomura/react-pdf/issues). Even if you can't write code, commenting on them, showing that you care about a given issue matters. It helps us triage them.\\n- **Money**: we welcome financial contributions in full transparency on our [open collective](https://opencollective.com/react-pdf).\\n\\n## Your First Contribution\\n\\nWorking on your first Pull Request? You can learn how from this *free* series, [How to Contribute to an Open Source Project on GitHub](https://egghead.io/series/how-to-contribute-to-an-open-source-project-on-github).\\n\\n## Submitting code\\n\\nAny code change should be submitted as a pull request. The description should explain what the code does and give steps to execute it. The pull request should also contain tests.\\n\\n## Code review process\\n\\nThe bigger the pull request, the longer it will take to review and merge. Try to break down large pull requests in smaller chunks that are easier to review and merge.\\nIt is also always helpful to have some context for your pull request. What was the purpose? Why does it matter to you?\\n\\n## Financial contributions\\n\\nWe also welcome financial contributions in full transparency on our [open collective](https://opencollective.com/react-pdf).\\nAnyone can file an expense. If the expense makes sense for the development of the community, it will be \\\"merged\\\" in the ledger of our open collective by the core contributors and the person who filed the expense will be reimbursed.\\n\\n## Questions\\n\\nIf you have any questions, create an [issue](https://github.com/diegomura/react-pdf/issues) (protip: do a quick search first to see if someone else didn't ask the same question before!).\\nYou can also reach us at hello@react-pdf.opencollective.com.\\n\\n## Credits\\n\\n### Contributors\\n\\nThank you to all the people who have already contributed to react-pdf!\\n<a href=\\\"/diegomura/react-pdf/graphs/contributors\\\"><img src=\\\"https://opencollective.com/react-pdf/contributors.svg?width=890\\\" /></a>\\n\\n\\n### Backers\\n\\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\\n\\n<a href=\\\"https://opencollective.com/react-pdf#backers\\\" target=\\\"_blank\\\"><img src=\\\"https://opencollective.com/react-pdf/backers.svg?width=890\\\"></a>\\n\\n\\n<!-- This `CONTRIBUTING.md` is based on @nayafia's template https://github.com/nayafia/contributing-template -->\\n\\n[end of CONTRIBUTING.md]\\n[start of README.md]\\n<p align=\\\"center\\\">\\n  <img src=\\\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\\\" height=\\\"280px\\\">\\n</p>\\n\\n# @react-pdf/render\\n\\n> React-pdf render engine\\n\\n## How to install\\n```sh\\nyarn add @react-pdf/render\\n```\\n\\n## How it works\\n\\n```js\\nconst render = require('@react-pdf/render');\\nconst primitives = require('@react-pdf/primitives');\\n\\nconst view = {\\n  type: primitives.View,\\n  style: {\\n    backgroundColor: 'red',\\n    borderTopLeftRadius: 5,\\n    borderTopRightRadius: 10,\\n    borderBottomLeftRadius: 0,\\n    borderBottomRightRadius: 15,\\n    borderTopColor: 'yellow',\\n    borderLeftColor: 'green',\\n    borderBottomColor: 'black',\\n    borderRightColor: 'purple',\\n  },\\n  box: {\\n    left: 20,\\n    top: 20,\\n    width: 100,\\n    height: 80,\\n    borderTopWidth: 3,\\n    borderLeftWidth: 2,\\n    borderBottomWidth: 1,\\n    borderRightWidth: 4,\\n  },\\n};\\n\\nconst doc = {\\n  type: primitives.Document,\\n  children: [\\n    {\\n      type: primitives.Page,\\n      box: { width: 400, height: 600 },\\n      children: [view],\\n    },\\n  ],\\n};\\n\\n// Provide your own context\\nconst ctx = createContext();\\n\\nrender.default(ctx, doc);\\n```\\n\\nThis library exports a `render` function that takes two arguments:\\n\\n- *ctx*: This is the target context where the document is going to be rendered. React-pdf currently uses a [pdfkit](https://github.com/react-pdf/pdfkit) document as context, but it can target any other type of structure as long as it signature matches pdfkit API. In the future this will enable rendering documents into muliple formats in addition to PDF.\\n- *node*: Document root node. A node is a nested structure that defines a single element in a document. They are defined by it's `type` and arguments.\\n\\n## Node structure\\n\\nA node represents a single element inside a document. It's mainly defined by it's `type` (mandatory) field in addition to other values to define where that element is positioned inside the document (`box`), how it looks (`style`), how it should behave (`params`) and what sub-nodes it contains (`children`).\\n\\nThe root node must always be of type `DOCUMENT`, containing as many `PAGE` nodes as desired inside it's children field.\\n\\nBare in mind this package does not handle any type of node positioning, inheritance, style transformations or any other layout related logic. It's role is limited to render exactly the node it get's into the provided context. Take this into account when definig styles as `paddingTop`, `paddingLeft` and so on instead of the shortcut `padding`. For layout or styles transformation this project provides separate packages.\\n\\n### node.type\\n\\nMandatory field specifiying the type of the particular node. The full list of types can be found and imported from `@react-pdf/primitives`\\n\\n### node.box\\n\\nDefines bounding box where a particular node is located inside a document\\n\\n- left\\n- top\\n- width\\n- height\\n- paddingTop\\n- paddingLeft\\n- paddingBottom\\n- paddingRight\\n- marginTop\\n- marginLeft\\n- marginBottom\\n- marginRight\\n- borderTopWidth\\n- borderLeftWidth\\n- borderBottomWidth\\n- borderRightWidth\\n\\n### node.style\\n\\nDefines how the node looks like. There are some types of nodes that expect special style values, but generally all support:\\n\\n- color\\n- opacity\\n- overflow\\n- backgroundColor\\n- borderTopLeftRadius\\n- borderTopRightRadius\\n- borderBottomLeftRadius\\n- borderBottomRightRadius\\n- borderTopColor\\n- borderLeftColor\\n- borderBottomColor\\n- borderRightColor\\n- _others..._\\n\\n### node.props\\n\\nSpecific node params needed to render correctly ot behave like certain way. Specially needed for SVG nodes\\n\\n## PDF example\\n\\n```js\\nconst fs = require('fs');\\nconst render = require('@react-pdf/render');\\nconst pdfkit = require('@react-pdf/pdfkit');\\n\\nconst PDFDocument = pdfkit.default;\\n\\nconst ctx = new PDFDocument({ autoFirstPage: false });\\n\\nconst doc = {}; // See above\\n\\nrender.default(ctx, doc);\\n\\nconst stream = fs.createWriteStream('./test.pdf');\\n\\nctx.pipe(stream);\\n```\\n\\n## License\\n\\nMIT \\u00a9 [Diego Muracciole](http://github.com/diegomura)\\n\\n[end of README.md]\\n[start of README.md]\\n<p align=\\\"center\\\">\\n  <img src=\\\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\\\" height=\\\"280px\\\">\\n  <p align=\\\"center\\\">React renderer for creating PDF files on the browser and server<p>\\n  <p align=\\\"center\\\">\\n    <a href=\\\"https://www.npmjs.com/package/@react-pdf/renderer\\\">\\n      <img src=\\\"https://img.shields.io/npm/v/@react-pdf/renderer.svg\\\" />\\n    </a>\\n    <a href=\\\"https://travis-ci.org/diegomura/react-pdf\\\">\\n      <img src=\\\"https://img.shields.io/travis/diegomura/react-pdf.svg\\\" />\\n    </a>\\n    <a href=\\\"https://github.com/diegomura/react-pdf/blob/master/LICENSE\\\">\\n      <img src=\\\"https://img.shields.io/github/license/diegomura/react-pdf.svg\\\" />\\n    </a>\\n    <a href=\\\"https://github.com/prettier/prettier\\\">\\n      <img src=\\\"https://img.shields.io/badge/styled_with-prettier-ff69b4.svg\\\" />\\n    </a>\\n    <a href=\\\"https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_shield\\\" alt=\\\"FOSSA Status\\\"><img src=\\\"https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=shield\\\"/></a>\\n  </p>\\n</p>\\n\\n> New react-pdf 2.0 was relesed. [Read about the announcement](http://react-pdf.org/blog/announcing-react-pdf-v2)\\n\\n## Lost?\\n\\nThis package is used to _create_ PDFs using React. If you wish to _display_ existing PDFs, you may be looking for [react-pdf](https://github.com/wojtekmaj/react-pdf).\\n\\n## How to install\\n```sh\\nyarn add @react-pdf/renderer\\n```\\n\\n## How it works\\n\\n```jsx\\nimport React from 'react';\\nimport { Document, Page, Text, View, StyleSheet } from '@react-pdf/renderer';\\n\\n// Create styles\\nconst styles = StyleSheet.create({\\n  page: {\\n    flexDirection: 'row',\\n    backgroundColor: '#E4E4E4'\\n  },\\n  section: {\\n    margin: 10,\\n    padding: 10,\\n    flexGrow: 1\\n  }\\n});\\n\\n// Create Document Component\\nconst MyDocument = () => (\\n  <Document>\\n    <Page size=\\\"A4\\\" style={styles.page}>\\n      <View style={styles.section}>\\n        <Text>Section #1</Text>\\n      </View>\\n      <View style={styles.section}>\\n        <Text>Section #2</Text>\\n      </View>\\n    </Page>\\n  </Document>\\n);\\n```\\n\\n### `Web.` Render in DOM\\n```jsx\\nimport React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport { PDFViewer } from '@react-pdf/renderer';\\n\\nconst App = () => (\\n  <PDFViewer>\\n    <MyDocument />\\n  </PDFViewer>\\n);\\n\\nReactDOM.render(<App />, document.getElementById('root'));\\n```\\n\\n### `Node.` Save in a file\\n```jsx\\nimport React from 'react';\\nimport ReactPDF from '@react-pdf/renderer';\\n\\nReactPDF.render(<MyDocument />, `${__dirname}/example.pdf`);\\n```\\n\\n## Contributors\\n\\nThis project exists thanks to all the people who contribute. [[Contribute]](CONTRIBUTING.md).\\n<a href=\\\"https://github.com/diegomura/react-pdf/graphs/contributors\\\"><img src=\\\"https://opencollective.com/react-pdf/contributors.svg?width=890\\\" /></a>\\n\\n## Sponsors\\n\\nThank you to all our sponsors! [[Become a sponsors](https://opencollective.com/react-pdf#sponsors)]\\n\\n<a href=\\\"https://opencollective.com/react-pdf#sponsors\\\" target=\\\"_blank\\\"><img src=\\\"https://opencollective.com/react-pdf/sponsors.svg?width=890\\\"></a>\\n\\n## Backers\\n\\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\\n\\n<a href=\\\"https://opencollective.com/react-pdf#backers\\\" target=\\\"_blank\\\"><img src=\\\"https://opencollective.com/react-pdf/backers.svg?width=890\\\"></a>\\n\\n## License\\n\\nMIT \\u00a9 [Diego Muracciole](http://github.com/diegomura)\\n\\n[![FOSSA Status](https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=large)](https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_large)\\n\\n---\\n![](https://img.shields.io/npm/dt/@react-pdf/renderer.svg?style=flat)\\n\\n[end of README.md]\\n[start of README.md]\\n<p align=\\\"center\\\">\\n  <img src=\\\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\\\" height=\\\"280px\\\">\\n  <p align=\\\"center\\\">React renderer for creating PDF files on the browser and server<p>\\n  <p align=\\\"center\\\">\\n    <a href=\\\"https://www.npmjs.com/package/@react-pdf/renderer\\\">\\n      <img src=\\\"https://img.shields.io/npm/v/@react-pdf/renderer.svg\\\" />\\n    </a>\\n    <a href=\\\"https://travis-ci.org/diegomura/react-pdf\\\">\\n      <img src=\\\"https://img.shields.io/travis/diegomura/react-pdf.svg\\\" />\\n    </a>\\n    <a href=\\\"https://github.com/diegomura/react-pdf/blob/master/LICENSE\\\">\\n      <img src=\\\"https://img.shields.io/github/license/diegomura/react-pdf.svg\\\" />\\n    </a>\\n    <a href=\\\"https://spectrum.chat/react-pdf\\\">\\n      <img src=\\\"https://withspectrum.github.io/badge/badge.svg\\\" />\\n    </a>\\n    <a href=\\\"https://github.com/prettier/prettier\\\">\\n      <img src=\\\"https://img.shields.io/badge/styled_with-prettier-ff69b4.svg\\\" />\\n    </a>\\n    <a href=\\\"https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_shield\\\" alt=\\\"FOSSA Status\\\"><img src=\\\"https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=shield\\\"/></a>\\n  </p>\\n</p>\\n\\n## How to install\\n```sh\\nyarn add @react-pdf/renderer\\n```\\n\\n## How it works\\n\\n```jsx\\nimport React from 'react';\\nimport { Document, Page, Text, View, StyleSheet } from '@react-pdf/renderer';\\n\\n// Create styles\\nconst styles = StyleSheet.create({\\n  page: {\\n    flexDirection: 'row',\\n    backgroundColor: '#E4E4E4'\\n  },\\n  section: {\\n    margin: 10,\\n    padding: 10,\\n    flexGrow: 1\\n  }\\n});\\n\\n// Create Document Component\\nconst MyDocument = () => (\\n  <Document>\\n    <Page size=\\\"A4\\\" style={styles.page}>\\n      <View style={styles.section}>\\n        <Text>Section #1</Text>\\n      </View>\\n      <View style={styles.section}>\\n        <Text>Section #2</Text>\\n      </View>\\n    </Page>\\n  </Document>\\n);\\n```\\n\\n### `Web.` Render in DOM\\n```jsx\\nimport React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport { PDFViewer } from '@react-pdf/renderer';\\n\\nconst App = () => (\\n  <PDFViewer>\\n    <MyDocument />\\n  </PDFViewer>\\n);\\n\\nReactDOM.render(<App />, document.getElementById('root'));\\n```\\n\\n### `Node.` Save in a file\\n```jsx\\nimport React from 'react';\\nimport ReactPDF from '@react-pdf/renderer';\\n\\nReactPDF.render(<MyDocument />, `${__dirname}/example.pdf`);\\n```\\n\\n## Examples\\nFor each example, try opening `output.pdf` to see the result.\\n\\n<table>\\n\\t<tbody>\\n\\t\\t<tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/text/thumb.png\\\">\\n        <br>\\n        <a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/text/\\\">Text</a>\\n      </td>\\n\\t\\t\\t<td align=\\\"center\\\" valign=\\\"top\\\">\\n\\t\\t\\t\\t<img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/resume/thumb.png\\\">\\n\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t<a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/resume/\\\">Resume</a>\\n\\t\\t\\t</td>\\n\\t\\t\\t<td align=\\\"center\\\" valign=\\\"top\\\">\\n\\t\\t\\t\\t<img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/fractals/thumb.png\\\">\\n\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t<a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/fractals/\\\">Fractals</a>\\n\\t\\t\\t</td>\\n\\t\\t</tr>\\n\\t</tbody>\\n</table>\\n<table>\\n\\t<tbody>\\n\\t\\t<tr>\\n\\t\\t\\t<td align=\\\"center\\\" valign=\\\"top\\\">\\n\\t\\t\\t\\t<img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/knobs/thumb.png\\\">\\n\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t<a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/knobs/\\\">Knobs</a>\\n\\t\\t\\t</td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/pageWrap/thumb.png\\\">\\n        <br>\\n        <a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/pageWrap/\\\">Page wrap</a>\\n      </td>\\n\\t\\t</tr>\\n\\t</tbody>\\n</table>\\n\\n## Contributors\\n\\nThis project exists thanks to all the people who contribute. [[Contribute]](CONTRIBUTING.md).\\n<a href=\\\"https://github.com/diegomura/react-pdf/graphs/contributors\\\"><img src=\\\"https://opencollective.com/react-pdf/contributors.svg?width=890\\\" /></a>\\n\\n## Sponsors\\n\\nThank you to all our sponsors! [[Become a sponsors](https://opencollective.com/react-pdf#sponsors)]\\n\\n<a href=\\\"https://opencollective.com/react-pdf#sponsors\\\" target=\\\"_blank\\\"><img src=\\\"https://opencollective.com/react-pdf/sponsors.svg?width=890\\\"></a>\\n\\n## Backers\\n\\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\\n\\n<a href=\\\"https://opencollective.com/react-pdf#backers\\\" target=\\\"_blank\\\"><img src=\\\"https://opencollective.com/react-pdf/backers.svg?width=890\\\"></a>\\n\\n## License\\n\\nMIT \\u00a9 [Diego Muracciole](http://github.com/diegomura)\\n\\n[![FOSSA Status](https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=large)](https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_large)\\n\\n---\\n![](https://img.shields.io/npm/dt/@react-pdf/renderer.svg?style=flat)\\n\\n[end of README.md]\\n\\n</code>\\n\\nHere is an example of a patch file. It consists of changes to the code base. It specifies the file names, the line numbers of each change, and the removed and added lines. A single patch file can contain changes to multiple files.\\n\\n<patch>\\ndiff --git a/file.py b/file.py\\n--- a/file.py\\n+++ b/file.py\\n@@ -1,27 +1,35 @@\\n def euclidean(a, b):\\n-    while b:\\n-        a, b = b, a % b\\n-    return a\\n+    if b == 0:\\n+        return a\\n+    return euclidean(b, a % b)\\n \\n def bresenham(x0, y0, x1, y1):\\n+    points = []\\n+    dx = abs(x1 - x0)\\n+    dy = abs(y1 - y0)\\n+    sx = 1 if x0 < x1 else -1\\n+    sy = 1 if y0 < y1 else -1\\n+    err = dx - dy\\n+    \\n     while True:\\n-        plot(x0, y0)\\n+        points.append((x0, y0))\\n         if x0 == x1 and y0 == y1:\\n             break\\n-        e2 = 2 * err\\n-        if e2 > -dy:\\n-            err -= dy\\n-            x0 += sx\\n-        if e2 < dx:\\n-            err += dx\\n-            y0 += sy\\n+        e2 = 2 * err\\n+        if e2 > -dy:\\n+            err -= dy\\n+            x0 += sx\\n+        if e2 < dx:\\n+            err += dx\\n+            y0 += sy\\n+    return points\\n+</patch>\\n\\nI need you to solve the provided issue by generating a single patch file that I can apply directly to this repository using git apply. Please respond with a single patch file in the format shown above.\\n\\nRespond below: \\n\"}]",
      "retrieved_file_paths": [
        "bug_report.md",
        "CONTRIBUTING.md",
        "README.md",
        "README.md",
        "README.md"
      ]
    },
    "retrieved_documents": [
      {
        "id": "62ec4b36-1585-49a0-895a-0ef0f44bd44e",
        "score": 0.01639344262295082,
        "payload": {
          "text": "---\nname: Bug report\nabout: Create a report to help us improve\ntitle: ''\nlabels: ''\nassignees: ''\n\n---\n\n**Describe the bug**\nA clear and concise description of what the bug is.\n\n**To Reproduce**\nSteps to reproduce the behavior including code snippet (if applies):\n1. Go to '...'\n2. Click on '....'\n3. Scroll down to '....'\n4. See error\n\n_You can make use of [react-pdf REPL](https://react-pdf/repl) to share the snippet_\n\n**Expected behavior**\nA clear and concise description of what you expected to happen.\n\n**Screenshots**\nIf applicable, add screenshots to help explain your problem.\n\n**Desktop (please complete the following information):**\n - OS: [e.g. MacOS, Windows]\n - Browser [e.g. chrome, safari]\n - React-pdf version [e.g. v1.1.0]\n\n<!-- Love react-pdf? Please consider supporting our collective:\n\ud83d\udc49  https://opencollective.com/react-pdf/donate -->\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/.github/ISSUE_TEMPLATE/bug_report.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "62ec4b36-1585-49a0-895a-0ef0f44bd44e"
        }
      },
      {
        "id": "390d9984-4d3e-4987-a216-26be5f3deba4",
        "score": 0.016129032258064516,
        "payload": {
          "text": "# Contribute\n\n## Introduction\n\nFirst, thank you for considering contributing to react-pdf!\n\nWe welcome any type of contribution, not only code. You can help with \n- **QA**: file bug reports, the more details you can give the better (e.g. screenshots with the console open)\n- **Marketing**: writing blog posts, howto's, printing stickers, ...\n- **Community**: presenting the project at meetups, organizing a dedicated meetup for the local community, ...\n- **Code**: take a look at the [open issues](https://github.com/diegomura/react-pdf/issues). Even if you can't write code, commenting on them, showing that you care about a given issue matters. It helps us triage them.\n- **Money**: we welcome financial contributions in full transparency on our [open collective](https://opencollective.com/react-pdf).\n\n## Your First Contribution\n\nWorking on your first Pull Request? You can learn how from this *free* series, [How to Contribute to an Open Source Project on GitHub](https://egghead.io/series/how-to-contribute-to-an-open-source-project-on-github).\n\n## Submitting code\n\nAny code change should be submitted as a pull request. The description should explain what the code does and give steps to execute it. The pull request should also contain tests.\n\n## Code review process\n\nThe bigger the pull request, the longer it will take to review and merge. Try to break down large pull requests in smaller chunks that are easier to review and merge.\nIt is also always helpful to have some context for your pull request. What was the purpose? Why does it matter to you?\n\n## Financial contributions\n\nWe also welcome financial contributions in full transparency on our [open collective](https://opencollective.com/react-pdf).\nAnyone can file an expense. If the expense makes sense for the development of the community, it will be \"merged\" in the ledger of our open collective by the core contributors and the person who filed the expense will be reimbursed.\n\n## Questions\n\nIf you have any questions, create an [issue](https://github.com/diegomura/react-pdf/issues) (protip: do a quick search first to see if someone else didn't ask the same question before!).\nYou can also reach us at hello@react-pdf.opencollective.com.\n\n## Credits\n\n### Contributors\n\nThank you to all the people who have already contributed to react-pdf!\n<a href=\"/diegomura/react-pdf/graphs/contributors\"><img src=\"https://opencollective.com/react-pdf/contributors.svg?width=890\" /></a>\n\n\n### Backers\n\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\n\n<a href=\"https://opencollective.com/react-pdf#backers\" target=\"_blank\"><img src=\"https://opencollective.com/react-pdf/backers.svg?width=890\"></a>\n\n\n<!-- This `CONTRIBUTING.md` is based on @nayafia's template https://github.com/nayafia/contributing-template -->\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/.github/CONTRIBUTING.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "390d9984-4d3e-4987-a216-26be5f3deba4"
        }
      },
      {
        "id": "905a84df-25ec-45dc-b5a6-103e701d6b9d",
        "score": 0.015873015873015872,
        "payload": {
          "text": "<p align=\"center\">\n  <img src=\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\" height=\"280px\">\n</p>\n\n# @react-pdf/render\n\n> React-pdf render engine\n\n## How to install\n```sh\nyarn add @react-pdf/render\n```\n\n## How it works\n\n```js\nconst render = require('@react-pdf/render');\nconst primitives = require('@react-pdf/primitives');\n\nconst view = {\n  type: primitives.View,\n  style: {\n    backgroundColor: 'red',\n    borderTopLeftRadius: 5,\n    borderTopRightRadius: 10,\n    borderBottomLeftRadius: 0,\n    borderBottomRightRadius: 15,\n    borderTopColor: 'yellow',\n    borderLeftColor: 'green',\n    borderBottomColor: 'black',\n    borderRightColor: 'purple',\n  },\n  box: {\n    left: 20,\n    top: 20,\n    width: 100,\n    height: 80,\n    borderTopWidth: 3,\n    borderLeftWidth: 2,\n    borderBottomWidth: 1,\n    borderRightWidth: 4,\n  },\n};\n\nconst doc = {\n  type: primitives.Document,\n  children: [\n    {\n      type: primitives.Page,\n      box: { width: 400, height: 600 },\n      children: [view],\n    },\n  ],\n};\n\n// Provide your own context\nconst ctx = createContext();\n\nrender.default(ctx, doc);\n```\n\nThis library exports a `render` function that takes two arguments:\n\n- *ctx*: This is the target context where the document is going to be rendered. React-pdf currently uses a [pdfkit](https://github.com/react-pdf/pdfkit) document as context, but it can target any other type of structure as long as it signature matches pdfkit API. In the future this will enable rendering documents into muliple formats in addition to PDF.\n- *node*: Document root node. A node is a nested structure that defines a single element in a document. They are defined by it's `type` and arguments.\n\n## Node structure\n\nA node represents a single element inside a document. It's mainly defined by it's `type` (mandatory) field in addition to other values to define where that element is positioned inside the document (`box`), how it looks (`style`), how it should behave (`params`) and what sub-nodes it contains (`children`).\n\nThe root node must always be of type `DOCUMENT`, containing as many `PAGE` nodes as desired inside it's children field.\n\nBare in mind this package does not handle any type of node positioning, inheritance, style transformations or any other layout related logic. It's role is limited to render exactly the node it get's into the provided context. Take this into account when definig styles as `paddingTop`, `paddingLeft` and so on instead of the shortcut `padding`. For layout or styles transformation this project provides separate packages.\n\n### node.type\n\nMandatory field specifiying the type of the particular node. The full list of types can be found and imported from `@react-pdf/primitives`\n\n### node.box\n\nDefines bounding box where a particular node is located inside a document\n\n- left\n- top\n- width\n- height\n- paddingTop\n- paddingLeft\n- paddingBottom\n- paddingRight\n- marginTop\n- marginLeft\n- marginBottom\n- marginRight\n- borderTopWidth\n- borderLeftWidth\n- borderBottomWidth\n- borderRightWidth\n\n### node.style\n\nDefines how the node looks like. There are some types of nodes that expect special style values, but generally all support:\n\n- color\n- opacity\n- overflow\n- backgroundColor\n- borderTopLeftRadius\n- borderTopRightRadius\n- borderBottomLeftRadius\n- borderBottomRightRadius\n- borderTopColor\n- borderLeftColor\n- borderBottomColor\n- borderRightColor\n- _others..._\n\n### node.props\n\nSpecific node params needed to render correctly ot behave like certain way. Specially needed for SVG nodes\n\n## PDF example\n\n```js\nconst fs = require('fs');\nconst render = require('@react-pdf/render');\nconst pdfkit = require('@react-pdf/pdfkit');\n\nconst PDFDocument = pdfkit.default;\n\nconst ctx = new PDFDocument({ autoFirstPage: false });\n\nconst doc = {}; // See above\n\nrender.default(ctx, doc);\n\nconst stream = fs.createWriteStream('./test.pdf');\n\nctx.pipe(stream);\n```\n\n## License\n\nMIT \u00a9 [Diego Muracciole](http://github.com/diegomura)\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/packages/render/README.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "905a84df-25ec-45dc-b5a6-103e701d6b9d"
        }
      },
      {
        "id": "401ae391-ee3a-493b-bc3f-20e9e5aedd4b",
        "score": 0.015625,
        "payload": {
          "text": "<p align=\"center\">\n  <img src=\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\" height=\"280px\">\n  <p align=\"center\">React renderer for creating PDF files on the browser and server<p>\n  <p align=\"center\">\n    <a href=\"https://www.npmjs.com/package/@react-pdf/renderer\">\n      <img src=\"https://img.shields.io/npm/v/@react-pdf/renderer.svg\" />\n    </a>\n    <a href=\"https://travis-ci.org/diegomura/react-pdf\">\n      <img src=\"https://img.shields.io/travis/diegomura/react-pdf.svg\" />\n    </a>\n    <a href=\"https://github.com/diegomura/react-pdf/blob/master/LICENSE\">\n      <img src=\"https://img.shields.io/github/license/diegomura/react-pdf.svg\" />\n    </a>\n    <a href=\"https://github.com/prettier/prettier\">\n      <img src=\"https://img.shields.io/badge/styled_with-prettier-ff69b4.svg\" />\n    </a>\n    <a href=\"https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_shield\" alt=\"FOSSA Status\"><img src=\"https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=shield\"/></a>\n  </p>\n</p>\n\n> New react-pdf 2.0 was relesed. [Read about the announcement](http://react-pdf.org/blog/announcing-react-pdf-v2)\n\n## Lost?\n\nThis package is used to _create_ PDFs using React. If you wish to _display_ existing PDFs, you may be looking for [react-pdf](https://github.com/wojtekmaj/react-pdf).\n\n## How to install\n```sh\nyarn add @react-pdf/renderer\n```\n\n## How it works\n\n```jsx\nimport React from 'react';\nimport { Document, Page, Text, View, StyleSheet } from '@react-pdf/renderer';\n\n// Create styles\nconst styles = StyleSheet.create({\n  page: {\n    flexDirection: 'row',\n    backgroundColor: '#E4E4E4'\n  },\n  section: {\n    margin: 10,\n    padding: 10,\n    flexGrow: 1\n  }\n});\n\n// Create Document Component\nconst MyDocument = () => (\n  <Document>\n    <Page size=\"A4\" style={styles.page}>\n      <View style={styles.section}>\n        <Text>Section #1</Text>\n      </View>\n      <View style={styles.section}>\n        <Text>Section #2</Text>\n      </View>\n    </Page>\n  </Document>\n);\n```\n\n### `Web.` Render in DOM\n```jsx\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { PDFViewer } from '@react-pdf/renderer';\n\nconst App = () => (\n  <PDFViewer>\n    <MyDocument />\n  </PDFViewer>\n);\n\nReactDOM.render(<App />, document.getElementById('root'));\n```\n\n### `Node.` Save in a file\n```jsx\nimport React from 'react';\nimport ReactPDF from '@react-pdf/renderer';\n\nReactPDF.render(<MyDocument />, `${__dirname}/example.pdf`);\n```\n\n## Contributors\n\nThis project exists thanks to all the people who contribute. [[Contribute]](CONTRIBUTING.md).\n<a href=\"https://github.com/diegomura/react-pdf/graphs/contributors\"><img src=\"https://opencollective.com/react-pdf/contributors.svg?width=890\" /></a>\n\n## Sponsors\n\nThank you to all our sponsors! [[Become a sponsors](https://opencollective.com/react-pdf#sponsors)]\n\n<a href=\"https://opencollective.com/react-pdf#sponsors\" target=\"_blank\"><img src=\"https://opencollective.com/react-pdf/sponsors.svg?width=890\"></a>\n\n## Backers\n\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\n\n<a href=\"https://opencollective.com/react-pdf#backers\" target=\"_blank\"><img src=\"https://opencollective.com/react-pdf/backers.svg?width=890\"></a>\n\n## License\n\nMIT \u00a9 [Diego Muracciole](http://github.com/diegomura)\n\n[![FOSSA Status](https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=large)](https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_large)\n\n---\n![](https://img.shields.io/npm/dt/@react-pdf/renderer.svg?style=flat)\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/README.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "401ae391-ee3a-493b-bc3f-20e9e5aedd4b"
        }
      },
      {
        "id": "adceb749-ad96-47f9-b286-0f8d059de07f",
        "score": 0.015384615384615385,
        "payload": {
          "text": "<p align=\"center\">\n  <img src=\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\" height=\"280px\">\n  <p align=\"center\">React renderer for creating PDF files on the browser and server<p>\n  <p align=\"center\">\n    <a href=\"https://www.npmjs.com/package/@react-pdf/renderer\">\n      <img src=\"https://img.shields.io/npm/v/@react-pdf/renderer.svg\" />\n    </a>\n    <a href=\"https://travis-ci.org/diegomura/react-pdf\">\n      <img src=\"https://img.shields.io/travis/diegomura/react-pdf.svg\" />\n    </a>\n    <a href=\"https://github.com/diegomura/react-pdf/blob/master/LICENSE\">\n      <img src=\"https://img.shields.io/github/license/diegomura/react-pdf.svg\" />\n    </a>\n    <a href=\"https://spectrum.chat/react-pdf\">\n      <img src=\"https://withspectrum.github.io/badge/badge.svg\" />\n    </a>\n    <a href=\"https://github.com/prettier/prettier\">\n      <img src=\"https://img.shields.io/badge/styled_with-prettier-ff69b4.svg\" />\n    </a>\n    <a href=\"https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_shield\" alt=\"FOSSA Status\"><img src=\"https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=shield\"/></a>\n  </p>\n</p>\n\n## How to install\n```sh\nyarn add @react-pdf/renderer\n```\n\n## How it works\n\n```jsx\nimport React from 'react';\nimport { Document, Page, Text, View, StyleSheet } from '@react-pdf/renderer';\n\n// Create styles\nconst styles = StyleSheet.create({\n  page: {\n    flexDirection: 'row',\n    backgroundColor: '#E4E4E4'\n  },\n  section: {\n    margin: 10,\n    padding: 10,\n    flexGrow: 1\n  }\n});\n\n// Create Document Component\nconst MyDocument = () => (\n  <Document>\n    <Page size=\"A4\" style={styles.page}>\n      <View style={styles.section}>\n        <Text>Section #1</Text>\n      </View>\n      <View style={styles.section}>\n        <Text>Section #2</Text>\n      </View>\n    </Page>\n  </Document>\n);\n```\n\n### `Web.` Render in DOM\n```jsx\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { PDFViewer } from '@react-pdf/renderer';\n\nconst App = () => (\n  <PDFViewer>\n    <MyDocument />\n  </PDFViewer>\n);\n\nReactDOM.render(<App />, document.getElementById('root'));\n```\n\n### `Node.` Save in a file\n```jsx\nimport React from 'react';\nimport ReactPDF from '@react-pdf/renderer';\n\nReactPDF.render(<MyDocument />, `${__dirname}/example.pdf`);\n```\n\n## Examples\nFor each example, try opening `output.pdf` to see the result.\n\n<table>\n\t<tbody>\n\t\t<tr>\n      <td align=\"center\" valign=\"top\">\n        <img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/text/thumb.png\">\n        <br>\n        <a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/text/\">Text</a>\n      </td>\n\t\t\t<td align=\"center\" valign=\"top\">\n\t\t\t\t<img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/resume/thumb.png\">\n\t\t\t\t<br>\n\t\t\t\t<a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/resume/\">Resume</a>\n\t\t\t</td>\n\t\t\t<td align=\"center\" valign=\"top\">\n\t\t\t\t<img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/fractals/thumb.png\">\n\t\t\t\t<br>\n\t\t\t\t<a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/fractals/\">Fractals</a>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n<table>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td align=\"center\" valign=\"top\">\n\t\t\t\t<img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/knobs/thumb.png\">\n\t\t\t\t<br>\n\t\t\t\t<a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/knobs/\">Knobs</a>\n\t\t\t</td>\n      <td align=\"center\" valign=\"top\">\n        <img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/pageWrap/thumb.png\">\n        <br>\n        <a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/pageWrap/\">Page wrap</a>\n      </td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n## Contributors\n\nThis project exists thanks to all the people who contribute. [[Contribute]](CONTRIBUTING.md).\n<a href=\"https://github.com/diegomura/react-pdf/graphs/contributors\"><img src=\"https://opencollective.com/react-pdf/contributors.svg?width=890\" /></a>\n\n## Sponsors\n\nThank you to all our sponsors! [[Become a sponsors](https://opencollective.com/react-pdf#sponsors)]\n\n<a href=\"https://opencollective.com/react-pdf#sponsors\" target=\"_blank\"><img src=\"https://opencollective.com/react-pdf/sponsors.svg?width=890\"></a>\n\n## Backers\n\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\n\n<a href=\"https://opencollective.com/react-pdf#backers\" target=\"_blank\"><img src=\"https://opencollective.com/react-pdf/backers.svg?width=890\"></a>\n\n## License\n\nMIT \u00a9 [Diego Muracciole](http://github.com/diegomura)\n\n[![FOSSA Status](https://app.fossa.com/api/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf.svg?type=large)](https://app.fossa.com/projects/git%2Bgithub.com%2Ftaylorudell%2Freact-pdf?ref=badge_large)\n\n---\n![](https://img.shields.io/npm/dt/@react-pdf/renderer.svg?style=flat)\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/packages/renderer/README.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "adceb749-ad96-47f9-b286-0f8d059de07f"
        }
      }
    ]
  },
  {
    "instance_id": "diegomura__react-pdf-1306",
    "model_patch": "diff --git a/image.d.ts b/image.d.ts\n--- a/image.d.ts\n+++ b/image.d.ts\n@@ -3,6 +3,7 @@\n export type SourceObject =\n   | string\n   | { data: Buffer; format: 'png' | 'jpg' }\n   | { uri: string; method: HTTPMethod; body: any; headers: any }\n+  | (() => Promise<string>);",
    "model_name_or_path": "text_bm25",
    "metrics": {
      "issue_embedding_time_ms": 0.0,
      "retrieval_time_ms_bm25": 37.24,
      "retrieval_time_ms": 37.24,
      "total_retrieval_time_ms": 37.24,
      "generation_time_ms": 1345.66,
      "total_io_time_ms": 1382.9,
      "input_total_token_limit": null,
      "issue_text_tokens": 527,
      "vlm_tokens": 0,
      "retrieved_tokens": 6052,
      "prompt_template_tokens": 511,
      "total_input_prompt_tokens": 7090,
      "output_generated_tokens": 93,
      "total_io_tokens": 7183,
      "input_prompt_text": "[{\"type\": \"text\", \"text\": \"You will be provided with a partial code base and an issue statement explaining a problem to resolve.\\n<issue>\\nType for Image SourceObject doesn't match documentation\\n**Describe the bug**\\r\\nThe documentation states that an Image source object can be a function that returns a string or promise string. \\r\\n\\r\\n() => String | Promise<String>\\r\\n\\r\\nHowever, the type definition in `@react-pdf/types/image.d.ts` does not support a promise\\r\\n\\r\\n```\\r\\nexport type SourceObject =\\r\\n  | string\\r\\n  | { data: Buffer; format: 'png' | 'jpg' }\\r\\n  | { uri: string; method: HTTPMethod; body: any; headers: any }\\r\\n```\\r\\n\\r\\nso I am getting a compilation error of\\r\\n```\\r\\n Overload 1 of 2, '(props: Readonly<ImageWithSrcProp> | Readonly<ImageWithSourceProp>): Image', gave the following error.\\r\\n    Type '() => Promise<string>' is not assignable to type 'SourceObject'.\\r\\n ```\\r\\n \\r\\n the type should be something like \\r\\n \\r\\n ```\\r\\n type HTTPMethod = 'GET' | 'HEAD' | 'POST' | 'PUT' | 'DELETE' | 'PATCH';\\r\\n\\r\\nexport type SourceObject =\\r\\n  | string\\r\\n  | { data: Buffer; format: 'png' | 'jpg' }\\r\\n  | { uri: string; method: HTTPMethod; body: any; headers: any }\\r\\n  | {(): Promise<string>};\\r\\n ```\\r\\n\\r\\n**To Reproduce**\\r\\nSteps to reproduce the behavior including code snippet (if applies):\\r\\n\\r\\n```\\r\\n<Image src={async (): Promise<string> => (await getDataUrl())} />\\r\\n```\\r\\n\\r\\n_You can make use of [react-pdf REPL](https://react-pdf/repl) to share the snippet_\\r\\n\\r\\n**Expected behavior**\\r\\nA clear and concise description of what you expected to happen.\\r\\n\\r\\nIt should not throw a compilation error. \\r\\n\\r\\n**Screenshots**\\r\\nIf applicable, add screenshots to help explain your problem.\\r\\n\\r\\n![image](https://user-images.githubusercontent.com/51760107/114592075-8bb6cc00-9c58-11eb-9afc-dbc5c0e7a387.png)\\r\\n![image](https://user-images.githubusercontent.com/51760107/114592085-8fe2e980-9c58-11eb-8721-9703759129b3.png)\\r\\n\\r\\n**Desktop (please complete the following information):**\\r\\n - OS: [e.g. MacOS, Windows]\\r\\n - Browser [e.g. chrome, safari]\\r\\n - React-pdf version [e.g. v1.1.0]\\r\\n \\r\\n MacOS, chrome, v2.0.4\\r\\n\\r\\n\\r\\n\\n\\n</issue>\\n\\n<code>\\n[start of bug_report.md]\\n---\\nname: Bug report\\nabout: Create a report to help us improve\\ntitle: ''\\nlabels: ''\\nassignees: ''\\n\\n---\\n\\n**Describe the bug**\\nA clear and concise description of what the bug is.\\n\\n**To Reproduce**\\nSteps to reproduce the behavior including code snippet (if applies):\\n1. Go to '...'\\n2. Click on '....'\\n3. Scroll down to '....'\\n4. See error\\n\\n_You can make use of [react-pdf REPL](https://react-pdf/repl) to share the snippet_\\n\\n**Expected behavior**\\nA clear and concise description of what you expected to happen.\\n\\n**Screenshots**\\nIf applicable, add screenshots to help explain your problem.\\n\\n**Desktop (please complete the following information):**\\n - OS: [e.g. MacOS, Windows]\\n - Browser [e.g. chrome, safari]\\n - React-pdf version [e.g. v1.1.0]\\n\\n<!-- Love react-pdf? Please consider supporting our collective:\\n\\ud83d\\udc49  https://opencollective.com/react-pdf/donate -->\\n\\n[end of bug_report.md]\\n[start of image.d.ts]\\ntype HTTPMethod = 'GET' | 'HEAD' | 'POST' | 'PUT' | 'DELETE' | 'PATCH';\\n\\nexport type SourceObject =\\n  | string\\n  | { data: Buffer; format: 'png' | 'jpg' }\\n  | { uri: string; method: HTTPMethod; body: any; headers: any };\\n\\n[end of image.d.ts]\\n[start of index.d.ts]\\ndeclare module '@react-pdf/renderer' {\\n  import * as React from 'react';\\n  import {\\n    Style,\\n    PageSize,\\n    FontStore,\\n    Orientation,\\n    SourceObject,\\n    HyphenationCallback,\\n    SVGPresentationAttributes,\\n  } from '@react-pdf/types';\\n\\n  namespace ReactPDF {\\n    interface Styles {\\n      [key: string]: Style;\\n    }\\n\\n    interface OnRenderProps {\\n      blob?: Blob;\\n    }\\n\\n    interface DocumentProps {\\n      title?: string;\\n      author?: string;\\n      subject?: string;\\n      keywords?: string;\\n      creator?: string;\\n      producer?: string;\\n      onRender?: (props: OnRenderProps) => any;\\n    }\\n\\n    /**\\n     * This component represent the PDF document itself. It must be the root\\n     * of your tree element structure, and under no circumstances should it be\\n     * used as children of another react-pdf component. In addition, it should\\n     * only have childs of type <Page />.\\n     */\\n    class Document extends React.Component<DocumentProps> {}\\n\\n    interface NodeProps {\\n      id?: string;\\n      style?: Style | Style[];\\n      /**\\n       * Render component in all wrapped pages.\\n       * @see https://react-pdf.org/advanced#fixed-components\\n       */\\n      fixed?: boolean;\\n      /**\\n       * Force the wrapping algorithm to start a new page when rendering the\\n       * element.\\n       * @see https://react-pdf.org/advanced#page-breaks\\n       */\\n      break?: boolean;\\n      /**\\n       * Hint that no page wrapping should occur between all sibling elements following the element within n points\\n       * @see https://react-pdf.org/advanced#orphan-&-widow-protection\\n       */\\n      minPresenceAhead?: number;\\n    }\\n\\n    interface PageProps extends NodeProps {\\n      /**\\n       * Enable page wrapping for this page.\\n       * @see https://react-pdf.org/components#page-wrapping\\n       */\\n      wrap?: boolean;\\n      /**\\n       * Enables debug mode on page bounding box.\\n       * @see https://react-pdf.org/advanced#debugging\\n       */\\n      debug?: boolean;\\n      size?: PageSize;\\n      orientation?: Orientation;\\n    }\\n\\n    /**\\n     * Represents single page inside the PDF document, or a subset of them if\\n     * using the wrapping feature. A <Document /> can contain as many pages as\\n     * you want, but ensure not rendering a page inside any component besides\\n     * Document.\\n     */\\n    class Page extends React.Component<PageProps> {}\\n\\n    interface ViewProps extends NodeProps {\\n      id?: string;\\n      /**\\n       * Enable/disable page wrapping for element.\\n       * @see https://react-pdf.org/components#page-wrapping\\n       */\\n      wrap?: boolean;\\n      /**\\n       * Enables debug mode on page bounding box.\\n       * @see https://react-pdf.org/advanced#debugging\\n       */\\n      debug?: boolean;\\n      render?: (props: {\\n        pageNumber: number;\\n        subPageNumber: number;\\n      }) => React.ReactNode;\\n      children?: React.ReactNode;\\n      id?: string;\\n    }\\n\\n    /**\\n     * The most fundamental component for building a UI and is designed to be\\n     * nested inside other views and can have 0 to many children.\\n     */\\n    class View extends React.Component<ViewProps> {}\\n\\n    interface BaseImageProps extends NodeProps {\\n      /**\\n       * Enables debug mode on page bounding box.\\n       * @see https://react-pdf.org/advanced#debugging\\n       */\\n      debug?: boolean;\\n      cache?: boolean;\\n    }\\n\\n    interface ImageWithSrcProp extends BaseImageProps {\\n      src: SourceObject;\\n    }\\n\\n    interface ImageWithSourceProp extends BaseImageProps {\\n      source: SourceObject;\\n    }\\n\\n    type ImageProps = ImageWithSrcProp | ImageWithSourceProp;\\n\\n    /**\\n     * A React component for displaying network or local (Node only) JPG or\\n     * PNG images, as well as base64 encoded image strings.\\n     */\\n    class Image extends React.Component<ImageProps> {}\\n\\n    interface TextProps extends NodeProps {\\n      id?: string;\\n      /**\\n       * Enable/disable page wrapping for element.\\n       * @see https://react-pdf.org/components#page-wrapping\\n       */\\n      wrap?: boolean;\\n      /**\\n       * Enables debug mode on page bounding box.\\n       * @see https://react-pdf.org/advanced#debugging\\n       */\\n      debug?: boolean;\\n      render?: (props: {\\n        pageNumber: number;\\n        totalPages: number;\\n        subPageNumber: number;\\n        subPageTotalPages: number;\\n      }) => React.ReactNode;\\n      children?: React.ReactNode;\\n      id?: string;\\n      /**\\n       * Override the default hyphenation-callback\\n       * @see https://react-pdf.org/fonts#registerhyphenationcallback\\n       */\\n      hyphenationCallback?: HyphenationCallback;\\n      /**\\n       * Specifies the minimum number of lines in a text element that must be shown at the bottom of a page or its container.\\n       * @see https://react-pdf.org/advanced#orphan-&-widow-protection\\n       */\\n      orphans?: number;\\n      /**\\n       * Specifies the minimum number of lines in a text element that must be shown at the top of a page or its container..\\n       * @see https://react-pdf.org/advanced#orphan-&-widow-protection\\n       */\\n      widows?: number;\\n    }\\n\\n    interface SVGTextProps extends SVGPresentationAttributes {\\n      style?: SVGPresentationAttributes;\\n      x: string | number;\\n      y: string | number;\\n      /**\\n       * Override the default hyphenation-callback\\n       * @see https://react-pdf.org/fonts#registerhyphenationcallback\\n       */\\n      hyphenationCallback?: HyphenationCallback;\\n    }\\n\\n    /**\\n     * A React component for displaying text. Text supports nesting of other\\n     * Text or Link components to create inline styling.\\n     */\\n    class Text extends React.Component<TextProps | SVGTextProps> {}\\n\\n    interface LinkProps extends NodeProps {\\n      /**\\n       * Enable/disable page wrapping for element.\\n       * @see https://react-pdf.org/components#page-wrapping\\n       */\\n      wrap?: boolean;\\n      /**\\n       * Enables debug mode on page bounding box.\\n       * @see https://react-pdf.org/advanced#debugging\\n       */\\n      debug?: boolean;\\n      src: string;\\n      children?: React.ReactNode;\\n    }\\n\\n    /**\\n     * A React component for displaying a hyperlink. Link\\u2019s can be nested\\n     * inside a Text component, or being inside any other valid primitive.\\n     */\\n    class Link extends React.Component<LinkProps> {}\\n\\n    interface NoteProps extends NodeProps {\\n      children: string;\\n    }\\n\\n    class Note extends React.Component<NoteProps> {}\\n\\n    interface CanvasProps extends NodeProps {\\n      /**\\n       * Enables debug mode on page bounding box.\\n       * @see https://react-pdf.org/advanced#debugging\\n       */\\n      debug?: boolean;\\n      paint: (\\n        painter: any,\\n        availableWidth: number,\\n        availableHeight: number,\\n      ) => null;\\n    }\\n\\n    class Canvas extends React.Component<CanvasProps> {}\\n\\n    interface SVGProps extends NodeProps {\\n      /**\\n       * Enables debug mode on page bounding box.\\n       * @see https://react-pdf.org/advanced#debugging\\n       */\\n      debug?: boolean;\\n      width?: string | number;\\n      height?: string | number;\\n      viewBox?: string;\\n      preserveAspectRatio?: string;\\n    }\\n\\n    /**\\n     * The <SVG /> element is a container that defines a new coordinate system and viewport. It is used as the outermost element of SVG documents.\\n     */\\n    class Svg extends React.Component<SVGProps> {}\\n\\n    interface LineProps extends SVGPresentationAttributes {\\n      style?: SVGPresentationAttributes;\\n      x1: string | number;\\n      x2: string | number;\\n      y1: string | number;\\n      y2: string | number;\\n    }\\n\\n    /**\\n     * The <Line /> element is used to create a line.\\n     */\\n    class Line extends React.Component<LineProps> {}\\n\\n    interface PolylineProps extends SVGPresentationAttributes {\\n      style?: SVGPresentationAttributes;\\n      points: string;\\n    }\\n\\n    /**\\n     * The <Polyline /> element is used to create any shape that consists of only straight lines (that is connected at several points).\\n     */\\n    class Polyline extends React.Component<PolylineProps> {}\\n\\n    interface PolygonProps extends SVGPresentationAttributes {\\n      style?: SVGPresentationAttributes;\\n      points: string;\\n    }\\n\\n    /**\\n     * The <Polygon /> element is used to create a graphic that contains at least three sides.\\n     * Polygons are made of straight lines, and the shape is \\\"closed\\\" (all the lines connect up).\\n     */\\n    class Polygon extends React.Component<PolygonProps> {}\\n\\n    interface PathProps extends SVGPresentationAttributes {\\n      style?: SVGPresentationAttributes;\\n      d: string;\\n    }\\n\\n    /**\\n     * The <Path /> element is the most powerful element in the SVG library of basic shapes. It can be used to create lines, curves, arcs, and more.\\n     */\\n    class Path extends React.Component<PathProps> {}\\n\\n    interface RectProps extends SVGPresentationAttributes {\\n      style?: SVGPresentationAttributes;\\n      x: string | number;\\n      y: string | number;\\n      width: string | number;\\n      height: string | number;\\n      rx?: string | number;\\n      ry?: string | number;\\n    }\\n\\n    /**\\n     * The <Rect /> element is used to create a rectangle and variations of a rectangle shape.\\n     */\\n    class Rect extends React.Component<RectProps> {}\\n\\n    interface CircleProps extends SVGPresentationAttributes {\\n      style?: SVGPresentationAttributes;\\n      cx: string | number;\\n      cy: string | number;\\n      r: string | number;\\n    }\\n\\n    /**\\n     * The <Circle /> element is used to create a circle.\\n     */\\n    class Circle extends React.Component<CircleProps> {}\\n\\n    interface EllipseProps extends SVGPresentationAttributes {\\n      style?: SVGPresentationAttributes;\\n      cx: string | number;\\n      cy: string | number;\\n      rx: string | number;\\n      ry: string | number;\\n    }\\n\\n    /**\\n     * The <Ellipse /> element is used to create an ellipse.\\n     * An ellipse is closely related to a circle. The difference is that an ellipse has an x and a y radius that differs from each other, while a circle has equal x and y radius.\\n     */\\n    class Ellipse extends React.Component<EllipseProps> {}\\n\\n    interface GProps extends SVGPresentationAttributes {}\\n\\n    /**\\n     * The <G /> SVG element is a container used to group other SVG elements.\\n     * Transformations applied to the <G /> element are performed on its child elements, and its attributes are inherited by its children.\\n     */\\n    class G extends React.Component<GProps> {}\\n\\n    interface StopProps {\\n      offset: string | number;\\n      stopColor: string;\\n      stopOpacity?: string | number;\\n    }\\n\\n    /**\\n     * The SVG <Stop /> element defines a color and its position to use on a gradient. This element is always a child of a <LinearGradient /> or <RadialGradient /> element\\n     */\\n    class Stop extends React.Component<StopProps> {}\\n\\n    interface DefsProps {}\\n\\n    /**\\n     * The <Defs /> element is used to store graphical objects that will be used at a later time. Objects created inside a <Defs /> element are not rendered directly. To display them you have to reference them\\n     */\\n    class Defs extends React.Component<DefsProps> {}\\n\\n    interface ClipPathProps {\\n      id?: string;\\n    }\\n\\n    /**\\n     * The <ClipPath /> SVG element defines a clipping path, to be used by the clipPath property.\\n     * A clipping path restricts the region to which paint can be applied. Conceptually, parts of the drawing that lie outside of the region bounded by the clipping path are not drawn.\\n     */\\n    class ClipPath extends React.Component<ClipPathProps> {}\\n\\n    interface LinearGradientProps {\\n      x1: string | number;\\n      x2: string | number;\\n      y1: string | number;\\n      y2: string | number;\\n    }\\n\\n    /**\\n     * The <LinearGradient /> element lets authors define linear gradients that can be applied to fill or stroke of graphical elements.\\n     */\\n    class LinearGradient extends React.Component<LinearGradientProps> {}\\n\\n    interface RadialGradientProps {\\n      cx: string | number;\\n      cy: string | number;\\n      fr: string | number;\\n      fx: string | number;\\n      fy: string | number;\\n    }\\n\\n    /**\\n     * The <RadialGradient /> element lets authors define radial gradients that can be applied to fill or stroke of graphical elements.\\n     */\\n    class RadialGradient extends React.Component<RadialGradientProps> {}\\n\\n    interface BlobProviderParams {\\n      blob: Blob | null;\\n      url: string | null;\\n      loading: boolean;\\n      error: Error | null;\\n    }\\n    interface BlobProviderProps {\\n      document: React.ReactElement<DocumentProps>;\\n      children: (params: BlobProviderParams) => React.ReactNode;\\n    }\\n\\n    /**\\n     * Easy and declarative way of getting document's blob data without\\n     * showing it on screen.\\n     * @see https://react-pdf.org/advanced#on-the-fly-rendering\\n     * @platform web\\n     */\\n    class BlobProvider extends React.Component<BlobProviderProps> {}\\n\\n    interface PDFViewerProps {\\n      width?: number | string;\\n      height?: number | string;\\n      style?: Style | Style[];\\n      className?: string;\\n      children?: React.ReactElement<DocumentProps>;\\n      innerRef?: React.Ref<HTMLIFrameElement>;\\n    }\\n\\n    /**\\n     * Iframe PDF viewer for client-side generated documents.\\n     * @platform web\\n     */\\n    class PDFViewer extends React.Component<PDFViewerProps> {}\\n\\n    interface PDFDownloadLinkProps {\\n      document: React.ReactElement<DocumentProps>;\\n      fileName?: string;\\n      style?: Style | Style[];\\n      className?: string;\\n      children?:\\n        | React.ReactNode\\n        | ((params: BlobProviderParams) => React.ReactNode);\\n    }\\n\\n    /**\\n     * Anchor tag to enable generate and download PDF documents on the fly.\\n     * @see https://react-pdf.org/advanced#on-the-fly-rendering\\n     * @platform web\\n     */\\n    class PDFDownloadLink extends React.Component<PDFDownloadLinkProps> {}\\n\\n    interface UsePDFInstance {\\n      loading: boolean;\\n      blob: Blob | null;\\n      url: string | null;\\n      error: string | null;\\n    }\\n\\n    /**\\n     * React hook for creating and updating a PDF document instance\\n     * @platform web\\n     */\\n    function usePDF(options: {\\n      document: React.ReactElement<DocumentProps>;\\n    }): [UsePDFInstance, () => void];\\n\\n    const Font: FontStore;\\n\\n    const StyleSheet: {\\n      hairlineWidth: number;\\n      create: <T extends Styles>(styles: T) => T;\\n      resolve: (\\n        style: Style,\\n        container: {\\n          width: number;\\n          height: number;\\n          orientation: Orientation;\\n        },\\n      ) => Style;\\n      flatten: (...styles: (Style[] | Style | undefined)[]) => Style;\\n      absoluteFillObject: {\\n        position: 'absolute';\\n        left: 0;\\n        right: 0;\\n        top: 0;\\n        bottom: 0;\\n      };\\n    };\\n\\n    const version: any;\\n\\n    const PDFRenderer: any;\\n\\n    const pdf: (\\n      initialValue?: React.ReactElement<DocumentProps>,\\n      onChange?: () => {},\\n    ) => {\\n      container: any;\\n      isDirty: () => boolean;\\n      updateContainer: (document: React.ReactElement<any>) => void;\\n      toBuffer: () => Promise<NodeJS.ReadableStream>;\\n      toBlob: () => Promise<Blob>;\\n      toString: () => string;\\n    };\\n\\n    const renderToStream: (\\n      document: React.ReactElement<DocumentProps>,\\n    ) => Promise<NodeJS.ReadableStream>;\\n\\n    const renderToString: (\\n      document: React.ReactElement<DocumentProps>,\\n    ) => string;\\n\\n    const renderToFile: (\\n      document: React.ReactElement<DocumentProps>,\\n      filePath: string,\\n      callback?: (output: NodeJS.ReadableStream, filePath: string) => any,\\n    ) => Promise<NodeJS.ReadableStream>;\\n\\n    const render: typeof renderToFile;\\n  }\\n\\n  const pdf: typeof ReactPDF.pdf;\\n  const Document: typeof ReactPDF.Document;\\n  const Page: typeof ReactPDF.Page;\\n  const View: typeof ReactPDF.View;\\n  const Image: typeof ReactPDF.Image;\\n  const Text: typeof ReactPDF.Text;\\n  const Canvas: typeof ReactPDF.Canvas;\\n  const Link: typeof ReactPDF.Link;\\n  const Note: typeof ReactPDF.Note;\\n  const Svg: typeof ReactPDF.Svg;\\n  const Line: typeof ReactPDF.Line;\\n  const Polyline: typeof ReactPDF.Polyline;\\n  const Polygon: typeof ReactPDF.Polygon;\\n  const Path: typeof ReactPDF.Path;\\n  const Rect: typeof ReactPDF.Rect;\\n  const Circle: typeof ReactPDF.Circle;\\n  const Ellipse: typeof ReactPDF.Ellipse;\\n  const G: typeof ReactPDF.G;\\n  const Stop: typeof ReactPDF.Stop;\\n  const Defs: typeof ReactPDF.Defs;\\n  const ClipPath: typeof ReactPDF.ClipPath;\\n  const LinearGradient: typeof ReactPDF.LinearGradient;\\n  const RadialGradient: typeof ReactPDF.RadialGradient;\\n  const Font: typeof ReactPDF.Font;\\n  const StyleSheet: typeof ReactPDF.StyleSheet;\\n  const PDFRenderer: typeof ReactPDF.PDFRenderer;\\n  const version: typeof ReactPDF.version;\\n  const renderToFile: typeof ReactPDF.renderToFile;\\n  const renderToString: typeof ReactPDF.renderToString;\\n  const renderToStream: typeof ReactPDF.renderToStream;\\n  const usePDF: typeof ReactPDF.usePDF;\\n  const PDFViewer: typeof ReactPDF.PDFViewer;\\n  const BlobProvider: typeof ReactPDF.BlobProvider;\\n  const PDFDownloadLink: typeof ReactPDF.PDFDownloadLink;\\n\\n  export default ReactPDF;\\n\\n  export {\\n    pdf,\\n    Document,\\n    Page,\\n    View,\\n    Image,\\n    Text,\\n    Canvas,\\n    Link,\\n    Note,\\n    Svg,\\n    Line,\\n    Polyline,\\n    Polygon,\\n    Path,\\n    Rect,\\n    Circle,\\n    Ellipse,\\n    G,\\n    Stop,\\n    Defs,\\n    ClipPath,\\n    LinearGradient,\\n    RadialGradient,\\n    Font,\\n    StyleSheet,\\n    PDFRenderer,\\n    version,\\n    renderToFile,\\n    renderToStream,\\n    renderToString,\\n    usePDF,\\n    PDFViewer,\\n    BlobProvider,\\n    PDFDownloadLink,\\n  };\\n}\\n\\n[end of index.d.ts]\\n[start of CONTRIBUTING.md]\\n# Contribute\\n\\n## Introduction\\n\\nFirst, thank you for considering contributing to react-pdf!\\n\\nWe welcome any type of contribution, not only code. You can help with \\n- **QA**: file bug reports, the more details you can give the better (e.g. screenshots with the console open)\\n- **Marketing**: writing blog posts, howto's, printing stickers, ...\\n- **Community**: presenting the project at meetups, organizing a dedicated meetup for the local community, ...\\n- **Code**: take a look at the [open issues](https://github.com/diegomura/react-pdf/issues). Even if you can't write code, commenting on them, showing that you care about a given issue matters. It helps us triage them.\\n- **Money**: we welcome financial contributions in full transparency on our [open collective](https://opencollective.com/react-pdf).\\n\\n## Your First Contribution\\n\\nWorking on your first Pull Request? You can learn how from this *free* series, [How to Contribute to an Open Source Project on GitHub](https://egghead.io/series/how-to-contribute-to-an-open-source-project-on-github).\\n\\n## Submitting code\\n\\nAny code change should be submitted as a pull request. The description should explain what the code does and give steps to execute it. The pull request should also contain tests.\\n\\n## Code review process\\n\\nThe bigger the pull request, the longer it will take to review and merge. Try to break down large pull requests in smaller chunks that are easier to review and merge.\\nIt is also always helpful to have some context for your pull request. What was the purpose? Why does it matter to you?\\n\\n## Financial contributions\\n\\nWe also welcome financial contributions in full transparency on our [open collective](https://opencollective.com/react-pdf).\\nAnyone can file an expense. If the expense makes sense for the development of the community, it will be \\\"merged\\\" in the ledger of our open collective by the core contributors and the person who filed the expense will be reimbursed.\\n\\n## Questions\\n\\nIf you have any questions, create an [issue](https://github.com/diegomura/react-pdf/issues) (protip: do a quick search first to see if someone else didn't ask the same question before!).\\nYou can also reach us at hello@react-pdf.opencollective.com.\\n\\n## Credits\\n\\n### Contributors\\n\\nThank you to all the people who have already contributed to react-pdf!\\n<a href=\\\"/diegomura/react-pdf/graphs/contributors\\\"><img src=\\\"https://opencollective.com/react-pdf/contributors.svg?width=890\\\" /></a>\\n\\n\\n### Backers\\n\\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\\n\\n<a href=\\\"https://opencollective.com/react-pdf#backers\\\" target=\\\"_blank\\\"><img src=\\\"https://opencollective.com/react-pdf/backers.svg?width=890\\\"></a>\\n\\n\\n<!-- This `CONTRIBUTING.md` is based on @nayafia's template https://github.com/nayafia/contributing-template -->\\n\\n[end of CONTRIBUTING.md]\\n[start of resolve.js]\\nimport fs from 'fs';\\nimport url from 'url';\\nimport path from 'path';\\nimport fetch from 'cross-fetch';\\n\\nimport PNG from './png';\\nimport JPEG from './jpeg';\\nimport createCache from './cache';\\n\\nexport const IMAGE_CACHE = createCache({ limit: 30 });\\n\\nconst getAbsoluteLocalPath = src => {\\n  if (BROWSER) {\\n    throw new Error('Cannot check local paths in client-side environment');\\n  }\\n\\n  const { protocol, auth, host, port, hostname, path: pathname } = url.parse(\\n    src,\\n  );\\n  const absolutePath = path.resolve(pathname);\\n  if ((protocol && protocol !== 'file:') || auth || host || port || hostname) {\\n    return undefined;\\n  }\\n  return absolutePath;\\n};\\n\\nconst fetchLocalFile = src =>\\n  new Promise((resolve, reject) => {\\n    try {\\n      if (BROWSER) {\\n        reject(new Error('Cannot fetch local file in this environemnt'));\\n        return;\\n      }\\n      const absolutePath = getAbsoluteLocalPath(src);\\n      if (!absolutePath) {\\n        reject(new Error(`Cannot fetch non-local path: ${src}`));\\n        return;\\n      }\\n      fs.readFile(absolutePath, (err, data) =>\\n        err ? reject(err) : resolve(data),\\n      );\\n    } catch (err) {\\n      reject(err);\\n    }\\n  });\\n\\nconst fetchRemoteFile = async (uri, options) => {\\n  const response = await fetch(uri, options);\\n\\n  const buffer = await (response.buffer\\n    ? response.buffer()\\n    : response.arrayBuffer());\\n\\n  return buffer.constructor.name === 'Buffer' ? buffer : Buffer.from(buffer);\\n};\\n\\nconst isValidFormat = format => {\\n  const lower = format.toLowerCase();\\n  return lower === 'jpg' || lower === 'jpeg' || lower === 'png';\\n};\\n\\nconst guessFormat = buffer => {\\n  let format;\\n\\n  if (JPEG.isValid(buffer)) {\\n    format = 'jpg';\\n  } else if (PNG.isValid(buffer)) {\\n    format = 'png';\\n  }\\n\\n  return format;\\n};\\n\\nconst isCompatibleBase64 = ({ uri }) =>\\n  /^data:image\\\\/[a-zA-Z]*;base64,[^\\\"]*/g.test(uri);\\n\\nfunction getImage(body, extension) {\\n  switch (extension.toLowerCase()) {\\n    case 'jpg':\\n    case 'jpeg':\\n      return new JPEG(body);\\n    case 'png':\\n      return new PNG(body);\\n    default:\\n      return null;\\n  }\\n}\\n\\nconst resolveBase64Image = ({ uri }) => {\\n  const match = /^data:image\\\\/([a-zA-Z]*);base64,([^\\\"]*)/g.exec(uri);\\n  const format = match[1];\\n  const data = match[2];\\n\\n  if (!isValidFormat(format)) {\\n    throw new Error(`Base64 image invalid format: ${format}`);\\n  }\\n\\n  return new Promise(resolve => {\\n    return resolve(getImage(Buffer.from(data, 'base64'), format));\\n  });\\n};\\n\\nconst resolveImageFromData = src => {\\n  if (src.data && src.format) {\\n    return new Promise(resolve => resolve(getImage(src.data, src.format)));\\n  }\\n\\n  throw new Error(`Invalid data given for local file: ${JSON.stringify(src)}`);\\n};\\n\\nconst resolveBufferImage = buffer => {\\n  const format = guessFormat(buffer);\\n\\n  if (format) {\\n    return new Promise(resolve => resolve(getImage(buffer, format)));\\n  }\\n\\n  return Promise.resolve();\\n};\\n\\nconst getImageFormat = body => {\\n  const isPng =\\n    body[0] === 137 &&\\n    body[1] === 80 &&\\n    body[2] === 78 &&\\n    body[3] === 71 &&\\n    body[4] === 13 &&\\n    body[5] === 10 &&\\n    body[6] === 26 &&\\n    body[7] === 10;\\n\\n  const isJpg = body[0] === 255 && body[1] === 216 && body[2] === 255;\\n\\n  let extension = '';\\n  if (isPng) {\\n    extension = 'png';\\n  } else if (isJpg) {\\n    extension = 'jpg';\\n  } else {\\n    throw new Error('Not valid image extension');\\n  }\\n\\n  return extension;\\n};\\n\\nconst resolveImageFromUrl = async src => {\\n  const { uri, body, headers, method = 'GET' } = src;\\n\\n  const data =\\n    !BROWSER && getAbsoluteLocalPath(uri)\\n      ? await fetchLocalFile(uri)\\n      : await fetchRemoteFile(uri, { body, headers, method });\\n\\n  const extension = getImageFormat(data);\\n\\n  return getImage(data, extension);\\n};\\n\\nconst resolveImage = (src, { cache = true } = {}) => {\\n  const cacheKey = src.data ? src.data.toString() : src.uri;\\n\\n  if (cache && IMAGE_CACHE.get(cacheKey)) {\\n    return IMAGE_CACHE.get(cacheKey);\\n  }\\n\\n  let image;\\n  if (isCompatibleBase64(src)) {\\n    image = resolveBase64Image(src);\\n  } else if (Buffer.isBuffer(src)) {\\n    image = resolveBufferImage(src);\\n  } else if (typeof src === 'object' && src.data) {\\n    image = resolveImageFromData(src);\\n  } else {\\n    image = resolveImageFromUrl(src);\\n  }\\n\\n  if (!image) {\\n    throw new Error('Cannot resolve image');\\n  }\\n\\n  if (cache) {\\n    IMAGE_CACHE.set(cacheKey, image);\\n  }\\n\\n  return image;\\n};\\n\\nexport default resolveImage;\\n\\n[end of resolve.js]\\n\\n</code>\\n\\nHere is an example of a patch file. It consists of changes to the code base. It specifies the file names, the line numbers of each change, and the removed and added lines. A single patch file can contain changes to multiple files.\\n\\n<patch>\\ndiff --git a/file.py b/file.py\\n--- a/file.py\\n+++ b/file.py\\n@@ -1,27 +1,35 @@\\n def euclidean(a, b):\\n-    while b:\\n-        a, b = b, a % b\\n-    return a\\n+    if b == 0:\\n+        return a\\n+    return euclidean(b, a % b)\\n \\n def bresenham(x0, y0, x1, y1):\\n+    points = []\\n+    dx = abs(x1 - x0)\\n+    dy = abs(y1 - y0)\\n+    sx = 1 if x0 < x1 else -1\\n+    sy = 1 if y0 < y1 else -1\\n+    err = dx - dy\\n+    \\n     while True:\\n-        plot(x0, y0)\\n+        points.append((x0, y0))\\n         if x0 == x1 and y0 == y1:\\n             break\\n-        e2 = 2 * err\\n-        if e2 > -dy:\\n-            err -= dy\\n-            x0 += sx\\n-        if e2 < dx:\\n-            err += dx\\n-            y0 += sy\\n+        e2 = 2 * err\\n+        if e2 > -dy:\\n+            err -= dy\\n+            x0 += sx\\n+        if e2 < dx:\\n+            err += dx\\n+            y0 += sy\\n+    return points\\n+</patch>\\n\\nI need you to solve the provided issue by generating a single patch file that I can apply directly to this repository using git apply. Please respond with a single patch file in the format shown above.\\n\\nRespond below: \\n\"}]",
      "retrieved_file_paths": [
        "bug_report.md",
        "image.d.ts",
        "index.d.ts",
        "CONTRIBUTING.md",
        "resolve.js"
      ]
    },
    "retrieved_documents": [
      {
        "id": "62ec4b36-1585-49a0-895a-0ef0f44bd44e",
        "score": 0.01639344262295082,
        "payload": {
          "text": "---\nname: Bug report\nabout: Create a report to help us improve\ntitle: ''\nlabels: ''\nassignees: ''\n\n---\n\n**Describe the bug**\nA clear and concise description of what the bug is.\n\n**To Reproduce**\nSteps to reproduce the behavior including code snippet (if applies):\n1. Go to '...'\n2. Click on '....'\n3. Scroll down to '....'\n4. See error\n\n_You can make use of [react-pdf REPL](https://react-pdf/repl) to share the snippet_\n\n**Expected behavior**\nA clear and concise description of what you expected to happen.\n\n**Screenshots**\nIf applicable, add screenshots to help explain your problem.\n\n**Desktop (please complete the following information):**\n - OS: [e.g. MacOS, Windows]\n - Browser [e.g. chrome, safari]\n - React-pdf version [e.g. v1.1.0]\n\n<!-- Love react-pdf? Please consider supporting our collective:\n\ud83d\udc49  https://opencollective.com/react-pdf/donate -->\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/.github/ISSUE_TEMPLATE/bug_report.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "62ec4b36-1585-49a0-895a-0ef0f44bd44e"
        }
      },
      {
        "id": "d1cee081-77a8-4094-a6c5-f08a54ade954",
        "score": 0.016129032258064516,
        "payload": {
          "text": "type HTTPMethod = 'GET' | 'HEAD' | 'POST' | 'PUT' | 'DELETE' | 'PATCH';\n\nexport type SourceObject =\n  | string\n  | { data: Buffer; format: 'png' | 'jpg' }\n  | { uri: string; method: HTTPMethod; body: any; headers: any };\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/packages/types/image.d.ts",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "d1cee081-77a8-4094-a6c5-f08a54ade954"
        }
      },
      {
        "id": "0337b7eb-280b-42d4-99bd-6b34d7a62963",
        "score": 0.015873015873015872,
        "payload": {
          "text": "declare module '@react-pdf/renderer' {\n  import * as React from 'react';\n  import {\n    Style,\n    PageSize,\n    FontStore,\n    Orientation,\n    SourceObject,\n    HyphenationCallback,\n    SVGPresentationAttributes,\n  } from '@react-pdf/types';\n\n  namespace ReactPDF {\n    interface Styles {\n      [key: string]: Style;\n    }\n\n    interface OnRenderProps {\n      blob?: Blob;\n    }\n\n    interface DocumentProps {\n      title?: string;\n      author?: string;\n      subject?: string;\n      keywords?: string;\n      creator?: string;\n      producer?: string;\n      onRender?: (props: OnRenderProps) => any;\n    }\n\n    /**\n     * This component represent the PDF document itself. It must be the root\n     * of your tree element structure, and under no circumstances should it be\n     * used as children of another react-pdf component. In addition, it should\n     * only have childs of type <Page />.\n     */\n    class Document extends React.Component<DocumentProps> {}\n\n    interface NodeProps {\n      id?: string;\n      style?: Style | Style[];\n      /**\n       * Render component in all wrapped pages.\n       * @see https://react-pdf.org/advanced#fixed-components\n       */\n      fixed?: boolean;\n      /**\n       * Force the wrapping algorithm to start a new page when rendering the\n       * element.\n       * @see https://react-pdf.org/advanced#page-breaks\n       */\n      break?: boolean;\n      /**\n       * Hint that no page wrapping should occur between all sibling elements following the element within n points\n       * @see https://react-pdf.org/advanced#orphan-&-widow-protection\n       */\n      minPresenceAhead?: number;\n    }\n\n    interface PageProps extends NodeProps {\n      /**\n       * Enable page wrapping for this page.\n       * @see https://react-pdf.org/components#page-wrapping\n       */\n      wrap?: boolean;\n      /**\n       * Enables debug mode on page bounding box.\n       * @see https://react-pdf.org/advanced#debugging\n       */\n      debug?: boolean;\n      size?: PageSize;\n      orientation?: Orientation;\n    }\n\n    /**\n     * Represents single page inside the PDF document, or a subset of them if\n     * using the wrapping feature. A <Document /> can contain as many pages as\n     * you want, but ensure not rendering a page inside any component besides\n     * Document.\n     */\n    class Page extends React.Component<PageProps> {}\n\n    interface ViewProps extends NodeProps {\n      id?: string;\n      /**\n       * Enable/disable page wrapping for element.\n       * @see https://react-pdf.org/components#page-wrapping\n       */\n      wrap?: boolean;\n      /**\n       * Enables debug mode on page bounding box.\n       * @see https://react-pdf.org/advanced#debugging\n       */\n      debug?: boolean;\n      render?: (props: {\n        pageNumber: number;\n        subPageNumber: number;\n      }) => React.ReactNode;\n      children?: React.ReactNode;\n      id?: string;\n    }\n\n    /**\n     * The most fundamental component for building a UI and is designed to be\n     * nested inside other views and can have 0 to many children.\n     */\n    class View extends React.Component<ViewProps> {}\n\n    interface BaseImageProps extends NodeProps {\n      /**\n       * Enables debug mode on page bounding box.\n       * @see https://react-pdf.org/advanced#debugging\n       */\n      debug?: boolean;\n      cache?: boolean;\n    }\n\n    interface ImageWithSrcProp extends BaseImageProps {\n      src: SourceObject;\n    }\n\n    interface ImageWithSourceProp extends BaseImageProps {\n      source: SourceObject;\n    }\n\n    type ImageProps = ImageWithSrcProp | ImageWithSourceProp;\n\n    /**\n     * A React component for displaying network or local (Node only) JPG or\n     * PNG images, as well as base64 encoded image strings.\n     */\n    class Image extends React.Component<ImageProps> {}\n\n    interface TextProps extends NodeProps {\n      id?: string;\n      /**\n       * Enable/disable page wrapping for element.\n       * @see https://react-pdf.org/components#page-wrapping\n       */\n      wrap?: boolean;\n      /**\n       * Enables debug mode on page bounding box.\n       * @see https://react-pdf.org/advanced#debugging\n       */\n      debug?: boolean;\n      render?: (props: {\n        pageNumber: number;\n        totalPages: number;\n        subPageNumber: number;\n        subPageTotalPages: number;\n      }) => React.ReactNode;\n      children?: React.ReactNode;\n      id?: string;\n      /**\n       * Override the default hyphenation-callback\n       * @see https://react-pdf.org/fonts#registerhyphenationcallback\n       */\n      hyphenationCallback?: HyphenationCallback;\n      /**\n       * Specifies the minimum number of lines in a text element that must be shown at the bottom of a page or its container.\n       * @see https://react-pdf.org/advanced#orphan-&-widow-protection\n       */\n      orphans?: number;\n      /**\n       * Specifies the minimum number of lines in a text element that must be shown at the top of a page or its container..\n       * @see https://react-pdf.org/advanced#orphan-&-widow-protection\n       */\n      widows?: number;\n    }\n\n    interface SVGTextProps extends SVGPresentationAttributes {\n      style?: SVGPresentationAttributes;\n      x: string | number;\n      y: string | number;\n      /**\n       * Override the default hyphenation-callback\n       * @see https://react-pdf.org/fonts#registerhyphenationcallback\n       */\n      hyphenationCallback?: HyphenationCallback;\n    }\n\n    /**\n     * A React component for displaying text. Text supports nesting of other\n     * Text or Link components to create inline styling.\n     */\n    class Text extends React.Component<TextProps | SVGTextProps> {}\n\n    interface LinkProps extends NodeProps {\n      /**\n       * Enable/disable page wrapping for element.\n       * @see https://react-pdf.org/components#page-wrapping\n       */\n      wrap?: boolean;\n      /**\n       * Enables debug mode on page bounding box.\n       * @see https://react-pdf.org/advanced#debugging\n       */\n      debug?: boolean;\n      src: string;\n      children?: React.ReactNode;\n    }\n\n    /**\n     * A React component for displaying a hyperlink. Link\u2019s can be nested\n     * inside a Text component, or being inside any other valid primitive.\n     */\n    class Link extends React.Component<LinkProps> {}\n\n    interface NoteProps extends NodeProps {\n      children: string;\n    }\n\n    class Note extends React.Component<NoteProps> {}\n\n    interface CanvasProps extends NodeProps {\n      /**\n       * Enables debug mode on page bounding box.\n       * @see https://react-pdf.org/advanced#debugging\n       */\n      debug?: boolean;\n      paint: (\n        painter: any,\n        availableWidth: number,\n        availableHeight: number,\n      ) => null;\n    }\n\n    class Canvas extends React.Component<CanvasProps> {}\n\n    interface SVGProps extends NodeProps {\n      /**\n       * Enables debug mode on page bounding box.\n       * @see https://react-pdf.org/advanced#debugging\n       */\n      debug?: boolean;\n      width?: string | number;\n      height?: string | number;\n      viewBox?: string;\n      preserveAspectRatio?: string;\n    }\n\n    /**\n     * The <SVG /> element is a container that defines a new coordinate system and viewport. It is used as the outermost element of SVG documents.\n     */\n    class Svg extends React.Component<SVGProps> {}\n\n    interface LineProps extends SVGPresentationAttributes {\n      style?: SVGPresentationAttributes;\n      x1: string | number;\n      x2: string | number;\n      y1: string | number;\n      y2: string | number;\n    }\n\n    /**\n     * The <Line /> element is used to create a line.\n     */\n    class Line extends React.Component<LineProps> {}\n\n    interface PolylineProps extends SVGPresentationAttributes {\n      style?: SVGPresentationAttributes;\n      points: string;\n    }\n\n    /**\n     * The <Polyline /> element is used to create any shape that consists of only straight lines (that is connected at several points).\n     */\n    class Polyline extends React.Component<PolylineProps> {}\n\n    interface PolygonProps extends SVGPresentationAttributes {\n      style?: SVGPresentationAttributes;\n      points: string;\n    }\n\n    /**\n     * The <Polygon /> element is used to create a graphic that contains at least three sides.\n     * Polygons are made of straight lines, and the shape is \"closed\" (all the lines connect up).\n     */\n    class Polygon extends React.Component<PolygonProps> {}\n\n    interface PathProps extends SVGPresentationAttributes {\n      style?: SVGPresentationAttributes;\n      d: string;\n    }\n\n    /**\n     * The <Path /> element is the most powerful element in the SVG library of basic shapes. It can be used to create lines, curves, arcs, and more.\n     */\n    class Path extends React.Component<PathProps> {}\n\n    interface RectProps extends SVGPresentationAttributes {\n      style?: SVGPresentationAttributes;\n      x: string | number;\n      y: string | number;\n      width: string | number;\n      height: string | number;\n      rx?: string | number;\n      ry?: string | number;\n    }\n\n    /**\n     * The <Rect /> element is used to create a rectangle and variations of a rectangle shape.\n     */\n    class Rect extends React.Component<RectProps> {}\n\n    interface CircleProps extends SVGPresentationAttributes {\n      style?: SVGPresentationAttributes;\n      cx: string | number;\n      cy: string | number;\n      r: string | number;\n    }\n\n    /**\n     * The <Circle /> element is used to create a circle.\n     */\n    class Circle extends React.Component<CircleProps> {}\n\n    interface EllipseProps extends SVGPresentationAttributes {\n      style?: SVGPresentationAttributes;\n      cx: string | number;\n      cy: string | number;\n      rx: string | number;\n      ry: string | number;\n    }\n\n    /**\n     * The <Ellipse /> element is used to create an ellipse.\n     * An ellipse is closely related to a circle. The difference is that an ellipse has an x and a y radius that differs from each other, while a circle has equal x and y radius.\n     */\n    class Ellipse extends React.Component<EllipseProps> {}\n\n    interface GProps extends SVGPresentationAttributes {}\n\n    /**\n     * The <G /> SVG element is a container used to group other SVG elements.\n     * Transformations applied to the <G /> element are performed on its child elements, and its attributes are inherited by its children.\n     */\n    class G extends React.Component<GProps> {}\n\n    interface StopProps {\n      offset: string | number;\n      stopColor: string;\n      stopOpacity?: string | number;\n    }\n\n    /**\n     * The SVG <Stop /> element defines a color and its position to use on a gradient. This element is always a child of a <LinearGradient /> or <RadialGradient /> element\n     */\n    class Stop extends React.Component<StopProps> {}\n\n    interface DefsProps {}\n\n    /**\n     * The <Defs /> element is used to store graphical objects that will be used at a later time. Objects created inside a <Defs /> element are not rendered directly. To display them you have to reference them\n     */\n    class Defs extends React.Component<DefsProps> {}\n\n    interface ClipPathProps {\n      id?: string;\n    }\n\n    /**\n     * The <ClipPath /> SVG element defines a clipping path, to be used by the clipPath property.\n     * A clipping path restricts the region to which paint can be applied. Conceptually, parts of the drawing that lie outside of the region bounded by the clipping path are not drawn.\n     */\n    class ClipPath extends React.Component<ClipPathProps> {}\n\n    interface LinearGradientProps {\n      x1: string | number;\n      x2: string | number;\n      y1: string | number;\n      y2: string | number;\n    }\n\n    /**\n     * The <LinearGradient /> element lets authors define linear gradients that can be applied to fill or stroke of graphical elements.\n     */\n    class LinearGradient extends React.Component<LinearGradientProps> {}\n\n    interface RadialGradientProps {\n      cx: string | number;\n      cy: string | number;\n      fr: string | number;\n      fx: string | number;\n      fy: string | number;\n    }\n\n    /**\n     * The <RadialGradient /> element lets authors define radial gradients that can be applied to fill or stroke of graphical elements.\n     */\n    class RadialGradient extends React.Component<RadialGradientProps> {}\n\n    interface BlobProviderParams {\n      blob: Blob | null;\n      url: string | null;\n      loading: boolean;\n      error: Error | null;\n    }\n    interface BlobProviderProps {\n      document: React.ReactElement<DocumentProps>;\n      children: (params: BlobProviderParams) => React.ReactNode;\n    }\n\n    /**\n     * Easy and declarative way of getting document's blob data without\n     * showing it on screen.\n     * @see https://react-pdf.org/advanced#on-the-fly-rendering\n     * @platform web\n     */\n    class BlobProvider extends React.Component<BlobProviderProps> {}\n\n    interface PDFViewerProps {\n      width?: number | string;\n      height?: number | string;\n      style?: Style | Style[];\n      className?: string;\n      children?: React.ReactElement<DocumentProps>;\n      innerRef?: React.Ref<HTMLIFrameElement>;\n    }\n\n    /**\n     * Iframe PDF viewer for client-side generated documents.\n     * @platform web\n     */\n    class PDFViewer extends React.Component<PDFViewerProps> {}\n\n    interface PDFDownloadLinkProps {\n      document: React.ReactElement<DocumentProps>;\n      fileName?: string;\n      style?: Style | Style[];\n      className?: string;\n      children?:\n        | React.ReactNode\n        | ((params: BlobProviderParams) => React.ReactNode);\n    }\n\n    /**\n     * Anchor tag to enable generate and download PDF documents on the fly.\n     * @see https://react-pdf.org/advanced#on-the-fly-rendering\n     * @platform web\n     */\n    class PDFDownloadLink extends React.Component<PDFDownloadLinkProps> {}\n\n    interface UsePDFInstance {\n      loading: boolean;\n      blob: Blob | null;\n      url: string | null;\n      error: string | null;\n    }\n\n    /**\n     * React hook for creating and updating a PDF document instance\n     * @platform web\n     */\n    function usePDF(options: {\n      document: React.ReactElement<DocumentProps>;\n    }): [UsePDFInstance, () => void];\n\n    const Font: FontStore;\n\n    const StyleSheet: {\n      hairlineWidth: number;\n      create: <T extends Styles>(styles: T) => T;\n      resolve: (\n        style: Style,\n        container: {\n          width: number;\n          height: number;\n          orientation: Orientation;\n        },\n      ) => Style;\n      flatten: (...styles: (Style[] | Style | undefined)[]) => Style;\n      absoluteFillObject: {\n        position: 'absolute';\n        left: 0;\n        right: 0;\n        top: 0;\n        bottom: 0;\n      };\n    };\n\n    const version: any;\n\n    const PDFRenderer: any;\n\n    const pdf: (\n      initialValue?: React.ReactElement<DocumentProps>,\n      onChange?: () => {},\n    ) => {\n      container: any;\n      isDirty: () => boolean;\n      updateContainer: (document: React.ReactElement<any>) => void;\n      toBuffer: () => Promise<NodeJS.ReadableStream>;\n      toBlob: () => Promise<Blob>;\n      toString: () => string;\n    };\n\n    const renderToStream: (\n      document: React.ReactElement<DocumentProps>,\n    ) => Promise<NodeJS.ReadableStream>;\n\n    const renderToString: (\n      document: React.ReactElement<DocumentProps>,\n    ) => string;\n\n    const renderToFile: (\n      document: React.ReactElement<DocumentProps>,\n      filePath: string,\n      callback?: (output: NodeJS.ReadableStream, filePath: string) => any,\n    ) => Promise<NodeJS.ReadableStream>;\n\n    const render: typeof renderToFile;\n  }\n\n  const pdf: typeof ReactPDF.pdf;\n  const Document: typeof ReactPDF.Document;\n  const Page: typeof ReactPDF.Page;\n  const View: typeof ReactPDF.View;\n  const Image: typeof ReactPDF.Image;\n  const Text: typeof ReactPDF.Text;\n  const Canvas: typeof ReactPDF.Canvas;\n  const Link: typeof ReactPDF.Link;\n  const Note: typeof ReactPDF.Note;\n  const Svg: typeof ReactPDF.Svg;\n  const Line: typeof ReactPDF.Line;\n  const Polyline: typeof ReactPDF.Polyline;\n  const Polygon: typeof ReactPDF.Polygon;\n  const Path: typeof ReactPDF.Path;\n  const Rect: typeof ReactPDF.Rect;\n  const Circle: typeof ReactPDF.Circle;\n  const Ellipse: typeof ReactPDF.Ellipse;\n  const G: typeof ReactPDF.G;\n  const Stop: typeof ReactPDF.Stop;\n  const Defs: typeof ReactPDF.Defs;\n  const ClipPath: typeof ReactPDF.ClipPath;\n  const LinearGradient: typeof ReactPDF.LinearGradient;\n  const RadialGradient: typeof ReactPDF.RadialGradient;\n  const Font: typeof ReactPDF.Font;\n  const StyleSheet: typeof ReactPDF.StyleSheet;\n  const PDFRenderer: typeof ReactPDF.PDFRenderer;\n  const version: typeof ReactPDF.version;\n  const renderToFile: typeof ReactPDF.renderToFile;\n  const renderToString: typeof ReactPDF.renderToString;\n  const renderToStream: typeof ReactPDF.renderToStream;\n  const usePDF: typeof ReactPDF.usePDF;\n  const PDFViewer: typeof ReactPDF.PDFViewer;\n  const BlobProvider: typeof ReactPDF.BlobProvider;\n  const PDFDownloadLink: typeof ReactPDF.PDFDownloadLink;\n\n  export default ReactPDF;\n\n  export {\n    pdf,\n    Document,\n    Page,\n    View,\n    Image,\n    Text,\n    Canvas,\n    Link,\n    Note,\n    Svg,\n    Line,\n    Polyline,\n    Polygon,\n    Path,\n    Rect,\n    Circle,\n    Ellipse,\n    G,\n    Stop,\n    Defs,\n    ClipPath,\n    LinearGradient,\n    RadialGradient,\n    Font,\n    StyleSheet,\n    PDFRenderer,\n    version,\n    renderToFile,\n    renderToStream,\n    renderToString,\n    usePDF,\n    PDFViewer,\n    BlobProvider,\n    PDFDownloadLink,\n  };\n}\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/packages/renderer/index.d.ts",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "0337b7eb-280b-42d4-99bd-6b34d7a62963"
        }
      },
      {
        "id": "390d9984-4d3e-4987-a216-26be5f3deba4",
        "score": 0.015625,
        "payload": {
          "text": "# Contribute\n\n## Introduction\n\nFirst, thank you for considering contributing to react-pdf!\n\nWe welcome any type of contribution, not only code. You can help with \n- **QA**: file bug reports, the more details you can give the better (e.g. screenshots with the console open)\n- **Marketing**: writing blog posts, howto's, printing stickers, ...\n- **Community**: presenting the project at meetups, organizing a dedicated meetup for the local community, ...\n- **Code**: take a look at the [open issues](https://github.com/diegomura/react-pdf/issues). Even if you can't write code, commenting on them, showing that you care about a given issue matters. It helps us triage them.\n- **Money**: we welcome financial contributions in full transparency on our [open collective](https://opencollective.com/react-pdf).\n\n## Your First Contribution\n\nWorking on your first Pull Request? You can learn how from this *free* series, [How to Contribute to an Open Source Project on GitHub](https://egghead.io/series/how-to-contribute-to-an-open-source-project-on-github).\n\n## Submitting code\n\nAny code change should be submitted as a pull request. The description should explain what the code does and give steps to execute it. The pull request should also contain tests.\n\n## Code review process\n\nThe bigger the pull request, the longer it will take to review and merge. Try to break down large pull requests in smaller chunks that are easier to review and merge.\nIt is also always helpful to have some context for your pull request. What was the purpose? Why does it matter to you?\n\n## Financial contributions\n\nWe also welcome financial contributions in full transparency on our [open collective](https://opencollective.com/react-pdf).\nAnyone can file an expense. If the expense makes sense for the development of the community, it will be \"merged\" in the ledger of our open collective by the core contributors and the person who filed the expense will be reimbursed.\n\n## Questions\n\nIf you have any questions, create an [issue](https://github.com/diegomura/react-pdf/issues) (protip: do a quick search first to see if someone else didn't ask the same question before!).\nYou can also reach us at hello@react-pdf.opencollective.com.\n\n## Credits\n\n### Contributors\n\nThank you to all the people who have already contributed to react-pdf!\n<a href=\"/diegomura/react-pdf/graphs/contributors\"><img src=\"https://opencollective.com/react-pdf/contributors.svg?width=890\" /></a>\n\n\n### Backers\n\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\n\n<a href=\"https://opencollective.com/react-pdf#backers\" target=\"_blank\"><img src=\"https://opencollective.com/react-pdf/backers.svg?width=890\"></a>\n\n\n<!-- This `CONTRIBUTING.md` is based on @nayafia's template https://github.com/nayafia/contributing-template -->\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/.github/CONTRIBUTING.md",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "390d9984-4d3e-4987-a216-26be5f3deba4"
        }
      },
      {
        "id": "e26a155e-cd33-4389-9615-1a4b646522eb",
        "score": 0.015384615384615385,
        "payload": {
          "text": "import fs from 'fs';\nimport url from 'url';\nimport path from 'path';\nimport fetch from 'cross-fetch';\n\nimport PNG from './png';\nimport JPEG from './jpeg';\nimport createCache from './cache';\n\nexport const IMAGE_CACHE = createCache({ limit: 30 });\n\nconst getAbsoluteLocalPath = src => {\n  if (BROWSER) {\n    throw new Error('Cannot check local paths in client-side environment');\n  }\n\n  const { protocol, auth, host, port, hostname, path: pathname } = url.parse(\n    src,\n  );\n  const absolutePath = path.resolve(pathname);\n  if ((protocol && protocol !== 'file:') || auth || host || port || hostname) {\n    return undefined;\n  }\n  return absolutePath;\n};\n\nconst fetchLocalFile = src =>\n  new Promise((resolve, reject) => {\n    try {\n      if (BROWSER) {\n        reject(new Error('Cannot fetch local file in this environemnt'));\n        return;\n      }\n      const absolutePath = getAbsoluteLocalPath(src);\n      if (!absolutePath) {\n        reject(new Error(`Cannot fetch non-local path: ${src}`));\n        return;\n      }\n      fs.readFile(absolutePath, (err, data) =>\n        err ? reject(err) : resolve(data),\n      );\n    } catch (err) {\n      reject(err);\n    }\n  });\n\nconst fetchRemoteFile = async (uri, options) => {\n  const response = await fetch(uri, options);\n\n  const buffer = await (response.buffer\n    ? response.buffer()\n    : response.arrayBuffer());\n\n  return buffer.constructor.name === 'Buffer' ? buffer : Buffer.from(buffer);\n};\n\nconst isValidFormat = format => {\n  const lower = format.toLowerCase();\n  return lower === 'jpg' || lower === 'jpeg' || lower === 'png';\n};\n\nconst guessFormat = buffer => {\n  let format;\n\n  if (JPEG.isValid(buffer)) {\n    format = 'jpg';\n  } else if (PNG.isValid(buffer)) {\n    format = 'png';\n  }\n\n  return format;\n};\n\nconst isCompatibleBase64 = ({ uri }) =>\n  /^data:image\\/[a-zA-Z]*;base64,[^\"]*/g.test(uri);\n\nfunction getImage(body, extension) {\n  switch (extension.toLowerCase()) {\n    case 'jpg':\n    case 'jpeg':\n      return new JPEG(body);\n    case 'png':\n      return new PNG(body);\n    default:\n      return null;\n  }\n}\n\nconst resolveBase64Image = ({ uri }) => {\n  const match = /^data:image\\/([a-zA-Z]*);base64,([^\"]*)/g.exec(uri);\n  const format = match[1];\n  const data = match[2];\n\n  if (!isValidFormat(format)) {\n    throw new Error(`Base64 image invalid format: ${format}`);\n  }\n\n  return new Promise(resolve => {\n    return resolve(getImage(Buffer.from(data, 'base64'), format));\n  });\n};\n\nconst resolveImageFromData = src => {\n  if (src.data && src.format) {\n    return new Promise(resolve => resolve(getImage(src.data, src.format)));\n  }\n\n  throw new Error(`Invalid data given for local file: ${JSON.stringify(src)}`);\n};\n\nconst resolveBufferImage = buffer => {\n  const format = guessFormat(buffer);\n\n  if (format) {\n    return new Promise(resolve => resolve(getImage(buffer, format)));\n  }\n\n  return Promise.resolve();\n};\n\nconst getImageFormat = body => {\n  const isPng =\n    body[0] === 137 &&\n    body[1] === 80 &&\n    body[2] === 78 &&\n    body[3] === 71 &&\n    body[4] === 13 &&\n    body[5] === 10 &&\n    body[6] === 26 &&\n    body[7] === 10;\n\n  const isJpg = body[0] === 255 && body[1] === 216 && body[2] === 255;\n\n  let extension = '';\n  if (isPng) {\n    extension = 'png';\n  } else if (isJpg) {\n    extension = 'jpg';\n  } else {\n    throw new Error('Not valid image extension');\n  }\n\n  return extension;\n};\n\nconst resolveImageFromUrl = async src => {\n  const { uri, body, headers, method = 'GET' } = src;\n\n  const data =\n    !BROWSER && getAbsoluteLocalPath(uri)\n      ? await fetchLocalFile(uri)\n      : await fetchRemoteFile(uri, { body, headers, method });\n\n  const extension = getImageFormat(data);\n\n  return getImage(data, extension);\n};\n\nconst resolveImage = (src, { cache = true } = {}) => {\n  const cacheKey = src.data ? src.data.toString() : src.uri;\n\n  if (cache && IMAGE_CACHE.get(cacheKey)) {\n    return IMAGE_CACHE.get(cacheKey);\n  }\n\n  let image;\n  if (isCompatibleBase64(src)) {\n    image = resolveBase64Image(src);\n  } else if (Buffer.isBuffer(src)) {\n    image = resolveBufferImage(src);\n  } else if (typeof src === 'object' && src.data) {\n    image = resolveImageFromData(src);\n  } else {\n    image = resolveImageFromUrl(src);\n  }\n\n  if (!image) {\n    throw new Error('Cannot resolve image');\n  }\n\n  if (cache) {\n    IMAGE_CACHE.set(cacheKey, image);\n  }\n\n  return image;\n};\n\nexport default resolveImage;\n",
          "filepath": "data/repos/diegomura/react-pdf-2.0/packages/image/src/resolve.js",
          "repo": "diegomura/react-pdf",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "e26a155e-cd33-4389-9615-1a4b646522eb"
        }
      }
    ]
  },
  {
    "instance_id": "processing__p5.js-4147",
    "model_patch": "diff --git a/src/core/p5.RendererGL.js b/src/core/p5.RendererGL.js\nindex 1234567..89abcde 100644\n--- a/src/core/p5.RendererGL.js\n+++ b/src/core/p5.RendererGL.js\n@@ -500,6 +500,7 @@ p5.RendererGL.prototype._initContext = function() {\n   this._setDefaultCamera();\n   this._setDefaultLight();\n   this._setDefaultMaterial();\n+  this._setDefaultVertexColor();\n };\n \n /**\n@@ -1500,6 +1501,15 @@ p5.RendererGL.prototype._setDefaultMaterial = function() {\n   this._useNormalMaterial = false;\n };\n \n+/**\n+ * Set default vertex color mode.\n+ * @private\n+ */\n+p5.RendererGL.prototype._setDefaultVertexColor = function() {\n+  this._useVertexColor = true;\n+  this._vertexColorMode = this._gl.VERTEX_COLOR;\n+};\n+\n /**\n  * Set default light properties.\n  * @private\n@@ -2000,7 +2010,7 @@ p5.RendererGL.prototype._bindBuffers = function() {\n \n   // Enable vertex attributes\n   this._gl.enableVertexAttribArray(this._attributes.aPosition);\n-  this._gl.disableVertexAttribArray(this._attributes.aColor);\n+  this._gl.enableVertexAttribArray(this._attributes.aColor);\n   this._gl.enableVertexAttribArray(this._attributes.aNormal);\n   this._gl.enableVertexAttribArray(this._attributes.aTexCoord);",
    "model_name_or_path": "text_bm25",
    "metrics": {
      "issue_embedding_time_ms": 0.0,
      "retrieval_time_ms_bm25": 215.94,
      "retrieval_time_ms": 215.94,
      "total_retrieval_time_ms": 215.94,
      "generation_time_ms": 4313.14,
      "total_io_time_ms": 4529.08,
      "input_total_token_limit": null,
      "issue_text_tokens": 635,
      "vlm_tokens": 0,
      "retrieved_tokens": 14999,
      "prompt_template_tokens": 514,
      "total_input_prompt_tokens": 16148,
      "output_generated_tokens": 334,
      "total_io_tokens": 16482,
      "input_prompt_text": "[{\"type\": \"text\", \"text\": \"You will be provided with a partial code base and an issue statement explaining a problem to resolve.\\n<issue>\\nWEBGL vertex color no longer working as expected in 0.8.0\\nI read multiple issues related to WEBGL but I could not find this one. It seems something broke between 0.8.0 and 0.9.0. \\r\\n\\r\\n#### Nature of issue?\\r\\n\\r\\n- [x] Found a bug\\r\\n- [ ] Existing feature enhancement\\r\\n- [ ] New feature request\\r\\n\\r\\n#### Most appropriate sub-area of p5.js?\\r\\n\\r\\n- [x] Color\\r\\n- [ ] Core/Environment/Rendering\\r\\n- [ ] Data\\r\\n- [ ] Events\\r\\n- [ ] Image\\r\\n- [ ] IO\\r\\n- [ ] Math\\r\\n- [ ] Typography\\r\\n- [ ] Utilities\\r\\n- [x] WebGL\\r\\n- [ ] Other (specify if possible)\\r\\n\\r\\n#### Which platform were you using when you encountered this?\\r\\n\\r\\n- [ ] Mobile/Tablet (touch devices)\\r\\n- [x] Desktop/Laptop\\r\\n- [ ] Others (specify if possible)\\r\\n\\r\\n#### Details about the bug: \\r\\n\\r\\n- p5.js version: 0.9.0\\r\\n- Web browser and version: 78.0.3904.97\\r\\n- Operating System: Windows 10\\r\\n- Steps to reproduce this:\\r\\n\\r\\n1) Using the p4js editor, create a new sketch, and make sure the HTML has a reference to p5js version 0.9.0\\r\\n2) Paste the following code to the editor and hit play. A live version is available [here](https://editor.p5js.org/haschdl/sketches/tlmBNIdjR)\\r\\n\\r\\n```javascript\\r\\nfunction setup() {\\r\\n  createCanvas(500, 500, WEBGL);\\r\\n}\\r\\n\\r\\nfunction draw() {\\r\\n  beginShape();\\r\\n  fill(100,100,20);\\r\\n  vertex(-150, -150);\\r\\n  fill(250);\\r\\n  vertex(150, -150);\\r\\n  fill(200);\\r\\n  vertex(150, 150);\\r\\n  fill(100,50, 100);\\r\\n  vertex(-150, 150);\\r\\n  endShape(CLOSE);\\r\\n}\\r\\n```\\r\\n3) The output will be as follows (using p5.js version 0.9.0):\\r\\n![image](https://user-images.githubusercontent.com/9550197/68548929-8b2a5e00-03f2-11ea-9992-02cb1b185d81.png)\\r\\n\\r\\nChanging the `sketch.hmtl` to use the version **0.8.0**, we get the expected output. A live version is available [here](https://editor.p5js.org/haschdl/sketches/LNpN29qY4). Note the code in `sketch.js` is the same, but the reference inside `sketch.html` is to p5js 0.8.0\\r\\n![image](https://user-images.githubusercontent.com/9550197/68548937-ae550d80-03f2-11ea-9570-682b42bbd7e0.png)\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n#### Feature enhancement details:\\r\\n\\r\\n\\r\\n\\r\\n#### New feature details:\\r\\n\\r\\n\\n\\n</issue>\\n\\n<code>\\n[start of ISSUE_TEMPLATE.md]\\n<!--\\nHi there! \\n\\nPLEASE NOTE: The github issues are for bugs and feature requests for the p5.js library itself. If you have a general question or bug programming with p5.js please post it in the p5.js forum: https://discourse.processing.org\\n\\nTo check any option, replace the \\\"[ ]\\\" with a \\\"[x]\\\". Be sure to check out how it looks in the Preview tab! Feel free to remove any portion of the template that is not relevant for your issue.\\n-->\\n\\n#### Nature of issue?\\n\\n- [ ] Found a bug\\n- [ ] Existing feature enhancement\\n- [ ] New feature request\\n\\n#### Most appropriate sub-area of p5.js?\\n\\n- [ ] Color\\n- [ ] Core/Environment/Rendering\\n- [ ] Data\\n- [ ] Events\\n- [ ] Image\\n- [ ] IO\\n- [ ] Math\\n- [ ] Typography\\n- [ ] Utilities\\n- [ ] WebGL\\n- [ ] Other (specify if possible)\\n\\n#### Which platform were you using when you encountered this?\\n\\n- [ ] Mobile/Tablet (touch devices)\\n- [ ] Desktop/Laptop\\n- [ ] Others (specify if possible)\\n\\n#### Details about the bug: \\n\\n- p5.js version: <!-- You can first this in the first line of the p5.js file -->\\n- Web browser and version: <!-- In the address bar, on Chrome enter \\\"chrome://version\\\", on Firefox enter \\\"about:support\\\". On Safari, use \\\"About Safari\\\". -->\\n- Operating System: <!-- Ex: Windows/MacOSX/Linux along with version -->\\n- Steps to reproduce this:\\n<!-- Include a simple code snippet that demonstrates the problem, along with any console errors produced. If this isn't possible, then simply describe the issue as best you can! -->\\n\\n<!-- If you want to enhance an existing feature, please describe here, otherwise remove this section -->\\n#### Feature enhancement details:\\n\\n\\n<!-- If you want to request a new feature, please describe here, otherwise remove this section -->\\n#### New feature details:\\n\\n\\n[end of ISSUE_TEMPLATE.md]\\n[start of README.md]\\nHello! Thanks for your interest in contributing to p5.js! You can get started with some different ways of contributing [here](https://p5js.org/community/#contribute). This folder contains various documents intended for developers of p5.js.\\n\\n# Project Directory Structure\\n\\n- `src/` contains all the source code for the library, which is topically organized into separated modules. This is what you'll work on if you are changing p5.js.\\n- `lib/` contains the final version of p5.js intended for users to load in their sketches and projects, included in both compressed and uncompressed forms. This is the output when the source code modules are compiled to a single file by [Grunt](https://gruntjs.com/).\\n- `developer_docs/` contains various Markdown documents that are likely to be useful to developers of p5.js, in particular because they explain practices and principles.\\n- `docs/` does not actually contain docs! Rather, it contains the code used to *generate* the [online reference manual](https://p5js.org/reference/).\\n- `tests/` contains unit tests which ensure the library continues to function correctly as changes are made.\\n- `tasks/` contains scripts which perform automated tasks related to the build, deployment, and release of new versions of p5.js.\\n- `patches/` might contain [Git patches](https://git-scm.com/docs/git-format-patch) from time to time, but in almost all cases you can completely ignore this directory.\\n\\n# How To Contribute\\n\\nKnown bugs and intended new features are tracked using [GitHub issues](https://github.com/processing/p5.js/issues). Issue [labels](https://github.com/processing/p5.js/blob/master/developer_docs/issue_labels.md) are used to sort issues into categories, such as those which are [suitable for beginners](https://github.com/processing/p5.js/labels/level%3Abeginner). If you'd like to start working on an existing issue, comment on the issue that you plan to work on it so other contributors know it's being handled and can offer help. Once you have completed your work on this issue, [submit a pull request (PR)](https://github.com/processing/p5.js/blob/master/developer_docs/preparing_a_pull_request.md) against the p5.js master branch. In the description field of the PR, include \\\"resolves #XXXX\\\" tagging the issue you are fixing. If the PR addresses the issue but doesn't completely resolve it (ie the issue should remain open after your PR is merged), write \\\"addresses #XXXX\\\".\\n\\nIf you discover a bug or have an idea for a new feature you'd like to add, begin by submitting an issue. Please do not simply submit a pull request containing the fix or new feature without making an issue first, we will probably not be able to accept it. Once you have gotten some feedback on the issue and a go ahead to address it, you can follow the process above to contribute the fix or feature.\\n\\nYou can triage issues which may include reproducing bug reports or asking for vital information, such as version numbers or reproduction instructions. If you would like to start triaging issues, one easy way to get started is to [subscribe to p5.js on CodeTriage](https://www.codetriage.com/processing/p5.js). [![Open Source Helpers](https://www.codetriage.com/processing/p5.js/badges/users.svg)](https://www.codetriage.com/processing/p5.js)\\n\\nWe recognize all types of contributions. This project follows the [all-contributors](https://github.com/kentcdodds/all-contributors) specification. Add yourself to the [readme](https://github.com/processing/p5.js/blob/master/README.md#contributors) by following the [instructions here](https://github.com/processing/p5.js/issues/2309)!\\n\\n## Accompaniments\\n\\nAside from the code itself, you may also need to supply some combination of the following.\\n\\n- [inline documentation](https://github.com/processing/p5.js/blob/master/developer_docs/inline_documentation.md) in the form of code comments, which explain the code both to other developers and to users. Many of these comments must conform to [JSDoc](https://usejsdoc.org) syntax and will be published on the p5.js website as part of the [online reference manual](https://p5js.org/reference/)\\n- [unit tests](https://github.com/processing/p5.js/tree/master/developer_docs#unit-tests), small pieces of code which are separate from the library and are used to verify its behavior\\n- [benchmarks](https://github.com/processing/p5.js/blob/master/developer_docs/benchmarking_p5.md) to test performance\\n\\n## Examples\\n\\nThe p5.js site includes [integrated examples](http://p5js.org/examples/). You can [add more](https://github.com/processing/p5.js-website/wiki/Adding-examples), and there is an issue which lists some [desired examples](https://github.com/processing/p5.js/issues/1954).\\n\\n## ES6\\np5.js has recently migrated to [ES6](https://en.wikipedia.org/wiki/ECMAScript#6th_Edition_-_ECMAScript_2015). To see how this transition could effect your contribution please visit [ES6 adoption](https://github.com/processing/p5.js/blob/master/developer_docs/es6-adoption.md).\\n\\n## Other Ideas\\n\\nIf you'd like to contribute in other ways which are not covered here, feel free to write to [hello@p5js.org](mailto:hello@p5js.org) and let us know what you're thinking! Aside from working on this codebase, we can always use help with things like documentation, tutorials, workshops, educational materials, branding, and design. Get in touch and we can talk about ways you might participate.\\n\\n# Gotchas\\n\\nThe developer tooling included with the p5.js codebase is intentionally very strict about some things. This is a good thing! It makes everything consistent, and it will encourage you to be disciplined. This means you may try to change something only to have your commit rejected by the project, but don't get discouraged; even seasoned p5.js developers get caught by this stuff all the time. Typically the problem will be in one of two areas.\\n\\n## Code Syntax\\n\\np5.js requires clean and stylistically consistent code syntax, which it enforces with [Prettier](https://prettier.io/) and [ESlint](https://eslint.org/). The rules are checked before you commit, but you can also install an [ESlint plugin](https://eslint.org/docs/user-guide/integrations#editors) for your code editor to highlight errors as soon as you type them, which will probably help you along as you are coding and saves you the hassle of a failed Git commit.\\n\\nTo detect errors, run the following command in your terminal (do not type the `$` prompt):\\n\\n```\\n$ npm run lint\\n```\\n\\nSome syntax errors can be automatically fixed:\\n\\n```\\n$ npm run lint:fix\\n```\\n\\nSticking with the established project style is usually preferable, but [occasionally](https://github.com/processing/p5.js/search?utf8=%E2%9C%93&q=prettier-ignore&type=) using an alternate syntax might make your code easier to understand. For these cases, Prettier [offers an escape hatch](https://prettier.io/docs/en/ignore.html), the `// prettier-ignore` comment, which you can use to make granular exceptions. Try to avoid using this if you can, because there are good reasons for most of the style preferences enforced by the linting.\\n\\n## Unit Tests\\n\\nUnit tests are small pieces of code which are created as complements to the primary logic and perform validation. If you are developing a major new feature for p5.js, you should probably include tests. Do not submit pull requests in which the tests do not pass, because that means something is broken.\\n\\nIn order to run unit tests, you'll need to have previously installed the project's dependencies.\\n\\n```\\n$ npm ci\\n```\\n\\nThis will install *all* the dependencies for p5.js; briefly, the most important dependencies specific to unit testing include:\\n\\n- [Mocha](https://mochajs.org/), a powerful testing framework that executes individual test files which are specific to p5.js\\n- [mocha-chrome](https://github.com/shellscape/mocha-chrome), a mocha plugin that runs mocha tests using headless Google Chrome\\n\\nOnce the dependencies are installed, use Grunt to run the unit tests.\\n\\n```\\n$ grunt\\n```\\n\\nSometimes it is useful to run the tests in the browser instead of on the command line. To do this, first start the [connect](https://github.com/gruntjs/grunt-contrib-connect) server:\\n\\n```\\n$ npm run dev\\n```\\n\\nWith the server running, you should be able to open `test/test.html` in a browser.\\n\\nA complete guide to unit testing is beyond the scope of the p5.js documentation, but the short version is that any major changes or new features implemented in the source code contained in the `src/` directory should also be accompanied by test files in the `test/` directory that can be executed by Mocha to verify consistent behavior in all future versions of the library. When writing unit tests, use the [Chai.js reference](http://www.chaijs.com/api/assert/) as a guide for phrasing your assertion messages so that any errors caught by your tests in the future will be consistent and consequently easier for other developers to understand.\\n\\n# Development Process\\n\\n1. Install [node.js](http://nodejs.org/), which also automatically installs the [npm](https://www.npmjs.org) package manager.\\n2. [Fork](https://help.github.com/articles/fork-a-repo) the [p5.js repository](https://github.com/processing/p5.js) into your own GitHub account.\\n3. [Clone](https://help.github.com/articles/cloning-a-repository/) your new fork of the repository from GitHub onto your local computer.\\n\\n   ```\\n   $ git clone https://github.com/YOUR_USERNAME/p5.js.git\\n   ```\\n\\n4. Navigate into the project folder and install all its necessary dependencies with npm.\\n\\n   ```\\n   $ cd p5.js\\n   $ npm ci\\n   ```\\n\\n5. [Grunt](https://gruntjs.com/) should now be installed, and you can use it to build the library from the source code.\\n\\n   ```\\n   $ npm run grunt\\n   ```\\n\\n   If you're continuously changing files in the library, you may want to run `npm run dev` to automatically rebuild the library for you whenever any of its source files change without you having to first type the command manually.\\n\\n6. Make some changes locally to the codebase and [commit](https://help.github.com/articles/github-glossary/#commit) them with Git.\\n\\n   ```\\n   $ git add -u\\n   $ git commit -m \\\"YOUR COMMIT MESSAGE\\\"\\n   ```\\n\\n7. Run `npm run grunt` again to make sure there are no syntax errors, test failures, or other problems.\\n\\n8. [Push](https://help.github.com/articles/github-glossary/#push) your new changes to your fork on GitHub.\\n\\n   ```\\n   $ git push\\n   ```\\n\\n9. Once everything is ready, submit your changes as a [pull request](https://help.github.com/articles/creating-a-pull-request).\\n\\nThis process is also covered [in a video by The Coding Train.](https://youtu.be/Rr3vLyP1Ods) :train::rainbow:\\n\\n# Building Documentation\\n\\nInline comments in p5.js are built into the public-facing [reference manual](https://p5js.org/reference/). You can also view this locally:\\n\\n```\\n$ npm run docs:dev\\n```\\n# Repositories\\n\\nThe overarching p5.js project includes repositories other than this one.\\n\\n- [p5.js](https://github.com/processing/p5.js): This repository contains the source code for the p5.js library. The [user-facing p5.js reference manual](https://p5js.org/reference/) is also generated from the [JSDoc](http://usejsdoc.org/) comments included in this source code. It is maintained by [Lauren McCarthy](https://github.com/lmccart).\\n- [website](https://github.com/processing/p5.js-website) This repository contains most of the code for the [p5.js website](http://p5js.org), with the exception of the reference manual. It is maintained by [Lauren McCarthy](https://github.com/lmccart).\\n- [sound](https://github.com/processing/p5.js-sound) This repository contains the p5.sound.js library. It is maintained by [Jason Sigal](https://github.com/therewasaguy).\\n- [web editor](https://github.com/processing/p5.js-web-editor): This repository contains the source code for the [p5.js web editor](https://editor.p5js.org). It is maintained by [Cassie Tarakajian](https://github.com/catarak). Note that the older [p5.js editor](https://github.com/processing/p5.js-editor) is now deprecated.\\n\\n# Miscellaneous\\n\\n- [Looking Inside p5.js](http://www.luisapereira.net/teaching/looking-inside-p5/) is a video tour of the tools and files used in the p5.js development workflow.\\n- The p5.js [Docker image](https://github.com/toolness/p5.js-docker) can be mounted in [Docker](https://www.docker.com/) and used to develop p5.js without requiring manual installation of requirements like [Node](https://nodejs.org/) or otherwise affecting the host operating system in any way, aside from the installation of Docker.\\n- The build process for the p5.js library generates a [json data file](https://p5js.org/reference/data.json) which contains the public API of p5.js and can be used in automated tooling, such as for autocompleting p5.js methods in an editor. This file is hosted on the p5.js website, but it is not included as part of the repository.\\n\\n[end of README.md]\\n[start of friendly_error_system.md]\\n# p5.js Friendly Error System (FES)\\n\\n## Overview\\n\\nThe Friendly Error System (FES) is a system designed to help new programmers with common user errors as they get started learning. It catches common beginning errors and provides clear language and links to help a user resolve the error. FES is only applied to functions that are ones a user might encounter when they are just starting. An exception is made for particular common gotchas such as trying to load files without running a server, or calling loadImage() with a URL, etc.\\n\\nThe goal is to create accessible error messages to supplement the often cryptic console errors. For example, Javascript has no support for type checking as default making errors in parameter entry was harder to detect for new Javascript developers.\\n\\nMessages generated by FES are written in natural language, linked to documentation, and assume a beginner level. The errors are triggered in multiple files through out p5.js, but most of the work and error writing happens in `src/core/error_helpers.js`.  \\n\\nBy default, FES is enabled for `p5.js`, whereas completely disabled in `p5.min.js`. It is possible to disable FES by setting `p5.disableFriendlyErrors = true;`.\\n\\nSo far FES is able to detect and print messages for two kinds of errors: (1) `validateParameters()` checks a function\\u2019s input parameters based on inline documentations and (2) `friendlyFileLoadError()` catches file loading errors. These two kinds of error checking have been integrated into an existing (selected set of) p5 functions, but developers can add them to more p5 functions, or their own libraries, by calling `p5._validateParameters()`. \\n\\nFES provides a generalized error message generation system that developers may use by calling `p5._friendlyError()`.\\n\\n### `core/error_helpers/friendlyFileLoadError()`: \\n* This function generates and displays friendly error messages if a file fails to load correctly. It also checks if the size of a file might be too large to load and produces a warning. \\n* This can be called through : `p5._friendlyFileLoadError(ERROR_TYPE, FILE_PATH)`.\\n* file loading error example:\\n````javascript\\n/// missing font file\\nlet myFont;\\nfunction preload() {\\n  myFont = loadFont('assets/OpenSans-Regular.ttf');\\n};\\nfunction setup() {\\n  fill('#ED225D');\\n  textFont(myFont);\\n  textSize(36);\\n  text('p5*js', 10, 50);\\n};\\nfunction draw() {};\\n/// FES will generate the following message in the console:\\n/// > p5.js says: It looks like there was a problem loading your font. Try checking if the file path [assets/OpenSans-Regular.ttf] is correct, hosting the font online, or running a local server.[https://github.com/processing/p5.js/wiki/Local-server]\\n````\\n* Currently version contains templates for generating error messages for `image`, `XML`, `table`, `text`, `json` and `font` files.\\n* Implemented to `image/loading_displaying/loadImage()`, `io/files/loadFont()`, `io/files/loadTable()`, `io/files/loadJSON()`, `io/files/loadStrings()`, `io/files/loadXML()`, `io/files/loadBytes()`.\\n* Error while loading a file due to its large size is implemented to all loadX methods.\\n\\n### `core/error_helpers/validateParameters()`:\\n* This function runs parameter validation by matching the input parameters with information from `docs/reference/data.json`, which is created from the function's inline documentation. It checks that a function call contains the correct number and the correct type of parameters. \\n* missing parameter example:\\n````javascript\\narc(1, 1, 10.5, 10);\\n/// FES will generate the following message in the console:\\n/// > p5.js says: It looks like arc() received an empty variable in spot #4 (zero-based index). If not intentional, this is often a problem with scope: [https://p5js.org/examples/data-variable-scope.html]. [http://p5js.org/reference/#p5/arc]\\n/// > p5.js says: It looks like arc() received an empty variable in spot #5 (zero-based index). If not intentional, this is often a problem with scope: [https://p5js.org/examples/data-variable-scope.html]. [http://p5js.org/reference/#p5/arc]\\n\\n````\\n* wrong type example:\\n````javascript\\narc('1', 1, 10.5, 10, 0, Math.PI, 'pie');\\n/// FES will generate the following message in the console:\\n/// > p5.js says: arc() was expecting Number for parameter #0 (zero-based index), received string instead. [http://p5js.org/reference/#p5/arc]\\n````\\n* This can be called through: `p5._validateParameters(FUNCT_NAME, ARGUMENTS)` \\nor, `p5.prototype._validateParameters(FUNCT_NAME, ARGUMENTS)` inside the function that requires parameter validation. It is recommended to use static version, `p5._validateParameters` for general purposes. `p5.prototype._validateParameters(FUNCT_NAME, ARGUMENTS)` mainly remained for debugging and unit testing purposes.\\n* Implemented to functions in `color/creating_reading`, `core/2d_primitives`, `core/curves`, and `utilities/string_functions`. \\n\\n## Additional Features\\n* The FES welcomes the developer to p5 and the friendly debugger. \\n* The FES works in the IDE and the web editor. \\n\\n## Notes for Developers\\n* When creating p5.js Objects: any p5.js objects that will be used for parameters will need to assign value for `name` parameter (name of the object) within the class declaration. e.g.: \\n````javascript \\np5.newObject = function(parameter) {\\n   this.parameter = 'some parameter';\\n   this.name = 'p5.newObject';\\n};\\n````\\n* Inline documentation: allowed parameter types are `Boolean`, `Number`, `String`, and name of the object (see the above bullet point). Use `Array` for any types of Array parameters. If needed, explain what kind of the specific types of array parameter are allowed (e.g. `Number[]`, `String[]`) in the description section.\\n* Currently supported class types (have their `name` parameter): `p5.Color`, `p5.Element`, `p5.Graphics`, `p5.Renderer`, `p5.Renderer2D`, `p5.Image`, `p5.Table`, `p5.TableRow`, `p5.XML`, `p5.Vector`, `p5.Font`, `p5.Geometry`, `p5.Matrix`, `p5.RendererGL`.\\n\\n## Disable the FES\\n\\nBy default, FES is enabled for p5.js, and disabled in p5.min.js to prevent FES functions slowing down the process. The error checking system can significantly slow down your code (up to ~10x in some cases). See the [friendly error performance test](https://github.com/processing/p5.js-website/blob/master/dist/assets/learn/performance/code/friendly-error-system/).\\n\\nYou can disable this with one line of code at the top of your sketch:\\n\\n```javascript\\np5.disableFriendlyErrors = true; // disables FES\\n\\nfunction setup() {\\n  // Do setup stuff\\n}\\n\\nfunction draw() {\\n  // Do drawing stuff\\n}\\n```\\n\\nNote that this will disable the parts of the FES that cause performance slowdown (like argument checking). Friendly errors that have no performance cost (like giving an descriptive error if a file load fails, or warning you if you try to override p5.js functions in the global space), will remain in place. \\n\\n## Known Limitations\\n* The friendly error system slows the program down, so there is an option to turn it off via setting `p5.disableFriendlyErrors = true;`. In addition, the friendly error system is omitted by default in the minified (`p5.min.js`) version.\\n* FES may still result in false negative cases. These are usually caused by the mismatch between designs of the  functions (e.g. drawing functions those are originally designed to be used interchangeably in both 2D and 3D settings) with actual usage cases. For example, drawing a 3D line with \\n```javascript \\nconst x3; // undefined\\nline(0, 0, 100, 100, x3, Math.PI);\\n```\\n will escape FES, because there is an acceptable parameter pattern (`Number`, `Number`, `Number`, `Number`) in `line()`'s inline documentation for drawing in 2D setting. This also means the current version of FES doesn't check for the environmental variables such as `_renderer.isP3D`.\\n* Only detects an error in `loadXML` and `loadTable` when the file is requested as a url and not as a file path. I think this has to do with the reqwest library as documented here: https://github.com/ded/reqwest/issues/177\\n\\n## In The Works\\n* Identify more common error types and generalize with FES (e.g. `bezierVertex()`, `quadraticVertex()` - required object not initiated; checking Number parameters positive for `nf()` `nfc()` `nfp()` `nfs()`)\\n\\n## Thoughts for the Future\\n* re-introduce color coding for the Web Editor.\\n* More unit testings.\\n* More intuitive and narrowed down output messages.\\n* Having a Spanish translation available.\\n* All the colors are checked for being color blind friendly.\\n* More elaborate ascii is always welcome! \\n* Global Error catching. It would be very helpful to catch the errors the browser is throwing to the console, so we can match them up with friendly comments. \\n\\n```javascript\\n// this snippet wraps window.console methods with a new function to modify their functionality\\n// it is not currently implemented, but could be to give nicer formatted error messages\\nconst original = window.console;\\nconst original_functions  = {\\n  log: original.log,\\n  warn:  original.warn,\\n  error: original.error\\n}\\n\\n[\\\"log\\\", \\\"warn\\\", \\\"error\\\"].forEach(function(func){\\nwindow.console[func] = function(msg) {\\n//do something with the msg caught by the wrapper function, then call the original function\\noriginal_functions[func].apply(original, arguments)\\n};\\n});\\n```\\n\\n[end of friendly_error_system.md]\\n[start of inline_documentation.md]\\n# Adding inline documentation to p5.js\\n\\nBy adding inline documentation in the p5.js source code, a reference can be automatically generated. This document outlines the tags and information to include in your documentation so that it shows up in the reference, formatted properly. The reference is auto-generated from the source code periodically, so it may take a few days for your documentation to show up in the reference. If it's been longer than a few days or you're having other problems email [hello@p5js.org](mailto:hello@p5js.org).\\n\\nSee below for the basics, more specifics about yuidoc style [here](http://yui.github.io/yuidoc/syntax/index.html). __Please limit line length to 80 columns, starting new lines when it runs over.__\\n\\n__[List of examples needed](https://github.com/processing/p5.js/issues/1954) (you can also view the most up to date list by building the library with grunt and looking at the log messages)__\\n\\n## Specify element type and description\\n\\nThere are 4 kinds of elements: `@class`, `@method`, `@property`, `@event`.\\nYou must specify one of these for the element to appear in the docs, with the name of the element after it. The description should appear on top and should not be formatted with spaces, tabs, etc.\\n\\n```\\n   /**\\n    * The x component of the vector\\n    * @property x\\n    * @type {Number}\\n    */\\n    this.x = x || 0;\\n```\\n\\n```\\n\\n  /**\\n   * Draw an arc\\n   *\\n   * If x, y, width, height, start and stop are the only params provided, draws an\\n   * open pie.\\n   * If mode is provided draws the arc either open, chord or pie, dependant\\n   * on the variable provided\\n   *\\n   * @param  {Number} x x-coordinate of the arc's ellipse\\n   * @param  {Number} y y-coordinate of the arc's ellipse\\n   * @param  {Number} width width of the arc's ellipse by default\\n   * @param  {Number} height height of the arc's ellipse by default\\n   * @param  {Number} start angle to start the arc, specified in radians\\n   * @param  {Number} stop angle to stop the arc, specified in radians\\n   * @param  {String} [mode] optional parameter to determine the way of drawing the arc\\n   */\\n```\\n\\n```\\n  /**\\n   *\\n   * Calculates the magnitude (length) of the vector and returns the result\\n   * as a float (this is simply the equation <em>sqrt(x*x + y*y + z*z)</em>.)\\n   *\\n   * @method mag\\n   * @return {number} magnitude (length) of the vector\\n   */\\n   PVector.prototype.mag = function () {\\n    return Math.sqrt(this.magSq());\\n   };\\n```\\n\\n## Specify parameters\\n\\nFor methods, any `@params` should be specified. They should not be formatted with spaces, tabs, etc, and should follow the standard:\\n\\n```\\n@param {type} name Description here, no problem how long.\\n```\\n\\nIf the parameter is optional, add square brackets around the name:\\n\\n```\\n@param {type} [name] Description here.\\n```\\n\\nIf the parameter takes one or more values defined in `constants.js`,\\nthen the type should be specified as `{Constant}` and the valid values should be enumerated in the comment following the `either` keyword, eg:\\n\\n```\\n@param {Constant} horizAlign horizontal alignment, either LEFT, CENTER, or RIGHT\\n```\\n\\n## Specify return type\\n\\nThe `@return` is identical to `@params`, but without the name. It should be the last element in `@method`. The JS types are: String, Number, Boolean, Object, Array, Null, and Undefined. If there is no return type, do not include `@return`. \\n\\n```\\n@return {type} Description of the data returned.\\n```\\n\\nIf the method returns the parent object, you can skip the @return and add this line instead:\\n\\n```\\n@chainable\\n```\\n\\n## Additional signatures\\n\\nIf a method has multiple possible parameter options, you can specify each individually. For example, see the examples for [background](http://p5js.org/reference/#p5/background) under \\\"syntax\\\". To do this, choose one version to list as the first signature using the guidelines above. At the end of the documentation block, you can add additional signatures, each in it's own block, following the example below.\\n\\n```\\n/**\\n * @method background\\n * @param {String} colorstring color string, possible formats include: integer\\n *                         rgb() or rgba(), percentage rgb() or rgba(),\\n *                         3-digit hex, 6-digit hex\\n * @param {Number} [a] alpha value\\n */\\n\\n/**\\n * @method background\\n * @param {Number} gray specifies a value between white and black\\n * @param {Number} [a]\\n */\\n```\\n\\nNotes:\\n* If a parameter has been defined previously, like `a` in this case, you do not need to fill in the definition again. \\n* It is not necessary to create a separate signature if the only difference between two signatures is the additional of an optional parameter.\\n* You can see two examples of this inline in the source code for [background](https://github.com/processing/p5.js/blob/f38f91308fdacc2f1982e0430b620778fff30a5a/src/color/setting.js#L106) and [color](https://github.com/processing/p5.js/blob/f38f91308fdacc2f1982e0430b620778fff30a5a/src/color/creating_reading.js#L241).\\n\\n## Specify other tags\\n\\nUse `@final` if a property or variable is a constant:\\n\\n```\\n    /**\\n     * PI is a mathematical constant with the value 3.14159265358979323846.\\n     * @property PI\\n     * @type Number\\n     * @final\\n     */\\n    PI: PI\\n```\\n\\nUse `@private` if a property or variable is a private variable (default is `@public` so no need to specify).\\n\\n```\\n    /**\\n     * _start calls preload() setup() and draw()\\n     * \\n     * @method _start\\n     * @private\\n     */\\n     p5.prototype._start = function () {\\n```\\n\\n## Specify module for files\\n\\nThe top of each *file* should contain a `@module` tag at the top of the file. Modules should correspond to JavaScript files (or require.js modules). They can work as groups in the lists of items. see here: http://p5js.org/api/#methods (the modules are COLOR, IMAGE, PVECTOR, etc.). \\n\\n```\\n/**\\n * @module image\\n */\\ndefine(function (require) {\\n  // code here\\n};\\n```\\n\\n\\n## Constructors\\n\\nConstructors are defined with `@class`. Each constructor should have the tag `@class` followed by the name of the class, as well as the tag `@constructor`, and any `@param` tags required.\\n\\n```\\n  /**\\n   * The p5 constructor function.\\n   * @class p5\\n   * @constructor\\n   * @param {Object} [node] The canvas element. A canvas will be added to the DOM if not provided.\\n   * @param {Object} [sketch] The sketch object.\\n   */\\n   const p5 = function( node, sketch) {\\n     ...\\n   }\\n```\\n\\n## Adding example code\\n\\nOptionally, you can add examples with `@example`. Example code can be placed between `<code></code>` tags with comments included. Unless otherwise specified with a `setup()` function, each `<code>` block is automatically run on a canvas of 100x100 pixels with a gray background.  Define all variables with `let` in examples, as the lowest barrier for beginners learning JS. Please see examples in other src files to make sure it is formatted correctly.\\n\\n```\\n@example\\n<div>\\n<code>\\narc(50, 55, 50, 50, 0, HALF_PI);\\nnoFill();\\narc(50, 55, 60, 60, HALF_PI, PI);\\narc(50, 55, 70, 70, PI, PI+QUARTER_PI);\\narc(50, 55, 80, 80, PI+QUARTER_PI, TWO_PI);\\n</code>\\n</div>\\n```\\n\\nYou can have multiple examples for one function, just make sure each has it's own `<div>` wrapping. \\n```\\n@example\\n<div>\\n<code>arc(50, 50, 80, 80, 0, PI+QUARTER_PI, OPEN);</code>\\n</div>\\n<div>\\n<code>arc(50, 50, 80, 80, 0, PI, OPEN);</code>\\n</div>\\n```\\n\\nIf you do not want the example to render with canvas (ie you just want the code to show up), include the class \\\"norender\\\" in the div:\\n```\\n@example\\n<div class=\\\"norender\\\">\\n<code>arc(50, 50, 80, 80, 0, PI+QUARTER_PI, OPEN);</code>\\n</div>\\n```\\n\\n\\nIf you do not want the example to be run as part of the build tests (for example, if the example requires user interaction, or uses functionality not supported by the headless-Chrome test framework), include the class \\\"notest\\\" in the div:\\n```\\n@example\\n<div class='norender notest'><code>\\nfunction setup() {\\n  let c = createCanvas(100, 100);\\n  saveCanvas(c, 'myCanvas', 'jpg');\\n}\\n</code></div>\\n```\\n\\nIf you need to link to external asset files, put them in [/docs/yuidoc-p5-theme/assets](https://github.com/processing/p5.js/tree/master/docs/yuidoc-p5-theme/assets) and then link to them with \\\"assets/filename.ext\\\" in the code. See the [tint example](http://p5js.org/reference/#/p5/tint).\\n\\nOn some code editors copy-pasting examples in the inline documentation may be awkward and require a lot of adjustments (tabs, asterisks, spaces). You can use this simple tool to beautify the code (and re-indent it to 2 spaces) and make it ready for a copy-paste: \\n[p5examplesFormatter](http://molleindustria.org/p5examplesFormatter/)\\n| [download as zip](http://molleindustria.org/p5examplesFormatter/p5examplesFormatter.zip)\\n\\n### Adding alt-text\\nFinally, if you add an example, please add [alt-text](https://moz.com/learn/seo/alt-text) so visually impaired users can understand what the example is showing on the screen. This can be added with the tag `@alt` at the end of all of the examples for a given function (not an individual `@alt` tag under each), add a line break to separate the descriptions for multiple examples.\\n```\\n@example\\n<div>\\n<code>\\nlet xoff = 0.0;\\nfunction draw() {\\n  background(204);\\n  xoff = xoff + 0.01;\\n  let n = noise(xoff) * width;\\n  line(n, 0, n, height);\\n}\\n</code>\\n</div>\\n<div>\\n<code>\\nlet noiseScale=0.02;\\nfunction draw() {\\n  background(0);\\n  for (let x=0; x < width; x++) {\\n    let noiseVal = noise((mouseX+x)*noiseScale, mouseY*noiseScale);\\n    stroke(noiseVal*255);\\n    line(x, mouseY+noiseVal*80, x, height);\\n  }\\n}\\n</code>\\n</div>\\n\\n@alt\\nvertical line moves left to right with updating noise values.\\nhorizontal wave pattern effected by mouse x-position & updating noise values.\\n```\\n\\n\\n## Generating documentation\\n\\nRun `grunt yui:build` once first to generate all local files needed, as well as a copy of the reference from the source code. Run it again anytime you make changes to the core JS files behind the yuidoc reference page. These are changes in files located in the yuidoc-p5-theme-src folder, NOT inline documentation changes to src. If you only made changes to the source code, you can just run `grunt yui`, though `grunt yui:build` will also do the trick. \\n\\nThe build reference can be found in docs/reference. To preview it locally, run `grunt yui:dev` and view it as http://localhost:9001/docs/reference/.\\n\\n## Spanish language version\\n\\nThe [Spanish version](http://p5js.org/es/reference) is created a little differently. Here are [instructions](https://github.com/processing/p5.js-website/blob/master/contributor_docs/i18n_contribution.md) to update this material.\\n\\n[end of inline_documentation.md]\\n[start of material.js]\\n/**\\n * @module Lights, Camera\\n * @submodule Material\\n * @for p5\\n * @requires core\\n */\\n\\nimport p5 from '../core/main';\\nimport * as constants from '../core/constants';\\nimport './p5.Texture';\\n\\n/**\\n * Loads a custom shader from the provided vertex and fragment\\n * shader paths. The shader files are loaded asynchronously in the\\n * background, so this method should be used in <a href=\\\"#/p5/preload\\\">preload()</a>.\\n *\\n * For now, there are three main types of shaders. p5 will automatically\\n * supply appropriate vertices, normals, colors, and lighting attributes\\n * if the parameters defined in the shader match the names.\\n *\\n * @method loadShader\\n * @param {String} vertFilename path to file containing vertex shader\\n * source code\\n * @param {String} fragFilename path to file containing fragment shader\\n * source code\\n * @param {function} [callback] callback to be executed after loadShader\\n * completes. On success, the Shader object is passed as the first argument.\\n * @param {function} [errorCallback] callback to be executed when an error\\n * occurs inside loadShader. On error, the error is passed as the first\\n * argument.\\n * @return {p5.Shader} a shader object created from the provided\\n * vertex and fragment shader files.\\n *\\n * @example\\n * <div modernizr='webgl'>\\n * <code>\\n * let mandel;\\n * function preload() {\\n *   // load the shader definitions from files\\n *   mandel = loadShader('assets/shader.vert', 'assets/shader.frag');\\n * }\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n *   // use the shader\\n *   shader(mandel);\\n *   noStroke();\\n *   mandel.setUniform('p', [-0.74364388703, 0.13182590421]);\\n * }\\n *\\n * function draw() {\\n *   mandel.setUniform('r', 1.5 * exp(-6.5 * (1 + sin(millis() / 2000))));\\n *   quad(-1, -1, 1, -1, 1, 1, -1, 1);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * zooming Mandelbrot set. a colorful, infinitely detailed fractal.\\n */\\np5.prototype.loadShader = function(\\n  vertFilename,\\n  fragFilename,\\n  callback,\\n  errorCallback\\n) {\\n  p5._validateParameters('loadShader', arguments);\\n  if (!errorCallback) {\\n    errorCallback = console.error;\\n  }\\n\\n  const loadedShader = new p5.Shader();\\n\\n  const self = this;\\n  let loadedFrag = false;\\n  let loadedVert = false;\\n\\n  const onLoad = () => {\\n    self._decrementPreload();\\n    if (callback) {\\n      callback(loadedShader);\\n    }\\n  };\\n\\n  this.loadStrings(\\n    vertFilename,\\n    result => {\\n      loadedShader._vertSrc = result.join('\\\\n');\\n      loadedVert = true;\\n      if (loadedFrag) {\\n        onLoad();\\n      }\\n    },\\n    errorCallback\\n  );\\n\\n  this.loadStrings(\\n    fragFilename,\\n    result => {\\n      loadedShader._fragSrc = result.join('\\\\n');\\n      loadedFrag = true;\\n      if (loadedVert) {\\n        onLoad();\\n      }\\n    },\\n    errorCallback\\n  );\\n\\n  return loadedShader;\\n};\\n\\n/**\\n * @method createShader\\n * @param {String} vertSrc source code for the vertex shader\\n * @param {String} fragSrc source code for the fragment shader\\n * @returns {p5.Shader} a shader object created from the provided\\n * vertex and fragment shaders.\\n *\\n * @example\\n * <div modernizr='webgl'>\\n * <code>\\n * // the 'varying's are shared between both vertex & fragment shaders\\n * let varying = 'precision highp float; varying vec2 vPos;';\\n *\\n * // the vertex shader is called for each vertex\\n * let vs =\\n *   varying +\\n *   'attribute vec3 aPosition;' +\\n *   'void main() { vPos = (gl_Position = vec4(aPosition,1.0)).xy; }';\\n *\\n * // the fragment shader is called for each pixel\\n * let fs =\\n *   varying +\\n *   'uniform vec2 p;' +\\n *   'uniform float r;' +\\n *   'const int I = 500;' +\\n *   'void main() {' +\\n *   '  vec2 c = p + vPos * r, z = c;' +\\n *   '  float n = 0.0;' +\\n *   '  for (int i = I; i > 0; i --) {' +\\n *   '    if(z.x*z.x+z.y*z.y > 4.0) {' +\\n *   '      n = float(i)/float(I);' +\\n *   '      break;' +\\n *   '    }' +\\n *   '    z = vec2(z.x*z.x-z.y*z.y, 2.0*z.x*z.y) + c;' +\\n *   '  }' +\\n *   '  gl_FragColor = vec4(0.5-cos(n*17.0)/2.0,0.5-cos(n*13.0)/2.0,0.5-cos(n*23.0)/2.0,1.0);' +\\n *   '}';\\n *\\n * let mandel;\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n *\\n *   // create and initialize the shader\\n *   mandel = createShader(vs, fs);\\n *   shader(mandel);\\n *   noStroke();\\n *\\n *   // 'p' is the center point of the Mandelbrot image\\n *   mandel.setUniform('p', [-0.74364388703, 0.13182590421]);\\n * }\\n *\\n * function draw() {\\n *   // 'r' is the size of the image in Mandelbrot-space\\n *   mandel.setUniform('r', 1.5 * exp(-6.5 * (1 + sin(millis() / 2000))));\\n *   quad(-1, -1, 1, -1, 1, 1, -1, 1);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * zooming Mandelbrot set. a colorful, infinitely detailed fractal.\\n */\\np5.prototype.createShader = function(vertSrc, fragSrc) {\\n  this._assert3d('createShader');\\n  p5._validateParameters('createShader', arguments);\\n  return new p5.Shader(this._renderer, vertSrc, fragSrc);\\n};\\n\\n/**\\n * The <a href=\\\"#/p5/shader\\\">shader()</a> function lets the user provide a custom shader\\n * to fill in shapes in WEBGL mode. Users can create their\\n * own shaders by loading vertex and fragment shaders with\\n * <a href=\\\"#/p5/loadShader\\\">loadShader()</a>.\\n *\\n * @method shader\\n * @chainable\\n * @param {p5.Shader} [s] the desired <a href=\\\"#/p5.Shader\\\">p5.Shader</a> to use for rendering\\n * shapes.\\n *\\n * @example\\n * <div modernizr='webgl'>\\n * <code>\\n * // Click within the image to toggle\\n * // the shader used by the quad shape\\n * // Note: for an alternative approach to the same example,\\n * // involving changing uniforms please refer to:\\n * // https://p5js.org/reference/#/p5.Shader/setUniform\\n *\\n * let redGreen;\\n * let orangeBlue;\\n * let showRedGreen = false;\\n *\\n * function preload() {\\n *   // note that we are using two instances\\n *   // of the same vertex and fragment shaders\\n *   redGreen = loadShader('assets/shader.vert', 'assets/shader-gradient.frag');\\n *   orangeBlue = loadShader('assets/shader.vert', 'assets/shader-gradient.frag');\\n * }\\n *\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n *\\n *   // initialize the colors for redGreen shader\\n *   shader(redGreen);\\n *   redGreen.setUniform('colorCenter', [1.0, 0.0, 0.0]);\\n *   redGreen.setUniform('colorBackground', [0.0, 1.0, 0.0]);\\n *\\n *   // initialize the colors for orangeBlue shader\\n *   shader(orangeBlue);\\n *   orangeBlue.setUniform('colorCenter', [1.0, 0.5, 0.0]);\\n *   orangeBlue.setUniform('colorBackground', [0.226, 0.0, 0.615]);\\n *\\n *   noStroke();\\n * }\\n *\\n * function draw() {\\n *   // update the offset values for each shader,\\n *   // moving orangeBlue in vertical and redGreen\\n *   // in horizontal direction\\n *   orangeBlue.setUniform('offset', [0, sin(millis() / 2000) + 1]);\\n *   redGreen.setUniform('offset', [sin(millis() / 2000), 1]);\\n *\\n *   if (showRedGreen === true) {\\n *     shader(redGreen);\\n *   } else {\\n *     shader(orangeBlue);\\n *   }\\n *   quad(-1, -1, 1, -1, 1, 1, -1, 1);\\n * }\\n *\\n * function mouseClicked() {\\n *   showRedGreen = !showRedGreen;\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * canvas toggles between a circular gradient of orange and blue vertically. and a circular gradient of red and green moving horizontally when mouse is clicked/pressed.\\n */\\np5.prototype.shader = function(s) {\\n  this._assert3d('shader');\\n  p5._validateParameters('shader', arguments);\\n\\n  if (s._renderer === undefined) {\\n    s._renderer = this._renderer;\\n  }\\n\\n  if (s.isStrokeShader()) {\\n    this._renderer.userStrokeShader = s;\\n  } else {\\n    this._renderer.userFillShader = s;\\n    this._renderer._useNormalMaterial = false;\\n  }\\n\\n  s.init();\\n\\n  return this;\\n};\\n\\n/**\\n * This function restores the default shaders in WEBGL mode. Code that runs\\n * after resetShader() will not be affected by previously defined\\n * shaders. Should be run after <a href=\\\"#/p5/shader\\\">shader()</a>.\\n *\\n * @method resetShader\\n * @chainable\\n */\\np5.prototype.resetShader = function() {\\n  this._renderer.userFillShader = this._renderer.userStrokeShader = null;\\n  return this;\\n};\\n\\n/**\\n * Normal material for geometry. You can view all\\n * possible materials in this\\n * <a href=\\\"https://p5js.org/examples/3d-materials.html\\\">example</a>.\\n * @method normalMaterial\\n * @chainable\\n * @example\\n * <div>\\n * <code>\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n * }\\n *\\n * function draw() {\\n *   background(200);\\n *   normalMaterial();\\n *   sphere(40);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * Red, green and blue gradient.\\n *\\n */\\np5.prototype.normalMaterial = function(...args) {\\n  this._assert3d('normalMaterial');\\n  p5._validateParameters('normalMaterial', args);\\n  this._renderer.drawMode = constants.FILL;\\n  this._renderer._useSpecularMaterial = false;\\n  this._renderer._useEmissiveMaterial = false;\\n  this._renderer._useNormalMaterial = true;\\n  this._renderer.curFillColor = [1, 1, 1, 1];\\n  this._renderer._setProperty('_doFill', true);\\n  this.noStroke();\\n  return this;\\n};\\n\\n/**\\n * Texture for geometry.  You can view other possible materials in this\\n * <a href=\\\"https://p5js.org/examples/3d-materials.html\\\">example</a>.\\n * @method texture\\n * @param {p5.Image|p5.MediaElement|p5.Graphics} tex 2-dimensional graphics\\n *                    to render as texture\\n * @chainable\\n * @example\\n * <div>\\n * <code>\\n * let img;\\n * function preload() {\\n *   img = loadImage('assets/laDefense.jpg');\\n * }\\n *\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n * }\\n *\\n * function draw() {\\n *   background(0);\\n *   rotateZ(frameCount * 0.01);\\n *   rotateX(frameCount * 0.01);\\n *   rotateY(frameCount * 0.01);\\n *   //pass image as texture\\n *   texture(img);\\n *   box(200, 200, 200);\\n * }\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * let pg;\\n *\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n *   pg = createGraphics(200, 200);\\n *   pg.textSize(75);\\n * }\\n *\\n * function draw() {\\n *   background(0);\\n *   pg.background(255);\\n *   pg.text('hello!', 0, 100);\\n *   //pass image as texture\\n *   texture(pg);\\n *   rotateX(0.5);\\n *   noStroke();\\n *   plane(50);\\n * }\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * let vid;\\n * function preload() {\\n *   vid = createVideo('assets/fingers.mov');\\n *   vid.hide();\\n * }\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n * }\\n *\\n * function draw() {\\n *   background(0);\\n *   //pass video frame as texture\\n *   texture(vid);\\n *   rect(-40, -40, 80, 80);\\n * }\\n *\\n * function mousePressed() {\\n *   vid.loop();\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * Rotating view of many images umbrella and grid roof on a 3d plane\\n * black canvas\\n * black canvas\\n *\\n */\\np5.prototype.texture = function(tex) {\\n  this._assert3d('texture');\\n  p5._validateParameters('texture', arguments);\\n  if (tex.gifProperties) {\\n    tex._animateGif(this);\\n  }\\n\\n  this._renderer.drawMode = constants.TEXTURE;\\n  this._renderer._useSpecularMaterial = false;\\n  this._renderer._useEmissiveMaterial = false;\\n  this._renderer._useNormalMaterial = false;\\n  this._renderer._tex = tex;\\n  this._renderer._setProperty('_doFill', true);\\n\\n  return this;\\n};\\n\\n/**\\n * Sets the coordinate space for texture mapping. The default mode is IMAGE\\n * which refers to the actual coordinates of the image.\\n * NORMAL refers to a normalized space of values ranging from 0 to 1.\\n * This function only works in WEBGL mode.\\n *\\n * With IMAGE, if an image is 100 x 200 pixels, mapping the image onto the entire\\n * size of a quad would require the points (0,0) (100, 0) (100,200) (0,200).\\n * The same mapping in NORMAL is (0,0) (1,0) (1,1) (0,1).\\n * @method  textureMode\\n * @param {Constant} mode either IMAGE or NORMAL\\n * @example\\n * <div>\\n * <code>\\n * let img;\\n *\\n * function preload() {\\n *   img = loadImage('assets/laDefense.jpg');\\n * }\\n *\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n * }\\n *\\n * function draw() {\\n *   texture(img);\\n *   textureMode(NORMAL);\\n *   beginShape();\\n *   vertex(-50, -50, 0, 0);\\n *   vertex(50, -50, 1, 0);\\n *   vertex(50, 50, 1, 1);\\n *   vertex(-50, 50, 0, 1);\\n *   endShape();\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * the underside of a white umbrella and gridded ceiling above\\n *\\n * <div>\\n * <code>\\n * let img;\\n *\\n * function preload() {\\n *   img = loadImage('assets/laDefense.jpg');\\n * }\\n *\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n * }\\n *\\n * function draw() {\\n *   texture(img);\\n *   textureMode(NORMAL);\\n *   beginShape();\\n *   vertex(-50, -50, 0, 0);\\n *   vertex(50, -50, img.width, 0);\\n *   vertex(50, 50, img.width, img.height);\\n *   vertex(-50, 50, 0, img.height);\\n *   endShape();\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * the underside of a white umbrella and gridded ceiling above\\n *\\n */\\np5.prototype.textureMode = function(mode) {\\n  if (mode !== constants.IMAGE && mode !== constants.NORMAL) {\\n    console.warn(\\n      `You tried to set ${mode} textureMode only supports IMAGE & NORMAL `\\n    );\\n  } else {\\n    this._renderer.textureMode = mode;\\n  }\\n};\\n\\n/**\\n * Sets the global texture wrapping mode. This controls how textures behave\\n * when their uv's go outside of the 0 - 1 range. There are three options:\\n * CLAMP, REPEAT, and MIRROR.\\n *\\n * CLAMP causes the pixels at the edge of the texture to extend to the bounds\\n * REPEAT causes the texture to tile repeatedly until reaching the bounds\\n * MIRROR works similarly to REPEAT but it flips the texture with every new tile\\n *\\n * REPEAT & MIRROR are only available if the texture\\n * is a power of two size (128, 256, 512, 1024, etc.).\\n *\\n * This method will affect all textures in your sketch until a subsequent\\n * textureWrap call is made.\\n *\\n * If only one argument is provided, it will be applied to both the\\n * horizontal and vertical axes.\\n * @method textureWrap\\n * @param {Constant} wrapX either CLAMP, REPEAT, or MIRROR\\n * @param {Constant} [wrapY] either CLAMP, REPEAT, or MIRROR\\n * @example\\n * <div>\\n * <code>\\n * let img;\\n * function preload() {\\n *   img = loadImage('assets/rockies128.jpg');\\n * }\\n *\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n *   textureWrap(MIRROR);\\n * }\\n *\\n * function draw() {\\n *   background(0);\\n *\\n *   let dX = mouseX;\\n *   let dY = mouseY;\\n *\\n *   let u = lerp(1.0, 2.0, dX);\\n *   let v = lerp(1.0, 2.0, dY);\\n *\\n *   scale(width / 2);\\n *\\n *   texture(img);\\n *\\n *   beginShape(TRIANGLES);\\n *   vertex(-1, -1, 0, 0, 0);\\n *   vertex(1, -1, 0, u, 0);\\n *   vertex(1, 1, 0, u, v);\\n *\\n *   vertex(1, 1, 0, u, v);\\n *   vertex(-1, 1, 0, 0, v);\\n *   vertex(-1, -1, 0, 0, 0);\\n *   endShape();\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * an image of the rocky mountains repeated in mirrored tiles\\n *\\n */\\np5.prototype.textureWrap = function(wrapX, wrapY = wrapX) {\\n  this._renderer.textureWrapX = wrapX;\\n  this._renderer.textureWrapY = wrapY;\\n\\n  const textures = this._renderer.textures;\\n  for (let i = 0; i < textures.length; i++) {\\n    textures[i].setWrapMode(wrapX, wrapY);\\n  }\\n};\\n\\n/**\\n * Ambient material for geometry with a given color. You can view all\\n * possible materials in this\\n * <a href=\\\"https://p5js.org/examples/3d-materials.html\\\">example</a>.\\n * @method  ambientMaterial\\n * @param  {Number} v1  gray value, red or hue value\\n *                         (depending on the current color mode),\\n * @param  {Number} [v2] green or saturation value\\n * @param  {Number} [v3] blue or brightness value\\n * @param  {Number} [a]  opacity\\n * @chainable\\n * @example\\n * <div>\\n * <code>\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n * }\\n * function draw() {\\n *   background(0);\\n *   noStroke();\\n *   ambientLight(200);\\n *   ambientMaterial(70, 130, 230);\\n *   sphere(40);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * radiating light source from top right of canvas\\n *\\n */\\n/**\\n * @method  ambientMaterial\\n * @param  {Number[]|String|p5.Color} color  color, color Array, or CSS color string\\n * @chainable\\n */\\np5.prototype.ambientMaterial = function(v1, v2, v3, a) {\\n  this._assert3d('ambientMaterial');\\n  p5._validateParameters('ambientMaterial', arguments);\\n\\n  const color = p5.prototype.color.apply(this, arguments);\\n  this._renderer.curFillColor = color._array;\\n  this._renderer._useSpecularMaterial = false;\\n  this._renderer._useEmissiveMaterial = false;\\n  this._renderer._useNormalMaterial = false;\\n  this._renderer._enableLighting = true;\\n  this._renderer._tex = null;\\n\\n  return this;\\n};\\n\\n/**\\n * Sets the emissive color of the material used for geometry drawn to\\n * the screen. This is a misnomer in the sense that the material does not\\n * actually emit light that effects surrounding polygons. Instead,\\n * it gives the appearance that the object is glowing. An emissive material\\n * will display at full strength even if there is no light for it to reflect.\\n * @method emissiveMaterial\\n * @param  {Number} v1  gray value, red or hue value\\n *                         (depending on the current color mode),\\n * @param  {Number} [v2] green or saturation value\\n * @param  {Number} [v3] blue or brightness value\\n * @param  {Number} [a]  opacity\\n * @chainable\\n * @example\\n * <div>\\n * <code>\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n * }\\n * function draw() {\\n *   background(0);\\n *   noStroke();\\n *   ambientLight(0);\\n *   emissiveMaterial(130, 230, 0);\\n *   sphere(40);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * radiating light source from top right of canvas\\n */\\n/**\\n * @method  emissiveMaterial\\n * @param  {Number[]|String|p5.Color} color  color, color Array, or CSS color string\\n * @chainable\\n */\\np5.prototype.emissiveMaterial = function(v1, v2, v3, a) {\\n  this._assert3d('emissiveMaterial');\\n  p5._validateParameters('emissiveMaterial', arguments);\\n\\n  const color = p5.prototype.color.apply(this, arguments);\\n  this._renderer.curFillColor = color._array;\\n  this._renderer._useSpecularMaterial = false;\\n  this._renderer._useEmissiveMaterial = true;\\n  this._renderer._useNormalMaterial = false;\\n  this._renderer._enableLighting = true;\\n  this._renderer._tex = null;\\n\\n  return this;\\n};\\n\\n/**\\n * Specular material for geometry with a given color. You can view all\\n * possible materials in this\\n * <a href=\\\"https://p5js.org/examples/3d-materials.html\\\">example</a>.\\n * @method specularMaterial\\n * @param  {Number} v1  gray value, red or hue value\\n *                       (depending on the current color mode),\\n * @param  {Number} [v2] green or saturation value\\n * @param  {Number} [v3] blue or brightness value\\n * @param  {Number} [a]  opacity\\n * @chainable\\n * @example\\n * <div>\\n * <code>\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n * }\\n * function draw() {\\n *   background(0);\\n *   noStroke();\\n *   ambientLight(50);\\n *   pointLight(250, 250, 250, 100, 100, 30);\\n *   specularMaterial(250);\\n *   sphere(40);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * diffused radiating light source from top right of canvas\\n *\\n */\\n/**\\n * @method specularMaterial\\n * @param  {Number[]|String|p5.Color} color color Array, or CSS color string\\n * @chainable\\n */\\np5.prototype.specularMaterial = function(v1, v2, v3, a) {\\n  this._assert3d('specularMaterial');\\n  p5._validateParameters('specularMaterial', arguments);\\n\\n  const color = p5.prototype.color.apply(this, arguments);\\n  this._renderer.curFillColor = color._array;\\n  this._renderer._useSpecularMaterial = true;\\n  this._renderer._useEmissiveMaterial = false;\\n  this._renderer._useNormalMaterial = false;\\n  this._renderer._enableLighting = true;\\n  this._renderer._tex = null;\\n\\n  return this;\\n};\\n\\n/**\\n * Sets the amount of gloss in the surface of shapes.\\n * Used in combination with specularMaterial() in setting\\n * the material properties of shapes. The default and minimum value is 1.\\n * @method shininess\\n * @param {Number} shine Degree of Shininess.\\n *                       Defaults to 1.\\n * @chainable\\n * @example\\n * <div>\\n * <code>\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n * }\\n * function draw() {\\n *   background(0);\\n *   noStroke();\\n *   let locX = mouseX - width / 2;\\n *   let locY = mouseY - height / 2;\\n *   ambientLight(60, 60, 60);\\n *   pointLight(255, 255, 255, locX, locY, 50);\\n *   specularMaterial(250);\\n *   translate(-25, 0, 0);\\n *   shininess(1);\\n *   sphere(20);\\n *   translate(50, 0, 0);\\n *   shininess(20);\\n *   sphere(20);\\n * }\\n * </code>\\n * </div>\\n * @alt\\n * Shininess on Camera changes position with mouse\\n */\\np5.prototype.shininess = function(shine) {\\n  this._assert3d('shininess');\\n  p5._validateParameters('shininess', arguments);\\n\\n  if (shine < 1) {\\n    shine = 1;\\n  }\\n  this._renderer._useShininess = shine;\\n  return this;\\n};\\n\\n/**\\n * @private blends colors according to color components.\\n * If alpha value is less than 1, we need to enable blending\\n * on our gl context.  Otherwise opaque objects need to a depthMask.\\n * @param  {Number[]} color [description]\\n * @return {Number[]]}  Normalized numbers array\\n */\\np5.RendererGL.prototype._applyColorBlend = function(colors) {\\n  const gl = this.GL;\\n\\n  const isTexture = this.drawMode === constants.TEXTURE;\\n  if (isTexture || colors[colors.length - 1] < 1.0 || this._isErasing) {\\n    gl.depthMask(isTexture);\\n    gl.enable(gl.BLEND);\\n    this._applyBlendMode();\\n  } else {\\n    gl.depthMask(true);\\n    gl.disable(gl.BLEND);\\n  }\\n  return colors;\\n};\\n\\n/**\\n * @private sets blending in gl context to curBlendMode\\n * @param  {Number[]} color [description]\\n * @return {Number[]]}  Normalized numbers array\\n */\\np5.RendererGL.prototype._applyBlendMode = function() {\\n  const gl = this.GL;\\n  switch (this.curBlendMode) {\\n    case constants.BLEND:\\n    case constants.ADD:\\n      gl.blendEquation(gl.FUNC_ADD);\\n      gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\\n      break;\\n    case constants.REMOVE:\\n      gl.blendEquation(gl.FUNC_REVERSE_SUBTRACT);\\n      gl.blendFunc(gl.SRC_ALPHA, gl.DST_ALPHA);\\n      break;\\n    case constants.MULTIPLY:\\n      gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\\n      gl.blendFuncSeparate(gl.ZERO, gl.SRC_COLOR, gl.ONE, gl.ONE);\\n      break;\\n    case constants.SCREEN:\\n      gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\\n      gl.blendFuncSeparate(gl.ONE_MINUS_DST_COLOR, gl.ONE, gl.ONE, gl.ONE);\\n      break;\\n    case constants.EXCLUSION:\\n      gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\\n      gl.blendFuncSeparate(\\n        gl.ONE_MINUS_DST_COLOR,\\n        gl.ONE_MINUS_SRC_COLOR,\\n        gl.ONE,\\n        gl.ONE\\n      );\\n      break;\\n    case constants.REPLACE:\\n      gl.blendEquation(gl.FUNC_ADD);\\n      gl.blendFunc(gl.ONE, gl.ZERO);\\n      break;\\n    case constants.SUBTRACT:\\n      gl.blendEquationSeparate(gl.FUNC_REVERSE_SUBTRACT, gl.FUNC_ADD);\\n      gl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE, gl.ONE, gl.ONE);\\n      break;\\n    case constants.DARKEST:\\n      if (this.blendExt) {\\n        gl.blendEquationSeparate(this.blendExt.MIN_EXT, gl.FUNC_ADD);\\n        gl.blendFuncSeparate(gl.ONE, gl.ONE, gl.ONE, gl.ONE);\\n      } else {\\n        console.warn(\\n          'blendMode(DARKEST) does not work in your browser in WEBGL mode.'\\n        );\\n      }\\n      break;\\n    case constants.LIGHTEST:\\n      if (this.blendExt) {\\n        gl.blendEquationSeparate(this.blendExt.MAX_EXT, gl.FUNC_ADD);\\n        gl.blendFuncSeparate(gl.ONE, gl.ONE, gl.ONE, gl.ONE);\\n      } else {\\n        console.warn(\\n          'blendMode(LIGHTEST) does not work in your browser in WEBGL mode.'\\n        );\\n      }\\n      break;\\n    default:\\n      console.error(\\n        'Oops! Somehow RendererGL set curBlendMode to an unsupported mode.'\\n      );\\n      break;\\n  }\\n};\\n\\nexport default p5;\\n\\n[end of material.js]\\n\\n</code>\\n\\nHere is an example of a patch file. It consists of changes to the code base. It specifies the file names, the line numbers of each change, and the removed and added lines. A single patch file can contain changes to multiple files.\\n\\n<patch>\\ndiff --git a/file.py b/file.py\\n--- a/file.py\\n+++ b/file.py\\n@@ -1,27 +1,35 @@\\n def euclidean(a, b):\\n-    while b:\\n-        a, b = b, a % b\\n-    return a\\n+    if b == 0:\\n+        return a\\n+    return euclidean(b, a % b)\\n \\n def bresenham(x0, y0, x1, y1):\\n+    points = []\\n+    dx = abs(x1 - x0)\\n+    dy = abs(y1 - y0)\\n+    sx = 1 if x0 < x1 else -1\\n+    sy = 1 if y0 < y1 else -1\\n+    err = dx - dy\\n+    \\n     while True:\\n-        plot(x0, y0)\\n+        points.append((x0, y0))\\n         if x0 == x1 and y0 == y1:\\n             break\\n-        e2 = 2 * err\\n-        if e2 > -dy:\\n-            err -= dy\\n-            x0 += sx\\n-        if e2 < dx:\\n-            err += dx\\n-            y0 += sy\\n+        e2 = 2 * err\\n+        if e2 > -dy:\\n+            err -= dy\\n+            x0 += sx\\n+        if e2 < dx:\\n+            err += dx\\n+            y0 += sy\\n+    return points\\n+</patch>\\n\\nI need you to solve the provided issue by generating a single patch file that I can apply directly to this repository using git apply. Please respond with a single patch file in the format shown above.\\n\\nRespond below: \\n\"}]",
      "retrieved_file_paths": [
        "ISSUE_TEMPLATE.md",
        "README.md",
        "friendly_error_system.md",
        "inline_documentation.md",
        "material.js"
      ]
    },
    "retrieved_documents": [
      {
        "id": "5b7f0357-460a-43b8-a762-88379166175d",
        "score": 0.01639344262295082,
        "payload": {
          "text": "<!--\nHi there! \n\nPLEASE NOTE: The github issues are for bugs and feature requests for the p5.js library itself. If you have a general question or bug programming with p5.js please post it in the p5.js forum: https://discourse.processing.org\n\nTo check any option, replace the \"[ ]\" with a \"[x]\". Be sure to check out how it looks in the Preview tab! Feel free to remove any portion of the template that is not relevant for your issue.\n-->\n\n#### Nature of issue?\n\n- [ ] Found a bug\n- [ ] Existing feature enhancement\n- [ ] New feature request\n\n#### Most appropriate sub-area of p5.js?\n\n- [ ] Color\n- [ ] Core/Environment/Rendering\n- [ ] Data\n- [ ] Events\n- [ ] Image\n- [ ] IO\n- [ ] Math\n- [ ] Typography\n- [ ] Utilities\n- [ ] WebGL\n- [ ] Other (specify if possible)\n\n#### Which platform were you using when you encountered this?\n\n- [ ] Mobile/Tablet (touch devices)\n- [ ] Desktop/Laptop\n- [ ] Others (specify if possible)\n\n#### Details about the bug: \n\n- p5.js version: <!-- You can first this in the first line of the p5.js file -->\n- Web browser and version: <!-- In the address bar, on Chrome enter \"chrome://version\", on Firefox enter \"about:support\". On Safari, use \"About Safari\". -->\n- Operating System: <!-- Ex: Windows/MacOSX/Linux along with version -->\n- Steps to reproduce this:\n<!-- Include a simple code snippet that demonstrates the problem, along with any console errors produced. If this isn't possible, then simply describe the issue as best you can! -->\n\n<!-- If you want to enhance an existing feature, please describe here, otherwise remove this section -->\n#### Feature enhancement details:\n\n\n<!-- If you want to request a new feature, please describe here, otherwise remove this section -->\n#### New feature details:\n\n",
          "filepath": "data/repos/processing/p5.js-0.10/ISSUE_TEMPLATE.md",
          "repo": "processing/p5.js",
          "version": "0.10",
          "chunk_index": 0,
          "chunk_id": "5b7f0357-460a-43b8-a762-88379166175d"
        }
      },
      {
        "id": "4e2a9cdb-6db0-4636-8fcf-b69b1dcbe5f9",
        "score": 0.016129032258064516,
        "payload": {
          "text": "Hello! Thanks for your interest in contributing to p5.js! You can get started with some different ways of contributing [here](https://p5js.org/community/#contribute). This folder contains various documents intended for developers of p5.js.\n\n# Project Directory Structure\n\n- `src/` contains all the source code for the library, which is topically organized into separated modules. This is what you'll work on if you are changing p5.js.\n- `lib/` contains the final version of p5.js intended for users to load in their sketches and projects, included in both compressed and uncompressed forms. This is the output when the source code modules are compiled to a single file by [Grunt](https://gruntjs.com/).\n- `developer_docs/` contains various Markdown documents that are likely to be useful to developers of p5.js, in particular because they explain practices and principles.\n- `docs/` does not actually contain docs! Rather, it contains the code used to *generate* the [online reference manual](https://p5js.org/reference/).\n- `tests/` contains unit tests which ensure the library continues to function correctly as changes are made.\n- `tasks/` contains scripts which perform automated tasks related to the build, deployment, and release of new versions of p5.js.\n- `patches/` might contain [Git patches](https://git-scm.com/docs/git-format-patch) from time to time, but in almost all cases you can completely ignore this directory.\n\n# How To Contribute\n\nKnown bugs and intended new features are tracked using [GitHub issues](https://github.com/processing/p5.js/issues). Issue [labels](https://github.com/processing/p5.js/blob/master/developer_docs/issue_labels.md) are used to sort issues into categories, such as those which are [suitable for beginners](https://github.com/processing/p5.js/labels/level%3Abeginner). If you'd like to start working on an existing issue, comment on the issue that you plan to work on it so other contributors know it's being handled and can offer help. Once you have completed your work on this issue, [submit a pull request (PR)](https://github.com/processing/p5.js/blob/master/developer_docs/preparing_a_pull_request.md) against the p5.js master branch. In the description field of the PR, include \"resolves #XXXX\" tagging the issue you are fixing. If the PR addresses the issue but doesn't completely resolve it (ie the issue should remain open after your PR is merged), write \"addresses #XXXX\".\n\nIf you discover a bug or have an idea for a new feature you'd like to add, begin by submitting an issue. Please do not simply submit a pull request containing the fix or new feature without making an issue first, we will probably not be able to accept it. Once you have gotten some feedback on the issue and a go ahead to address it, you can follow the process above to contribute the fix or feature.\n\nYou can triage issues which may include reproducing bug reports or asking for vital information, such as version numbers or reproduction instructions. If you would like to start triaging issues, one easy way to get started is to [subscribe to p5.js on CodeTriage](https://www.codetriage.com/processing/p5.js). [![Open Source Helpers](https://www.codetriage.com/processing/p5.js/badges/users.svg)](https://www.codetriage.com/processing/p5.js)\n\nWe recognize all types of contributions. This project follows the [all-contributors](https://github.com/kentcdodds/all-contributors) specification. Add yourself to the [readme](https://github.com/processing/p5.js/blob/master/README.md#contributors) by following the [instructions here](https://github.com/processing/p5.js/issues/2309)!\n\n## Accompaniments\n\nAside from the code itself, you may also need to supply some combination of the following.\n\n- [inline documentation](https://github.com/processing/p5.js/blob/master/developer_docs/inline_documentation.md) in the form of code comments, which explain the code both to other developers and to users. Many of these comments must conform to [JSDoc](https://usejsdoc.org) syntax and will be published on the p5.js website as part of the [online reference manual](https://p5js.org/reference/)\n- [unit tests](https://github.com/processing/p5.js/tree/master/developer_docs#unit-tests), small pieces of code which are separate from the library and are used to verify its behavior\n- [benchmarks](https://github.com/processing/p5.js/blob/master/developer_docs/benchmarking_p5.md) to test performance\n\n## Examples\n\nThe p5.js site includes [integrated examples](http://p5js.org/examples/). You can [add more](https://github.com/processing/p5.js-website/wiki/Adding-examples), and there is an issue which lists some [desired examples](https://github.com/processing/p5.js/issues/1954).\n\n## ES6\np5.js has recently migrated to [ES6](https://en.wikipedia.org/wiki/ECMAScript#6th_Edition_-_ECMAScript_2015). To see how this transition could effect your contribution please visit [ES6 adoption](https://github.com/processing/p5.js/blob/master/developer_docs/es6-adoption.md).\n\n## Other Ideas\n\nIf you'd like to contribute in other ways which are not covered here, feel free to write to [hello@p5js.org](mailto:hello@p5js.org) and let us know what you're thinking! Aside from working on this codebase, we can always use help with things like documentation, tutorials, workshops, educational materials, branding, and design. Get in touch and we can talk about ways you might participate.\n\n# Gotchas\n\nThe developer tooling included with the p5.js codebase is intentionally very strict about some things. This is a good thing! It makes everything consistent, and it will encourage you to be disciplined. This means you may try to change something only to have your commit rejected by the project, but don't get discouraged; even seasoned p5.js developers get caught by this stuff all the time. Typically the problem will be in one of two areas.\n\n## Code Syntax\n\np5.js requires clean and stylistically consistent code syntax, which it enforces with [Prettier](https://prettier.io/) and [ESlint](https://eslint.org/). The rules are checked before you commit, but you can also install an [ESlint plugin](https://eslint.org/docs/user-guide/integrations#editors) for your code editor to highlight errors as soon as you type them, which will probably help you along as you are coding and saves you the hassle of a failed Git commit.\n\nTo detect errors, run the following command in your terminal (do not type the `$` prompt):\n\n```\n$ npm run lint\n```\n\nSome syntax errors can be automatically fixed:\n\n```\n$ npm run lint:fix\n```\n\nSticking with the established project style is usually preferable, but [occasionally](https://github.com/processing/p5.js/search?utf8=%E2%9C%93&q=prettier-ignore&type=) using an alternate syntax might make your code easier to understand. For these cases, Prettier [offers an escape hatch](https://prettier.io/docs/en/ignore.html), the `// prettier-ignore` comment, which you can use to make granular exceptions. Try to avoid using this if you can, because there are good reasons for most of the style preferences enforced by the linting.\n\n## Unit Tests\n\nUnit tests are small pieces of code which are created as complements to the primary logic and perform validation. If you are developing a major new feature for p5.js, you should probably include tests. Do not submit pull requests in which the tests do not pass, because that means something is broken.\n\nIn order to run unit tests, you'll need to have previously installed the project's dependencies.\n\n```\n$ npm ci\n```\n\nThis will install *all* the dependencies for p5.js; briefly, the most important dependencies specific to unit testing include:\n\n- [Mocha](https://mochajs.org/), a powerful testing framework that executes individual test files which are specific to p5.js\n- [mocha-chrome](https://github.com/shellscape/mocha-chrome), a mocha plugin that runs mocha tests using headless Google Chrome\n\nOnce the dependencies are installed, use Grunt to run the unit tests.\n\n```\n$ grunt\n```\n\nSometimes it is useful to run the tests in the browser instead of on the command line. To do this, first start the [connect](https://github.com/gruntjs/grunt-contrib-connect) server:\n\n```\n$ npm run dev\n```\n\nWith the server running, you should be able to open `test/test.html` in a browser.\n\nA complete guide to unit testing is beyond the scope of the p5.js documentation, but the short version is that any major changes or new features implemented in the source code contained in the `src/` directory should also be accompanied by test files in the `test/` directory that can be executed by Mocha to verify consistent behavior in all future versions of the library. When writing unit tests, use the [Chai.js reference](http://www.chaijs.com/api/assert/) as a guide for phrasing your assertion messages so that any errors caught by your tests in the future will be consistent and consequently easier for other developers to understand.\n\n# Development Process\n\n1. Install [node.js](http://nodejs.org/), which also automatically installs the [npm](https://www.npmjs.org) package manager.\n2. [Fork](https://help.github.com/articles/fork-a-repo) the [p5.js repository](https://github.com/processing/p5.js) into your own GitHub account.\n3. [Clone](https://help.github.com/articles/cloning-a-repository/) your new fork of the repository from GitHub onto your local computer.\n\n   ```\n   $ git clone https://github.com/YOUR_USERNAME/p5.js.git\n   ```\n\n4. Navigate into the project folder and install all its necessary dependencies with npm.\n\n   ```\n   $ cd p5.js\n   $ npm ci\n   ```\n\n5. [Grunt](https://gruntjs.com/) should now be installed, and you can use it to build the library from the source code.\n\n   ```\n   $ npm run grunt\n   ```\n\n   If you're continuously changing files in the library, you may want to run `npm run dev` to automatically rebuild the library for you whenever any of its source files change without you having to first type the command manually.\n\n6. Make some changes locally to the codebase and [commit](https://help.github.com/articles/github-glossary/#commit) them with Git.\n\n   ```\n   $ git add -u\n   $ git commit -m \"YOUR COMMIT MESSAGE\"\n   ```\n\n7. Run `npm run grunt` again to make sure there are no syntax errors, test failures, or other problems.\n\n8. [Push](https://help.github.com/articles/github-glossary/#push) your new changes to your fork on GitHub.\n\n   ```\n   $ git push\n   ```\n\n9. Once everything is ready, submit your changes as a [pull request](https://help.github.com/articles/creating-a-pull-request).\n\nThis process is also covered [in a video by The Coding Train.](https://youtu.be/Rr3vLyP1Ods) :train::rainbow:\n\n# Building Documentation\n\nInline comments in p5.js are built into the public-facing [reference manual](https://p5js.org/reference/). You can also view this locally:\n\n```\n$ npm run docs:dev\n```\n# Repositories\n\nThe overarching p5.js project includes repositories other than this one.\n\n- [p5.js](https://github.com/processing/p5.js): This repository contains the source code for the p5.js library. The [user-facing p5.js reference manual](https://p5js.org/reference/) is also generated from the [JSDoc](http://usejsdoc.org/) comments included in this source code. It is maintained by [Lauren McCarthy](https://github.com/lmccart).\n- [website](https://github.com/processing/p5.js-website) This repository contains most of the code for the [p5.js website](http://p5js.org), with the exception of the reference manual. It is maintained by [Lauren McCarthy](https://github.com/lmccart).\n- [sound](https://github.com/processing/p5.js-sound) This repository contains the p5.sound.js library. It is maintained by [Jason Sigal](https://github.com/therewasaguy).\n- [web editor](https://github.com/processing/p5.js-web-editor): This repository contains the source code for the [p5.js web editor](https://editor.p5js.org). It is maintained by [Cassie Tarakajian](https://github.com/catarak). Note that the older [p5.js editor](https://github.com/processing/p5.js-editor) is now deprecated.\n\n# Miscellaneous\n\n- [Looking Inside p5.js](http://www.luisapereira.net/teaching/looking-inside-p5/) is a video tour of the tools and files used in the p5.js development workflow.\n- The p5.js [Docker image](https://github.com/toolness/p5.js-docker) can be mounted in [Docker](https://www.docker.com/) and used to develop p5.js without requiring manual installation of requirements like [Node](https://nodejs.org/) or otherwise affecting the host operating system in any way, aside from the installation of Docker.\n- The build process for the p5.js library generates a [json data file](https://p5js.org/reference/data.json) which contains the public API of p5.js and can be used in automated tooling, such as for autocompleting p5.js methods in an editor. This file is hosted on the p5.js website, but it is not included as part of the repository.\n",
          "filepath": "data/repos/processing/p5.js-0.10/developer_docs/README.md",
          "repo": "processing/p5.js",
          "version": "0.10",
          "chunk_index": 0,
          "chunk_id": "4e2a9cdb-6db0-4636-8fcf-b69b1dcbe5f9"
        }
      },
      {
        "id": "ff9bc177-e492-40af-80c0-c50527eec2fa",
        "score": 0.015873015873015872,
        "payload": {
          "text": "# p5.js Friendly Error System (FES)\n\n## Overview\n\nThe Friendly Error System (FES) is a system designed to help new programmers with common user errors as they get started learning. It catches common beginning errors and provides clear language and links to help a user resolve the error. FES is only applied to functions that are ones a user might encounter when they are just starting. An exception is made for particular common gotchas such as trying to load files without running a server, or calling loadImage() with a URL, etc.\n\nThe goal is to create accessible error messages to supplement the often cryptic console errors. For example, Javascript has no support for type checking as default making errors in parameter entry was harder to detect for new Javascript developers.\n\nMessages generated by FES are written in natural language, linked to documentation, and assume a beginner level. The errors are triggered in multiple files through out p5.js, but most of the work and error writing happens in `src/core/error_helpers.js`.  \n\nBy default, FES is enabled for `p5.js`, whereas completely disabled in `p5.min.js`. It is possible to disable FES by setting `p5.disableFriendlyErrors = true;`.\n\nSo far FES is able to detect and print messages for two kinds of errors: (1) `validateParameters()` checks a function\u2019s input parameters based on inline documentations and (2) `friendlyFileLoadError()` catches file loading errors. These two kinds of error checking have been integrated into an existing (selected set of) p5 functions, but developers can add them to more p5 functions, or their own libraries, by calling `p5._validateParameters()`. \n\nFES provides a generalized error message generation system that developers may use by calling `p5._friendlyError()`.\n\n### `core/error_helpers/friendlyFileLoadError()`: \n* This function generates and displays friendly error messages if a file fails to load correctly. It also checks if the size of a file might be too large to load and produces a warning. \n* This can be called through : `p5._friendlyFileLoadError(ERROR_TYPE, FILE_PATH)`.\n* file loading error example:\n````javascript\n/// missing font file\nlet myFont;\nfunction preload() {\n  myFont = loadFont('assets/OpenSans-Regular.ttf');\n};\nfunction setup() {\n  fill('#ED225D');\n  textFont(myFont);\n  textSize(36);\n  text('p5*js', 10, 50);\n};\nfunction draw() {};\n/// FES will generate the following message in the console:\n/// > p5.js says: It looks like there was a problem loading your font. Try checking if the file path [assets/OpenSans-Regular.ttf] is correct, hosting the font online, or running a local server.[https://github.com/processing/p5.js/wiki/Local-server]\n````\n* Currently version contains templates for generating error messages for `image`, `XML`, `table`, `text`, `json` and `font` files.\n* Implemented to `image/loading_displaying/loadImage()`, `io/files/loadFont()`, `io/files/loadTable()`, `io/files/loadJSON()`, `io/files/loadStrings()`, `io/files/loadXML()`, `io/files/loadBytes()`.\n* Error while loading a file due to its large size is implemented to all loadX methods.\n\n### `core/error_helpers/validateParameters()`:\n* This function runs parameter validation by matching the input parameters with information from `docs/reference/data.json`, which is created from the function's inline documentation. It checks that a function call contains the correct number and the correct type of parameters. \n* missing parameter example:\n````javascript\narc(1, 1, 10.5, 10);\n/// FES will generate the following message in the console:\n/// > p5.js says: It looks like arc() received an empty variable in spot #4 (zero-based index). If not intentional, this is often a problem with scope: [https://p5js.org/examples/data-variable-scope.html]. [http://p5js.org/reference/#p5/arc]\n/// > p5.js says: It looks like arc() received an empty variable in spot #5 (zero-based index). If not intentional, this is often a problem with scope: [https://p5js.org/examples/data-variable-scope.html]. [http://p5js.org/reference/#p5/arc]\n\n````\n* wrong type example:\n````javascript\narc('1', 1, 10.5, 10, 0, Math.PI, 'pie');\n/// FES will generate the following message in the console:\n/// > p5.js says: arc() was expecting Number for parameter #0 (zero-based index), received string instead. [http://p5js.org/reference/#p5/arc]\n````\n* This can be called through: `p5._validateParameters(FUNCT_NAME, ARGUMENTS)` \nor, `p5.prototype._validateParameters(FUNCT_NAME, ARGUMENTS)` inside the function that requires parameter validation. It is recommended to use static version, `p5._validateParameters` for general purposes. `p5.prototype._validateParameters(FUNCT_NAME, ARGUMENTS)` mainly remained for debugging and unit testing purposes.\n* Implemented to functions in `color/creating_reading`, `core/2d_primitives`, `core/curves`, and `utilities/string_functions`. \n\n## Additional Features\n* The FES welcomes the developer to p5 and the friendly debugger. \n* The FES works in the IDE and the web editor. \n\n## Notes for Developers\n* When creating p5.js Objects: any p5.js objects that will be used for parameters will need to assign value for `name` parameter (name of the object) within the class declaration. e.g.: \n````javascript \np5.newObject = function(parameter) {\n   this.parameter = 'some parameter';\n   this.name = 'p5.newObject';\n};\n````\n* Inline documentation: allowed parameter types are `Boolean`, `Number`, `String`, and name of the object (see the above bullet point). Use `Array` for any types of Array parameters. If needed, explain what kind of the specific types of array parameter are allowed (e.g. `Number[]`, `String[]`) in the description section.\n* Currently supported class types (have their `name` parameter): `p5.Color`, `p5.Element`, `p5.Graphics`, `p5.Renderer`, `p5.Renderer2D`, `p5.Image`, `p5.Table`, `p5.TableRow`, `p5.XML`, `p5.Vector`, `p5.Font`, `p5.Geometry`, `p5.Matrix`, `p5.RendererGL`.\n\n## Disable the FES\n\nBy default, FES is enabled for p5.js, and disabled in p5.min.js to prevent FES functions slowing down the process. The error checking system can significantly slow down your code (up to ~10x in some cases). See the [friendly error performance test](https://github.com/processing/p5.js-website/blob/master/dist/assets/learn/performance/code/friendly-error-system/).\n\nYou can disable this with one line of code at the top of your sketch:\n\n```javascript\np5.disableFriendlyErrors = true; // disables FES\n\nfunction setup() {\n  // Do setup stuff\n}\n\nfunction draw() {\n  // Do drawing stuff\n}\n```\n\nNote that this will disable the parts of the FES that cause performance slowdown (like argument checking). Friendly errors that have no performance cost (like giving an descriptive error if a file load fails, or warning you if you try to override p5.js functions in the global space), will remain in place. \n\n## Known Limitations\n* The friendly error system slows the program down, so there is an option to turn it off via setting `p5.disableFriendlyErrors = true;`. In addition, the friendly error system is omitted by default in the minified (`p5.min.js`) version.\n* FES may still result in false negative cases. These are usually caused by the mismatch between designs of the  functions (e.g. drawing functions those are originally designed to be used interchangeably in both 2D and 3D settings) with actual usage cases. For example, drawing a 3D line with \n```javascript \nconst x3; // undefined\nline(0, 0, 100, 100, x3, Math.PI);\n```\n will escape FES, because there is an acceptable parameter pattern (`Number`, `Number`, `Number`, `Number`) in `line()`'s inline documentation for drawing in 2D setting. This also means the current version of FES doesn't check for the environmental variables such as `_renderer.isP3D`.\n* Only detects an error in `loadXML` and `loadTable` when the file is requested as a url and not as a file path. I think this has to do with the reqwest library as documented here: https://github.com/ded/reqwest/issues/177\n\n## In The Works\n* Identify more common error types and generalize with FES (e.g. `bezierVertex()`, `quadraticVertex()` - required object not initiated; checking Number parameters positive for `nf()` `nfc()` `nfp()` `nfs()`)\n\n## Thoughts for the Future\n* re-introduce color coding for the Web Editor.\n* More unit testings.\n* More intuitive and narrowed down output messages.\n* Having a Spanish translation available.\n* All the colors are checked for being color blind friendly.\n* More elaborate ascii is always welcome! \n* Global Error catching. It would be very helpful to catch the errors the browser is throwing to the console, so we can match them up with friendly comments. \n\n```javascript\n// this snippet wraps window.console methods with a new function to modify their functionality\n// it is not currently implemented, but could be to give nicer formatted error messages\nconst original = window.console;\nconst original_functions  = {\n  log: original.log,\n  warn:  original.warn,\n  error: original.error\n}\n\n[\"log\", \"warn\", \"error\"].forEach(function(func){\nwindow.console[func] = function(msg) {\n//do something with the msg caught by the wrapper function, then call the original function\noriginal_functions[func].apply(original, arguments)\n};\n});\n```\n",
          "filepath": "data/repos/processing/p5.js-0.10/developer_docs/friendly_error_system.md",
          "repo": "processing/p5.js",
          "version": "0.10",
          "chunk_index": 0,
          "chunk_id": "ff9bc177-e492-40af-80c0-c50527eec2fa"
        }
      },
      {
        "id": "dd1fdbb8-adf1-4717-b005-5374a8aa41f1",
        "score": 0.015625,
        "payload": {
          "text": "# Adding inline documentation to p5.js\n\nBy adding inline documentation in the p5.js source code, a reference can be automatically generated. This document outlines the tags and information to include in your documentation so that it shows up in the reference, formatted properly. The reference is auto-generated from the source code periodically, so it may take a few days for your documentation to show up in the reference. If it's been longer than a few days or you're having other problems email [hello@p5js.org](mailto:hello@p5js.org).\n\nSee below for the basics, more specifics about yuidoc style [here](http://yui.github.io/yuidoc/syntax/index.html). __Please limit line length to 80 columns, starting new lines when it runs over.__\n\n__[List of examples needed](https://github.com/processing/p5.js/issues/1954) (you can also view the most up to date list by building the library with grunt and looking at the log messages)__\n\n## Specify element type and description\n\nThere are 4 kinds of elements: `@class`, `@method`, `@property`, `@event`.\nYou must specify one of these for the element to appear in the docs, with the name of the element after it. The description should appear on top and should not be formatted with spaces, tabs, etc.\n\n```\n   /**\n    * The x component of the vector\n    * @property x\n    * @type {Number}\n    */\n    this.x = x || 0;\n```\n\n```\n\n  /**\n   * Draw an arc\n   *\n   * If x, y, width, height, start and stop are the only params provided, draws an\n   * open pie.\n   * If mode is provided draws the arc either open, chord or pie, dependant\n   * on the variable provided\n   *\n   * @param  {Number} x x-coordinate of the arc's ellipse\n   * @param  {Number} y y-coordinate of the arc's ellipse\n   * @param  {Number} width width of the arc's ellipse by default\n   * @param  {Number} height height of the arc's ellipse by default\n   * @param  {Number} start angle to start the arc, specified in radians\n   * @param  {Number} stop angle to stop the arc, specified in radians\n   * @param  {String} [mode] optional parameter to determine the way of drawing the arc\n   */\n```\n\n```\n  /**\n   *\n   * Calculates the magnitude (length) of the vector and returns the result\n   * as a float (this is simply the equation <em>sqrt(x*x + y*y + z*z)</em>.)\n   *\n   * @method mag\n   * @return {number} magnitude (length) of the vector\n   */\n   PVector.prototype.mag = function () {\n    return Math.sqrt(this.magSq());\n   };\n```\n\n## Specify parameters\n\nFor methods, any `@params` should be specified. They should not be formatted with spaces, tabs, etc, and should follow the standard:\n\n```\n@param {type} name Description here, no problem how long.\n```\n\nIf the parameter is optional, add square brackets around the name:\n\n```\n@param {type} [name] Description here.\n```\n\nIf the parameter takes one or more values defined in `constants.js`,\nthen the type should be specified as `{Constant}` and the valid values should be enumerated in the comment following the `either` keyword, eg:\n\n```\n@param {Constant} horizAlign horizontal alignment, either LEFT, CENTER, or RIGHT\n```\n\n## Specify return type\n\nThe `@return` is identical to `@params`, but without the name. It should be the last element in `@method`. The JS types are: String, Number, Boolean, Object, Array, Null, and Undefined. If there is no return type, do not include `@return`. \n\n```\n@return {type} Description of the data returned.\n```\n\nIf the method returns the parent object, you can skip the @return and add this line instead:\n\n```\n@chainable\n```\n\n## Additional signatures\n\nIf a method has multiple possible parameter options, you can specify each individually. For example, see the examples for [background](http://p5js.org/reference/#p5/background) under \"syntax\". To do this, choose one version to list as the first signature using the guidelines above. At the end of the documentation block, you can add additional signatures, each in it's own block, following the example below.\n\n```\n/**\n * @method background\n * @param {String} colorstring color string, possible formats include: integer\n *                         rgb() or rgba(), percentage rgb() or rgba(),\n *                         3-digit hex, 6-digit hex\n * @param {Number} [a] alpha value\n */\n\n/**\n * @method background\n * @param {Number} gray specifies a value between white and black\n * @param {Number} [a]\n */\n```\n\nNotes:\n* If a parameter has been defined previously, like `a` in this case, you do not need to fill in the definition again. \n* It is not necessary to create a separate signature if the only difference between two signatures is the additional of an optional parameter.\n* You can see two examples of this inline in the source code for [background](https://github.com/processing/p5.js/blob/f38f91308fdacc2f1982e0430b620778fff30a5a/src/color/setting.js#L106) and [color](https://github.com/processing/p5.js/blob/f38f91308fdacc2f1982e0430b620778fff30a5a/src/color/creating_reading.js#L241).\n\n## Specify other tags\n\nUse `@final` if a property or variable is a constant:\n\n```\n    /**\n     * PI is a mathematical constant with the value 3.14159265358979323846.\n     * @property PI\n     * @type Number\n     * @final\n     */\n    PI: PI\n```\n\nUse `@private` if a property or variable is a private variable (default is `@public` so no need to specify).\n\n```\n    /**\n     * _start calls preload() setup() and draw()\n     * \n     * @method _start\n     * @private\n     */\n     p5.prototype._start = function () {\n```\n\n## Specify module for files\n\nThe top of each *file* should contain a `@module` tag at the top of the file. Modules should correspond to JavaScript files (or require.js modules). They can work as groups in the lists of items. see here: http://p5js.org/api/#methods (the modules are COLOR, IMAGE, PVECTOR, etc.). \n\n```\n/**\n * @module image\n */\ndefine(function (require) {\n  // code here\n};\n```\n\n\n## Constructors\n\nConstructors are defined with `@class`. Each constructor should have the tag `@class` followed by the name of the class, as well as the tag `@constructor`, and any `@param` tags required.\n\n```\n  /**\n   * The p5 constructor function.\n   * @class p5\n   * @constructor\n   * @param {Object} [node] The canvas element. A canvas will be added to the DOM if not provided.\n   * @param {Object} [sketch] The sketch object.\n   */\n   const p5 = function( node, sketch) {\n     ...\n   }\n```\n\n## Adding example code\n\nOptionally, you can add examples with `@example`. Example code can be placed between `<code></code>` tags with comments included. Unless otherwise specified with a `setup()` function, each `<code>` block is automatically run on a canvas of 100x100 pixels with a gray background.  Define all variables with `let` in examples, as the lowest barrier for beginners learning JS. Please see examples in other src files to make sure it is formatted correctly.\n\n```\n@example\n<div>\n<code>\narc(50, 55, 50, 50, 0, HALF_PI);\nnoFill();\narc(50, 55, 60, 60, HALF_PI, PI);\narc(50, 55, 70, 70, PI, PI+QUARTER_PI);\narc(50, 55, 80, 80, PI+QUARTER_PI, TWO_PI);\n</code>\n</div>\n```\n\nYou can have multiple examples for one function, just make sure each has it's own `<div>` wrapping. \n```\n@example\n<div>\n<code>arc(50, 50, 80, 80, 0, PI+QUARTER_PI, OPEN);</code>\n</div>\n<div>\n<code>arc(50, 50, 80, 80, 0, PI, OPEN);</code>\n</div>\n```\n\nIf you do not want the example to render with canvas (ie you just want the code to show up), include the class \"norender\" in the div:\n```\n@example\n<div class=\"norender\">\n<code>arc(50, 50, 80, 80, 0, PI+QUARTER_PI, OPEN);</code>\n</div>\n```\n\n\nIf you do not want the example to be run as part of the build tests (for example, if the example requires user interaction, or uses functionality not supported by the headless-Chrome test framework), include the class \"notest\" in the div:\n```\n@example\n<div class='norender notest'><code>\nfunction setup() {\n  let c = createCanvas(100, 100);\n  saveCanvas(c, 'myCanvas', 'jpg');\n}\n</code></div>\n```\n\nIf you need to link to external asset files, put them in [/docs/yuidoc-p5-theme/assets](https://github.com/processing/p5.js/tree/master/docs/yuidoc-p5-theme/assets) and then link to them with \"assets/filename.ext\" in the code. See the [tint example](http://p5js.org/reference/#/p5/tint).\n\nOn some code editors copy-pasting examples in the inline documentation may be awkward and require a lot of adjustments (tabs, asterisks, spaces). You can use this simple tool to beautify the code (and re-indent it to 2 spaces) and make it ready for a copy-paste: \n[p5examplesFormatter](http://molleindustria.org/p5examplesFormatter/)\n| [download as zip](http://molleindustria.org/p5examplesFormatter/p5examplesFormatter.zip)\n\n### Adding alt-text\nFinally, if you add an example, please add [alt-text](https://moz.com/learn/seo/alt-text) so visually impaired users can understand what the example is showing on the screen. This can be added with the tag `@alt` at the end of all of the examples for a given function (not an individual `@alt` tag under each), add a line break to separate the descriptions for multiple examples.\n```\n@example\n<div>\n<code>\nlet xoff = 0.0;\nfunction draw() {\n  background(204);\n  xoff = xoff + 0.01;\n  let n = noise(xoff) * width;\n  line(n, 0, n, height);\n}\n</code>\n</div>\n<div>\n<code>\nlet noiseScale=0.02;\nfunction draw() {\n  background(0);\n  for (let x=0; x < width; x++) {\n    let noiseVal = noise((mouseX+x)*noiseScale, mouseY*noiseScale);\n    stroke(noiseVal*255);\n    line(x, mouseY+noiseVal*80, x, height);\n  }\n}\n</code>\n</div>\n\n@alt\nvertical line moves left to right with updating noise values.\nhorizontal wave pattern effected by mouse x-position & updating noise values.\n```\n\n\n## Generating documentation\n\nRun `grunt yui:build` once first to generate all local files needed, as well as a copy of the reference from the source code. Run it again anytime you make changes to the core JS files behind the yuidoc reference page. These are changes in files located in the yuidoc-p5-theme-src folder, NOT inline documentation changes to src. If you only made changes to the source code, you can just run `grunt yui`, though `grunt yui:build` will also do the trick. \n\nThe build reference can be found in docs/reference. To preview it locally, run `grunt yui:dev` and view it as http://localhost:9001/docs/reference/.\n\n## Spanish language version\n\nThe [Spanish version](http://p5js.org/es/reference) is created a little differently. Here are [instructions](https://github.com/processing/p5.js-website/blob/master/contributor_docs/i18n_contribution.md) to update this material.\n",
          "filepath": "data/repos/processing/p5.js-0.10/developer_docs/inline_documentation.md",
          "repo": "processing/p5.js",
          "version": "0.10",
          "chunk_index": 0,
          "chunk_id": "dd1fdbb8-adf1-4717-b005-5374a8aa41f1"
        }
      },
      {
        "id": "c88d988b-5e4a-43c2-9d0f-c293338798cf",
        "score": 0.015384615384615385,
        "payload": {
          "text": "/**\n * @module Lights, Camera\n * @submodule Material\n * @for p5\n * @requires core\n */\n\nimport p5 from '../core/main';\nimport * as constants from '../core/constants';\nimport './p5.Texture';\n\n/**\n * Loads a custom shader from the provided vertex and fragment\n * shader paths. The shader files are loaded asynchronously in the\n * background, so this method should be used in <a href=\"#/p5/preload\">preload()</a>.\n *\n * For now, there are three main types of shaders. p5 will automatically\n * supply appropriate vertices, normals, colors, and lighting attributes\n * if the parameters defined in the shader match the names.\n *\n * @method loadShader\n * @param {String} vertFilename path to file containing vertex shader\n * source code\n * @param {String} fragFilename path to file containing fragment shader\n * source code\n * @param {function} [callback] callback to be executed after loadShader\n * completes. On success, the Shader object is passed as the first argument.\n * @param {function} [errorCallback] callback to be executed when an error\n * occurs inside loadShader. On error, the error is passed as the first\n * argument.\n * @return {p5.Shader} a shader object created from the provided\n * vertex and fragment shader files.\n *\n * @example\n * <div modernizr='webgl'>\n * <code>\n * let mandel;\n * function preload() {\n *   // load the shader definitions from files\n *   mandel = loadShader('assets/shader.vert', 'assets/shader.frag');\n * }\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n *   // use the shader\n *   shader(mandel);\n *   noStroke();\n *   mandel.setUniform('p', [-0.74364388703, 0.13182590421]);\n * }\n *\n * function draw() {\n *   mandel.setUniform('r', 1.5 * exp(-6.5 * (1 + sin(millis() / 2000))));\n *   quad(-1, -1, 1, -1, 1, 1, -1, 1);\n * }\n * </code>\n * </div>\n *\n * @alt\n * zooming Mandelbrot set. a colorful, infinitely detailed fractal.\n */\np5.prototype.loadShader = function(\n  vertFilename,\n  fragFilename,\n  callback,\n  errorCallback\n) {\n  p5._validateParameters('loadShader', arguments);\n  if (!errorCallback) {\n    errorCallback = console.error;\n  }\n\n  const loadedShader = new p5.Shader();\n\n  const self = this;\n  let loadedFrag = false;\n  let loadedVert = false;\n\n  const onLoad = () => {\n    self._decrementPreload();\n    if (callback) {\n      callback(loadedShader);\n    }\n  };\n\n  this.loadStrings(\n    vertFilename,\n    result => {\n      loadedShader._vertSrc = result.join('\\n');\n      loadedVert = true;\n      if (loadedFrag) {\n        onLoad();\n      }\n    },\n    errorCallback\n  );\n\n  this.loadStrings(\n    fragFilename,\n    result => {\n      loadedShader._fragSrc = result.join('\\n');\n      loadedFrag = true;\n      if (loadedVert) {\n        onLoad();\n      }\n    },\n    errorCallback\n  );\n\n  return loadedShader;\n};\n\n/**\n * @method createShader\n * @param {String} vertSrc source code for the vertex shader\n * @param {String} fragSrc source code for the fragment shader\n * @returns {p5.Shader} a shader object created from the provided\n * vertex and fragment shaders.\n *\n * @example\n * <div modernizr='webgl'>\n * <code>\n * // the 'varying's are shared between both vertex & fragment shaders\n * let varying = 'precision highp float; varying vec2 vPos;';\n *\n * // the vertex shader is called for each vertex\n * let vs =\n *   varying +\n *   'attribute vec3 aPosition;' +\n *   'void main() { vPos = (gl_Position = vec4(aPosition,1.0)).xy; }';\n *\n * // the fragment shader is called for each pixel\n * let fs =\n *   varying +\n *   'uniform vec2 p;' +\n *   'uniform float r;' +\n *   'const int I = 500;' +\n *   'void main() {' +\n *   '  vec2 c = p + vPos * r, z = c;' +\n *   '  float n = 0.0;' +\n *   '  for (int i = I; i > 0; i --) {' +\n *   '    if(z.x*z.x+z.y*z.y > 4.0) {' +\n *   '      n = float(i)/float(I);' +\n *   '      break;' +\n *   '    }' +\n *   '    z = vec2(z.x*z.x-z.y*z.y, 2.0*z.x*z.y) + c;' +\n *   '  }' +\n *   '  gl_FragColor = vec4(0.5-cos(n*17.0)/2.0,0.5-cos(n*13.0)/2.0,0.5-cos(n*23.0)/2.0,1.0);' +\n *   '}';\n *\n * let mandel;\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n *\n *   // create and initialize the shader\n *   mandel = createShader(vs, fs);\n *   shader(mandel);\n *   noStroke();\n *\n *   // 'p' is the center point of the Mandelbrot image\n *   mandel.setUniform('p', [-0.74364388703, 0.13182590421]);\n * }\n *\n * function draw() {\n *   // 'r' is the size of the image in Mandelbrot-space\n *   mandel.setUniform('r', 1.5 * exp(-6.5 * (1 + sin(millis() / 2000))));\n *   quad(-1, -1, 1, -1, 1, 1, -1, 1);\n * }\n * </code>\n * </div>\n *\n * @alt\n * zooming Mandelbrot set. a colorful, infinitely detailed fractal.\n */\np5.prototype.createShader = function(vertSrc, fragSrc) {\n  this._assert3d('createShader');\n  p5._validateParameters('createShader', arguments);\n  return new p5.Shader(this._renderer, vertSrc, fragSrc);\n};\n\n/**\n * The <a href=\"#/p5/shader\">shader()</a> function lets the user provide a custom shader\n * to fill in shapes in WEBGL mode. Users can create their\n * own shaders by loading vertex and fragment shaders with\n * <a href=\"#/p5/loadShader\">loadShader()</a>.\n *\n * @method shader\n * @chainable\n * @param {p5.Shader} [s] the desired <a href=\"#/p5.Shader\">p5.Shader</a> to use for rendering\n * shapes.\n *\n * @example\n * <div modernizr='webgl'>\n * <code>\n * // Click within the image to toggle\n * // the shader used by the quad shape\n * // Note: for an alternative approach to the same example,\n * // involving changing uniforms please refer to:\n * // https://p5js.org/reference/#/p5.Shader/setUniform\n *\n * let redGreen;\n * let orangeBlue;\n * let showRedGreen = false;\n *\n * function preload() {\n *   // note that we are using two instances\n *   // of the same vertex and fragment shaders\n *   redGreen = loadShader('assets/shader.vert', 'assets/shader-gradient.frag');\n *   orangeBlue = loadShader('assets/shader.vert', 'assets/shader-gradient.frag');\n * }\n *\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n *\n *   // initialize the colors for redGreen shader\n *   shader(redGreen);\n *   redGreen.setUniform('colorCenter', [1.0, 0.0, 0.0]);\n *   redGreen.setUniform('colorBackground', [0.0, 1.0, 0.0]);\n *\n *   // initialize the colors for orangeBlue shader\n *   shader(orangeBlue);\n *   orangeBlue.setUniform('colorCenter', [1.0, 0.5, 0.0]);\n *   orangeBlue.setUniform('colorBackground', [0.226, 0.0, 0.615]);\n *\n *   noStroke();\n * }\n *\n * function draw() {\n *   // update the offset values for each shader,\n *   // moving orangeBlue in vertical and redGreen\n *   // in horizontal direction\n *   orangeBlue.setUniform('offset', [0, sin(millis() / 2000) + 1]);\n *   redGreen.setUniform('offset', [sin(millis() / 2000), 1]);\n *\n *   if (showRedGreen === true) {\n *     shader(redGreen);\n *   } else {\n *     shader(orangeBlue);\n *   }\n *   quad(-1, -1, 1, -1, 1, 1, -1, 1);\n * }\n *\n * function mouseClicked() {\n *   showRedGreen = !showRedGreen;\n * }\n * </code>\n * </div>\n *\n * @alt\n * canvas toggles between a circular gradient of orange and blue vertically. and a circular gradient of red and green moving horizontally when mouse is clicked/pressed.\n */\np5.prototype.shader = function(s) {\n  this._assert3d('shader');\n  p5._validateParameters('shader', arguments);\n\n  if (s._renderer === undefined) {\n    s._renderer = this._renderer;\n  }\n\n  if (s.isStrokeShader()) {\n    this._renderer.userStrokeShader = s;\n  } else {\n    this._renderer.userFillShader = s;\n    this._renderer._useNormalMaterial = false;\n  }\n\n  s.init();\n\n  return this;\n};\n\n/**\n * This function restores the default shaders in WEBGL mode. Code that runs\n * after resetShader() will not be affected by previously defined\n * shaders. Should be run after <a href=\"#/p5/shader\">shader()</a>.\n *\n * @method resetShader\n * @chainable\n */\np5.prototype.resetShader = function() {\n  this._renderer.userFillShader = this._renderer.userStrokeShader = null;\n  return this;\n};\n\n/**\n * Normal material for geometry. You can view all\n * possible materials in this\n * <a href=\"https://p5js.org/examples/3d-materials.html\">example</a>.\n * @method normalMaterial\n * @chainable\n * @example\n * <div>\n * <code>\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n * }\n *\n * function draw() {\n *   background(200);\n *   normalMaterial();\n *   sphere(40);\n * }\n * </code>\n * </div>\n *\n * @alt\n * Red, green and blue gradient.\n *\n */\np5.prototype.normalMaterial = function(...args) {\n  this._assert3d('normalMaterial');\n  p5._validateParameters('normalMaterial', args);\n  this._renderer.drawMode = constants.FILL;\n  this._renderer._useSpecularMaterial = false;\n  this._renderer._useEmissiveMaterial = false;\n  this._renderer._useNormalMaterial = true;\n  this._renderer.curFillColor = [1, 1, 1, 1];\n  this._renderer._setProperty('_doFill', true);\n  this.noStroke();\n  return this;\n};\n\n/**\n * Texture for geometry.  You can view other possible materials in this\n * <a href=\"https://p5js.org/examples/3d-materials.html\">example</a>.\n * @method texture\n * @param {p5.Image|p5.MediaElement|p5.Graphics} tex 2-dimensional graphics\n *                    to render as texture\n * @chainable\n * @example\n * <div>\n * <code>\n * let img;\n * function preload() {\n *   img = loadImage('assets/laDefense.jpg');\n * }\n *\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n * }\n *\n * function draw() {\n *   background(0);\n *   rotateZ(frameCount * 0.01);\n *   rotateX(frameCount * 0.01);\n *   rotateY(frameCount * 0.01);\n *   //pass image as texture\n *   texture(img);\n *   box(200, 200, 200);\n * }\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * let pg;\n *\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n *   pg = createGraphics(200, 200);\n *   pg.textSize(75);\n * }\n *\n * function draw() {\n *   background(0);\n *   pg.background(255);\n *   pg.text('hello!', 0, 100);\n *   //pass image as texture\n *   texture(pg);\n *   rotateX(0.5);\n *   noStroke();\n *   plane(50);\n * }\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * let vid;\n * function preload() {\n *   vid = createVideo('assets/fingers.mov');\n *   vid.hide();\n * }\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n * }\n *\n * function draw() {\n *   background(0);\n *   //pass video frame as texture\n *   texture(vid);\n *   rect(-40, -40, 80, 80);\n * }\n *\n * function mousePressed() {\n *   vid.loop();\n * }\n * </code>\n * </div>\n *\n * @alt\n * Rotating view of many images umbrella and grid roof on a 3d plane\n * black canvas\n * black canvas\n *\n */\np5.prototype.texture = function(tex) {\n  this._assert3d('texture');\n  p5._validateParameters('texture', arguments);\n  if (tex.gifProperties) {\n    tex._animateGif(this);\n  }\n\n  this._renderer.drawMode = constants.TEXTURE;\n  this._renderer._useSpecularMaterial = false;\n  this._renderer._useEmissiveMaterial = false;\n  this._renderer._useNormalMaterial = false;\n  this._renderer._tex = tex;\n  this._renderer._setProperty('_doFill', true);\n\n  return this;\n};\n\n/**\n * Sets the coordinate space for texture mapping. The default mode is IMAGE\n * which refers to the actual coordinates of the image.\n * NORMAL refers to a normalized space of values ranging from 0 to 1.\n * This function only works in WEBGL mode.\n *\n * With IMAGE, if an image is 100 x 200 pixels, mapping the image onto the entire\n * size of a quad would require the points (0,0) (100, 0) (100,200) (0,200).\n * The same mapping in NORMAL is (0,0) (1,0) (1,1) (0,1).\n * @method  textureMode\n * @param {Constant} mode either IMAGE or NORMAL\n * @example\n * <div>\n * <code>\n * let img;\n *\n * function preload() {\n *   img = loadImage('assets/laDefense.jpg');\n * }\n *\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n * }\n *\n * function draw() {\n *   texture(img);\n *   textureMode(NORMAL);\n *   beginShape();\n *   vertex(-50, -50, 0, 0);\n *   vertex(50, -50, 1, 0);\n *   vertex(50, 50, 1, 1);\n *   vertex(-50, 50, 0, 1);\n *   endShape();\n * }\n * </code>\n * </div>\n *\n * @alt\n * the underside of a white umbrella and gridded ceiling above\n *\n * <div>\n * <code>\n * let img;\n *\n * function preload() {\n *   img = loadImage('assets/laDefense.jpg');\n * }\n *\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n * }\n *\n * function draw() {\n *   texture(img);\n *   textureMode(NORMAL);\n *   beginShape();\n *   vertex(-50, -50, 0, 0);\n *   vertex(50, -50, img.width, 0);\n *   vertex(50, 50, img.width, img.height);\n *   vertex(-50, 50, 0, img.height);\n *   endShape();\n * }\n * </code>\n * </div>\n *\n * @alt\n * the underside of a white umbrella and gridded ceiling above\n *\n */\np5.prototype.textureMode = function(mode) {\n  if (mode !== constants.IMAGE && mode !== constants.NORMAL) {\n    console.warn(\n      `You tried to set ${mode} textureMode only supports IMAGE & NORMAL `\n    );\n  } else {\n    this._renderer.textureMode = mode;\n  }\n};\n\n/**\n * Sets the global texture wrapping mode. This controls how textures behave\n * when their uv's go outside of the 0 - 1 range. There are three options:\n * CLAMP, REPEAT, and MIRROR.\n *\n * CLAMP causes the pixels at the edge of the texture to extend to the bounds\n * REPEAT causes the texture to tile repeatedly until reaching the bounds\n * MIRROR works similarly to REPEAT but it flips the texture with every new tile\n *\n * REPEAT & MIRROR are only available if the texture\n * is a power of two size (128, 256, 512, 1024, etc.).\n *\n * This method will affect all textures in your sketch until a subsequent\n * textureWrap call is made.\n *\n * If only one argument is provided, it will be applied to both the\n * horizontal and vertical axes.\n * @method textureWrap\n * @param {Constant} wrapX either CLAMP, REPEAT, or MIRROR\n * @param {Constant} [wrapY] either CLAMP, REPEAT, or MIRROR\n * @example\n * <div>\n * <code>\n * let img;\n * function preload() {\n *   img = loadImage('assets/rockies128.jpg');\n * }\n *\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n *   textureWrap(MIRROR);\n * }\n *\n * function draw() {\n *   background(0);\n *\n *   let dX = mouseX;\n *   let dY = mouseY;\n *\n *   let u = lerp(1.0, 2.0, dX);\n *   let v = lerp(1.0, 2.0, dY);\n *\n *   scale(width / 2);\n *\n *   texture(img);\n *\n *   beginShape(TRIANGLES);\n *   vertex(-1, -1, 0, 0, 0);\n *   vertex(1, -1, 0, u, 0);\n *   vertex(1, 1, 0, u, v);\n *\n *   vertex(1, 1, 0, u, v);\n *   vertex(-1, 1, 0, 0, v);\n *   vertex(-1, -1, 0, 0, 0);\n *   endShape();\n * }\n * </code>\n * </div>\n *\n * @alt\n * an image of the rocky mountains repeated in mirrored tiles\n *\n */\np5.prototype.textureWrap = function(wrapX, wrapY = wrapX) {\n  this._renderer.textureWrapX = wrapX;\n  this._renderer.textureWrapY = wrapY;\n\n  const textures = this._renderer.textures;\n  for (let i = 0; i < textures.length; i++) {\n    textures[i].setWrapMode(wrapX, wrapY);\n  }\n};\n\n/**\n * Ambient material for geometry with a given color. You can view all\n * possible materials in this\n * <a href=\"https://p5js.org/examples/3d-materials.html\">example</a>.\n * @method  ambientMaterial\n * @param  {Number} v1  gray value, red or hue value\n *                         (depending on the current color mode),\n * @param  {Number} [v2] green or saturation value\n * @param  {Number} [v3] blue or brightness value\n * @param  {Number} [a]  opacity\n * @chainable\n * @example\n * <div>\n * <code>\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n * }\n * function draw() {\n *   background(0);\n *   noStroke();\n *   ambientLight(200);\n *   ambientMaterial(70, 130, 230);\n *   sphere(40);\n * }\n * </code>\n * </div>\n *\n * @alt\n * radiating light source from top right of canvas\n *\n */\n/**\n * @method  ambientMaterial\n * @param  {Number[]|String|p5.Color} color  color, color Array, or CSS color string\n * @chainable\n */\np5.prototype.ambientMaterial = function(v1, v2, v3, a) {\n  this._assert3d('ambientMaterial');\n  p5._validateParameters('ambientMaterial', arguments);\n\n  const color = p5.prototype.color.apply(this, arguments);\n  this._renderer.curFillColor = color._array;\n  this._renderer._useSpecularMaterial = false;\n  this._renderer._useEmissiveMaterial = false;\n  this._renderer._useNormalMaterial = false;\n  this._renderer._enableLighting = true;\n  this._renderer._tex = null;\n\n  return this;\n};\n\n/**\n * Sets the emissive color of the material used for geometry drawn to\n * the screen. This is a misnomer in the sense that the material does not\n * actually emit light that effects surrounding polygons. Instead,\n * it gives the appearance that the object is glowing. An emissive material\n * will display at full strength even if there is no light for it to reflect.\n * @method emissiveMaterial\n * @param  {Number} v1  gray value, red or hue value\n *                         (depending on the current color mode),\n * @param  {Number} [v2] green or saturation value\n * @param  {Number} [v3] blue or brightness value\n * @param  {Number} [a]  opacity\n * @chainable\n * @example\n * <div>\n * <code>\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n * }\n * function draw() {\n *   background(0);\n *   noStroke();\n *   ambientLight(0);\n *   emissiveMaterial(130, 230, 0);\n *   sphere(40);\n * }\n * </code>\n * </div>\n *\n * @alt\n * radiating light source from top right of canvas\n */\n/**\n * @method  emissiveMaterial\n * @param  {Number[]|String|p5.Color} color  color, color Array, or CSS color string\n * @chainable\n */\np5.prototype.emissiveMaterial = function(v1, v2, v3, a) {\n  this._assert3d('emissiveMaterial');\n  p5._validateParameters('emissiveMaterial', arguments);\n\n  const color = p5.prototype.color.apply(this, arguments);\n  this._renderer.curFillColor = color._array;\n  this._renderer._useSpecularMaterial = false;\n  this._renderer._useEmissiveMaterial = true;\n  this._renderer._useNormalMaterial = false;\n  this._renderer._enableLighting = true;\n  this._renderer._tex = null;\n\n  return this;\n};\n\n/**\n * Specular material for geometry with a given color. You can view all\n * possible materials in this\n * <a href=\"https://p5js.org/examples/3d-materials.html\">example</a>.\n * @method specularMaterial\n * @param  {Number} v1  gray value, red or hue value\n *                       (depending on the current color mode),\n * @param  {Number} [v2] green or saturation value\n * @param  {Number} [v3] blue or brightness value\n * @param  {Number} [a]  opacity\n * @chainable\n * @example\n * <div>\n * <code>\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n * }\n * function draw() {\n *   background(0);\n *   noStroke();\n *   ambientLight(50);\n *   pointLight(250, 250, 250, 100, 100, 30);\n *   specularMaterial(250);\n *   sphere(40);\n * }\n * </code>\n * </div>\n *\n * @alt\n * diffused radiating light source from top right of canvas\n *\n */\n/**\n * @method specularMaterial\n * @param  {Number[]|String|p5.Color} color color Array, or CSS color string\n * @chainable\n */\np5.prototype.specularMaterial = function(v1, v2, v3, a) {\n  this._assert3d('specularMaterial');\n  p5._validateParameters('specularMaterial', arguments);\n\n  const color = p5.prototype.color.apply(this, arguments);\n  this._renderer.curFillColor = color._array;\n  this._renderer._useSpecularMaterial = true;\n  this._renderer._useEmissiveMaterial = false;\n  this._renderer._useNormalMaterial = false;\n  this._renderer._enableLighting = true;\n  this._renderer._tex = null;\n\n  return this;\n};\n\n/**\n * Sets the amount of gloss in the surface of shapes.\n * Used in combination with specularMaterial() in setting\n * the material properties of shapes. The default and minimum value is 1.\n * @method shininess\n * @param {Number} shine Degree of Shininess.\n *                       Defaults to 1.\n * @chainable\n * @example\n * <div>\n * <code>\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n * }\n * function draw() {\n *   background(0);\n *   noStroke();\n *   let locX = mouseX - width / 2;\n *   let locY = mouseY - height / 2;\n *   ambientLight(60, 60, 60);\n *   pointLight(255, 255, 255, locX, locY, 50);\n *   specularMaterial(250);\n *   translate(-25, 0, 0);\n *   shininess(1);\n *   sphere(20);\n *   translate(50, 0, 0);\n *   shininess(20);\n *   sphere(20);\n * }\n * </code>\n * </div>\n * @alt\n * Shininess on Camera changes position with mouse\n */\np5.prototype.shininess = function(shine) {\n  this._assert3d('shininess');\n  p5._validateParameters('shininess', arguments);\n\n  if (shine < 1) {\n    shine = 1;\n  }\n  this._renderer._useShininess = shine;\n  return this;\n};\n\n/**\n * @private blends colors according to color components.\n * If alpha value is less than 1, we need to enable blending\n * on our gl context.  Otherwise opaque objects need to a depthMask.\n * @param  {Number[]} color [description]\n * @return {Number[]]}  Normalized numbers array\n */\np5.RendererGL.prototype._applyColorBlend = function(colors) {\n  const gl = this.GL;\n\n  const isTexture = this.drawMode === constants.TEXTURE;\n  if (isTexture || colors[colors.length - 1] < 1.0 || this._isErasing) {\n    gl.depthMask(isTexture);\n    gl.enable(gl.BLEND);\n    this._applyBlendMode();\n  } else {\n    gl.depthMask(true);\n    gl.disable(gl.BLEND);\n  }\n  return colors;\n};\n\n/**\n * @private sets blending in gl context to curBlendMode\n * @param  {Number[]} color [description]\n * @return {Number[]]}  Normalized numbers array\n */\np5.RendererGL.prototype._applyBlendMode = function() {\n  const gl = this.GL;\n  switch (this.curBlendMode) {\n    case constants.BLEND:\n    case constants.ADD:\n      gl.blendEquation(gl.FUNC_ADD);\n      gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n      break;\n    case constants.REMOVE:\n      gl.blendEquation(gl.FUNC_REVERSE_SUBTRACT);\n      gl.blendFunc(gl.SRC_ALPHA, gl.DST_ALPHA);\n      break;\n    case constants.MULTIPLY:\n      gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\n      gl.blendFuncSeparate(gl.ZERO, gl.SRC_COLOR, gl.ONE, gl.ONE);\n      break;\n    case constants.SCREEN:\n      gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\n      gl.blendFuncSeparate(gl.ONE_MINUS_DST_COLOR, gl.ONE, gl.ONE, gl.ONE);\n      break;\n    case constants.EXCLUSION:\n      gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\n      gl.blendFuncSeparate(\n        gl.ONE_MINUS_DST_COLOR,\n        gl.ONE_MINUS_SRC_COLOR,\n        gl.ONE,\n        gl.ONE\n      );\n      break;\n    case constants.REPLACE:\n      gl.blendEquation(gl.FUNC_ADD);\n      gl.blendFunc(gl.ONE, gl.ZERO);\n      break;\n    case constants.SUBTRACT:\n      gl.blendEquationSeparate(gl.FUNC_REVERSE_SUBTRACT, gl.FUNC_ADD);\n      gl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE, gl.ONE, gl.ONE);\n      break;\n    case constants.DARKEST:\n      if (this.blendExt) {\n        gl.blendEquationSeparate(this.blendExt.MIN_EXT, gl.FUNC_ADD);\n        gl.blendFuncSeparate(gl.ONE, gl.ONE, gl.ONE, gl.ONE);\n      } else {\n        console.warn(\n          'blendMode(DARKEST) does not work in your browser in WEBGL mode.'\n        );\n      }\n      break;\n    case constants.LIGHTEST:\n      if (this.blendExt) {\n        gl.blendEquationSeparate(this.blendExt.MAX_EXT, gl.FUNC_ADD);\n        gl.blendFuncSeparate(gl.ONE, gl.ONE, gl.ONE, gl.ONE);\n      } else {\n        console.warn(\n          'blendMode(LIGHTEST) does not work in your browser in WEBGL mode.'\n        );\n      }\n      break;\n    default:\n      console.error(\n        'Oops! Somehow RendererGL set curBlendMode to an unsupported mode.'\n      );\n      break;\n  }\n};\n\nexport default p5;\n",
          "filepath": "data/repos/processing/p5.js-0.10/src/webgl/material.js",
          "repo": "processing/p5.js",
          "version": "0.10",
          "chunk_index": 0,
          "chunk_id": "c88d988b-5e4a-43c2-9d0f-c293338798cf"
        }
      }
    ]
  },
  {
    "instance_id": "diegomura__react-pdf-433",
    "model_patch": "diff --git a/transformStyles.js b/transformStyles.js\nindex 8f2e4c3..b1a2d4e 100644\n--- a/transformStyles.js\n+++ b/transformStyles.js\n@@ -120,7 +120,7 @@ const matchBorderShorthand = value =>\n   value.match(/(\\d+(px|in|mm|cm|pt)?)\\s(\\S+)\\s(\\S+)/);\n \n // Transforms shorthand border values to correct value\n-const processBorders = (key, value) => {\n+const processBorders = (key, value, borderRadius) => {\n   const match = matchBorderShorthand(value);\n \n   if (match) {\n@@ -130,6 +130,10 @@ const processBorders = (key, value) => {\n     } else if (key.match(/.Width/)) {\n       return match[1];\n     } else {\n+      // Handle borderRadius for rounded borders\n+      if (borderRadius && key.match(/.Width/)) {\n+        return parseFloat(match[1]) * 2; // Adjust width for rounded borders\n+      }\n       throw new Error(`StyleSheet: Invalid '${value}' for '${key}'`);\n     }\n   }\n@@ -141,7 +145,7 @@ const transformStyles = style => {\n \n   for (let i = 0; i < propsArray.length; i++) {\n     const key = propsArray[i];\n-    const isBorderStyle = key.match(/border/) && typeof value === 'string';\n+    const isBorderStyle = key.match(/border/) && typeof value === 'string' && !key.match(/Radius/);\n     const resolved = isBorderStyle ? processBorders(key, value, expandedStyles.borderRadius) : value;\n \n     resolvedStyle[key] = parseScalar(resolved);",
    "model_name_or_path": "text_bm25",
    "metrics": {
      "issue_embedding_time_ms": 0.0,
      "retrieval_time_ms_bm25": 17.52,
      "retrieval_time_ms": 17.52,
      "total_retrieval_time_ms": 17.52,
      "generation_time_ms": 6252.59,
      "total_io_time_ms": 6270.11,
      "input_total_token_limit": null,
      "issue_text_tokens": 529,
      "vlm_tokens": 0,
      "retrieved_tokens": 4601,
      "prompt_template_tokens": 506,
      "total_input_prompt_tokens": 5636,
      "output_generated_tokens": 392,
      "total_io_tokens": 6028,
      "input_prompt_text": "[{\"type\": \"text\", \"text\": \"You will be provided with a partial code base and an issue statement explaining a problem to resolve.\\n<issue>\\nSetting a border on a rounded <View> causes unexpected results\\n\\r\\n**OS:**\\r\\nmacOS 10.13 High Sierra\\r\\n\\r\\n**React-pdf version:**\\r\\n@react-pdf/renderer@^1.0.0-alpha.25\\r\\n\\r\\n**Description:**\\r\\nI am attempting to draw a circle with a border by rounding a `<View />` and adding a border. \\r\\n\\r\\n```\\r\\nconst Quixote = () => (\\r\\n  <Document>\\r\\n    <Page style={styles.body}>\\r\\n      <View style={styles.circle}></View>\\r\\n    </Page>\\r\\n  </Document>\\r\\n);\\r\\n\\r\\nconst styles = StyleSheet.create({\\r\\n  body: {\\r\\n    paddingTop: 35,\\r\\n    paddingBottom: 65,\\r\\n    paddingHorizontal: 35,\\r\\n  },\\r\\n  circle: {\\r\\n    width: 50,\\r\\n    height: 50,\\r\\n    backgroundColor: 'green',\\r\\n    borderRadius: 50,\\r\\n    border: '2 solid red'\\r\\n  }\\r\\n\\r\\n});\\r\\n\\r\\nReactPDF.render(<Quixote />);\\r\\n```\\r\\n\\r\\nWhen I set the `borderRadius` to 1, the border drawn mostly goes around the view. \\r\\n![screen shot 2018-11-29 at 12 14 46 pm](https://user-images.githubusercontent.com/4199296/49249306-b037e380-f3d0-11e8-96cd-29eee986683b.png)\\r\\n\\r\\nWhen I set `borderRadius` to 3, the border drawn already starts to have issues.\\r\\n![screen shot 2018-11-29 at 12 14 51 pm](https://user-images.githubusercontent.com/4199296/49249354-c5ad0d80-f3d0-11e8-8e2d-393dee2530e1.png)\\r\\n\\r\\nAs I increase the borderRadius to make the view more circular the rendering gets really strange.\\r\\n`borderRadius @ 20`\\r\\n![screen shot 2018-11-29 at 12 14 58 pm](https://user-images.githubusercontent.com/4199296/49249430-f42ae880-f3d0-11e8-9272-cefd5bca1b0d.png)\\r\\n\\r\\n`borderRadius @ 30`\\r\\n![screen shot 2018-11-29 at 12 15 02 pm](https://user-images.githubusercontent.com/4199296/49249444-fb51f680-f3d0-11e8-8f24-49d22bc27962.png)\\r\\n\\r\\nI would love the border implementation to better support rounded views! Thanks a bunch!\\n\\n</issue>\\n\\n<code>\\n[start of README.md]\\n<p align=\\\"center\\\">\\n  <img src=\\\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\\\" height=\\\"280px\\\">\\n  <p align=\\\"center\\\">React renderer for creating PDF files on the browser and server<p>\\n  <p align=\\\"center\\\">\\n    <a href=\\\"https://www.npmjs.com/package/@react-pdf/renderer\\\">\\n      <img src=\\\"https://img.shields.io/npm/v/@react-pdf/renderer.svg\\\" />\\n    </a>\\n    <a href=\\\"https://travis-ci.org/diegomura/react-pdf\\\">\\n      <img src=\\\"https://img.shields.io/travis/diegomura/react-pdf.svg\\\" />\\n    </a>\\n    <a href=\\\"https://github.com/diegomura/react-pdf/blob/master/LICENSE\\\">\\n      <img src=\\\"https://img.shields.io/github/license/diegomura/react-pdf.svg\\\" />\\n    </a>\\n    <a href=\\\"https://spectrum.chat/react-pdf\\\">\\n      <img src=\\\"https://withspectrum.github.io/badge/badge.svg\\\" />\\n    </a>\\n    <a href=\\\"https://github.com/prettier/prettier\\\">\\n      <img src=\\\"https://img.shields.io/badge/styled_with-prettier-ff69b4.svg\\\" />\\n    </a>\\n  </p>\\n</p>\\n\\n## How to install\\n```sh\\nyarn add @react-pdf/renderer\\n```\\n\\n## How it works\\n\\n```jsx\\nimport React from 'react';\\nimport { Document, Page, Text, View, StyleSheet } from '@react-pdf/renderer';\\n\\n// Create styles\\nconst styles = StyleSheet.create({\\n  page: {\\n    flexDirection: 'row',\\n    backgroundColor: '#E4E4E4'\\n  },\\n  section: {\\n    margin: 10,\\n    padding: 10,\\n    flexGrow: 1\\n  }\\n});\\n\\n// Create Document Component\\nconst MyDocument = () => (\\n  <Document>\\n    <Page size=\\\"A4\\\" style={styles.page}>\\n      <View style={styles.section}>\\n        <Text>Section #1</Text>\\n      </View>\\n      <View style={styles.section}>\\n        <Text>Section #2</Text>\\n      </View>\\n    </Page>\\n  </Document>\\n);\\n```\\n\\n### `Web.` Render in DOM\\n```jsx\\nimport React from 'react';\\nimport ReactDOM from 'react-dom';\\n\\nReactDOM.render(<MyDocument />, document.getElementById('root'));\\n```\\n\\n### `Node.` Save in a file\\n```jsx\\nimport React from 'react';\\nimport ReactPDF from '@react-pdf/renderer';\\n\\nReactPDF.render(<MyDocument />, `${__dirname}/example.pdf`);\\n```\\n\\n### `Native.` Render in mobile\\n> Coming soon\\n\\n## Examples\\nFor each example, try opening `output.pdf` to see the result.\\n\\n<table>\\n\\t<tbody>\\n\\t\\t<tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/text/thumb.png\\\">\\n        <br>\\n        <a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/text/\\\">Text</a>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/images/thumb.png\\\">\\n        <br>\\n        <a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/images/\\\">Images</a>\\n      </td>\\n\\t\\t\\t<td align=\\\"center\\\" valign=\\\"top\\\">\\n\\t\\t\\t\\t<img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/resume/thumb.png\\\">\\n\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t<a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/resume/\\\">Resume</a>\\n\\t\\t\\t</td>\\n\\t\\t\\t<td align=\\\"center\\\" valign=\\\"top\\\">\\n\\t\\t\\t\\t<img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/fractals/thumb.png\\\">\\n\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t<a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/fractals/\\\">Fractals</a>\\n\\t\\t\\t</td>\\n\\t\\t</tr>\\n\\t</tbody>\\n</table>\\n<table>\\n\\t<tbody>\\n\\t\\t<tr>\\n\\t\\t\\t<td align=\\\"center\\\" valign=\\\"top\\\">\\n\\t\\t\\t\\t<img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/knobs/thumb.png\\\">\\n\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t<a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/knobs/\\\">Knobs</a>\\n\\t\\t\\t</td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/pageWrap/thumb.png\\\">\\n        <br>\\n        <a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/pageWrap/\\\">Page wrap</a>\\n      </td>  \\n\\t\\t</tr>\\n\\t</tbody>\\n</table>\\n\\nTo run the examples, first clone the project and install the dependencies:\\n```sh\\ngit clone https://github.com/diegomura/react-pdf.git\\ncd react-pdf\\nyarn install\\n```\\nThen, run `yarn example -- <example-name>`\\n```sh\\nyarn example -- fractals\\n```\\n\\n## Contributors\\n\\nThis project exists thanks to all the people who contribute. [[Contribute]](CONTRIBUTING.md).\\n<a href=\\\"https://github.com/diegomura/react-pdf/graphs/contributors\\\"><img src=\\\"https://opencollective.com/react-pdf/contributors.svg?width=890\\\" /></a>\\n\\n## Sponsors\\n\\nThank you to all our sponsors! [[Become a sponsors](https://opencollective.com/react-pdf#sponsors)]\\n\\n<a href=\\\"https://opencollective.com/react-pdf#sponsors\\\" target=\\\"_blank\\\"><img src=\\\"https://opencollective.com/react-pdf/sponsors.svg?width=890\\\"></a>\\n\\n## Backers\\n\\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\\n\\n<a href=\\\"https://opencollective.com/react-pdf#backers\\\" target=\\\"_blank\\\"><img src=\\\"https://opencollective.com/react-pdf/backers.svg?width=890\\\"></a>\\n\\n## License\\n\\nMIT \\u00a9 [Diego Muracciole](http://github.com/diegomura)\\n\\n[end of README.md]\\n[start of Experience.js]\\nimport React from 'react';\\nimport PropTypes from 'prop-types';\\nimport Title from './Title';\\nimport List, { Item } from './List';\\nimport { Text, View, StyleSheet } from '../../dist/react-pdf.es.js';\\n\\nconst styles = StyleSheet.create({\\n  container: {\\n    flex: 1,\\n    paddingTop: 30,\\n    paddingLeft: 15,\\n    '@media max-width: 400': {\\n      paddingTop: 10,\\n      paddingLeft: 0,\\n    },\\n  },\\n  entryContainer: {\\n    marginBottom: 10,\\n  },\\n  date: {\\n    fontSize: 11,\\n    fontFamily: 'Lato Italic',\\n  },\\n  detailContainer: {\\n    flexDirection: 'row',\\n  },\\n  detailLeftColumn: {\\n    flexDirection: 'column',\\n    marginLeft: 10,\\n    marginRight: 10,\\n  },\\n  detailRightColumn: {\\n    flexDirection: 'column',\\n    flexGrow: 9,\\n  },\\n  bulletPoint: {\\n    fontSize: 10,\\n  },\\n  details: {\\n    fontSize: 10,\\n    fontFamily: 'Lato',\\n  },\\n  headerContainer: {\\n    flexDirection: 'row',\\n    marginBottom: 10,\\n  },\\n  leftColumn: {\\n    flexDirection: 'column',\\n    flexGrow: 9,\\n  },\\n  rightColumn: {\\n    flexDirection: 'column',\\n    flexGrow: 1,\\n    alignItems: 'flex-end',\\n    justifySelf: 'flex-end',\\n  },\\n  title: {\\n    fontSize: 11,\\n    color: 'black',\\n    textDecoration: 'none',\\n    fontFamily: 'Lato Bold',\\n  },\\n});\\n\\nconst ExperienceEntry = ({ company, details, position, date }) => {\\n  const title = `${company} | ${position}`;\\n  return (\\n    <View style={styles.entryContainer}>\\n      <View style={styles.headerContainer}>\\n        <View style={styles.leftColumn}>\\n          <Text style={styles.title}>{title}</Text>\\n        </View>\\n        <View style={styles.rightColumn}>\\n          <Text style={styles.date}>{date}</Text>\\n        </View>\\n      </View>\\n      <List>\\n        {details.map((detail, i) => (\\n          <Item key={i} style={styles.detailContainer}>\\n            {detail}\\n          </Item>\\n        ))}\\n      </List>\\n    </View>\\n  );\\n};\\n\\nconst experienceData = [\\n  {\\n    company: 'Jedi Temple, Coruseant',\\n    date: 'A long time ago...',\\n    details: [\\n      'Started a new Jedi Temple in order to train the next generation of Jedi Masters',\\n      'Discovered and trained a new generation of Jedi Knights, which he recruited from within the New Republic',\\n      'Communicates with decesased Jedi Masters such as Anakin Skywalker, Yoda, Obi-Wan Kenobi in order to learn the secrets of the Jedi Order',\\n    ],\\n    position: 'Head Jedi Master',\\n  },\\n  {\\n    company: 'Rebel Alliance',\\n    date: 'A long time ago...',\\n    details: [\\n      'Lead legions of troops into battle while demonstrating bravery, competence and honor',\\n      'Created complicated battle plans in conjunction with other Rebel leaders in order to ensure the greatest chance of success',\\n      'Defeated Darth Vader in single-combat, and convinced him to betray his mentor, the Emperor',\\n    ],\\n    position: 'General',\\n  },\\n  {\\n    company: 'Rebel Alliance',\\n    date: 'A long time ago...',\\n    details: [\\n      'Destroyed the Death Star by using the force to find its only weakness and delivering a torpedo into the center of the ship',\\n      'Commanded of squadron of X-Wings into battle',\\n      'Defeated an enemy AT-AT single handedly after his ship was destroyed',\\n      'Awarded a medal for valor and bravery in battle for his successful destruction of the Death Star',\\n    ],\\n    position: 'Lieutenant Commander',\\n  },\\n  {\\n    company: 'Tatooine Moisture Refinery',\\n    date: 'A long time ago...',\\n    details: [\\n      'Replaced damaged power converters',\\n      'Performed menial labor thoughout the farm in order to ensure its continued operation',\\n    ],\\n    position: 'Moisture Farmer',\\n  },\\n];\\n\\nconst Experience = () => (\\n  <View style={styles.container}>\\n    <Title>Experience</Title>\\n    {experienceData.map(({ company, date, details, position }) => (\\n      <ExperienceEntry\\n        company={company}\\n        date={date}\\n        details={details}\\n        key={company + position}\\n        position={position}\\n      />\\n    ))}\\n  </View>\\n);\\n\\nExperienceEntry.propTypes = {\\n  company: PropTypes.string,\\n  date: PropTypes.string,\\n  details: PropTypes.array,\\n  position: PropTypes.string,\\n};\\n\\nexport default Experience;\\n\\n[end of Experience.js]\\n[start of Skills.js]\\nimport React from 'react';\\nimport PropTypes from 'prop-types';\\nimport Title from './Title';\\nimport List, { Item } from './List';\\nimport { Text, View, StyleSheet } from '../../dist/react-pdf.es.js';\\n\\nconst styles = StyleSheet.create({\\n  title: {\\n    fontFamily: 'Lato Bold',\\n    fontSize: 11,\\n    marginBottom: 10,\\n  },\\n  skills: {\\n    fontFamily: 'Lato',\\n    fontSize: 10,\\n    marginBottom: 10,\\n  },\\n});\\n\\nconst SkillEntry = ({ name, skills }) => (\\n  <View>\\n    <Text style={styles.title}>{name}</Text>\\n    <List>{skills.map((skill, i) => <Item key={i}>{skill}</Item>)}</List>\\n  </View>\\n);\\n\\nconst Skills = () => (\\n  <View>\\n    <Title>Skills</Title>\\n    <SkillEntry\\n      name=\\\"Combat Abilities\\\"\\n      skills={[\\n        'Completed Jedi Master training and built a lightsaber from scratch in order to do battle against the Empire',\\n        'Defeated the Rancor and rescued Princess Leia from Jabba the Hutt',\\n        'Competent fighter pilot as well as an excelent shot with nearly any weapon',\\n      ]}\\n    />\\n  </View>\\n);\\n\\nSkillEntry.propTypes = {\\n  name: PropTypes.string,\\n  skills: PropTypes.array,\\n};\\n\\nexport default Skills;\\n\\n[end of Skills.js]\\n[start of CONTRIBUTING.md]\\n# Contribute\\n\\n## Introduction\\n\\nFirst, thank you for considering contributing to react-pdf!\\n\\nWe welcome any type of contribution, not only code. You can help with \\n- **QA**: file bug reports, the more details you can give the better (e.g. screenshots with the console open)\\n- **Marketing**: writing blog posts, howto's, printing stickers, ...\\n- **Community**: presenting the project at meetups, organizing a dedicated meetup for the local community, ...\\n- **Code**: take a look at the [open issues](https://github.com/diegomura/react-pdf/issues). Even if you can't write code, commenting on them, showing that you care about a given issue matters. It helps us triage them.\\n- **Money**: we welcome financial contributions in full transparency on our [open collective](https://opencollective.com/react-pdf).\\n\\n## Your First Contribution\\n\\nWorking on your first Pull Request? You can learn how from this *free* series, [How to Contribute to an Open Source Project on GitHub](https://egghead.io/series/how-to-contribute-to-an-open-source-project-on-github).\\n\\n## Submitting code\\n\\nAny code change should be submitted as a pull request. The description should explain what the code does and give steps to execute it. The pull request should also contain tests.\\n\\n## Code review process\\n\\nThe bigger the pull request, the longer it will take to review and merge. Try to break down large pull requests in smaller chunks that are easier to review and merge.\\nIt is also always helpful to have some context for your pull request. What was the purpose? Why does it matter to you?\\n\\n## Financial contributions\\n\\nWe also welcome financial contributions in full transparency on our [open collective](https://opencollective.com/react-pdf).\\nAnyone can file an expense. If the expense makes sense for the development of the community, it will be \\\"merged\\\" in the ledger of our open collective by the core contributors and the person who filed the expense will be reimbursed.\\n\\n## Questions\\n\\nIf you have any questions, create an [issue](https://github.com/diegomura/react-pdf/issues) (protip: do a quick search first to see if someone else didn't ask the same question before!).\\nYou can also reach us at hello@react-pdf.opencollective.com.\\n\\n## Credits\\n\\n### Contributors\\n\\nThank you to all the people who have already contributed to react-pdf!\\n<a href=\\\"/diegomura/react-pdf/graphs/contributors\\\"><img src=\\\"https://opencollective.com/react-pdf/contributors.svg?width=890\\\" /></a>\\n\\n\\n### Backers\\n\\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\\n\\n<a href=\\\"https://opencollective.com/react-pdf#backers\\\" target=\\\"_blank\\\"><img src=\\\"https://opencollective.com/react-pdf/backers.svg?width=890\\\"></a>\\n\\n\\n<!-- This `CONTRIBUTING.md` is based on @nayafia's template https://github.com/nayafia/contributing-template -->\\n\\n[end of CONTRIBUTING.md]\\n[start of transformStyles.js]\\nimport yogaValue from './yogaValue';\\nimport parseScalar from './transformUnits';\\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\\n\\nconst styleShortHands = {\\n  margin: {\\n    marginTop: true,\\n    marginRight: true,\\n    marginBottom: true,\\n    marginLeft: true,\\n  },\\n  marginHorizontal: {\\n    marginLeft: true,\\n    marginRight: true,\\n  },\\n  marginVertical: {\\n    marginTop: true,\\n    marginBottom: true,\\n  },\\n  padding: {\\n    paddingTop: true,\\n    paddingRight: true,\\n    paddingBottom: true,\\n    paddingLeft: true,\\n  },\\n  paddingHorizontal: {\\n    paddingLeft: true,\\n    paddingRight: true,\\n  },\\n  paddingVertical: {\\n    paddingTop: true,\\n    paddingBottom: true,\\n  },\\n  border: {\\n    borderTopColor: true,\\n    borderTopStyle: true,\\n    borderTopWidth: true,\\n    borderRightColor: true,\\n    borderRightStyle: true,\\n    borderRightWidth: true,\\n    borderBottomColor: true,\\n    borderBottomStyle: true,\\n    borderBottomWidth: true,\\n    borderLeftColor: true,\\n    borderLeftStyle: true,\\n    borderLeftWidth: true,\\n  },\\n  borderTop: {\\n    borderTopColor: true,\\n    borderTopStyle: true,\\n    borderTopWidth: true,\\n  },\\n  borderRight: {\\n    borderRightColor: true,\\n    borderRightStyle: true,\\n    borderRightWidth: true,\\n  },\\n  borderBottom: {\\n    borderBottomColor: true,\\n    borderBottomStyle: true,\\n    borderBottomWidth: true,\\n  },\\n  borderLeft: {\\n    borderLeftColor: true,\\n    borderLeftStyle: true,\\n    borderLeftWidth: true,\\n  },\\n  borderColor: {\\n    borderTopColor: true,\\n    borderRightColor: true,\\n    borderBottomColor: true,\\n    borderLeftColor: true,\\n  },\\n  borderRadius: {\\n    borderTopLeftRadius: true,\\n    borderTopRightRadius: true,\\n    borderBottomRightRadius: true,\\n    borderBottomLeftRadius: true,\\n  },\\n  borderStyle: {\\n    borderTopStyle: true,\\n    borderRightStyle: true,\\n    borderBottomStyle: true,\\n    borderLeftStyle: true,\\n  },\\n  borderWidth: {\\n    borderTopWidth: true,\\n    borderRightWidth: true,\\n    borderBottomWidth: true,\\n    borderLeftWidth: true,\\n  },\\n};\\n\\n// Expand the shorthand properties to isolate every declaration from the others.\\nconst expandStyles = style => {\\n  if (!style) return style;\\n\\n  const propsArray = Object.keys(style);\\n  const resolvedStyle = {};\\n\\n  for (let i = 0; i < propsArray.length; i++) {\\n    const key = propsArray[i];\\n    const value = style[key];\\n\\n    switch (key) {\\n      case 'display':\\n      case 'flex':\\n      case 'flexDirection':\\n      case 'flexWrap':\\n      case 'flexFlow':\\n      case 'flexGrow':\\n      case 'flexShrink':\\n      case 'flexBasis':\\n      case 'justifyContent':\\n      case 'alignSelf':\\n      case 'alignItems':\\n      case 'alignContent':\\n      case 'order':\\n        resolvedStyle[key] = yogaValue(key, value);\\n        break;\\n      case 'textAlignVertical':\\n        resolvedStyle.verticalAlign = value === 'center' ? 'middle' : value;\\n        break;\\n      case 'margin':\\n      case 'marginHorizontal':\\n      case 'marginVertical':\\n      case 'padding':\\n      case 'paddingHorizontal':\\n      case 'paddingVertical':\\n      case 'border':\\n      case 'borderTop':\\n      case 'borderRight':\\n      case 'borderBottom':\\n      case 'borderLeft':\\n      case 'borderColor':\\n      case 'borderRadius':\\n      case 'borderStyle':\\n      case 'borderWidth':\\n        {\\n          const expandedProps = styleShortHands[key];\\n          for (const propName in expandedProps) {\\n            if (hasOwnProperty.call(expandedProps, propName)) {\\n              resolvedStyle[propName] = value;\\n            }\\n          }\\n        }\\n        break;\\n      default:\\n        resolvedStyle[key] = value;\\n        break;\\n    }\\n  }\\n\\n  return resolvedStyle;\\n};\\n\\nconst matchBorderShorthand = value =>\\n  value.match(/(\\\\d+(px|in|mm|cm|pt)?)\\\\s(\\\\S+)\\\\s(\\\\S+)/);\\n\\n// Transforms shorthand border values to correct value\\nconst processBorders = (key, value) => {\\n  const match = matchBorderShorthand(value);\\n\\n  if (match) {\\n    if (key.match(/.Color/)) {\\n      return match[4];\\n    } else if (key.match(/.Style/)) {\\n      return match[3];\\n    } else if (key.match(/.Width/)) {\\n      return match[1];\\n    } else {\\n      throw new Error(`StyleSheet: Invalid '${value}' for '${key}'`);\\n    }\\n  }\\n\\n  return value;\\n};\\n\\nconst transformStyles = style => {\\n  const expandedStyles = expandStyles(style);\\n  const propsArray = Object.keys(expandedStyles);\\n  const resolvedStyle = {};\\n\\n  for (let i = 0; i < propsArray.length; i++) {\\n    const key = propsArray[i];\\n    const value = expandedStyles[key];\\n    const isBorderStyle = key.match(/border/) && typeof value === 'string';\\n    const resolved = isBorderStyle ? processBorders(key, value) : value;\\n\\n    resolvedStyle[key] = parseScalar(resolved);\\n  }\\n\\n  return resolvedStyle;\\n};\\n\\nexport default transformStyles;\\n\\n[end of transformStyles.js]\\n\\n</code>\\n\\nHere is an example of a patch file. It consists of changes to the code base. It specifies the file names, the line numbers of each change, and the removed and added lines. A single patch file can contain changes to multiple files.\\n\\n<patch>\\ndiff --git a/file.py b/file.py\\n--- a/file.py\\n+++ b/file.py\\n@@ -1,27 +1,35 @@\\n def euclidean(a, b):\\n-    while b:\\n-        a, b = b, a % b\\n-    return a\\n+    if b == 0:\\n+        return a\\n+    return euclidean(b, a % b)\\n \\n def bresenham(x0, y0, x1, y1):\\n+    points = []\\n+    dx = abs(x1 - x0)\\n+    dy = abs(y1 - y0)\\n+    sx = 1 if x0 < x1 else -1\\n+    sy = 1 if y0 < y1 else -1\\n+    err = dx - dy\\n+    \\n     while True:\\n-        plot(x0, y0)\\n+        points.append((x0, y0))\\n         if x0 == x1 and y0 == y1:\\n             break\\n-        e2 = 2 * err\\n-        if e2 > -dy:\\n-            err -= dy\\n-            x0 += sx\\n-        if e2 < dx:\\n-            err += dx\\n-            y0 += sy\\n+        e2 = 2 * err\\n+        if e2 > -dy:\\n+            err -= dy\\n+            x0 += sx\\n+        if e2 < dx:\\n+            err += dx\\n+            y0 += sy\\n+    return points\\n+</patch>\\n\\nI need you to solve the provided issue by generating a single patch file that I can apply directly to this repository using git apply. Please respond with a single patch file in the format shown above.\\n\\nRespond below: \\n\"}]",
      "retrieved_file_paths": [
        "README.md",
        "Experience.js",
        "Skills.js",
        "CONTRIBUTING.md",
        "transformStyles.js"
      ]
    },
    "retrieved_documents": [
      {
        "id": "21d70c72-04db-4967-934b-8eb2a31aa56f",
        "score": 0.01639344262295082,
        "payload": {
          "text": "<p align=\"center\">\n  <img src=\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\" height=\"280px\">\n  <p align=\"center\">React renderer for creating PDF files on the browser and server<p>\n  <p align=\"center\">\n    <a href=\"https://www.npmjs.com/package/@react-pdf/renderer\">\n      <img src=\"https://img.shields.io/npm/v/@react-pdf/renderer.svg\" />\n    </a>\n    <a href=\"https://travis-ci.org/diegomura/react-pdf\">\n      <img src=\"https://img.shields.io/travis/diegomura/react-pdf.svg\" />\n    </a>\n    <a href=\"https://github.com/diegomura/react-pdf/blob/master/LICENSE\">\n      <img src=\"https://img.shields.io/github/license/diegomura/react-pdf.svg\" />\n    </a>\n    <a href=\"https://spectrum.chat/react-pdf\">\n      <img src=\"https://withspectrum.github.io/badge/badge.svg\" />\n    </a>\n    <a href=\"https://github.com/prettier/prettier\">\n      <img src=\"https://img.shields.io/badge/styled_with-prettier-ff69b4.svg\" />\n    </a>\n  </p>\n</p>\n\n## How to install\n```sh\nyarn add @react-pdf/renderer\n```\n\n## How it works\n\n```jsx\nimport React from 'react';\nimport { Document, Page, Text, View, StyleSheet } from '@react-pdf/renderer';\n\n// Create styles\nconst styles = StyleSheet.create({\n  page: {\n    flexDirection: 'row',\n    backgroundColor: '#E4E4E4'\n  },\n  section: {\n    margin: 10,\n    padding: 10,\n    flexGrow: 1\n  }\n});\n\n// Create Document Component\nconst MyDocument = () => (\n  <Document>\n    <Page size=\"A4\" style={styles.page}>\n      <View style={styles.section}>\n        <Text>Section #1</Text>\n      </View>\n      <View style={styles.section}>\n        <Text>Section #2</Text>\n      </View>\n    </Page>\n  </Document>\n);\n```\n\n### `Web.` Render in DOM\n```jsx\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nReactDOM.render(<MyDocument />, document.getElementById('root'));\n```\n\n### `Node.` Save in a file\n```jsx\nimport React from 'react';\nimport ReactPDF from '@react-pdf/renderer';\n\nReactPDF.render(<MyDocument />, `${__dirname}/example.pdf`);\n```\n\n### `Native.` Render in mobile\n> Coming soon\n\n## Examples\nFor each example, try opening `output.pdf` to see the result.\n\n<table>\n\t<tbody>\n\t\t<tr>\n      <td align=\"center\" valign=\"top\">\n        <img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/text/thumb.png\">\n        <br>\n        <a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/text/\">Text</a>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/images/thumb.png\">\n        <br>\n        <a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/images/\">Images</a>\n      </td>\n\t\t\t<td align=\"center\" valign=\"top\">\n\t\t\t\t<img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/resume/thumb.png\">\n\t\t\t\t<br>\n\t\t\t\t<a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/resume/\">Resume</a>\n\t\t\t</td>\n\t\t\t<td align=\"center\" valign=\"top\">\n\t\t\t\t<img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/fractals/thumb.png\">\n\t\t\t\t<br>\n\t\t\t\t<a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/fractals/\">Fractals</a>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n<table>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td align=\"center\" valign=\"top\">\n\t\t\t\t<img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/knobs/thumb.png\">\n\t\t\t\t<br>\n\t\t\t\t<a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/knobs/\">Knobs</a>\n\t\t\t</td>\n      <td align=\"center\" valign=\"top\">\n        <img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/pageWrap/thumb.png\">\n        <br>\n        <a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/pageWrap/\">Page wrap</a>\n      </td>  \n\t\t</tr>\n\t</tbody>\n</table>\n\nTo run the examples, first clone the project and install the dependencies:\n```sh\ngit clone https://github.com/diegomura/react-pdf.git\ncd react-pdf\nyarn install\n```\nThen, run `yarn example -- <example-name>`\n```sh\nyarn example -- fractals\n```\n\n## Contributors\n\nThis project exists thanks to all the people who contribute. [[Contribute]](CONTRIBUTING.md).\n<a href=\"https://github.com/diegomura/react-pdf/graphs/contributors\"><img src=\"https://opencollective.com/react-pdf/contributors.svg?width=890\" /></a>\n\n## Sponsors\n\nThank you to all our sponsors! [[Become a sponsors](https://opencollective.com/react-pdf#sponsors)]\n\n<a href=\"https://opencollective.com/react-pdf#sponsors\" target=\"_blank\"><img src=\"https://opencollective.com/react-pdf/sponsors.svg?width=890\"></a>\n\n## Backers\n\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\n\n<a href=\"https://opencollective.com/react-pdf#backers\" target=\"_blank\"><img src=\"https://opencollective.com/react-pdf/backers.svg?width=890\"></a>\n\n## License\n\nMIT \u00a9 [Diego Muracciole](http://github.com/diegomura)\n",
          "filepath": "data/repos/diegomura/react-pdf-1.1/README.md",
          "repo": "diegomura/react-pdf",
          "version": "1.1",
          "chunk_index": 0,
          "chunk_id": "21d70c72-04db-4967-934b-8eb2a31aa56f"
        }
      },
      {
        "id": "fa3fbe75-1e22-469e-aefb-c26c45dfbf82",
        "score": 0.016129032258064516,
        "payload": {
          "text": "import React from 'react';\nimport PropTypes from 'prop-types';\nimport Title from './Title';\nimport List, { Item } from './List';\nimport { Text, View, StyleSheet } from '../../dist/react-pdf.es.js';\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    paddingTop: 30,\n    paddingLeft: 15,\n    '@media max-width: 400': {\n      paddingTop: 10,\n      paddingLeft: 0,\n    },\n  },\n  entryContainer: {\n    marginBottom: 10,\n  },\n  date: {\n    fontSize: 11,\n    fontFamily: 'Lato Italic',\n  },\n  detailContainer: {\n    flexDirection: 'row',\n  },\n  detailLeftColumn: {\n    flexDirection: 'column',\n    marginLeft: 10,\n    marginRight: 10,\n  },\n  detailRightColumn: {\n    flexDirection: 'column',\n    flexGrow: 9,\n  },\n  bulletPoint: {\n    fontSize: 10,\n  },\n  details: {\n    fontSize: 10,\n    fontFamily: 'Lato',\n  },\n  headerContainer: {\n    flexDirection: 'row',\n    marginBottom: 10,\n  },\n  leftColumn: {\n    flexDirection: 'column',\n    flexGrow: 9,\n  },\n  rightColumn: {\n    flexDirection: 'column',\n    flexGrow: 1,\n    alignItems: 'flex-end',\n    justifySelf: 'flex-end',\n  },\n  title: {\n    fontSize: 11,\n    color: 'black',\n    textDecoration: 'none',\n    fontFamily: 'Lato Bold',\n  },\n});\n\nconst ExperienceEntry = ({ company, details, position, date }) => {\n  const title = `${company} | ${position}`;\n  return (\n    <View style={styles.entryContainer}>\n      <View style={styles.headerContainer}>\n        <View style={styles.leftColumn}>\n          <Text style={styles.title}>{title}</Text>\n        </View>\n        <View style={styles.rightColumn}>\n          <Text style={styles.date}>{date}</Text>\n        </View>\n      </View>\n      <List>\n        {details.map((detail, i) => (\n          <Item key={i} style={styles.detailContainer}>\n            {detail}\n          </Item>\n        ))}\n      </List>\n    </View>\n  );\n};\n\nconst experienceData = [\n  {\n    company: 'Jedi Temple, Coruseant',\n    date: 'A long time ago...',\n    details: [\n      'Started a new Jedi Temple in order to train the next generation of Jedi Masters',\n      'Discovered and trained a new generation of Jedi Knights, which he recruited from within the New Republic',\n      'Communicates with decesased Jedi Masters such as Anakin Skywalker, Yoda, Obi-Wan Kenobi in order to learn the secrets of the Jedi Order',\n    ],\n    position: 'Head Jedi Master',\n  },\n  {\n    company: 'Rebel Alliance',\n    date: 'A long time ago...',\n    details: [\n      'Lead legions of troops into battle while demonstrating bravery, competence and honor',\n      'Created complicated battle plans in conjunction with other Rebel leaders in order to ensure the greatest chance of success',\n      'Defeated Darth Vader in single-combat, and convinced him to betray his mentor, the Emperor',\n    ],\n    position: 'General',\n  },\n  {\n    company: 'Rebel Alliance',\n    date: 'A long time ago...',\n    details: [\n      'Destroyed the Death Star by using the force to find its only weakness and delivering a torpedo into the center of the ship',\n      'Commanded of squadron of X-Wings into battle',\n      'Defeated an enemy AT-AT single handedly after his ship was destroyed',\n      'Awarded a medal for valor and bravery in battle for his successful destruction of the Death Star',\n    ],\n    position: 'Lieutenant Commander',\n  },\n  {\n    company: 'Tatooine Moisture Refinery',\n    date: 'A long time ago...',\n    details: [\n      'Replaced damaged power converters',\n      'Performed menial labor thoughout the farm in order to ensure its continued operation',\n    ],\n    position: 'Moisture Farmer',\n  },\n];\n\nconst Experience = () => (\n  <View style={styles.container}>\n    <Title>Experience</Title>\n    {experienceData.map(({ company, date, details, position }) => (\n      <ExperienceEntry\n        company={company}\n        date={date}\n        details={details}\n        key={company + position}\n        position={position}\n      />\n    ))}\n  </View>\n);\n\nExperienceEntry.propTypes = {\n  company: PropTypes.string,\n  date: PropTypes.string,\n  details: PropTypes.array,\n  position: PropTypes.string,\n};\n\nexport default Experience;\n",
          "filepath": "data/repos/diegomura/react-pdf-1.1/examples/resume/Experience.js",
          "repo": "diegomura/react-pdf",
          "version": "1.1",
          "chunk_index": 0,
          "chunk_id": "fa3fbe75-1e22-469e-aefb-c26c45dfbf82"
        }
      },
      {
        "id": "b8c1b089-ffb6-4de1-8964-eedbbd8e46b4",
        "score": 0.015873015873015872,
        "payload": {
          "text": "import React from 'react';\nimport PropTypes from 'prop-types';\nimport Title from './Title';\nimport List, { Item } from './List';\nimport { Text, View, StyleSheet } from '../../dist/react-pdf.es.js';\n\nconst styles = StyleSheet.create({\n  title: {\n    fontFamily: 'Lato Bold',\n    fontSize: 11,\n    marginBottom: 10,\n  },\n  skills: {\n    fontFamily: 'Lato',\n    fontSize: 10,\n    marginBottom: 10,\n  },\n});\n\nconst SkillEntry = ({ name, skills }) => (\n  <View>\n    <Text style={styles.title}>{name}</Text>\n    <List>{skills.map((skill, i) => <Item key={i}>{skill}</Item>)}</List>\n  </View>\n);\n\nconst Skills = () => (\n  <View>\n    <Title>Skills</Title>\n    <SkillEntry\n      name=\"Combat Abilities\"\n      skills={[\n        'Completed Jedi Master training and built a lightsaber from scratch in order to do battle against the Empire',\n        'Defeated the Rancor and rescued Princess Leia from Jabba the Hutt',\n        'Competent fighter pilot as well as an excelent shot with nearly any weapon',\n      ]}\n    />\n  </View>\n);\n\nSkillEntry.propTypes = {\n  name: PropTypes.string,\n  skills: PropTypes.array,\n};\n\nexport default Skills;\n",
          "filepath": "data/repos/diegomura/react-pdf-1.1/examples/resume/Skills.js",
          "repo": "diegomura/react-pdf",
          "version": "1.1",
          "chunk_index": 0,
          "chunk_id": "b8c1b089-ffb6-4de1-8964-eedbbd8e46b4"
        }
      },
      {
        "id": "e2c41b9b-167d-4f84-9751-05a29cc8b89b",
        "score": 0.015625,
        "payload": {
          "text": "# Contribute\n\n## Introduction\n\nFirst, thank you for considering contributing to react-pdf!\n\nWe welcome any type of contribution, not only code. You can help with \n- **QA**: file bug reports, the more details you can give the better (e.g. screenshots with the console open)\n- **Marketing**: writing blog posts, howto's, printing stickers, ...\n- **Community**: presenting the project at meetups, organizing a dedicated meetup for the local community, ...\n- **Code**: take a look at the [open issues](https://github.com/diegomura/react-pdf/issues). Even if you can't write code, commenting on them, showing that you care about a given issue matters. It helps us triage them.\n- **Money**: we welcome financial contributions in full transparency on our [open collective](https://opencollective.com/react-pdf).\n\n## Your First Contribution\n\nWorking on your first Pull Request? You can learn how from this *free* series, [How to Contribute to an Open Source Project on GitHub](https://egghead.io/series/how-to-contribute-to-an-open-source-project-on-github).\n\n## Submitting code\n\nAny code change should be submitted as a pull request. The description should explain what the code does and give steps to execute it. The pull request should also contain tests.\n\n## Code review process\n\nThe bigger the pull request, the longer it will take to review and merge. Try to break down large pull requests in smaller chunks that are easier to review and merge.\nIt is also always helpful to have some context for your pull request. What was the purpose? Why does it matter to you?\n\n## Financial contributions\n\nWe also welcome financial contributions in full transparency on our [open collective](https://opencollective.com/react-pdf).\nAnyone can file an expense. If the expense makes sense for the development of the community, it will be \"merged\" in the ledger of our open collective by the core contributors and the person who filed the expense will be reimbursed.\n\n## Questions\n\nIf you have any questions, create an [issue](https://github.com/diegomura/react-pdf/issues) (protip: do a quick search first to see if someone else didn't ask the same question before!).\nYou can also reach us at hello@react-pdf.opencollective.com.\n\n## Credits\n\n### Contributors\n\nThank you to all the people who have already contributed to react-pdf!\n<a href=\"/diegomura/react-pdf/graphs/contributors\"><img src=\"https://opencollective.com/react-pdf/contributors.svg?width=890\" /></a>\n\n\n### Backers\n\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\n\n<a href=\"https://opencollective.com/react-pdf#backers\" target=\"_blank\"><img src=\"https://opencollective.com/react-pdf/backers.svg?width=890\"></a>\n\n\n<!-- This `CONTRIBUTING.md` is based on @nayafia's template https://github.com/nayafia/contributing-template -->\n",
          "filepath": "data/repos/diegomura/react-pdf-1.1/CONTRIBUTING.md",
          "repo": "diegomura/react-pdf",
          "version": "1.1",
          "chunk_index": 0,
          "chunk_id": "e2c41b9b-167d-4f84-9751-05a29cc8b89b"
        }
      },
      {
        "id": "850dbf5d-731d-4d4a-8a42-65e2c0c82a89",
        "score": 0.015384615384615385,
        "payload": {
          "text": "import yogaValue from './yogaValue';\nimport parseScalar from './transformUnits';\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\nconst styleShortHands = {\n  margin: {\n    marginTop: true,\n    marginRight: true,\n    marginBottom: true,\n    marginLeft: true,\n  },\n  marginHorizontal: {\n    marginLeft: true,\n    marginRight: true,\n  },\n  marginVertical: {\n    marginTop: true,\n    marginBottom: true,\n  },\n  padding: {\n    paddingTop: true,\n    paddingRight: true,\n    paddingBottom: true,\n    paddingLeft: true,\n  },\n  paddingHorizontal: {\n    paddingLeft: true,\n    paddingRight: true,\n  },\n  paddingVertical: {\n    paddingTop: true,\n    paddingBottom: true,\n  },\n  border: {\n    borderTopColor: true,\n    borderTopStyle: true,\n    borderTopWidth: true,\n    borderRightColor: true,\n    borderRightStyle: true,\n    borderRightWidth: true,\n    borderBottomColor: true,\n    borderBottomStyle: true,\n    borderBottomWidth: true,\n    borderLeftColor: true,\n    borderLeftStyle: true,\n    borderLeftWidth: true,\n  },\n  borderTop: {\n    borderTopColor: true,\n    borderTopStyle: true,\n    borderTopWidth: true,\n  },\n  borderRight: {\n    borderRightColor: true,\n    borderRightStyle: true,\n    borderRightWidth: true,\n  },\n  borderBottom: {\n    borderBottomColor: true,\n    borderBottomStyle: true,\n    borderBottomWidth: true,\n  },\n  borderLeft: {\n    borderLeftColor: true,\n    borderLeftStyle: true,\n    borderLeftWidth: true,\n  },\n  borderColor: {\n    borderTopColor: true,\n    borderRightColor: true,\n    borderBottomColor: true,\n    borderLeftColor: true,\n  },\n  borderRadius: {\n    borderTopLeftRadius: true,\n    borderTopRightRadius: true,\n    borderBottomRightRadius: true,\n    borderBottomLeftRadius: true,\n  },\n  borderStyle: {\n    borderTopStyle: true,\n    borderRightStyle: true,\n    borderBottomStyle: true,\n    borderLeftStyle: true,\n  },\n  borderWidth: {\n    borderTopWidth: true,\n    borderRightWidth: true,\n    borderBottomWidth: true,\n    borderLeftWidth: true,\n  },\n};\n\n// Expand the shorthand properties to isolate every declaration from the others.\nconst expandStyles = style => {\n  if (!style) return style;\n\n  const propsArray = Object.keys(style);\n  const resolvedStyle = {};\n\n  for (let i = 0; i < propsArray.length; i++) {\n    const key = propsArray[i];\n    const value = style[key];\n\n    switch (key) {\n      case 'display':\n      case 'flex':\n      case 'flexDirection':\n      case 'flexWrap':\n      case 'flexFlow':\n      case 'flexGrow':\n      case 'flexShrink':\n      case 'flexBasis':\n      case 'justifyContent':\n      case 'alignSelf':\n      case 'alignItems':\n      case 'alignContent':\n      case 'order':\n        resolvedStyle[key] = yogaValue(key, value);\n        break;\n      case 'textAlignVertical':\n        resolvedStyle.verticalAlign = value === 'center' ? 'middle' : value;\n        break;\n      case 'margin':\n      case 'marginHorizontal':\n      case 'marginVertical':\n      case 'padding':\n      case 'paddingHorizontal':\n      case 'paddingVertical':\n      case 'border':\n      case 'borderTop':\n      case 'borderRight':\n      case 'borderBottom':\n      case 'borderLeft':\n      case 'borderColor':\n      case 'borderRadius':\n      case 'borderStyle':\n      case 'borderWidth':\n        {\n          const expandedProps = styleShortHands[key];\n          for (const propName in expandedProps) {\n            if (hasOwnProperty.call(expandedProps, propName)) {\n              resolvedStyle[propName] = value;\n            }\n          }\n        }\n        break;\n      default:\n        resolvedStyle[key] = value;\n        break;\n    }\n  }\n\n  return resolvedStyle;\n};\n\nconst matchBorderShorthand = value =>\n  value.match(/(\\d+(px|in|mm|cm|pt)?)\\s(\\S+)\\s(\\S+)/);\n\n// Transforms shorthand border values to correct value\nconst processBorders = (key, value) => {\n  const match = matchBorderShorthand(value);\n\n  if (match) {\n    if (key.match(/.Color/)) {\n      return match[4];\n    } else if (key.match(/.Style/)) {\n      return match[3];\n    } else if (key.match(/.Width/)) {\n      return match[1];\n    } else {\n      throw new Error(`StyleSheet: Invalid '${value}' for '${key}'`);\n    }\n  }\n\n  return value;\n};\n\nconst transformStyles = style => {\n  const expandedStyles = expandStyles(style);\n  const propsArray = Object.keys(expandedStyles);\n  const resolvedStyle = {};\n\n  for (let i = 0; i < propsArray.length; i++) {\n    const key = propsArray[i];\n    const value = expandedStyles[key];\n    const isBorderStyle = key.match(/border/) && typeof value === 'string';\n    const resolved = isBorderStyle ? processBorders(key, value) : value;\n\n    resolvedStyle[key] = parseScalar(resolved);\n  }\n\n  return resolvedStyle;\n};\n\nexport default transformStyles;\n",
          "filepath": "data/repos/diegomura/react-pdf-1.1/src/stylesheet/transformStyles.js",
          "repo": "diegomura/react-pdf",
          "version": "1.1",
          "chunk_index": 0,
          "chunk_id": "850dbf5d-731d-4d4a-8a42-65e2c0c82a89"
        }
      }
    ]
  },
  {
    "instance_id": "markedjs__marked-1435",
    "model_patch": "diff --git a/README.md b/README.md\n--- a/README.md\n+++ b/README.md\n@@ -41,7 +41,7 @@\n **In-browser:** `npm install marked --save`\n \n <h2 id=\"usage\">Usage</h2>\n \n-### Warning: \ud83d\udea8 Marked does not [sanitize](https://marked.js.org/#/USING_ADVANCED.md#options) the output HTML by default \ud83d\udea8\n+### Warning: \ud83d\udea8 Marked does not \\[sanitize\\](https://marked.js.org/#/USING_ADVANCED.md#options) the output HTML by default \ud83d\udea8\n \n **CLI**\n \n@@ -77,7 +77,7 @@\n Marked offers [advanced configurations](#/USING_ADVANCED.md) and [extensibility](#/USING_PRO.md) as well.\n \n <h2 id=\"specifications\">Supported Markdown specifications</h2>\n \n-We actively support the features of the following [Markdown flavors](https://github.com/commonmark/CommonMark/wiki/Markdown-Flavors).\n+We actively support the features of the following \\[Markdown flavors\\](https://github.com/commonmark/CommonMark/wiki/Markdown-Flavors).\n \n |Flavor                                                     |Version    |\n |:----------------------------------------------------------|:----------|",
    "model_name_or_path": "text_bm25",
    "metrics": {
      "issue_embedding_time_ms": 0.0,
      "retrieval_time_ms_bm25": 14.98,
      "retrieval_time_ms": 14.98,
      "total_retrieval_time_ms": 14.98,
      "generation_time_ms": 2941.15,
      "total_io_time_ms": 2956.13,
      "input_total_token_limit": null,
      "issue_text_tokens": 127,
      "vlm_tokens": 0,
      "retrieved_tokens": 8575,
      "prompt_template_tokens": 507,
      "total_input_prompt_tokens": 9209,
      "output_generated_tokens": 271,
      "total_io_tokens": 9480,
      "input_prompt_text": "[{\"type\": \"text\", \"text\": \"You will be provided with a partial code base and an issue statement explaining a problem to resolve.\\n<issue>\\n[Bug] We have to use '\\\\' to add the '('\\n![image](https://user-images.githubusercontent.com/40081831/53847026-28263300-3fea-11e9-8c93-9acc880bde90.png)\\r\\n\\r\\nNotice that we have to add '\\\\' in front of \\\"(\\\", otherwises this won't be analyzed out.\\r\\n\\r\\nThe original words are in the attached sample:\\r\\n[Sample.txt](https://github.com/markedjs/marked/files/2933754/Sample.txt).\\r\\n\\r\\nFor more\\uff0cplease refer to\\uff1ahttps://github.com/nodejs/nodejs.org/issues/2119\\r\\n\\n\\n</issue>\\n\\n<code>\\n[start of AUTHORS.md]\\n# Authors\\n\\nMarked takes an encompassing approach to its community. As such, you can think of these as [concentric circles](https://medium.com/the-node-js-collection/healthy-open-source-967fa8be7951), where each group encompases the following groups.\\n\\n<table>\\n  <tbody>\\n  \\t<tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\" style=\\\"width:32%\\\">\\n        <a href=\\\"https://github.com/chjj\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/chjj.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/chjj\\\">Christopher Jeffrey</a>\\n        <div>Original Author</div>\\n        <small>Started the fire</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\" style=\\\"width:32%\\\">\\n        <a href=\\\"https://github.com/joshbruce\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/joshbruce.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://joshbruce.com\\\">Josh Bruce</a>\\n        <div>Publisher</div>\\n        <small>Release Wrangler; Humaning Helper; Heckler of Hypertext</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\" style=\\\"width:32%\\\">\\n        <a href=\\\"https://github.com/styfle\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/styfle.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://www.ceriously.com\\\">Steven</a>\\n        <div>Publisher</div>\\n        <small>Release Wrangler; Dr. Docs; Open source, of course; GitHub Guru; Humaning Helper</small>\\n      </td>\\n    </tr>\\n  \\t<tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/davisjam\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/davisjam.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/davisjam\\\">Jamie Davis</a>\\n        <div>Committer</div>\\n        <small>Seeker of Security</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/UziTech\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/UziTech.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://tony.brix.ninja\\\">Tony Brix</a>\\n        <div>Publisher</div>\\n        <small>Release Wrangler; Titan of the test harness; Dr. DevOps</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        &nbsp;\\n      </td>\\n    </tr>\\n  </tbody>\\n</table>\\n\\n<table>\\n  <tbody>\\n    <tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/intcreator\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/intcreator.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/intcreator\\\">Brandon der Bl\\u00e4tter</a>\\n        <div>Contributor</div>\\n        <small>Curious Contributor</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/carlosvalle\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/carlosvalle.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/carlosvalle\\\">Carlos Valle</a>\\n        <div>Contributor</div>\\n        <small>Maker of the Marked mark from 2018 to present</small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/Feder1co5oave\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/Feder1co5oave.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/Feder1co5oave\\\">Federico Soave</a>\\n        <div>Contributor</div>\\n        <small>Regent of the Regex; Master of Marked</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/karenyavine\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/karenyavine.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/karenyavine\\\">Karen Yavine</a>\\n        <div>Contributor</div>\\n        <small>Snyk's Security Saint</small>\\n      </td>\\n     </tr>\\n     <tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/KostyaTretyak\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/KostyaTretyak.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/KostyaTretyak\\\">\\u041a\\u043e\\u0441\\u0442\\u044f \\u0422\\u0440\\u0435\\u0442\\u044f\\u043a</a>\\n        <div>Contributor</div>\\n        <small></small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/tomtheisen\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/tomtheisen.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/tomtheisen\\\">Tom Theisen</a>\\n        <div>Contributor</div>\\n        <small>Defibrillator</small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/mccraveiro\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/mccraveiro.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/mccraveiro\\\">Mateus Craveiro</a>\\n        <div>Contributor</div>\\n        <small>Defibrillator</small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n      </td>\\n     </tr>\\n  </tbody>\\n</table>\\n\\n## Publishers\\n\\nPublishers are admins who also have the responsibility, privilege, and burden of publishing the new releases to NPM and performing outreach and external stakeholder communications. Further, when things go pear-shaped, they're the ones taking most of the heat. Finally, when things go well, they're the primary ones praising the contributors who made it possible.\\n\\n(In other words, while Admins are focused primarily on the internal workings of the project, Publishers are focused on internal *and* external concerns.)\\n\\n**Should not exceed 2:** Having more people with the authority to publish a release can quickly turn into a consensus seeking nightmare (design by committee). Having only one is preferred (Directly Responsible Individual); however, given the nature of the project and its history, having an immediate fallback, and a potential deep fallback (Original author) is probably a good idea.\\n\\n[Details on badges](#badges)\\n\\n## Admins\\n\\nAdmins are committers who also have the responsibility, privilege, and burden of selecting committers and making sure the project itself runs smoothly, which includes community maintenance, governance, dispute resolution, and so on. (Letting the contributors easily enter into, and work within, the project to begin contributing, with as little friction as possible.)\\n\\n**Should not exceed 3:** When there are too many people with the ability to resolve disputes, the dispute itself can quickly turn into a dispute amongst the admins themselves; therefore, we want this group to be small enough to commit to action and large enough to not put too much burden on one person. (Should ensure faster resolution and responsiveness.)\\n\\nTo be listed: Admins are usually selected from the pool of committers (or they volunteer, using the same process) who demonstrate good understanding of the marked culture, operations, and do their best to help new contributors get up to speed on how to contribute effectively to the project.\\n\\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\\n\\n[Details on badges](#badges)\\n\\n## Committers\\n\\nCommitters are contributors who also have the responsibility, privilege, some might even say burden of being able to review and merge contributions (just usually not their own).\\n\\nA note on \\\"decision making authority\\\". This is related to submitting PRs and the [advice process](http://www.reinventingorganizationswiki.com/Decision_Making). The person marked as having decision making authority over a certain area should be sought for advice in that area before committing to a course of action.\\n\\n**Should not exceed 5:** For larger PRs affecting more of the codebase and, most likely, review by more people, we try to keep this pool small and responsive and let those with decision making authority have final say without negative repercussions from the other committers.\\n\\nTo be listed: Committers are usually selected (or they volunteer, using the same process) from contributors who enter the discussions regarding the future direction of Marked (maybe even doing informal reviews of contributions despite not being able to merge them yourself).\\n\\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\\n\\nA note on volunteering:\\n\\n1. Please do not volunteer unless you believe you can demonstrate to your peers you can do the work required.\\n2. Please do not overcommit yourself; we count on those committed to the project to be responsive. Really consider, with all you have going on, wehther you able to really commit to it.\\n3. Don't let the previous frighten you away, it can always be changed later by you or your peers.\\n\\n[Details on badges](#badges)\\n\\n## Contributors\\n\\nContributors are users who submit a [PR](https://github.com/markedjs/marked/pulls), [Issue](https://github.com/markedjs/marked/issues), or collaborate in making Marked a better product and experience for all the users.\\n\\nTo be listed: make a contribution and, if it has significant impact, the committers may be able to add you here.\\n\\nTo be removed: please let us know or submit a PR.\\n\\n[Details on badges](#badges)\\n\\n## Users\\n\\nUsers are anyone using Marked in some fashion, without them, there's no reason for us to exist.\\n\\n|Individual or Organization |Website                 |Project                              |Submitted by                                        |\\n|:--------------------------|:-----------------------|:------------------------------------|:---------------------------------------------------|\\n|MarkedJS                   |https://marked.js.org   |https://github.com/markedjs/marked   |The marked committers                               |\\n\\nTo be listed: All fields are optional. Contact any of the committers or, more timely, submit a pull request with the following (using the first row as an example):\\n\\n- **Individual or Organization:** The name you would like associated with the record.\\n- **Website:** A URL to a standalone website for the project.\\n- **Project:** A URL for the repository of the project using marked.\\n- **Submitted by:** The name and optional honorifics for the person adding the listing.\\n\\nTo be removed: Same as above. Only instead of requesting addition request deletion or delete the row yourself.\\n\\n<h2 id=\\\"badges\\\">Badges</h2>\\n\\nBadges? You don't *need* no stinkin' badges.\\n\\nMovie references aside. (It was either that or, \\\"Let's play a game\\\", but that would have been creepy&hellip;that's why it will most likely come later.)\\n\\nBadges? If you *want* 'em, we got 'em, and here's how you get 'em (and&hellip;dramatic pause&hellip;why not two dramatic pauses for emphasis?&hellip; how they can be taken away).\\n\\n- [ ] Add the appropriate badge to the desired contributor in the desired column of this page, even if they're not listed here yet.\\n- [ ] Submit a PR (we're big on PRs around here, if you haven't noticed, help us help you).\\n- [ ] Follow the instructions for submitting a badge PR. (There are more details to find within. Come on. Everybody likes surprises, right? No? Actually, we just try to put documentation where it belongs, closer to the code and part of the sequence of events.)\\n\\n### Badges at play:\\n\\n<dl>\\n\\t<dt>Curious Contributor</dt>\\n\\t<dd>A contributor with less than one year on this page who is actively engaged in submitting PRs, Issues, making recommendations, sharing thoughts&hellip;without being too annoying about it (let's be clear, submitting 100 Issues recommending the Marked Committers send everyone candy is trying for the badge, not honestly earning it).</dd>\\n\\t<dt>Dr. DevOps</dt>\\n\\t<dd>\\n\\t\\t<p>Someone who understands and contributes to improving the developer experience and flow of Marked into the world.</p>\\n\\t\\t<blockquote>\\n\\t\\t\\t\\\"The main characteristic of the DevOps movement is to strongly advocate automation and monitoring at all steps of software construction, from integration, testing, releasing to deployment and infrastructure management. DevOps aims at shorter development cycles, increased deployment frequency, more dependable releases, in close alignment with business objectives.\\\" ~ <a href=\\\"https://www.wikipedia.org/wiki/DevOps\\\">Wikipedia</a>\\n\\t\\t</blockquote>\\n\\t</dd>\\n  <dt>Dr. Docs</dt>\\n  <dd>Someone who has contributed a great deal to the creation and maintainance of the non-code areas of marked.</dd>\\n\\t<dt>Eye for the CLI</dt>\\n\\t<dd>At this point? Pretty much anyone who can update that `man` file to the current Marked version without regression in the CLI tool itself.</dd>\\n\\t<dt>GitHub Guru</dt>\\n\\t<dd>Someone who always seems to be able to tell you easier ways to do things with GitHub.</dd>\\n\\t<dt>Humaning Helper</dt>\\n\\t<dd>Someone who goes out of their way to help contributors feel welcomed and valued. Further, someone who takes the extra steps(s) necessary to help new contributors get up to speed. Finally, they maintain composure even in times of disagreement and dispute resolution.</dd>\\n\\t<dt>Heckler of Hypertext</dt>\\n\\t<dd>Someone who demonstrates an esoteric level of knowledge when it comes to HTML. In other words, someone who says things like, \\\"Did you know most Markdown flavors don't have a way to render a description list (`dl`)? All the more reason Markdown `!==` HTML.\\\"</dd>\\n\\t<dt>Markdown Maestro</dt>\\n\\t<dd>You know that person who knows about way too many different flavors of Markdown? The one who maybe seems a little too obsessed with the possibilities of Markdown beyond HTML? Come on. You know who they are. Or, at least you could, if you give them this badge.</dd>\\n\\t<dt>Master of Marked</dt>\\n\\t<dd>Someone who demonstrates they know the ins and outs of the codebase for Marked.</dd>\\n\\t<dt>Open source, of course</dt>\\n\\t<dd>Someone who advocates for and has a proven understanding of how to operate within open source communities.</dd>\\n\\t<dt>Regent of the Regex</dt>\\n\\t<dd><p>Can you demonstrate you understand the following without Google and Stackoverflow?</p>\\n\\t\\t<p><code>/^( *)(bull) [\\\\s\\\\S]+?(?:hr|def|\\\\n{2,}(?! )(?!\\\\1bull )\\\\n*|\\\\s*$)/</code></p>\\n\\t\\t<p>Because this author can't yet. That's who gets these.</p>\\n\\t</dd>\\n\\t<dt>Seeker of Security</dt>\\n\\t<dd>Someone who has demonstrated a high degree of expertise or authority when it comes to software security.</dd>\\n\\t<dt>Titan of the Test Harness</dt>\\n\\t<dd>Someone who demonstrates high-levels of understanding regarding Marked's test harness.</dd>\\n\\t<dt>Totally Tron</dt>\\n\\t<dd>Someone who demonstrates they are willing and able to \\\"fight for the users\\\", both developers dependent on marked to do their jobs as well as end-users interacting with the output (particularly in the realm of those with the disabilities).</dd>\\n</dl>\\n\\n### Special badges that come with the job:\\n\\n<dl>\\n\\t<dt>Defibrillator</dt>\\n\\t<dd>A contributor who stepped up to help bring Marked back to life by contriuting solutions to help Marked pass when compared against the CommonMark and GitHub Flavored Markdown specifications.</dd>\\n\\t<dt>Maker of the Marked mark</dt>\\n\\t<dd>This badge is given to the person or oganization credited with creating the logo (or logotype) used in Marked communications for a given period of time. **Maker of the Marked mark from 2017 to present**, for example.</dd>\\n\\t<dt>Release Wrangler</dt>\\n\\t<dd>This is a badge given to all Publishers.</dd>\\n\\t<dt>Snyk's Security Saint</dt>\\n\\t<dd>This is a badge given to whomever primarily reaches out from Snyk to let us know about security issues.</dd>\\n</dl>\\n\\n[end of AUTHORS.md]\\n[start of CONTRIBUTING.md]\\n# Contributing to Marked\\n\\n- [ ] Fork `markedjs/marked`.\\n- [ ] Clone the library locally using GitHub Desktop or the command line.\\n- [ ] Make sure you are on the `master` branch.\\n- [ ] Be sure to run `npm install` or `npm update`.\\n- [ ] Create a branch.\\n- [ ] Make as small a change as possible.\\n- [ ] Run `npm test`, fix any broken things (for linting, you can run `npm run lint` to have the linter fix them for you).\\n- [ ] Submit a PR.\\n\\n## Design principles\\n\\nMarked tends to favor following the SOLID set of software design and development principles; mainly the [single responsibility](https://en.wikipedia.org/wiki/Single_responsibility_principle) and [open/closed principles](https://en.wikipedia.org/wiki/Open/closed_principle):\\n\\n- **Single responsibility:** Marked, and the components of Marked, have the single responsibility of converting Markdown strings into HTML.\\n- **Open/closed:** Marked favors giving developers the means to easily extend the library and its components over changing Marked's behavior through configuration options.\\n\\n## Priorities\\n\\nWe think we have our priorities sorted to build quality in.\\n\\nThe following table lists the ticket type labels we use when there is work to be done on the code either through an Issue or a PR; in priority order.\\n\\n|Ticket type label                  |Description                                                                                                                                                                         |\\n|:----------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\\n|L0 - security                      |A security vulnerability within the Marked library is discovered.                                                                                                                   |\\n|L1 - broken                        |Valid usage results in incorrect output compared to [supported specifications](#/README.md#specifications) OR causes marked to crash AND there is no known workaround for the issue. |\\n|L2 - annoying                      |Similar to L1 - broken only there is a known workaround avaialable for the issue.                                                                                                   |\\n|RR - refactor and re-engineer      |Results in an improvement to developers using Marked (improved readability) or end-users (faster performance) or both.                                                              |\\n|NFS - new feature (spec related)   |A capability Marked does not currently provide but is in one of the [supported specifications](#/README.md#specifications)                                                           |\\n|NFU - new feature (user requested) |A capability Marked does not currently provide but has been requested by users of Marked.                                                                                           |\\n\\n## Test early, often, and everything\\n\\nWe try to write test cases to validate output (writing tests based on the [supported specifications](#/README.md#specifications)) and minimize regression (writing tests for issues fixed). Therefore, if you would like to contribute, some things you should know regarding the test harness.\\n\\n|Location      |Description                                         |\\n|:-------------|:---------------------------------------------------|\\n|/test/browser |For testing Marked in a client-side implementation. |\\n|/test/new     |Tests not related to the original `markdown.pl`.    |\\n|/test/original|Tests validating against the original `markdown.pl`.|\\n\\nIf your test uses features or options, assuming `gfm` is set to `false`, for example, you can add [front-matter](https://www.npmjs.com/package/front-matter) to the top of\\nyour `.md` file\\n\\n``` yml\\n---\\ngfm: false\\n---\\n```\\n\\n## Submitting PRs and Issues\\n\\nMarked provides templates for submitting both pull requests and issues. When you begin creating a new PR or issue, you will see instructions on using the template.\\n\\nThe PR templates include checklists for both the submitter and the reviewer, which, in most cases, will not be the same person.\\n\\n## Scripts\\n\\nWhen it comes to NPM commands, we try to use the native scripts provided by the NPM framework.\\n\\nTo run the tests:\\n\\n``` bash\\nnpm test\\n```\\n\\nTo test whether you are using the standard syntax rules for the project:\\n\\n```bash\\nnpm run test:lint\\n```\\n\\nTo see time comparisons between Marked and other popular Markdown libraries:\\n\\n```bash\\nnpm run bench\\n```\\n\\nTo check for (and fix) standardized syntax (lint):\\n\\n```bash\\nnpm run lint\\n```\\n\\nTo build your own minified version of Marked:\\n\\n```bash\\nnpm run build\\n```\\n\\n\\n[end of CONTRIBUTING.md]\\n[start of quickref.md]\\nMarkdown Quick Reference\\n========================\\n\\nThis guide is a very brief overview, with examples, of the syntax that [Markdown] supports.  It is itself written in Markdown and you can copy the samples over to the left-hand pane for experimentation.  It's shown as *text* and not *rendered HTML*.\\n\\n[Markdown]: http://daringfireball.net/projects/markdown/\\n\\n\\nSimple Text Formatting\\n======================\\n\\nFirst thing is first.  You can use *stars* or _underscores_ for italics.  **Double stars** and __double underscores__ do bold.  ***Three together*** do ___both___.\\n\\nParagraphs are pretty easy too.  Just have a blank line between chunks of text.\\n\\n> This chunk of text is in a block quote.  Its multiple lines will all be\\n> indended a bit from the rest of the text.\\n>\\n> > Multiple levels of block quotes also work.\\n\\nSometimes you want to include some code, such as when you are explaining how `<h1>` HTML tags work, or maybe you are a programmer and you are discussing `someMethod()`.\\n\\nIf you want to include some code and have\\nnewlines preserved, indent the line with a tab\\nor at least four spaces.\\n    Extra spaces work here too.\\nThis is also called preformatted text and it is useful for showing examples.\\nThe text will stay as text, so any *markdown* or <u>HTML</u> you add will\\nnot show up formatted.  This way you can show markdown examples in a\\nmarkdown document.\\n\\n>     You can also use preformatted text with your blockquotes\\n>     as long as you add at least five spaces.\\n\\n\\nHeadings\\n========\\n\\nThere are a couple of ways to make headings.  Using three or more equals signs on a line under a heading makes it into an \\\"h1\\\" style.  Three or more hyphens under a line makes it \\\"h2\\\" (slightly smaller).  You can also use multiple pound symbols before and after a heading.  Pounds after the title are ignored.  Here's some examples:\\n\\nThis is H1\\n==========\\n\\nThis is H2\\n----------\\n\\n# This is H1\\n## This is H2\\n### This is H3 with some extra pounds ###\\n#### You get the idea ####\\n##### I don't need extra pounds at the end\\n###### H6 is the max\\n\\n\\nLinks\\n=====\\n\\nLet's link to a few sites.  First, let's use the bare URL, like <http://www.github.com>.  Great for text, but ugly for HTML.\\nNext is an inline link to [Google](http://www.google.com).  A little nicer.\\nThis is a reference-style link to [Wikipedia] [1].\\nLastly, here's a pretty link to [Yahoo].  The reference-style and pretty links both automatically use the links defined below, but they could be defined *anywhere* in the markdown and are removed from the HTML.  The names are also case insensitive, so you can use [YaHoO] and have it link properly.\\n\\n[1]: http://www.wikipedia.org/\\n[Yahoo]: http://www.yahoo.com/\\n\\nTitle attributes may be added to links by adding text after a link.\\nThis is the [inline link](http://www.bing.com \\\"Bing\\\") with a \\\"Bing\\\" title.\\nYou can also go to [W3C] [2] and maybe visit a [friend].\\n\\n[2]: http://w3c.org (The W3C puts out specs for web-based things)\\n[Friend]: http://facebook.com/ \\\"Facebook!\\\"\\n\\nEmail addresses in plain text are not linked: test@example.com.\\nEmail addresses wrapped in angle brackets are linked: <test@example.com>.\\nThey are also obfuscated so that email harvesting spam robots hopefully won't get them.\\n\\n\\nLists\\n=====\\n\\n* This is a bulleted list\\n* Great for shopping lists\\n- You can also use hyphens\\n+ Or plus symbols\\n\\nThe above is an \\\"unordered\\\" list.  Now, on for a bit of order.\\n\\n1. Numbered lists are also easy\\n2. Just start with a number\\n3738762. However, the actual number doesn't matter when converted to HTML.\\n1.  This will still show up as 4.\\n\\nYou might want a few advanced lists:\\n\\n- This top-level list is wrapped in paragraph tags\\n- This generates an extra space between each top-level item.\\n\\n- You do it by adding a blank line\\n\\n- This nested list also has blank lines between the list items.\\n\\n- How to create nested lists\\n1.  Start your regular list\\n2.  Indent nested lists with four spaces\\n3.  Further nesting means you should indent with four more spaces\\n    * This line is indented with eight spaces.\\n\\n- List items can be quite lengthy.  You can keep typing and either continue\\nthem on the next line with no indentation.\\n\\n- Alternately, if that looks ugly, you can also\\nindent the next line a bit for a prettier look.\\n\\n- You can put large blocks of text in your list by just indenting with four spaces.\\n\\nThis is formatted the same as code, but you can inspect the HTML\\nand find that it's just wrapped in a `<p>` tag and *won't* be shown\\nas preformatted text.\\n\\nYou can keep adding more and more paragraphs to a single\\nlist item by adding the traditional blank line and then keep\\non indenting the paragraphs with four spaces.  You really need\\nto only indent the first line, but that looks ugly.\\n\\n- Lists support blockquotes\\n\\n> Just like this example here.  By the way, you can\\n> nest lists inside blockquotes!\\n> - Fantastic!\\n\\n- Lists support preformatted text\\n\\n    You just need to indent eight spaces.\\n\\n\\nEven More\\n=========\\n\\nHorizontal Rule\\n---------------\\n\\nIf you need a horizontal rule you just need to put at least three hyphens, asterisks, or underscores on a line by themselves.  You can also even put spaces between the characters.\\n\\n---\\n****************************\\n_ _ _ _ _ _ _\\n\\nThose three all produced horizontal lines.  Keep in mind that three hyphens under any text turns that text into a heading, so add a blank like if you use hyphens.\\n\\nImages\\n------\\n\\nImages work exactly like links, but they have exclamation points in front.  They work with references and titles too.\\n\\n![Google Logo](http://www.google.com/images/errors/logo_sm.gif) and ![Happy].\\n\\n[Happy]: http://www.wpclipart.com/smiley/simple_smiley/smiley_face_simple_green_small.png (\\\"Smiley face\\\")\\n\\n\\nInline HTML\\n-----------\\n\\nIf markdown is too limiting, you can just insert your own <strike>crazy</strike> HTML.  Span-level HTML <u>can *still* use markdown</u>.  Block level elements must be separated from text by a blank line and must not have any spaces before the opening and closing HTML.\\n\\n<div style='font-family: \\\"Comic Sans\\\", sans-serif;'>\\nIt is a pity, but markdown does **not** work in here for most markdown parsers.  [Marked] handles it pretty well.\\n</div>\\n\\n[end of quickref.md]\\n[start of README.md]\\nMarked is\\n\\n1. built for speed.<sup>*</sup>\\n2. a low-level markdown compiler for parsing markdown without caching or blocking for long periods of time.<sup>**</sup>\\n3. light-weight while implementing all markdown features from the supported flavors & specifications.<sup>***</sup>\\n4. available as a command line interface (CLI) and running in client- or server-side JavaScript projects.\\n\\n<p><small><sup>*</sup> Still working on metrics for comparative analysis and definition.</small><br>\\n<small><sup>**</sup> As few dependencies as possible.</small><br>\\n<small><sup>***</sup> Strict compliance could result in slower processing when running comparative benchmarking.</small></p>\\n\\n\\n<h2 id=\\\"demo\\\">Demo</h2>\\n\\nCheckout the [demo page](./demo/) to see marked in action \\u26f9\\ufe0f\\n\\nThese documentation pages are also rendered using marked \\ud83d\\udcaf\\n\\n\\n<h2 id=\\\"installation\\\">Installation</h2>\\n\\n**CLI:** `npm install -g marked`\\n\\n**In-browser:** `npm install marked --save`\\n\\n<h2 id=\\\"usage\\\">Usage</h2>\\n\\n### Warning: \\ud83d\\udea8 Marked does not [sanitize](https://marked.js.org/#/USING_ADVANCED.md#options) the output HTML by default \\ud83d\\udea8\\n\\n**CLI**\\n\\n``` bash\\n$ marked -o hello.html\\nhello world\\n^D\\n$ cat hello.html\\n<p>hello world</p>\\n```\\n\\n``` bash\\n$ marked -s \\\"*hello world*\\\"\\n<p><em>hello world</em></p>\\n```\\n\\n**Browser**\\n\\n```html\\n<!doctype html>\\n<html>\\n<head>\\n  <meta charset=\\\"utf-8\\\"/>\\n  <title>Marked in the browser</title>\\n</head>\\n<body>\\n  <div id=\\\"content\\\"></div>\\n  <script src=\\\"https://cdn.jsdelivr.net/npm/marked/marked.min.js\\\"></script>\\n  <script>\\n    document.getElementById('content').innerHTML =\\n      marked('# Marked in browser\\\\n\\\\nRendered by **marked**.');\\n  </script>\\n</body>\\n</html>\\n```\\n\\n\\nMarked offers [advanced configurations](#/USING_ADVANCED.md) and [extensibility](#/USING_PRO.md) as well.\\n\\n<h2 id=\\\"specifications\\\">Supported Markdown specifications</h2>\\n\\nWe actively support the features of the following [Markdown flavors](https://github.com/commonmark/CommonMark/wiki/Markdown-Flavors).\\n\\n|Flavor                                                     |Version    |\\n|:----------------------------------------------------------|:----------|\\n|The original markdown.pl                                   |--         |\\n|[CommonMark](http://spec.commonmark.org/0.28/)             |0.28       |\\n|[GitHub Flavored Markdown](https://github.github.com/gfm/) |0.28       |\\n\\nBy supporting the above Markdown flavors, it's possible that Marked can help you use other flavors as well; however, these are not actively supported by the community.\\n\\n<h2 id=\\\"security\\\">Security</h2>\\n\\nThe only completely secure system is the one that doesn't exist in the first place. Having said that, we take the security of Marked very seriously.\\n\\nTherefore, please disclose potential security issues by email to the project [committers](#/AUTHORS.md) as well as the [listed owners within NPM](https://docs.npmjs.com/cli/owner). We will provide an initial assessment of security reports within 48 hours and should apply patches within 2 weeks (also, feel free to contribute a fix for the issue).\\n\\n\\n[end of README.md]\\n[start of broken.md]\\n# Markdown is broken\\n\\nI have a lot of scraps of markdown engine oddities that I've collected over the\\nyears. What you see below is slightly messy, but it's what I've managed to\\ncobble together to illustrate the differences between markdown engines, and\\nwhy, if there ever is a markdown specification, it has to be absolutely\\nthorough. There are a lot more of these little differences I have documented\\nelsewhere. I know I will find them lingering on my disk one day, but until\\nthen, I'll continue to add whatever strange nonsensical things I find.\\n\\nSome of these examples may only mention a particular engine compared to marked.\\nHowever, the examples with markdown.pl could easily be swapped out for\\ndiscount, upskirt, or markdown.js, and you would very easily see even more\\ninconsistencies.\\n\\nA lot of this was written when I was very unsatisfied with the inconsistencies\\nbetween markdown engines. Please excuse the frustration noticeable in my\\nwriting.\\n\\n## Examples of markdown's \\\"stupid\\\" list parsing\\n\\n```\\n$ markdown.pl\\n\\n  * item1\\n\\n    * item2\\n\\n  text\\n^D\\n<ul>\\n<li><p>item1</p>\\n\\n<ul>\\n<li>item2</li>\\n</ul>\\n\\n<p><p>text</p></li>\\n</ul></p>\\n```\\n\\n\\n```\\n$ marked\\n  * item1\\n\\n    * item2\\n\\n  text\\n^D\\n<ul>\\n<li><p>item1</p>\\n<ul>\\n<li>item2</li>\\n</ul>\\n<p>text</p>\\n</li>\\n</ul>\\n```\\n\\nWhich looks correct to you?\\n\\n- - -\\n\\n```\\n$ markdown.pl\\n* hello\\n  > world\\n^D\\n<p><ul>\\n<li>hello</p>\\n\\n<blockquote>\\n  <p>world</li>\\n</ul></p>\\n</blockquote>\\n```\\n\\n```\\n$ marked\\n* hello\\n  > world\\n^D\\n<ul>\\n<li>hello<blockquote>\\n<p>world</p>\\n</blockquote>\\n</li>\\n</ul>\\n```\\n\\nAgain, which looks correct to you?\\n\\n- - -\\n\\nEXAMPLE:\\n\\n```\\n$ markdown.pl\\n* hello\\n  * world\\n    * hi\\n          code\\n^D\\n<ul>\\n<li>hello\\n<ul>\\n<li>world</li>\\n<li>hi\\n  code</li>\\n</ul></li>\\n</ul>\\n```\\n\\nThe code isn't a code block even though it's after the bullet margin. I know,\\nlets give it two more spaces, effectively making it 8 spaces past the bullet.\\n\\n```\\n$ markdown.pl\\n* hello\\n  * world\\n    * hi\\n            code\\n^D\\n<ul>\\n<li>hello\\n<ul>\\n<li>world</li>\\n<li>hi\\n    code</li>\\n</ul></li>\\n</ul>\\n```\\n\\nAnd, it's still not a code block. Did you also notice that the 3rd item isn't\\neven its own list? Markdown screws that up too because of its indentation\\nunaware parsing.\\n\\n- - -\\n\\nLet's look at some more examples of markdown's list parsing:\\n\\n```\\n$ markdown.pl\\n\\n  * item1\\n\\n    * item2\\n\\n  text\\n^D\\n<ul>\\n<li><p>item1</p>\\n\\n<ul>\\n<li>item2</li>\\n</ul>\\n\\n<p><p>text</p></li>\\n</ul></p>\\n```\\n\\nMisnested tags.\\n\\n\\n```\\n$ marked\\n  * item1\\n\\n    * item2\\n\\n  text\\n^D\\n<ul>\\n<li><p>item1</p>\\n<ul>\\n<li>item2</li>\\n</ul>\\n<p>text</p>\\n</li>\\n</ul>\\n```\\n\\nWhich looks correct to you?\\n\\n- - -\\n\\n```\\n$ markdown.pl\\n* hello\\n  > world\\n^D\\n<p><ul>\\n<li>hello</p>\\n\\n<blockquote>\\n  <p>world</li>\\n</ul></p>\\n</blockquote>\\n```\\n\\nMore misnested tags.\\n\\n\\n```\\n$ marked\\n* hello\\n  > world\\n^D\\n<ul>\\n<li>hello<blockquote>\\n<p>world</p>\\n</blockquote>\\n</li>\\n</ul>\\n```\\n\\nAgain, which looks correct to you?\\n\\n- - -\\n\\n# Why quality matters - Part 2\\n\\n``` bash\\n$ markdown.pl\\n* hello\\n  > world\\n^D\\n<p><ul>\\n<li>hello</p>\\n\\n<blockquote>\\n  <p>world</li>\\n</ul></p>\\n</blockquote>\\n```\\n\\n``` bash\\n$ sundown # upskirt\\n* hello\\n  > world\\n^D\\n<ul>\\n<li>hello\\n&gt; world</li>\\n</ul>\\n```\\n\\n``` bash\\n$ marked\\n* hello\\n  > world\\n^D\\n<ul><li>hello <blockquote><p>world</p></blockquote></li></ul>\\n```\\n\\nWhich looks correct to you?\\n\\n- - -\\n\\nSee: https://github.com/evilstreak/markdown-js/issues/23\\n\\n``` bash\\n$ markdown.pl # upskirt/markdown.js/discount\\n* hello\\n      var a = 1;\\n* world\\n^D\\n<ul>\\n<li>hello\\nvar a = 1;</li>\\n<li>world</li>\\n</ul>\\n```\\n\\n``` bash\\n$ marked\\n* hello\\n      var a = 1;\\n* world\\n^D\\n<ul><li>hello\\n<pre>code>var a = 1;</code></pre></li>\\n<li>world</li></ul>\\n```\\n\\nWhich looks more reasonable? Why shouldn't code blocks be able to appear in\\nlist items in a sane way?\\n\\n- - -\\n\\n``` bash\\n$ markdown.js\\n<div>hello</div>\\n\\n<span>hello</span>\\n^D\\n<p>&lt;div&gt;hello&lt;/div&gt;</p>\\n\\n<p>&lt;span&gt;hello&lt;/span&gt;</p>\\n```\\n\\n``` bash\\n$ marked\\n<div>hello</div>\\n\\n<span>hello</span>\\n^D\\n<div>hello</div>\\n\\n\\n<p><span>hello</span>\\n</p>\\n```\\n\\n- - -\\n\\nSee: https://github.com/evilstreak/markdown-js/issues/27\\n\\n``` bash\\n$ markdown.js\\n[![an image](/image)](/link)\\n^D\\n<p><a href=\\\"/image)](/link\\\">![an image</a></p>\\n```\\n\\n``` bash\\n$ marked\\n[![an image](/image)](/link)\\n^D\\n<p><a href=\\\"/link\\\"><img src=\\\"/image\\\" alt=\\\"an image\\\"></a>\\n</p>\\n```\\n\\n- - -\\n\\nSee: https://github.com/evilstreak/markdown-js/issues/24\\n\\n``` bash\\n$ markdown.js\\n> a\\n\\n> b\\n\\n> c\\n^D\\n<blockquote><p>a</p><p>bundefined&gt; c</p></blockquote>\\n```\\n\\n``` bash\\n$ marked\\n> a\\n\\n> b\\n\\n> c\\n^D\\n<blockquote><p>a\\n\\n</p></blockquote>\\n<blockquote><p>b\\n\\n</p></blockquote>\\n<blockquote><p>c\\n</p></blockquote>\\n```\\n\\n- - -\\n\\n``` bash\\n$ markdown.pl\\n* hello\\n  * world\\n    how\\n\\n    are\\n    you\\n\\n  * today\\n* hi\\n^D\\n<ul>\\n<li><p>hello</p>\\n\\n<ul>\\n<li>world\\nhow</li>\\n</ul>\\n\\n<p>are\\nyou</p>\\n\\n<ul>\\n<li>today</li>\\n</ul></li>\\n<li>hi</li>\\n</ul>\\n```\\n\\n``` bash\\n$ marked\\n* hello\\n  * world\\n    how\\n\\n    are\\n    you\\n\\n  * today\\n* hi\\n^D\\n<ul>\\n<li><p>hello</p>\\n<ul>\\n<li><p>world\\nhow</p>\\n<p>are\\nyou</p>\\n</li>\\n<li><p>today</p>\\n</li>\\n</ul>\\n</li>\\n<li>hi</li>\\n</ul>\\n```\\n\\n[end of broken.md]\\n\\n</code>\\n\\nHere is an example of a patch file. It consists of changes to the code base. It specifies the file names, the line numbers of each change, and the removed and added lines. A single patch file can contain changes to multiple files.\\n\\n<patch>\\ndiff --git a/file.py b/file.py\\n--- a/file.py\\n+++ b/file.py\\n@@ -1,27 +1,35 @@\\n def euclidean(a, b):\\n-    while b:\\n-        a, b = b, a % b\\n-    return a\\n+    if b == 0:\\n+        return a\\n+    return euclidean(b, a % b)\\n \\n def bresenham(x0, y0, x1, y1):\\n+    points = []\\n+    dx = abs(x1 - x0)\\n+    dy = abs(y1 - y0)\\n+    sx = 1 if x0 < x1 else -1\\n+    sy = 1 if y0 < y1 else -1\\n+    err = dx - dy\\n+    \\n     while True:\\n-        plot(x0, y0)\\n+        points.append((x0, y0))\\n         if x0 == x1 and y0 == y1:\\n             break\\n-        e2 = 2 * err\\n-        if e2 > -dy:\\n-            err -= dy\\n-            x0 += sx\\n-        if e2 < dx:\\n-            err += dx\\n-            y0 += sy\\n+        e2 = 2 * err\\n+        if e2 > -dy:\\n+            err -= dy\\n+            x0 += sx\\n+        if e2 < dx:\\n+            err += dx\\n+            y0 += sy\\n+    return points\\n+</patch>\\n\\nI need you to solve the provided issue by generating a single patch file that I can apply directly to this repository using git apply. Please respond with a single patch file in the format shown above.\\n\\nRespond below: \\n\"}]",
      "retrieved_file_paths": [
        "AUTHORS.md",
        "CONTRIBUTING.md",
        "quickref.md",
        "README.md",
        "broken.md"
      ]
    },
    "retrieved_documents": [
      {
        "id": "f075e32d-a24d-43ac-ac05-78cf2bd5a380",
        "score": 0.01639344262295082,
        "payload": {
          "text": "# Authors\n\nMarked takes an encompassing approach to its community. As such, you can think of these as [concentric circles](https://medium.com/the-node-js-collection/healthy-open-source-967fa8be7951), where each group encompases the following groups.\n\n<table>\n  <tbody>\n  \t<tr>\n      <td align=\"center\" valign=\"top\" style=\"width:32%\">\n        <a href=\"https://github.com/chjj\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/chjj.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/chjj\">Christopher Jeffrey</a>\n        <div>Original Author</div>\n        <small>Started the fire</small>\n      </td>\n      <td align=\"center\" valign=\"top\" style=\"width:32%\">\n        <a href=\"https://github.com/joshbruce\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/joshbruce.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://joshbruce.com\">Josh Bruce</a>\n        <div>Publisher</div>\n        <small>Release Wrangler; Humaning Helper; Heckler of Hypertext</small>\n      </td>\n      <td align=\"center\" valign=\"top\" style=\"width:32%\">\n        <a href=\"https://github.com/styfle\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/styfle.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://www.ceriously.com\">Steven</a>\n        <div>Publisher</div>\n        <small>Release Wrangler; Dr. Docs; Open source, of course; GitHub Guru; Humaning Helper</small>\n      </td>\n    </tr>\n  \t<tr>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/davisjam\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/davisjam.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/davisjam\">Jamie Davis</a>\n        <div>Committer</div>\n        <small>Seeker of Security</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/UziTech\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/UziTech.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://tony.brix.ninja\">Tony Brix</a>\n        <div>Publisher</div>\n        <small>Release Wrangler; Titan of the test harness; Dr. DevOps</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        &nbsp;\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n<table>\n  <tbody>\n    <tr>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/intcreator\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/intcreator.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/intcreator\">Brandon der Bl\u00e4tter</a>\n        <div>Contributor</div>\n        <small>Curious Contributor</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/carlosvalle\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/carlosvalle.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/carlosvalle\">Carlos Valle</a>\n        <div>Contributor</div>\n        <small>Maker of the Marked mark from 2018 to present</small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n        <a href=\"https://github.com/Feder1co5oave\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/Feder1co5oave.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/Feder1co5oave\">Federico Soave</a>\n        <div>Contributor</div>\n        <small>Regent of the Regex; Master of Marked</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/karenyavine\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/karenyavine.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/karenyavine\">Karen Yavine</a>\n        <div>Contributor</div>\n        <small>Snyk's Security Saint</small>\n      </td>\n     </tr>\n     <tr>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/KostyaTretyak\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/KostyaTretyak.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/KostyaTretyak\">\u041a\u043e\u0441\u0442\u044f \u0422\u0440\u0435\u0442\u044f\u043a</a>\n        <div>Contributor</div>\n        <small></small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n        <a href=\"https://github.com/tomtheisen\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/tomtheisen.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/tomtheisen\">Tom Theisen</a>\n        <div>Contributor</div>\n        <small>Defibrillator</small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n        <a href=\"https://github.com/mccraveiro\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/mccraveiro.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/mccraveiro\">Mateus Craveiro</a>\n        <div>Contributor</div>\n        <small>Defibrillator</small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n      </td>\n     </tr>\n  </tbody>\n</table>\n\n## Publishers\n\nPublishers are admins who also have the responsibility, privilege, and burden of publishing the new releases to NPM and performing outreach and external stakeholder communications. Further, when things go pear-shaped, they're the ones taking most of the heat. Finally, when things go well, they're the primary ones praising the contributors who made it possible.\n\n(In other words, while Admins are focused primarily on the internal workings of the project, Publishers are focused on internal *and* external concerns.)\n\n**Should not exceed 2:** Having more people with the authority to publish a release can quickly turn into a consensus seeking nightmare (design by committee). Having only one is preferred (Directly Responsible Individual); however, given the nature of the project and its history, having an immediate fallback, and a potential deep fallback (Original author) is probably a good idea.\n\n[Details on badges](#badges)\n\n## Admins\n\nAdmins are committers who also have the responsibility, privilege, and burden of selecting committers and making sure the project itself runs smoothly, which includes community maintenance, governance, dispute resolution, and so on. (Letting the contributors easily enter into, and work within, the project to begin contributing, with as little friction as possible.)\n\n**Should not exceed 3:** When there are too many people with the ability to resolve disputes, the dispute itself can quickly turn into a dispute amongst the admins themselves; therefore, we want this group to be small enough to commit to action and large enough to not put too much burden on one person. (Should ensure faster resolution and responsiveness.)\n\nTo be listed: Admins are usually selected from the pool of committers (or they volunteer, using the same process) who demonstrate good understanding of the marked culture, operations, and do their best to help new contributors get up to speed on how to contribute effectively to the project.\n\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\n\n[Details on badges](#badges)\n\n## Committers\n\nCommitters are contributors who also have the responsibility, privilege, some might even say burden of being able to review and merge contributions (just usually not their own).\n\nA note on \"decision making authority\". This is related to submitting PRs and the [advice process](http://www.reinventingorganizationswiki.com/Decision_Making). The person marked as having decision making authority over a certain area should be sought for advice in that area before committing to a course of action.\n\n**Should not exceed 5:** For larger PRs affecting more of the codebase and, most likely, review by more people, we try to keep this pool small and responsive and let those with decision making authority have final say without negative repercussions from the other committers.\n\nTo be listed: Committers are usually selected (or they volunteer, using the same process) from contributors who enter the discussions regarding the future direction of Marked (maybe even doing informal reviews of contributions despite not being able to merge them yourself).\n\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\n\nA note on volunteering:\n\n1. Please do not volunteer unless you believe you can demonstrate to your peers you can do the work required.\n2. Please do not overcommit yourself; we count on those committed to the project to be responsive. Really consider, with all you have going on, wehther you able to really commit to it.\n3. Don't let the previous frighten you away, it can always be changed later by you or your peers.\n\n[Details on badges](#badges)\n\n## Contributors\n\nContributors are users who submit a [PR](https://github.com/markedjs/marked/pulls), [Issue](https://github.com/markedjs/marked/issues), or collaborate in making Marked a better product and experience for all the users.\n\nTo be listed: make a contribution and, if it has significant impact, the committers may be able to add you here.\n\nTo be removed: please let us know or submit a PR.\n\n[Details on badges](#badges)\n\n## Users\n\nUsers are anyone using Marked in some fashion, without them, there's no reason for us to exist.\n\n|Individual or Organization |Website                 |Project                              |Submitted by                                        |\n|:--------------------------|:-----------------------|:------------------------------------|:---------------------------------------------------|\n|MarkedJS                   |https://marked.js.org   |https://github.com/markedjs/marked   |The marked committers                               |\n\nTo be listed: All fields are optional. Contact any of the committers or, more timely, submit a pull request with the following (using the first row as an example):\n\n- **Individual or Organization:** The name you would like associated with the record.\n- **Website:** A URL to a standalone website for the project.\n- **Project:** A URL for the repository of the project using marked.\n- **Submitted by:** The name and optional honorifics for the person adding the listing.\n\nTo be removed: Same as above. Only instead of requesting addition request deletion or delete the row yourself.\n\n<h2 id=\"badges\">Badges</h2>\n\nBadges? You don't *need* no stinkin' badges.\n\nMovie references aside. (It was either that or, \"Let's play a game\", but that would have been creepy&hellip;that's why it will most likely come later.)\n\nBadges? If you *want* 'em, we got 'em, and here's how you get 'em (and&hellip;dramatic pause&hellip;why not two dramatic pauses for emphasis?&hellip; how they can be taken away).\n\n- [ ] Add the appropriate badge to the desired contributor in the desired column of this page, even if they're not listed here yet.\n- [ ] Submit a PR (we're big on PRs around here, if you haven't noticed, help us help you).\n- [ ] Follow the instructions for submitting a badge PR. (There are more details to find within. Come on. Everybody likes surprises, right? No? Actually, we just try to put documentation where it belongs, closer to the code and part of the sequence of events.)\n\n### Badges at play:\n\n<dl>\n\t<dt>Curious Contributor</dt>\n\t<dd>A contributor with less than one year on this page who is actively engaged in submitting PRs, Issues, making recommendations, sharing thoughts&hellip;without being too annoying about it (let's be clear, submitting 100 Issues recommending the Marked Committers send everyone candy is trying for the badge, not honestly earning it).</dd>\n\t<dt>Dr. DevOps</dt>\n\t<dd>\n\t\t<p>Someone who understands and contributes to improving the developer experience and flow of Marked into the world.</p>\n\t\t<blockquote>\n\t\t\t\"The main characteristic of the DevOps movement is to strongly advocate automation and monitoring at all steps of software construction, from integration, testing, releasing to deployment and infrastructure management. DevOps aims at shorter development cycles, increased deployment frequency, more dependable releases, in close alignment with business objectives.\" ~ <a href=\"https://www.wikipedia.org/wiki/DevOps\">Wikipedia</a>\n\t\t</blockquote>\n\t</dd>\n  <dt>Dr. Docs</dt>\n  <dd>Someone who has contributed a great deal to the creation and maintainance of the non-code areas of marked.</dd>\n\t<dt>Eye for the CLI</dt>\n\t<dd>At this point? Pretty much anyone who can update that `man` file to the current Marked version without regression in the CLI tool itself.</dd>\n\t<dt>GitHub Guru</dt>\n\t<dd>Someone who always seems to be able to tell you easier ways to do things with GitHub.</dd>\n\t<dt>Humaning Helper</dt>\n\t<dd>Someone who goes out of their way to help contributors feel welcomed and valued. Further, someone who takes the extra steps(s) necessary to help new contributors get up to speed. Finally, they maintain composure even in times of disagreement and dispute resolution.</dd>\n\t<dt>Heckler of Hypertext</dt>\n\t<dd>Someone who demonstrates an esoteric level of knowledge when it comes to HTML. In other words, someone who says things like, \"Did you know most Markdown flavors don't have a way to render a description list (`dl`)? All the more reason Markdown `!==` HTML.\"</dd>\n\t<dt>Markdown Maestro</dt>\n\t<dd>You know that person who knows about way too many different flavors of Markdown? The one who maybe seems a little too obsessed with the possibilities of Markdown beyond HTML? Come on. You know who they are. Or, at least you could, if you give them this badge.</dd>\n\t<dt>Master of Marked</dt>\n\t<dd>Someone who demonstrates they know the ins and outs of the codebase for Marked.</dd>\n\t<dt>Open source, of course</dt>\n\t<dd>Someone who advocates for and has a proven understanding of how to operate within open source communities.</dd>\n\t<dt>Regent of the Regex</dt>\n\t<dd><p>Can you demonstrate you understand the following without Google and Stackoverflow?</p>\n\t\t<p><code>/^( *)(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/</code></p>\n\t\t<p>Because this author can't yet. That's who gets these.</p>\n\t</dd>\n\t<dt>Seeker of Security</dt>\n\t<dd>Someone who has demonstrated a high degree of expertise or authority when it comes to software security.</dd>\n\t<dt>Titan of the Test Harness</dt>\n\t<dd>Someone who demonstrates high-levels of understanding regarding Marked's test harness.</dd>\n\t<dt>Totally Tron</dt>\n\t<dd>Someone who demonstrates they are willing and able to \"fight for the users\", both developers dependent on marked to do their jobs as well as end-users interacting with the output (particularly in the realm of those with the disabilities).</dd>\n</dl>\n\n### Special badges that come with the job:\n\n<dl>\n\t<dt>Defibrillator</dt>\n\t<dd>A contributor who stepped up to help bring Marked back to life by contriuting solutions to help Marked pass when compared against the CommonMark and GitHub Flavored Markdown specifications.</dd>\n\t<dt>Maker of the Marked mark</dt>\n\t<dd>This badge is given to the person or oganization credited with creating the logo (or logotype) used in Marked communications for a given period of time. **Maker of the Marked mark from 2017 to present**, for example.</dd>\n\t<dt>Release Wrangler</dt>\n\t<dd>This is a badge given to all Publishers.</dd>\n\t<dt>Snyk's Security Saint</dt>\n\t<dd>This is a badge given to whomever primarily reaches out from Snyk to let us know about security issues.</dd>\n</dl>\n",
          "filepath": "data/repos/markedjs/marked-0.6/docs/AUTHORS.md",
          "repo": "markedjs/marked",
          "version": "0.6",
          "chunk_index": 0,
          "chunk_id": "f075e32d-a24d-43ac-ac05-78cf2bd5a380"
        }
      },
      {
        "id": "dcb6c676-d494-4c9d-bfd1-b27c9f1515bd",
        "score": 0.016129032258064516,
        "payload": {
          "text": "# Contributing to Marked\n\n- [ ] Fork `markedjs/marked`.\n- [ ] Clone the library locally using GitHub Desktop or the command line.\n- [ ] Make sure you are on the `master` branch.\n- [ ] Be sure to run `npm install` or `npm update`.\n- [ ] Create a branch.\n- [ ] Make as small a change as possible.\n- [ ] Run `npm test`, fix any broken things (for linting, you can run `npm run lint` to have the linter fix them for you).\n- [ ] Submit a PR.\n\n## Design principles\n\nMarked tends to favor following the SOLID set of software design and development principles; mainly the [single responsibility](https://en.wikipedia.org/wiki/Single_responsibility_principle) and [open/closed principles](https://en.wikipedia.org/wiki/Open/closed_principle):\n\n- **Single responsibility:** Marked, and the components of Marked, have the single responsibility of converting Markdown strings into HTML.\n- **Open/closed:** Marked favors giving developers the means to easily extend the library and its components over changing Marked's behavior through configuration options.\n\n## Priorities\n\nWe think we have our priorities sorted to build quality in.\n\nThe following table lists the ticket type labels we use when there is work to be done on the code either through an Issue or a PR; in priority order.\n\n|Ticket type label                  |Description                                                                                                                                                                         |\n|:----------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n|L0 - security                      |A security vulnerability within the Marked library is discovered.                                                                                                                   |\n|L1 - broken                        |Valid usage results in incorrect output compared to [supported specifications](#/README.md#specifications) OR causes marked to crash AND there is no known workaround for the issue. |\n|L2 - annoying                      |Similar to L1 - broken only there is a known workaround avaialable for the issue.                                                                                                   |\n|RR - refactor and re-engineer      |Results in an improvement to developers using Marked (improved readability) or end-users (faster performance) or both.                                                              |\n|NFS - new feature (spec related)   |A capability Marked does not currently provide but is in one of the [supported specifications](#/README.md#specifications)                                                           |\n|NFU - new feature (user requested) |A capability Marked does not currently provide but has been requested by users of Marked.                                                                                           |\n\n## Test early, often, and everything\n\nWe try to write test cases to validate output (writing tests based on the [supported specifications](#/README.md#specifications)) and minimize regression (writing tests for issues fixed). Therefore, if you would like to contribute, some things you should know regarding the test harness.\n\n|Location      |Description                                         |\n|:-------------|:---------------------------------------------------|\n|/test/browser |For testing Marked in a client-side implementation. |\n|/test/new     |Tests not related to the original `markdown.pl`.    |\n|/test/original|Tests validating against the original `markdown.pl`.|\n\nIf your test uses features or options, assuming `gfm` is set to `false`, for example, you can add [front-matter](https://www.npmjs.com/package/front-matter) to the top of\nyour `.md` file\n\n``` yml\n---\ngfm: false\n---\n```\n\n## Submitting PRs and Issues\n\nMarked provides templates for submitting both pull requests and issues. When you begin creating a new PR or issue, you will see instructions on using the template.\n\nThe PR templates include checklists for both the submitter and the reviewer, which, in most cases, will not be the same person.\n\n## Scripts\n\nWhen it comes to NPM commands, we try to use the native scripts provided by the NPM framework.\n\nTo run the tests:\n\n``` bash\nnpm test\n```\n\nTo test whether you are using the standard syntax rules for the project:\n\n```bash\nnpm run test:lint\n```\n\nTo see time comparisons between Marked and other popular Markdown libraries:\n\n```bash\nnpm run bench\n```\n\nTo check for (and fix) standardized syntax (lint):\n\n```bash\nnpm run lint\n```\n\nTo build your own minified version of Marked:\n\n```bash\nnpm run build\n```\n\n",
          "filepath": "data/repos/markedjs/marked-0.6/docs/CONTRIBUTING.md",
          "repo": "markedjs/marked",
          "version": "0.6",
          "chunk_index": 0,
          "chunk_id": "dcb6c676-d494-4c9d-bfd1-b27c9f1515bd"
        }
      },
      {
        "id": "9e62cf54-43e3-47cf-afa2-33f22a0f8cf6",
        "score": 0.015873015873015872,
        "payload": {
          "text": "Markdown Quick Reference\n========================\n\nThis guide is a very brief overview, with examples, of the syntax that [Markdown] supports.  It is itself written in Markdown and you can copy the samples over to the left-hand pane for experimentation.  It's shown as *text* and not *rendered HTML*.\n\n[Markdown]: http://daringfireball.net/projects/markdown/\n\n\nSimple Text Formatting\n======================\n\nFirst thing is first.  You can use *stars* or _underscores_ for italics.  **Double stars** and __double underscores__ do bold.  ***Three together*** do ___both___.\n\nParagraphs are pretty easy too.  Just have a blank line between chunks of text.\n\n> This chunk of text is in a block quote.  Its multiple lines will all be\n> indended a bit from the rest of the text.\n>\n> > Multiple levels of block quotes also work.\n\nSometimes you want to include some code, such as when you are explaining how `<h1>` HTML tags work, or maybe you are a programmer and you are discussing `someMethod()`.\n\nIf you want to include some code and have\nnewlines preserved, indent the line with a tab\nor at least four spaces.\n    Extra spaces work here too.\nThis is also called preformatted text and it is useful for showing examples.\nThe text will stay as text, so any *markdown* or <u>HTML</u> you add will\nnot show up formatted.  This way you can show markdown examples in a\nmarkdown document.\n\n>     You can also use preformatted text with your blockquotes\n>     as long as you add at least five spaces.\n\n\nHeadings\n========\n\nThere are a couple of ways to make headings.  Using three or more equals signs on a line under a heading makes it into an \"h1\" style.  Three or more hyphens under a line makes it \"h2\" (slightly smaller).  You can also use multiple pound symbols before and after a heading.  Pounds after the title are ignored.  Here's some examples:\n\nThis is H1\n==========\n\nThis is H2\n----------\n\n# This is H1\n## This is H2\n### This is H3 with some extra pounds ###\n#### You get the idea ####\n##### I don't need extra pounds at the end\n###### H6 is the max\n\n\nLinks\n=====\n\nLet's link to a few sites.  First, let's use the bare URL, like <http://www.github.com>.  Great for text, but ugly for HTML.\nNext is an inline link to [Google](http://www.google.com).  A little nicer.\nThis is a reference-style link to [Wikipedia] [1].\nLastly, here's a pretty link to [Yahoo].  The reference-style and pretty links both automatically use the links defined below, but they could be defined *anywhere* in the markdown and are removed from the HTML.  The names are also case insensitive, so you can use [YaHoO] and have it link properly.\n\n[1]: http://www.wikipedia.org/\n[Yahoo]: http://www.yahoo.com/\n\nTitle attributes may be added to links by adding text after a link.\nThis is the [inline link](http://www.bing.com \"Bing\") with a \"Bing\" title.\nYou can also go to [W3C] [2] and maybe visit a [friend].\n\n[2]: http://w3c.org (The W3C puts out specs for web-based things)\n[Friend]: http://facebook.com/ \"Facebook!\"\n\nEmail addresses in plain text are not linked: test@example.com.\nEmail addresses wrapped in angle brackets are linked: <test@example.com>.\nThey are also obfuscated so that email harvesting spam robots hopefully won't get them.\n\n\nLists\n=====\n\n* This is a bulleted list\n* Great for shopping lists\n- You can also use hyphens\n+ Or plus symbols\n\nThe above is an \"unordered\" list.  Now, on for a bit of order.\n\n1. Numbered lists are also easy\n2. Just start with a number\n3738762. However, the actual number doesn't matter when converted to HTML.\n1.  This will still show up as 4.\n\nYou might want a few advanced lists:\n\n- This top-level list is wrapped in paragraph tags\n- This generates an extra space between each top-level item.\n\n- You do it by adding a blank line\n\n- This nested list also has blank lines between the list items.\n\n- How to create nested lists\n1.  Start your regular list\n2.  Indent nested lists with four spaces\n3.  Further nesting means you should indent with four more spaces\n    * This line is indented with eight spaces.\n\n- List items can be quite lengthy.  You can keep typing and either continue\nthem on the next line with no indentation.\n\n- Alternately, if that looks ugly, you can also\nindent the next line a bit for a prettier look.\n\n- You can put large blocks of text in your list by just indenting with four spaces.\n\nThis is formatted the same as code, but you can inspect the HTML\nand find that it's just wrapped in a `<p>` tag and *won't* be shown\nas preformatted text.\n\nYou can keep adding more and more paragraphs to a single\nlist item by adding the traditional blank line and then keep\non indenting the paragraphs with four spaces.  You really need\nto only indent the first line, but that looks ugly.\n\n- Lists support blockquotes\n\n> Just like this example here.  By the way, you can\n> nest lists inside blockquotes!\n> - Fantastic!\n\n- Lists support preformatted text\n\n    You just need to indent eight spaces.\n\n\nEven More\n=========\n\nHorizontal Rule\n---------------\n\nIf you need a horizontal rule you just need to put at least three hyphens, asterisks, or underscores on a line by themselves.  You can also even put spaces between the characters.\n\n---\n****************************\n_ _ _ _ _ _ _\n\nThose three all produced horizontal lines.  Keep in mind that three hyphens under any text turns that text into a heading, so add a blank like if you use hyphens.\n\nImages\n------\n\nImages work exactly like links, but they have exclamation points in front.  They work with references and titles too.\n\n![Google Logo](http://www.google.com/images/errors/logo_sm.gif) and ![Happy].\n\n[Happy]: http://www.wpclipart.com/smiley/simple_smiley/smiley_face_simple_green_small.png (\"Smiley face\")\n\n\nInline HTML\n-----------\n\nIf markdown is too limiting, you can just insert your own <strike>crazy</strike> HTML.  Span-level HTML <u>can *still* use markdown</u>.  Block level elements must be separated from text by a blank line and must not have any spaces before the opening and closing HTML.\n\n<div style='font-family: \"Comic Sans\", sans-serif;'>\nIt is a pity, but markdown does **not** work in here for most markdown parsers.  [Marked] handles it pretty well.\n</div>\n",
          "filepath": "data/repos/markedjs/marked-0.6/docs/demo/quickref.md",
          "repo": "markedjs/marked",
          "version": "0.6",
          "chunk_index": 0,
          "chunk_id": "9e62cf54-43e3-47cf-afa2-33f22a0f8cf6"
        }
      },
      {
        "id": "8e6bcd05-6e9d-4871-98fd-9b97021d037d",
        "score": 0.015625,
        "payload": {
          "text": "Marked is\n\n1. built for speed.<sup>*</sup>\n2. a low-level markdown compiler for parsing markdown without caching or blocking for long periods of time.<sup>**</sup>\n3. light-weight while implementing all markdown features from the supported flavors & specifications.<sup>***</sup>\n4. available as a command line interface (CLI) and running in client- or server-side JavaScript projects.\n\n<p><small><sup>*</sup> Still working on metrics for comparative analysis and definition.</small><br>\n<small><sup>**</sup> As few dependencies as possible.</small><br>\n<small><sup>***</sup> Strict compliance could result in slower processing when running comparative benchmarking.</small></p>\n\n\n<h2 id=\"demo\">Demo</h2>\n\nCheckout the [demo page](./demo/) to see marked in action \u26f9\ufe0f\n\nThese documentation pages are also rendered using marked \ud83d\udcaf\n\n\n<h2 id=\"installation\">Installation</h2>\n\n**CLI:** `npm install -g marked`\n\n**In-browser:** `npm install marked --save`\n\n<h2 id=\"usage\">Usage</h2>\n\n### Warning: \ud83d\udea8 Marked does not [sanitize](https://marked.js.org/#/USING_ADVANCED.md#options) the output HTML by default \ud83d\udea8\n\n**CLI**\n\n``` bash\n$ marked -o hello.html\nhello world\n^D\n$ cat hello.html\n<p>hello world</p>\n```\n\n``` bash\n$ marked -s \"*hello world*\"\n<p><em>hello world</em></p>\n```\n\n**Browser**\n\n```html\n<!doctype html>\n<html>\n<head>\n  <meta charset=\"utf-8\"/>\n  <title>Marked in the browser</title>\n</head>\n<body>\n  <div id=\"content\"></div>\n  <script src=\"https://cdn.jsdelivr.net/npm/marked/marked.min.js\"></script>\n  <script>\n    document.getElementById('content').innerHTML =\n      marked('# Marked in browser\\n\\nRendered by **marked**.');\n  </script>\n</body>\n</html>\n```\n\n\nMarked offers [advanced configurations](#/USING_ADVANCED.md) and [extensibility](#/USING_PRO.md) as well.\n\n<h2 id=\"specifications\">Supported Markdown specifications</h2>\n\nWe actively support the features of the following [Markdown flavors](https://github.com/commonmark/CommonMark/wiki/Markdown-Flavors).\n\n|Flavor                                                     |Version    |\n|:----------------------------------------------------------|:----------|\n|The original markdown.pl                                   |--         |\n|[CommonMark](http://spec.commonmark.org/0.28/)             |0.28       |\n|[GitHub Flavored Markdown](https://github.github.com/gfm/) |0.28       |\n\nBy supporting the above Markdown flavors, it's possible that Marked can help you use other flavors as well; however, these are not actively supported by the community.\n\n<h2 id=\"security\">Security</h2>\n\nThe only completely secure system is the one that doesn't exist in the first place. Having said that, we take the security of Marked very seriously.\n\nTherefore, please disclose potential security issues by email to the project [committers](#/AUTHORS.md) as well as the [listed owners within NPM](https://docs.npmjs.com/cli/owner). We will provide an initial assessment of security reports within 48 hours and should apply patches within 2 weeks (also, feel free to contribute a fix for the issue).\n\n",
          "filepath": "data/repos/markedjs/marked-0.6/docs/README.md",
          "repo": "markedjs/marked",
          "version": "0.6",
          "chunk_index": 0,
          "chunk_id": "8e6bcd05-6e9d-4871-98fd-9b97021d037d"
        }
      },
      {
        "id": "e354bad4-c3ee-4b6f-8863-1632c102bc8d",
        "score": 0.015384615384615385,
        "payload": {
          "text": "# Markdown is broken\n\nI have a lot of scraps of markdown engine oddities that I've collected over the\nyears. What you see below is slightly messy, but it's what I've managed to\ncobble together to illustrate the differences between markdown engines, and\nwhy, if there ever is a markdown specification, it has to be absolutely\nthorough. There are a lot more of these little differences I have documented\nelsewhere. I know I will find them lingering on my disk one day, but until\nthen, I'll continue to add whatever strange nonsensical things I find.\n\nSome of these examples may only mention a particular engine compared to marked.\nHowever, the examples with markdown.pl could easily be swapped out for\ndiscount, upskirt, or markdown.js, and you would very easily see even more\ninconsistencies.\n\nA lot of this was written when I was very unsatisfied with the inconsistencies\nbetween markdown engines. Please excuse the frustration noticeable in my\nwriting.\n\n## Examples of markdown's \"stupid\" list parsing\n\n```\n$ markdown.pl\n\n  * item1\n\n    * item2\n\n  text\n^D\n<ul>\n<li><p>item1</p>\n\n<ul>\n<li>item2</li>\n</ul>\n\n<p><p>text</p></li>\n</ul></p>\n```\n\n\n```\n$ marked\n  * item1\n\n    * item2\n\n  text\n^D\n<ul>\n<li><p>item1</p>\n<ul>\n<li>item2</li>\n</ul>\n<p>text</p>\n</li>\n</ul>\n```\n\nWhich looks correct to you?\n\n- - -\n\n```\n$ markdown.pl\n* hello\n  > world\n^D\n<p><ul>\n<li>hello</p>\n\n<blockquote>\n  <p>world</li>\n</ul></p>\n</blockquote>\n```\n\n```\n$ marked\n* hello\n  > world\n^D\n<ul>\n<li>hello<blockquote>\n<p>world</p>\n</blockquote>\n</li>\n</ul>\n```\n\nAgain, which looks correct to you?\n\n- - -\n\nEXAMPLE:\n\n```\n$ markdown.pl\n* hello\n  * world\n    * hi\n          code\n^D\n<ul>\n<li>hello\n<ul>\n<li>world</li>\n<li>hi\n  code</li>\n</ul></li>\n</ul>\n```\n\nThe code isn't a code block even though it's after the bullet margin. I know,\nlets give it two more spaces, effectively making it 8 spaces past the bullet.\n\n```\n$ markdown.pl\n* hello\n  * world\n    * hi\n            code\n^D\n<ul>\n<li>hello\n<ul>\n<li>world</li>\n<li>hi\n    code</li>\n</ul></li>\n</ul>\n```\n\nAnd, it's still not a code block. Did you also notice that the 3rd item isn't\neven its own list? Markdown screws that up too because of its indentation\nunaware parsing.\n\n- - -\n\nLet's look at some more examples of markdown's list parsing:\n\n```\n$ markdown.pl\n\n  * item1\n\n    * item2\n\n  text\n^D\n<ul>\n<li><p>item1</p>\n\n<ul>\n<li>item2</li>\n</ul>\n\n<p><p>text</p></li>\n</ul></p>\n```\n\nMisnested tags.\n\n\n```\n$ marked\n  * item1\n\n    * item2\n\n  text\n^D\n<ul>\n<li><p>item1</p>\n<ul>\n<li>item2</li>\n</ul>\n<p>text</p>\n</li>\n</ul>\n```\n\nWhich looks correct to you?\n\n- - -\n\n```\n$ markdown.pl\n* hello\n  > world\n^D\n<p><ul>\n<li>hello</p>\n\n<blockquote>\n  <p>world</li>\n</ul></p>\n</blockquote>\n```\n\nMore misnested tags.\n\n\n```\n$ marked\n* hello\n  > world\n^D\n<ul>\n<li>hello<blockquote>\n<p>world</p>\n</blockquote>\n</li>\n</ul>\n```\n\nAgain, which looks correct to you?\n\n- - -\n\n# Why quality matters - Part 2\n\n``` bash\n$ markdown.pl\n* hello\n  > world\n^D\n<p><ul>\n<li>hello</p>\n\n<blockquote>\n  <p>world</li>\n</ul></p>\n</blockquote>\n```\n\n``` bash\n$ sundown # upskirt\n* hello\n  > world\n^D\n<ul>\n<li>hello\n&gt; world</li>\n</ul>\n```\n\n``` bash\n$ marked\n* hello\n  > world\n^D\n<ul><li>hello <blockquote><p>world</p></blockquote></li></ul>\n```\n\nWhich looks correct to you?\n\n- - -\n\nSee: https://github.com/evilstreak/markdown-js/issues/23\n\n``` bash\n$ markdown.pl # upskirt/markdown.js/discount\n* hello\n      var a = 1;\n* world\n^D\n<ul>\n<li>hello\nvar a = 1;</li>\n<li>world</li>\n</ul>\n```\n\n``` bash\n$ marked\n* hello\n      var a = 1;\n* world\n^D\n<ul><li>hello\n<pre>code>var a = 1;</code></pre></li>\n<li>world</li></ul>\n```\n\nWhich looks more reasonable? Why shouldn't code blocks be able to appear in\nlist items in a sane way?\n\n- - -\n\n``` bash\n$ markdown.js\n<div>hello</div>\n\n<span>hello</span>\n^D\n<p>&lt;div&gt;hello&lt;/div&gt;</p>\n\n<p>&lt;span&gt;hello&lt;/span&gt;</p>\n```\n\n``` bash\n$ marked\n<div>hello</div>\n\n<span>hello</span>\n^D\n<div>hello</div>\n\n\n<p><span>hello</span>\n</p>\n```\n\n- - -\n\nSee: https://github.com/evilstreak/markdown-js/issues/27\n\n``` bash\n$ markdown.js\n[![an image](/image)](/link)\n^D\n<p><a href=\"/image)](/link\">![an image</a></p>\n```\n\n``` bash\n$ marked\n[![an image](/image)](/link)\n^D\n<p><a href=\"/link\"><img src=\"/image\" alt=\"an image\"></a>\n</p>\n```\n\n- - -\n\nSee: https://github.com/evilstreak/markdown-js/issues/24\n\n``` bash\n$ markdown.js\n> a\n\n> b\n\n> c\n^D\n<blockquote><p>a</p><p>bundefined&gt; c</p></blockquote>\n```\n\n``` bash\n$ marked\n> a\n\n> b\n\n> c\n^D\n<blockquote><p>a\n\n</p></blockquote>\n<blockquote><p>b\n\n</p></blockquote>\n<blockquote><p>c\n</p></blockquote>\n```\n\n- - -\n\n``` bash\n$ markdown.pl\n* hello\n  * world\n    how\n\n    are\n    you\n\n  * today\n* hi\n^D\n<ul>\n<li><p>hello</p>\n\n<ul>\n<li>world\nhow</li>\n</ul>\n\n<p>are\nyou</p>\n\n<ul>\n<li>today</li>\n</ul></li>\n<li>hi</li>\n</ul>\n```\n\n``` bash\n$ marked\n* hello\n  * world\n    how\n\n    are\n    you\n\n  * today\n* hi\n^D\n<ul>\n<li><p>hello</p>\n<ul>\n<li><p>world\nhow</p>\n<p>are\nyou</p>\n</li>\n<li><p>today</p>\n</li>\n</ul>\n</li>\n<li>hi</li>\n</ul>\n```\n",
          "filepath": "data/repos/markedjs/marked-0.6/docs/broken.md",
          "repo": "markedjs/marked",
          "version": "0.6",
          "chunk_index": 0,
          "chunk_id": "e354bad4-c3ee-4b6f-8863-1632c102bc8d"
        }
      }
    ]
  },
  {
    "instance_id": "processing__p5.js-4561",
    "model_patch": "diff --git a/src/core/error_helpers.js b/src/core/error_helpers.js\n--- a/src/core/error_helpers.js\n+++ b/src/core/error_helpers.js\n@@ -1,5 +1,6 @@\n /**\n  * @for p5\n+ * @requires core\n  *\n  * This is the main file for the Friendly Error System (FES). Here is a\n  * brief outline of the functions called in this system.\n@@ -36,6 +37,7 @@\n // p5.js blue, p5.js orange, auto dark green; fallback p5.js darkened magenta\n // See testColors below for all the color codes and names\n const typeColors = ['#2D7BB6', '#EE9900', '#4DB200', '#C83C00'];\n+const typeCache = {};\n \n if (typeof IS_MINIFIED !== 'undefined') {\n   p5._validateParameters = p5._friendlyFileLoadError = p5._friendlyError = () => {};\n@@ -227,6 +229,7 @@\n   const lookupParamDoc = func => {\n     // look for the docs in the `data.json` datastructure\n \n+    if (docCache[func]) return docCache[func];\n     const ichDot = func.lastIndexOf('.');\n     const funcName = func.substr(ichDot + 1);\n     const funcClass = func.substr(0, ichDot) || 'p5';\n@@ -412,6 +415,7 @@\n    * param  {String}               func    the name of the function\n    * param  {Array}                args    user input arguments\n    *\n+   * @method _validateParameters\n    * example:\n    *  const a;\n    *  ellipse(10,10,a,5);\n@@ -421,6 +425,7 @@\n    *  \"It looks like ellipse received an empty variable in spot #2.\"\n    *\n    * example:\n+   *  ellipse(10,\"foo\",5,5);\n    * console output:\n    *  \"ellipse was expecting a number for parameter #1,\n    *           received \"foo\" instead.\"\n@@ -429,6 +434,7 @@\n   p5._validateParameters = function validateParameters(func, args) {\n     if (p5.disableFriendlyErrors) {\n       return; // skip FES\n+    }\n \n     // lookup the docs in the 'data.json' file\n     const docs = docCache[func] || (docCache[func] = lookupParamDoc(func));\n@@ -436,6 +442,16 @@\n \n     // ignore any trailing `undefined` arguments\n     let argCount = args.length;\n+    const argTypes = args.map(getType).join(',');\n+\n+    // Check if the argument types have been cached\n+    if (typeCache[func] && typeCache[func][argTypes]) {\n+      return; // Cached result found, skip validation\n+    }\n+\n+    // Initialize cache for this function if not present\n+    if (!typeCache[func]) typeCache[func] = {};\n+\n     // '== null' checks for 'null' and typeof 'undefined'\n     while (argCount > 0 && args[argCount - 1] == null) argCount--;\n \n@@ -451,6 +467,9 @@\n         return; // done!\n       } else if (minScore > score) {\n         // this score is better that what we have so far...\n+        // Cache the result\n+        typeCache[func][argTypes] = true;\n+\n         minScore = score;\n         minOverload = i;\n       }",
    "model_name_or_path": "text_bm25",
    "metrics": {
      "issue_embedding_time_ms": 0.0,
      "retrieval_time_ms_bm25": 224.55,
      "retrieval_time_ms": 224.55,
      "total_retrieval_time_ms": 224.55,
      "generation_time_ms": 6728.98,
      "total_io_time_ms": 6953.53,
      "input_total_token_limit": null,
      "issue_text_tokens": 355,
      "vlm_tokens": 0,
      "retrieved_tokens": 15765,
      "prompt_template_tokens": 522,
      "total_input_prompt_tokens": 16642,
      "output_generated_tokens": 774,
      "total_io_tokens": 17416,
      "input_prompt_text": "[{\"type\": \"text\", \"text\": \"You will be provided with a partial code base and an issue statement explaining a problem to resolve.\\n<issue>\\nFES: validateParameters speed + repetitive logging\\n#### Most appropriate sub-area of p5.js?\\r\\n- [x] Other (Friendly errors)\\r\\n\\r\\n#### Feature enhancement details:\\r\\nI am working on the FES as part of my GSoC project and I will be starting by addressing the known issues in `validateParameters`. \\r\\n\\r\\nvalidateParameters is responsible for a slowdown as it runs every time a p5 function is called. I had first thought that this must largely be due to `lookupParamDocs` but this isn't entirely the case. `lookupParamDocs` runs a linear search on `data.json`, and it can be done in constant time using object lookups. Moreover the contents of data.json take up about 1.7 MB. Removing the unnecessary stuff cuts it to 400 KB, thus reducing the final library size by 1.3 MB. \\r\\n\\r\\nDoing all this only speeds up the first run. Over subsequent runs, scoring and matching the formats repeatedly is redundant if the same sequence of arguments repeats. This can be prevented by caching the argument types and returning if an earlier sequence of types repeats. In repeated calls, this should improve performance as long as the type sequence lookup is faster than scoring. This is the case for functions with a lot of formats and overloads. This would also solve the problem of the FES flooding the console in repeated runs of a function. \\r\\n<img src=\\\"https://user-images.githubusercontent.com/38867671/82134746-9bdfe480-9818-11ea-8a3d-59e4205a24b8.png\\\" width=\\\"300\\\">\\r\\nAlso, trailing undefined arguments are not accounted for by validateParamters, but I think that needs a separate issue? @stalgiag\\n\\n</issue>\\n\\n<code>\\n[start of error_helpers.js]\\n/**\\n * @for p5\\n * @requires core\\n *\\n * This is the main file for the Friendly Error System (FES). Here is a\\n * brief outline of the functions called in this system.\\n *\\n * The FES may be invoked by a call to either (1) _validateParameters,\\n * (2) _friendlyFileLoadError, (3) _friendlyError, or (4) helpForMisusedAtTopLevelCode.\\n *\\n * helpForMisusedAtTopLevelCode is called by this file on window load to check for use\\n * of p5.js functions outside of setup() or draw()\\n * Items 1-3 above are called by functions in the p5 library located in other files.\\n *\\n * _friendlyFileLoadError is called by the loadX() methods.\\n * _friendlyError can be called by any function to offer a helpful error message.\\n *\\n * _validateParameters is called by functions in the p5.js API to help users ensure\\n * ther are calling p5 function with the right parameter types. The property\\n * disableFriendlyErrors = false can be set from a p5.js sketch to turn off parameter\\n * checking. The call sequence from _validateParameters looks something like this:\\n *\\n * _validateParameters\\n *   lookupParamDoc\\n *   scoreOverload\\n *     testParamTypes\\n *     testParamType\\n *   getOverloadErrors\\n *   _friendlyParamError\\n *     ValidationError\\n *     report\\n *       friendlyWelcome\\n *\\n * The call sequences to _friendlyFileLoadError and _friendlyError are like this:\\n * _friendlyFileLoadError\\n *   report\\n *\\n * _friendlyError\\n *   report\\n *\\n * report() is the main function that prints directly to console with the output\\n * of the error helper message. Note: friendlyWelcome() also prints to console directly.\\n */\\nimport p5 from './main';\\nimport * as constants from './constants';\\nimport { translator } from './internationalization';\\n\\n// p5.js blue, p5.js orange, auto dark green; fallback p5.js darkened magenta\\n// See testColors below for all the color codes and names\\nconst typeColors = ['#2D7BB6', '#EE9900', '#4DB200', '#C83C00'];\\n\\nif (typeof IS_MINIFIED !== 'undefined') {\\n  p5._validateParameters = p5._friendlyFileLoadError = p5._friendlyError = () => {};\\n} else {\\n  let doFriendlyWelcome = false; // TEMP until we get it all working LM\\n  // for parameter validation\\n  const dataDoc = require('../../docs/reference/data.json');\\n  const arrDoc = JSON.parse(JSON.stringify(dataDoc));\\n\\n  // -- Borrowed from jQuery 1.11.3 --\\n  const class2type = {};\\n  const toString = class2type.toString;\\n  const names = [\\n    'Boolean',\\n    'Number',\\n    'String',\\n    'Function',\\n    'Array',\\n    'Date',\\n    'RegExp',\\n    'Object',\\n    'Error'\\n  ];\\n  for (let n = 0; n < names.length; n++) {\\n    class2type[`[object ${names[n]}]`] = names[n].toLowerCase();\\n  }\\n  const getType = obj => {\\n    if (obj == null) {\\n      return `${obj}`;\\n    }\\n    return typeof obj === 'object' || typeof obj === 'function'\\n      ? class2type[toString.call(obj)] || 'object'\\n      : typeof obj;\\n  };\\n\\n  // -- End borrow --\\n\\n  const friendlyWelcome = () => {\\n    // p5.js brand - magenta: #ED225D\\n    //const astrixBgColor = 'transparent';\\n    //const astrixTxtColor = '#ED225D';\\n    //const welcomeBgColor = '#ED225D';\\n    //const welcomeTextColor = 'white';\\n    const welcomeMessage = translator('fes.pre', {\\n      message: translator('fes.welcome')\\n    });\\n    console.log(\\n      '    _ \\\\n' +\\n        ' /\\\\\\\\| |/\\\\\\\\ \\\\n' +\\n        \\\" \\\\\\\\ ` ' /  \\\\n\\\" +\\n        ' / , . \\\\\\\\  \\\\n' +\\n        ' \\\\\\\\/|_|\\\\\\\\/ ' +\\n        '\\\\n\\\\n' +\\n        welcomeMessage\\n    );\\n  };\\n\\n  /**\\n   * Prints out a fancy, colorful message to the console log\\n   *\\n   * @method report\\n   * @private\\n   * @param  {String}               message the words to be said\\n   * @param  {String}               func    the name of the function to link\\n   * @param  {Number|String} color   CSS color string or error type\\n   *\\n   * @return console logs\\n   */\\n  const report = (message, func, color) => {\\n    if (doFriendlyWelcome) {\\n      friendlyWelcome();\\n      doFriendlyWelcome = false;\\n    }\\n    if ('undefined' === getType(color)) {\\n      color = '#B40033'; // dark magenta\\n    } else if (getType(color) === 'number') {\\n      // Type to color\\n      color = typeColors[color];\\n    }\\n    if (func.substring(0, 4) === 'load') {\\n      console.log(translator('fes.pre', { message }));\\n    } else {\\n      console.log(\\n        translator('fes.pre', {\\n          message: `${message} (http://p5js.org/reference/#p5/${func})`\\n        })\\n      );\\n    }\\n  };\\n\\n  // mapping used by `_friendlyFileLoadError`\\n  const fileLoadErrorCases = (num, filePath) => {\\n    const suggestion = translator('fes.fileLoadError.suggestion', {\\n      filePath,\\n      link: 'https://github.com/processing/p5.js/wiki/Local-server'\\n    });\\n    switch (num) {\\n      case 0:\\n        return {\\n          message: translator('fes.fileLoadError.image', {\\n            suggestion\\n          }),\\n          method: 'loadImage'\\n        };\\n      case 1:\\n        return {\\n          message: translator('fes.fileLoadError.xml', {\\n            suggestion\\n          }),\\n          method: 'loadXML'\\n        };\\n      case 2:\\n        return {\\n          message: translator('fes.fileLoadError.table', {\\n            suggestion\\n          }),\\n          method: 'loadTable'\\n        };\\n      case 3:\\n        return {\\n          message: translator('fes.fileLoadError.strings', {\\n            suggestion\\n          }),\\n          method: 'loadStrings'\\n        };\\n      case 4:\\n        return {\\n          message: translator('fes.fileLoadError.font', {\\n            suggestion\\n          }),\\n          method: 'loadFont'\\n        };\\n      case 5:\\n        return {\\n          message: translator('fes.fileLoadError.json', {\\n            suggestion\\n          }),\\n          method: 'loadJSON'\\n        };\\n      case 6:\\n        return {\\n          message: translator('fes.fileLoadError.bytes', {\\n            suggestion\\n          }),\\n          method: 'loadBytes'\\n        };\\n      case 7:\\n        return {\\n          message: translator('fes.fileLoadError.large'),\\n          method: 'loadX'\\n        };\\n      case 8:\\n        return {\\n          message: translator('fes.fileLoadError.gif'),\\n          method: 'loadImage'\\n        };\\n    }\\n  };\\n\\n  /**\\n   * This is called internally if there is a error during file loading.\\n   *\\n   * @method _friendlyFileLoadError\\n   * @private\\n   * @param  {Number} errorType\\n   * @param  {String} filePath\\n   */\\n  p5._friendlyFileLoadError = function(errorType, filePath) {\\n    const { message, method } = fileLoadErrorCases(errorType, filePath);\\n    report(message, method, 3);\\n  };\\n\\n  /**\\n   * This is a generic method that can be called from anywhere in the p5\\n   * library to alert users to a common error.\\n   *\\n   * @method _friendlyError\\n   * @private\\n   * @param  {Number} message message to be printed\\n   * @param  {String} method name of method\\n   */\\n  p5._friendlyError = function(message, method) {\\n    report(message, method);\\n  };\\n\\n  /**\\n   * This is called internally if there is a error with autoplay.\\n   *\\n   * @method _friendlyAutoplayError\\n   * @private\\n   */\\n  p5._friendlyAutoplayError = function(src) {\\n    const message = translator('fes.autoplay', {\\n      src,\\n      link: 'https://developer.mozilla.org/docs/Web/Media/Autoplay_guide'\\n    });\\n    console.log(translator('fes.pre', { message }));\\n  };\\n\\n  const docCache = {};\\n  const builtinTypes = [\\n    'null',\\n    'number',\\n    'string',\\n    'boolean',\\n    'constant',\\n    'function',\\n    'any',\\n    'integer'\\n  ];\\n\\n  // validateParameters() helper functions:\\n  // lookupParamDoc() for querying data.json\\n  const lookupParamDoc = func => {\\n    // look for the docs in the `data.json` datastructure\\n\\n    const ichDot = func.lastIndexOf('.');\\n    const funcName = func.substr(ichDot + 1);\\n    const funcClass = func.substr(0, ichDot) || 'p5';\\n\\n    let queryResult;\\n    const classitems = arrDoc.classitems;\\n\\n    for (const x of classitems) {\\n      if (x.name === funcName && x.class === funcClass) {\\n        queryResult = x;\\n        break;\\n      }\\n    }\\n\\n    // different JSON structure for funct with multi-format\\n    const overloads = [];\\n    if (queryResult.hasOwnProperty('overloads')) {\\n      // add all the overloads\\n      for (let i = 0; i < queryResult.overloads.length; i++) {\\n        overloads.push({ formats: queryResult.overloads[i].params });\\n      }\\n    } else {\\n      // no overloads, just add the main method definition\\n      overloads.push({ formats: queryResult.params || [] });\\n    }\\n\\n    // parse the parameter types for each overload\\n    const mapConstants = {};\\n    let maxParams = 0;\\n    overloads.forEach(overload => {\\n      const formats = overload.formats;\\n\\n      // keep a record of the maximum number of arguments\\n      // this method requires.\\n      if (maxParams < formats.length) {\\n        maxParams = formats.length;\\n      }\\n\\n      // calculate the minimum number of arguments\\n      // this overload requires.\\n      let minParams = formats.length;\\n      while (minParams > 0 && formats[minParams - 1].optional) {\\n        minParams--;\\n      }\\n      overload.minParams = minParams;\\n\\n      // loop through each parameter position, and parse its types\\n      formats.forEach(format => {\\n        // split this parameter's types\\n        format.types = format.type.split('|').map(function ct(type) {\\n          // array\\n          if (type.substr(type.length - 2, 2) === '[]') {\\n            return {\\n              name: type,\\n              array: ct(type.substr(0, type.length - 2))\\n            };\\n          }\\n\\n          let lowerType = type.toLowerCase();\\n\\n          // contant\\n          if (lowerType === 'constant') {\\n            let constant;\\n            if (mapConstants.hasOwnProperty(format.name)) {\\n              constant = mapConstants[format.name];\\n            } else {\\n              // parse possible constant values from description\\n              const myRe = /either\\\\s+(?:[A-Z0-9_]+\\\\s*,?\\\\s*(?:or)?\\\\s*)+/g;\\n              const values = {};\\n              const names = [];\\n\\n              constant = mapConstants[format.name] = {\\n                values,\\n                names\\n              };\\n\\n              const myArray = myRe.exec(format.description);\\n              if (func === 'endShape' && format.name === 'mode') {\\n                values[constants.CLOSE] = true;\\n                names.push('CLOSE');\\n              } else {\\n                const match = myArray[0];\\n                const reConst = /[A-Z0-9_]+/g;\\n                let matchConst;\\n                while ((matchConst = reConst.exec(match)) !== null) {\\n                  const name = matchConst[0];\\n                  if (constants.hasOwnProperty(name)) {\\n                    values[constants[name]] = true;\\n                    names.push(name);\\n                  }\\n                }\\n              }\\n            }\\n            return {\\n              name: type,\\n              builtin: lowerType,\\n              names: constant.names,\\n              values: constant.values\\n            };\\n          }\\n\\n          // function\\n          if (lowerType.substr(0, 'function'.length) === 'function') {\\n            lowerType = 'function';\\n          }\\n          // builtin\\n          if (builtinTypes.includes(lowerType)) {\\n            return { name: type, builtin: lowerType };\\n          }\\n\\n          // find type's prototype\\n          let t = window;\\n          const typeParts = type.split('.');\\n\\n          // special-case 'p5' since it may be non-global\\n          if (typeParts[0] === 'p5') {\\n            t = p5;\\n            typeParts.shift();\\n          }\\n\\n          typeParts.forEach(p => {\\n            t = t && t[p];\\n          });\\n          if (t) {\\n            return { name: type, prototype: t };\\n          }\\n\\n          return { name: type, type: lowerType };\\n        });\\n      });\\n    });\\n    return {\\n      overloads,\\n      maxParams\\n    };\\n  };\\n\\n  const isNumber = param => {\\n    switch (typeof param) {\\n      case 'number':\\n        return true;\\n      case 'string':\\n        return !isNaN(param);\\n      default:\\n        return false;\\n    }\\n  };\\n\\n  const testParamType = (param, type) => {\\n    const isArray = param instanceof Array;\\n    let matches = true;\\n    if (type.array && isArray) {\\n      for (let i = 0; i < param.length; i++) {\\n        const error = testParamType(param[i], type.array);\\n        if (error) return error / 2; // half error for elements\\n      }\\n    } else if (type.prototype) {\\n      matches = param instanceof type.prototype;\\n    } else if (type.builtin) {\\n      switch (type.builtin) {\\n        case 'number':\\n          matches = isNumber(param);\\n          break;\\n        case 'integer':\\n          matches = isNumber(param) && Number(param) === Math.floor(param);\\n          break;\\n        case 'boolean':\\n        case 'any':\\n          matches = true;\\n          break;\\n        case 'array':\\n          matches = isArray;\\n          break;\\n        case 'string':\\n          matches = /*typeof param === 'number' ||*/ typeof param === 'string';\\n          break;\\n        case 'constant':\\n          matches = type.values.hasOwnProperty(param);\\n          break;\\n        case 'function':\\n          matches = param instanceof Function;\\n          break;\\n        case 'null':\\n          matches = param === null;\\n          break;\\n      }\\n    } else {\\n      matches = typeof param === type.t;\\n    }\\n    return matches ? 0 : 1;\\n  };\\n\\n  // testType() for non-object type parameter validation\\n  const testParamTypes = (param, types) => {\\n    let minScore = 9999;\\n    for (let i = 0; minScore > 0 && i < types.length; i++) {\\n      const score = testParamType(param, types[i]);\\n      if (minScore > score) minScore = score;\\n    }\\n    return minScore;\\n  };\\n\\n  // generate a score (higher is worse) for applying these args to\\n  // this overload.\\n  const scoreOverload = (args, argCount, overload, minScore) => {\\n    let score = 0;\\n    const formats = overload.formats;\\n    const minParams = overload.minParams;\\n\\n    // check for too few/many args\\n    // the score is double number of extra/missing args\\n    if (argCount < minParams) {\\n      score = (minParams - argCount) * 2;\\n    } else if (argCount > formats.length) {\\n      score = (argCount - formats.length) * 2;\\n    }\\n\\n    // loop through the formats, adding up the error score for each arg.\\n    // quit early if the score gets higher than the previous best overload.\\n    for (let p = 0; score <= minScore && p < formats.length; p++) {\\n      const arg = args[p];\\n      const format = formats[p];\\n      // '== null' checks for 'null' and typeof 'undefined'\\n      if (arg == null) {\\n        // handle non-optional and non-trailing undefined args\\n        if (!format.optional || p < minParams || p < argCount) {\\n          score += 1;\\n        }\\n      } else {\\n        score += testParamTypes(arg, format.types);\\n      }\\n    }\\n    return score;\\n  };\\n\\n  // gets a list of errors for this overload\\n  const getOverloadErrors = (args, argCount, overload) => {\\n    const formats = overload.formats;\\n    const minParams = overload.minParams;\\n\\n    // check for too few/many args\\n    if (argCount < minParams) {\\n      return [\\n        {\\n          type: 'TOO_FEW_ARGUMENTS',\\n          argCount,\\n          minParams\\n        }\\n      ];\\n    } else if (argCount > formats.length) {\\n      return [\\n        {\\n          type: 'TOO_MANY_ARGUMENTS',\\n          argCount,\\n          maxParams: formats.length\\n        }\\n      ];\\n    }\\n\\n    const errorArray = [];\\n    for (let p = 0; p < formats.length; p++) {\\n      const arg = args[p];\\n      const format = formats[p];\\n      // '== null' checks for 'null' and typeof 'undefined'\\n      if (arg == null) {\\n        // handle non-optional and non-trailing undefined args\\n        if (!format.optional || p < minParams || p < argCount) {\\n          errorArray.push({\\n            type: 'EMPTY_VAR',\\n            position: p,\\n            format\\n          });\\n        }\\n      } else if (testParamTypes(arg, format.types) > 0) {\\n        errorArray.push({\\n          type: 'WRONG_TYPE',\\n          position: p,\\n          format,\\n          arg\\n        });\\n      }\\n    }\\n\\n    return errorArray;\\n  };\\n\\n  // a custom error type, used by the mocha\\n  // tests when expecting validation errors\\n  p5.ValidationError = (name => {\\n    class err extends Error {\\n      constructor(message, func) {\\n        super();\\n        this.message = message;\\n        this.func = func;\\n        if ('captureStackTrace' in Error) Error.captureStackTrace(this, err);\\n        else this.stack = new Error().stack;\\n      }\\n    }\\n\\n    err.prototype.name = name;\\n    return err;\\n  })('ValidationError');\\n\\n  // function for generating console.log() msg\\n  p5._friendlyParamError = function(errorObj, func) {\\n    let message;\\n\\n    function formatType() {\\n      const format = errorObj.format;\\n      return format.types\\n        .map(type => (type.names ? type.names.join('|') : type.name))\\n        .join('|');\\n    }\\n\\n    switch (errorObj.type) {\\n      case 'EMPTY_VAR': {\\n        message = `${func}() was expecting ${formatType()} for parameter #${\\n          errorObj.position\\n        } (zero-based index), received an empty variable instead. If not intentional, this is often a problem with scope: [https://p5js.org/examples/data-variable-scope.html]`;\\n        break;\\n      }\\n      case 'WRONG_TYPE': {\\n        const arg = errorObj.arg;\\n        const argType =\\n          arg instanceof Array\\n            ? 'array'\\n            : arg === null ? 'null' : arg.name || typeof arg;\\n        message = `${func}() was expecting ${formatType()} for parameter #${\\n          errorObj.position\\n        } (zero-based index), received ${argType} instead`;\\n        break;\\n      }\\n      case 'TOO_FEW_ARGUMENTS': {\\n        message = `${func}() was expecting at least ${\\n          errorObj.minParams\\n        } arguments, but received only ${errorObj.argCount}`;\\n        break;\\n      }\\n      case 'TOO_MANY_ARGUMENTS': {\\n        message = `${func}() was expecting no more than ${\\n          errorObj.maxParams\\n        } arguments, but received ${errorObj.argCount}`;\\n        break;\\n      }\\n    }\\n\\n    if (message) {\\n      if (p5._throwValidationErrors) {\\n        throw new p5.ValidationError(message);\\n      }\\n\\n      try {\\n        const re = /Function\\\\.validateParameters.*[\\\\r\\\\n].*[\\\\r\\\\n].*\\\\(([^)]*)/;\\n        const location = re.exec(new Error().stack)[1];\\n        if (location) {\\n          message += ` at ${location}`;\\n        }\\n      } catch (err) {}\\n\\n      report(`${message}.`, func, 3);\\n    }\\n  };\\n\\n  /**\\n   * Validates parameters\\n   * param  {String}               func    the name of the function\\n   * param  {Array}                args    user input arguments\\n   *\\n   * example:\\n   *  const a;\\n   *  ellipse(10,10,a,5);\\n   * console ouput:\\n   *  \\\"It looks like ellipse received an empty variable in spot #2.\\\"\\n   *\\n   * example:\\n   *  ellipse(10,\\\"foo\\\",5,5);\\n   * console output:\\n   *  \\\"ellipse was expecting a number for parameter #1,\\n   *           received \\\"foo\\\" instead.\\\"\\n   */\\n  p5._validateParameters = function validateParameters(func, args) {\\n    if (p5.disableFriendlyErrors) {\\n      return; // skip FES\\n    }\\n\\n    // lookup the docs in the 'data.json' file\\n    const docs = docCache[func] || (docCache[func] = lookupParamDoc(func));\\n    const overloads = docs.overloads;\\n\\n    // ignore any trailing `undefined` arguments\\n    let argCount = args.length;\\n    // '== null' checks for 'null' and typeof 'undefined'\\n    while (argCount > 0 && args[argCount - 1] == null) argCount--;\\n\\n    // find the overload with the best score\\n    let minScore = 99999;\\n    let minOverload;\\n    for (let i = 0; i < overloads.length; i++) {\\n      const score = scoreOverload(args, argCount, overloads[i], minScore);\\n      if (score === 0) {\\n        return; // done!\\n      } else if (minScore > score) {\\n        // this score is better that what we have so far...\\n        minScore = score;\\n        minOverload = i;\\n      }\\n    }\\n\\n    // this should _always_ be true here...\\n    if (minScore > 0) {\\n      // get the errors for the best overload\\n      const errorArray = getOverloadErrors(\\n        args,\\n        argCount,\\n        overloads[minOverload]\\n      );\\n\\n      // generate err msg\\n      for (let n = 0; n < errorArray.length; n++) {\\n        p5._friendlyParamError(errorArray[n], func);\\n      }\\n    }\\n  };\\n\\n  /**\\n   * Prints out all the colors in the color pallete with white text.\\n   * For color blindness testing.\\n   */\\n  /* function testColors() {\\n    const str = 'A box of biscuits, a box of mixed biscuits and a biscuit mixer';\\n    report(str, 'print', '#ED225D'); // p5.js magenta\\n    report(str, 'print', '#2D7BB6'); // p5.js blue\\n    report(str, 'print', '#EE9900'); // p5.js orange\\n    report(str, 'print', '#A67F59'); // p5.js light brown\\n    report(str, 'print', '#704F21'); // p5.js gold\\n    report(str, 'print', '#1CC581'); // auto cyan\\n    report(str, 'print', '#FF6625'); // auto orange\\n    report(str, 'print', '#79EB22'); // auto green\\n    report(str, 'print', '#B40033'); // p5.js darkened magenta\\n    report(str, 'print', '#084B7F'); // p5.js darkened blue\\n    report(str, 'print', '#945F00'); // p5.js darkened orange\\n    report(str, 'print', '#6B441D'); // p5.js darkened brown\\n    report(str, 'print', '#2E1B00'); // p5.js darkened gold\\n    report(str, 'print', '#008851'); // auto dark cyan\\n    report(str, 'print', '#C83C00'); // auto dark orange\\n    report(str, 'print', '#4DB200'); // auto dark green\\n  } */\\n\\n  p5.prototype._validateParameters = p5.validateParameters;\\n}\\n\\n// This is a lazily-defined list of p5 symbols that may be\\n// misused by beginners at top-level code, outside of setup/draw. We'd like\\n// to detect these errors and help the user by suggesting they move them\\n// into setup/draw.\\n//\\n// For more details, see https://github.com/processing/p5.js/issues/1121.\\nlet misusedAtTopLevelCode = null;\\nconst FAQ_URL =\\n  'https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup';\\n\\nconst defineMisusedAtTopLevelCode = () => {\\n  const uniqueNamesFound = {};\\n\\n  const getSymbols = obj =>\\n    Object.getOwnPropertyNames(obj)\\n      .filter(name => {\\n        if (name[0] === '_') {\\n          return false;\\n        }\\n        if (name in uniqueNamesFound) {\\n          return false;\\n        }\\n\\n        uniqueNamesFound[name] = true;\\n\\n        return true;\\n      })\\n      .map(name => {\\n        let type;\\n\\n        if (typeof obj[name] === 'function') {\\n          type = 'function';\\n        } else if (name === name.toUpperCase()) {\\n          type = 'constant';\\n        } else {\\n          type = 'variable';\\n        }\\n\\n        return { name, type };\\n      });\\n\\n  misusedAtTopLevelCode = [].concat(\\n    getSymbols(p5.prototype),\\n    // At present, p5 only adds its constants to p5.prototype during\\n    // construction, which may not have happened at the time a\\n    // ReferenceError is thrown, so we'll manually add them to our list.\\n    getSymbols(require('./constants'))\\n  );\\n\\n  // This will ultimately ensure that we report the most specific error\\n  // possible to the user, e.g. advising them about HALF_PI instead of PI\\n  // when their code misuses the former.\\n  misusedAtTopLevelCode.sort((a, b) => b.name.length - a.name.length);\\n};\\n\\nconst helpForMisusedAtTopLevelCode = (e, log) => {\\n  if (!log) {\\n    log = console.log.bind(console);\\n  }\\n\\n  if (!misusedAtTopLevelCode) {\\n    defineMisusedAtTopLevelCode();\\n  }\\n\\n  // If we find that we're logging lots of false positives, we can\\n  // uncomment the following code to avoid displaying anything if the\\n  // user's code isn't likely to be using p5's global mode. (Note that\\n  // setup/draw are more likely to be defined due to JS function hoisting.)\\n  //\\n  //if (!('setup' in window || 'draw' in window)) {\\n  //  return;\\n  //}\\n\\n  misusedAtTopLevelCode.some(symbol => {\\n    // Note that while just checking for the occurrence of the\\n    // symbol name in the error message could result in false positives,\\n    // a more rigorous test is difficult because different browsers\\n    // log different messages, and the format of those messages may\\n    // change over time.\\n    //\\n    // For example, if the user uses 'PI' in their code, it may result\\n    // in any one of the following messages:\\n    //\\n    //   * 'PI' is undefined                           (Microsoft Edge)\\n    //   * ReferenceError: PI is undefined             (Firefox)\\n    //   * Uncaught ReferenceError: PI is not defined  (Chrome)\\n\\n    if (e.message && e.message.match(`\\\\\\\\W?${symbol.name}\\\\\\\\W`) !== null) {\\n      const symbolName =\\n        symbol.type === 'function' ? `${symbol.name}()` : symbol.name;\\n      log(\\n        translator('fes.misusedTopLevel', {\\n          symbolName,\\n          symbolType: symbol.type,\\n          link: FAQ_URL\\n        })\\n      );\\n      return true;\\n    }\\n  });\\n};\\n\\n// Exposing this primarily for unit testing.\\np5.prototype._helpForMisusedAtTopLevelCode = helpForMisusedAtTopLevelCode;\\n\\nif (document.readyState !== 'complete') {\\n  window.addEventListener('error', helpForMisusedAtTopLevelCode, false);\\n\\n  // Our job is only to catch ReferenceErrors that are thrown when\\n  // global (non-instance mode) p5 APIs are used at the top-level\\n  // scope of a file, so we'll unbind our error listener now to make\\n  // sure we don't log false positives later.\\n  window.addEventListener('load', () => {\\n    window.removeEventListener('error', helpForMisusedAtTopLevelCode, false);\\n  });\\n}\\n\\nexport default p5;\\n\\n[end of error_helpers.js]\\n[start of friendly_error_system.md]\\n# p5.js Friendly Error System (FES)\\n\\n## Overview\\n\\nThe Friendly Error System (FES) is a system designed to help new programmers with common user errors as they get started learning. It catches common beginning errors and provides clear language and links to help a user resolve the error. FES is only applied to functions that are ones a user might encounter when they are just starting. An exception is made for particular common gotchas such as trying to load files without running a server, or calling loadImage() with a URL, etc.\\n\\nThe goal is to create accessible error messages to supplement the often cryptic console errors. For example, Javascript has no support for type checking as default making errors in parameter entry was harder to detect for new Javascript developers.\\n\\nMessages generated by FES are written in natural language, linked to documentation, and assume a beginner level. The errors are triggered in multiple files through out p5.js, but most of the work and error writing happens in `src/core/error_helpers.js`.  \\n\\nBy default, FES is enabled for `p5.js`, whereas completely disabled in `p5.min.js`. It is possible to disable FES by setting `p5.disableFriendlyErrors = true;`.\\n\\nSo far FES is able to detect and print messages for four kinds of errors: \\n\\n1. `validateParameters()` checks a function\\u2019s input parameters based on inline documentations\\n\\n2. `friendlyFileLoadError()` catches file loading errors. These two kinds of error checking have been integrated into an existing (selected set of) p5 functions, but developers can add them to more p5 functions, or their own libraries, by calling `p5._validateParameters()`\\n\\n3. `friendlyError()` can be called by any function to offer a helpful error message\\n\\n4. `helpForMisusedAtTopLevelCode()` is called on window load to check for use of p5.js functions outside of setup() or draw()\\n\\nPlease also see inline notes in [src/core/error_helper.js](https://github.com/processing/p5.js/blob/master/src/core/error_helpers.js) for more technical information.\\n\\n### `core/error_helpers/friendlyFileLoadError()`: \\n* This function generates and displays friendly error messages if a file fails to load correctly. It also checks if the size of a file might be too large to load and produces a warning. \\n* This can be called through : `p5._friendlyFileLoadError(ERROR_TYPE, FILE_PATH)`.\\n* file loading error example:\\n````javascript\\n/// missing font file\\nlet myFont;\\nfunction preload() {\\n  myFont = loadFont('assets/OpenSans-Regular.ttf');\\n};\\nfunction setup() {\\n  fill('#ED225D');\\n  textFont(myFont);\\n  textSize(36);\\n  text('p5*js', 10, 50);\\n};\\nfunction draw() {};\\n/// FES will generate the following message in the console:\\n/// > p5.js says: It looks like there was a problem loading your font. Try checking if the file path [assets/OpenSans-Regular.ttf] is correct, hosting the font online, or running a local server.[https://github.com/processing/p5.js/wiki/Local-server]\\n````\\n* Currently version contains templates for generating error messages for `image`, `XML`, `table`, `text`, `json` and `font` files.\\n* Implemented to `image/loading_displaying/loadImage()`, `io/files/loadFont()`, `io/files/loadTable()`, `io/files/loadJSON()`, `io/files/loadStrings()`, `io/files/loadXML()`, `io/files/loadBytes()`.\\n* Error while loading a file due to its large size is implemented to all loadX methods.\\n\\n### `core/error_helpers/validateParameters()`:\\n* This function runs parameter validation by matching the input parameters with information from `docs/reference/data.json`, which is created from the function's inline documentation. It checks that a function call contains the correct number and the correct type of parameters. \\n* missing parameter example:\\n````javascript\\narc(1, 1, 10.5, 10);\\n/// FES will generate the following message in the console:\\n/// > p5.js says: It looks like arc() received an empty variable in spot #4 (zero-based index). If not intentional, this is often a problem with scope: [https://p5js.org/examples/data-variable-scope.html]. [http://p5js.org/reference/#p5/arc]\\n/// > p5.js says: It looks like arc() received an empty variable in spot #5 (zero-based index). If not intentional, this is often a problem with scope: [https://p5js.org/examples/data-variable-scope.html]. [http://p5js.org/reference/#p5/arc]\\n\\n````\\n* wrong type example:\\n````javascript\\narc('1', 1, 10.5, 10, 0, Math.PI, 'pie');\\n/// FES will generate the following message in the console:\\n/// > p5.js says: arc() was expecting Number for parameter #0 (zero-based index), received string instead. [http://p5js.org/reference/#p5/arc]\\n````\\n* This can be called through: `p5._validateParameters(FUNCT_NAME, ARGUMENTS)` \\nor, `p5.prototype._validateParameters(FUNCT_NAME, ARGUMENTS)` inside the function that requires parameter validation. It is recommended to use static version, `p5._validateParameters` for general purposes. `p5.prototype._validateParameters(FUNCT_NAME, ARGUMENTS)` mainly remained for debugging and unit testing purposes.\\n* Implemented to functions in `color/creating_reading`, `core/2d_primitives`, `core/curves`, and `utilities/string_functions`. \\n\\n## Additional Features\\n* The FES welcomes the developer to p5 and the friendly debugger. \\n* The FES works in the IDE and the web editor. \\n\\n## Notes for Developers\\n* When creating p5.js Objects: any p5.js objects that will be used for parameters will need to assign value for `name` parameter (name of the object) within the class declaration. e.g.: \\n````javascript \\np5.newObject = function(parameter) {\\n   this.parameter = 'some parameter';\\n   this.name = 'p5.newObject';\\n};\\n````\\n* Inline documentation: allowed parameter types are `Boolean`, `Number`, `String`, and name of the object (see the above bullet point). Use `Array` for any types of Array parameters. If needed, explain what kind of the specific types of array parameter are allowed (e.g. `Number[]`, `String[]`) in the description section.\\n* Currently supported class types (have their `name` parameter): `p5.Color`, `p5.Element`, `p5.Graphics`, `p5.Renderer`, `p5.Renderer2D`, `p5.Image`, `p5.Table`, `p5.TableRow`, `p5.XML`, `p5.Vector`, `p5.Font`, `p5.Geometry`, `p5.Matrix`, `p5.RendererGL`.\\n\\n## Disable the FES\\n\\nBy default, FES is enabled for p5.js, and disabled in p5.min.js to prevent FES functions slowing down the process. The error checking system can significantly slow down your code (up to ~10x in some cases). See the [friendly error performance test](https://github.com/processing/p5.js-website/blob/master/dist/assets/learn/performance/code/friendly-error-system/).\\n\\nYou can disable this with one line of code at the top of your sketch:\\n\\n```javascript\\np5.disableFriendlyErrors = true; // disables FES\\n\\nfunction setup() {\\n  // Do setup stuff\\n}\\n\\nfunction draw() {\\n  // Do drawing stuff\\n}\\n```\\n\\nNote that this will disable the parts of the FES that cause performance slowdown (like argument checking). Friendly errors that have no performance cost (like giving an descriptive error if a file load fails, or warning you if you try to override p5.js functions in the global space), will remain in place. \\n\\n## Known Limitations\\n* The friendly error system slows the program down, so there is an option to turn it off via setting `p5.disableFriendlyErrors = true;`. In addition, the friendly error system is omitted by default in the minified (`p5.min.js`) version.\\n* FES may still result in false negative cases. These are usually caused by the mismatch between designs of the  functions (e.g. drawing functions those are originally designed to be used interchangeably in both 2D and 3D settings) with actual usage cases. For example, drawing a 3D line with \\n```javascript \\nconst x3; // undefined\\nline(0, 0, 100, 100, x3, Math.PI);\\n```\\n will escape FES, because there is an acceptable parameter pattern (`Number`, `Number`, `Number`, `Number`) in `line()`'s inline documentation for drawing in 2D setting. This also means the current version of FES doesn't check for the environmental variables such as `_renderer.isP3D`.\\n * FES is only able to detect global variables overwritten when declared using `const` or `var`. If `let` is used, they go undetected. This is not currently solvable due to the way `let` instantiates variables.\\n\\n## In The Works\\n* Identify more common error types and generalize with FES (e.g. `bezierVertex()`, `quadraticVertex()` - required object not initiated; checking Number parameters positive for `nf()` `nfc()` `nfp()` `nfs()`)\\n\\n## Thoughts for the Future\\n* re-introduce color coding for the Web Editor.\\n* More unit testings.\\n* More intuitive and narrowed down output messages.\\n* Having a Spanish translation available.\\n* All the colors are checked for being color blind friendly.\\n* More elaborate ascii is always welcome! \\n* Global Error catching. It would be very helpful to catch the errors the browser is throwing to the console, so we can match them up with friendly comments. \\n\\n```javascript\\n// this snippet wraps window.console methods with a new function to modify their functionality\\n// it is not currently implemented, but could be to give nicer formatted error messages\\nconst original = window.console;\\nconst original_functions  = {\\n  log: original.log,\\n  warn:  original.warn,\\n  error: original.error\\n}\\n\\n[\\\"log\\\", \\\"warn\\\", \\\"error\\\"].forEach(function(func){\\nwindow.console[func] = function(msg) {\\n//do something with the msg caught by the wrapper function, then call the original function\\noriginal_functions[func].apply(original, arguments)\\n};\\n});\\n```\\n\\n[end of friendly_error_system.md]\\n[start of vedhant_gsoc_2019.md]\\n# **Stabilizing and improving p5.xr during Alpha release**\\n\\n\\n### **by Vedhant Agarwal ([@Vedhant](https://github.com/vedhant))**\\n\\nOver the course of the Google Summer of Code 2019 program for The Processing Foundation, I worked along with my mentor [Stalgia Grigg](https://github.com/stalgiag) on the p5.xr library in its pre-alpha stage. p5.xr is a library for p5.js that enables WebXR capabilities with p5 sketches. My work included stabilizing the library, adding unit tests and implementing raycasting feature along with sticky() function to allow rendering a reticle for gaze tracking.\\n\\n\\n## **Contribution to p5 library**\\n\\nI started out my open source experience with p5.js during December 2018. To get myself familiarised with p5.js codebase I tried debugging few open issues like [#3571](https://github.com/processing/p5.js/issues/3571) and [#3346](https://github.com/processing/p5.js/issues/3346). My first successful [PR](https://github.com/processing/p5.js/pull/3405) which was merged was a documentation modification. As I was getting more comfortable with p5\\u2019s codebase, I got my first [PR](https://github.com/processing/p5.js/pull/3634) merged which implemented a new feature. The feature was the image() function for WEBGL mode. Later, during the community bonding period, I implemented tint feature for WEBGL mode in this [PR](https://github.com/processing/p5.js/pull/3709). Working with this PR made me comfortable with the WEBGL architecture of p5.js.\\n\\n\\n## **Contribution to p5.xr library**\\n\\n\\n### **Stabilization and unit testing solution**\\n\\nI helped solve a bunch of open issues which were crucial to the working of p5.xr library. These issues helped me get absolutely comfortable with p5.xr codebase and get me started with the WEBXR api.\\n\\n\\n\\n*   [Replacing _update() with _updatexr()](https://github.com/stalgiag/p5.xr/pull/21) \\\\\\nThe library was replacing p5.RendererGL.prototype._update to keep the model view matrix from being reset after ever frame . In order to make sure that p5\\u2019s methods are not modified, I made an equivalent function _updatexr() for p5xr.\\n*   [Pixelation](https://github.com/stalgiag/p5.xr/pull/24) \\\\\\nThis was a critical bug where VR content was not rendering with proper scale on most of the phones. Solving this took a lot of debugging and a little bit of patience.\\n*   [p5xr Viewer class](https://github.com/stalgiag/p5.xr/pull/28) \\\\\\nThis class provides the feature of specifying the starting position of the viewer and helps in extending features in future. This class served as a template for new classes and functionality to be added in the future.\\n\\nI also added unit testing environment to p5.xr. I experimented with different unit testing environments and finally decided upon mocha with chai as assertion library and karma as the test runner. The tests run on headless Chrome browser. It was quite challenging because of unexpected errors which was popping out due to WEBXR api in both polyfill and non-polyfill versions. I also wrote a few unit tests to serve as a template for any future unit testing code.\\n\\n\\n### **Raycasting**\\n\\nIn p5.js, there are no helper functions for raycasting so users must create their own interaction systems. So, I have added raycasting functionality to p5.xr in order to offer interactivity. For instance, gaze tracking becomes possible with the addition of raycasting. Coming up with an api at the beginning was challenging because of the fact that p5 does not keep track of objects. However, a simpler api was then chosen which was inspired from Processing-Android\\u2019s api for XR.\\n\\nIn this feature, a ray is cast either from viewer\\u2019s eye or user specified position which is then tested for intersection with either a box, sphere or a plane.\\n\\nThe following are the functions for raycasting :\\n\\n\\n\\n*   [intersectsBox()](https://github.com/stalgiag/p5.xr/pull/49) \\\\\\nThis function checks whether or not the ray intersects a box (with specified dimensions). The box is imaginary and can be thought of as the box which would have been rendered if box() was called in place of intersectsBox().\\n*   [intersectsSphere()](https://github.com/stalgiag/p5.xr/pull/48) \\\\\\nThis function checks whether or not the ray intersects a sphere (with specified radius). The sphere is imaginary and can be thought of as the sphere which would have been rendered if sphere() was called in place of intersectsSphere().\\n*   [getRayFromScreen()](https://github.com/stalgiag/p5.xr/pull/48) \\\\\\nIf user does not specify any ray, this function is called to generate a ray emerging from the viewer's eye. The direction of the ray can still be specified by the user.\\n*   [generateRay()](https://github.com/stalgiag/p5.xr/pull/48) \\\\\\nUsers use this function to create a custom ray which is to be used for raycasting. It will create a ray under the transforms present at the time of this function call. This function allows a ray to be created with respect to a transform and can be used everywhere in the code where the transforms could vary.\\n*   [intersectsPlane()](https://github.com/stalgiag/p5.xr/pull/50) \\\\\\nChecks whether a ray intersects a plane and returns the point of intersection. The plane will be the same as calling plane() at the place of this function call but with infinite dimensions.\\n\\n![dragging](https://vedhant.github.io/gsoc_wpr/grid.gif)\\n\\n\\n### **sticky() and noSticky()**\\n\\nThe need for this feature came up when I was wondering how to render a circle permanently in the center of the screen to act as a reticle for gaze tracking. The reticle had to be in front of the viewer at all times. So, I made this feature so that any code between [sticky()](https://github.com/stalgiag/p5.xr/pull/52) and noSticky() is rendered in front of the viewer at all times.\\n\\nThis feature can become immensely useful. Reticle for gaze tracking is one example. User has full control on how the reticle reacts when hovered/clicked upon an object, such as changes in color and size. This can also be very useful when the user wants to drag an object in the 3D scene.\\n\\n![gaze-tracking](https://vedhant.github.io/gsoc_wpr/reticle.gif)\\n\\n\\n## **Summary**\\n\\nA full list of my commits to p5.xr can be found [here](https://www.google.com/url?q=https://github.com/stalgiag/p5.xr/commits?author%3Dvedhant&source=gmail&ust=1566566535693000&usg=AFQjCNG5U-KdJSpW0v_3ouqCLTnfYm9Vxw) and my merged pull requests can be found [here](https://github.com/stalgiag/p5.xr/pulls?utf8=%E2%9C%93&q=is%3Apr+is%3Aclosed+author%3Avedhant+is%3Amerged).\\n\\nI had an incredible learning experience with working on p5.xr library. The prominent reason being that as this library was in pre-alpha stage, I was able to contribute a big fraction of the codebase and learned how a library should be developed at early stages. I am immensely grateful to my mentor, [Stalgia Grigg](https://github.com/stalgiag), for providing all the valuable guidance and help throughout the summer as well as the p5 community for providing me such an opportunity. Thank you!\\n\\n[end of vedhant_gsoc_2019.md]\\n[start of README.md]\\n# p5.js Core\\n\\nThis folder contains the core functionality of p5.js, including the init and main files, environment, constants, the friendly error system, and the graphics pipeline (with the exception of 3D/WebGL). [Here is a diagram](\\nhttps://sketchboard.me/zBOkvPuQisyA#/) that outlines how the main graphics-related classes inherit from and extend one another. There is still more to be done to document this pipeline more clearly.\\n\\n![class diagram, interactive version viewable in above link](../../contributor_docs/images/p5-graphics-diagram.png)\\n\\n## [init.js](./init.js)\\n\\nThe `init.js` module initializes a new `p5` object in either global mode, instance mode, or unit testing mode. Broadly speaking, this module should only contain logic that needs to execute *before startup*, such as testing the environment in which the code is running in order to make decisions about how it should load.\\n\\n## [main.js](./main.js)\\n\\nThe sole job of the `main.js` module is to create and then export the constructor function for creating a new `p5` object. This constructor function is also called `p5`, and doesn't use the typical JavaScript convention of capitalizing constructor functions. The constructor handles a number of mechanical startup concerns, including assigning functions and properties from elsewhere in the source code to the newly created `p5` object as either public or private methods and properties.\\n\\nAside from the exported constructor function, the most important thing in this module is the set of functions that define the loop used by nearly every p5.js project: `preload()`, `setup()`, `draw()`, `remove()`, and so on. These functions are both available on the `p5` object as methods, and also assigned to variables in the global space for syntactic simplicity, because calling a function named `draw()` is more creatively expressive than namespacing the same functionality with an object as with `mySketch.draw()` or similar. The `friendlyBindGlobal()` function standardizes the process by which the necessary global variables can be created, notably including logging [friendly error messages](https://github.com/processing/p5.js/blob/master/contributor_docs/friendly_error_system.md) when conflicts are detected, but it is not exported from the module's internal scope.\\n\\n## [structure.js](./structure.js)\\n\\nThe `structure.js` module is best thought of as a collection of ways to make *modifications* to the typical *loop structure* exposed by the `draw()` function. The functions in this module allow you to add and extract individual renders from the loop, draw the loop one frame at a time, pause and resume the loop, and so on.\\n\\n## [constants.js](./constants.js)\\n\\nThe `constants.js` module provides various default values mostly related to math and web standards using clear semantic names to increase syntax clarity when they are used in other algorithms. These values are attached to the `p5` object prototype as properties by the constructor function so they can be more easily accessed by other parts of the p5.js library or by user code.\\n\\n## [error_helpers.js](./error_helpers.js)\\nThis is the main file for the Friendly Error System (FES). The Friendly Error System (FES) is a system designed to help new programmers with common user errors as they get started learning. It catches common beginning errors and provides clear language and links to help a user resolve the error. FES is only applied to functions that are ones a user might encounter when they are just starting.  You can learn more about the FES in the comment section at the top of this file, or in the [contributors_docs/friendly_error_system.md](https://github.com/processing/p5.js/blob/master/contributor_docs/friendly_error_system.md) file.\\n\\n## [legacy.js](./legacy.js)\\nThese are functions that are part of the Processing API but are not part of the p5.js API. In some cases they have a new name, in others, they are removed completely. Not all unsupported Processing functions are listed here but we try to include ones that a user coming from Processing might likely call.\\n\\n# Browser\\n\\n*utilizing and abstracting web technologies*\\n\\n## [environment.js](./environment.js)\\n\\nThe `environment.js` module detects and semantically reassigns various features of the code execution environment that are arguably beyond the control of the p5.js library, such as device properties, window dimensions, and the URL bar. In general, this module should only contain code that exposes mechanics of the web that usually would not be considered part of the p5.js \\\"sketch.\\\" This module is conceptually similar to `init.js` in that it tests the environment in which the p5.js code is executing, but one major difference is that broadly speaking the code in `environment.js` does *not* need to run solely at initialization as with `init.js`, and can be invoked whenever necessary.\\n\\n## [shim.js](./shim.js)\\n\\nSometimes p5.js needs to use new browser APIs or other features which haven't yet been completely standardized; for example, a feature that still uses [vendor prefixes](https://developer.mozilla.org/en-US/docs/Glossary/Vendor_Prefix). In any such cases where it is necessary to handle multiple versions of the same functionality, the `shim.js` module juggles the available variants and assigns the results of that evaluation to a standardized property on the `p5` object. The rest of the p5.js library can then use that functionality without needing to constantly reconsider the specific browser implementation details.\\n\\n## [p5.Element.js](./p5.Element.js)\\n\\nAlthough p5.js is a general toolkit for all sorts of interactive art projects, in practice many p5.js sketches focus on rendering two dimensional graphics into a `<canvas>` element. The `p5.Element.js` module is a wrapper around the browser's DOM API which is focused on the `<canvas>` element and also handles user input events like clicks and mouse movements. Conceptually, p5.js considers the sketch to be *the entire web page*. It's useful to separate `<canvas>` from the more general DOM because so many p5.js projects focus on `<canvas>` and this enables smaller [custom builds](https://github.com/processing/p5.js/blob/master/contributor_docs/custom_p5_build.md). \\n\\n# Rendering\\n\\n*project output options*\\n\\n## [rendering.js](./rendering.js)\\n\\nThe `rendering.js` module presents the user-facing API for p5's various graphical output options. In the overwhelming majority of cases, a p5.js sketch will be output to a `<canvas>` tag on the current web page, but it is also possible to do \\\"headless\\\" output using `nocanvas` mode or \\\"render\\\" to a graphics buffer that is computed but never actually appears on the screen.\\n\\n## [p5.Renderer.js](./p5.Renderer.js)\\n\\nThe `p5.Renderer.js` module provides a common base definition for a p5 project output mode that can then be extended as with [p5.Renderer2D](./p5.Renderer2D.js). For three dimensional output, see the [webgl module](../webgl/). Each `p5` object instance typically has a `Renderer` attached as a property.\\n\\n## [p5.Renderer2D.js](./p5.Renderer2D.js)\\n\\nThe `p5.Renderer2D.js` module extends the generic `p5.Renderer` definition and optimizes it for two dimensional images.\\n\\n## [p5.Graphics.js](./p5.Graphics.js)\\n\\nThe `p5.Graphics` module is a lightweight wrapper around renderers which is used to create output graphics in memory without ever actually drawing them on the screen.\\n\\n# Drawing\\n\\n*lines, shapes, and visual styles*\\n\\n## [transform.js](./transform.js)\\n\\nThe `transform.js` module implements logic for scaling, rotation, and matrix transformations.\\n\\n\\n## [shape/attributes.js](./shape/attributes.js)\\n\\nAttributes are an important part of the general API for the web, but the `attributes.js` module defines and handles miscellaneous *graphical* attributes that can be consider a set of active parameters for the current drawing style. Think of this as a grab bag of all the remaining drawing parameters that were not moved out into separate dedicated modules as with [color](../color/) and [typography](../typography/).\\n\\n## [shape/2d_primitives.js](./shape/2d_primitives.js)\\n\\nThe `2d_primitives.js` module provides helper functions for drawing common shapes. The resulting drawing commands are sent to the currently active [renderer](./rendering.js).\\n\\n## [shape/vertex.js](./shape/vertex.js)\\n\\nThe `vertex.js` module handles points and coordinates for drawing curves and shapes.\\n\\n## [shape/curves.js](./shape/curves.js)\\n\\nThe `curves.js` module draws curves based on a set of vertices.\\n\\n[end of README.md]\\n[start of README.md]\\n\\n\\n# \\ud83c\\udf38 Welcome! \\ud83c\\udf3a\\n\\nThanks for your interest in contributing to p5.js! Our community values contributions of all forms and seeks to expand the meaning of the word \\\"contributor\\\" as far and wide as possible. It includes documentation, teaching, writing code, making art, writing, design, activism, organizing, curating, or anything else you might imagine. [Our community page](https://p5js.org/community/#contribute) gives an overview of some different ways to get involved and contribute. For technical contributions, read on to get started.\\n\\nThis project follows the [all-contributors](https://github.com/kentcdodds/all-contributors) specification. Add yourself to the [readme](https://github.com/processing/p5.js/blob/master/README.md#contributors) by following the [instructions here](https://github.com/processing/p5.js/issues/2309)! Or comment in the [GitHub issues](https://github.com/processing/p5.js/issues) with your contribution and we'll add you.\\n\\n\\n\\n# Where our code lives\\n\\nThe overarching p5.js project includes some repositories other than this one:\\n\\n- [p5.js](https://github.com/processing/p5.js): This repository contains the source code for the p5.js library. The [user-facing p5.js reference manual](https://p5js.org/reference/) is also generated from the [JSDoc](http://usejsdoc.org/) comments included in this source code. It is maintained by [Lauren Lee McCarthy](https://github.com/lmccart).\\n- [p5.js-website](https://github.com/processing/p5.js-website) This repository contains most of the code for the [p5.js website](http://p5js.org), with the exception of the reference manual. It is maintained by [Lauren Lee McCarthy](https://github.com/lmccart).\\n- [p5.js-sound](https://github.com/processing/p5.js-sound) This repository contains the p5.sound.js library. It is maintained by [Jason Sigal](https://github.com/therewasaguy).\\n- [p5.js-web-editor](https://github.com/processing/p5.js-web-editor) This repository contains the source code for the [p5.js web editor](https://editor.p5js.org). It is maintained by [Cassie Tarakajian](https://github.com/catarak). Note that the older [p5.js editor](https://github.com/processing/p5.js-editor) is now deprecated.\\n- [p5.accessibility](https://github.com/processing/p5.accessibility) A library that makes the p5 canvas more accessible to people who are blind and visually impaired.\\n\\n\\n\\n# Repository File Structure\\n\\nThere are a lot of files here! Here's a brief overview. It can be confusing, but you don't need to understand every file in the repository to get started. We recommend beginning in one area (for example, fixing some inline documentation), and working your way outwards to exploring more. Luisa Pereira's [Looking Inside p5.js](http://www.luisapereira.net/teaching/looking-inside-p5/) also gives a video tour of the tools and files used in the p5.js workflow.\\n\\n- `contributor_docs/` contains  documents that explain practices and principles for contributors\\n- `docs/` does not actually contain docs! Rather, it contains the code used to *generate* the [online reference manual](https://p5js.org/reference/).\\n- `lib/` contains an empty example and the p5.sound add-on, which is periodically updated via pull request from the [p5.js-sound repository](https://github.com/processing/p5.js-sound). This is also where the built p5.js library gets placed after being compiled to a single file using [Grunt](https://gruntjs.com/). It does not need to be checked into the github repository when you make a pull request.\\n- `src/` contains all the source code for the library, which is topically organized into separated modules. This is what you'll work on if you are changing p5.js. Most folders have their own readme.md files inside to help you find your way around.\\n- `tasks/` contains scripts which perform automated tasks related to the build, deployment, and release of new versions of p5.js.\\n- `tests/` contains unit tests which ensure the library continues to function correctly as changes are made.\\n- `utils/` might contain additional files useful for the repository, but generally you can ignore this directory.\\n\\n\\n\\n# Documentation\\n\\nWe realize the documentation is the most important part of this project. Poor documentation is one of the main barriers to access for new users and contributors, making the project less inclusive. The [contributing_documentation.md](./contributing_documentation.md) page gives an in-depth overview of getting started with documentation. The documentation for p5.js can be found in a few main places:\\n\\n- The [p5js.org/reference](https://p5js.org/reference/) is generated from [inline documentation](./inline_documentation.md) in the source code itself. This includes the text descriptions and parameters as well as the accompanying code snippet examples. We place all this inline to keep the code and documentation closely linked, and to reinforce the idea that contributing to documentation is as important (if not more) than contributing to the code. When the library gets built, it checks the inline documentation and examples to ensure they match up with the way the code behaves. To contribute, you can start by looking at the [inline_documentation.md](./inline_documentation.md) page.\\n- The [p5js.org/examples](http://p5js.org/examples) page contains longer examples that can be useful for learning p5.js. To contribute, you can start by looking at the [adding_examples.md](https://github.com/processing/p5.js-website/blob/master/contributor_docs/Adding_examples.md) page.\\n- The [p5js.org/tutorials](https://p5js.org/tutorials) page contains tutorials to help you learn concepts of p5.js and programming. To contribute, you can start by looking at the [https://p5js.org/learn/tutorial-guide.html](p5js.org tutorial on tutorials)!\\n- You'll notice the p5.js website currently supports a few different languages. This is called internationalization (or i18n for short). You can read more about this documentation on the [i18n_contribution](https://github.com/processing/p5.js-website/blob/master/contributor_docs/i18n_contribution.md) page.\\n\\n\\n\\n# GitHub Issue Flow\\n\\n* Known bugs and intended new features are tracked using [GitHub issues](https://github.com/processing/p5.js/issues). Issue [labels](./issue_labels.md) are used to sort issues into categories, such as those which are [suitable for beginners](https://github.com/processing/p5.js/labels/level%3Abeginner).\\n\\n* If you'd like to start working on an existing issue, comment on the issue that you plan to work on it so other contributors know it's being handled and can offer help.\\n\\n* Once you have completed your work on this issue, [submit a pull request (PR)](./preparing_a_pull_request.md) against the p5.js master branch. In the description field of the PR, include \\\"resolves #XXXX\\\" tagging the issue you are fixing. If the PR addresses the issue but doesn't completely resolve it (ie the issue should remain open after your PR is merged), write \\\"addresses #XXXX\\\".\\n\\n* If you discover a bug or have an idea for a new feature you'd like to add, begin by submitting an issue. Please do not simply submit a pull request containing the fix or new feature without making an issue first, we will probably not be able to accept it. Once you have gotten some feedback on the issue and a go ahead to address it, you can follow the process above to contribute the fix or feature.\\n\\n* You can triage issues which may include reproducing bug reports or asking for vital information, such as version numbers or reproduction instructions. If you would like to start triaging issues, one easy way to get started is to [subscribe to p5.js on CodeTriage](https://www.codetriage.com/processing/p5.js). [![Open Source Helpers](https://www.codetriage.com/processing/p5.js/badges/users.svg)](https://www.codetriage.com/processing/p5.js)\\n\\n* The [organization.md](https://github.com/processing/p5.js/blob/master/contributor_docs/organization.md) file gives a high-level overview of how issues can be organized and the decision making processes around them. Please feel welcome to get involved with this if you are interested.\\n\\n  \\n\\n# Development Process\\n\\nWe know the development process can be a little tricky at first. You're not alone, it's confusing for everyone at the beginning. The steps below walk you through the setup process. If you have questions, you can ask on the [forum](https://discourse.processing.org/c/p5js) or post an [issue](https://github.com/processing/p5.js/issues) that describes the place you are stuck, and we'll do our best to help.\\n\\nThis process is also covered [in a video by The Coding Train.](https://youtu.be/Rr3vLyP1Ods) :train::rainbow:\\n\\n\\n\\n1. Install [node.js](http://nodejs.org/), which also automatically installs the [npm](https://www.npmjs.org) package manager.\\n\\n2. [Fork](https://help.github.com/articles/fork-a-repo) the [p5.js repository](https://github.com/processing/p5.js) into your own GitHub account.\\n\\n3. [Clone](https://help.github.com/articles/cloning-a-repository/) your new fork of the repository from GitHub onto your local computer.\\n\\n   ```\\n   $ git clone https://github.com/YOUR_USERNAME/p5.js.git\\n   ```\\n\\n4. Navigate into the project folder and install all its necessary dependencies with npm.\\n\\n   ```\\n   $ cd p5.js\\n   $ npm ci\\n   ```\\n\\n5. [Grunt](https://gruntjs.com/) should now be installed, and you can use it to build the library from the source code.\\n\\n   ```\\n   $ npm run grunt\\n   ```\\n\\n   If you're continuously changing files in the library, you may want to run `npm run dev` to automatically rebuild the library for you whenever any of its source files change without you having to first type the command manually.\\n\\n6. Make some changes locally to the codebase and [commit](https://help.github.com/articles/github-glossary/#commit) them with Git.\\n\\n   ```\\n   $ git add -u\\n   $ git commit -m \\\"YOUR COMMIT MESSAGE\\\"\\n   ```\\n\\n7. Run `npm run grunt` again to make sure there are no syntax errors, test failures, or other problems.\\n\\n8. [Push](https://help.github.com/articles/github-glossary/#push) your new changes to your fork on GitHub.\\n\\n   ```\\n   $ git push\\n   ```\\n\\n9. Once everything is ready, submit your changes as a [pull request](https://help.github.com/articles/creating-a-pull-request).\\n\\n\\n\\n# Gotchas\\n\\nThe developer tooling included with the p5.js codebase is intentionally very strict about some things. This is a good thing! It makes everything consistent, and it will encourage you to be disciplined. This means you may try to change something only to have your commit rejected by the project, but don't get discouraged; even seasoned p5.js developers get caught by this stuff all the time. Typically the problem will be in one of two areas, code syntax or unit tests.\\n\\n## Code Syntax\\n\\np5.js requires clean and stylistically consistent code syntax, which it enforces using tools called [Prettier](https://prettier.io/) and [ESlint](https://eslint.org/). Certain style rules are checked before you commit, but you can also install an [ESlint plugin](https://eslint.org/docs/user-guide/integrations#editors) for your code editor to highlight errors as soon as you type them. In general, we err on the side of flexibility when it comes to code style, in order to lower the barriers to participation and contribution.\\n\\nTo detect errors, run the following command in your terminal (do not type the `$` prompt):\\n\\n```\\n$ npm run lint\\n```\\n\\nSome syntax errors can be automatically fixed:\\n\\n```\\n$ npm run lint:fix\\n```\\n\\nSticking with the established project style is usually preferable, but [occasionally](https://github.com/processing/p5.js/search?utf8=%E2%9C%93&q=prettier-ignore&type=) using an alternate syntax might make your code easier to understand. For these cases, Prettier [offers an escape hatch](https://prettier.io/docs/en/ignore.html), the `// prettier-ignore` comment, which you can use to make granular exceptions. Try to avoid using this if you can, because there are good reasons for most of the style preferences enforced by the linting.\\n\\nHere is a quick summary of code style rules. Please note that this list may be incomplete, and it's best to refer to the [.prettierrc](https://github.com/processing/p5.js/blob/master/.prettierrc) and [.eslintrc](https://github.com/processing/p5.js/blob/master/.eslintrc) files for the full list.\\n* ES6 code syntax is used\\n\\n* Use single quotes (rather than double quotes)\\n\\n* Indentation is done with two spaces\\n\\n* All variables defined in the code should be used at least once, or removed completely\\n\\n* Do not compare x == true or x == false. Use (x) or (!x) instead. x == true, is certainly different from if (x)! Compare objects to null, numbers to 0 or strings to \\\"\\\", if there is chance for confusion.\\n\\n* Comment your code whenever there is ambiguity or complexity in the function you are writing\\n\\n* See the [Mozilla JS practices](https://developer.mozilla.org/en-US/docs/Mozilla/Developer_guide/Coding_Style#JavaScript_practices) as a useful guide for more styling tips\\n\\n  \\n\\n## Unit Tests\\n\\nUnit tests are small pieces of code which are created as complements to the primary logic and perform validation. The [unit_testing.md](./unit_testing.md) page gives more information about working with unit tests. If you are developing a major new feature for p5.js, you should probably include tests. Do not submit pull requests in which the tests do not pass, because that means something is broken.\\n\\nIn order to run unit tests, you'll need to make sure you have installed the project's dependencies.\\n\\n```\\n$ npm ci\\n```\\n\\nThis will install *all* the dependencies for p5.js; briefly, the most important dependencies specific to unit testing include:\\n\\n- [Mocha](https://mochajs.org/), a powerful testing framework that executes individual test files which are specific to p5.js\\n- [mocha-chrome](https://github.com/shellscape/mocha-chrome), a mocha plugin that runs mocha tests using headless Google Chrome\\n\\nOnce the dependencies are installed, use Grunt to run the unit tests.\\n\\n```\\n$ grunt\\n```\\n\\nSometimes it is useful to run the tests in the browser instead of on the command line. To do this, first start the [connect](https://github.com/gruntjs/grunt-contrib-connect) server:\\n\\n```\\n$ npm run dev\\n```\\n\\nWith the server running, you should be able to open `test/test.html` in a browser.\\n\\nA complete guide to unit testing is beyond the scope of the p5.js documentation, but the short version is that any major changes or new features implemented in the source code contained in the `src/` directory should also be accompanied by test files in the `test/` directory that can be executed by Mocha to verify consistent behavior in all future versions of the library. When writing unit tests, use the [Chai.js reference](http://www.chaijs.com/api/assert/) as a guide for phrasing your assertion messages so that any errors caught by your tests in the future will be consistent and consequently easier for other developers to understand.\\n\\n\\n\\n# Miscellaneous\\n\\n- There are other files in the [contributor_docs/](https://github.com/processing/p5.js/tree/master/contributor_docs) folder that you might explore. They pertain to contributing to specific areas of this project, both technical and non-technical.\\n- [Looking Inside p5.js](http://www.luisapereira.net/teaching/looking-inside-p5/) is a video tour of the tools and files used in the p5.js development workflow.\\n-  [This video from The Coding Train](https://youtu.be/Rr3vLyP1Ods) :train::rainbow: gives an overview of getting started with technical contribution to p5.js.\\n- The p5.js [Docker image](https://github.com/toolness/p5.js-docker) can be mounted in [Docker](https://www.docker.com/) and used to develop p5.js without requiring manual installation of requirements like [Node](https://nodejs.org/) or otherwise affecting the host operating system in any way, aside from the installation of Docker.\\n- The build process for the p5.js library generates a [json data file](https://p5js.org/reference/data.json) which contains the public API of p5.js and can be used in automated tooling, such as for autocompleting p5.js methods in an editor. This file is hosted on the p5.js website, but it is not included as part of the repository.\\n- p5.js has recently migrated to [ES6](https://en.wikipedia.org/wiki/ECMAScript#6th_Edition_-_ECMAScript_2015). To see how this transition could effect your contribution please visit [ES6 adoption](./es6-adoption.md).\\n\\n[end of README.md]\\n\\n</code>\\n\\nHere is an example of a patch file. It consists of changes to the code base. It specifies the file names, the line numbers of each change, and the removed and added lines. A single patch file can contain changes to multiple files.\\n\\n<patch>\\ndiff --git a/file.py b/file.py\\n--- a/file.py\\n+++ b/file.py\\n@@ -1,27 +1,35 @@\\n def euclidean(a, b):\\n-    while b:\\n-        a, b = b, a % b\\n-    return a\\n+    if b == 0:\\n+        return a\\n+    return euclidean(b, a % b)\\n \\n def bresenham(x0, y0, x1, y1):\\n+    points = []\\n+    dx = abs(x1 - x0)\\n+    dy = abs(y1 - y0)\\n+    sx = 1 if x0 < x1 else -1\\n+    sy = 1 if y0 < y1 else -1\\n+    err = dx - dy\\n+    \\n     while True:\\n-        plot(x0, y0)\\n+        points.append((x0, y0))\\n         if x0 == x1 and y0 == y1:\\n             break\\n-        e2 = 2 * err\\n-        if e2 > -dy:\\n-            err -= dy\\n-            x0 += sx\\n-        if e2 < dx:\\n-            err += dx\\n-            y0 += sy\\n+        e2 = 2 * err\\n+        if e2 > -dy:\\n+            err -= dy\\n+            x0 += sx\\n+        if e2 < dx:\\n+            err += dx\\n+            y0 += sy\\n+    return points\\n+</patch>\\n\\nI need you to solve the provided issue by generating a single patch file that I can apply directly to this repository using git apply. Please respond with a single patch file in the format shown above.\\n\\nRespond below: \\n\"}]",
      "retrieved_file_paths": [
        "error_helpers.js",
        "friendly_error_system.md",
        "vedhant_gsoc_2019.md",
        "README.md",
        "README.md"
      ]
    },
    "retrieved_documents": [
      {
        "id": "3b249d3a-24f3-4fed-ba15-1aa062f87898",
        "score": 0.01639344262295082,
        "payload": {
          "text": "/**\n * @for p5\n * @requires core\n *\n * This is the main file for the Friendly Error System (FES). Here is a\n * brief outline of the functions called in this system.\n *\n * The FES may be invoked by a call to either (1) _validateParameters,\n * (2) _friendlyFileLoadError, (3) _friendlyError, or (4) helpForMisusedAtTopLevelCode.\n *\n * helpForMisusedAtTopLevelCode is called by this file on window load to check for use\n * of p5.js functions outside of setup() or draw()\n * Items 1-3 above are called by functions in the p5 library located in other files.\n *\n * _friendlyFileLoadError is called by the loadX() methods.\n * _friendlyError can be called by any function to offer a helpful error message.\n *\n * _validateParameters is called by functions in the p5.js API to help users ensure\n * ther are calling p5 function with the right parameter types. The property\n * disableFriendlyErrors = false can be set from a p5.js sketch to turn off parameter\n * checking. The call sequence from _validateParameters looks something like this:\n *\n * _validateParameters\n *   lookupParamDoc\n *   scoreOverload\n *     testParamTypes\n *     testParamType\n *   getOverloadErrors\n *   _friendlyParamError\n *     ValidationError\n *     report\n *       friendlyWelcome\n *\n * The call sequences to _friendlyFileLoadError and _friendlyError are like this:\n * _friendlyFileLoadError\n *   report\n *\n * _friendlyError\n *   report\n *\n * report() is the main function that prints directly to console with the output\n * of the error helper message. Note: friendlyWelcome() also prints to console directly.\n */\nimport p5 from './main';\nimport * as constants from './constants';\nimport { translator } from './internationalization';\n\n// p5.js blue, p5.js orange, auto dark green; fallback p5.js darkened magenta\n// See testColors below for all the color codes and names\nconst typeColors = ['#2D7BB6', '#EE9900', '#4DB200', '#C83C00'];\n\nif (typeof IS_MINIFIED !== 'undefined') {\n  p5._validateParameters = p5._friendlyFileLoadError = p5._friendlyError = () => {};\n} else {\n  let doFriendlyWelcome = false; // TEMP until we get it all working LM\n  // for parameter validation\n  const dataDoc = require('../../docs/reference/data.json');\n  const arrDoc = JSON.parse(JSON.stringify(dataDoc));\n\n  // -- Borrowed from jQuery 1.11.3 --\n  const class2type = {};\n  const toString = class2type.toString;\n  const names = [\n    'Boolean',\n    'Number',\n    'String',\n    'Function',\n    'Array',\n    'Date',\n    'RegExp',\n    'Object',\n    'Error'\n  ];\n  for (let n = 0; n < names.length; n++) {\n    class2type[`[object ${names[n]}]`] = names[n].toLowerCase();\n  }\n  const getType = obj => {\n    if (obj == null) {\n      return `${obj}`;\n    }\n    return typeof obj === 'object' || typeof obj === 'function'\n      ? class2type[toString.call(obj)] || 'object'\n      : typeof obj;\n  };\n\n  // -- End borrow --\n\n  const friendlyWelcome = () => {\n    // p5.js brand - magenta: #ED225D\n    //const astrixBgColor = 'transparent';\n    //const astrixTxtColor = '#ED225D';\n    //const welcomeBgColor = '#ED225D';\n    //const welcomeTextColor = 'white';\n    const welcomeMessage = translator('fes.pre', {\n      message: translator('fes.welcome')\n    });\n    console.log(\n      '    _ \\n' +\n        ' /\\\\| |/\\\\ \\n' +\n        \" \\\\ ` ' /  \\n\" +\n        ' / , . \\\\  \\n' +\n        ' \\\\/|_|\\\\/ ' +\n        '\\n\\n' +\n        welcomeMessage\n    );\n  };\n\n  /**\n   * Prints out a fancy, colorful message to the console log\n   *\n   * @method report\n   * @private\n   * @param  {String}               message the words to be said\n   * @param  {String}               func    the name of the function to link\n   * @param  {Number|String} color   CSS color string or error type\n   *\n   * @return console logs\n   */\n  const report = (message, func, color) => {\n    if (doFriendlyWelcome) {\n      friendlyWelcome();\n      doFriendlyWelcome = false;\n    }\n    if ('undefined' === getType(color)) {\n      color = '#B40033'; // dark magenta\n    } else if (getType(color) === 'number') {\n      // Type to color\n      color = typeColors[color];\n    }\n    if (func.substring(0, 4) === 'load') {\n      console.log(translator('fes.pre', { message }));\n    } else {\n      console.log(\n        translator('fes.pre', {\n          message: `${message} (http://p5js.org/reference/#p5/${func})`\n        })\n      );\n    }\n  };\n\n  // mapping used by `_friendlyFileLoadError`\n  const fileLoadErrorCases = (num, filePath) => {\n    const suggestion = translator('fes.fileLoadError.suggestion', {\n      filePath,\n      link: 'https://github.com/processing/p5.js/wiki/Local-server'\n    });\n    switch (num) {\n      case 0:\n        return {\n          message: translator('fes.fileLoadError.image', {\n            suggestion\n          }),\n          method: 'loadImage'\n        };\n      case 1:\n        return {\n          message: translator('fes.fileLoadError.xml', {\n            suggestion\n          }),\n          method: 'loadXML'\n        };\n      case 2:\n        return {\n          message: translator('fes.fileLoadError.table', {\n            suggestion\n          }),\n          method: 'loadTable'\n        };\n      case 3:\n        return {\n          message: translator('fes.fileLoadError.strings', {\n            suggestion\n          }),\n          method: 'loadStrings'\n        };\n      case 4:\n        return {\n          message: translator('fes.fileLoadError.font', {\n            suggestion\n          }),\n          method: 'loadFont'\n        };\n      case 5:\n        return {\n          message: translator('fes.fileLoadError.json', {\n            suggestion\n          }),\n          method: 'loadJSON'\n        };\n      case 6:\n        return {\n          message: translator('fes.fileLoadError.bytes', {\n            suggestion\n          }),\n          method: 'loadBytes'\n        };\n      case 7:\n        return {\n          message: translator('fes.fileLoadError.large'),\n          method: 'loadX'\n        };\n      case 8:\n        return {\n          message: translator('fes.fileLoadError.gif'),\n          method: 'loadImage'\n        };\n    }\n  };\n\n  /**\n   * This is called internally if there is a error during file loading.\n   *\n   * @method _friendlyFileLoadError\n   * @private\n   * @param  {Number} errorType\n   * @param  {String} filePath\n   */\n  p5._friendlyFileLoadError = function(errorType, filePath) {\n    const { message, method } = fileLoadErrorCases(errorType, filePath);\n    report(message, method, 3);\n  };\n\n  /**\n   * This is a generic method that can be called from anywhere in the p5\n   * library to alert users to a common error.\n   *\n   * @method _friendlyError\n   * @private\n   * @param  {Number} message message to be printed\n   * @param  {String} method name of method\n   */\n  p5._friendlyError = function(message, method) {\n    report(message, method);\n  };\n\n  /**\n   * This is called internally if there is a error with autoplay.\n   *\n   * @method _friendlyAutoplayError\n   * @private\n   */\n  p5._friendlyAutoplayError = function(src) {\n    const message = translator('fes.autoplay', {\n      src,\n      link: 'https://developer.mozilla.org/docs/Web/Media/Autoplay_guide'\n    });\n    console.log(translator('fes.pre', { message }));\n  };\n\n  const docCache = {};\n  const builtinTypes = [\n    'null',\n    'number',\n    'string',\n    'boolean',\n    'constant',\n    'function',\n    'any',\n    'integer'\n  ];\n\n  // validateParameters() helper functions:\n  // lookupParamDoc() for querying data.json\n  const lookupParamDoc = func => {\n    // look for the docs in the `data.json` datastructure\n\n    const ichDot = func.lastIndexOf('.');\n    const funcName = func.substr(ichDot + 1);\n    const funcClass = func.substr(0, ichDot) || 'p5';\n\n    let queryResult;\n    const classitems = arrDoc.classitems;\n\n    for (const x of classitems) {\n      if (x.name === funcName && x.class === funcClass) {\n        queryResult = x;\n        break;\n      }\n    }\n\n    // different JSON structure for funct with multi-format\n    const overloads = [];\n    if (queryResult.hasOwnProperty('overloads')) {\n      // add all the overloads\n      for (let i = 0; i < queryResult.overloads.length; i++) {\n        overloads.push({ formats: queryResult.overloads[i].params });\n      }\n    } else {\n      // no overloads, just add the main method definition\n      overloads.push({ formats: queryResult.params || [] });\n    }\n\n    // parse the parameter types for each overload\n    const mapConstants = {};\n    let maxParams = 0;\n    overloads.forEach(overload => {\n      const formats = overload.formats;\n\n      // keep a record of the maximum number of arguments\n      // this method requires.\n      if (maxParams < formats.length) {\n        maxParams = formats.length;\n      }\n\n      // calculate the minimum number of arguments\n      // this overload requires.\n      let minParams = formats.length;\n      while (minParams > 0 && formats[minParams - 1].optional) {\n        minParams--;\n      }\n      overload.minParams = minParams;\n\n      // loop through each parameter position, and parse its types\n      formats.forEach(format => {\n        // split this parameter's types\n        format.types = format.type.split('|').map(function ct(type) {\n          // array\n          if (type.substr(type.length - 2, 2) === '[]') {\n            return {\n              name: type,\n              array: ct(type.substr(0, type.length - 2))\n            };\n          }\n\n          let lowerType = type.toLowerCase();\n\n          // contant\n          if (lowerType === 'constant') {\n            let constant;\n            if (mapConstants.hasOwnProperty(format.name)) {\n              constant = mapConstants[format.name];\n            } else {\n              // parse possible constant values from description\n              const myRe = /either\\s+(?:[A-Z0-9_]+\\s*,?\\s*(?:or)?\\s*)+/g;\n              const values = {};\n              const names = [];\n\n              constant = mapConstants[format.name] = {\n                values,\n                names\n              };\n\n              const myArray = myRe.exec(format.description);\n              if (func === 'endShape' && format.name === 'mode') {\n                values[constants.CLOSE] = true;\n                names.push('CLOSE');\n              } else {\n                const match = myArray[0];\n                const reConst = /[A-Z0-9_]+/g;\n                let matchConst;\n                while ((matchConst = reConst.exec(match)) !== null) {\n                  const name = matchConst[0];\n                  if (constants.hasOwnProperty(name)) {\n                    values[constants[name]] = true;\n                    names.push(name);\n                  }\n                }\n              }\n            }\n            return {\n              name: type,\n              builtin: lowerType,\n              names: constant.names,\n              values: constant.values\n            };\n          }\n\n          // function\n          if (lowerType.substr(0, 'function'.length) === 'function') {\n            lowerType = 'function';\n          }\n          // builtin\n          if (builtinTypes.includes(lowerType)) {\n            return { name: type, builtin: lowerType };\n          }\n\n          // find type's prototype\n          let t = window;\n          const typeParts = type.split('.');\n\n          // special-case 'p5' since it may be non-global\n          if (typeParts[0] === 'p5') {\n            t = p5;\n            typeParts.shift();\n          }\n\n          typeParts.forEach(p => {\n            t = t && t[p];\n          });\n          if (t) {\n            return { name: type, prototype: t };\n          }\n\n          return { name: type, type: lowerType };\n        });\n      });\n    });\n    return {\n      overloads,\n      maxParams\n    };\n  };\n\n  const isNumber = param => {\n    switch (typeof param) {\n      case 'number':\n        return true;\n      case 'string':\n        return !isNaN(param);\n      default:\n        return false;\n    }\n  };\n\n  const testParamType = (param, type) => {\n    const isArray = param instanceof Array;\n    let matches = true;\n    if (type.array && isArray) {\n      for (let i = 0; i < param.length; i++) {\n        const error = testParamType(param[i], type.array);\n        if (error) return error / 2; // half error for elements\n      }\n    } else if (type.prototype) {\n      matches = param instanceof type.prototype;\n    } else if (type.builtin) {\n      switch (type.builtin) {\n        case 'number':\n          matches = isNumber(param);\n          break;\n        case 'integer':\n          matches = isNumber(param) && Number(param) === Math.floor(param);\n          break;\n        case 'boolean':\n        case 'any':\n          matches = true;\n          break;\n        case 'array':\n          matches = isArray;\n          break;\n        case 'string':\n          matches = /*typeof param === 'number' ||*/ typeof param === 'string';\n          break;\n        case 'constant':\n          matches = type.values.hasOwnProperty(param);\n          break;\n        case 'function':\n          matches = param instanceof Function;\n          break;\n        case 'null':\n          matches = param === null;\n          break;\n      }\n    } else {\n      matches = typeof param === type.t;\n    }\n    return matches ? 0 : 1;\n  };\n\n  // testType() for non-object type parameter validation\n  const testParamTypes = (param, types) => {\n    let minScore = 9999;\n    for (let i = 0; minScore > 0 && i < types.length; i++) {\n      const score = testParamType(param, types[i]);\n      if (minScore > score) minScore = score;\n    }\n    return minScore;\n  };\n\n  // generate a score (higher is worse) for applying these args to\n  // this overload.\n  const scoreOverload = (args, argCount, overload, minScore) => {\n    let score = 0;\n    const formats = overload.formats;\n    const minParams = overload.minParams;\n\n    // check for too few/many args\n    // the score is double number of extra/missing args\n    if (argCount < minParams) {\n      score = (minParams - argCount) * 2;\n    } else if (argCount > formats.length) {\n      score = (argCount - formats.length) * 2;\n    }\n\n    // loop through the formats, adding up the error score for each arg.\n    // quit early if the score gets higher than the previous best overload.\n    for (let p = 0; score <= minScore && p < formats.length; p++) {\n      const arg = args[p];\n      const format = formats[p];\n      // '== null' checks for 'null' and typeof 'undefined'\n      if (arg == null) {\n        // handle non-optional and non-trailing undefined args\n        if (!format.optional || p < minParams || p < argCount) {\n          score += 1;\n        }\n      } else {\n        score += testParamTypes(arg, format.types);\n      }\n    }\n    return score;\n  };\n\n  // gets a list of errors for this overload\n  const getOverloadErrors = (args, argCount, overload) => {\n    const formats = overload.formats;\n    const minParams = overload.minParams;\n\n    // check for too few/many args\n    if (argCount < minParams) {\n      return [\n        {\n          type: 'TOO_FEW_ARGUMENTS',\n          argCount,\n          minParams\n        }\n      ];\n    } else if (argCount > formats.length) {\n      return [\n        {\n          type: 'TOO_MANY_ARGUMENTS',\n          argCount,\n          maxParams: formats.length\n        }\n      ];\n    }\n\n    const errorArray = [];\n    for (let p = 0; p < formats.length; p++) {\n      const arg = args[p];\n      const format = formats[p];\n      // '== null' checks for 'null' and typeof 'undefined'\n      if (arg == null) {\n        // handle non-optional and non-trailing undefined args\n        if (!format.optional || p < minParams || p < argCount) {\n          errorArray.push({\n            type: 'EMPTY_VAR',\n            position: p,\n            format\n          });\n        }\n      } else if (testParamTypes(arg, format.types) > 0) {\n        errorArray.push({\n          type: 'WRONG_TYPE',\n          position: p,\n          format,\n          arg\n        });\n      }\n    }\n\n    return errorArray;\n  };\n\n  // a custom error type, used by the mocha\n  // tests when expecting validation errors\n  p5.ValidationError = (name => {\n    class err extends Error {\n      constructor(message, func) {\n        super();\n        this.message = message;\n        this.func = func;\n        if ('captureStackTrace' in Error) Error.captureStackTrace(this, err);\n        else this.stack = new Error().stack;\n      }\n    }\n\n    err.prototype.name = name;\n    return err;\n  })('ValidationError');\n\n  // function for generating console.log() msg\n  p5._friendlyParamError = function(errorObj, func) {\n    let message;\n\n    function formatType() {\n      const format = errorObj.format;\n      return format.types\n        .map(type => (type.names ? type.names.join('|') : type.name))\n        .join('|');\n    }\n\n    switch (errorObj.type) {\n      case 'EMPTY_VAR': {\n        message = `${func}() was expecting ${formatType()} for parameter #${\n          errorObj.position\n        } (zero-based index), received an empty variable instead. If not intentional, this is often a problem with scope: [https://p5js.org/examples/data-variable-scope.html]`;\n        break;\n      }\n      case 'WRONG_TYPE': {\n        const arg = errorObj.arg;\n        const argType =\n          arg instanceof Array\n            ? 'array'\n            : arg === null ? 'null' : arg.name || typeof arg;\n        message = `${func}() was expecting ${formatType()} for parameter #${\n          errorObj.position\n        } (zero-based index), received ${argType} instead`;\n        break;\n      }\n      case 'TOO_FEW_ARGUMENTS': {\n        message = `${func}() was expecting at least ${\n          errorObj.minParams\n        } arguments, but received only ${errorObj.argCount}`;\n        break;\n      }\n      case 'TOO_MANY_ARGUMENTS': {\n        message = `${func}() was expecting no more than ${\n          errorObj.maxParams\n        } arguments, but received ${errorObj.argCount}`;\n        break;\n      }\n    }\n\n    if (message) {\n      if (p5._throwValidationErrors) {\n        throw new p5.ValidationError(message);\n      }\n\n      try {\n        const re = /Function\\.validateParameters.*[\\r\\n].*[\\r\\n].*\\(([^)]*)/;\n        const location = re.exec(new Error().stack)[1];\n        if (location) {\n          message += ` at ${location}`;\n        }\n      } catch (err) {}\n\n      report(`${message}.`, func, 3);\n    }\n  };\n\n  /**\n   * Validates parameters\n   * param  {String}               func    the name of the function\n   * param  {Array}                args    user input arguments\n   *\n   * example:\n   *  const a;\n   *  ellipse(10,10,a,5);\n   * console ouput:\n   *  \"It looks like ellipse received an empty variable in spot #2.\"\n   *\n   * example:\n   *  ellipse(10,\"foo\",5,5);\n   * console output:\n   *  \"ellipse was expecting a number for parameter #1,\n   *           received \"foo\" instead.\"\n   */\n  p5._validateParameters = function validateParameters(func, args) {\n    if (p5.disableFriendlyErrors) {\n      return; // skip FES\n    }\n\n    // lookup the docs in the 'data.json' file\n    const docs = docCache[func] || (docCache[func] = lookupParamDoc(func));\n    const overloads = docs.overloads;\n\n    // ignore any trailing `undefined` arguments\n    let argCount = args.length;\n    // '== null' checks for 'null' and typeof 'undefined'\n    while (argCount > 0 && args[argCount - 1] == null) argCount--;\n\n    // find the overload with the best score\n    let minScore = 99999;\n    let minOverload;\n    for (let i = 0; i < overloads.length; i++) {\n      const score = scoreOverload(args, argCount, overloads[i], minScore);\n      if (score === 0) {\n        return; // done!\n      } else if (minScore > score) {\n        // this score is better that what we have so far...\n        minScore = score;\n        minOverload = i;\n      }\n    }\n\n    // this should _always_ be true here...\n    if (minScore > 0) {\n      // get the errors for the best overload\n      const errorArray = getOverloadErrors(\n        args,\n        argCount,\n        overloads[minOverload]\n      );\n\n      // generate err msg\n      for (let n = 0; n < errorArray.length; n++) {\n        p5._friendlyParamError(errorArray[n], func);\n      }\n    }\n  };\n\n  /**\n   * Prints out all the colors in the color pallete with white text.\n   * For color blindness testing.\n   */\n  /* function testColors() {\n    const str = 'A box of biscuits, a box of mixed biscuits and a biscuit mixer';\n    report(str, 'print', '#ED225D'); // p5.js magenta\n    report(str, 'print', '#2D7BB6'); // p5.js blue\n    report(str, 'print', '#EE9900'); // p5.js orange\n    report(str, 'print', '#A67F59'); // p5.js light brown\n    report(str, 'print', '#704F21'); // p5.js gold\n    report(str, 'print', '#1CC581'); // auto cyan\n    report(str, 'print', '#FF6625'); // auto orange\n    report(str, 'print', '#79EB22'); // auto green\n    report(str, 'print', '#B40033'); // p5.js darkened magenta\n    report(str, 'print', '#084B7F'); // p5.js darkened blue\n    report(str, 'print', '#945F00'); // p5.js darkened orange\n    report(str, 'print', '#6B441D'); // p5.js darkened brown\n    report(str, 'print', '#2E1B00'); // p5.js darkened gold\n    report(str, 'print', '#008851'); // auto dark cyan\n    report(str, 'print', '#C83C00'); // auto dark orange\n    report(str, 'print', '#4DB200'); // auto dark green\n  } */\n\n  p5.prototype._validateParameters = p5.validateParameters;\n}\n\n// This is a lazily-defined list of p5 symbols that may be\n// misused by beginners at top-level code, outside of setup/draw. We'd like\n// to detect these errors and help the user by suggesting they move them\n// into setup/draw.\n//\n// For more details, see https://github.com/processing/p5.js/issues/1121.\nlet misusedAtTopLevelCode = null;\nconst FAQ_URL =\n  'https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup';\n\nconst defineMisusedAtTopLevelCode = () => {\n  const uniqueNamesFound = {};\n\n  const getSymbols = obj =>\n    Object.getOwnPropertyNames(obj)\n      .filter(name => {\n        if (name[0] === '_') {\n          return false;\n        }\n        if (name in uniqueNamesFound) {\n          return false;\n        }\n\n        uniqueNamesFound[name] = true;\n\n        return true;\n      })\n      .map(name => {\n        let type;\n\n        if (typeof obj[name] === 'function') {\n          type = 'function';\n        } else if (name === name.toUpperCase()) {\n          type = 'constant';\n        } else {\n          type = 'variable';\n        }\n\n        return { name, type };\n      });\n\n  misusedAtTopLevelCode = [].concat(\n    getSymbols(p5.prototype),\n    // At present, p5 only adds its constants to p5.prototype during\n    // construction, which may not have happened at the time a\n    // ReferenceError is thrown, so we'll manually add them to our list.\n    getSymbols(require('./constants'))\n  );\n\n  // This will ultimately ensure that we report the most specific error\n  // possible to the user, e.g. advising them about HALF_PI instead of PI\n  // when their code misuses the former.\n  misusedAtTopLevelCode.sort((a, b) => b.name.length - a.name.length);\n};\n\nconst helpForMisusedAtTopLevelCode = (e, log) => {\n  if (!log) {\n    log = console.log.bind(console);\n  }\n\n  if (!misusedAtTopLevelCode) {\n    defineMisusedAtTopLevelCode();\n  }\n\n  // If we find that we're logging lots of false positives, we can\n  // uncomment the following code to avoid displaying anything if the\n  // user's code isn't likely to be using p5's global mode. (Note that\n  // setup/draw are more likely to be defined due to JS function hoisting.)\n  //\n  //if (!('setup' in window || 'draw' in window)) {\n  //  return;\n  //}\n\n  misusedAtTopLevelCode.some(symbol => {\n    // Note that while just checking for the occurrence of the\n    // symbol name in the error message could result in false positives,\n    // a more rigorous test is difficult because different browsers\n    // log different messages, and the format of those messages may\n    // change over time.\n    //\n    // For example, if the user uses 'PI' in their code, it may result\n    // in any one of the following messages:\n    //\n    //   * 'PI' is undefined                           (Microsoft Edge)\n    //   * ReferenceError: PI is undefined             (Firefox)\n    //   * Uncaught ReferenceError: PI is not defined  (Chrome)\n\n    if (e.message && e.message.match(`\\\\W?${symbol.name}\\\\W`) !== null) {\n      const symbolName =\n        symbol.type === 'function' ? `${symbol.name}()` : symbol.name;\n      log(\n        translator('fes.misusedTopLevel', {\n          symbolName,\n          symbolType: symbol.type,\n          link: FAQ_URL\n        })\n      );\n      return true;\n    }\n  });\n};\n\n// Exposing this primarily for unit testing.\np5.prototype._helpForMisusedAtTopLevelCode = helpForMisusedAtTopLevelCode;\n\nif (document.readyState !== 'complete') {\n  window.addEventListener('error', helpForMisusedAtTopLevelCode, false);\n\n  // Our job is only to catch ReferenceErrors that are thrown when\n  // global (non-instance mode) p5 APIs are used at the top-level\n  // scope of a file, so we'll unbind our error listener now to make\n  // sure we don't log false positives later.\n  window.addEventListener('load', () => {\n    window.removeEventListener('error', helpForMisusedAtTopLevelCode, false);\n  });\n}\n\nexport default p5;\n",
          "filepath": "data/repos/processing/p5.js-1.0/src/core/error_helpers.js",
          "repo": "processing/p5.js",
          "version": "1.0",
          "chunk_index": 0,
          "chunk_id": "3b249d3a-24f3-4fed-ba15-1aa062f87898"
        }
      },
      {
        "id": "8d40f023-d158-418e-a855-3a20f5c6e733",
        "score": 0.016129032258064516,
        "payload": {
          "text": "# p5.js Friendly Error System (FES)\n\n## Overview\n\nThe Friendly Error System (FES) is a system designed to help new programmers with common user errors as they get started learning. It catches common beginning errors and provides clear language and links to help a user resolve the error. FES is only applied to functions that are ones a user might encounter when they are just starting. An exception is made for particular common gotchas such as trying to load files without running a server, or calling loadImage() with a URL, etc.\n\nThe goal is to create accessible error messages to supplement the often cryptic console errors. For example, Javascript has no support for type checking as default making errors in parameter entry was harder to detect for new Javascript developers.\n\nMessages generated by FES are written in natural language, linked to documentation, and assume a beginner level. The errors are triggered in multiple files through out p5.js, but most of the work and error writing happens in `src/core/error_helpers.js`.  \n\nBy default, FES is enabled for `p5.js`, whereas completely disabled in `p5.min.js`. It is possible to disable FES by setting `p5.disableFriendlyErrors = true;`.\n\nSo far FES is able to detect and print messages for four kinds of errors: \n\n1. `validateParameters()` checks a function\u2019s input parameters based on inline documentations\n\n2. `friendlyFileLoadError()` catches file loading errors. These two kinds of error checking have been integrated into an existing (selected set of) p5 functions, but developers can add them to more p5 functions, or their own libraries, by calling `p5._validateParameters()`\n\n3. `friendlyError()` can be called by any function to offer a helpful error message\n\n4. `helpForMisusedAtTopLevelCode()` is called on window load to check for use of p5.js functions outside of setup() or draw()\n\nPlease also see inline notes in [src/core/error_helper.js](https://github.com/processing/p5.js/blob/master/src/core/error_helpers.js) for more technical information.\n\n### `core/error_helpers/friendlyFileLoadError()`: \n* This function generates and displays friendly error messages if a file fails to load correctly. It also checks if the size of a file might be too large to load and produces a warning. \n* This can be called through : `p5._friendlyFileLoadError(ERROR_TYPE, FILE_PATH)`.\n* file loading error example:\n````javascript\n/// missing font file\nlet myFont;\nfunction preload() {\n  myFont = loadFont('assets/OpenSans-Regular.ttf');\n};\nfunction setup() {\n  fill('#ED225D');\n  textFont(myFont);\n  textSize(36);\n  text('p5*js', 10, 50);\n};\nfunction draw() {};\n/// FES will generate the following message in the console:\n/// > p5.js says: It looks like there was a problem loading your font. Try checking if the file path [assets/OpenSans-Regular.ttf] is correct, hosting the font online, or running a local server.[https://github.com/processing/p5.js/wiki/Local-server]\n````\n* Currently version contains templates for generating error messages for `image`, `XML`, `table`, `text`, `json` and `font` files.\n* Implemented to `image/loading_displaying/loadImage()`, `io/files/loadFont()`, `io/files/loadTable()`, `io/files/loadJSON()`, `io/files/loadStrings()`, `io/files/loadXML()`, `io/files/loadBytes()`.\n* Error while loading a file due to its large size is implemented to all loadX methods.\n\n### `core/error_helpers/validateParameters()`:\n* This function runs parameter validation by matching the input parameters with information from `docs/reference/data.json`, which is created from the function's inline documentation. It checks that a function call contains the correct number and the correct type of parameters. \n* missing parameter example:\n````javascript\narc(1, 1, 10.5, 10);\n/// FES will generate the following message in the console:\n/// > p5.js says: It looks like arc() received an empty variable in spot #4 (zero-based index). If not intentional, this is often a problem with scope: [https://p5js.org/examples/data-variable-scope.html]. [http://p5js.org/reference/#p5/arc]\n/// > p5.js says: It looks like arc() received an empty variable in spot #5 (zero-based index). If not intentional, this is often a problem with scope: [https://p5js.org/examples/data-variable-scope.html]. [http://p5js.org/reference/#p5/arc]\n\n````\n* wrong type example:\n````javascript\narc('1', 1, 10.5, 10, 0, Math.PI, 'pie');\n/// FES will generate the following message in the console:\n/// > p5.js says: arc() was expecting Number for parameter #0 (zero-based index), received string instead. [http://p5js.org/reference/#p5/arc]\n````\n* This can be called through: `p5._validateParameters(FUNCT_NAME, ARGUMENTS)` \nor, `p5.prototype._validateParameters(FUNCT_NAME, ARGUMENTS)` inside the function that requires parameter validation. It is recommended to use static version, `p5._validateParameters` for general purposes. `p5.prototype._validateParameters(FUNCT_NAME, ARGUMENTS)` mainly remained for debugging and unit testing purposes.\n* Implemented to functions in `color/creating_reading`, `core/2d_primitives`, `core/curves`, and `utilities/string_functions`. \n\n## Additional Features\n* The FES welcomes the developer to p5 and the friendly debugger. \n* The FES works in the IDE and the web editor. \n\n## Notes for Developers\n* When creating p5.js Objects: any p5.js objects that will be used for parameters will need to assign value for `name` parameter (name of the object) within the class declaration. e.g.: \n````javascript \np5.newObject = function(parameter) {\n   this.parameter = 'some parameter';\n   this.name = 'p5.newObject';\n};\n````\n* Inline documentation: allowed parameter types are `Boolean`, `Number`, `String`, and name of the object (see the above bullet point). Use `Array` for any types of Array parameters. If needed, explain what kind of the specific types of array parameter are allowed (e.g. `Number[]`, `String[]`) in the description section.\n* Currently supported class types (have their `name` parameter): `p5.Color`, `p5.Element`, `p5.Graphics`, `p5.Renderer`, `p5.Renderer2D`, `p5.Image`, `p5.Table`, `p5.TableRow`, `p5.XML`, `p5.Vector`, `p5.Font`, `p5.Geometry`, `p5.Matrix`, `p5.RendererGL`.\n\n## Disable the FES\n\nBy default, FES is enabled for p5.js, and disabled in p5.min.js to prevent FES functions slowing down the process. The error checking system can significantly slow down your code (up to ~10x in some cases). See the [friendly error performance test](https://github.com/processing/p5.js-website/blob/master/dist/assets/learn/performance/code/friendly-error-system/).\n\nYou can disable this with one line of code at the top of your sketch:\n\n```javascript\np5.disableFriendlyErrors = true; // disables FES\n\nfunction setup() {\n  // Do setup stuff\n}\n\nfunction draw() {\n  // Do drawing stuff\n}\n```\n\nNote that this will disable the parts of the FES that cause performance slowdown (like argument checking). Friendly errors that have no performance cost (like giving an descriptive error if a file load fails, or warning you if you try to override p5.js functions in the global space), will remain in place. \n\n## Known Limitations\n* The friendly error system slows the program down, so there is an option to turn it off via setting `p5.disableFriendlyErrors = true;`. In addition, the friendly error system is omitted by default in the minified (`p5.min.js`) version.\n* FES may still result in false negative cases. These are usually caused by the mismatch between designs of the  functions (e.g. drawing functions those are originally designed to be used interchangeably in both 2D and 3D settings) with actual usage cases. For example, drawing a 3D line with \n```javascript \nconst x3; // undefined\nline(0, 0, 100, 100, x3, Math.PI);\n```\n will escape FES, because there is an acceptable parameter pattern (`Number`, `Number`, `Number`, `Number`) in `line()`'s inline documentation for drawing in 2D setting. This also means the current version of FES doesn't check for the environmental variables such as `_renderer.isP3D`.\n * FES is only able to detect global variables overwritten when declared using `const` or `var`. If `let` is used, they go undetected. This is not currently solvable due to the way `let` instantiates variables.\n\n## In The Works\n* Identify more common error types and generalize with FES (e.g. `bezierVertex()`, `quadraticVertex()` - required object not initiated; checking Number parameters positive for `nf()` `nfc()` `nfp()` `nfs()`)\n\n## Thoughts for the Future\n* re-introduce color coding for the Web Editor.\n* More unit testings.\n* More intuitive and narrowed down output messages.\n* Having a Spanish translation available.\n* All the colors are checked for being color blind friendly.\n* More elaborate ascii is always welcome! \n* Global Error catching. It would be very helpful to catch the errors the browser is throwing to the console, so we can match them up with friendly comments. \n\n```javascript\n// this snippet wraps window.console methods with a new function to modify their functionality\n// it is not currently implemented, but could be to give nicer formatted error messages\nconst original = window.console;\nconst original_functions  = {\n  log: original.log,\n  warn:  original.warn,\n  error: original.error\n}\n\n[\"log\", \"warn\", \"error\"].forEach(function(func){\nwindow.console[func] = function(msg) {\n//do something with the msg caught by the wrapper function, then call the original function\noriginal_functions[func].apply(original, arguments)\n};\n});\n```\n",
          "filepath": "data/repos/processing/p5.js-1.0/contributor_docs/friendly_error_system.md",
          "repo": "processing/p5.js",
          "version": "1.0",
          "chunk_index": 0,
          "chunk_id": "8d40f023-d158-418e-a855-3a20f5c6e733"
        }
      },
      {
        "id": "e4849835-01e7-4ee6-a083-f5cca773e15e",
        "score": 0.015873015873015872,
        "payload": {
          "text": "# **Stabilizing and improving p5.xr during Alpha release**\n\n\n### **by Vedhant Agarwal ([@Vedhant](https://github.com/vedhant))**\n\nOver the course of the Google Summer of Code 2019 program for The Processing Foundation, I worked along with my mentor [Stalgia Grigg](https://github.com/stalgiag) on the p5.xr library in its pre-alpha stage. p5.xr is a library for p5.js that enables WebXR capabilities with p5 sketches. My work included stabilizing the library, adding unit tests and implementing raycasting feature along with sticky() function to allow rendering a reticle for gaze tracking.\n\n\n## **Contribution to p5 library**\n\nI started out my open source experience with p5.js during December 2018. To get myself familiarised with p5.js codebase I tried debugging few open issues like [#3571](https://github.com/processing/p5.js/issues/3571) and [#3346](https://github.com/processing/p5.js/issues/3346). My first successful [PR](https://github.com/processing/p5.js/pull/3405) which was merged was a documentation modification. As I was getting more comfortable with p5\u2019s codebase, I got my first [PR](https://github.com/processing/p5.js/pull/3634) merged which implemented a new feature. The feature was the image() function for WEBGL mode. Later, during the community bonding period, I implemented tint feature for WEBGL mode in this [PR](https://github.com/processing/p5.js/pull/3709). Working with this PR made me comfortable with the WEBGL architecture of p5.js.\n\n\n## **Contribution to p5.xr library**\n\n\n### **Stabilization and unit testing solution**\n\nI helped solve a bunch of open issues which were crucial to the working of p5.xr library. These issues helped me get absolutely comfortable with p5.xr codebase and get me started with the WEBXR api.\n\n\n\n*   [Replacing _update() with _updatexr()](https://github.com/stalgiag/p5.xr/pull/21) \\\nThe library was replacing p5.RendererGL.prototype._update to keep the model view matrix from being reset after ever frame . In order to make sure that p5\u2019s methods are not modified, I made an equivalent function _updatexr() for p5xr.\n*   [Pixelation](https://github.com/stalgiag/p5.xr/pull/24) \\\nThis was a critical bug where VR content was not rendering with proper scale on most of the phones. Solving this took a lot of debugging and a little bit of patience.\n*   [p5xr Viewer class](https://github.com/stalgiag/p5.xr/pull/28) \\\nThis class provides the feature of specifying the starting position of the viewer and helps in extending features in future. This class served as a template for new classes and functionality to be added in the future.\n\nI also added unit testing environment to p5.xr. I experimented with different unit testing environments and finally decided upon mocha with chai as assertion library and karma as the test runner. The tests run on headless Chrome browser. It was quite challenging because of unexpected errors which was popping out due to WEBXR api in both polyfill and non-polyfill versions. I also wrote a few unit tests to serve as a template for any future unit testing code.\n\n\n### **Raycasting**\n\nIn p5.js, there are no helper functions for raycasting so users must create their own interaction systems. So, I have added raycasting functionality to p5.xr in order to offer interactivity. For instance, gaze tracking becomes possible with the addition of raycasting. Coming up with an api at the beginning was challenging because of the fact that p5 does not keep track of objects. However, a simpler api was then chosen which was inspired from Processing-Android\u2019s api for XR.\n\nIn this feature, a ray is cast either from viewer\u2019s eye or user specified position which is then tested for intersection with either a box, sphere or a plane.\n\nThe following are the functions for raycasting :\n\n\n\n*   [intersectsBox()](https://github.com/stalgiag/p5.xr/pull/49) \\\nThis function checks whether or not the ray intersects a box (with specified dimensions). The box is imaginary and can be thought of as the box which would have been rendered if box() was called in place of intersectsBox().\n*   [intersectsSphere()](https://github.com/stalgiag/p5.xr/pull/48) \\\nThis function checks whether or not the ray intersects a sphere (with specified radius). The sphere is imaginary and can be thought of as the sphere which would have been rendered if sphere() was called in place of intersectsSphere().\n*   [getRayFromScreen()](https://github.com/stalgiag/p5.xr/pull/48) \\\nIf user does not specify any ray, this function is called to generate a ray emerging from the viewer's eye. The direction of the ray can still be specified by the user.\n*   [generateRay()](https://github.com/stalgiag/p5.xr/pull/48) \\\nUsers use this function to create a custom ray which is to be used for raycasting. It will create a ray under the transforms present at the time of this function call. This function allows a ray to be created with respect to a transform and can be used everywhere in the code where the transforms could vary.\n*   [intersectsPlane()](https://github.com/stalgiag/p5.xr/pull/50) \\\nChecks whether a ray intersects a plane and returns the point of intersection. The plane will be the same as calling plane() at the place of this function call but with infinite dimensions.\n\n![dragging](https://vedhant.github.io/gsoc_wpr/grid.gif)\n\n\n### **sticky() and noSticky()**\n\nThe need for this feature came up when I was wondering how to render a circle permanently in the center of the screen to act as a reticle for gaze tracking. The reticle had to be in front of the viewer at all times. So, I made this feature so that any code between [sticky()](https://github.com/stalgiag/p5.xr/pull/52) and noSticky() is rendered in front of the viewer at all times.\n\nThis feature can become immensely useful. Reticle for gaze tracking is one example. User has full control on how the reticle reacts when hovered/clicked upon an object, such as changes in color and size. This can also be very useful when the user wants to drag an object in the 3D scene.\n\n![gaze-tracking](https://vedhant.github.io/gsoc_wpr/reticle.gif)\n\n\n## **Summary**\n\nA full list of my commits to p5.xr can be found [here](https://www.google.com/url?q=https://github.com/stalgiag/p5.xr/commits?author%3Dvedhant&source=gmail&ust=1566566535693000&usg=AFQjCNG5U-KdJSpW0v_3ouqCLTnfYm9Vxw) and my merged pull requests can be found [here](https://github.com/stalgiag/p5.xr/pulls?utf8=%E2%9C%93&q=is%3Apr+is%3Aclosed+author%3Avedhant+is%3Amerged).\n\nI had an incredible learning experience with working on p5.xr library. The prominent reason being that as this library was in pre-alpha stage, I was able to contribute a big fraction of the codebase and learned how a library should be developed at early stages. I am immensely grateful to my mentor, [Stalgia Grigg](https://github.com/stalgiag), for providing all the valuable guidance and help throughout the summer as well as the p5 community for providing me such an opportunity. Thank you!\n",
          "filepath": "data/repos/processing/p5.js-1.0/contributor_docs/project_wrapups/vedhant_gsoc_2019.md",
          "repo": "processing/p5.js",
          "version": "1.0",
          "chunk_index": 0,
          "chunk_id": "e4849835-01e7-4ee6-a083-f5cca773e15e"
        }
      },
      {
        "id": "eb8ee0a9-a360-49e2-8d60-013ff76cfac1",
        "score": 0.015625,
        "payload": {
          "text": "# p5.js Core\n\nThis folder contains the core functionality of p5.js, including the init and main files, environment, constants, the friendly error system, and the graphics pipeline (with the exception of 3D/WebGL). [Here is a diagram](\nhttps://sketchboard.me/zBOkvPuQisyA#/) that outlines how the main graphics-related classes inherit from and extend one another. There is still more to be done to document this pipeline more clearly.\n\n![class diagram, interactive version viewable in above link](../../contributor_docs/images/p5-graphics-diagram.png)\n\n## [init.js](./init.js)\n\nThe `init.js` module initializes a new `p5` object in either global mode, instance mode, or unit testing mode. Broadly speaking, this module should only contain logic that needs to execute *before startup*, such as testing the environment in which the code is running in order to make decisions about how it should load.\n\n## [main.js](./main.js)\n\nThe sole job of the `main.js` module is to create and then export the constructor function for creating a new `p5` object. This constructor function is also called `p5`, and doesn't use the typical JavaScript convention of capitalizing constructor functions. The constructor handles a number of mechanical startup concerns, including assigning functions and properties from elsewhere in the source code to the newly created `p5` object as either public or private methods and properties.\n\nAside from the exported constructor function, the most important thing in this module is the set of functions that define the loop used by nearly every p5.js project: `preload()`, `setup()`, `draw()`, `remove()`, and so on. These functions are both available on the `p5` object as methods, and also assigned to variables in the global space for syntactic simplicity, because calling a function named `draw()` is more creatively expressive than namespacing the same functionality with an object as with `mySketch.draw()` or similar. The `friendlyBindGlobal()` function standardizes the process by which the necessary global variables can be created, notably including logging [friendly error messages](https://github.com/processing/p5.js/blob/master/contributor_docs/friendly_error_system.md) when conflicts are detected, but it is not exported from the module's internal scope.\n\n## [structure.js](./structure.js)\n\nThe `structure.js` module is best thought of as a collection of ways to make *modifications* to the typical *loop structure* exposed by the `draw()` function. The functions in this module allow you to add and extract individual renders from the loop, draw the loop one frame at a time, pause and resume the loop, and so on.\n\n## [constants.js](./constants.js)\n\nThe `constants.js` module provides various default values mostly related to math and web standards using clear semantic names to increase syntax clarity when they are used in other algorithms. These values are attached to the `p5` object prototype as properties by the constructor function so they can be more easily accessed by other parts of the p5.js library or by user code.\n\n## [error_helpers.js](./error_helpers.js)\nThis is the main file for the Friendly Error System (FES). The Friendly Error System (FES) is a system designed to help new programmers with common user errors as they get started learning. It catches common beginning errors and provides clear language and links to help a user resolve the error. FES is only applied to functions that are ones a user might encounter when they are just starting.  You can learn more about the FES in the comment section at the top of this file, or in the [contributors_docs/friendly_error_system.md](https://github.com/processing/p5.js/blob/master/contributor_docs/friendly_error_system.md) file.\n\n## [legacy.js](./legacy.js)\nThese are functions that are part of the Processing API but are not part of the p5.js API. In some cases they have a new name, in others, they are removed completely. Not all unsupported Processing functions are listed here but we try to include ones that a user coming from Processing might likely call.\n\n# Browser\n\n*utilizing and abstracting web technologies*\n\n## [environment.js](./environment.js)\n\nThe `environment.js` module detects and semantically reassigns various features of the code execution environment that are arguably beyond the control of the p5.js library, such as device properties, window dimensions, and the URL bar. In general, this module should only contain code that exposes mechanics of the web that usually would not be considered part of the p5.js \"sketch.\" This module is conceptually similar to `init.js` in that it tests the environment in which the p5.js code is executing, but one major difference is that broadly speaking the code in `environment.js` does *not* need to run solely at initialization as with `init.js`, and can be invoked whenever necessary.\n\n## [shim.js](./shim.js)\n\nSometimes p5.js needs to use new browser APIs or other features which haven't yet been completely standardized; for example, a feature that still uses [vendor prefixes](https://developer.mozilla.org/en-US/docs/Glossary/Vendor_Prefix). In any such cases where it is necessary to handle multiple versions of the same functionality, the `shim.js` module juggles the available variants and assigns the results of that evaluation to a standardized property on the `p5` object. The rest of the p5.js library can then use that functionality without needing to constantly reconsider the specific browser implementation details.\n\n## [p5.Element.js](./p5.Element.js)\n\nAlthough p5.js is a general toolkit for all sorts of interactive art projects, in practice many p5.js sketches focus on rendering two dimensional graphics into a `<canvas>` element. The `p5.Element.js` module is a wrapper around the browser's DOM API which is focused on the `<canvas>` element and also handles user input events like clicks and mouse movements. Conceptually, p5.js considers the sketch to be *the entire web page*. It's useful to separate `<canvas>` from the more general DOM because so many p5.js projects focus on `<canvas>` and this enables smaller [custom builds](https://github.com/processing/p5.js/blob/master/contributor_docs/custom_p5_build.md). \n\n# Rendering\n\n*project output options*\n\n## [rendering.js](./rendering.js)\n\nThe `rendering.js` module presents the user-facing API for p5's various graphical output options. In the overwhelming majority of cases, a p5.js sketch will be output to a `<canvas>` tag on the current web page, but it is also possible to do \"headless\" output using `nocanvas` mode or \"render\" to a graphics buffer that is computed but never actually appears on the screen.\n\n## [p5.Renderer.js](./p5.Renderer.js)\n\nThe `p5.Renderer.js` module provides a common base definition for a p5 project output mode that can then be extended as with [p5.Renderer2D](./p5.Renderer2D.js). For three dimensional output, see the [webgl module](../webgl/). Each `p5` object instance typically has a `Renderer` attached as a property.\n\n## [p5.Renderer2D.js](./p5.Renderer2D.js)\n\nThe `p5.Renderer2D.js` module extends the generic `p5.Renderer` definition and optimizes it for two dimensional images.\n\n## [p5.Graphics.js](./p5.Graphics.js)\n\nThe `p5.Graphics` module is a lightweight wrapper around renderers which is used to create output graphics in memory without ever actually drawing them on the screen.\n\n# Drawing\n\n*lines, shapes, and visual styles*\n\n## [transform.js](./transform.js)\n\nThe `transform.js` module implements logic for scaling, rotation, and matrix transformations.\n\n\n## [shape/attributes.js](./shape/attributes.js)\n\nAttributes are an important part of the general API for the web, but the `attributes.js` module defines and handles miscellaneous *graphical* attributes that can be consider a set of active parameters for the current drawing style. Think of this as a grab bag of all the remaining drawing parameters that were not moved out into separate dedicated modules as with [color](../color/) and [typography](../typography/).\n\n## [shape/2d_primitives.js](./shape/2d_primitives.js)\n\nThe `2d_primitives.js` module provides helper functions for drawing common shapes. The resulting drawing commands are sent to the currently active [renderer](./rendering.js).\n\n## [shape/vertex.js](./shape/vertex.js)\n\nThe `vertex.js` module handles points and coordinates for drawing curves and shapes.\n\n## [shape/curves.js](./shape/curves.js)\n\nThe `curves.js` module draws curves based on a set of vertices.\n",
          "filepath": "data/repos/processing/p5.js-1.0/src/core/README.md",
          "repo": "processing/p5.js",
          "version": "1.0",
          "chunk_index": 0,
          "chunk_id": "eb8ee0a9-a360-49e2-8d60-013ff76cfac1"
        }
      },
      {
        "id": "1ae639e3-94d8-4e4d-a682-1ed8d06ecb2a",
        "score": 0.015384615384615385,
        "payload": {
          "text": "\n\n# \ud83c\udf38 Welcome! \ud83c\udf3a\n\nThanks for your interest in contributing to p5.js! Our community values contributions of all forms and seeks to expand the meaning of the word \"contributor\" as far and wide as possible. It includes documentation, teaching, writing code, making art, writing, design, activism, organizing, curating, or anything else you might imagine. [Our community page](https://p5js.org/community/#contribute) gives an overview of some different ways to get involved and contribute. For technical contributions, read on to get started.\n\nThis project follows the [all-contributors](https://github.com/kentcdodds/all-contributors) specification. Add yourself to the [readme](https://github.com/processing/p5.js/blob/master/README.md#contributors) by following the [instructions here](https://github.com/processing/p5.js/issues/2309)! Or comment in the [GitHub issues](https://github.com/processing/p5.js/issues) with your contribution and we'll add you.\n\n\n\n# Where our code lives\n\nThe overarching p5.js project includes some repositories other than this one:\n\n- [p5.js](https://github.com/processing/p5.js): This repository contains the source code for the p5.js library. The [user-facing p5.js reference manual](https://p5js.org/reference/) is also generated from the [JSDoc](http://usejsdoc.org/) comments included in this source code. It is maintained by [Lauren Lee McCarthy](https://github.com/lmccart).\n- [p5.js-website](https://github.com/processing/p5.js-website) This repository contains most of the code for the [p5.js website](http://p5js.org), with the exception of the reference manual. It is maintained by [Lauren Lee McCarthy](https://github.com/lmccart).\n- [p5.js-sound](https://github.com/processing/p5.js-sound) This repository contains the p5.sound.js library. It is maintained by [Jason Sigal](https://github.com/therewasaguy).\n- [p5.js-web-editor](https://github.com/processing/p5.js-web-editor) This repository contains the source code for the [p5.js web editor](https://editor.p5js.org). It is maintained by [Cassie Tarakajian](https://github.com/catarak). Note that the older [p5.js editor](https://github.com/processing/p5.js-editor) is now deprecated.\n- [p5.accessibility](https://github.com/processing/p5.accessibility) A library that makes the p5 canvas more accessible to people who are blind and visually impaired.\n\n\n\n# Repository File Structure\n\nThere are a lot of files here! Here's a brief overview. It can be confusing, but you don't need to understand every file in the repository to get started. We recommend beginning in one area (for example, fixing some inline documentation), and working your way outwards to exploring more. Luisa Pereira's [Looking Inside p5.js](http://www.luisapereira.net/teaching/looking-inside-p5/) also gives a video tour of the tools and files used in the p5.js workflow.\n\n- `contributor_docs/` contains  documents that explain practices and principles for contributors\n- `docs/` does not actually contain docs! Rather, it contains the code used to *generate* the [online reference manual](https://p5js.org/reference/).\n- `lib/` contains an empty example and the p5.sound add-on, which is periodically updated via pull request from the [p5.js-sound repository](https://github.com/processing/p5.js-sound). This is also where the built p5.js library gets placed after being compiled to a single file using [Grunt](https://gruntjs.com/). It does not need to be checked into the github repository when you make a pull request.\n- `src/` contains all the source code for the library, which is topically organized into separated modules. This is what you'll work on if you are changing p5.js. Most folders have their own readme.md files inside to help you find your way around.\n- `tasks/` contains scripts which perform automated tasks related to the build, deployment, and release of new versions of p5.js.\n- `tests/` contains unit tests which ensure the library continues to function correctly as changes are made.\n- `utils/` might contain additional files useful for the repository, but generally you can ignore this directory.\n\n\n\n# Documentation\n\nWe realize the documentation is the most important part of this project. Poor documentation is one of the main barriers to access for new users and contributors, making the project less inclusive. The [contributing_documentation.md](./contributing_documentation.md) page gives an in-depth overview of getting started with documentation. The documentation for p5.js can be found in a few main places:\n\n- The [p5js.org/reference](https://p5js.org/reference/) is generated from [inline documentation](./inline_documentation.md) in the source code itself. This includes the text descriptions and parameters as well as the accompanying code snippet examples. We place all this inline to keep the code and documentation closely linked, and to reinforce the idea that contributing to documentation is as important (if not more) than contributing to the code. When the library gets built, it checks the inline documentation and examples to ensure they match up with the way the code behaves. To contribute, you can start by looking at the [inline_documentation.md](./inline_documentation.md) page.\n- The [p5js.org/examples](http://p5js.org/examples) page contains longer examples that can be useful for learning p5.js. To contribute, you can start by looking at the [adding_examples.md](https://github.com/processing/p5.js-website/blob/master/contributor_docs/Adding_examples.md) page.\n- The [p5js.org/tutorials](https://p5js.org/tutorials) page contains tutorials to help you learn concepts of p5.js and programming. To contribute, you can start by looking at the [https://p5js.org/learn/tutorial-guide.html](p5js.org tutorial on tutorials)!\n- You'll notice the p5.js website currently supports a few different languages. This is called internationalization (or i18n for short). You can read more about this documentation on the [i18n_contribution](https://github.com/processing/p5.js-website/blob/master/contributor_docs/i18n_contribution.md) page.\n\n\n\n# GitHub Issue Flow\n\n* Known bugs and intended new features are tracked using [GitHub issues](https://github.com/processing/p5.js/issues). Issue [labels](./issue_labels.md) are used to sort issues into categories, such as those which are [suitable for beginners](https://github.com/processing/p5.js/labels/level%3Abeginner).\n\n* If you'd like to start working on an existing issue, comment on the issue that you plan to work on it so other contributors know it's being handled and can offer help.\n\n* Once you have completed your work on this issue, [submit a pull request (PR)](./preparing_a_pull_request.md) against the p5.js master branch. In the description field of the PR, include \"resolves #XXXX\" tagging the issue you are fixing. If the PR addresses the issue but doesn't completely resolve it (ie the issue should remain open after your PR is merged), write \"addresses #XXXX\".\n\n* If you discover a bug or have an idea for a new feature you'd like to add, begin by submitting an issue. Please do not simply submit a pull request containing the fix or new feature without making an issue first, we will probably not be able to accept it. Once you have gotten some feedback on the issue and a go ahead to address it, you can follow the process above to contribute the fix or feature.\n\n* You can triage issues which may include reproducing bug reports or asking for vital information, such as version numbers or reproduction instructions. If you would like to start triaging issues, one easy way to get started is to [subscribe to p5.js on CodeTriage](https://www.codetriage.com/processing/p5.js). [![Open Source Helpers](https://www.codetriage.com/processing/p5.js/badges/users.svg)](https://www.codetriage.com/processing/p5.js)\n\n* The [organization.md](https://github.com/processing/p5.js/blob/master/contributor_docs/organization.md) file gives a high-level overview of how issues can be organized and the decision making processes around them. Please feel welcome to get involved with this if you are interested.\n\n  \n\n# Development Process\n\nWe know the development process can be a little tricky at first. You're not alone, it's confusing for everyone at the beginning. The steps below walk you through the setup process. If you have questions, you can ask on the [forum](https://discourse.processing.org/c/p5js) or post an [issue](https://github.com/processing/p5.js/issues) that describes the place you are stuck, and we'll do our best to help.\n\nThis process is also covered [in a video by The Coding Train.](https://youtu.be/Rr3vLyP1Ods) :train::rainbow:\n\n\n\n1. Install [node.js](http://nodejs.org/), which also automatically installs the [npm](https://www.npmjs.org) package manager.\n\n2. [Fork](https://help.github.com/articles/fork-a-repo) the [p5.js repository](https://github.com/processing/p5.js) into your own GitHub account.\n\n3. [Clone](https://help.github.com/articles/cloning-a-repository/) your new fork of the repository from GitHub onto your local computer.\n\n   ```\n   $ git clone https://github.com/YOUR_USERNAME/p5.js.git\n   ```\n\n4. Navigate into the project folder and install all its necessary dependencies with npm.\n\n   ```\n   $ cd p5.js\n   $ npm ci\n   ```\n\n5. [Grunt](https://gruntjs.com/) should now be installed, and you can use it to build the library from the source code.\n\n   ```\n   $ npm run grunt\n   ```\n\n   If you're continuously changing files in the library, you may want to run `npm run dev` to automatically rebuild the library for you whenever any of its source files change without you having to first type the command manually.\n\n6. Make some changes locally to the codebase and [commit](https://help.github.com/articles/github-glossary/#commit) them with Git.\n\n   ```\n   $ git add -u\n   $ git commit -m \"YOUR COMMIT MESSAGE\"\n   ```\n\n7. Run `npm run grunt` again to make sure there are no syntax errors, test failures, or other problems.\n\n8. [Push](https://help.github.com/articles/github-glossary/#push) your new changes to your fork on GitHub.\n\n   ```\n   $ git push\n   ```\n\n9. Once everything is ready, submit your changes as a [pull request](https://help.github.com/articles/creating-a-pull-request).\n\n\n\n# Gotchas\n\nThe developer tooling included with the p5.js codebase is intentionally very strict about some things. This is a good thing! It makes everything consistent, and it will encourage you to be disciplined. This means you may try to change something only to have your commit rejected by the project, but don't get discouraged; even seasoned p5.js developers get caught by this stuff all the time. Typically the problem will be in one of two areas, code syntax or unit tests.\n\n## Code Syntax\n\np5.js requires clean and stylistically consistent code syntax, which it enforces using tools called [Prettier](https://prettier.io/) and [ESlint](https://eslint.org/). Certain style rules are checked before you commit, but you can also install an [ESlint plugin](https://eslint.org/docs/user-guide/integrations#editors) for your code editor to highlight errors as soon as you type them. In general, we err on the side of flexibility when it comes to code style, in order to lower the barriers to participation and contribution.\n\nTo detect errors, run the following command in your terminal (do not type the `$` prompt):\n\n```\n$ npm run lint\n```\n\nSome syntax errors can be automatically fixed:\n\n```\n$ npm run lint:fix\n```\n\nSticking with the established project style is usually preferable, but [occasionally](https://github.com/processing/p5.js/search?utf8=%E2%9C%93&q=prettier-ignore&type=) using an alternate syntax might make your code easier to understand. For these cases, Prettier [offers an escape hatch](https://prettier.io/docs/en/ignore.html), the `// prettier-ignore` comment, which you can use to make granular exceptions. Try to avoid using this if you can, because there are good reasons for most of the style preferences enforced by the linting.\n\nHere is a quick summary of code style rules. Please note that this list may be incomplete, and it's best to refer to the [.prettierrc](https://github.com/processing/p5.js/blob/master/.prettierrc) and [.eslintrc](https://github.com/processing/p5.js/blob/master/.eslintrc) files for the full list.\n* ES6 code syntax is used\n\n* Use single quotes (rather than double quotes)\n\n* Indentation is done with two spaces\n\n* All variables defined in the code should be used at least once, or removed completely\n\n* Do not compare x == true or x == false. Use (x) or (!x) instead. x == true, is certainly different from if (x)! Compare objects to null, numbers to 0 or strings to \"\", if there is chance for confusion.\n\n* Comment your code whenever there is ambiguity or complexity in the function you are writing\n\n* See the [Mozilla JS practices](https://developer.mozilla.org/en-US/docs/Mozilla/Developer_guide/Coding_Style#JavaScript_practices) as a useful guide for more styling tips\n\n  \n\n## Unit Tests\n\nUnit tests are small pieces of code which are created as complements to the primary logic and perform validation. The [unit_testing.md](./unit_testing.md) page gives more information about working with unit tests. If you are developing a major new feature for p5.js, you should probably include tests. Do not submit pull requests in which the tests do not pass, because that means something is broken.\n\nIn order to run unit tests, you'll need to make sure you have installed the project's dependencies.\n\n```\n$ npm ci\n```\n\nThis will install *all* the dependencies for p5.js; briefly, the most important dependencies specific to unit testing include:\n\n- [Mocha](https://mochajs.org/), a powerful testing framework that executes individual test files which are specific to p5.js\n- [mocha-chrome](https://github.com/shellscape/mocha-chrome), a mocha plugin that runs mocha tests using headless Google Chrome\n\nOnce the dependencies are installed, use Grunt to run the unit tests.\n\n```\n$ grunt\n```\n\nSometimes it is useful to run the tests in the browser instead of on the command line. To do this, first start the [connect](https://github.com/gruntjs/grunt-contrib-connect) server:\n\n```\n$ npm run dev\n```\n\nWith the server running, you should be able to open `test/test.html` in a browser.\n\nA complete guide to unit testing is beyond the scope of the p5.js documentation, but the short version is that any major changes or new features implemented in the source code contained in the `src/` directory should also be accompanied by test files in the `test/` directory that can be executed by Mocha to verify consistent behavior in all future versions of the library. When writing unit tests, use the [Chai.js reference](http://www.chaijs.com/api/assert/) as a guide for phrasing your assertion messages so that any errors caught by your tests in the future will be consistent and consequently easier for other developers to understand.\n\n\n\n# Miscellaneous\n\n- There are other files in the [contributor_docs/](https://github.com/processing/p5.js/tree/master/contributor_docs) folder that you might explore. They pertain to contributing to specific areas of this project, both technical and non-technical.\n- [Looking Inside p5.js](http://www.luisapereira.net/teaching/looking-inside-p5/) is a video tour of the tools and files used in the p5.js development workflow.\n-  [This video from The Coding Train](https://youtu.be/Rr3vLyP1Ods) :train::rainbow: gives an overview of getting started with technical contribution to p5.js.\n- The p5.js [Docker image](https://github.com/toolness/p5.js-docker) can be mounted in [Docker](https://www.docker.com/) and used to develop p5.js without requiring manual installation of requirements like [Node](https://nodejs.org/) or otherwise affecting the host operating system in any way, aside from the installation of Docker.\n- The build process for the p5.js library generates a [json data file](https://p5js.org/reference/data.json) which contains the public API of p5.js and can be used in automated tooling, such as for autocompleting p5.js methods in an editor. This file is hosted on the p5.js website, but it is not included as part of the repository.\n- p5.js has recently migrated to [ES6](https://en.wikipedia.org/wiki/ECMAScript#6th_Edition_-_ECMAScript_2015). To see how this transition could effect your contribution please visit [ES6 adoption](./es6-adoption.md).\n",
          "filepath": "data/repos/processing/p5.js-1.0/contributor_docs/README.md",
          "repo": "processing/p5.js",
          "version": "1.0",
          "chunk_index": 0,
          "chunk_id": "1ae639e3-94d8-4e4d-a682-1ed8d06ecb2a"
        }
      }
    ]
  },
  {
    "instance_id": "diegomura__react-pdf-471",
    "model_patch": "diff --git a/index.js b/index.js\n--- a/index.js\n+++ b/index.js\n@@ -1,27 +1,35 @@\n import React, { Component } from 'react';\n import { Page, Text, Image, View, Document, StyleSheet } from '@react-pdf/renderer';\n import { PDFViewer, PDFDownloadLink } from '@react-pdf/renderer';\n-import styled from '@react-pdf/styled-components';\n+import styled from '@react-pdf/styled-components/native';\n \n const DefaultPage = styled.Page`\n   flex-direction: row;\n   flex-wrap: wrap;\n `\n const ExampleText1 = styled.Text`\n   border-left-width: 1pt;\n   border-right-width: 1pt;\n   border-style: solid;\n   border-color: #000;\n   border-collapse: collapse;\n   min-height: 14pt;\n   color: #f00;\n `\n const ExampleText2 = styled(ExampleText1)`\n   border-top-width: 1pt;\n   border-bottom-width: 1pt;\n   color: #0f0;\n `\n const ExampleText3 = styled(ExampleText2)`\n   border-color: #888;\n   color: #00f;\n `\n class ExamplePrint extends Component {\n   render() {\n     return (\n       <Document title=\"Example\" onRender={blob=>console.log( \"Blob\", blob )}>\n         <DefaultPage size=\"A4\">\n           <ExampleText1>Text1</ExampleText1>\n           <ExampleText2>Text2</ExampleText2>\n           <ExampleText3>Text3</ExampleText3>\n         </DefaultPage>\n       </Document>\n     )\n   }\n }\n \n class PrintBase extends Component {\n   render() {\n     const document = <ExamplePrint/>\n     return(\n       <div>\n         <PDFViewer width=\"100%\" height=\"1000\">\n           {document}\n         </PDFViewer>\n       </div>\n     )\n   }\n }\n \n export default PrintBase",
    "model_name_or_path": "text_bm25",
    "metrics": {
      "issue_embedding_time_ms": 0.0,
      "retrieval_time_ms_bm25": 21.86,
      "retrieval_time_ms": 21.86,
      "total_retrieval_time_ms": 21.86,
      "generation_time_ms": 4452.99,
      "total_io_time_ms": 4474.85,
      "input_total_token_limit": null,
      "issue_text_tokens": 686,
      "vlm_tokens": 0,
      "retrieved_tokens": 7314,
      "prompt_template_tokens": 507,
      "total_input_prompt_tokens": 8507,
      "output_generated_tokens": 414,
      "total_io_tokens": 8921,
      "input_prompt_text": "[{\"type\": \"text\", \"text\": \"You will be provided with a partial code base and an issue statement explaining a problem to resolve.\\n<issue>\\nProblems with Extending Styled Components\\nI am trying to use the styled components api as described at https://react-pdf.org/styling#styled-components and further extending styles according to https://www.styled-components.com/docs/basics#extending-styles. However I don't see the overridden styles being applied.\\r\\n\\r\\nThis is a simple example that explains things a little better.\\r\\n\\r\\n    import React, { Component } from 'react';\\r\\n    import { Page, Text, Image, View, Document, StyleSheet } from '@react-pdf/renderer';\\r\\n    import { PDFViewer, PDFDownloadLink } from '@react-pdf/renderer';\\r\\n    import styled from '@react-pdf/styled-components';\\r\\n\\r\\n    const DefaultPage = styled.Page`\\r\\n      flex-direction: row;\\r\\n      flex-wrap: wrap;\\r\\n    `\\r\\n    const ExampleText1 = styled.Text`\\r\\n      border-left-width: 1pt;\\r\\n      border-right-width: 1pt;\\r\\n      border-style: solid;\\r\\n      border-color: #000;\\r\\n      border-collapse: collapse;\\r\\n      min-height: 14pt;\\r\\n      color: #f00;\\r\\n    `\\r\\n    const ExampleText2 = styled(ExampleText1)`\\r\\n      border-top-width: 1pt;\\r\\n      border-bottom-width: 1pt;\\r\\n      color: #0f0;\\r\\n    `\\r\\n    const ExampleText3 = styled(ExampleText2)`\\r\\n      border-color: #888;\\r\\n      color: #00f;\\r\\n    `\\r\\n    class ExamplePrint extends Component {\\r\\n      render() {\\r\\n        return (\\r\\n          <Document title=\\\"Example\\\" onRender={blob=>console.log( \\\"Blob\\\", blob )}>\\r\\n            <DefaultPage size=\\\"A4\\\">\\r\\n              <ExampleText1>Text1</ExampleText1>\\r\\n              <ExampleText2>Text2</ExampleText2>\\r\\n              <ExampleText3>Text3</ExampleText3>\\r\\n            </DefaultPage>\\r\\n          </Document>\\r\\n        )\\r\\n      }\\r\\n    }\\r\\n\\r\\n    class PrintBase extends Component {\\r\\n      render() {\\r\\n        const document = <ExamplePrint/>\\r\\n        return(\\r\\n          <div>\\r\\n            <PDFViewer width=\\\"100%\\\" height=\\\"1000\\\">\\r\\n              {document}\\r\\n            </PDFViewer>\\r\\n          </div>\\r\\n        )\\r\\n      }\\r\\n    }\\r\\n\\r\\n    export default PrintBase```\\r\\n\\r\\nI would expect the first text to be red and have borders left and right, the second one to be green with borders all round and the last one to be blue and have lighter borders. However they all come out exactly the same.\\r\\n\\r\\n[Rendered PDF](https://user-images.githubusercontent.com/383834/51480329-aefbb500-1d88-11e9-8b58-3dd8ee9462b6.png)\\r\\n\\r\\nLooking at the layout data in the blob I can see all the various style elements in there but I don't know if they are in the correct format since the structure is an object with a mixture of css property keys and numeric indices mixed in with undefined values.\\r\\n\\r\\n[Chrome Console](https://user-images.githubusercontent.com/383834/51480494-187bc380-1d89-11e9-8955-2f2c8f03f554.png)\\r\\n\\r\\nThis is with react-pdf/renderer and styled components v1.2.0. Unfortunately I can't find any sandbox that seems to working with react-pdf when using styled components.\\n\\n</issue>\\n\\n<code>\\n[start of index.d.ts]\\n/// <reference types=\\\"node\\\" />\\n\\ndeclare module '@react-pdf/renderer' {\\n  import * as React from 'react';\\n\\n  namespace ReactPDF {\\n    interface Style {\\n      [property: string]: any;\\n    }\\n    interface Styles {\\n      [key: string]: Style;\\n    }\\n    type Orientation = 'portrait' | 'landscape';\\n\\n    interface DocumentProps {\\n      title?: string;\\n      author?: string;\\n      subject?: string;\\n      keywords?: string;\\n      creator?: string;\\n      producer?: string;\\n      onRender?: () => any;\\n    }\\n\\n    /**\\n     * This component represent the PDF document itself. It must be the root\\n     * of your tree element structure, and under no circumstances should it be\\n     * used as children of another react-pdf component. In addition, it should\\n     * only have childs of type <Page />.\\n     */\\n    class Document extends React.Component<DocumentProps> {}\\n\\n    interface NodeProps {\\n      style?: Style | Style[];\\n      /**\\n       * Render component in all wrapped pages.\\n       * @see https://react-pdf.org/advanced#fixed-components\\n       */\\n      fixed?: boolean;\\n      /**\\n       * Force the wrapping algorithm to start a new page when rendering the\\n       * element.\\n       * @see https://react-pdf.org/advanced#page-breaks\\n       */\\n      break?: boolean;\\n    }\\n\\n    interface PageProps extends NodeProps {\\n      /**\\n       * Enable page wrapping for this page.\\n       * @see https://react-pdf.org/components#page-wrapping\\n       */\\n      wrap?: boolean;\\n      debug?: boolean;\\n      size?: string | [number, number] | {width: number; height: number};\\n      orientation?: Orientation;\\n      ruler?: boolean;\\n      rulerSteps?: number;\\n      verticalRuler?: boolean;\\n      verticalRulerSteps?: number;\\n      horizontalRuler?: boolean;\\n      horizontalRulerSteps?: number;\\n    }\\n\\n    /**\\n     * Represents single page inside the PDF document, or a subset of them if\\n     * using the wrapping feature. A <Document /> can contain as many pages as\\n     * you want, but ensure not rendering a page inside any component besides\\n     * Document.\\n     */\\n    class Page extends React.Component<PageProps> {}\\n\\n    interface ViewProps extends NodeProps {\\n      /**\\n       * Enable/disable page wrapping for element.\\n       * @see https://react-pdf.org/components#page-wrapping\\n       */\\n      wrap?: boolean;\\n      debug?: boolean;\\n      render?: (props: {pageNumber: number}) => React.ReactNode;\\n      children?: React.ReactNode;\\n    }\\n\\n    /**\\n     * The most fundamental component for building a UI and is designed to be\\n     * nested inside other views and can have 0 to many children.\\n     */\\n    class View extends React.Component<ViewProps> {}\\n\\n    interface ImageProps extends NodeProps {\\n      debug?: boolean;\\n      src: string | {data: Buffer; format: 'png' | 'jpg'};\\n      cache?: boolean;\\n    }\\n\\n    /**\\n     * A React component for displaying network or local (Node only) JPG or\\n     * PNG images, as well as base64 encoded image strings.\\n     */\\n    class Image extends React.Component<ImageProps> {}\\n\\n    interface TextProps extends NodeProps {\\n      /**\\n       * Enable/disable page wrapping for element.\\n       * @see https://react-pdf.org/components#page-wrapping\\n       */\\n      wrap?: boolean;\\n      debug?: boolean;\\n      render?: (\\n        props: {pageNumber: number; totalPages: number},\\n      ) => React.ReactNode;\\n      children?: React.ReactNode;\\n      /**\\n       * How much hyphenated breaks should be avoided.\\n       */\\n      hyphenationCallback?: number;\\n    }\\n\\n    /**\\n     * A React component for displaying text. Text supports nesting of other\\n     * Text or Link components to create inline styling.\\n     */\\n    class Text extends React.Component<TextProps> {}\\n\\n    interface LinkProps extends NodeProps {\\n      /**\\n       * Enable/disable page wrapping for element.\\n       * @see https://react-pdf.org/components#page-wrapping\\n       */\\n      wrap?: boolean;\\n      debug?: boolean;\\n      src: string;\\n      children?: React.ReactNode;\\n    }\\n\\n    /**\\n     * A React component for displaying an hyperlink. Link\\u2019s can be nested\\n     * inside a Text component, or being inside any other valid primitive.\\n     */\\n    class Link extends React.Component<LinkProps> {}\\n\\n    interface NoteProps extends NodeProps {\\n      children: string;\\n    }\\n\\n    class Note extends React.Component<NoteProps> {}\\n\\n    interface BlobProviderParams {\\n      blob: Blob | null;\\n      url: string | null;\\n      loading: boolean;\\n      error: Error | null;\\n    }\\n    interface BlobProviderProps {\\n      document: React.ReactElement<DocumentProps>;\\n      children: (params: BlobProviderParams) => React.ReactNode;\\n    }\\n\\n    /**\\n     * Easy and declarative way of getting document's blob data without\\n     * showing it on screen.\\n     * @see https://react-pdf.org/advanced#on-the-fly-rendering\\n     * @platform web\\n     */\\n    class BlobProvider extends React.Component<BlobProviderProps> {}\\n\\n    interface PDFViewerProps {\\n      width?: number;\\n      height?: number;\\n      style?: Style | Style[];\\n      className?: string;\\n      children?: React.ReactElement<DocumentProps>;\\n    }\\n\\n    /**\\n     * Iframe PDF viewer for client-side generated documents.\\n     * @platform web\\n     */\\n    class PDFViewer extends React.Component<PDFViewerProps> {}\\n\\n    interface PDFDownloadLinkProps {\\n      document: React.ReactElement<DocumentProps>;\\n      fileName?: string;\\n      style?: Style | Style[];\\n      className?: string;\\n      children?:\\n        | React.ReactNode\\n        | ((params: BlobProviderParams) => React.ReactNode);\\n    }\\n\\n    /**\\n     * Anchor tag to enable generate and download PDF documents on the fly.\\n     * @see https://react-pdf.org/advanced#on-the-fly-rendering\\n     * @platform web\\n     */\\n    class PDFDownloadLink extends React.Component<PDFDownloadLinkProps> {}\\n\\n    interface EmojiSource {\\n      url: string;\\n      format: string;\\n    }\\n    interface RegisteredFont {\\n      src: string;\\n      loaded: boolean;\\n      loading: boolean;\\n      data: any;\\n      [key: string]: any;\\n    }\\n    type HyphenationCallback = (\\n      words: string[],\\n      glyphString: {[key: string]: any},\\n    ) => string[];\\n\\n    const Font: {\\n      register: (\\n        src: string,\\n        options: {family: string; [key: string]: any},\\n      ) => void;\\n      getEmojiSource: () => EmojiSource;\\n      getRegisteredFonts: () => string[];\\n      registerEmojiSource: (emojiSource: EmojiSource) => void;\\n      registerHyphenationCallback: (\\n        hyphenationCallback: HyphenationCallback,\\n      ) => void;\\n      getHyphenationCallback: () => HyphenationCallback;\\n      getFont: (fontFamily: string) => RegisteredFont | undefined;\\n      load: (\\n        fontFamily: string,\\n        document: React.ReactElement<DocumentProps>,\\n      ) => Promise<void>;\\n      clear: () => void;\\n      reset: () => void;\\n    };\\n\\n    const StyleSheet: {\\n      hairlineWidth: number;\\n      create: <TStyles>(styles: TStyles) => TStyles;\\n      resolve: (\\n        style: Style,\\n        container: {\\n          width: number;\\n          height: number;\\n          orientation: Orientation;\\n        },\\n      ) => Style;\\n      flatten: (...style: (Style[] | Style | undefined)[]) => Style\\n      absoluteFillObject: {\\n        position: 'absolute';\\n        left: 0;\\n        right: 0;\\n        top: 0;\\n        bottom: 0;\\n      };\\n    };\\n\\n    const version: any;\\n\\n    const PDFRenderer: any;\\n\\n    const createInstance: (\\n      element: {\\n        type: string;\\n        props: {[key: string]: any};\\n      },\\n      root?: any,\\n    ) => any;\\n\\n    const pdf: (\\n      document: React.ReactElement<DocumentProps>,\\n    ) => {\\n      isDirty: () => boolean;\\n      updateContainer: (document: React.ReactElement<any>) => void;\\n      toBuffer: () => NodeJS.ReadableStream;\\n      toBlob: () => Blob;\\n      toString: () => string;\\n    };\\n\\n    const renderToStream: (\\n      document: React.ReactElement<DocumentProps>,\\n    ) => NodeJS.ReadableStream;\\n\\n    const renderToFile: (\\n      document: React.ReactElement<DocumentProps>,\\n      filePath: string,\\n      callback?: (output: NodeJS.ReadableStream, filePath: string) => any,\\n    ) => Promise<NodeJS.ReadableStream>;\\n\\n    const render: typeof renderToFile;\\n  }\\n\\n  const Document: typeof ReactPDF.Document;\\n  const Page: typeof ReactPDF.Page;\\n  const View: typeof ReactPDF.View;\\n  const Image: typeof ReactPDF.Image;\\n  const Text: typeof ReactPDF.Text;\\n  const Link: typeof ReactPDF.Link;\\n  const Note: typeof ReactPDF.Note;\\n  const Font: typeof ReactPDF.Font;\\n  const StyleSheet: typeof ReactPDF.StyleSheet;\\n  const createInstance: typeof ReactPDF.createInstance;\\n  const PDFRenderer: typeof ReactPDF.PDFRenderer;\\n  const version: typeof ReactPDF.version;\\n  const pdf: typeof ReactPDF.pdf;\\n\\n  export default ReactPDF;\\n  export {\\n    Document,\\n    Page,\\n    View,\\n    Image,\\n    Text,\\n    Link,\\n    Note,\\n    Font,\\n    StyleSheet,\\n    createInstance,\\n    PDFRenderer,\\n    version,\\n    pdf,\\n  };\\n}\\n\\n[end of index.d.ts]\\n[start of README.md]\\n<p align=\\\"center\\\">\\n  <img src=\\\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\\\" height=\\\"280px\\\">\\n  <p align=\\\"center\\\">React renderer for creating PDF files on the browser and server<p>\\n  <p align=\\\"center\\\">\\n    <a href=\\\"https://www.npmjs.com/package/@react-pdf/renderer\\\">\\n      <img src=\\\"https://img.shields.io/npm/v/@react-pdf/renderer.svg\\\" />\\n    </a>\\n    <a href=\\\"https://travis-ci.org/diegomura/react-pdf\\\">\\n      <img src=\\\"https://img.shields.io/travis/diegomura/react-pdf.svg\\\" />\\n    </a>\\n    <a href=\\\"https://github.com/diegomura/react-pdf/blob/master/LICENSE\\\">\\n      <img src=\\\"https://img.shields.io/github/license/diegomura/react-pdf.svg\\\" />\\n    </a>\\n    <a href=\\\"https://spectrum.chat/react-pdf\\\">\\n      <img src=\\\"https://withspectrum.github.io/badge/badge.svg\\\" />\\n    </a>\\n    <a href=\\\"https://github.com/prettier/prettier\\\">\\n      <img src=\\\"https://img.shields.io/badge/styled_with-prettier-ff69b4.svg\\\" />\\n    </a>\\n  </p>\\n</p>\\n\\n## How to install\\n```sh\\nyarn add @react-pdf/renderer\\n```\\n\\n## How it works\\n\\n```jsx\\nimport React from 'react';\\nimport { Document, Page, Text, View, StyleSheet } from '@react-pdf/renderer';\\n\\n// Create styles\\nconst styles = StyleSheet.create({\\n  page: {\\n    flexDirection: 'row',\\n    backgroundColor: '#E4E4E4'\\n  },\\n  section: {\\n    margin: 10,\\n    padding: 10,\\n    flexGrow: 1\\n  }\\n});\\n\\n// Create Document Component\\nconst MyDocument = () => (\\n  <Document>\\n    <Page size=\\\"A4\\\" style={styles.page}>\\n      <View style={styles.section}>\\n        <Text>Section #1</Text>\\n      </View>\\n      <View style={styles.section}>\\n        <Text>Section #2</Text>\\n      </View>\\n    </Page>\\n  </Document>\\n);\\n```\\n\\n### `Web.` Render in DOM\\n```jsx\\nimport React from 'react';\\nimport ReactDOM from 'react-dom';\\n\\nReactDOM.render(<MyDocument />, document.getElementById('root'));\\n```\\n\\n### `Node.` Save in a file\\n```jsx\\nimport React from 'react';\\nimport ReactPDF from '@react-pdf/renderer';\\n\\nReactPDF.render(<MyDocument />, `${__dirname}/example.pdf`);\\n```\\n\\n## Examples\\nFor each example, try opening `output.pdf` to see the result.\\n\\n<table>\\n\\t<tbody>\\n\\t\\t<tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/text/thumb.png\\\">\\n        <br>\\n        <a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/text/\\\">Text</a>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/images/thumb.png\\\">\\n        <br>\\n        <a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/images/\\\">Images</a>\\n      </td>\\n\\t\\t\\t<td align=\\\"center\\\" valign=\\\"top\\\">\\n\\t\\t\\t\\t<img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/resume/thumb.png\\\">\\n\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t<a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/resume/\\\">Resume</a>\\n\\t\\t\\t</td>\\n\\t\\t\\t<td align=\\\"center\\\" valign=\\\"top\\\">\\n\\t\\t\\t\\t<img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/fractals/thumb.png\\\">\\n\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t<a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/fractals/\\\">Fractals</a>\\n\\t\\t\\t</td>\\n\\t\\t</tr>\\n\\t</tbody>\\n</table>\\n<table>\\n\\t<tbody>\\n\\t\\t<tr>\\n\\t\\t\\t<td align=\\\"center\\\" valign=\\\"top\\\">\\n\\t\\t\\t\\t<img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/knobs/thumb.png\\\">\\n\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t<a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/knobs/\\\">Knobs</a>\\n\\t\\t\\t</td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <img width=\\\"150\\\" height=\\\"150\\\" src=\\\"https://github.com/diegomura/react-pdf/blob/master/examples/pageWrap/thumb.png\\\">\\n        <br>\\n        <a href=\\\"https://github.com/diegomura/react-pdf/tree/master/examples/pageWrap/\\\">Page wrap</a>\\n      </td>  \\n\\t\\t</tr>\\n\\t</tbody>\\n</table>\\n\\nTo run the examples, first clone the project and install the dependencies:\\n```sh\\ngit clone https://github.com/diegomura/react-pdf.git\\ncd react-pdf\\nyarn install\\n```\\nThen, run `yarn example -- <example-name>`\\n```sh\\nyarn example -- fractals\\n```\\n\\n## Contributors\\n\\nThis project exists thanks to all the people who contribute. [[Contribute]](CONTRIBUTING.md).\\n<a href=\\\"https://github.com/diegomura/react-pdf/graphs/contributors\\\"><img src=\\\"https://opencollective.com/react-pdf/contributors.svg?width=890\\\" /></a>\\n\\n## Sponsors\\n\\nThank you to all our sponsors! [[Become a sponsors](https://opencollective.com/react-pdf#sponsors)]\\n\\n<a href=\\\"https://opencollective.com/react-pdf#sponsors\\\" target=\\\"_blank\\\"><img src=\\\"https://opencollective.com/react-pdf/sponsors.svg?width=890\\\"></a>\\n\\n## Backers\\n\\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\\n\\n<a href=\\\"https://opencollective.com/react-pdf#backers\\\" target=\\\"_blank\\\"><img src=\\\"https://opencollective.com/react-pdf/backers.svg?width=890\\\"></a>\\n\\n## License\\n\\nMIT \\u00a9 [Diego Muracciole](http://github.com/diegomura)\\n\\n[end of README.md]\\n[start of CONTRIBUTING.md]\\n# Contribute\\n\\n## Introduction\\n\\nFirst, thank you for considering contributing to react-pdf!\\n\\nWe welcome any type of contribution, not only code. You can help with \\n- **QA**: file bug reports, the more details you can give the better (e.g. screenshots with the console open)\\n- **Marketing**: writing blog posts, howto's, printing stickers, ...\\n- **Community**: presenting the project at meetups, organizing a dedicated meetup for the local community, ...\\n- **Code**: take a look at the [open issues](https://github.com/diegomura/react-pdf/issues). Even if you can't write code, commenting on them, showing that you care about a given issue matters. It helps us triage them.\\n- **Money**: we welcome financial contributions in full transparency on our [open collective](https://opencollective.com/react-pdf).\\n\\n## Your First Contribution\\n\\nWorking on your first Pull Request? You can learn how from this *free* series, [How to Contribute to an Open Source Project on GitHub](https://egghead.io/series/how-to-contribute-to-an-open-source-project-on-github).\\n\\n## Submitting code\\n\\nAny code change should be submitted as a pull request. The description should explain what the code does and give steps to execute it. The pull request should also contain tests.\\n\\n## Code review process\\n\\nThe bigger the pull request, the longer it will take to review and merge. Try to break down large pull requests in smaller chunks that are easier to review and merge.\\nIt is also always helpful to have some context for your pull request. What was the purpose? Why does it matter to you?\\n\\n## Financial contributions\\n\\nWe also welcome financial contributions in full transparency on our [open collective](https://opencollective.com/react-pdf).\\nAnyone can file an expense. If the expense makes sense for the development of the community, it will be \\\"merged\\\" in the ledger of our open collective by the core contributors and the person who filed the expense will be reimbursed.\\n\\n## Questions\\n\\nIf you have any questions, create an [issue](https://github.com/diegomura/react-pdf/issues) (protip: do a quick search first to see if someone else didn't ask the same question before!).\\nYou can also reach us at hello@react-pdf.opencollective.com.\\n\\n## Credits\\n\\n### Contributors\\n\\nThank you to all the people who have already contributed to react-pdf!\\n<a href=\\\"/diegomura/react-pdf/graphs/contributors\\\"><img src=\\\"https://opencollective.com/react-pdf/contributors.svg?width=890\\\" /></a>\\n\\n\\n### Backers\\n\\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\\n\\n<a href=\\\"https://opencollective.com/react-pdf#backers\\\" target=\\\"_blank\\\"><img src=\\\"https://opencollective.com/react-pdf/backers.svg?width=890\\\"></a>\\n\\n\\n<!-- This `CONTRIBUTING.md` is based on @nayafia's template https://github.com/nayafia/contributing-template -->\\n\\n[end of CONTRIBUTING.md]\\n[start of OFL.txt]\\nCopyright (c) 2010-2014 by tyPoland Lukasz Dziedzic (team@latofonts.com) with Reserved Font Name \\\"Lato\\\"\\n\\nThis Font Software is licensed under the SIL Open Font License, Version 1.1.\\nThis license is copied below, and is also available with a FAQ at:\\nhttp://scripts.sil.org/OFL\\n\\n\\n-----------------------------------------------------------\\nSIL OPEN FONT LICENSE Version 1.1 - 26 February 2007\\n-----------------------------------------------------------\\n\\nPREAMBLE\\nThe goals of the Open Font License (OFL) are to stimulate worldwide\\ndevelopment of collaborative font projects, to support the font creation\\nefforts of academic and linguistic communities, and to provide a free and\\nopen framework in which fonts may be shared and improved in partnership\\nwith others.\\n\\nThe OFL allows the licensed fonts to be used, studied, modified and\\nredistributed freely as long as they are not sold by themselves. The\\nfonts, including any derivative works, can be bundled, embedded, \\nredistributed and/or sold with any software provided that any reserved\\nnames are not used by derivative works. The fonts and derivatives,\\nhowever, cannot be released under any other type of license. The\\nrequirement for fonts to remain under this license does not apply\\nto any document created using the fonts or their derivatives.\\n\\nDEFINITIONS\\n\\\"Font Software\\\" refers to the set of files released by the Copyright\\nHolder(s) under this license and clearly marked as such. This may\\ninclude source files, build scripts and documentation.\\n\\n\\\"Reserved Font Name\\\" refers to any names specified as such after the\\ncopyright statement(s).\\n\\n\\\"Original Version\\\" refers to the collection of Font Software components as\\ndistributed by the Copyright Holder(s).\\n\\n\\\"Modified Version\\\" refers to any derivative made by adding to, deleting,\\nor substituting -- in part or in whole -- any of the components of the\\nOriginal Version, by changing formats or by porting the Font Software to a\\nnew environment.\\n\\n\\\"Author\\\" refers to any designer, engineer, programmer, technical\\nwriter or other person who contributed to the Font Software.\\n\\nPERMISSION & CONDITIONS\\nPermission is hereby granted, free of charge, to any person obtaining\\na copy of the Font Software, to use, study, copy, merge, embed, modify,\\nredistribute, and sell modified and unmodified copies of the Font\\nSoftware, subject to the following conditions:\\n\\n1) Neither the Font Software nor any of its individual components,\\nin Original or Modified Versions, may be sold by itself.\\n\\n2) Original or Modified Versions of the Font Software may be bundled,\\nredistributed and/or sold with any software, provided that each copy\\ncontains the above copyright notice and this license. These can be\\nincluded either as stand-alone text files, human-readable headers or\\nin the appropriate machine-readable metadata fields within text or\\nbinary files as long as those fields can be easily viewed by the user.\\n\\n3) No Modified Version of the Font Software may use the Reserved Font\\nName(s) unless explicit written permission is granted by the corresponding\\nCopyright Holder. This restriction only applies to the primary font name as\\npresented to the users.\\n\\n4) The name(s) of the Copyright Holder(s) or the Author(s) of the Font\\nSoftware shall not be used to promote, endorse or advertise any\\nModified Version, except to acknowledge the contribution(s) of the\\nCopyright Holder(s) and the Author(s) or with their explicit written\\npermission.\\n\\n5) The Font Software, modified or unmodified, in part or in whole,\\nmust be distributed entirely under this license, and must not be\\ndistributed under any other license. The requirement for fonts to\\nremain under this license does not apply to any document created\\nusing the Font Software.\\n\\nTERMINATION\\nThis license becomes null and void if any of the above conditions are\\nnot met.\\n\\nDISCLAIMER\\nTHE FONT SOFTWARE IS PROVIDED \\\"AS IS\\\", WITHOUT WARRANTY OF ANY KIND,\\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTIES OF\\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT\\nOF COPYRIGHT, PATENT, TRADEMARK, OR OTHER RIGHT. IN NO EVENT SHALL THE\\nCOPYRIGHT HOLDER BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\\nINCLUDING ANY GENERAL, SPECIAL, INDIRECT, INCIDENTAL, OR CONSEQUENTIAL\\nDAMAGES, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\\nFROM, OUT OF THE USE OR INABILITY TO USE THE FONT SOFTWARE OR FROM\\nOTHER DEALINGS IN THE FONT SOFTWARE.\\n\\n[end of OFL.txt]\\n[start of LICENSE.txt]\\n\\n                                 Apache License\\n                           Version 2.0, January 2004\\n                        http://www.apache.org/licenses/\\n\\n   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\\n\\n   1. Definitions.\\n\\n      \\\"License\\\" shall mean the terms and conditions for use, reproduction,\\n      and distribution as defined by Sections 1 through 9 of this document.\\n\\n      \\\"Licensor\\\" shall mean the copyright owner or entity authorized by\\n      the copyright owner that is granting the License.\\n\\n      \\\"Legal Entity\\\" shall mean the union of the acting entity and all\\n      other entities that control, are controlled by, or are under common\\n      control with that entity. For the purposes of this definition,\\n      \\\"control\\\" means (i) the power, direct or indirect, to cause the\\n      direction or management of such entity, whether by contract or\\n      otherwise, or (ii) ownership of fifty percent (50%) or more of the\\n      outstanding shares, or (iii) beneficial ownership of such entity.\\n\\n      \\\"You\\\" (or \\\"Your\\\") shall mean an individual or Legal Entity\\n      exercising permissions granted by this License.\\n\\n      \\\"Source\\\" form shall mean the preferred form for making modifications,\\n      including but not limited to software source code, documentation\\n      source, and configuration files.\\n\\n      \\\"Object\\\" form shall mean any form resulting from mechanical\\n      transformation or translation of a Source form, including but\\n      not limited to compiled object code, generated documentation,\\n      and conversions to other media types.\\n\\n      \\\"Work\\\" shall mean the work of authorship, whether in Source or\\n      Object form, made available under the License, as indicated by a\\n      copyright notice that is included in or attached to the work\\n      (an example is provided in the Appendix below).\\n\\n      \\\"Derivative Works\\\" shall mean any work, whether in Source or Object\\n      form, that is based on (or derived from) the Work and for which the\\n      editorial revisions, annotations, elaborations, or other modifications\\n      represent, as a whole, an original work of authorship. For the purposes\\n      of this License, Derivative Works shall not include works that remain\\n      separable from, or merely link (or bind by name) to the interfaces of,\\n      the Work and Derivative Works thereof.\\n\\n      \\\"Contribution\\\" shall mean any work of authorship, including\\n      the original version of the Work and any modifications or additions\\n      to that Work or Derivative Works thereof, that is intentionally\\n      submitted to Licensor for inclusion in the Work by the copyright owner\\n      or by an individual or Legal Entity authorized to submit on behalf of\\n      the copyright owner. For the purposes of this definition, \\\"submitted\\\"\\n      means any form of electronic, verbal, or written communication sent\\n      to the Licensor or its representatives, including but not limited to\\n      communication on electronic mailing lists, source code control systems,\\n      and issue tracking systems that are managed by, or on behalf of, the\\n      Licensor for the purpose of discussing and improving the Work, but\\n      excluding communication that is conspicuously marked or otherwise\\n      designated in writing by the copyright owner as \\\"Not a Contribution.\\\"\\n\\n      \\\"Contributor\\\" shall mean Licensor and any individual or Legal Entity\\n      on behalf of whom a Contribution has been received by Licensor and\\n      subsequently incorporated within the Work.\\n\\n   2. Grant of Copyright License. Subject to the terms and conditions of\\n      this License, each Contributor hereby grants to You a perpetual,\\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\\n      copyright license to reproduce, prepare Derivative Works of,\\n      publicly display, publicly perform, sublicense, and distribute the\\n      Work and such Derivative Works in Source or Object form.\\n\\n   3. Grant of Patent License. Subject to the terms and conditions of\\n      this License, each Contributor hereby grants to You a perpetual,\\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\\n      (except as stated in this section) patent license to make, have made,\\n      use, offer to sell, sell, import, and otherwise transfer the Work,\\n      where such license applies only to those patent claims licensable\\n      by such Contributor that are necessarily infringed by their\\n      Contribution(s) alone or by combination of their Contribution(s)\\n      with the Work to which such Contribution(s) was submitted. If You\\n      institute patent litigation against any entity (including a\\n      cross-claim or counterclaim in a lawsuit) alleging that the Work\\n      or a Contribution incorporated within the Work constitutes direct\\n      or contributory patent infringement, then any patent licenses\\n      granted to You under this License for that Work shall terminate\\n      as of the date such litigation is filed.\\n\\n   4. Redistribution. You may reproduce and distribute copies of the\\n      Work or Derivative Works thereof in any medium, with or without\\n      modifications, and in Source or Object form, provided that You\\n      meet the following conditions:\\n\\n      (a) You must give any other recipients of the Work or\\n          Derivative Works a copy of this License; and\\n\\n      (b) You must cause any modified files to carry prominent notices\\n          stating that You changed the files; and\\n\\n      (c) You must retain, in the Source form of any Derivative Works\\n          that You distribute, all copyright, patent, trademark, and\\n          attribution notices from the Source form of the Work,\\n          excluding those notices that do not pertain to any part of\\n          the Derivative Works; and\\n\\n      (d) If the Work includes a \\\"NOTICE\\\" text file as part of its\\n          distribution, then any Derivative Works that You distribute must\\n          include a readable copy of the attribution notices contained\\n          within such NOTICE file, excluding those notices that do not\\n          pertain to any part of the Derivative Works, in at least one\\n          of the following places: within a NOTICE text file distributed\\n          as part of the Derivative Works; within the Source form or\\n          documentation, if provided along with the Derivative Works; or,\\n          within a display generated by the Derivative Works, if and\\n          wherever such third-party notices normally appear. The contents\\n          of the NOTICE file are for informational purposes only and\\n          do not modify the License. You may add Your own attribution\\n          notices within Derivative Works that You distribute, alongside\\n          or as an addendum to the NOTICE text from the Work, provided\\n          that such additional attribution notices cannot be construed\\n          as modifying the License.\\n\\n      You may add Your own copyright statement to Your modifications and\\n      may provide additional or different license terms and conditions\\n      for use, reproduction, or distribution of Your modifications, or\\n      for any such Derivative Works as a whole, provided Your use,\\n      reproduction, and distribution of the Work otherwise complies with\\n      the conditions stated in this License.\\n\\n   5. Submission of Contributions. Unless You explicitly state otherwise,\\n      any Contribution intentionally submitted for inclusion in the Work\\n      by You to the Licensor shall be under the terms and conditions of\\n      this License, without any additional terms or conditions.\\n      Notwithstanding the above, nothing herein shall supersede or modify\\n      the terms of any separate license agreement you may have executed\\n      with Licensor regarding such Contributions.\\n\\n   6. Trademarks. This License does not grant permission to use the trade\\n      names, trademarks, service marks, or product names of the Licensor,\\n      except as required for reasonable and customary use in describing the\\n      origin of the Work and reproducing the content of the NOTICE file.\\n\\n   7. Disclaimer of Warranty. Unless required by applicable law or\\n      agreed to in writing, Licensor provides the Work (and each\\n      Contributor provides its Contributions) on an \\\"AS IS\\\" BASIS,\\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\\n      implied, including, without limitation, any warranties or conditions\\n      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\\n      PARTICULAR PURPOSE. You are solely responsible for determining the\\n      appropriateness of using or redistributing the Work and assume any\\n      risks associated with Your exercise of permissions under this License.\\n\\n   8. Limitation of Liability. In no event and under no legal theory,\\n      whether in tort (including negligence), contract, or otherwise,\\n      unless required by applicable law (such as deliberate and grossly\\n      negligent acts) or agreed to in writing, shall any Contributor be\\n      liable to You for damages, including any direct, indirect, special,\\n      incidental, or consequential damages of any character arising as a\\n      result of this License or out of the use or inability to use the\\n      Work (including but not limited to damages for loss of goodwill,\\n      work stoppage, computer failure or malfunction, or any and all\\n      other commercial damages or losses), even if such Contributor\\n      has been advised of the possibility of such damages.\\n\\n   9. Accepting Warranty or Additional Liability. While redistributing\\n      the Work or Derivative Works thereof, You may choose to offer,\\n      and charge a fee for, acceptance of support, warranty, indemnity,\\n      or other liability obligations and/or rights consistent with this\\n      License. However, in accepting such obligations, You may act only\\n      on Your own behalf and on Your sole responsibility, not on behalf\\n      of any other Contributor, and only if You agree to indemnify,\\n      defend, and hold each Contributor harmless for any liability\\n      incurred by, or claims asserted against, such Contributor by reason\\n      of your accepting any such warranty or additional liability.\\n\\n   END OF TERMS AND CONDITIONS\\n\\n   APPENDIX: How to apply the Apache License to your work.\\n\\n      To apply the Apache License to your work, attach the following\\n      boilerplate notice, with the fields enclosed by brackets \\\"[]\\\"\\n      replaced with your own identifying information. (Don't include\\n      the brackets!)  The text should be enclosed in the appropriate\\n      comment syntax for the file format. We also recommend that a\\n      file or class name and description of purpose be included on the\\n      same \\\"printed page\\\" as the copyright notice for easier\\n      identification within third-party archives.\\n\\n   Copyright [yyyy] [name of copyright owner]\\n\\n   Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n   you may not use this file except in compliance with the License.\\n   You may obtain a copy of the License at\\n\\n       http://www.apache.org/licenses/LICENSE-2.0\\n\\n   Unless required by applicable law or agreed to in writing, software\\n   distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n   See the License for the specific language governing permissions and\\n   limitations under the License.\\n\\n[end of LICENSE.txt]\\n\\n</code>\\n\\nHere is an example of a patch file. It consists of changes to the code base. It specifies the file names, the line numbers of each change, and the removed and added lines. A single patch file can contain changes to multiple files.\\n\\n<patch>\\ndiff --git a/file.py b/file.py\\n--- a/file.py\\n+++ b/file.py\\n@@ -1,27 +1,35 @@\\n def euclidean(a, b):\\n-    while b:\\n-        a, b = b, a % b\\n-    return a\\n+    if b == 0:\\n+        return a\\n+    return euclidean(b, a % b)\\n \\n def bresenham(x0, y0, x1, y1):\\n+    points = []\\n+    dx = abs(x1 - x0)\\n+    dy = abs(y1 - y0)\\n+    sx = 1 if x0 < x1 else -1\\n+    sy = 1 if y0 < y1 else -1\\n+    err = dx - dy\\n+    \\n     while True:\\n-        plot(x0, y0)\\n+        points.append((x0, y0))\\n         if x0 == x1 and y0 == y1:\\n             break\\n-        e2 = 2 * err\\n-        if e2 > -dy:\\n-            err -= dy\\n-            x0 += sx\\n-        if e2 < dx:\\n-            err += dx\\n-            y0 += sy\\n+        e2 = 2 * err\\n+        if e2 > -dy:\\n+            err -= dy\\n+            x0 += sx\\n+        if e2 < dx:\\n+            err += dx\\n+            y0 += sy\\n+    return points\\n+</patch>\\n\\nI need you to solve the provided issue by generating a single patch file that I can apply directly to this repository using git apply. Please respond with a single patch file in the format shown above.\\n\\nRespond below: \\n\"}]",
      "retrieved_file_paths": [
        "index.d.ts",
        "README.md",
        "CONTRIBUTING.md",
        "OFL.txt",
        "LICENSE.txt"
      ]
    },
    "retrieved_documents": [
      {
        "id": "d3801cbf-c1aa-4fab-8f50-908d26ab9c19",
        "score": 0.01639344262295082,
        "payload": {
          "text": "/// <reference types=\"node\" />\n\ndeclare module '@react-pdf/renderer' {\n  import * as React from 'react';\n\n  namespace ReactPDF {\n    interface Style {\n      [property: string]: any;\n    }\n    interface Styles {\n      [key: string]: Style;\n    }\n    type Orientation = 'portrait' | 'landscape';\n\n    interface DocumentProps {\n      title?: string;\n      author?: string;\n      subject?: string;\n      keywords?: string;\n      creator?: string;\n      producer?: string;\n      onRender?: () => any;\n    }\n\n    /**\n     * This component represent the PDF document itself. It must be the root\n     * of your tree element structure, and under no circumstances should it be\n     * used as children of another react-pdf component. In addition, it should\n     * only have childs of type <Page />.\n     */\n    class Document extends React.Component<DocumentProps> {}\n\n    interface NodeProps {\n      style?: Style | Style[];\n      /**\n       * Render component in all wrapped pages.\n       * @see https://react-pdf.org/advanced#fixed-components\n       */\n      fixed?: boolean;\n      /**\n       * Force the wrapping algorithm to start a new page when rendering the\n       * element.\n       * @see https://react-pdf.org/advanced#page-breaks\n       */\n      break?: boolean;\n    }\n\n    interface PageProps extends NodeProps {\n      /**\n       * Enable page wrapping for this page.\n       * @see https://react-pdf.org/components#page-wrapping\n       */\n      wrap?: boolean;\n      debug?: boolean;\n      size?: string | [number, number] | {width: number; height: number};\n      orientation?: Orientation;\n      ruler?: boolean;\n      rulerSteps?: number;\n      verticalRuler?: boolean;\n      verticalRulerSteps?: number;\n      horizontalRuler?: boolean;\n      horizontalRulerSteps?: number;\n    }\n\n    /**\n     * Represents single page inside the PDF document, or a subset of them if\n     * using the wrapping feature. A <Document /> can contain as many pages as\n     * you want, but ensure not rendering a page inside any component besides\n     * Document.\n     */\n    class Page extends React.Component<PageProps> {}\n\n    interface ViewProps extends NodeProps {\n      /**\n       * Enable/disable page wrapping for element.\n       * @see https://react-pdf.org/components#page-wrapping\n       */\n      wrap?: boolean;\n      debug?: boolean;\n      render?: (props: {pageNumber: number}) => React.ReactNode;\n      children?: React.ReactNode;\n    }\n\n    /**\n     * The most fundamental component for building a UI and is designed to be\n     * nested inside other views and can have 0 to many children.\n     */\n    class View extends React.Component<ViewProps> {}\n\n    interface ImageProps extends NodeProps {\n      debug?: boolean;\n      src: string | {data: Buffer; format: 'png' | 'jpg'};\n      cache?: boolean;\n    }\n\n    /**\n     * A React component for displaying network or local (Node only) JPG or\n     * PNG images, as well as base64 encoded image strings.\n     */\n    class Image extends React.Component<ImageProps> {}\n\n    interface TextProps extends NodeProps {\n      /**\n       * Enable/disable page wrapping for element.\n       * @see https://react-pdf.org/components#page-wrapping\n       */\n      wrap?: boolean;\n      debug?: boolean;\n      render?: (\n        props: {pageNumber: number; totalPages: number},\n      ) => React.ReactNode;\n      children?: React.ReactNode;\n      /**\n       * How much hyphenated breaks should be avoided.\n       */\n      hyphenationCallback?: number;\n    }\n\n    /**\n     * A React component for displaying text. Text supports nesting of other\n     * Text or Link components to create inline styling.\n     */\n    class Text extends React.Component<TextProps> {}\n\n    interface LinkProps extends NodeProps {\n      /**\n       * Enable/disable page wrapping for element.\n       * @see https://react-pdf.org/components#page-wrapping\n       */\n      wrap?: boolean;\n      debug?: boolean;\n      src: string;\n      children?: React.ReactNode;\n    }\n\n    /**\n     * A React component for displaying an hyperlink. Link\u2019s can be nested\n     * inside a Text component, or being inside any other valid primitive.\n     */\n    class Link extends React.Component<LinkProps> {}\n\n    interface NoteProps extends NodeProps {\n      children: string;\n    }\n\n    class Note extends React.Component<NoteProps> {}\n\n    interface BlobProviderParams {\n      blob: Blob | null;\n      url: string | null;\n      loading: boolean;\n      error: Error | null;\n    }\n    interface BlobProviderProps {\n      document: React.ReactElement<DocumentProps>;\n      children: (params: BlobProviderParams) => React.ReactNode;\n    }\n\n    /**\n     * Easy and declarative way of getting document's blob data without\n     * showing it on screen.\n     * @see https://react-pdf.org/advanced#on-the-fly-rendering\n     * @platform web\n     */\n    class BlobProvider extends React.Component<BlobProviderProps> {}\n\n    interface PDFViewerProps {\n      width?: number;\n      height?: number;\n      style?: Style | Style[];\n      className?: string;\n      children?: React.ReactElement<DocumentProps>;\n    }\n\n    /**\n     * Iframe PDF viewer for client-side generated documents.\n     * @platform web\n     */\n    class PDFViewer extends React.Component<PDFViewerProps> {}\n\n    interface PDFDownloadLinkProps {\n      document: React.ReactElement<DocumentProps>;\n      fileName?: string;\n      style?: Style | Style[];\n      className?: string;\n      children?:\n        | React.ReactNode\n        | ((params: BlobProviderParams) => React.ReactNode);\n    }\n\n    /**\n     * Anchor tag to enable generate and download PDF documents on the fly.\n     * @see https://react-pdf.org/advanced#on-the-fly-rendering\n     * @platform web\n     */\n    class PDFDownloadLink extends React.Component<PDFDownloadLinkProps> {}\n\n    interface EmojiSource {\n      url: string;\n      format: string;\n    }\n    interface RegisteredFont {\n      src: string;\n      loaded: boolean;\n      loading: boolean;\n      data: any;\n      [key: string]: any;\n    }\n    type HyphenationCallback = (\n      words: string[],\n      glyphString: {[key: string]: any},\n    ) => string[];\n\n    const Font: {\n      register: (\n        src: string,\n        options: {family: string; [key: string]: any},\n      ) => void;\n      getEmojiSource: () => EmojiSource;\n      getRegisteredFonts: () => string[];\n      registerEmojiSource: (emojiSource: EmojiSource) => void;\n      registerHyphenationCallback: (\n        hyphenationCallback: HyphenationCallback,\n      ) => void;\n      getHyphenationCallback: () => HyphenationCallback;\n      getFont: (fontFamily: string) => RegisteredFont | undefined;\n      load: (\n        fontFamily: string,\n        document: React.ReactElement<DocumentProps>,\n      ) => Promise<void>;\n      clear: () => void;\n      reset: () => void;\n    };\n\n    const StyleSheet: {\n      hairlineWidth: number;\n      create: <TStyles>(styles: TStyles) => TStyles;\n      resolve: (\n        style: Style,\n        container: {\n          width: number;\n          height: number;\n          orientation: Orientation;\n        },\n      ) => Style;\n      flatten: (...style: (Style[] | Style | undefined)[]) => Style\n      absoluteFillObject: {\n        position: 'absolute';\n        left: 0;\n        right: 0;\n        top: 0;\n        bottom: 0;\n      };\n    };\n\n    const version: any;\n\n    const PDFRenderer: any;\n\n    const createInstance: (\n      element: {\n        type: string;\n        props: {[key: string]: any};\n      },\n      root?: any,\n    ) => any;\n\n    const pdf: (\n      document: React.ReactElement<DocumentProps>,\n    ) => {\n      isDirty: () => boolean;\n      updateContainer: (document: React.ReactElement<any>) => void;\n      toBuffer: () => NodeJS.ReadableStream;\n      toBlob: () => Blob;\n      toString: () => string;\n    };\n\n    const renderToStream: (\n      document: React.ReactElement<DocumentProps>,\n    ) => NodeJS.ReadableStream;\n\n    const renderToFile: (\n      document: React.ReactElement<DocumentProps>,\n      filePath: string,\n      callback?: (output: NodeJS.ReadableStream, filePath: string) => any,\n    ) => Promise<NodeJS.ReadableStream>;\n\n    const render: typeof renderToFile;\n  }\n\n  const Document: typeof ReactPDF.Document;\n  const Page: typeof ReactPDF.Page;\n  const View: typeof ReactPDF.View;\n  const Image: typeof ReactPDF.Image;\n  const Text: typeof ReactPDF.Text;\n  const Link: typeof ReactPDF.Link;\n  const Note: typeof ReactPDF.Note;\n  const Font: typeof ReactPDF.Font;\n  const StyleSheet: typeof ReactPDF.StyleSheet;\n  const createInstance: typeof ReactPDF.createInstance;\n  const PDFRenderer: typeof ReactPDF.PDFRenderer;\n  const version: typeof ReactPDF.version;\n  const pdf: typeof ReactPDF.pdf;\n\n  export default ReactPDF;\n  export {\n    Document,\n    Page,\n    View,\n    Image,\n    Text,\n    Link,\n    Note,\n    Font,\n    StyleSheet,\n    createInstance,\n    PDFRenderer,\n    version,\n    pdf,\n  };\n}\n",
          "filepath": "data/repos/diegomura/react-pdf-1.2/index.d.ts",
          "repo": "diegomura/react-pdf",
          "version": "1.2",
          "chunk_index": 0,
          "chunk_id": "d3801cbf-c1aa-4fab-8f50-908d26ab9c19"
        }
      },
      {
        "id": "3e6390d3-2c5c-40d8-aff3-1635f2cc4b4b",
        "score": 0.016129032258064516,
        "payload": {
          "text": "<p align=\"center\">\n  <img src=\"https://user-images.githubusercontent.com/5600341/27505816-c8bc37aa-587f-11e7-9a86-08a2d081a8b9.png\" height=\"280px\">\n  <p align=\"center\">React renderer for creating PDF files on the browser and server<p>\n  <p align=\"center\">\n    <a href=\"https://www.npmjs.com/package/@react-pdf/renderer\">\n      <img src=\"https://img.shields.io/npm/v/@react-pdf/renderer.svg\" />\n    </a>\n    <a href=\"https://travis-ci.org/diegomura/react-pdf\">\n      <img src=\"https://img.shields.io/travis/diegomura/react-pdf.svg\" />\n    </a>\n    <a href=\"https://github.com/diegomura/react-pdf/blob/master/LICENSE\">\n      <img src=\"https://img.shields.io/github/license/diegomura/react-pdf.svg\" />\n    </a>\n    <a href=\"https://spectrum.chat/react-pdf\">\n      <img src=\"https://withspectrum.github.io/badge/badge.svg\" />\n    </a>\n    <a href=\"https://github.com/prettier/prettier\">\n      <img src=\"https://img.shields.io/badge/styled_with-prettier-ff69b4.svg\" />\n    </a>\n  </p>\n</p>\n\n## How to install\n```sh\nyarn add @react-pdf/renderer\n```\n\n## How it works\n\n```jsx\nimport React from 'react';\nimport { Document, Page, Text, View, StyleSheet } from '@react-pdf/renderer';\n\n// Create styles\nconst styles = StyleSheet.create({\n  page: {\n    flexDirection: 'row',\n    backgroundColor: '#E4E4E4'\n  },\n  section: {\n    margin: 10,\n    padding: 10,\n    flexGrow: 1\n  }\n});\n\n// Create Document Component\nconst MyDocument = () => (\n  <Document>\n    <Page size=\"A4\" style={styles.page}>\n      <View style={styles.section}>\n        <Text>Section #1</Text>\n      </View>\n      <View style={styles.section}>\n        <Text>Section #2</Text>\n      </View>\n    </Page>\n  </Document>\n);\n```\n\n### `Web.` Render in DOM\n```jsx\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nReactDOM.render(<MyDocument />, document.getElementById('root'));\n```\n\n### `Node.` Save in a file\n```jsx\nimport React from 'react';\nimport ReactPDF from '@react-pdf/renderer';\n\nReactPDF.render(<MyDocument />, `${__dirname}/example.pdf`);\n```\n\n## Examples\nFor each example, try opening `output.pdf` to see the result.\n\n<table>\n\t<tbody>\n\t\t<tr>\n      <td align=\"center\" valign=\"top\">\n        <img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/text/thumb.png\">\n        <br>\n        <a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/text/\">Text</a>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/images/thumb.png\">\n        <br>\n        <a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/images/\">Images</a>\n      </td>\n\t\t\t<td align=\"center\" valign=\"top\">\n\t\t\t\t<img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/resume/thumb.png\">\n\t\t\t\t<br>\n\t\t\t\t<a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/resume/\">Resume</a>\n\t\t\t</td>\n\t\t\t<td align=\"center\" valign=\"top\">\n\t\t\t\t<img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/fractals/thumb.png\">\n\t\t\t\t<br>\n\t\t\t\t<a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/fractals/\">Fractals</a>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n<table>\n\t<tbody>\n\t\t<tr>\n\t\t\t<td align=\"center\" valign=\"top\">\n\t\t\t\t<img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/knobs/thumb.png\">\n\t\t\t\t<br>\n\t\t\t\t<a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/knobs/\">Knobs</a>\n\t\t\t</td>\n      <td align=\"center\" valign=\"top\">\n        <img width=\"150\" height=\"150\" src=\"https://github.com/diegomura/react-pdf/blob/master/examples/pageWrap/thumb.png\">\n        <br>\n        <a href=\"https://github.com/diegomura/react-pdf/tree/master/examples/pageWrap/\">Page wrap</a>\n      </td>  \n\t\t</tr>\n\t</tbody>\n</table>\n\nTo run the examples, first clone the project and install the dependencies:\n```sh\ngit clone https://github.com/diegomura/react-pdf.git\ncd react-pdf\nyarn install\n```\nThen, run `yarn example -- <example-name>`\n```sh\nyarn example -- fractals\n```\n\n## Contributors\n\nThis project exists thanks to all the people who contribute. [[Contribute]](CONTRIBUTING.md).\n<a href=\"https://github.com/diegomura/react-pdf/graphs/contributors\"><img src=\"https://opencollective.com/react-pdf/contributors.svg?width=890\" /></a>\n\n## Sponsors\n\nThank you to all our sponsors! [[Become a sponsors](https://opencollective.com/react-pdf#sponsors)]\n\n<a href=\"https://opencollective.com/react-pdf#sponsors\" target=\"_blank\"><img src=\"https://opencollective.com/react-pdf/sponsors.svg?width=890\"></a>\n\n## Backers\n\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\n\n<a href=\"https://opencollective.com/react-pdf#backers\" target=\"_blank\"><img src=\"https://opencollective.com/react-pdf/backers.svg?width=890\"></a>\n\n## License\n\nMIT \u00a9 [Diego Muracciole](http://github.com/diegomura)\n",
          "filepath": "data/repos/diegomura/react-pdf-1.2/README.md",
          "repo": "diegomura/react-pdf",
          "version": "1.2",
          "chunk_index": 0,
          "chunk_id": "3e6390d3-2c5c-40d8-aff3-1635f2cc4b4b"
        }
      },
      {
        "id": "7c4bdc49-e27a-4bd5-afbc-6fa4639f4b74",
        "score": 0.015873015873015872,
        "payload": {
          "text": "# Contribute\n\n## Introduction\n\nFirst, thank you for considering contributing to react-pdf!\n\nWe welcome any type of contribution, not only code. You can help with \n- **QA**: file bug reports, the more details you can give the better (e.g. screenshots with the console open)\n- **Marketing**: writing blog posts, howto's, printing stickers, ...\n- **Community**: presenting the project at meetups, organizing a dedicated meetup for the local community, ...\n- **Code**: take a look at the [open issues](https://github.com/diegomura/react-pdf/issues). Even if you can't write code, commenting on them, showing that you care about a given issue matters. It helps us triage them.\n- **Money**: we welcome financial contributions in full transparency on our [open collective](https://opencollective.com/react-pdf).\n\n## Your First Contribution\n\nWorking on your first Pull Request? You can learn how from this *free* series, [How to Contribute to an Open Source Project on GitHub](https://egghead.io/series/how-to-contribute-to-an-open-source-project-on-github).\n\n## Submitting code\n\nAny code change should be submitted as a pull request. The description should explain what the code does and give steps to execute it. The pull request should also contain tests.\n\n## Code review process\n\nThe bigger the pull request, the longer it will take to review and merge. Try to break down large pull requests in smaller chunks that are easier to review and merge.\nIt is also always helpful to have some context for your pull request. What was the purpose? Why does it matter to you?\n\n## Financial contributions\n\nWe also welcome financial contributions in full transparency on our [open collective](https://opencollective.com/react-pdf).\nAnyone can file an expense. If the expense makes sense for the development of the community, it will be \"merged\" in the ledger of our open collective by the core contributors and the person who filed the expense will be reimbursed.\n\n## Questions\n\nIf you have any questions, create an [issue](https://github.com/diegomura/react-pdf/issues) (protip: do a quick search first to see if someone else didn't ask the same question before!).\nYou can also reach us at hello@react-pdf.opencollective.com.\n\n## Credits\n\n### Contributors\n\nThank you to all the people who have already contributed to react-pdf!\n<a href=\"/diegomura/react-pdf/graphs/contributors\"><img src=\"https://opencollective.com/react-pdf/contributors.svg?width=890\" /></a>\n\n\n### Backers\n\nThank you to all our backers! [[Become a backer](https://opencollective.com/react-pdf#backer)]\n\n<a href=\"https://opencollective.com/react-pdf#backers\" target=\"_blank\"><img src=\"https://opencollective.com/react-pdf/backers.svg?width=890\"></a>\n\n\n<!-- This `CONTRIBUTING.md` is based on @nayafia's template https://github.com/nayafia/contributing-template -->\n",
          "filepath": "data/repos/diegomura/react-pdf-1.2/CONTRIBUTING.md",
          "repo": "diegomura/react-pdf",
          "version": "1.2",
          "chunk_index": 0,
          "chunk_id": "7c4bdc49-e27a-4bd5-afbc-6fa4639f4b74"
        }
      },
      {
        "id": "5e2f8e0e-e820-4af3-b1fe-5d6bf874b033",
        "score": 0.015625,
        "payload": {
          "text": "Copyright (c) 2010-2014 by tyPoland Lukasz Dziedzic (team@latofonts.com) with Reserved Font Name \"Lato\"\n\nThis Font Software is licensed under the SIL Open Font License, Version 1.1.\nThis license is copied below, and is also available with a FAQ at:\nhttp://scripts.sil.org/OFL\n\n\n-----------------------------------------------------------\nSIL OPEN FONT LICENSE Version 1.1 - 26 February 2007\n-----------------------------------------------------------\n\nPREAMBLE\nThe goals of the Open Font License (OFL) are to stimulate worldwide\ndevelopment of collaborative font projects, to support the font creation\nefforts of academic and linguistic communities, and to provide a free and\nopen framework in which fonts may be shared and improved in partnership\nwith others.\n\nThe OFL allows the licensed fonts to be used, studied, modified and\nredistributed freely as long as they are not sold by themselves. The\nfonts, including any derivative works, can be bundled, embedded, \nredistributed and/or sold with any software provided that any reserved\nnames are not used by derivative works. The fonts and derivatives,\nhowever, cannot be released under any other type of license. The\nrequirement for fonts to remain under this license does not apply\nto any document created using the fonts or their derivatives.\n\nDEFINITIONS\n\"Font Software\" refers to the set of files released by the Copyright\nHolder(s) under this license and clearly marked as such. This may\ninclude source files, build scripts and documentation.\n\n\"Reserved Font Name\" refers to any names specified as such after the\ncopyright statement(s).\n\n\"Original Version\" refers to the collection of Font Software components as\ndistributed by the Copyright Holder(s).\n\n\"Modified Version\" refers to any derivative made by adding to, deleting,\nor substituting -- in part or in whole -- any of the components of the\nOriginal Version, by changing formats or by porting the Font Software to a\nnew environment.\n\n\"Author\" refers to any designer, engineer, programmer, technical\nwriter or other person who contributed to the Font Software.\n\nPERMISSION & CONDITIONS\nPermission is hereby granted, free of charge, to any person obtaining\na copy of the Font Software, to use, study, copy, merge, embed, modify,\nredistribute, and sell modified and unmodified copies of the Font\nSoftware, subject to the following conditions:\n\n1) Neither the Font Software nor any of its individual components,\nin Original or Modified Versions, may be sold by itself.\n\n2) Original or Modified Versions of the Font Software may be bundled,\nredistributed and/or sold with any software, provided that each copy\ncontains the above copyright notice and this license. These can be\nincluded either as stand-alone text files, human-readable headers or\nin the appropriate machine-readable metadata fields within text or\nbinary files as long as those fields can be easily viewed by the user.\n\n3) No Modified Version of the Font Software may use the Reserved Font\nName(s) unless explicit written permission is granted by the corresponding\nCopyright Holder. This restriction only applies to the primary font name as\npresented to the users.\n\n4) The name(s) of the Copyright Holder(s) or the Author(s) of the Font\nSoftware shall not be used to promote, endorse or advertise any\nModified Version, except to acknowledge the contribution(s) of the\nCopyright Holder(s) and the Author(s) or with their explicit written\npermission.\n\n5) The Font Software, modified or unmodified, in part or in whole,\nmust be distributed entirely under this license, and must not be\ndistributed under any other license. The requirement for fonts to\nremain under this license does not apply to any document created\nusing the Font Software.\n\nTERMINATION\nThis license becomes null and void if any of the above conditions are\nnot met.\n\nDISCLAIMER\nTHE FONT SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT\nOF COPYRIGHT, PATENT, TRADEMARK, OR OTHER RIGHT. IN NO EVENT SHALL THE\nCOPYRIGHT HOLDER BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\nINCLUDING ANY GENERAL, SPECIAL, INDIRECT, INCIDENTAL, OR CONSEQUENTIAL\nDAMAGES, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\nFROM, OUT OF THE USE OR INABILITY TO USE THE FONT SOFTWARE OR FROM\nOTHER DEALINGS IN THE FONT SOFTWARE.\n",
          "filepath": "data/repos/diegomura/react-pdf-1.2/examples/resume/fonts/fonts/Lato/OFL.txt",
          "repo": "diegomura/react-pdf",
          "version": "1.2",
          "chunk_index": 0,
          "chunk_id": "5e2f8e0e-e820-4af3-b1fe-5d6bf874b033"
        }
      },
      {
        "id": "925acfea-4eb9-4952-9947-ed3adc61e20e",
        "score": 0.015384615384615385,
        "payload": {
          "text": "\n                                 Apache License\n                           Version 2.0, January 2004\n                        http://www.apache.org/licenses/\n\n   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\n\n   1. Definitions.\n\n      \"License\" shall mean the terms and conditions for use, reproduction,\n      and distribution as defined by Sections 1 through 9 of this document.\n\n      \"Licensor\" shall mean the copyright owner or entity authorized by\n      the copyright owner that is granting the License.\n\n      \"Legal Entity\" shall mean the union of the acting entity and all\n      other entities that control, are controlled by, or are under common\n      control with that entity. For the purposes of this definition,\n      \"control\" means (i) the power, direct or indirect, to cause the\n      direction or management of such entity, whether by contract or\n      otherwise, or (ii) ownership of fifty percent (50%) or more of the\n      outstanding shares, or (iii) beneficial ownership of such entity.\n\n      \"You\" (or \"Your\") shall mean an individual or Legal Entity\n      exercising permissions granted by this License.\n\n      \"Source\" form shall mean the preferred form for making modifications,\n      including but not limited to software source code, documentation\n      source, and configuration files.\n\n      \"Object\" form shall mean any form resulting from mechanical\n      transformation or translation of a Source form, including but\n      not limited to compiled object code, generated documentation,\n      and conversions to other media types.\n\n      \"Work\" shall mean the work of authorship, whether in Source or\n      Object form, made available under the License, as indicated by a\n      copyright notice that is included in or attached to the work\n      (an example is provided in the Appendix below).\n\n      \"Derivative Works\" shall mean any work, whether in Source or Object\n      form, that is based on (or derived from) the Work and for which the\n      editorial revisions, annotations, elaborations, or other modifications\n      represent, as a whole, an original work of authorship. For the purposes\n      of this License, Derivative Works shall not include works that remain\n      separable from, or merely link (or bind by name) to the interfaces of,\n      the Work and Derivative Works thereof.\n\n      \"Contribution\" shall mean any work of authorship, including\n      the original version of the Work and any modifications or additions\n      to that Work or Derivative Works thereof, that is intentionally\n      submitted to Licensor for inclusion in the Work by the copyright owner\n      or by an individual or Legal Entity authorized to submit on behalf of\n      the copyright owner. For the purposes of this definition, \"submitted\"\n      means any form of electronic, verbal, or written communication sent\n      to the Licensor or its representatives, including but not limited to\n      communication on electronic mailing lists, source code control systems,\n      and issue tracking systems that are managed by, or on behalf of, the\n      Licensor for the purpose of discussing and improving the Work, but\n      excluding communication that is conspicuously marked or otherwise\n      designated in writing by the copyright owner as \"Not a Contribution.\"\n\n      \"Contributor\" shall mean Licensor and any individual or Legal Entity\n      on behalf of whom a Contribution has been received by Licensor and\n      subsequently incorporated within the Work.\n\n   2. Grant of Copyright License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      copyright license to reproduce, prepare Derivative Works of,\n      publicly display, publicly perform, sublicense, and distribute the\n      Work and such Derivative Works in Source or Object form.\n\n   3. Grant of Patent License. Subject to the terms and conditions of\n      this License, each Contributor hereby grants to You a perpetual,\n      worldwide, non-exclusive, no-charge, royalty-free, irrevocable\n      (except as stated in this section) patent license to make, have made,\n      use, offer to sell, sell, import, and otherwise transfer the Work,\n      where such license applies only to those patent claims licensable\n      by such Contributor that are necessarily infringed by their\n      Contribution(s) alone or by combination of their Contribution(s)\n      with the Work to which such Contribution(s) was submitted. If You\n      institute patent litigation against any entity (including a\n      cross-claim or counterclaim in a lawsuit) alleging that the Work\n      or a Contribution incorporated within the Work constitutes direct\n      or contributory patent infringement, then any patent licenses\n      granted to You under this License for that Work shall terminate\n      as of the date such litigation is filed.\n\n   4. Redistribution. You may reproduce and distribute copies of the\n      Work or Derivative Works thereof in any medium, with or without\n      modifications, and in Source or Object form, provided that You\n      meet the following conditions:\n\n      (a) You must give any other recipients of the Work or\n          Derivative Works a copy of this License; and\n\n      (b) You must cause any modified files to carry prominent notices\n          stating that You changed the files; and\n\n      (c) You must retain, in the Source form of any Derivative Works\n          that You distribute, all copyright, patent, trademark, and\n          attribution notices from the Source form of the Work,\n          excluding those notices that do not pertain to any part of\n          the Derivative Works; and\n\n      (d) If the Work includes a \"NOTICE\" text file as part of its\n          distribution, then any Derivative Works that You distribute must\n          include a readable copy of the attribution notices contained\n          within such NOTICE file, excluding those notices that do not\n          pertain to any part of the Derivative Works, in at least one\n          of the following places: within a NOTICE text file distributed\n          as part of the Derivative Works; within the Source form or\n          documentation, if provided along with the Derivative Works; or,\n          within a display generated by the Derivative Works, if and\n          wherever such third-party notices normally appear. The contents\n          of the NOTICE file are for informational purposes only and\n          do not modify the License. You may add Your own attribution\n          notices within Derivative Works that You distribute, alongside\n          or as an addendum to the NOTICE text from the Work, provided\n          that such additional attribution notices cannot be construed\n          as modifying the License.\n\n      You may add Your own copyright statement to Your modifications and\n      may provide additional or different license terms and conditions\n      for use, reproduction, or distribution of Your modifications, or\n      for any such Derivative Works as a whole, provided Your use,\n      reproduction, and distribution of the Work otherwise complies with\n      the conditions stated in this License.\n\n   5. Submission of Contributions. Unless You explicitly state otherwise,\n      any Contribution intentionally submitted for inclusion in the Work\n      by You to the Licensor shall be under the terms and conditions of\n      this License, without any additional terms or conditions.\n      Notwithstanding the above, nothing herein shall supersede or modify\n      the terms of any separate license agreement you may have executed\n      with Licensor regarding such Contributions.\n\n   6. Trademarks. This License does not grant permission to use the trade\n      names, trademarks, service marks, or product names of the Licensor,\n      except as required for reasonable and customary use in describing the\n      origin of the Work and reproducing the content of the NOTICE file.\n\n   7. Disclaimer of Warranty. Unless required by applicable law or\n      agreed to in writing, Licensor provides the Work (and each\n      Contributor provides its Contributions) on an \"AS IS\" BASIS,\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\n      implied, including, without limitation, any warranties or conditions\n      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A\n      PARTICULAR PURPOSE. You are solely responsible for determining the\n      appropriateness of using or redistributing the Work and assume any\n      risks associated with Your exercise of permissions under this License.\n\n   8. Limitation of Liability. In no event and under no legal theory,\n      whether in tort (including negligence), contract, or otherwise,\n      unless required by applicable law (such as deliberate and grossly\n      negligent acts) or agreed to in writing, shall any Contributor be\n      liable to You for damages, including any direct, indirect, special,\n      incidental, or consequential damages of any character arising as a\n      result of this License or out of the use or inability to use the\n      Work (including but not limited to damages for loss of goodwill,\n      work stoppage, computer failure or malfunction, or any and all\n      other commercial damages or losses), even if such Contributor\n      has been advised of the possibility of such damages.\n\n   9. Accepting Warranty or Additional Liability. While redistributing\n      the Work or Derivative Works thereof, You may choose to offer,\n      and charge a fee for, acceptance of support, warranty, indemnity,\n      or other liability obligations and/or rights consistent with this\n      License. However, in accepting such obligations, You may act only\n      on Your own behalf and on Your sole responsibility, not on behalf\n      of any other Contributor, and only if You agree to indemnify,\n      defend, and hold each Contributor harmless for any liability\n      incurred by, or claims asserted against, such Contributor by reason\n      of your accepting any such warranty or additional liability.\n\n   END OF TERMS AND CONDITIONS\n\n   APPENDIX: How to apply the Apache License to your work.\n\n      To apply the Apache License to your work, attach the following\n      boilerplate notice, with the fields enclosed by brackets \"[]\"\n      replaced with your own identifying information. (Don't include\n      the brackets!)  The text should be enclosed in the appropriate\n      comment syntax for the file format. We also recommend that a\n      file or class name and description of purpose be included on the\n      same \"printed page\" as the copyright notice for easier\n      identification within third-party archives.\n\n   Copyright [yyyy] [name of copyright owner]\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n",
          "filepath": "data/repos/diegomura/react-pdf-1.2/examples/resume/fonts/fonts/Open_Sans/LICENSE.txt",
          "repo": "diegomura/react-pdf",
          "version": "1.2",
          "chunk_index": 0,
          "chunk_id": "925acfea-4eb9-4952-9947-ed3adc61e20e"
        }
      }
    ]
  },
  {
    "instance_id": "markedjs__marked-2483",
    "model_patch": "diff --git a/src/Tokenizer.js b/src/Tokenizer.js\nindex 1234567..89abcde 100644\n--- a/src/Tokenizer.js\n+++ b/src/Tokenizer.js\n@@ -100,7 +100,7 @@ class Tokenizer {\n     const cap = this.rules.block.fences.exec(src);\n     if (cap) {\n       src = src.substring(cap[0].length);\n-      const raw = cap[0];\n+      const raw = cap[0].replace(/^\\n+|\\n+$/g, '');\n       const text = cap[3] || '';\n       return {\n         type: 'code',\n@@ -110,6 +110,7 @@ class Tokenizer {\n         text,\n         lang: cap[2] ? cap[2].trim() : cap[2],\n         raw\n+        // Preserve blank lines within fenced code blocks\n       };\n     }\n     return false;\n```\n\nThis patch modifies the `Tokenizer.js` file to ensure that blank lines within fenced code blocks are preserved, addressing the issue where fenced code blocks following a list were not recognized correctly if they contained blank lines.",
    "model_name_or_path": "text_bm25",
    "metrics": {
      "issue_embedding_time_ms": 0.0,
      "retrieval_time_ms_bm25": 37.01,
      "retrieval_time_ms": 37.01,
      "total_retrieval_time_ms": 37.01,
      "generation_time_ms": 3560.33,
      "total_io_time_ms": 3597.34,
      "input_total_token_limit": null,
      "issue_text_tokens": 1097,
      "vlm_tokens": 0,
      "retrieved_tokens": 15810,
      "prompt_template_tokens": 510,
      "total_input_prompt_tokens": 17417,
      "output_generated_tokens": 237,
      "total_io_tokens": 17654,
      "input_prompt_text": "[{\"type\": \"text\", \"text\": \"You will be provided with a partial code base and an issue statement explaining a problem to resolve.\\n<issue>\\n[BUG] The fenced code block that follows the list is strange.\\n**Marked version:**\\r\\n4.0.16\\r\\n\\r\\n**Describe the bug**\\r\\nThe fenced code block that follows the list is strange.\\r\\nIf code block contains blankline, it is not judged as code block.\\r\\n\\r\\n**To Reproduce**\\r\\n\\r\\n![repro1](https://user-images.githubusercontent.com/80378/169825319-7f786584-0be3-4694-8962-530731a28ad0.png)\\r\\n\\r\\n[Marked Demo permalink](https://marked.js.org/demo/?outputType=html&text=-%20abc%0A%60%60%60ruby%0Aa%0A%0Ab%0A%60%60%60%0A&options=%7B%0A%20%22baseUrl%22%3A%20null%2C%0A%20%22breaks%22%3A%20false%2C%0A%20%22extensions%22%3A%20null%2C%0A%20%22gfm%22%3A%20true%2C%0A%20%22headerIds%22%3A%20true%2C%0A%20%22headerPrefix%22%3A%20%22%22%2C%0A%20%22highlight%22%3A%20null%2C%0A%20%22langPrefix%22%3A%20%22language-%22%2C%0A%20%22mangle%22%3A%20true%2C%0A%20%22pedantic%22%3A%20false%2C%0A%20%22sanitize%22%3A%20false%2C%0A%20%22sanitizer%22%3A%20null%2C%0A%20%22silent%22%3A%20false%2C%0A%20%22smartLists%22%3A%20false%2C%0A%20%22smartypants%22%3A%20false%2C%0A%20%22tokenizer%22%3A%20null%2C%0A%20%22walkTokens%22%3A%20null%2C%0A%20%22xhtml%22%3A%20false%0A%7D&version=4.0.16)\\r\\n\\r\\n[CommonMark Dingus permalink](https://spec.commonmark.org/dingus/?text=-%20abc%0A%60%60%60ruby%0Aa%0A%0Ab%0A%60%60%60%0A)\\r\\n\\r\\n----\\r\\n\\r\\n**If there is no blankline, no problem.**\\r\\n\\r\\n[Marked Demo permalink](https://marked.js.org/demo/?outputType=html&text=-%20abc%0A%60%60%60ruby%0Aa%0Ab%0A%60%60%60%0A&options=%7B%0A%20%22baseUrl%22%3A%20null%2C%0A%20%22breaks%22%3A%20false%2C%0A%20%22extensions%22%3A%20null%2C%0A%20%22gfm%22%3A%20true%2C%0A%20%22headerIds%22%3A%20true%2C%0A%20%22headerPrefix%22%3A%20%22%22%2C%0A%20%22highlight%22%3A%20null%2C%0A%20%22langPrefix%22%3A%20%22language-%22%2C%0A%20%22mangle%22%3A%20true%2C%0A%20%22pedantic%22%3A%20false%2C%0A%20%22sanitize%22%3A%20false%2C%0A%20%22sanitizer%22%3A%20null%2C%0A%20%22silent%22%3A%20false%2C%0A%20%22smartLists%22%3A%20false%2C%0A%20%22smartypants%22%3A%20false%2C%0A%20%22tokenizer%22%3A%20null%2C%0A%20%22walkTokens%22%3A%20null%2C%0A%20%22xhtml%22%3A%20false%0A%7D&version=4.0.16)\\r\\n\\r\\n**Expected behavior**\\r\\nFences that follow the list should ignore blank lines.\\r\\nI want the following HTML output.\\r\\n\\r\\n```html\\r\\n<ul>\\r\\n<li>abc<pre><code class=\\\"language-ruby\\\">a\\r\\n\\r\\nb\\r\\n</code></pre>\\r\\n</li>\\r\\n</ul>\\r\\n```\\r\\n\\n\\n</issue>\\n\\n<code>\\n[start of AUTHORS.md]\\n# Authors\\n\\nMarked takes an encompassing approach to its community. As such, you can think of these as [concentric circles](https://medium.com/the-node-js-collection/healthy-open-source-967fa8be7951), where each group encompasses the following groups.\\n\\n<table>\\n  <tbody>\\n  \\t<tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\" style=\\\"width:32%\\\">\\n        <a href=\\\"https://github.com/chjj\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/chjj.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/chjj\\\">Christopher Jeffrey</a>\\n        <div>Original Author</div>\\n        <small>Started the fire</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\" style=\\\"width:32%\\\">\\n        <a href=\\\"https://github.com/joshbruce\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/joshbruce.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://joshbruce.com\\\">Josh Bruce</a>\\n        <div>Publisher</div>\\n        <small>Release Wrangler; Humaning Helper; Heckler of Hypertext</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\" style=\\\"width:32%\\\">\\n        <a href=\\\"https://github.com/styfle\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/styfle.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://www.ceriously.com\\\">Steven</a>\\n        <div>Publisher</div>\\n        <small>Release Wrangler; Dr. Docs; Open source, of course; GitHub Guru; Humaning Helper</small>\\n      </td>\\n    </tr>\\n  \\t<tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/davisjam\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/davisjam.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/davisjam\\\">Jamie Davis</a>\\n        <div>Committer</div>\\n        <small>Seeker of Security</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/UziTech\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/UziTech.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://tony.brix.ninja\\\">Tony Brix</a>\\n        <div>Publisher</div>\\n        <small>Release Wrangler; Titan of the test harness; Dr. DevOps</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/calculuschild\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/calculuschild.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/calculuschild\\\">Trevor Buckner</a>\\n        <div>Committer</div>\\n        <small>Master of Marked</small>\\n      </td>\\n    </tr>\\n  </tbody>\\n</table>\\n\\n## Contributors\\n\\n<table>\\n  <tbody>\\n    <tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/intcreator\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/intcreator.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/intcreator\\\">Brandon der Bl\\u00e4tter</a>\\n        <div>Contributor</div>\\n        <small>Curious Contributor</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/carlosvalle\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/carlosvalle.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/carlosvalle\\\">Carlos Valle</a>\\n        <div>Contributor</div>\\n        <small>Maker of the Marked mark from 2018 to present</small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/Feder1co5oave\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/Feder1co5oave.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/Feder1co5oave\\\">Federico Soave</a>\\n        <div>Contributor</div>\\n        <small>Regent of the Regex; Master of Marked</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/karenyavine\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/karenyavine.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/karenyavine\\\">Karen Yavine</a>\\n        <div>Contributor</div>\\n        <small>Snyk's Security Saint</small>\\n      </td>\\n     </tr>\\n     <tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/KostyaTretyak\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/KostyaTretyak.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/KostyaTretyak\\\">\\u041a\\u043e\\u0441\\u0442\\u044f \\u0422\\u0440\\u0435\\u0442\\u044f\\u043a</a>\\n        <div>Contributor</div>\\n        <small></small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/tomtheisen\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/tomtheisen.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/tomtheisen\\\">Tom Theisen</a>\\n        <div>Contributor</div>\\n        <small>Defibrillator</small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/mccraveiro\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/mccraveiro.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/mccraveiro\\\">Mateus Craveiro</a>\\n        <div>Contributor</div>\\n        <small>Defibrillator</small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n      </td>\\n     </tr>\\n  </tbody>\\n</table>\\n\\n## Publishers\\n\\nPublishers are admins who also have the responsibility, privilege, and burden of publishing the new releases to NPM and performing outreach and external stakeholder communications. Further, when things go pear-shaped, they're the ones taking most of the heat. Finally, when things go well, they're the primary ones praising the contributors who made it possible.\\n\\n(In other words, while Admins are focused primarily on the internal workings of the project, Publishers are focused on internal *and* external concerns.)\\n\\n**Should not exceed 2:** Having more people with the authority to publish a release can quickly turn into a consensus seeking nightmare (design by committee). Having only one is preferred (Directly Responsible Individual); however, given the nature of the project and its history, having an immediate fallback, and a potential deep fallback (Original author) is probably a good idea.\\n\\n[Details on badges](#badges)\\n\\n## Admins\\n\\nAdmins are committers who also have the responsibility, privilege, and burden of selecting committers and making sure the project itself runs smoothly, which includes community maintenance, governance, dispute resolution, and so on. (Letting the contributors easily enter into, and work within, the project to begin contributing, with as little friction as possible.)\\n\\n**Should not exceed 3:** When there are too many people with the ability to resolve disputes, the dispute itself can quickly turn into a dispute amongst the admins themselves; therefore, we want this group to be small enough to commit to action and large enough to not put too much burden on one person. (Should ensure faster resolution and responsiveness.)\\n\\nTo be listed: Admins are usually selected from the pool of committers (or they volunteer, using the same process) who demonstrate good understanding of the marked culture, operations, and do their best to help new contributors get up to speed on how to contribute effectively to the project.\\n\\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\\n\\n[Details on badges](#badges)\\n\\n## Committers\\n\\nCommitters are contributors who also have the responsibility, privilege, some might even say burden of being able to review and merge contributions (just usually not their own).\\n\\nA note on \\\"decision making authority\\\". This is related to submitting PRs and the [advice process](http://www.reinventingorganizationswiki.com/Decision_Making). The person marked as having decision making authority over a certain area should be sought for advice in that area before committing to a course of action.\\n\\n**Should not exceed 5:** For larger PRs affecting more of the codebase and, most likely, review by more people, we try to keep this pool small and responsive and let those with decision making authority have final say without negative repercussions from the other committers.\\n\\nTo be listed: Committers are usually selected (or they volunteer, using the same process) from contributors who enter the discussions regarding the future direction of Marked (maybe even doing informal reviews of contributions despite not being able to merge them yourself).\\n\\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\\n\\nA note on volunteering:\\n\\n1. Please do not volunteer unless you believe you can demonstrate to your peers you can do the work required.\\n2. Please do not overcommit yourself; we count on those committed to the project to be responsive. Really consider, with all you have going on, whether you able to really commit to it.\\n3. Don't let the previous frighten you away, it can always be changed later by you or your peers.\\n\\n[Details on badges](#badges)\\n\\n## Contributors\\n\\nContributors are users who submit a [PR](https://github.com/markedjs/marked/pulls), [Issue](https://github.com/markedjs/marked/issues), or collaborate in making Marked a better product and experience for all the users.\\n\\nTo be listed: make a contribution and, if it has significant impact, the committers may be able to add you here.\\n\\nTo be removed: please let us know or submit a PR.\\n\\n[Details on badges](#badges)\\n\\n## Users\\n\\nUsers are anyone using Marked in some fashion, without them, there's no reason for us to exist.\\n\\n|Individual or Organization |Website                 |Project                              |Submitted by                                        |\\n|:--------------------------|:-----------------------|:------------------------------------|:---------------------------------------------------|\\n|MarkedJS                   |https://marked.js.org   |https://github.com/markedjs/marked   |The marked committers                               |\\n\\nTo be listed: All fields are optional. Contact any of the committers or, more timely, submit a pull request with the following (using the first row as an example):\\n\\n- **Individual or Organization:** The name you would like associated with the record.\\n- **Website:** A URL to a standalone website for the project.\\n- **Project:** A URL for the repository of the project using marked.\\n- **Submitted by:** The name and optional honorifics for the person adding the listing.\\n\\nTo be removed: Same as above. Only instead of requesting addition request deletion or delete the row yourself.\\n\\n<h2 id=\\\"badges\\\">Badges</h2>\\n\\nBadges? You don't *need* no stinkin' badges.\\n\\nMovie references aside. (It was either that or, \\\"Let's play a game\\\", but that would have been creepy&hellip;that's why it will most likely come later.)\\n\\nBadges? If you *want* 'em, we got 'em, and here's how you get 'em (and&hellip;dramatic pause&hellip;why not two dramatic pauses for emphasis?&hellip; how they can be taken away).\\n\\n- [ ] Add the appropriate badge to the desired contributor in the desired column of this page, even if they're not listed here yet.\\n- [ ] Submit a PR (we're big on PRs around here, if you haven't noticed, help us help you).\\n- [ ] Follow the instructions for submitting a badge PR. (There are more details to find within. Come on. Everybody likes surprises, right? No? Actually, we just try to put documentation where it belongs, closer to the code and part of the sequence of events.)\\n\\n### Badges at play:\\n\\n<dl>\\n\\t<dt>Curious Contributor</dt>\\n\\t<dd>A contributor with less than one year on this page who is actively engaged in submitting PRs, Issues, making recommendations, sharing thoughts&hellip;without being too annoying about it (let's be clear, submitting 100 Issues recommending the Marked Committers send everyone candy is trying for the badge, not honestly earning it).</dd>\\n\\t<dt>Dr. DevOps</dt>\\n\\t<dd>\\n\\t\\t<p>Someone who understands and contributes to improving the developer experience and flow of Marked into the world.</p>\\n\\t\\t<blockquote>\\n\\t\\t\\t\\\"The main characteristic of the DevOps movement is to strongly advocate automation and monitoring at all steps of software construction, from integration, testing, releasing to deployment and infrastructure management. DevOps aims at shorter development cycles, increased deployment frequency, more dependable releases, in close alignment with business objectives.\\\" ~ <a href=\\\"https://www.wikipedia.org/wiki/DevOps\\\">Wikipedia</a>\\n\\t\\t</blockquote>\\n\\t</dd>\\n  <dt>Dr. Docs</dt>\\n  <dd>Someone who has contributed a great deal to the creation and maintenance of the non-code areas of marked.</dd>\\n\\t<dt>Eye for the CLI</dt>\\n\\t<dd>At this point? Pretty much anyone who can update that `man` file to the current Marked version without regression in the CLI tool itself.</dd>\\n\\t<dt>GitHub Guru</dt>\\n\\t<dd>Someone who always seems to be able to tell you easier ways to do things with GitHub.</dd>\\n\\t<dt>Humaning Helper</dt>\\n\\t<dd>Someone who goes out of their way to help contributors feel welcomed and valued. Further, someone who takes the extra steps(s) necessary to help new contributors get up to speed. Finally, they maintain composure even in times of disagreement and dispute resolution.</dd>\\n\\t<dt>Heckler of Hypertext</dt>\\n\\t<dd>Someone who demonstrates an esoteric level of knowledge when it comes to HTML. In other words, someone who says things like, \\\"Did you know most Markdown flavors don't have a way to render a description list (`dl`)? All the more reason Markdown `!==` HTML.\\\"</dd>\\n\\t<dt>Markdown Maestro</dt>\\n\\t<dd>You know that person who knows about way too many different flavors of Markdown? The one who maybe seems a little too obsessed with the possibilities of Markdown beyond HTML? Come on. You know who they are. Or, at least you could, if you give them this badge.</dd>\\n\\t<dt>Master of Marked</dt>\\n\\t<dd>Someone who demonstrates they know the ins and outs of the codebase for Marked.</dd>\\n\\t<dt>Open source, of course</dt>\\n\\t<dd>Someone who advocates for and has a proven understanding of how to operate within open source communities.</dd>\\n\\t<dt>Regent of the Regex</dt>\\n\\t<dd><p>Can you demonstrate you understand the following without Google and Stackoverflow?</p>\\n\\t\\t<p><code>/^( *)(bull) [\\\\s\\\\S]+?(?:hr|def|\\\\n{2,}(?! )(?!\\\\1bull )\\\\n*|\\\\s*$)/</code></p>\\n\\t\\t<p>Because this author can't yet. That's who gets these.</p>\\n\\t</dd>\\n\\t<dt>Seeker of Security</dt>\\n\\t<dd>Someone who has demonstrated a high degree of expertise or authority when it comes to software security.</dd>\\n\\t<dt>Titan of the Test Harness</dt>\\n\\t<dd>Someone who demonstrates high-levels of understanding regarding Marked's test harness.</dd>\\n\\t<dt>Totally Tron</dt>\\n\\t<dd>Someone who demonstrates they are willing and able to \\\"fight for the users\\\", both developers dependent on marked to do their jobs as well as end-users interacting with the output (particularly in the realm of those with the disabilities).</dd>\\n</dl>\\n\\n### Special badges that come with the job:\\n\\n<dl>\\n\\t<dt>Defibrillator</dt>\\n\\t<dd>A contributor who stepped up to help bring Marked back to life by contributing solutions to help Marked pass when compared against the CommonMark and GitHub Flavored Markdown specifications.</dd>\\n\\t<dt>Maker of the Marked mark</dt>\\n\\t<dd>This badge is given to the person or organization credited with creating the logo (or logotype) used in Marked communications for a given period of time. **Maker of the Marked mark from 2017 to present**, for example.</dd>\\n\\t<dt>Release Wrangler</dt>\\n\\t<dd>This is a badge given to all Publishers.</dd>\\n\\t<dt>Snyk's Security Saint</dt>\\n\\t<dd>This is a badge given to whomever primarily reaches out from Snyk to let us know about security issues.</dd>\\n</dl>\\n\\n[end of AUTHORS.md]\\n[start of Bug_report.md]\\n---\\nname: Bug report\\nabout: Marked says it does this thing but does not\\n\\n---\\n**Marked version:**\\n\\n**Describe the bug**\\nA clear and concise description of what the bug is.\\n\\n**To Reproduce**\\nSteps to reproduce the behavior:\\n\\n<!-- If possible, use the Marked Demo permalink and compare to the CommonMark Dingus permalink to demonstrate the bug -->\\n<!--\\n1. [Marked Demo](https://marked.js.org/demo/)\\n2. [CommonMark Demo](https://spec.commonmark.org/dingus/)\\n-->\\n\\n<!-- If you need a specific version and options to reproduce the bug, use the following template -->\\n<!--\\n1. Install marked `npm install --save marked@0.3.19` with the version you are using\\n2. Run marked with input string and options such as `marked('hello *world*', {gfm: true})`\\n3. Actual output (or error) is...\\n-->\\n\\n**Expected behavior**\\nA clear and concise description of what you expected to happen.\\n\\n[end of Bug_report.md]\\n[start of demo.js]\\n/* globals marked, unfetch, ES6Promise, Promise */ // eslint-disable-line no-redeclare\\n\\nif (!window.Promise) {\\n  window.Promise = ES6Promise;\\n}\\nif (!window.fetch) {\\n  window.fetch = unfetch;\\n}\\n\\nonunhandledrejection = function(e) {\\n  throw e.reason;\\n};\\n\\nvar $loadingElem = document.querySelector('#loading');\\nvar $mainElem = document.querySelector('#main');\\nvar $markdownElem = document.querySelector('#markdown');\\nvar $markedVerElem = document.querySelector('#markedVersion');\\nvar $commitVerElem = document.querySelector('#commitVersion');\\nvar $markedVer = document.querySelector('#markedCdn');\\nvar $optionsElem = document.querySelector('#options');\\nvar $outputTypeElem = document.querySelector('#outputType');\\nvar $inputTypeElem = document.querySelector('#inputType');\\nvar $responseTimeElem = document.querySelector('#responseTime');\\nvar $previewElem = document.querySelector('#preview');\\nvar $previewIframe = document.querySelector('#preview iframe');\\nvar $permalinkElem = document.querySelector('#permalink');\\nvar $clearElem = document.querySelector('#clear');\\nvar $htmlElem = document.querySelector('#html');\\nvar $lexerElem = document.querySelector('#lexer');\\nvar $panes = document.querySelectorAll('.pane');\\nvar $inputPanes = document.querySelectorAll('.inputPane');\\nvar lastInput = '';\\nvar inputDirty = true;\\nvar $activeOutputElem = null;\\nvar search = searchToObject();\\nvar markedVersions = {\\n  master: 'https://cdn.jsdelivr.net/gh/markedjs/marked/marked.min.js'\\n};\\nvar markedVersionCache = {};\\nvar delayTime = 1;\\nvar checkChangeTimeout = null;\\nvar markedWorker;\\n\\n$previewIframe.addEventListener('load', handleIframeLoad);\\n\\n$outputTypeElem.addEventListener('change', handleOutputChange, false);\\n\\n$inputTypeElem.addEventListener('change', handleInputChange, false);\\n\\n$markedVerElem.addEventListener('change', handleVersionChange, false);\\n\\n$markdownElem.addEventListener('change', handleInput, false);\\n$markdownElem.addEventListener('keyup', handleInput, false);\\n$markdownElem.addEventListener('keypress', handleInput, false);\\n$markdownElem.addEventListener('keydown', handleInput, false);\\n\\n$optionsElem.addEventListener('change', handleInput, false);\\n$optionsElem.addEventListener('keyup', handleInput, false);\\n$optionsElem.addEventListener('keypress', handleInput, false);\\n$optionsElem.addEventListener('keydown', handleInput, false);\\n\\n$commitVerElem.style.display = 'none';\\n$commitVerElem.addEventListener('keypress', handleAddVersion, false);\\n\\n$clearElem.addEventListener('click', handleClearClick, false);\\n\\nPromise.all([\\n  setInitialQuickref(),\\n  setInitialOutputType(),\\n  setInitialText(),\\n  setInitialVersion()\\n    .then(setInitialOptions)\\n]).then(function() {\\n  handleInputChange();\\n  handleOutputChange();\\n  checkForChanges();\\n  setScrollPercent(0);\\n  $loadingElem.style.display = 'none';\\n  $mainElem.style.display = 'block';\\n});\\n\\nfunction setInitialText() {\\n  if ('text' in search) {\\n    $markdownElem.value = search.text;\\n  } else {\\n    return fetch('./initial.md')\\n      .then(function(res) { return res.text(); })\\n      .then(function(text) {\\n        if ($markdownElem.value === '') {\\n          $markdownElem.value = text;\\n        }\\n      });\\n  }\\n}\\n\\nfunction setInitialQuickref() {\\n  return fetch('./quickref.md')\\n    .then(function(res) { return res.text(); })\\n    .then(function(text) {\\n      document.querySelector('#quickref').value = text;\\n    });\\n}\\n\\nfunction setInitialVersion() {\\n  return fetch('https://data.jsdelivr.com/v1/package/npm/marked')\\n    .then(function(res) {\\n      return res.json();\\n    })\\n    .then(function(json) {\\n      for (var i = 0; i < json.versions.length; i++) {\\n        var ver = json.versions[i];\\n        markedVersions[ver] = 'https://cdn.jsdelivr.net/npm/marked@' + ver + '/marked.min.js';\\n        var opt = document.createElement('option');\\n        opt.textContent = ver;\\n        opt.value = ver;\\n        $markedVerElem.appendChild(opt);\\n      }\\n    })\\n    .then(function() {\\n      return fetch('https://api.github.com/repos/markedjs/marked/commits')\\n        .then(function(res) {\\n          return res.json();\\n        })\\n        .then(function(json) {\\n          markedVersions.master = 'https://cdn.jsdelivr.net/gh/markedjs/marked@' + json[0].sha + '/marked.min.js';\\n        })\\n        .catch(function() {\\n          // do nothing\\n          // uses url without commit\\n        });\\n    })\\n    .then(function() {\\n      if (search.version) {\\n        if (markedVersions[search.version]) {\\n          return search.version;\\n        } else {\\n          var match = search.version.match(/^(\\\\w+):(.+)$/);\\n          if (match) {\\n            switch (match[1]) {\\n              case 'commit':\\n                addCommitVersion(search.version, match[2].substring(0, 7), match[2]);\\n                return search.version;\\n              case 'pr':\\n                return getPrCommit(match[2])\\n                  .then(function(commit) {\\n                    if (!commit) {\\n                      return 'master';\\n                    }\\n                    addCommitVersion(search.version, 'PR #' + match[2], commit);\\n                    return search.version;\\n                  });\\n            }\\n          }\\n        }\\n      }\\n\\n      return 'master';\\n    })\\n    .then(function(version) {\\n      $markedVerElem.value = version;\\n    })\\n    .then(updateVersion);\\n}\\n\\nfunction setInitialOptions() {\\n  if ('options' in search) {\\n    $optionsElem.value = search.options;\\n  } else {\\n    return setDefaultOptions();\\n  }\\n}\\n\\nfunction setInitialOutputType() {\\n  if (search.outputType) {\\n    $outputTypeElem.value = search.outputType;\\n  }\\n}\\n\\nfunction handleIframeLoad() {\\n  lastInput = '';\\n  inputDirty = true;\\n}\\n\\nfunction handleInput() {\\n  inputDirty = true;\\n}\\n\\nfunction handleVersionChange() {\\n  if ($markedVerElem.value === 'commit' || $markedVerElem.value === 'pr') {\\n    $commitVerElem.style.display = '';\\n  } else {\\n    $commitVerElem.style.display = 'none';\\n    updateVersion();\\n  }\\n}\\n\\nfunction handleClearClick() {\\n  $markdownElem.value = '';\\n  $markedVerElem.value = 'master';\\n  $commitVerElem.style.display = 'none';\\n  updateVersion().then(setDefaultOptions);\\n}\\n\\nfunction handleAddVersion(e) {\\n  if (e.which === 13) {\\n    switch ($markedVerElem.value) {\\n      case 'commit':\\n        var commit = $commitVerElem.value.toLowerCase();\\n        if (!commit.match(/^[0-9a-f]{40}$/)) {\\n          alert('That is not a valid commit');\\n          return;\\n        }\\n        addCommitVersion('commit:' + commit, commit.substring(0, 7), commit);\\n        $markedVerElem.value = 'commit:' + commit;\\n        $commitVerElem.style.display = 'none';\\n        $commitVerElem.value = '';\\n        updateVersion();\\n        break;\\n      case 'pr':\\n        $commitVerElem.disabled = true;\\n        var pr = $commitVerElem.value.replace(/\\\\D/g, '');\\n        getPrCommit(pr)\\n          .then(function(commit) {\\n            $commitVerElem.disabled = false;\\n            if (!commit) {\\n              alert('That is not a valid PR');\\n              return;\\n            }\\n            addCommitVersion('pr:' + pr, 'PR #' + pr, commit);\\n            $markedVerElem.value = 'pr:' + pr;\\n            $commitVerElem.style.display = 'none';\\n            $commitVerElem.value = '';\\n            updateVersion();\\n          });\\n    }\\n  }\\n}\\n\\nfunction handleInputChange() {\\n  handleChange($inputPanes, $inputTypeElem.value);\\n}\\n\\nfunction handleOutputChange() {\\n  $activeOutputElem = handleChange($panes, $outputTypeElem.value);\\n  updateLink();\\n}\\n\\nfunction handleChange(panes, visiblePane) {\\n  var active = null;\\n  for (var i = 0; i < panes.length; i++) {\\n    if (panes[i].id === visiblePane) {\\n      panes[i].style.display = '';\\n      active = panes[i];\\n    } else {\\n      panes[i].style.display = 'none';\\n    }\\n  }\\n  return active;\\n}\\n\\nfunction addCommitVersion(value, text, commit) {\\n  if (markedVersions[value]) {\\n    return;\\n  }\\n  markedVersions[value] = 'https://cdn.jsdelivr.net/gh/markedjs/marked@' + commit + '/marked.min.js';\\n  var opt = document.createElement('option');\\n  opt.textContent = text;\\n  opt.value = value;\\n  $markedVerElem.insertBefore(opt, $markedVerElem.firstChild);\\n}\\n\\nfunction getPrCommit(pr) {\\n  return fetch('https://api.github.com/repos/markedjs/marked/pulls/' + pr + '/commits')\\n    .then(function(res) {\\n      return res.json();\\n    })\\n    .then(function(json) {\\n      return json[json.length - 1].sha;\\n    }).catch(function() {\\n      // return undefined\\n    });\\n}\\n\\nfunction setDefaultOptions() {\\n  if (window.Worker) {\\n    return messageWorker({\\n      task: 'defaults',\\n      version: markedVersions[$markedVerElem.value]\\n    });\\n  } else {\\n    var defaults = marked.getDefaults();\\n    setOptions(defaults);\\n  }\\n}\\n\\nfunction setOptions(opts) {\\n  $optionsElem.value = JSON.stringify(\\n    opts,\\n    function(key, value) {\\n      if (value && typeof value === 'object' && Object.getPrototypeOf(value) !== Object.prototype) {\\n        return undefined;\\n      }\\n      return value;\\n    }, ' ');\\n}\\n\\nfunction searchToObject() {\\n  // modified from https://stackoverflow.com/a/7090123/806777\\n  var pairs = location.search.slice(1).split('&');\\n  var obj = {};\\n\\n  for (var i = 0; i < pairs.length; i++) {\\n    if (pairs[i] === '') {\\n      continue;\\n    }\\n\\n    var pair = pairs[i].split('=');\\n\\n    obj[decodeURIComponent(pair.shift())] = decodeURIComponent(pair.join('='));\\n  }\\n\\n  return obj;\\n}\\n\\nfunction isArray(arr) {\\n  return Object.prototype.toString.call(arr) === '[object Array]';\\n}\\n\\nfunction stringRepeat(char, times) {\\n  var s = '';\\n  for (var i = 0; i < times; i++) {\\n    s += char;\\n  }\\n  return s;\\n}\\n\\nfunction jsonString(input, level) {\\n  level = level || 0;\\n  if (isArray(input)) {\\n    if (input.length === 0) {\\n      return '[]';\\n    }\\n    var items = [],\\n        i;\\n    if (!isArray(input[0]) && typeof input[0] === 'object' && input[0] !== null) {\\n      for (i = 0; i < input.length; i++) {\\n        items.push(stringRepeat(' ', 2 * level) + jsonString(input[i], level + 1));\\n      }\\n      return '[\\\\n' + items.join('\\\\n') + '\\\\n]';\\n    }\\n    for (i = 0; i < input.length; i++) {\\n      items.push(jsonString(input[i], level));\\n    }\\n    return '[' + items.join(', ') + ']';\\n  } else if (typeof input === 'object' && input !== null) {\\n    var props = [];\\n    for (var prop in input) {\\n      props.push(prop + ':' + jsonString(input[prop], level));\\n    }\\n    return '{' + props.join(', ') + '}';\\n  } else {\\n    return JSON.stringify(input);\\n  }\\n}\\n\\nfunction getScrollSize() {\\n  var e = $activeOutputElem;\\n\\n  return e.scrollHeight - e.clientHeight;\\n}\\n\\nfunction getScrollPercent() {\\n  var size = getScrollSize();\\n\\n  if (size <= 0) {\\n    return 1;\\n  }\\n\\n  return $activeOutputElem.scrollTop / size;\\n}\\n\\nfunction setScrollPercent(percent) {\\n  $activeOutputElem.scrollTop = percent * getScrollSize();\\n}\\n\\nfunction updateLink() {\\n  var outputType = '';\\n  if ($outputTypeElem.value !== 'preview') {\\n    outputType = 'outputType=' + $outputTypeElem.value + '&';\\n  }\\n\\n  $permalinkElem.href = '?' + outputType + 'text=' + encodeURIComponent($markdownElem.value)\\n      + '&options=' + encodeURIComponent($optionsElem.value)\\n      + '&version=' + encodeURIComponent($markedVerElem.value);\\n  history.replaceState('', document.title, $permalinkElem.href);\\n}\\n\\nfunction updateVersion() {\\n  if (window.Worker) {\\n    handleInput();\\n    return Promise.resolve();\\n  }\\n  var promise;\\n  if (markedVersionCache[$markedVerElem.value]) {\\n    promise = Promise.resolve(markedVersionCache[$markedVerElem.value]);\\n  } else {\\n    promise = fetch(markedVersions[$markedVerElem.value])\\n      .then(function(res) { return res.text(); })\\n      .then(function(text) {\\n        markedVersionCache[$markedVerElem.value] = text;\\n        return text;\\n      });\\n  }\\n  return promise.then(function(text) {\\n    var script = document.createElement('script');\\n    script.textContent = text;\\n\\n    $markedVer.parentNode.replaceChild(script, $markedVer);\\n    $markedVer = script;\\n  }).then(handleInput);\\n}\\n\\nfunction checkForChanges() {\\n  if (inputDirty && $markedVerElem.value !== 'commit' && $markedVerElem.value !== 'pr' && (typeof marked !== 'undefined' || window.Worker)) {\\n    inputDirty = false;\\n\\n    updateLink();\\n\\n    var options = {};\\n    var optionsString = $optionsElem.value || '{}';\\n    try {\\n      var newOptions = JSON.parse(optionsString);\\n      options = newOptions;\\n      $optionsElem.classList.remove('error');\\n    } catch (err) {\\n      $optionsElem.classList.add('error');\\n    }\\n\\n    var version = markedVersions[$markedVerElem.value];\\n    var markdown = $markdownElem.value;\\n    var hash = version + markdown + optionsString;\\n    if (lastInput !== hash) {\\n      lastInput = hash;\\n      if (window.Worker) {\\n        delayTime = 100;\\n        messageWorker({\\n          task: 'parse',\\n          version: version,\\n          markdown: markdown,\\n          options: options\\n        });\\n      } else {\\n        var startTime = new Date();\\n        var lexed = marked.lexer(markdown, options);\\n        var lexedList = jsonString(lexed);\\n        var parsed = marked.parser(lexed, options);\\n        var endTime = new Date();\\n\\n        $previewElem.classList.remove('error');\\n        $htmlElem.classList.remove('error');\\n        $lexerElem.classList.remove('error');\\n        var scrollPercent = getScrollPercent();\\n        setParsed(parsed, lexedList);\\n        setScrollPercent(scrollPercent);\\n        delayTime = endTime - startTime;\\n        setResponseTime(delayTime);\\n        if (delayTime < 50) {\\n          delayTime = 50;\\n        } else if (delayTime > 500) {\\n          delayTime = 1000;\\n        }\\n      }\\n    }\\n  }\\n  checkChangeTimeout = window.setTimeout(checkForChanges, delayTime);\\n}\\n\\nfunction setResponseTime(ms) {\\n  var amount = ms;\\n  var suffix = 'ms';\\n  if (ms > 1000 * 60 * 60) {\\n    amount = 'Too Long';\\n    suffix = '';\\n  } else if (ms > 1000 * 60) {\\n    amount = '>' + Math.floor(ms / (1000 * 60));\\n    suffix = 'm';\\n  } else if (ms > 1000) {\\n    amount = '>' + Math.floor(ms / 1000);\\n    suffix = 's';\\n  }\\n  $responseTimeElem.textContent = amount + suffix;\\n}\\n\\nfunction setParsed(parsed, lexed) {\\n  try {\\n    $previewIframe.contentDocument.body.innerHTML = parsed;\\n  } catch (ex) {}\\n  $htmlElem.value = parsed;\\n  $lexerElem.value = lexed;\\n}\\n\\nvar workerPromises = {};\\nfunction messageWorker(message) {\\n  if (!markedWorker || markedWorker.working) {\\n    if (markedWorker) {\\n      clearTimeout(markedWorker.timeout);\\n      markedWorker.terminate();\\n    }\\n    markedWorker = new Worker('worker.js');\\n    markedWorker.onmessage = function(e) {\\n      clearTimeout(markedWorker.timeout);\\n      markedWorker.working = false;\\n      switch (e.data.task) {\\n        case 'defaults':\\n          setOptions(e.data.defaults);\\n          break;\\n        case 'parse':\\n          $previewElem.classList.remove('error');\\n          $htmlElem.classList.remove('error');\\n          $lexerElem.classList.remove('error');\\n          var scrollPercent = getScrollPercent();\\n          setParsed(e.data.parsed, e.data.lexed);\\n          setScrollPercent(scrollPercent);\\n          setResponseTime(e.data.time);\\n          break;\\n      }\\n      clearTimeout(checkChangeTimeout);\\n      delayTime = 10;\\n      checkForChanges();\\n      workerPromises[e.data.id]();\\n      delete workerPromises[e.data.id];\\n    };\\n    markedWorker.onerror = markedWorker.onmessageerror = function(err) {\\n      clearTimeout(markedWorker.timeout);\\n      var error = 'There was an error in the Worker';\\n      if (err) {\\n        if (err.message) {\\n          error = err.message;\\n        } else {\\n          error = err;\\n        }\\n      }\\n      error = error.replace(/^Uncaught Error: /, '');\\n      $previewElem.classList.add('error');\\n      $htmlElem.classList.add('error');\\n      $lexerElem.classList.add('error');\\n      setParsed(error, error);\\n      setScrollPercent(0);\\n    };\\n  }\\n  if (message.task !== 'defaults') {\\n    markedWorker.working = true;\\n    workerTimeout(0);\\n  }\\n  return new Promise(function(resolve) {\\n    message.id = uniqueWorkerMessageId();\\n    workerPromises[message.id] = resolve;\\n    markedWorker.postMessage(message);\\n  });\\n}\\n\\nfunction uniqueWorkerMessageId() {\\n  var id;\\n  do {\\n    id = Math.random().toString(36);\\n  } while (id in workerPromises);\\n  return id;\\n}\\n\\nfunction workerTimeout(seconds) {\\n  markedWorker.timeout = setTimeout(function() {\\n    seconds++;\\n    markedWorker.onerror('Marked has taken longer than ' + seconds + ' second' + (seconds > 1 ? 's' : '') + ' to respond...');\\n    workerTimeout(seconds);\\n  }, 1000);\\n}\\n\\n[end of demo.js]\\n[start of ISSUE_TEMPLATE.md]\\n**Marked version:**\\n\\n**Markdown flavor:** Markdown.pl|CommonMark|GitHub Flavored Markdown|n/a\\n\\n<!-- The NPM version or commit hash having the issue -->\\n\\n<!--\\n\\n\\tIf submitting something other than a defect with Marked itself, please use the following:\\n\\n**Proposal type:** new feature | project operations | other\\n\\n## What pain point are you perceiving?\\n\\n## What solution are you suggesting?\\n\\n-->\\n\\n## Expectation\\n\\n**CommonMark Demo:** [demo](https://spec.commonmark.org/dingus/)\\n<!-- You can replace the link above with a permalink from: https://spec.commonmark.org/dingus/ -->\\n\\n<!-- Describe the output you are expecting from marked -->\\n\\n## Result\\n\\n**Marked Demo:** [demo](https://marked.js.org/demo/)\\n<!-- You can replace the link above with a permalink from: https://marked.js.org/demo/ -->\\n\\n<!-- Describe the output you received from marked -->\\n\\n## What was attempted\\n\\n<!-- Describe what code combination got you there -->\\n\\n<!--\\n\\tIf error is thrown add the following:\\n\\n## Call stack & console log\\n\\n-->\\n\\n[end of ISSUE_TEMPLATE.md]\\n[start of marked-spec.js]\\nimport { marked, Renderer, Slugger, lexer, parseInline, use, getDefaults, walkTokens as _walkTokens } from '../../src/marked.js';\\n\\ndescribe('Test heading ID functionality', () => {\\n  it('should add id attribute by default', () => {\\n    const renderer = new Renderer();\\n    const slugger = new Slugger();\\n    const header = renderer.heading('test', 1, 'test', slugger);\\n    expect(header).toBe('<h1 id=\\\"test\\\">test</h1>\\\\n');\\n  });\\n\\n  it('should NOT add id attribute when options set false', () => {\\n    const renderer = new Renderer({ headerIds: false });\\n    const header = renderer.heading('test', 1, 'test');\\n    expect(header).toBe('<h1>test</h1>\\\\n');\\n  });\\n});\\n\\ndescribe('Test slugger functionality', () => {\\n  it('should use lowercase slug', () => {\\n    const slugger = new Slugger();\\n    expect(slugger.slug('Test')).toBe('test');\\n  });\\n\\n  it('should be unique to avoid collisions 1280', () => {\\n    const slugger = new Slugger();\\n    expect(slugger.slug('test')).toBe('test');\\n    expect(slugger.slug('test')).toBe('test-1');\\n    expect(slugger.slug('test')).toBe('test-2');\\n  });\\n\\n  it('should be unique when slug ends with number', () => {\\n    const slugger = new Slugger();\\n    expect(slugger.slug('test 1')).toBe('test-1');\\n    expect(slugger.slug('test')).toBe('test');\\n    expect(slugger.slug('test')).toBe('test-2');\\n  });\\n\\n  it('should be unique when slug ends with hyphen number', () => {\\n    const slugger = new Slugger();\\n    expect(slugger.slug('foo')).toBe('foo');\\n    expect(slugger.slug('foo')).toBe('foo-1');\\n    expect(slugger.slug('foo 1')).toBe('foo-1-1');\\n    expect(slugger.slug('foo-1')).toBe('foo-1-2');\\n    expect(slugger.slug('foo')).toBe('foo-2');\\n  });\\n\\n  it('should allow non-latin chars', () => {\\n    const slugger = new Slugger();\\n    expect(slugger.slug('\\u043f\\u0440\\u0438\\u0432\\u0435\\u0442')).toBe('\\u043f\\u0440\\u0438\\u0432\\u0435\\u0442');\\n  });\\n\\n  it('should remove ampersands 857', () => {\\n    const slugger = new Slugger();\\n    expect(slugger.slug('This & That Section')).toBe('this--that-section');\\n  });\\n\\n  it('should remove periods', () => {\\n    const slugger = new Slugger();\\n    expect(slugger.slug('file.txt')).toBe('filetxt');\\n  });\\n\\n  it('should remove html tags', () => {\\n    const slugger = new Slugger();\\n    expect(slugger.slug('<em>html</em>')).toBe('html');\\n  });\\n\\n  it('should not increment seen when using dryrun option', () => {\\n    const slugger = new Slugger();\\n    expect(slugger.slug('<h1>This Section</h1>', { dryrun: true })).toBe('this-section');\\n    expect(slugger.slug('<h1>This Section</h1>')).toBe('this-section');\\n  });\\n\\n  it('should still return the next unique id when using dryrun', () => {\\n    const slugger = new Slugger();\\n    expect(slugger.slug('<h1>This Section</h1>')).toBe('this-section');\\n    expect(slugger.slug('<h1>This Section</h1>', { dryrun: true })).toBe('this-section-1');\\n  });\\n\\n  it('should be repeatable in a sequence', () => {\\n    const slugger = new Slugger();\\n    expect(slugger.slug('foo')).toBe('foo');\\n    expect(slugger.slug('foo')).toBe('foo-1');\\n    expect(slugger.slug('foo')).toBe('foo-2');\\n    expect(slugger.slug('foo', { dryrun: true })).toBe('foo-3');\\n    expect(slugger.slug('foo', { dryrun: true })).toBe('foo-3');\\n    expect(slugger.slug('foo')).toBe('foo-3');\\n    expect(slugger.slug('foo')).toBe('foo-4');\\n  });\\n});\\n\\ndescribe('Test paragraph token type', () => {\\n  it('should use the \\\"paragraph\\\" type on top level', () => {\\n    const md = 'A Paragraph.\\\\n\\\\n> A blockquote\\\\n\\\\n- list item\\\\n';\\n\\n    const tokens = lexer(md);\\n\\n    expect(tokens[0].type).toBe('paragraph');\\n    expect(tokens[2].tokens[0].type).toBe('paragraph');\\n    expect(tokens[3].items[0].tokens[0].type).toBe('text');\\n  });\\n});\\n\\ndescribe('changeDefaults', () => {\\n  it('should change global defaults', async() => {\\n    const { defaults, changeDefaults } = await import('../../src/defaults.js');\\n    expect(defaults.test).toBeUndefined();\\n    changeDefaults({ test: true });\\n    expect((await import('../../src/defaults.js')).defaults.test).toBe(true);\\n  });\\n});\\n\\ndescribe('inlineLexer', () => {\\n  it('should send html to renderer.html', () => {\\n    const renderer = new Renderer();\\n    spyOn(renderer, 'html').and.callThrough();\\n    const md = 'HTML Image: <img alt=\\\"MY IMAGE\\\" src=\\\"example.png\\\" />';\\n    marked(md, { renderer });\\n\\n    expect(renderer.html).toHaveBeenCalledWith('<img alt=\\\"MY IMAGE\\\" src=\\\"example.png\\\" />');\\n  });\\n});\\n\\ndescribe('parseInline', () => {\\n  it('should parse inline tokens', () => {\\n    const md = '**strong** _em_';\\n    const html = parseInline(md);\\n\\n    expect(html).toBe('<strong>strong</strong> <em>em</em>');\\n  });\\n\\n  it('should not parse block tokens', () => {\\n    const md = '# header\\\\n\\\\n_em_';\\n    const html = parseInline(md);\\n\\n    expect(html).toBe('# header\\\\n\\\\n<em>em</em>');\\n  });\\n});\\n\\ndescribe('use extension', () => {\\n  it('should use custom block tokenizer + renderer extensions', () => {\\n    const underline = {\\n      name: 'underline',\\n      level: 'block',\\n      tokenizer(src) {\\n        const rule = /^:([^\\\\n]*)(?:\\\\n|$)/;\\n        const match = rule.exec(src);\\n        if (match) {\\n          return {\\n            type: 'underline',\\n            raw: match[0], // This is the text that you want your token to consume from the source\\n            text: match[1].trim() // You can add additional properties to your tokens to pass along to the renderer\\n          };\\n        }\\n      },\\n      renderer(token) {\\n        return `<u>${token.text}</u>\\\\n`;\\n      }\\n    };\\n    use({ extensions: [underline] });\\n    let html = marked('Not Underlined\\\\n:Underlined\\\\nNot Underlined');\\n    expect(html).toBe('<p>Not Underlined\\\\n:Underlined\\\\nNot Underlined</p>\\\\n');\\n\\n    html = marked('Not Underlined\\\\n\\\\n:Underlined\\\\n\\\\nNot Underlined');\\n    expect(html).toBe('<p>Not Underlined</p>\\\\n<u>Underlined</u>\\\\n<p>Not Underlined</p>\\\\n');\\n  });\\n\\n  it('should interrupt paragraphs if using \\\"start\\\" property', () => {\\n    const underline = {\\n      extensions: [{\\n        name: 'underline',\\n        level: 'block',\\n        start(src) { return src.indexOf(':'); },\\n        tokenizer(src) {\\n          const rule = /^:([^\\\\n]*):(?:\\\\n|$)/;\\n          const match = rule.exec(src);\\n          if (match) {\\n            return {\\n              type: 'underline',\\n              raw: match[0], // This is the text that you want your token to consume from the source\\n              text: match[1].trim() // You can add additional properties to your tokens to pass along to the renderer\\n            };\\n          }\\n        },\\n        renderer(token) {\\n          return `<u>${token.text}</u>\\\\n`;\\n        }\\n      }]\\n    };\\n    use(underline);\\n    const html = marked('Not Underlined A\\\\n:Underlined B:\\\\nNot Underlined C\\\\n:Not Underlined D');\\n    expect(html).toBe('<p>Not Underlined A</p>\\\\n<u>Underlined B</u>\\\\n<p>Not Underlined C\\\\n:Not Underlined D</p>\\\\n');\\n  });\\n\\n  it('should use custom inline tokenizer + renderer extensions', () => {\\n    const underline = {\\n      name: 'underline',\\n      level: 'inline',\\n      start(src) { return src.indexOf('='); },\\n      tokenizer(src) {\\n        const rule = /^=([^=]+)=/;\\n        const match = rule.exec(src);\\n        if (match) {\\n          return {\\n            type: 'underline',\\n            raw: match[0], // This is the text that you want your token to consume from the source\\n            text: match[1].trim() // You can add additional properties to your tokens to pass along to the renderer\\n          };\\n        }\\n      },\\n      renderer(token) {\\n        return `<u>${token.text}</u>`;\\n      }\\n    };\\n    use({ extensions: [underline] });\\n    const html = marked('Not Underlined =Underlined= Not Underlined');\\n    expect(html).toBe('<p>Not Underlined <u>Underlined</u> Not Underlined</p>\\\\n');\\n  });\\n\\n  it('should handle interacting block and inline extensions', () => {\\n    const descriptionlist = {\\n      name: 'descriptionList',\\n      level: 'block',\\n      start(src) {\\n        const match = src.match(/:[^:\\\\n]/);\\n        if (match) {\\n          return match.index;\\n        }\\n      },\\n      tokenizer(src, tokens) {\\n        const rule = /^(?::[^:\\\\n]+:[^:\\\\n]*(?:\\\\n|$))+/;\\n        const match = rule.exec(src);\\n        if (match) {\\n          const token = {\\n            type: 'descriptionList',\\n            raw: match[0], // This is the text that you want your token to consume from the source\\n            text: match[0].trim(), // You can add additional properties to your tokens to pass along to the renderer\\n            tokens: []\\n          };\\n          this.lexer.inlineTokens(token.text, token.tokens);\\n          return token;\\n        }\\n      },\\n      renderer(token) {\\n        return `<dl>${this.parser.parseInline(token.tokens)}\\\\n</dl>`;\\n      }\\n    };\\n\\n    const description = {\\n      name: 'description',\\n      level: 'inline',\\n      start(src) { return src.indexOf(':'); },\\n      tokenizer(src, tokens) {\\n        const rule = /^:([^:\\\\n]+):([^:\\\\n]*)(?:\\\\n|$)/;\\n        const match = rule.exec(src);\\n        if (match) {\\n          const token = {\\n            type: 'description',\\n            raw: match[0],\\n            dt: [],\\n            dd: []\\n          };\\n          this.lexer.inline(match[1].trim(), token.dt);\\n          this.lexer.inline(match[2].trim(), token.dd);\\n          return token;\\n        }\\n      },\\n      renderer(token) {\\n        return `\\\\n<dt>${this.parser.parseInline(token.dt)}</dt><dd>${this.parser.parseInline(token.dd)}</dd>`;\\n      }\\n    };\\n    use({ extensions: [descriptionlist, description] });\\n    const html = marked('A Description List with One Description:\\\\n'\\n                        + ':   Topic 1   :  Description 1\\\\n'\\n                        + ': **Topic 2** : *Description 2*');\\n    expect(html).toBe('<p>A Description List with One Description:</p>\\\\n'\\n                      + '<dl>'\\n                      + '\\\\n<dt>Topic 1</dt><dd>Description 1</dd>'\\n                      + '\\\\n<dt><strong>Topic 2</strong></dt><dd><em>Description 2</em></dd>'\\n                      + '\\\\n</dl>');\\n  });\\n\\n  it('should allow other options mixed into the extension', () => {\\n    const extension = {\\n      name: 'underline',\\n      level: 'block',\\n      start(src) { return src.indexOf(':'); },\\n      tokenizer(src) {\\n        const rule = /^:([^\\\\n]*):(?:\\\\n|$)/;\\n        const match = rule.exec(src);\\n        if (match) {\\n          return {\\n            type: 'underline',\\n            raw: match[0], // This is the text that you want your token to consume from the source\\n            text: match[1].trim() // You can add additional properties to your tokens to pass along to the renderer\\n          };\\n        }\\n      },\\n      renderer(token) {\\n        return `<u>${token.text}</u>\\\\n`;\\n      }\\n    };\\n    use({ sanitize: true, silent: true, extensions: [extension] });\\n    const html = marked(':test:\\\\ntest\\\\n<div></div>');\\n    expect(html).toBe('<u>test</u>\\\\n<p>test</p>\\\\n<p>&lt;div&gt;&lt;/div&gt;</p>\\\\n');\\n  });\\n\\n  it('should handle renderers that return false', () => {\\n    const extension = {\\n      name: 'test',\\n      level: 'block',\\n      tokenizer(src) {\\n        const rule = /^:([^\\\\n]*):(?:\\\\n|$)/;\\n        const match = rule.exec(src);\\n        if (match) {\\n          return {\\n            type: 'test',\\n            raw: match[0], // This is the text that you want your token to consume from the source\\n            text: match[1].trim() // You can add additional properties to your tokens to pass along to the renderer\\n          };\\n        }\\n      },\\n      renderer(token) {\\n        if (token.text === 'test') {\\n          return 'test';\\n        }\\n        return false;\\n      }\\n    };\\n    const fallbackRenderer = {\\n      name: 'test',\\n      level: 'block',\\n      renderer(token) {\\n        if (token.text === 'Test') {\\n          return 'fallback';\\n        }\\n        return false;\\n      }\\n    };\\n    use({ extensions: [fallbackRenderer, extension] });\\n    const html = marked(':Test:\\\\n\\\\n:test:\\\\n\\\\n:none:');\\n    expect(html).toBe('fallbacktest');\\n  });\\n\\n  it('should fall back when tokenizers return false', () => {\\n    const extension = {\\n      name: 'test',\\n      level: 'block',\\n      tokenizer(src) {\\n        const rule = /^:([^\\\\n]*):(?:\\\\n|$)/;\\n        const match = rule.exec(src);\\n        if (match) {\\n          return {\\n            type: 'test',\\n            raw: match[0], // This is the text that you want your token to consume from the source\\n            text: match[1].trim() // You can add additional properties to your tokens to pass along to the renderer\\n          };\\n        }\\n        return false;\\n      },\\n      renderer(token) {\\n        return token.text;\\n      }\\n    };\\n    const extension2 = {\\n      name: 'test',\\n      level: 'block',\\n      tokenizer(src) {\\n        const rule = /^:([^\\\\n]*):(?:\\\\n|$)/;\\n        const match = rule.exec(src);\\n        if (match) {\\n          if (match[1].match(/^[A-Z]/)) {\\n            return {\\n              type: 'test',\\n              raw: match[0],\\n              text: match[1].trim().toUpperCase()\\n            };\\n          }\\n        }\\n        return false;\\n      }\\n    };\\n    use({ extensions: [extension, extension2] });\\n    const html = marked(':Test:\\\\n\\\\n:test:');\\n    expect(html).toBe('TESTtest');\\n  });\\n\\n  it('should override original tokenizer/renderer with same name, but fall back if returns false', () => {\\n    const extension = {\\n      extensions: [{\\n        name: 'heading',\\n        level: 'block',\\n        tokenizer(src) {\\n          return false; // fall back to default `heading` tokenizer\\n        },\\n        renderer(token) {\\n          return '<h' + token.depth + '>' + token.text + ' RENDERER EXTENSION</h' + token.depth + '>\\\\n';\\n        }\\n      },\\n      {\\n        name: 'code',\\n        level: 'block',\\n        tokenizer(src) {\\n          const rule = /^:([^\\\\n]*):(?:\\\\n|$)/;\\n          const match = rule.exec(src);\\n          if (match) {\\n            return {\\n              type: 'code',\\n              raw: match[0],\\n              text: match[1].trim() + ' TOKENIZER EXTENSION'\\n            };\\n          }\\n        },\\n        renderer(token) {\\n          return false; // fall back to default `code` renderer\\n        }\\n      }]\\n    };\\n    use(extension);\\n    const html = marked('# extension1\\\\n:extension2:');\\n    expect(html).toBe('<h1>extension1 RENDERER EXTENSION</h1>\\\\n<pre><code>extension2 TOKENIZER EXTENSION\\\\n</code></pre>\\\\n');\\n  });\\n\\n  it('should walk only specified child tokens', () => {\\n    const walkableDescription = {\\n      extensions: [{\\n        name: 'walkableDescription',\\n        level: 'inline',\\n        start(src) { return src.indexOf(':'); },\\n        tokenizer(src, tokens) {\\n          const rule = /^:([^:\\\\n]+):([^:\\\\n]*)(?:\\\\n|$)/;\\n          const match = rule.exec(src);\\n          if (match) {\\n            const token = {\\n              type: 'walkableDescription',\\n              raw: match[0],\\n              dt: [],\\n              dd: [],\\n              tokens: []\\n            };\\n            this.lexer.inline(match[1].trim(), token.dt);\\n            this.lexer.inline(match[2].trim(), token.dd);\\n            this.lexer.inline('unwalked', token.tokens);\\n            return token;\\n          }\\n        },\\n        renderer(token) {\\n          return `\\\\n<dt>${this.parser.parseInline(token.dt)} - ${this.parser.parseInline(token.tokens)}</dt><dd>${this.parser.parseInline(token.dd)}</dd>`;\\n        },\\n        childTokens: ['dd', 'dt']\\n      }],\\n      walkTokens(token) {\\n        if (token.type === 'text') {\\n          token.text += ' walked';\\n        }\\n      }\\n    };\\n    use(walkableDescription);\\n    const html = marked(':   Topic 1   :  Description 1\\\\n'\\n                      + ': **Topic 2** : *Description 2*');\\n    expect(html).toBe('<p>\\\\n<dt>Topic 1 walked - unwalked</dt><dd>Description 1 walked</dd>'\\n                    + '\\\\n<dt><strong>Topic 2 walked</strong> - unwalked</dt><dd><em>Description 2 walked</em></dd></p>\\\\n');\\n  });\\n\\n  describe('multiple extensions', () => {\\n    function createExtension(name) {\\n      return {\\n        extensions: [{\\n          name: `block-${name}`,\\n          level: 'block',\\n          start(src) { return src.indexOf('::'); },\\n          tokenizer(src, tokens) {\\n            if (src.startsWith(`::${name}\\\\n`)) {\\n              const text = `:${name}`;\\n              const token = {\\n                type: `block-${name}`,\\n                raw: `::${name}\\\\n`,\\n                text,\\n                tokens: []\\n              };\\n              this.lexer.inline(token.text, token.tokens);\\n              return token;\\n            }\\n          },\\n          renderer(token) {\\n            return `<${token.type}>${this.parser.parseInline(token.tokens)}</${token.type}>\\\\n`;\\n          }\\n        }, {\\n          name: `inline-${name}`,\\n          level: 'inline',\\n          start(src) { return src.indexOf(':'); },\\n          tokenizer(src, tokens) {\\n            if (src.startsWith(`:${name}`)) {\\n              return {\\n                type: `inline-${name}`,\\n                raw: `:${name}`,\\n                text: `used ${name}`\\n              };\\n            }\\n          },\\n          renderer(token) {\\n            return token.text;\\n          }\\n        }],\\n        tokenizer: {\\n          heading(src) {\\n            if (src.startsWith(`# ${name}`)) {\\n              const token = {\\n                type: 'heading',\\n                raw: `# ${name}`,\\n                text: `used ${name}`,\\n                depth: 1,\\n                tokens: []\\n              };\\n              this.lexer.inline(token.text, token.tokens);\\n              return token;\\n            }\\n            return false;\\n          }\\n        },\\n        renderer: {\\n          heading(text, depth, raw, slugger) {\\n            if (text === name) {\\n              return `<h${depth}>${text}</h${depth}>\\\\n`;\\n            }\\n            return false;\\n          }\\n        },\\n        walkTokens(token) {\\n          if (token.text === `used ${name}`) {\\n            token.text += ' walked';\\n          }\\n        },\\n        headerIds: false\\n      };\\n    }\\n\\n    function createFalseExtension(name) {\\n      return {\\n        extensions: [{\\n          name: `block-${name}`,\\n          level: 'block',\\n          start(src) { return src.indexOf('::'); },\\n          tokenizer(src, tokens) {\\n            return false;\\n          },\\n          renderer(token) {\\n            return false;\\n          }\\n        }, {\\n          name: `inline-${name}`,\\n          level: 'inline',\\n          start(src) { return src.indexOf(':'); },\\n          tokenizer(src, tokens) {\\n            return false;\\n          },\\n          renderer(token) {\\n            return false;\\n          }\\n        }],\\n        headerIds: false\\n      };\\n    }\\n\\n    function runTest() {\\n      const html = marked(`\\n::extension1\\n::extension2\\n\\n:extension1\\n:extension2\\n\\n# extension1\\n\\n# extension2\\n\\n# no extension\\n`);\\n\\n      expect(`\\\\n${html}\\\\n`.replace(/\\\\n+/g, '\\\\n')).toBe(`\\n<block-extension1>used extension1 walked</block-extension1>\\n<block-extension2>used extension2 walked</block-extension2>\\n<p>used extension1 walked\\nused extension2 walked</p>\\n<h1>used extension1 walked</h1>\\n<h1>used extension2 walked</h1>\\n<h1>no extension</h1>\\n`);\\n    }\\n\\n    it('should merge extensions when calling marked.use multiple times', () => {\\n      use(createExtension('extension1'));\\n      use(createExtension('extension2'));\\n\\n      runTest();\\n    });\\n\\n    it('should merge extensions when calling marked.use with multiple extensions', () => {\\n      use(\\n        createExtension('extension1'),\\n        createExtension('extension2')\\n      );\\n\\n      runTest();\\n    });\\n\\n    it('should fall back to any extensions with the same name if the first returns false', () => {\\n      use(\\n        createExtension('extension1'),\\n        createExtension('extension2'),\\n        createFalseExtension('extension1'),\\n        createFalseExtension('extension2')\\n      );\\n\\n      runTest();\\n    });\\n  });\\n\\n  it('should allow deleting/editing tokens', () => {\\n    const styleTags = {\\n      extensions: [{\\n        name: 'inlineStyleTag',\\n        level: 'inline',\\n        start(src) {\\n          const match = src.match(/ *{[^\\\\{]/);\\n          if (match) {\\n            return match.index;\\n          }\\n        },\\n        tokenizer(src, tokens) {\\n          const rule = /^ *{([^\\\\{\\\\}\\\\n]+)}$/;\\n          const match = rule.exec(src);\\n          if (match) {\\n            return {\\n              type: 'inlineStyleTag',\\n              raw: match[0], // This is the text that you want your token to consume from the source\\n              text: match[1]\\n            };\\n          }\\n        }\\n      },\\n      {\\n        name: 'styled',\\n        renderer(token) {\\n          token.type = token.originalType;\\n          const text = this.parser.parse([token]);\\n          const openingTag = /(<[^\\\\s<>]+)([^\\\\n<>]*>.*)/s.exec(text);\\n          if (openingTag) {\\n            return `${openingTag[1]} ${token.style}${openingTag[2]}`;\\n          }\\n          return text;\\n        }\\n      }],\\n      walkTokens(token) {\\n        if (token.tokens) {\\n          const finalChildToken = token.tokens[token.tokens.length - 1];\\n          if (finalChildToken && finalChildToken.type === 'inlineStyleTag') {\\n            token.originalType = token.type;\\n            token.type = 'styled';\\n            token.style = `style=\\\"color:${finalChildToken.text};\\\"`;\\n            token.tokens.pop();\\n          }\\n        }\\n      },\\n      headerIds: false\\n    };\\n    use(styleTags);\\n    const html = marked('This is a *paragraph* with blue text. {blue}\\\\n'\\n                      + '# This is a *header* with red text {red}');\\n    expect(html).toBe('<p style=\\\"color:blue;\\\">This is a <em>paragraph</em> with blue text.</p>\\\\n'\\n                     + '<h1 style=\\\"color:red;\\\">This is a <em>header</em> with red text</h1>\\\\n');\\n  });\\n\\n  it('should use renderer', () => {\\n    const extension = {\\n      renderer: {\\n        paragraph(text) {\\n          return 'extension';\\n        }\\n      }\\n    };\\n    spyOn(extension.renderer, 'paragraph').and.callThrough();\\n    use(extension);\\n    const html = marked('text');\\n    expect(extension.renderer.paragraph).toHaveBeenCalledWith('text');\\n    expect(html).toBe('extension');\\n  });\\n\\n  it('should use tokenizer', () => {\\n    const extension = {\\n      tokenizer: {\\n        paragraph(text) {\\n          const token = {\\n            type: 'paragraph',\\n            raw: text,\\n            text: 'extension',\\n            tokens: []\\n          };\\n          this.lexer.inline(token.text, token.tokens);\\n          return token;\\n        }\\n      }\\n    };\\n    spyOn(extension.tokenizer, 'paragraph').and.callThrough();\\n    use(extension);\\n    const html = marked('text');\\n    expect(extension.tokenizer.paragraph).toHaveBeenCalledWith('text');\\n    expect(html).toBe('<p>extension</p>\\\\n');\\n  });\\n\\n  it('should use walkTokens', () => {\\n    let walked = 0;\\n    const extension = {\\n      walkTokens(token) {\\n        walked++;\\n      }\\n    };\\n    use(extension);\\n    marked('text');\\n    expect(walked).toBe(2);\\n  });\\n\\n  it('should use walkTokens in async', (done) => {\\n    let walked = 0;\\n    const extension = {\\n      walkTokens(token) {\\n        walked++;\\n      }\\n    };\\n    use(extension);\\n    marked('text', () => {\\n      expect(walked).toBe(2);\\n      done();\\n    });\\n  });\\n\\n  it('should use options from extension', () => {\\n    const extension = {\\n      headerIds: false\\n    };\\n    use(extension);\\n    const html = marked('# heading');\\n    expect(html).toBe('<h1>heading</h1>\\\\n');\\n  });\\n\\n  it('should call all walkTokens in reverse order', () => {\\n    let walkedOnce = 0;\\n    let walkedTwice = 0;\\n    const extension1 = {\\n      walkTokens(token) {\\n        if (token.walkedOnce) {\\n          walkedTwice++;\\n        }\\n      }\\n    };\\n    const extension2 = {\\n      walkTokens(token) {\\n        walkedOnce++;\\n        token.walkedOnce = true;\\n      }\\n    };\\n    use(extension1);\\n    use(extension2);\\n    marked('text');\\n    expect(walkedOnce).toBe(2);\\n    expect(walkedTwice).toBe(2);\\n  });\\n\\n  it('should use last extension function and not override others', () => {\\n    const extension1 = {\\n      renderer: {\\n        paragraph(text) {\\n          return 'extension1 paragraph\\\\n';\\n        },\\n        html(html) {\\n          return 'extension1 html\\\\n';\\n        }\\n      }\\n    };\\n    const extension2 = {\\n      renderer: {\\n        paragraph(text) {\\n          return 'extension2 paragraph\\\\n';\\n        }\\n      }\\n    };\\n    use(extension1);\\n    use(extension2);\\n    const html = marked(`\\nparagraph\\n\\n<html />\\n\\n# heading\\n`);\\n    expect(html).toBe('extension2 paragraph\\\\nextension1 html\\\\n<h1 id=\\\"heading\\\">heading</h1>\\\\n');\\n  });\\n\\n  it('should use previous extension when returning false', () => {\\n    const extension1 = {\\n      renderer: {\\n        paragraph(text) {\\n          if (text !== 'original') {\\n            return 'extension1 paragraph\\\\n';\\n          }\\n          return false;\\n        }\\n      }\\n    };\\n    const extension2 = {\\n      renderer: {\\n        paragraph(text) {\\n          if (text !== 'extension1' && text !== 'original') {\\n            return 'extension2 paragraph\\\\n';\\n          }\\n          return false;\\n        }\\n      }\\n    };\\n    use(extension1);\\n    use(extension2);\\n    const html = marked(`\\nparagraph\\n\\nextension1\\n\\noriginal\\n`);\\n    expect(html).toBe('extension2 paragraph\\\\nextension1 paragraph\\\\n<p>original</p>\\\\n');\\n  });\\n\\n  it('should get options with this.options', () => {\\n    const extension = {\\n      renderer: {\\n        heading: () => {\\n          return this && this.options ? 'arrow options\\\\n' : 'arrow no options\\\\n';\\n        },\\n        html: function() {\\n          return this.options ? 'function options\\\\n' : 'function no options\\\\n';\\n        },\\n        paragraph() {\\n          return this.options ? 'shorthand options\\\\n' : 'shorthand no options\\\\n';\\n        }\\n      }\\n    };\\n    use(extension);\\n    const html = marked(`\\n# heading\\n\\n<html />\\n\\nparagraph\\n`);\\n    expect(html).toBe('arrow no options\\\\nfunction options\\\\nshorthand options\\\\n');\\n  });\\n});\\n\\ndescribe('async highlight', () => {\\n  let highlight, markdown;\\n  beforeEach(() => {\\n    highlight = jasmine.createSpy('highlight', (text, lang, callback) => {\\n      setImmediate(() => {\\n        callback(null, `async ${text || ''}`);\\n      });\\n    });\\n    markdown = `\\n\\\\`\\\\`\\\\`lang1\\ntext 1\\n\\\\`\\\\`\\\\`\\n\\n> \\\\`\\\\`\\\\`lang2\\n> text 2\\n> \\\\`\\\\`\\\\`\\n\\n- \\\\`\\\\`\\\\`lang3\\n  text 3\\n  \\\\`\\\\`\\\\`\\n`;\\n  });\\n\\n  it('should highlight codeblocks async', (done) => {\\n    highlight.and.callThrough();\\n\\n    marked(markdown, { highlight }, (err, html) => {\\n      if (err) {\\n        fail(err);\\n      }\\n\\n      expect(html).toBe(`<pre><code class=\\\"language-lang1\\\">async text 1\\n</code></pre>\\n<blockquote>\\n<pre><code class=\\\"language-lang2\\\">async text 2\\n</code></pre>\\n</blockquote>\\n<ul>\\n<li><pre><code class=\\\"language-lang3\\\">async text 3\\n</code></pre>\\n</li>\\n</ul>\\n`);\\n      done();\\n    });\\n  });\\n\\n  it('should call callback for each error in highlight', (done) => {\\n    highlight.and.callFake((text, lang, callback) => {\\n      callback(new Error('highlight error'));\\n    });\\n\\n    let numErrors = 0;\\n    marked(markdown, { highlight }, (err, html) => {\\n      expect(err).toBeTruthy();\\n      expect(html).toBeUndefined();\\n\\n      if (err) {\\n        numErrors++;\\n      }\\n\\n      if (numErrors === 3) {\\n        done();\\n      }\\n    });\\n  });\\n\\n  it('should highlight codeblocks when not async', (done) => {\\n    highlight.and.callFake((text, lang, callback) => {\\n      callback(null, `async ${text || ''}`);\\n    });\\n\\n    marked(markdown, { highlight }, (err, html) => {\\n      if (err) {\\n        fail(err);\\n      }\\n\\n      expect(html).toBe(`<pre><code class=\\\"language-lang1\\\">async text 1\\n</code></pre>\\n<blockquote>\\n<pre><code class=\\\"language-lang2\\\">async text 2\\n</code></pre>\\n</blockquote>\\n<ul>\\n<li><pre><code class=\\\"language-lang3\\\">async text 3\\n</code></pre>\\n</li>\\n</ul>\\n`);\\n      done();\\n    });\\n  });\\n});\\n\\ndescribe('walkTokens', () => {\\n  it('should walk over every token', () => {\\n    const markdown = `\\nparagraph\\n\\n---\\n\\n# heading\\n\\n\\\\`\\\\`\\\\`\\ncode\\n\\\\`\\\\`\\\\`\\n\\n| a | b |\\n|---|---|\\n| 1 | 2 |\\n| 3 | 4 |\\n\\n> blockquote\\n\\n- list\\n\\n<div>html</div>\\n\\n[link](https://example.com)\\n\\n![image](https://example.com/image.jpg)\\n\\n**strong**\\n\\n*em*\\n\\n\\\\`codespan\\\\`\\n\\n~~del~~\\n\\nbr\\nbr\\n`;\\n    const tokens = lexer(markdown, { ...getDefaults(), breaks: true });\\n    const tokensSeen = [];\\n    _walkTokens(tokens, (token) => {\\n      tokensSeen.push([token.type, (token.raw || '').replace(/\\\\n/g, '')]);\\n    });\\n\\n    expect(tokensSeen).toEqual([\\n      ['paragraph', 'paragraph'],\\n      ['text', 'paragraph'],\\n      ['space', ''],\\n      ['hr', '---'],\\n      ['heading', '# heading'],\\n      ['text', 'heading'],\\n      ['code', '```code```'],\\n      ['space', ''],\\n      ['table', '| a | b ||---|---|| 1 | 2 || 3 | 4 |'],\\n      ['text', 'a'],\\n      ['text', 'b'],\\n      ['text', '1'],\\n      ['text', '2'],\\n      ['text', '3'],\\n      ['text', '4'],\\n      ['blockquote', '> blockquote'],\\n      ['paragraph', 'blockquote'],\\n      ['text', 'blockquote'],\\n      ['list', '- list'],\\n      ['list_item', '- list'],\\n      ['text', 'list'],\\n      ['text', 'list'],\\n      ['space', ''],\\n      ['html', '<div>html</div>'],\\n      ['paragraph', '[link](https://example.com)'],\\n      ['link', '[link](https://example.com)'],\\n      ['text', 'link'],\\n      ['space', ''],\\n      ['paragraph', '![image](https://example.com/image.jpg)'],\\n      ['image', '![image](https://example.com/image.jpg)'],\\n      ['space', ''],\\n      ['paragraph', '**strong**'],\\n      ['strong', '**strong**'],\\n      ['text', 'strong'],\\n      ['space', ''],\\n      ['paragraph', '*em*'],\\n      ['em', '*em*'],\\n      ['text', 'em'],\\n      ['space', ''],\\n      ['paragraph', '`codespan`'],\\n      ['codespan', '`codespan`'],\\n      ['space', ''],\\n      ['paragraph', '~~del~~'],\\n      ['del', '~~del~~'],\\n      ['text', 'del'],\\n      ['space', ''],\\n      ['paragraph', 'brbr'],\\n      ['text', 'br'],\\n      ['br', ''],\\n      ['text', 'br']\\n    ]);\\n  });\\n\\n  it('should asign marked to `this`', () => {\\n    marked.use({\\n      walkTokens(token) {\\n        if (token.type === 'em') {\\n          token.text += ' walked';\\n          token.tokens = this.Lexer.lexInline(token.text);\\n        }\\n      }\\n    });\\n    expect(marked('*text*').trim()).toBe('<p><em>text walked</em></p>');\\n  });\\n});\\n\\n[end of marked-spec.js]\\n\\n</code>\\n\\nHere is an example of a patch file. It consists of changes to the code base. It specifies the file names, the line numbers of each change, and the removed and added lines. A single patch file can contain changes to multiple files.\\n\\n<patch>\\ndiff --git a/file.py b/file.py\\n--- a/file.py\\n+++ b/file.py\\n@@ -1,27 +1,35 @@\\n def euclidean(a, b):\\n-    while b:\\n-        a, b = b, a % b\\n-    return a\\n+    if b == 0:\\n+        return a\\n+    return euclidean(b, a % b)\\n \\n def bresenham(x0, y0, x1, y1):\\n+    points = []\\n+    dx = abs(x1 - x0)\\n+    dy = abs(y1 - y0)\\n+    sx = 1 if x0 < x1 else -1\\n+    sy = 1 if y0 < y1 else -1\\n+    err = dx - dy\\n+    \\n     while True:\\n-        plot(x0, y0)\\n+        points.append((x0, y0))\\n         if x0 == x1 and y0 == y1:\\n             break\\n-        e2 = 2 * err\\n-        if e2 > -dy:\\n-            err -= dy\\n-            x0 += sx\\n-        if e2 < dx:\\n-            err += dx\\n-            y0 += sy\\n+        e2 = 2 * err\\n+        if e2 > -dy:\\n+            err -= dy\\n+            x0 += sx\\n+        if e2 < dx:\\n+            err += dx\\n+            y0 += sy\\n+    return points\\n+</patch>\\n\\nI need you to solve the provided issue by generating a single patch file that I can apply directly to this repository using git apply. Please respond with a single patch file in the format shown above.\\n\\nRespond below: \\n\"}]",
      "retrieved_file_paths": [
        "AUTHORS.md",
        "Bug_report.md",
        "demo.js",
        "ISSUE_TEMPLATE.md",
        "marked-spec.js"
      ]
    },
    "retrieved_documents": [
      {
        "id": "be76306d-e1aa-42a1-af5a-0909fd161c1e",
        "score": 0.01639344262295082,
        "payload": {
          "text": "# Authors\n\nMarked takes an encompassing approach to its community. As such, you can think of these as [concentric circles](https://medium.com/the-node-js-collection/healthy-open-source-967fa8be7951), where each group encompasses the following groups.\n\n<table>\n  <tbody>\n  \t<tr>\n      <td align=\"center\" valign=\"top\" style=\"width:32%\">\n        <a href=\"https://github.com/chjj\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/chjj.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/chjj\">Christopher Jeffrey</a>\n        <div>Original Author</div>\n        <small>Started the fire</small>\n      </td>\n      <td align=\"center\" valign=\"top\" style=\"width:32%\">\n        <a href=\"https://github.com/joshbruce\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/joshbruce.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://joshbruce.com\">Josh Bruce</a>\n        <div>Publisher</div>\n        <small>Release Wrangler; Humaning Helper; Heckler of Hypertext</small>\n      </td>\n      <td align=\"center\" valign=\"top\" style=\"width:32%\">\n        <a href=\"https://github.com/styfle\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/styfle.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://www.ceriously.com\">Steven</a>\n        <div>Publisher</div>\n        <small>Release Wrangler; Dr. Docs; Open source, of course; GitHub Guru; Humaning Helper</small>\n      </td>\n    </tr>\n  \t<tr>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/davisjam\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/davisjam.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/davisjam\">Jamie Davis</a>\n        <div>Committer</div>\n        <small>Seeker of Security</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/UziTech\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/UziTech.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://tony.brix.ninja\">Tony Brix</a>\n        <div>Publisher</div>\n        <small>Release Wrangler; Titan of the test harness; Dr. DevOps</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/calculuschild\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/calculuschild.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/calculuschild\">Trevor Buckner</a>\n        <div>Committer</div>\n        <small>Master of Marked</small>\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n## Contributors\n\n<table>\n  <tbody>\n    <tr>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/intcreator\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/intcreator.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/intcreator\">Brandon der Bl\u00e4tter</a>\n        <div>Contributor</div>\n        <small>Curious Contributor</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/carlosvalle\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/carlosvalle.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/carlosvalle\">Carlos Valle</a>\n        <div>Contributor</div>\n        <small>Maker of the Marked mark from 2018 to present</small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n        <a href=\"https://github.com/Feder1co5oave\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/Feder1co5oave.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/Feder1co5oave\">Federico Soave</a>\n        <div>Contributor</div>\n        <small>Regent of the Regex; Master of Marked</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/karenyavine\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/karenyavine.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/karenyavine\">Karen Yavine</a>\n        <div>Contributor</div>\n        <small>Snyk's Security Saint</small>\n      </td>\n     </tr>\n     <tr>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/KostyaTretyak\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/KostyaTretyak.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/KostyaTretyak\">\u041a\u043e\u0441\u0442\u044f \u0422\u0440\u0435\u0442\u044f\u043a</a>\n        <div>Contributor</div>\n        <small></small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n        <a href=\"https://github.com/tomtheisen\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/tomtheisen.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/tomtheisen\">Tom Theisen</a>\n        <div>Contributor</div>\n        <small>Defibrillator</small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n        <a href=\"https://github.com/mccraveiro\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/mccraveiro.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/mccraveiro\">Mateus Craveiro</a>\n        <div>Contributor</div>\n        <small>Defibrillator</small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n      </td>\n     </tr>\n  </tbody>\n</table>\n\n## Publishers\n\nPublishers are admins who also have the responsibility, privilege, and burden of publishing the new releases to NPM and performing outreach and external stakeholder communications. Further, when things go pear-shaped, they're the ones taking most of the heat. Finally, when things go well, they're the primary ones praising the contributors who made it possible.\n\n(In other words, while Admins are focused primarily on the internal workings of the project, Publishers are focused on internal *and* external concerns.)\n\n**Should not exceed 2:** Having more people with the authority to publish a release can quickly turn into a consensus seeking nightmare (design by committee). Having only one is preferred (Directly Responsible Individual); however, given the nature of the project and its history, having an immediate fallback, and a potential deep fallback (Original author) is probably a good idea.\n\n[Details on badges](#badges)\n\n## Admins\n\nAdmins are committers who also have the responsibility, privilege, and burden of selecting committers and making sure the project itself runs smoothly, which includes community maintenance, governance, dispute resolution, and so on. (Letting the contributors easily enter into, and work within, the project to begin contributing, with as little friction as possible.)\n\n**Should not exceed 3:** When there are too many people with the ability to resolve disputes, the dispute itself can quickly turn into a dispute amongst the admins themselves; therefore, we want this group to be small enough to commit to action and large enough to not put too much burden on one person. (Should ensure faster resolution and responsiveness.)\n\nTo be listed: Admins are usually selected from the pool of committers (or they volunteer, using the same process) who demonstrate good understanding of the marked culture, operations, and do their best to help new contributors get up to speed on how to contribute effectively to the project.\n\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\n\n[Details on badges](#badges)\n\n## Committers\n\nCommitters are contributors who also have the responsibility, privilege, some might even say burden of being able to review and merge contributions (just usually not their own).\n\nA note on \"decision making authority\". This is related to submitting PRs and the [advice process](http://www.reinventingorganizationswiki.com/Decision_Making). The person marked as having decision making authority over a certain area should be sought for advice in that area before committing to a course of action.\n\n**Should not exceed 5:** For larger PRs affecting more of the codebase and, most likely, review by more people, we try to keep this pool small and responsive and let those with decision making authority have final say without negative repercussions from the other committers.\n\nTo be listed: Committers are usually selected (or they volunteer, using the same process) from contributors who enter the discussions regarding the future direction of Marked (maybe even doing informal reviews of contributions despite not being able to merge them yourself).\n\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\n\nA note on volunteering:\n\n1. Please do not volunteer unless you believe you can demonstrate to your peers you can do the work required.\n2. Please do not overcommit yourself; we count on those committed to the project to be responsive. Really consider, with all you have going on, whether you able to really commit to it.\n3. Don't let the previous frighten you away, it can always be changed later by you or your peers.\n\n[Details on badges](#badges)\n\n## Contributors\n\nContributors are users who submit a [PR](https://github.com/markedjs/marked/pulls), [Issue](https://github.com/markedjs/marked/issues), or collaborate in making Marked a better product and experience for all the users.\n\nTo be listed: make a contribution and, if it has significant impact, the committers may be able to add you here.\n\nTo be removed: please let us know or submit a PR.\n\n[Details on badges](#badges)\n\n## Users\n\nUsers are anyone using Marked in some fashion, without them, there's no reason for us to exist.\n\n|Individual or Organization |Website                 |Project                              |Submitted by                                        |\n|:--------------------------|:-----------------------|:------------------------------------|:---------------------------------------------------|\n|MarkedJS                   |https://marked.js.org   |https://github.com/markedjs/marked   |The marked committers                               |\n\nTo be listed: All fields are optional. Contact any of the committers or, more timely, submit a pull request with the following (using the first row as an example):\n\n- **Individual or Organization:** The name you would like associated with the record.\n- **Website:** A URL to a standalone website for the project.\n- **Project:** A URL for the repository of the project using marked.\n- **Submitted by:** The name and optional honorifics for the person adding the listing.\n\nTo be removed: Same as above. Only instead of requesting addition request deletion or delete the row yourself.\n\n<h2 id=\"badges\">Badges</h2>\n\nBadges? You don't *need* no stinkin' badges.\n\nMovie references aside. (It was either that or, \"Let's play a game\", but that would have been creepy&hellip;that's why it will most likely come later.)\n\nBadges? If you *want* 'em, we got 'em, and here's how you get 'em (and&hellip;dramatic pause&hellip;why not two dramatic pauses for emphasis?&hellip; how they can be taken away).\n\n- [ ] Add the appropriate badge to the desired contributor in the desired column of this page, even if they're not listed here yet.\n- [ ] Submit a PR (we're big on PRs around here, if you haven't noticed, help us help you).\n- [ ] Follow the instructions for submitting a badge PR. (There are more details to find within. Come on. Everybody likes surprises, right? No? Actually, we just try to put documentation where it belongs, closer to the code and part of the sequence of events.)\n\n### Badges at play:\n\n<dl>\n\t<dt>Curious Contributor</dt>\n\t<dd>A contributor with less than one year on this page who is actively engaged in submitting PRs, Issues, making recommendations, sharing thoughts&hellip;without being too annoying about it (let's be clear, submitting 100 Issues recommending the Marked Committers send everyone candy is trying for the badge, not honestly earning it).</dd>\n\t<dt>Dr. DevOps</dt>\n\t<dd>\n\t\t<p>Someone who understands and contributes to improving the developer experience and flow of Marked into the world.</p>\n\t\t<blockquote>\n\t\t\t\"The main characteristic of the DevOps movement is to strongly advocate automation and monitoring at all steps of software construction, from integration, testing, releasing to deployment and infrastructure management. DevOps aims at shorter development cycles, increased deployment frequency, more dependable releases, in close alignment with business objectives.\" ~ <a href=\"https://www.wikipedia.org/wiki/DevOps\">Wikipedia</a>\n\t\t</blockquote>\n\t</dd>\n  <dt>Dr. Docs</dt>\n  <dd>Someone who has contributed a great deal to the creation and maintenance of the non-code areas of marked.</dd>\n\t<dt>Eye for the CLI</dt>\n\t<dd>At this point? Pretty much anyone who can update that `man` file to the current Marked version without regression in the CLI tool itself.</dd>\n\t<dt>GitHub Guru</dt>\n\t<dd>Someone who always seems to be able to tell you easier ways to do things with GitHub.</dd>\n\t<dt>Humaning Helper</dt>\n\t<dd>Someone who goes out of their way to help contributors feel welcomed and valued. Further, someone who takes the extra steps(s) necessary to help new contributors get up to speed. Finally, they maintain composure even in times of disagreement and dispute resolution.</dd>\n\t<dt>Heckler of Hypertext</dt>\n\t<dd>Someone who demonstrates an esoteric level of knowledge when it comes to HTML. In other words, someone who says things like, \"Did you know most Markdown flavors don't have a way to render a description list (`dl`)? All the more reason Markdown `!==` HTML.\"</dd>\n\t<dt>Markdown Maestro</dt>\n\t<dd>You know that person who knows about way too many different flavors of Markdown? The one who maybe seems a little too obsessed with the possibilities of Markdown beyond HTML? Come on. You know who they are. Or, at least you could, if you give them this badge.</dd>\n\t<dt>Master of Marked</dt>\n\t<dd>Someone who demonstrates they know the ins and outs of the codebase for Marked.</dd>\n\t<dt>Open source, of course</dt>\n\t<dd>Someone who advocates for and has a proven understanding of how to operate within open source communities.</dd>\n\t<dt>Regent of the Regex</dt>\n\t<dd><p>Can you demonstrate you understand the following without Google and Stackoverflow?</p>\n\t\t<p><code>/^( *)(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/</code></p>\n\t\t<p>Because this author can't yet. That's who gets these.</p>\n\t</dd>\n\t<dt>Seeker of Security</dt>\n\t<dd>Someone who has demonstrated a high degree of expertise or authority when it comes to software security.</dd>\n\t<dt>Titan of the Test Harness</dt>\n\t<dd>Someone who demonstrates high-levels of understanding regarding Marked's test harness.</dd>\n\t<dt>Totally Tron</dt>\n\t<dd>Someone who demonstrates they are willing and able to \"fight for the users\", both developers dependent on marked to do their jobs as well as end-users interacting with the output (particularly in the realm of those with the disabilities).</dd>\n</dl>\n\n### Special badges that come with the job:\n\n<dl>\n\t<dt>Defibrillator</dt>\n\t<dd>A contributor who stepped up to help bring Marked back to life by contributing solutions to help Marked pass when compared against the CommonMark and GitHub Flavored Markdown specifications.</dd>\n\t<dt>Maker of the Marked mark</dt>\n\t<dd>This badge is given to the person or organization credited with creating the logo (or logotype) used in Marked communications for a given period of time. **Maker of the Marked mark from 2017 to present**, for example.</dd>\n\t<dt>Release Wrangler</dt>\n\t<dd>This is a badge given to all Publishers.</dd>\n\t<dt>Snyk's Security Saint</dt>\n\t<dd>This is a badge given to whomever primarily reaches out from Snyk to let us know about security issues.</dd>\n</dl>\n",
          "filepath": "data/repos/markedjs/marked-4.0/docs/AUTHORS.md",
          "repo": "markedjs/marked",
          "version": "4.0",
          "chunk_index": 0,
          "chunk_id": "be76306d-e1aa-42a1-af5a-0909fd161c1e"
        }
      },
      {
        "id": "aa081831-8848-4dbe-90a9-4c6b13bee704",
        "score": 0.016129032258064516,
        "payload": {
          "text": "---\nname: Bug report\nabout: Marked says it does this thing but does not\n\n---\n**Marked version:**\n\n**Describe the bug**\nA clear and concise description of what the bug is.\n\n**To Reproduce**\nSteps to reproduce the behavior:\n\n<!-- If possible, use the Marked Demo permalink and compare to the CommonMark Dingus permalink to demonstrate the bug -->\n<!--\n1. [Marked Demo](https://marked.js.org/demo/)\n2. [CommonMark Demo](https://spec.commonmark.org/dingus/)\n-->\n\n<!-- If you need a specific version and options to reproduce the bug, use the following template -->\n<!--\n1. Install marked `npm install --save marked@0.3.19` with the version you are using\n2. Run marked with input string and options such as `marked('hello *world*', {gfm: true})`\n3. Actual output (or error) is...\n-->\n\n**Expected behavior**\nA clear and concise description of what you expected to happen.\n",
          "filepath": "data/repos/markedjs/marked-4.0/.github/ISSUE_TEMPLATE/Bug_report.md",
          "repo": "markedjs/marked",
          "version": "4.0",
          "chunk_index": 0,
          "chunk_id": "aa081831-8848-4dbe-90a9-4c6b13bee704"
        }
      },
      {
        "id": "5874635a-433b-453d-adb7-63517b5c5e73",
        "score": 0.015873015873015872,
        "payload": {
          "text": "/* globals marked, unfetch, ES6Promise, Promise */ // eslint-disable-line no-redeclare\n\nif (!window.Promise) {\n  window.Promise = ES6Promise;\n}\nif (!window.fetch) {\n  window.fetch = unfetch;\n}\n\nonunhandledrejection = function(e) {\n  throw e.reason;\n};\n\nvar $loadingElem = document.querySelector('#loading');\nvar $mainElem = document.querySelector('#main');\nvar $markdownElem = document.querySelector('#markdown');\nvar $markedVerElem = document.querySelector('#markedVersion');\nvar $commitVerElem = document.querySelector('#commitVersion');\nvar $markedVer = document.querySelector('#markedCdn');\nvar $optionsElem = document.querySelector('#options');\nvar $outputTypeElem = document.querySelector('#outputType');\nvar $inputTypeElem = document.querySelector('#inputType');\nvar $responseTimeElem = document.querySelector('#responseTime');\nvar $previewElem = document.querySelector('#preview');\nvar $previewIframe = document.querySelector('#preview iframe');\nvar $permalinkElem = document.querySelector('#permalink');\nvar $clearElem = document.querySelector('#clear');\nvar $htmlElem = document.querySelector('#html');\nvar $lexerElem = document.querySelector('#lexer');\nvar $panes = document.querySelectorAll('.pane');\nvar $inputPanes = document.querySelectorAll('.inputPane');\nvar lastInput = '';\nvar inputDirty = true;\nvar $activeOutputElem = null;\nvar search = searchToObject();\nvar markedVersions = {\n  master: 'https://cdn.jsdelivr.net/gh/markedjs/marked/marked.min.js'\n};\nvar markedVersionCache = {};\nvar delayTime = 1;\nvar checkChangeTimeout = null;\nvar markedWorker;\n\n$previewIframe.addEventListener('load', handleIframeLoad);\n\n$outputTypeElem.addEventListener('change', handleOutputChange, false);\n\n$inputTypeElem.addEventListener('change', handleInputChange, false);\n\n$markedVerElem.addEventListener('change', handleVersionChange, false);\n\n$markdownElem.addEventListener('change', handleInput, false);\n$markdownElem.addEventListener('keyup', handleInput, false);\n$markdownElem.addEventListener('keypress', handleInput, false);\n$markdownElem.addEventListener('keydown', handleInput, false);\n\n$optionsElem.addEventListener('change', handleInput, false);\n$optionsElem.addEventListener('keyup', handleInput, false);\n$optionsElem.addEventListener('keypress', handleInput, false);\n$optionsElem.addEventListener('keydown', handleInput, false);\n\n$commitVerElem.style.display = 'none';\n$commitVerElem.addEventListener('keypress', handleAddVersion, false);\n\n$clearElem.addEventListener('click', handleClearClick, false);\n\nPromise.all([\n  setInitialQuickref(),\n  setInitialOutputType(),\n  setInitialText(),\n  setInitialVersion()\n    .then(setInitialOptions)\n]).then(function() {\n  handleInputChange();\n  handleOutputChange();\n  checkForChanges();\n  setScrollPercent(0);\n  $loadingElem.style.display = 'none';\n  $mainElem.style.display = 'block';\n});\n\nfunction setInitialText() {\n  if ('text' in search) {\n    $markdownElem.value = search.text;\n  } else {\n    return fetch('./initial.md')\n      .then(function(res) { return res.text(); })\n      .then(function(text) {\n        if ($markdownElem.value === '') {\n          $markdownElem.value = text;\n        }\n      });\n  }\n}\n\nfunction setInitialQuickref() {\n  return fetch('./quickref.md')\n    .then(function(res) { return res.text(); })\n    .then(function(text) {\n      document.querySelector('#quickref').value = text;\n    });\n}\n\nfunction setInitialVersion() {\n  return fetch('https://data.jsdelivr.com/v1/package/npm/marked')\n    .then(function(res) {\n      return res.json();\n    })\n    .then(function(json) {\n      for (var i = 0; i < json.versions.length; i++) {\n        var ver = json.versions[i];\n        markedVersions[ver] = 'https://cdn.jsdelivr.net/npm/marked@' + ver + '/marked.min.js';\n        var opt = document.createElement('option');\n        opt.textContent = ver;\n        opt.value = ver;\n        $markedVerElem.appendChild(opt);\n      }\n    })\n    .then(function() {\n      return fetch('https://api.github.com/repos/markedjs/marked/commits')\n        .then(function(res) {\n          return res.json();\n        })\n        .then(function(json) {\n          markedVersions.master = 'https://cdn.jsdelivr.net/gh/markedjs/marked@' + json[0].sha + '/marked.min.js';\n        })\n        .catch(function() {\n          // do nothing\n          // uses url without commit\n        });\n    })\n    .then(function() {\n      if (search.version) {\n        if (markedVersions[search.version]) {\n          return search.version;\n        } else {\n          var match = search.version.match(/^(\\w+):(.+)$/);\n          if (match) {\n            switch (match[1]) {\n              case 'commit':\n                addCommitVersion(search.version, match[2].substring(0, 7), match[2]);\n                return search.version;\n              case 'pr':\n                return getPrCommit(match[2])\n                  .then(function(commit) {\n                    if (!commit) {\n                      return 'master';\n                    }\n                    addCommitVersion(search.version, 'PR #' + match[2], commit);\n                    return search.version;\n                  });\n            }\n          }\n        }\n      }\n\n      return 'master';\n    })\n    .then(function(version) {\n      $markedVerElem.value = version;\n    })\n    .then(updateVersion);\n}\n\nfunction setInitialOptions() {\n  if ('options' in search) {\n    $optionsElem.value = search.options;\n  } else {\n    return setDefaultOptions();\n  }\n}\n\nfunction setInitialOutputType() {\n  if (search.outputType) {\n    $outputTypeElem.value = search.outputType;\n  }\n}\n\nfunction handleIframeLoad() {\n  lastInput = '';\n  inputDirty = true;\n}\n\nfunction handleInput() {\n  inputDirty = true;\n}\n\nfunction handleVersionChange() {\n  if ($markedVerElem.value === 'commit' || $markedVerElem.value === 'pr') {\n    $commitVerElem.style.display = '';\n  } else {\n    $commitVerElem.style.display = 'none';\n    updateVersion();\n  }\n}\n\nfunction handleClearClick() {\n  $markdownElem.value = '';\n  $markedVerElem.value = 'master';\n  $commitVerElem.style.display = 'none';\n  updateVersion().then(setDefaultOptions);\n}\n\nfunction handleAddVersion(e) {\n  if (e.which === 13) {\n    switch ($markedVerElem.value) {\n      case 'commit':\n        var commit = $commitVerElem.value.toLowerCase();\n        if (!commit.match(/^[0-9a-f]{40}$/)) {\n          alert('That is not a valid commit');\n          return;\n        }\n        addCommitVersion('commit:' + commit, commit.substring(0, 7), commit);\n        $markedVerElem.value = 'commit:' + commit;\n        $commitVerElem.style.display = 'none';\n        $commitVerElem.value = '';\n        updateVersion();\n        break;\n      case 'pr':\n        $commitVerElem.disabled = true;\n        var pr = $commitVerElem.value.replace(/\\D/g, '');\n        getPrCommit(pr)\n          .then(function(commit) {\n            $commitVerElem.disabled = false;\n            if (!commit) {\n              alert('That is not a valid PR');\n              return;\n            }\n            addCommitVersion('pr:' + pr, 'PR #' + pr, commit);\n            $markedVerElem.value = 'pr:' + pr;\n            $commitVerElem.style.display = 'none';\n            $commitVerElem.value = '';\n            updateVersion();\n          });\n    }\n  }\n}\n\nfunction handleInputChange() {\n  handleChange($inputPanes, $inputTypeElem.value);\n}\n\nfunction handleOutputChange() {\n  $activeOutputElem = handleChange($panes, $outputTypeElem.value);\n  updateLink();\n}\n\nfunction handleChange(panes, visiblePane) {\n  var active = null;\n  for (var i = 0; i < panes.length; i++) {\n    if (panes[i].id === visiblePane) {\n      panes[i].style.display = '';\n      active = panes[i];\n    } else {\n      panes[i].style.display = 'none';\n    }\n  }\n  return active;\n}\n\nfunction addCommitVersion(value, text, commit) {\n  if (markedVersions[value]) {\n    return;\n  }\n  markedVersions[value] = 'https://cdn.jsdelivr.net/gh/markedjs/marked@' + commit + '/marked.min.js';\n  var opt = document.createElement('option');\n  opt.textContent = text;\n  opt.value = value;\n  $markedVerElem.insertBefore(opt, $markedVerElem.firstChild);\n}\n\nfunction getPrCommit(pr) {\n  return fetch('https://api.github.com/repos/markedjs/marked/pulls/' + pr + '/commits')\n    .then(function(res) {\n      return res.json();\n    })\n    .then(function(json) {\n      return json[json.length - 1].sha;\n    }).catch(function() {\n      // return undefined\n    });\n}\n\nfunction setDefaultOptions() {\n  if (window.Worker) {\n    return messageWorker({\n      task: 'defaults',\n      version: markedVersions[$markedVerElem.value]\n    });\n  } else {\n    var defaults = marked.getDefaults();\n    setOptions(defaults);\n  }\n}\n\nfunction setOptions(opts) {\n  $optionsElem.value = JSON.stringify(\n    opts,\n    function(key, value) {\n      if (value && typeof value === 'object' && Object.getPrototypeOf(value) !== Object.prototype) {\n        return undefined;\n      }\n      return value;\n    }, ' ');\n}\n\nfunction searchToObject() {\n  // modified from https://stackoverflow.com/a/7090123/806777\n  var pairs = location.search.slice(1).split('&');\n  var obj = {};\n\n  for (var i = 0; i < pairs.length; i++) {\n    if (pairs[i] === '') {\n      continue;\n    }\n\n    var pair = pairs[i].split('=');\n\n    obj[decodeURIComponent(pair.shift())] = decodeURIComponent(pair.join('='));\n  }\n\n  return obj;\n}\n\nfunction isArray(arr) {\n  return Object.prototype.toString.call(arr) === '[object Array]';\n}\n\nfunction stringRepeat(char, times) {\n  var s = '';\n  for (var i = 0; i < times; i++) {\n    s += char;\n  }\n  return s;\n}\n\nfunction jsonString(input, level) {\n  level = level || 0;\n  if (isArray(input)) {\n    if (input.length === 0) {\n      return '[]';\n    }\n    var items = [],\n        i;\n    if (!isArray(input[0]) && typeof input[0] === 'object' && input[0] !== null) {\n      for (i = 0; i < input.length; i++) {\n        items.push(stringRepeat(' ', 2 * level) + jsonString(input[i], level + 1));\n      }\n      return '[\\n' + items.join('\\n') + '\\n]';\n    }\n    for (i = 0; i < input.length; i++) {\n      items.push(jsonString(input[i], level));\n    }\n    return '[' + items.join(', ') + ']';\n  } else if (typeof input === 'object' && input !== null) {\n    var props = [];\n    for (var prop in input) {\n      props.push(prop + ':' + jsonString(input[prop], level));\n    }\n    return '{' + props.join(', ') + '}';\n  } else {\n    return JSON.stringify(input);\n  }\n}\n\nfunction getScrollSize() {\n  var e = $activeOutputElem;\n\n  return e.scrollHeight - e.clientHeight;\n}\n\nfunction getScrollPercent() {\n  var size = getScrollSize();\n\n  if (size <= 0) {\n    return 1;\n  }\n\n  return $activeOutputElem.scrollTop / size;\n}\n\nfunction setScrollPercent(percent) {\n  $activeOutputElem.scrollTop = percent * getScrollSize();\n}\n\nfunction updateLink() {\n  var outputType = '';\n  if ($outputTypeElem.value !== 'preview') {\n    outputType = 'outputType=' + $outputTypeElem.value + '&';\n  }\n\n  $permalinkElem.href = '?' + outputType + 'text=' + encodeURIComponent($markdownElem.value)\n      + '&options=' + encodeURIComponent($optionsElem.value)\n      + '&version=' + encodeURIComponent($markedVerElem.value);\n  history.replaceState('', document.title, $permalinkElem.href);\n}\n\nfunction updateVersion() {\n  if (window.Worker) {\n    handleInput();\n    return Promise.resolve();\n  }\n  var promise;\n  if (markedVersionCache[$markedVerElem.value]) {\n    promise = Promise.resolve(markedVersionCache[$markedVerElem.value]);\n  } else {\n    promise = fetch(markedVersions[$markedVerElem.value])\n      .then(function(res) { return res.text(); })\n      .then(function(text) {\n        markedVersionCache[$markedVerElem.value] = text;\n        return text;\n      });\n  }\n  return promise.then(function(text) {\n    var script = document.createElement('script');\n    script.textContent = text;\n\n    $markedVer.parentNode.replaceChild(script, $markedVer);\n    $markedVer = script;\n  }).then(handleInput);\n}\n\nfunction checkForChanges() {\n  if (inputDirty && $markedVerElem.value !== 'commit' && $markedVerElem.value !== 'pr' && (typeof marked !== 'undefined' || window.Worker)) {\n    inputDirty = false;\n\n    updateLink();\n\n    var options = {};\n    var optionsString = $optionsElem.value || '{}';\n    try {\n      var newOptions = JSON.parse(optionsString);\n      options = newOptions;\n      $optionsElem.classList.remove('error');\n    } catch (err) {\n      $optionsElem.classList.add('error');\n    }\n\n    var version = markedVersions[$markedVerElem.value];\n    var markdown = $markdownElem.value;\n    var hash = version + markdown + optionsString;\n    if (lastInput !== hash) {\n      lastInput = hash;\n      if (window.Worker) {\n        delayTime = 100;\n        messageWorker({\n          task: 'parse',\n          version: version,\n          markdown: markdown,\n          options: options\n        });\n      } else {\n        var startTime = new Date();\n        var lexed = marked.lexer(markdown, options);\n        var lexedList = jsonString(lexed);\n        var parsed = marked.parser(lexed, options);\n        var endTime = new Date();\n\n        $previewElem.classList.remove('error');\n        $htmlElem.classList.remove('error');\n        $lexerElem.classList.remove('error');\n        var scrollPercent = getScrollPercent();\n        setParsed(parsed, lexedList);\n        setScrollPercent(scrollPercent);\n        delayTime = endTime - startTime;\n        setResponseTime(delayTime);\n        if (delayTime < 50) {\n          delayTime = 50;\n        } else if (delayTime > 500) {\n          delayTime = 1000;\n        }\n      }\n    }\n  }\n  checkChangeTimeout = window.setTimeout(checkForChanges, delayTime);\n}\n\nfunction setResponseTime(ms) {\n  var amount = ms;\n  var suffix = 'ms';\n  if (ms > 1000 * 60 * 60) {\n    amount = 'Too Long';\n    suffix = '';\n  } else if (ms > 1000 * 60) {\n    amount = '>' + Math.floor(ms / (1000 * 60));\n    suffix = 'm';\n  } else if (ms > 1000) {\n    amount = '>' + Math.floor(ms / 1000);\n    suffix = 's';\n  }\n  $responseTimeElem.textContent = amount + suffix;\n}\n\nfunction setParsed(parsed, lexed) {\n  try {\n    $previewIframe.contentDocument.body.innerHTML = parsed;\n  } catch (ex) {}\n  $htmlElem.value = parsed;\n  $lexerElem.value = lexed;\n}\n\nvar workerPromises = {};\nfunction messageWorker(message) {\n  if (!markedWorker || markedWorker.working) {\n    if (markedWorker) {\n      clearTimeout(markedWorker.timeout);\n      markedWorker.terminate();\n    }\n    markedWorker = new Worker('worker.js');\n    markedWorker.onmessage = function(e) {\n      clearTimeout(markedWorker.timeout);\n      markedWorker.working = false;\n      switch (e.data.task) {\n        case 'defaults':\n          setOptions(e.data.defaults);\n          break;\n        case 'parse':\n          $previewElem.classList.remove('error');\n          $htmlElem.classList.remove('error');\n          $lexerElem.classList.remove('error');\n          var scrollPercent = getScrollPercent();\n          setParsed(e.data.parsed, e.data.lexed);\n          setScrollPercent(scrollPercent);\n          setResponseTime(e.data.time);\n          break;\n      }\n      clearTimeout(checkChangeTimeout);\n      delayTime = 10;\n      checkForChanges();\n      workerPromises[e.data.id]();\n      delete workerPromises[e.data.id];\n    };\n    markedWorker.onerror = markedWorker.onmessageerror = function(err) {\n      clearTimeout(markedWorker.timeout);\n      var error = 'There was an error in the Worker';\n      if (err) {\n        if (err.message) {\n          error = err.message;\n        } else {\n          error = err;\n        }\n      }\n      error = error.replace(/^Uncaught Error: /, '');\n      $previewElem.classList.add('error');\n      $htmlElem.classList.add('error');\n      $lexerElem.classList.add('error');\n      setParsed(error, error);\n      setScrollPercent(0);\n    };\n  }\n  if (message.task !== 'defaults') {\n    markedWorker.working = true;\n    workerTimeout(0);\n  }\n  return new Promise(function(resolve) {\n    message.id = uniqueWorkerMessageId();\n    workerPromises[message.id] = resolve;\n    markedWorker.postMessage(message);\n  });\n}\n\nfunction uniqueWorkerMessageId() {\n  var id;\n  do {\n    id = Math.random().toString(36);\n  } while (id in workerPromises);\n  return id;\n}\n\nfunction workerTimeout(seconds) {\n  markedWorker.timeout = setTimeout(function() {\n    seconds++;\n    markedWorker.onerror('Marked has taken longer than ' + seconds + ' second' + (seconds > 1 ? 's' : '') + ' to respond...');\n    workerTimeout(seconds);\n  }, 1000);\n}\n",
          "filepath": "data/repos/markedjs/marked-4.0/docs/demo/demo.js",
          "repo": "markedjs/marked",
          "version": "4.0",
          "chunk_index": 0,
          "chunk_id": "5874635a-433b-453d-adb7-63517b5c5e73"
        }
      },
      {
        "id": "7d299ff6-aaf9-4e97-8426-584695f744c0",
        "score": 0.015625,
        "payload": {
          "text": "**Marked version:**\n\n**Markdown flavor:** Markdown.pl|CommonMark|GitHub Flavored Markdown|n/a\n\n<!-- The NPM version or commit hash having the issue -->\n\n<!--\n\n\tIf submitting something other than a defect with Marked itself, please use the following:\n\n**Proposal type:** new feature | project operations | other\n\n## What pain point are you perceiving?\n\n## What solution are you suggesting?\n\n-->\n\n## Expectation\n\n**CommonMark Demo:** [demo](https://spec.commonmark.org/dingus/)\n<!-- You can replace the link above with a permalink from: https://spec.commonmark.org/dingus/ -->\n\n<!-- Describe the output you are expecting from marked -->\n\n## Result\n\n**Marked Demo:** [demo](https://marked.js.org/demo/)\n<!-- You can replace the link above with a permalink from: https://marked.js.org/demo/ -->\n\n<!-- Describe the output you received from marked -->\n\n## What was attempted\n\n<!-- Describe what code combination got you there -->\n\n<!--\n\tIf error is thrown add the following:\n\n## Call stack & console log\n\n-->\n",
          "filepath": "data/repos/markedjs/marked-4.0/.github/ISSUE_TEMPLATE.md",
          "repo": "markedjs/marked",
          "version": "4.0",
          "chunk_index": 0,
          "chunk_id": "7d299ff6-aaf9-4e97-8426-584695f744c0"
        }
      },
      {
        "id": "75372e6e-7bb8-4334-8fe0-fef02b8eb049",
        "score": 0.015384615384615385,
        "payload": {
          "text": "import { marked, Renderer, Slugger, lexer, parseInline, use, getDefaults, walkTokens as _walkTokens } from '../../src/marked.js';\n\ndescribe('Test heading ID functionality', () => {\n  it('should add id attribute by default', () => {\n    const renderer = new Renderer();\n    const slugger = new Slugger();\n    const header = renderer.heading('test', 1, 'test', slugger);\n    expect(header).toBe('<h1 id=\"test\">test</h1>\\n');\n  });\n\n  it('should NOT add id attribute when options set false', () => {\n    const renderer = new Renderer({ headerIds: false });\n    const header = renderer.heading('test', 1, 'test');\n    expect(header).toBe('<h1>test</h1>\\n');\n  });\n});\n\ndescribe('Test slugger functionality', () => {\n  it('should use lowercase slug', () => {\n    const slugger = new Slugger();\n    expect(slugger.slug('Test')).toBe('test');\n  });\n\n  it('should be unique to avoid collisions 1280', () => {\n    const slugger = new Slugger();\n    expect(slugger.slug('test')).toBe('test');\n    expect(slugger.slug('test')).toBe('test-1');\n    expect(slugger.slug('test')).toBe('test-2');\n  });\n\n  it('should be unique when slug ends with number', () => {\n    const slugger = new Slugger();\n    expect(slugger.slug('test 1')).toBe('test-1');\n    expect(slugger.slug('test')).toBe('test');\n    expect(slugger.slug('test')).toBe('test-2');\n  });\n\n  it('should be unique when slug ends with hyphen number', () => {\n    const slugger = new Slugger();\n    expect(slugger.slug('foo')).toBe('foo');\n    expect(slugger.slug('foo')).toBe('foo-1');\n    expect(slugger.slug('foo 1')).toBe('foo-1-1');\n    expect(slugger.slug('foo-1')).toBe('foo-1-2');\n    expect(slugger.slug('foo')).toBe('foo-2');\n  });\n\n  it('should allow non-latin chars', () => {\n    const slugger = new Slugger();\n    expect(slugger.slug('\u043f\u0440\u0438\u0432\u0435\u0442')).toBe('\u043f\u0440\u0438\u0432\u0435\u0442');\n  });\n\n  it('should remove ampersands 857', () => {\n    const slugger = new Slugger();\n    expect(slugger.slug('This & That Section')).toBe('this--that-section');\n  });\n\n  it('should remove periods', () => {\n    const slugger = new Slugger();\n    expect(slugger.slug('file.txt')).toBe('filetxt');\n  });\n\n  it('should remove html tags', () => {\n    const slugger = new Slugger();\n    expect(slugger.slug('<em>html</em>')).toBe('html');\n  });\n\n  it('should not increment seen when using dryrun option', () => {\n    const slugger = new Slugger();\n    expect(slugger.slug('<h1>This Section</h1>', { dryrun: true })).toBe('this-section');\n    expect(slugger.slug('<h1>This Section</h1>')).toBe('this-section');\n  });\n\n  it('should still return the next unique id when using dryrun', () => {\n    const slugger = new Slugger();\n    expect(slugger.slug('<h1>This Section</h1>')).toBe('this-section');\n    expect(slugger.slug('<h1>This Section</h1>', { dryrun: true })).toBe('this-section-1');\n  });\n\n  it('should be repeatable in a sequence', () => {\n    const slugger = new Slugger();\n    expect(slugger.slug('foo')).toBe('foo');\n    expect(slugger.slug('foo')).toBe('foo-1');\n    expect(slugger.slug('foo')).toBe('foo-2');\n    expect(slugger.slug('foo', { dryrun: true })).toBe('foo-3');\n    expect(slugger.slug('foo', { dryrun: true })).toBe('foo-3');\n    expect(slugger.slug('foo')).toBe('foo-3');\n    expect(slugger.slug('foo')).toBe('foo-4');\n  });\n});\n\ndescribe('Test paragraph token type', () => {\n  it('should use the \"paragraph\" type on top level', () => {\n    const md = 'A Paragraph.\\n\\n> A blockquote\\n\\n- list item\\n';\n\n    const tokens = lexer(md);\n\n    expect(tokens[0].type).toBe('paragraph');\n    expect(tokens[2].tokens[0].type).toBe('paragraph');\n    expect(tokens[3].items[0].tokens[0].type).toBe('text');\n  });\n});\n\ndescribe('changeDefaults', () => {\n  it('should change global defaults', async() => {\n    const { defaults, changeDefaults } = await import('../../src/defaults.js');\n    expect(defaults.test).toBeUndefined();\n    changeDefaults({ test: true });\n    expect((await import('../../src/defaults.js')).defaults.test).toBe(true);\n  });\n});\n\ndescribe('inlineLexer', () => {\n  it('should send html to renderer.html', () => {\n    const renderer = new Renderer();\n    spyOn(renderer, 'html').and.callThrough();\n    const md = 'HTML Image: <img alt=\"MY IMAGE\" src=\"example.png\" />';\n    marked(md, { renderer });\n\n    expect(renderer.html).toHaveBeenCalledWith('<img alt=\"MY IMAGE\" src=\"example.png\" />');\n  });\n});\n\ndescribe('parseInline', () => {\n  it('should parse inline tokens', () => {\n    const md = '**strong** _em_';\n    const html = parseInline(md);\n\n    expect(html).toBe('<strong>strong</strong> <em>em</em>');\n  });\n\n  it('should not parse block tokens', () => {\n    const md = '# header\\n\\n_em_';\n    const html = parseInline(md);\n\n    expect(html).toBe('# header\\n\\n<em>em</em>');\n  });\n});\n\ndescribe('use extension', () => {\n  it('should use custom block tokenizer + renderer extensions', () => {\n    const underline = {\n      name: 'underline',\n      level: 'block',\n      tokenizer(src) {\n        const rule = /^:([^\\n]*)(?:\\n|$)/;\n        const match = rule.exec(src);\n        if (match) {\n          return {\n            type: 'underline',\n            raw: match[0], // This is the text that you want your token to consume from the source\n            text: match[1].trim() // You can add additional properties to your tokens to pass along to the renderer\n          };\n        }\n      },\n      renderer(token) {\n        return `<u>${token.text}</u>\\n`;\n      }\n    };\n    use({ extensions: [underline] });\n    let html = marked('Not Underlined\\n:Underlined\\nNot Underlined');\n    expect(html).toBe('<p>Not Underlined\\n:Underlined\\nNot Underlined</p>\\n');\n\n    html = marked('Not Underlined\\n\\n:Underlined\\n\\nNot Underlined');\n    expect(html).toBe('<p>Not Underlined</p>\\n<u>Underlined</u>\\n<p>Not Underlined</p>\\n');\n  });\n\n  it('should interrupt paragraphs if using \"start\" property', () => {\n    const underline = {\n      extensions: [{\n        name: 'underline',\n        level: 'block',\n        start(src) { return src.indexOf(':'); },\n        tokenizer(src) {\n          const rule = /^:([^\\n]*):(?:\\n|$)/;\n          const match = rule.exec(src);\n          if (match) {\n            return {\n              type: 'underline',\n              raw: match[0], // This is the text that you want your token to consume from the source\n              text: match[1].trim() // You can add additional properties to your tokens to pass along to the renderer\n            };\n          }\n        },\n        renderer(token) {\n          return `<u>${token.text}</u>\\n`;\n        }\n      }]\n    };\n    use(underline);\n    const html = marked('Not Underlined A\\n:Underlined B:\\nNot Underlined C\\n:Not Underlined D');\n    expect(html).toBe('<p>Not Underlined A</p>\\n<u>Underlined B</u>\\n<p>Not Underlined C\\n:Not Underlined D</p>\\n');\n  });\n\n  it('should use custom inline tokenizer + renderer extensions', () => {\n    const underline = {\n      name: 'underline',\n      level: 'inline',\n      start(src) { return src.indexOf('='); },\n      tokenizer(src) {\n        const rule = /^=([^=]+)=/;\n        const match = rule.exec(src);\n        if (match) {\n          return {\n            type: 'underline',\n            raw: match[0], // This is the text that you want your token to consume from the source\n            text: match[1].trim() // You can add additional properties to your tokens to pass along to the renderer\n          };\n        }\n      },\n      renderer(token) {\n        return `<u>${token.text}</u>`;\n      }\n    };\n    use({ extensions: [underline] });\n    const html = marked('Not Underlined =Underlined= Not Underlined');\n    expect(html).toBe('<p>Not Underlined <u>Underlined</u> Not Underlined</p>\\n');\n  });\n\n  it('should handle interacting block and inline extensions', () => {\n    const descriptionlist = {\n      name: 'descriptionList',\n      level: 'block',\n      start(src) {\n        const match = src.match(/:[^:\\n]/);\n        if (match) {\n          return match.index;\n        }\n      },\n      tokenizer(src, tokens) {\n        const rule = /^(?::[^:\\n]+:[^:\\n]*(?:\\n|$))+/;\n        const match = rule.exec(src);\n        if (match) {\n          const token = {\n            type: 'descriptionList',\n            raw: match[0], // This is the text that you want your token to consume from the source\n            text: match[0].trim(), // You can add additional properties to your tokens to pass along to the renderer\n            tokens: []\n          };\n          this.lexer.inlineTokens(token.text, token.tokens);\n          return token;\n        }\n      },\n      renderer(token) {\n        return `<dl>${this.parser.parseInline(token.tokens)}\\n</dl>`;\n      }\n    };\n\n    const description = {\n      name: 'description',\n      level: 'inline',\n      start(src) { return src.indexOf(':'); },\n      tokenizer(src, tokens) {\n        const rule = /^:([^:\\n]+):([^:\\n]*)(?:\\n|$)/;\n        const match = rule.exec(src);\n        if (match) {\n          const token = {\n            type: 'description',\n            raw: match[0],\n            dt: [],\n            dd: []\n          };\n          this.lexer.inline(match[1].trim(), token.dt);\n          this.lexer.inline(match[2].trim(), token.dd);\n          return token;\n        }\n      },\n      renderer(token) {\n        return `\\n<dt>${this.parser.parseInline(token.dt)}</dt><dd>${this.parser.parseInline(token.dd)}</dd>`;\n      }\n    };\n    use({ extensions: [descriptionlist, description] });\n    const html = marked('A Description List with One Description:\\n'\n                        + ':   Topic 1   :  Description 1\\n'\n                        + ': **Topic 2** : *Description 2*');\n    expect(html).toBe('<p>A Description List with One Description:</p>\\n'\n                      + '<dl>'\n                      + '\\n<dt>Topic 1</dt><dd>Description 1</dd>'\n                      + '\\n<dt><strong>Topic 2</strong></dt><dd><em>Description 2</em></dd>'\n                      + '\\n</dl>');\n  });\n\n  it('should allow other options mixed into the extension', () => {\n    const extension = {\n      name: 'underline',\n      level: 'block',\n      start(src) { return src.indexOf(':'); },\n      tokenizer(src) {\n        const rule = /^:([^\\n]*):(?:\\n|$)/;\n        const match = rule.exec(src);\n        if (match) {\n          return {\n            type: 'underline',\n            raw: match[0], // This is the text that you want your token to consume from the source\n            text: match[1].trim() // You can add additional properties to your tokens to pass along to the renderer\n          };\n        }\n      },\n      renderer(token) {\n        return `<u>${token.text}</u>\\n`;\n      }\n    };\n    use({ sanitize: true, silent: true, extensions: [extension] });\n    const html = marked(':test:\\ntest\\n<div></div>');\n    expect(html).toBe('<u>test</u>\\n<p>test</p>\\n<p>&lt;div&gt;&lt;/div&gt;</p>\\n');\n  });\n\n  it('should handle renderers that return false', () => {\n    const extension = {\n      name: 'test',\n      level: 'block',\n      tokenizer(src) {\n        const rule = /^:([^\\n]*):(?:\\n|$)/;\n        const match = rule.exec(src);\n        if (match) {\n          return {\n            type: 'test',\n            raw: match[0], // This is the text that you want your token to consume from the source\n            text: match[1].trim() // You can add additional properties to your tokens to pass along to the renderer\n          };\n        }\n      },\n      renderer(token) {\n        if (token.text === 'test') {\n          return 'test';\n        }\n        return false;\n      }\n    };\n    const fallbackRenderer = {\n      name: 'test',\n      level: 'block',\n      renderer(token) {\n        if (token.text === 'Test') {\n          return 'fallback';\n        }\n        return false;\n      }\n    };\n    use({ extensions: [fallbackRenderer, extension] });\n    const html = marked(':Test:\\n\\n:test:\\n\\n:none:');\n    expect(html).toBe('fallbacktest');\n  });\n\n  it('should fall back when tokenizers return false', () => {\n    const extension = {\n      name: 'test',\n      level: 'block',\n      tokenizer(src) {\n        const rule = /^:([^\\n]*):(?:\\n|$)/;\n        const match = rule.exec(src);\n        if (match) {\n          return {\n            type: 'test',\n            raw: match[0], // This is the text that you want your token to consume from the source\n            text: match[1].trim() // You can add additional properties to your tokens to pass along to the renderer\n          };\n        }\n        return false;\n      },\n      renderer(token) {\n        return token.text;\n      }\n    };\n    const extension2 = {\n      name: 'test',\n      level: 'block',\n      tokenizer(src) {\n        const rule = /^:([^\\n]*):(?:\\n|$)/;\n        const match = rule.exec(src);\n        if (match) {\n          if (match[1].match(/^[A-Z]/)) {\n            return {\n              type: 'test',\n              raw: match[0],\n              text: match[1].trim().toUpperCase()\n            };\n          }\n        }\n        return false;\n      }\n    };\n    use({ extensions: [extension, extension2] });\n    const html = marked(':Test:\\n\\n:test:');\n    expect(html).toBe('TESTtest');\n  });\n\n  it('should override original tokenizer/renderer with same name, but fall back if returns false', () => {\n    const extension = {\n      extensions: [{\n        name: 'heading',\n        level: 'block',\n        tokenizer(src) {\n          return false; // fall back to default `heading` tokenizer\n        },\n        renderer(token) {\n          return '<h' + token.depth + '>' + token.text + ' RENDERER EXTENSION</h' + token.depth + '>\\n';\n        }\n      },\n      {\n        name: 'code',\n        level: 'block',\n        tokenizer(src) {\n          const rule = /^:([^\\n]*):(?:\\n|$)/;\n          const match = rule.exec(src);\n          if (match) {\n            return {\n              type: 'code',\n              raw: match[0],\n              text: match[1].trim() + ' TOKENIZER EXTENSION'\n            };\n          }\n        },\n        renderer(token) {\n          return false; // fall back to default `code` renderer\n        }\n      }]\n    };\n    use(extension);\n    const html = marked('# extension1\\n:extension2:');\n    expect(html).toBe('<h1>extension1 RENDERER EXTENSION</h1>\\n<pre><code>extension2 TOKENIZER EXTENSION\\n</code></pre>\\n');\n  });\n\n  it('should walk only specified child tokens', () => {\n    const walkableDescription = {\n      extensions: [{\n        name: 'walkableDescription',\n        level: 'inline',\n        start(src) { return src.indexOf(':'); },\n        tokenizer(src, tokens) {\n          const rule = /^:([^:\\n]+):([^:\\n]*)(?:\\n|$)/;\n          const match = rule.exec(src);\n          if (match) {\n            const token = {\n              type: 'walkableDescription',\n              raw: match[0],\n              dt: [],\n              dd: [],\n              tokens: []\n            };\n            this.lexer.inline(match[1].trim(), token.dt);\n            this.lexer.inline(match[2].trim(), token.dd);\n            this.lexer.inline('unwalked', token.tokens);\n            return token;\n          }\n        },\n        renderer(token) {\n          return `\\n<dt>${this.parser.parseInline(token.dt)} - ${this.parser.parseInline(token.tokens)}</dt><dd>${this.parser.parseInline(token.dd)}</dd>`;\n        },\n        childTokens: ['dd', 'dt']\n      }],\n      walkTokens(token) {\n        if (token.type === 'text') {\n          token.text += ' walked';\n        }\n      }\n    };\n    use(walkableDescription);\n    const html = marked(':   Topic 1   :  Description 1\\n'\n                      + ': **Topic 2** : *Description 2*');\n    expect(html).toBe('<p>\\n<dt>Topic 1 walked - unwalked</dt><dd>Description 1 walked</dd>'\n                    + '\\n<dt><strong>Topic 2 walked</strong> - unwalked</dt><dd><em>Description 2 walked</em></dd></p>\\n');\n  });\n\n  describe('multiple extensions', () => {\n    function createExtension(name) {\n      return {\n        extensions: [{\n          name: `block-${name}`,\n          level: 'block',\n          start(src) { return src.indexOf('::'); },\n          tokenizer(src, tokens) {\n            if (src.startsWith(`::${name}\\n`)) {\n              const text = `:${name}`;\n              const token = {\n                type: `block-${name}`,\n                raw: `::${name}\\n`,\n                text,\n                tokens: []\n              };\n              this.lexer.inline(token.text, token.tokens);\n              return token;\n            }\n          },\n          renderer(token) {\n            return `<${token.type}>${this.parser.parseInline(token.tokens)}</${token.type}>\\n`;\n          }\n        }, {\n          name: `inline-${name}`,\n          level: 'inline',\n          start(src) { return src.indexOf(':'); },\n          tokenizer(src, tokens) {\n            if (src.startsWith(`:${name}`)) {\n              return {\n                type: `inline-${name}`,\n                raw: `:${name}`,\n                text: `used ${name}`\n              };\n            }\n          },\n          renderer(token) {\n            return token.text;\n          }\n        }],\n        tokenizer: {\n          heading(src) {\n            if (src.startsWith(`# ${name}`)) {\n              const token = {\n                type: 'heading',\n                raw: `# ${name}`,\n                text: `used ${name}`,\n                depth: 1,\n                tokens: []\n              };\n              this.lexer.inline(token.text, token.tokens);\n              return token;\n            }\n            return false;\n          }\n        },\n        renderer: {\n          heading(text, depth, raw, slugger) {\n            if (text === name) {\n              return `<h${depth}>${text}</h${depth}>\\n`;\n            }\n            return false;\n          }\n        },\n        walkTokens(token) {\n          if (token.text === `used ${name}`) {\n            token.text += ' walked';\n          }\n        },\n        headerIds: false\n      };\n    }\n\n    function createFalseExtension(name) {\n      return {\n        extensions: [{\n          name: `block-${name}`,\n          level: 'block',\n          start(src) { return src.indexOf('::'); },\n          tokenizer(src, tokens) {\n            return false;\n          },\n          renderer(token) {\n            return false;\n          }\n        }, {\n          name: `inline-${name}`,\n          level: 'inline',\n          start(src) { return src.indexOf(':'); },\n          tokenizer(src, tokens) {\n            return false;\n          },\n          renderer(token) {\n            return false;\n          }\n        }],\n        headerIds: false\n      };\n    }\n\n    function runTest() {\n      const html = marked(`\n::extension1\n::extension2\n\n:extension1\n:extension2\n\n# extension1\n\n# extension2\n\n# no extension\n`);\n\n      expect(`\\n${html}\\n`.replace(/\\n+/g, '\\n')).toBe(`\n<block-extension1>used extension1 walked</block-extension1>\n<block-extension2>used extension2 walked</block-extension2>\n<p>used extension1 walked\nused extension2 walked</p>\n<h1>used extension1 walked</h1>\n<h1>used extension2 walked</h1>\n<h1>no extension</h1>\n`);\n    }\n\n    it('should merge extensions when calling marked.use multiple times', () => {\n      use(createExtension('extension1'));\n      use(createExtension('extension2'));\n\n      runTest();\n    });\n\n    it('should merge extensions when calling marked.use with multiple extensions', () => {\n      use(\n        createExtension('extension1'),\n        createExtension('extension2')\n      );\n\n      runTest();\n    });\n\n    it('should fall back to any extensions with the same name if the first returns false', () => {\n      use(\n        createExtension('extension1'),\n        createExtension('extension2'),\n        createFalseExtension('extension1'),\n        createFalseExtension('extension2')\n      );\n\n      runTest();\n    });\n  });\n\n  it('should allow deleting/editing tokens', () => {\n    const styleTags = {\n      extensions: [{\n        name: 'inlineStyleTag',\n        level: 'inline',\n        start(src) {\n          const match = src.match(/ *{[^\\{]/);\n          if (match) {\n            return match.index;\n          }\n        },\n        tokenizer(src, tokens) {\n          const rule = /^ *{([^\\{\\}\\n]+)}$/;\n          const match = rule.exec(src);\n          if (match) {\n            return {\n              type: 'inlineStyleTag',\n              raw: match[0], // This is the text that you want your token to consume from the source\n              text: match[1]\n            };\n          }\n        }\n      },\n      {\n        name: 'styled',\n        renderer(token) {\n          token.type = token.originalType;\n          const text = this.parser.parse([token]);\n          const openingTag = /(<[^\\s<>]+)([^\\n<>]*>.*)/s.exec(text);\n          if (openingTag) {\n            return `${openingTag[1]} ${token.style}${openingTag[2]}`;\n          }\n          return text;\n        }\n      }],\n      walkTokens(token) {\n        if (token.tokens) {\n          const finalChildToken = token.tokens[token.tokens.length - 1];\n          if (finalChildToken && finalChildToken.type === 'inlineStyleTag') {\n            token.originalType = token.type;\n            token.type = 'styled';\n            token.style = `style=\"color:${finalChildToken.text};\"`;\n            token.tokens.pop();\n          }\n        }\n      },\n      headerIds: false\n    };\n    use(styleTags);\n    const html = marked('This is a *paragraph* with blue text. {blue}\\n'\n                      + '# This is a *header* with red text {red}');\n    expect(html).toBe('<p style=\"color:blue;\">This is a <em>paragraph</em> with blue text.</p>\\n'\n                     + '<h1 style=\"color:red;\">This is a <em>header</em> with red text</h1>\\n');\n  });\n\n  it('should use renderer', () => {\n    const extension = {\n      renderer: {\n        paragraph(text) {\n          return 'extension';\n        }\n      }\n    };\n    spyOn(extension.renderer, 'paragraph').and.callThrough();\n    use(extension);\n    const html = marked('text');\n    expect(extension.renderer.paragraph).toHaveBeenCalledWith('text');\n    expect(html).toBe('extension');\n  });\n\n  it('should use tokenizer', () => {\n    const extension = {\n      tokenizer: {\n        paragraph(text) {\n          const token = {\n            type: 'paragraph',\n            raw: text,\n            text: 'extension',\n            tokens: []\n          };\n          this.lexer.inline(token.text, token.tokens);\n          return token;\n        }\n      }\n    };\n    spyOn(extension.tokenizer, 'paragraph').and.callThrough();\n    use(extension);\n    const html = marked('text');\n    expect(extension.tokenizer.paragraph).toHaveBeenCalledWith('text');\n    expect(html).toBe('<p>extension</p>\\n');\n  });\n\n  it('should use walkTokens', () => {\n    let walked = 0;\n    const extension = {\n      walkTokens(token) {\n        walked++;\n      }\n    };\n    use(extension);\n    marked('text');\n    expect(walked).toBe(2);\n  });\n\n  it('should use walkTokens in async', (done) => {\n    let walked = 0;\n    const extension = {\n      walkTokens(token) {\n        walked++;\n      }\n    };\n    use(extension);\n    marked('text', () => {\n      expect(walked).toBe(2);\n      done();\n    });\n  });\n\n  it('should use options from extension', () => {\n    const extension = {\n      headerIds: false\n    };\n    use(extension);\n    const html = marked('# heading');\n    expect(html).toBe('<h1>heading</h1>\\n');\n  });\n\n  it('should call all walkTokens in reverse order', () => {\n    let walkedOnce = 0;\n    let walkedTwice = 0;\n    const extension1 = {\n      walkTokens(token) {\n        if (token.walkedOnce) {\n          walkedTwice++;\n        }\n      }\n    };\n    const extension2 = {\n      walkTokens(token) {\n        walkedOnce++;\n        token.walkedOnce = true;\n      }\n    };\n    use(extension1);\n    use(extension2);\n    marked('text');\n    expect(walkedOnce).toBe(2);\n    expect(walkedTwice).toBe(2);\n  });\n\n  it('should use last extension function and not override others', () => {\n    const extension1 = {\n      renderer: {\n        paragraph(text) {\n          return 'extension1 paragraph\\n';\n        },\n        html(html) {\n          return 'extension1 html\\n';\n        }\n      }\n    };\n    const extension2 = {\n      renderer: {\n        paragraph(text) {\n          return 'extension2 paragraph\\n';\n        }\n      }\n    };\n    use(extension1);\n    use(extension2);\n    const html = marked(`\nparagraph\n\n<html />\n\n# heading\n`);\n    expect(html).toBe('extension2 paragraph\\nextension1 html\\n<h1 id=\"heading\">heading</h1>\\n');\n  });\n\n  it('should use previous extension when returning false', () => {\n    const extension1 = {\n      renderer: {\n        paragraph(text) {\n          if (text !== 'original') {\n            return 'extension1 paragraph\\n';\n          }\n          return false;\n        }\n      }\n    };\n    const extension2 = {\n      renderer: {\n        paragraph(text) {\n          if (text !== 'extension1' && text !== 'original') {\n            return 'extension2 paragraph\\n';\n          }\n          return false;\n        }\n      }\n    };\n    use(extension1);\n    use(extension2);\n    const html = marked(`\nparagraph\n\nextension1\n\noriginal\n`);\n    expect(html).toBe('extension2 paragraph\\nextension1 paragraph\\n<p>original</p>\\n');\n  });\n\n  it('should get options with this.options', () => {\n    const extension = {\n      renderer: {\n        heading: () => {\n          return this && this.options ? 'arrow options\\n' : 'arrow no options\\n';\n        },\n        html: function() {\n          return this.options ? 'function options\\n' : 'function no options\\n';\n        },\n        paragraph() {\n          return this.options ? 'shorthand options\\n' : 'shorthand no options\\n';\n        }\n      }\n    };\n    use(extension);\n    const html = marked(`\n# heading\n\n<html />\n\nparagraph\n`);\n    expect(html).toBe('arrow no options\\nfunction options\\nshorthand options\\n');\n  });\n});\n\ndescribe('async highlight', () => {\n  let highlight, markdown;\n  beforeEach(() => {\n    highlight = jasmine.createSpy('highlight', (text, lang, callback) => {\n      setImmediate(() => {\n        callback(null, `async ${text || ''}`);\n      });\n    });\n    markdown = `\n\\`\\`\\`lang1\ntext 1\n\\`\\`\\`\n\n> \\`\\`\\`lang2\n> text 2\n> \\`\\`\\`\n\n- \\`\\`\\`lang3\n  text 3\n  \\`\\`\\`\n`;\n  });\n\n  it('should highlight codeblocks async', (done) => {\n    highlight.and.callThrough();\n\n    marked(markdown, { highlight }, (err, html) => {\n      if (err) {\n        fail(err);\n      }\n\n      expect(html).toBe(`<pre><code class=\"language-lang1\">async text 1\n</code></pre>\n<blockquote>\n<pre><code class=\"language-lang2\">async text 2\n</code></pre>\n</blockquote>\n<ul>\n<li><pre><code class=\"language-lang3\">async text 3\n</code></pre>\n</li>\n</ul>\n`);\n      done();\n    });\n  });\n\n  it('should call callback for each error in highlight', (done) => {\n    highlight.and.callFake((text, lang, callback) => {\n      callback(new Error('highlight error'));\n    });\n\n    let numErrors = 0;\n    marked(markdown, { highlight }, (err, html) => {\n      expect(err).toBeTruthy();\n      expect(html).toBeUndefined();\n\n      if (err) {\n        numErrors++;\n      }\n\n      if (numErrors === 3) {\n        done();\n      }\n    });\n  });\n\n  it('should highlight codeblocks when not async', (done) => {\n    highlight.and.callFake((text, lang, callback) => {\n      callback(null, `async ${text || ''}`);\n    });\n\n    marked(markdown, { highlight }, (err, html) => {\n      if (err) {\n        fail(err);\n      }\n\n      expect(html).toBe(`<pre><code class=\"language-lang1\">async text 1\n</code></pre>\n<blockquote>\n<pre><code class=\"language-lang2\">async text 2\n</code></pre>\n</blockquote>\n<ul>\n<li><pre><code class=\"language-lang3\">async text 3\n</code></pre>\n</li>\n</ul>\n`);\n      done();\n    });\n  });\n});\n\ndescribe('walkTokens', () => {\n  it('should walk over every token', () => {\n    const markdown = `\nparagraph\n\n---\n\n# heading\n\n\\`\\`\\`\ncode\n\\`\\`\\`\n\n| a | b |\n|---|---|\n| 1 | 2 |\n| 3 | 4 |\n\n> blockquote\n\n- list\n\n<div>html</div>\n\n[link](https://example.com)\n\n![image](https://example.com/image.jpg)\n\n**strong**\n\n*em*\n\n\\`codespan\\`\n\n~~del~~\n\nbr\nbr\n`;\n    const tokens = lexer(markdown, { ...getDefaults(), breaks: true });\n    const tokensSeen = [];\n    _walkTokens(tokens, (token) => {\n      tokensSeen.push([token.type, (token.raw || '').replace(/\\n/g, '')]);\n    });\n\n    expect(tokensSeen).toEqual([\n      ['paragraph', 'paragraph'],\n      ['text', 'paragraph'],\n      ['space', ''],\n      ['hr', '---'],\n      ['heading', '# heading'],\n      ['text', 'heading'],\n      ['code', '```code```'],\n      ['space', ''],\n      ['table', '| a | b ||---|---|| 1 | 2 || 3 | 4 |'],\n      ['text', 'a'],\n      ['text', 'b'],\n      ['text', '1'],\n      ['text', '2'],\n      ['text', '3'],\n      ['text', '4'],\n      ['blockquote', '> blockquote'],\n      ['paragraph', 'blockquote'],\n      ['text', 'blockquote'],\n      ['list', '- list'],\n      ['list_item', '- list'],\n      ['text', 'list'],\n      ['text', 'list'],\n      ['space', ''],\n      ['html', '<div>html</div>'],\n      ['paragraph', '[link](https://example.com)'],\n      ['link', '[link](https://example.com)'],\n      ['text', 'link'],\n      ['space', ''],\n      ['paragraph', '![image](https://example.com/image.jpg)'],\n      ['image', '![image](https://example.com/image.jpg)'],\n      ['space', ''],\n      ['paragraph', '**strong**'],\n      ['strong', '**strong**'],\n      ['text', 'strong'],\n      ['space', ''],\n      ['paragraph', '*em*'],\n      ['em', '*em*'],\n      ['text', 'em'],\n      ['space', ''],\n      ['paragraph', '`codespan`'],\n      ['codespan', '`codespan`'],\n      ['space', ''],\n      ['paragraph', '~~del~~'],\n      ['del', '~~del~~'],\n      ['text', 'del'],\n      ['space', ''],\n      ['paragraph', 'brbr'],\n      ['text', 'br'],\n      ['br', ''],\n      ['text', 'br']\n    ]);\n  });\n\n  it('should asign marked to `this`', () => {\n    marked.use({\n      walkTokens(token) {\n        if (token.type === 'em') {\n          token.text += ' walked';\n          token.tokens = this.Lexer.lexInline(token.text);\n        }\n      }\n    });\n    expect(marked('*text*').trim()).toBe('<p><em>text walked</em></p>');\n  });\n});\n",
          "filepath": "data/repos/markedjs/marked-4.0/test/unit/marked-spec.js",
          "repo": "markedjs/marked",
          "version": "4.0",
          "chunk_index": 0,
          "chunk_id": "75372e6e-7bb8-4334-8fe0-fef02b8eb049"
        }
      }
    ]
  },
  {
    "instance_id": "markedjs__marked-1535",
    "model_patch": "diff --git a/lib/marked.js b/lib/marked.js\n--- a/lib/marked.js\n+++ b/lib/marked.js\n@@ -1,6 +1,7 @@\n // Import necessary modules\n const Lexer = require('./Lexer');\n const Parser = require('./Parser');\n+const Renderer = require('./Renderer');\n const InlineLexer = require('./InlineLexer');\n const Slugger = require('./Slugger');\n const defaults = require('./defaults');\n@@ -150,6 +151,7 @@\n   const tokens = Lexer.lex(src, options);\n   const parser = new Parser(options);\n   const renderer = new Renderer(options);\n+  renderer.checkbox = function(checked) { return '<input type=\"checkbox\" disabled' + (checked ? ' checked' : '') + '> '; };\n   return parser.parse(tokens);\n }\n \n@@ -200,6 +202,7 @@\n   const tokens = Lexer.lex(src, options);\n   const parser = new Parser(options);\n   const renderer = new Renderer(options);\n+  renderer.checkbox = function(checked) { return '<input type=\"checkbox\" disabled' + (checked ? ' checked' : '') + '> '; };\n   return parser.parse(tokens);\n }\n \ndiff --git a/lib/Renderer.js b/lib/Renderer.js\n--- a/lib/Renderer.js\n+++ b/lib/Renderer.js\n@@ -1,5 +1,6 @@\n class Renderer {\n   constructor(options) {\n+    this.options = options || {};\n   }\n \n   code(code, infostring, escaped) {\n@@ -150,6 +151,11 @@\n     return '<ul>\\n' + body + '</ul>\\n';\n   }\n \n+  checkbox(checked) {\n+    return '<input type=\"checkbox\" disabled' + (checked ? ' checked' : '') + '> ';\n+  }\n+\n   listitem(text, task, checked) {\n     if (task) {\n       return '<li style=\"list-style: none\">' + this.checkbox(checked) + text + '</li>\\n';",
    "model_name_or_path": "text_bm25",
    "metrics": {
      "issue_embedding_time_ms": 0.0,
      "retrieval_time_ms_bm25": 16.21,
      "retrieval_time_ms": 16.21,
      "total_retrieval_time_ms": 16.21,
      "generation_time_ms": 7782.05,
      "total_io_time_ms": 7798.26,
      "input_total_token_limit": null,
      "issue_text_tokens": 575,
      "vlm_tokens": 0,
      "retrieved_tokens": 5708,
      "prompt_template_tokens": 511,
      "total_input_prompt_tokens": 6794,
      "output_generated_tokens": 487,
      "total_io_tokens": 7281,
      "input_prompt_text": "[{\"type\": \"text\", \"text\": \"You will be provided with a partial code base and an issue statement explaining a problem to resolve.\\n<issue>\\nCheckbox rendering bug\\n**Describe the bug**\\r\\nIf newline exists between checkbox list, it looks like doesn't render well\\r\\n\\r\\n**To Reproduce**\\r\\n```\\r\\n- Tasks\\r\\n- [x] Task1\\r\\n- [ ] Task2\\r\\n\\r\\n- [ ] Another Task\\r\\n\\r\\n```\\r\\n\\r\\n![image](https://user-images.githubusercontent.com/520523/62999436-5f5a1380-bea9-11e9-8b34-c233b31800bf.png)\\r\\n\\r\\n1. [Marked Demo](https://marked.js.org/demo/?text=-%20Tasks%0A-%20%5Bx%5D%20Task1%0A-%20%5B%20%5D%20Task2%0A%0A-%20%5B%20%5D%20Another%20Task%0A&options=%7B%0A%20%22baseUrl%22%3A%20null%2C%0A%20%22breaks%22%3A%20false%2C%0A%20%22gfm%22%3A%20true%2C%0A%20%22headerIds%22%3A%20true%2C%0A%20%22headerPrefix%22%3A%20%22%22%2C%0A%20%22highlight%22%3A%20null%2C%0A%20%22langPrefix%22%3A%20%22language-%22%2C%0A%20%22mangle%22%3A%20true%2C%0A%20%22pedantic%22%3A%20false%2C%0A%20%22sanitize%22%3A%20false%2C%0A%20%22sanitizer%22%3A%20null%2C%0A%20%22silent%22%3A%20false%2C%0A%20%22smartLists%22%3A%20false%2C%0A%20%22smartypants%22%3A%20false%2C%0A%20%22xhtml%22%3A%20false%0A%7D&version=0.7.0)\\r\\n2. [CommonMark Demo](https://spec.commonmark.org/dingus/?text=-%20Tasks%0A-%20%5Bx%5D%20Task1%0A-%20%5B%20%5D%20Task2%0A%0A-%20%5B%20%5D%20Another%20Task%0A)\\r\\n\\r\\n\\r\\n\\n\\n</issue>\\n\\n<code>\\n[start of AUTHORS.md]\\n# Authors\\n\\nMarked takes an encompassing approach to its community. As such, you can think of these as [concentric circles](https://medium.com/the-node-js-collection/healthy-open-source-967fa8be7951), where each group encompases the following groups.\\n\\n<table>\\n  <tbody>\\n  \\t<tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\" style=\\\"width:32%\\\">\\n        <a href=\\\"https://github.com/chjj\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/chjj.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/chjj\\\">Christopher Jeffrey</a>\\n        <div>Original Author</div>\\n        <small>Started the fire</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\" style=\\\"width:32%\\\">\\n        <a href=\\\"https://github.com/joshbruce\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/joshbruce.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://joshbruce.com\\\">Josh Bruce</a>\\n        <div>Publisher</div>\\n        <small>Release Wrangler; Humaning Helper; Heckler of Hypertext</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\" style=\\\"width:32%\\\">\\n        <a href=\\\"https://github.com/styfle\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/styfle.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://www.ceriously.com\\\">Steven</a>\\n        <div>Publisher</div>\\n        <small>Release Wrangler; Dr. Docs; Open source, of course; GitHub Guru; Humaning Helper</small>\\n      </td>\\n    </tr>\\n  \\t<tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/davisjam\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/davisjam.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/davisjam\\\">Jamie Davis</a>\\n        <div>Committer</div>\\n        <small>Seeker of Security</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/UziTech\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/UziTech.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://tony.brix.ninja\\\">Tony Brix</a>\\n        <div>Publisher</div>\\n        <small>Release Wrangler; Titan of the test harness; Dr. DevOps</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        &nbsp;\\n      </td>\\n    </tr>\\n  </tbody>\\n</table>\\n\\n<table>\\n  <tbody>\\n    <tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/intcreator\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/intcreator.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/intcreator\\\">Brandon der Bl\\u00e4tter</a>\\n        <div>Contributor</div>\\n        <small>Curious Contributor</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/carlosvalle\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/carlosvalle.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/carlosvalle\\\">Carlos Valle</a>\\n        <div>Contributor</div>\\n        <small>Maker of the Marked mark from 2018 to present</small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/Feder1co5oave\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/Feder1co5oave.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/Feder1co5oave\\\">Federico Soave</a>\\n        <div>Contributor</div>\\n        <small>Regent of the Regex; Master of Marked</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/karenyavine\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/karenyavine.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/karenyavine\\\">Karen Yavine</a>\\n        <div>Contributor</div>\\n        <small>Snyk's Security Saint</small>\\n      </td>\\n     </tr>\\n     <tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/KostyaTretyak\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/KostyaTretyak.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/KostyaTretyak\\\">\\u041a\\u043e\\u0441\\u0442\\u044f \\u0422\\u0440\\u0435\\u0442\\u044f\\u043a</a>\\n        <div>Contributor</div>\\n        <small></small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/tomtheisen\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/tomtheisen.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/tomtheisen\\\">Tom Theisen</a>\\n        <div>Contributor</div>\\n        <small>Defibrillator</small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/mccraveiro\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/mccraveiro.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/mccraveiro\\\">Mateus Craveiro</a>\\n        <div>Contributor</div>\\n        <small>Defibrillator</small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n      </td>\\n     </tr>\\n  </tbody>\\n</table>\\n\\n## Publishers\\n\\nPublishers are admins who also have the responsibility, privilege, and burden of publishing the new releases to NPM and performing outreach and external stakeholder communications. Further, when things go pear-shaped, they're the ones taking most of the heat. Finally, when things go well, they're the primary ones praising the contributors who made it possible.\\n\\n(In other words, while Admins are focused primarily on the internal workings of the project, Publishers are focused on internal *and* external concerns.)\\n\\n**Should not exceed 2:** Having more people with the authority to publish a release can quickly turn into a consensus seeking nightmare (design by committee). Having only one is preferred (Directly Responsible Individual); however, given the nature of the project and its history, having an immediate fallback, and a potential deep fallback (Original author) is probably a good idea.\\n\\n[Details on badges](#badges)\\n\\n## Admins\\n\\nAdmins are committers who also have the responsibility, privilege, and burden of selecting committers and making sure the project itself runs smoothly, which includes community maintenance, governance, dispute resolution, and so on. (Letting the contributors easily enter into, and work within, the project to begin contributing, with as little friction as possible.)\\n\\n**Should not exceed 3:** When there are too many people with the ability to resolve disputes, the dispute itself can quickly turn into a dispute amongst the admins themselves; therefore, we want this group to be small enough to commit to action and large enough to not put too much burden on one person. (Should ensure faster resolution and responsiveness.)\\n\\nTo be listed: Admins are usually selected from the pool of committers (or they volunteer, using the same process) who demonstrate good understanding of the marked culture, operations, and do their best to help new contributors get up to speed on how to contribute effectively to the project.\\n\\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\\n\\n[Details on badges](#badges)\\n\\n## Committers\\n\\nCommitters are contributors who also have the responsibility, privilege, some might even say burden of being able to review and merge contributions (just usually not their own).\\n\\nA note on \\\"decision making authority\\\". This is related to submitting PRs and the [advice process](http://www.reinventingorganizationswiki.com/Decision_Making). The person marked as having decision making authority over a certain area should be sought for advice in that area before committing to a course of action.\\n\\n**Should not exceed 5:** For larger PRs affecting more of the codebase and, most likely, review by more people, we try to keep this pool small and responsive and let those with decision making authority have final say without negative repercussions from the other committers.\\n\\nTo be listed: Committers are usually selected (or they volunteer, using the same process) from contributors who enter the discussions regarding the future direction of Marked (maybe even doing informal reviews of contributions despite not being able to merge them yourself).\\n\\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\\n\\nA note on volunteering:\\n\\n1. Please do not volunteer unless you believe you can demonstrate to your peers you can do the work required.\\n2. Please do not overcommit yourself; we count on those committed to the project to be responsive. Really consider, with all you have going on, wehther you able to really commit to it.\\n3. Don't let the previous frighten you away, it can always be changed later by you or your peers.\\n\\n[Details on badges](#badges)\\n\\n## Contributors\\n\\nContributors are users who submit a [PR](https://github.com/markedjs/marked/pulls), [Issue](https://github.com/markedjs/marked/issues), or collaborate in making Marked a better product and experience for all the users.\\n\\nTo be listed: make a contribution and, if it has significant impact, the committers may be able to add you here.\\n\\nTo be removed: please let us know or submit a PR.\\n\\n[Details on badges](#badges)\\n\\n## Users\\n\\nUsers are anyone using Marked in some fashion, without them, there's no reason for us to exist.\\n\\n|Individual or Organization |Website                 |Project                              |Submitted by                                        |\\n|:--------------------------|:-----------------------|:------------------------------------|:---------------------------------------------------|\\n|MarkedJS                   |https://marked.js.org   |https://github.com/markedjs/marked   |The marked committers                               |\\n\\nTo be listed: All fields are optional. Contact any of the committers or, more timely, submit a pull request with the following (using the first row as an example):\\n\\n- **Individual or Organization:** The name you would like associated with the record.\\n- **Website:** A URL to a standalone website for the project.\\n- **Project:** A URL for the repository of the project using marked.\\n- **Submitted by:** The name and optional honorifics for the person adding the listing.\\n\\nTo be removed: Same as above. Only instead of requesting addition request deletion or delete the row yourself.\\n\\n<h2 id=\\\"badges\\\">Badges</h2>\\n\\nBadges? You don't *need* no stinkin' badges.\\n\\nMovie references aside. (It was either that or, \\\"Let's play a game\\\", but that would have been creepy&hellip;that's why it will most likely come later.)\\n\\nBadges? If you *want* 'em, we got 'em, and here's how you get 'em (and&hellip;dramatic pause&hellip;why not two dramatic pauses for emphasis?&hellip; how they can be taken away).\\n\\n- [ ] Add the appropriate badge to the desired contributor in the desired column of this page, even if they're not listed here yet.\\n- [ ] Submit a PR (we're big on PRs around here, if you haven't noticed, help us help you).\\n- [ ] Follow the instructions for submitting a badge PR. (There are more details to find within. Come on. Everybody likes surprises, right? No? Actually, we just try to put documentation where it belongs, closer to the code and part of the sequence of events.)\\n\\n### Badges at play:\\n\\n<dl>\\n\\t<dt>Curious Contributor</dt>\\n\\t<dd>A contributor with less than one year on this page who is actively engaged in submitting PRs, Issues, making recommendations, sharing thoughts&hellip;without being too annoying about it (let's be clear, submitting 100 Issues recommending the Marked Committers send everyone candy is trying for the badge, not honestly earning it).</dd>\\n\\t<dt>Dr. DevOps</dt>\\n\\t<dd>\\n\\t\\t<p>Someone who understands and contributes to improving the developer experience and flow of Marked into the world.</p>\\n\\t\\t<blockquote>\\n\\t\\t\\t\\\"The main characteristic of the DevOps movement is to strongly advocate automation and monitoring at all steps of software construction, from integration, testing, releasing to deployment and infrastructure management. DevOps aims at shorter development cycles, increased deployment frequency, more dependable releases, in close alignment with business objectives.\\\" ~ <a href=\\\"https://www.wikipedia.org/wiki/DevOps\\\">Wikipedia</a>\\n\\t\\t</blockquote>\\n\\t</dd>\\n  <dt>Dr. Docs</dt>\\n  <dd>Someone who has contributed a great deal to the creation and maintainance of the non-code areas of marked.</dd>\\n\\t<dt>Eye for the CLI</dt>\\n\\t<dd>At this point? Pretty much anyone who can update that `man` file to the current Marked version without regression in the CLI tool itself.</dd>\\n\\t<dt>GitHub Guru</dt>\\n\\t<dd>Someone who always seems to be able to tell you easier ways to do things with GitHub.</dd>\\n\\t<dt>Humaning Helper</dt>\\n\\t<dd>Someone who goes out of their way to help contributors feel welcomed and valued. Further, someone who takes the extra steps(s) necessary to help new contributors get up to speed. Finally, they maintain composure even in times of disagreement and dispute resolution.</dd>\\n\\t<dt>Heckler of Hypertext</dt>\\n\\t<dd>Someone who demonstrates an esoteric level of knowledge when it comes to HTML. In other words, someone who says things like, \\\"Did you know most Markdown flavors don't have a way to render a description list (`dl`)? All the more reason Markdown `!==` HTML.\\\"</dd>\\n\\t<dt>Markdown Maestro</dt>\\n\\t<dd>You know that person who knows about way too many different flavors of Markdown? The one who maybe seems a little too obsessed with the possibilities of Markdown beyond HTML? Come on. You know who they are. Or, at least you could, if you give them this badge.</dd>\\n\\t<dt>Master of Marked</dt>\\n\\t<dd>Someone who demonstrates they know the ins and outs of the codebase for Marked.</dd>\\n\\t<dt>Open source, of course</dt>\\n\\t<dd>Someone who advocates for and has a proven understanding of how to operate within open source communities.</dd>\\n\\t<dt>Regent of the Regex</dt>\\n\\t<dd><p>Can you demonstrate you understand the following without Google and Stackoverflow?</p>\\n\\t\\t<p><code>/^( *)(bull) [\\\\s\\\\S]+?(?:hr|def|\\\\n{2,}(?! )(?!\\\\1bull )\\\\n*|\\\\s*$)/</code></p>\\n\\t\\t<p>Because this author can't yet. That's who gets these.</p>\\n\\t</dd>\\n\\t<dt>Seeker of Security</dt>\\n\\t<dd>Someone who has demonstrated a high degree of expertise or authority when it comes to software security.</dd>\\n\\t<dt>Titan of the Test Harness</dt>\\n\\t<dd>Someone who demonstrates high-levels of understanding regarding Marked's test harness.</dd>\\n\\t<dt>Totally Tron</dt>\\n\\t<dd>Someone who demonstrates they are willing and able to \\\"fight for the users\\\", both developers dependent on marked to do their jobs as well as end-users interacting with the output (particularly in the realm of those with the disabilities).</dd>\\n</dl>\\n\\n### Special badges that come with the job:\\n\\n<dl>\\n\\t<dt>Defibrillator</dt>\\n\\t<dd>A contributor who stepped up to help bring Marked back to life by contriuting solutions to help Marked pass when compared against the CommonMark and GitHub Flavored Markdown specifications.</dd>\\n\\t<dt>Maker of the Marked mark</dt>\\n\\t<dd>This badge is given to the person or oganization credited with creating the logo (or logotype) used in Marked communications for a given period of time. **Maker of the Marked mark from 2017 to present**, for example.</dd>\\n\\t<dt>Release Wrangler</dt>\\n\\t<dd>This is a badge given to all Publishers.</dd>\\n\\t<dt>Snyk's Security Saint</dt>\\n\\t<dd>This is a badge given to whomever primarily reaches out from Snyk to let us know about security issues.</dd>\\n</dl>\\n\\n[end of AUTHORS.md]\\n[start of Bug_report.md]\\n---\\nname: Bug report\\nabout: Marked says it does this thing but does not\\n\\n---\\n\\n**Describe the bug**\\nA clear and concise description of what the bug is.\\n\\n**To Reproduce**\\nSteps to reproduce the behavior:\\n\\n<!-- If possible, use the Marked Demo permalink and compare to the CommonMark Dingus permalink to demonstrate the bug -->\\n<!--\\n1. [Marked Demo](https://marked.js.org/demo/)\\n2. [CommonMark Demo](https://spec.commonmark.org/dingus/)\\n-->\\n\\n<!-- If you need a specific version and options to reproduce the bug, use the following template -->\\n<!--\\n1. Install marked `npm install --save marked@0.3.19` with the version you are using\\n2. Run marked with input string and options such as `marked('hello *world*', {gfm: true})`\\n3. Actual output (or error) is...\\n-->\\n\\n**Expected behavior**\\nA clear and concise description of what you expected to happen.\\n\\n[end of Bug_report.md]\\n[start of ISSUE_TEMPLATE.md]\\n**Marked version:**\\n\\n**Markdown flavor:** Markdown.pl|CommonMark|GitHub Flavored Markdown|n/a\\n\\n<!-- The NPM version or commit hash having the issue --> \\n\\n<!-- \\n\\n\\tIf submitting something other than a defect with Marked itself, please use the following:\\n\\n**Proposal type:** new feature | project operations | other\\n\\n## What pain point are you perceiving?\\n\\n## What solution are you suggesting?\\n\\n-->\\n\\n## Expectation\\n\\n**CommonMark Demo:** [demo](https://spec.commonmark.org/dingus/)\\n<!-- You can replace the link above with a permalink from: https://spec.commonmark.org/dingus/ -->\\n\\n<!-- Describe the output you are expecting from marked -->\\n\\n## Result\\n\\n**Marked Demo:** [demo](https://marked.js.org/demo/)\\n<!-- You can replace the link above with a permalink from: https://marked.js.org/demo/ -->\\n\\n<!-- Describe the output you received from marked -->\\n\\n## What was attempted\\n\\n<!-- Describe what code combination got you there -->\\n\\n<!-- \\n\\tIf error is thrown add the following:\\n\\n## Call stack & console log\\n\\n-->\\n\\n[end of ISSUE_TEMPLATE.md]\\n[start of README.md]\\nMarked is\\n\\n1. built for speed.<sup>*</sup>\\n2. a low-level markdown compiler for parsing markdown without caching or blocking for long periods of time.<sup>**</sup>\\n3. light-weight while implementing all markdown features from the supported flavors & specifications.<sup>***</sup>\\n4. available as a command line interface (CLI) and running in client- or server-side JavaScript projects.\\n\\n<p><small><sup>*</sup> Still working on metrics for comparative analysis and definition.</small><br>\\n<small><sup>**</sup> As few dependencies as possible.</small><br>\\n<small><sup>***</sup> Strict compliance could result in slower processing when running comparative benchmarking.</small></p>\\n\\n\\n<h2 id=\\\"demo\\\">Demo</h2>\\n\\nCheckout the [demo page](./demo/) to see marked in action \\u26f9\\ufe0f\\n\\nThese documentation pages are also rendered using marked \\ud83d\\udcaf\\n\\n\\n<h2 id=\\\"installation\\\">Installation</h2>\\n\\n**CLI:** `npm install -g marked`\\n\\n**In-browser:** `npm install marked`\\n\\n<h2 id=\\\"usage\\\">Usage</h2>\\n\\n### Warning: \\ud83d\\udea8 Marked does not [sanitize](https://marked.js.org/#/USING_ADVANCED.md#options) the output HTML. Please use a sanitize library, like [DOMPurify](https://github.com/cure53/DOMPurify) (recommended), [sanitize-html](https://github.com/apostrophecms/sanitize-html) or [insane](https://github.com/bevacqua/insane) on the output HTML! \\ud83d\\udea8\\n\\n**CLI**\\n\\n``` bash\\n$ marked -o hello.html\\nhello world\\n^D\\n$ cat hello.html\\n<p>hello world</p>\\n```\\n\\n``` bash\\n$ marked -s \\\"*hello world*\\\"\\n<p><em>hello world</em></p>\\n```\\n\\n**Browser**\\n\\n```html\\n<!doctype html>\\n<html>\\n<head>\\n  <meta charset=\\\"utf-8\\\"/>\\n  <title>Marked in the browser</title>\\n</head>\\n<body>\\n  <div id=\\\"content\\\"></div>\\n  <script src=\\\"https://cdn.jsdelivr.net/npm/marked/marked.min.js\\\"></script>\\n  <script>\\n    document.getElementById('content').innerHTML =\\n      marked('# Marked in browser\\\\n\\\\nRendered by **marked**.');\\n  </script>\\n</body>\\n</html>\\n```\\n\\n\\nMarked offers [advanced configurations](#/USING_ADVANCED.md) and [extensibility](#/USING_PRO.md) as well.\\n\\n<h2 id=\\\"specifications\\\">Supported Markdown specifications</h2>\\n\\nWe actively support the features of the following [Markdown flavors](https://github.com/commonmark/CommonMark/wiki/Markdown-Flavors).\\n\\n|Flavor                                                     |Version    |\\n|:----------------------------------------------------------|:----------|\\n|The original markdown.pl                                   |--         |\\n|[CommonMark](http://spec.commonmark.org/0.29/)             |0.29       |\\n|[GitHub Flavored Markdown](https://github.github.com/gfm/) |0.29       |\\n\\nBy supporting the above Markdown flavors, it's possible that Marked can help you use other flavors as well; however, these are not actively supported by the community.\\n\\n<h2 id=\\\"security\\\">Security</h2>\\n\\nThe only completely secure system is the one that doesn't exist in the first place. Having said that, we take the security of Marked very seriously.\\n\\nTherefore, please disclose potential security issues by email to the project [committers](#/AUTHORS.md) as well as the [listed owners within NPM](https://docs.npmjs.com/cli/owner). We will provide an initial assessment of security reports within 48 hours and should apply patches within 2 weeks (also, feel free to contribute a fix for the issue).\\n\\n\\n[end of README.md]\\n[start of update-specs.js]\\nconst fetch = require('node-fetch');\\nconst cheerio = require('cheerio');\\nconst marked = require('../');\\nconst htmlDiffer = require('./helpers/html-differ.js');\\nconst fs = require('fs');\\nconst path = require('path');\\n\\nfunction removeFiles(dir) {\\n  fs.readdirSync(dir).forEach(file => {\\n    fs.unlinkSync(path.join(dir, file));\\n  });\\n}\\n\\nasync function updateCommonmark(dir, options) {\\n  try {\\n    const res = await fetch('https://raw.githubusercontent.com/commonmark/commonmark.js/master/package.json');\\n    const pkg = await res.json();\\n    const version = pkg.version.replace(/^(\\\\d+\\\\.\\\\d+).*$/, '$1');\\n    const res2 = await fetch(`https://spec.commonmark.org/${version}/spec.json`);\\n    const specs = await res2.json();\\n    specs.forEach(spec => {\\n      const html = marked(spec.markdown, options);\\n      if (!htmlDiffer.isEqual(html, spec.html)) {\\n        spec.shouldFail = true;\\n      }\\n    });\\n    fs.writeFileSync(path.resolve(dir, `./commonmark.${version}.json`), JSON.stringify(specs, null, 2) + '\\\\n');\\n    console.log(`Saved CommonMark v${version} specs`);\\n  } catch (ex) {\\n    console.log(ex);\\n  }\\n}\\n\\nasync function updateGfm(dir) {\\n  try {\\n    const res = await fetch('https://github.github.com/gfm/');\\n    const html = await res.text();\\n    const $ = cheerio.load(html);\\n    const version = $('.version').text().match(/\\\\d+\\\\.\\\\d+/)[0];\\n    if (!version) {\\n      throw new Error('No version found');\\n    }\\n    const specs = [];\\n    $('.extension').each((i, ext) => {\\n      const section = $('.definition', ext).text().trim().replace(/^\\\\d+\\\\.\\\\d+(.*?) \\\\(extension\\\\)[\\\\s\\\\S]*$/, '$1');\\n      $('.example', ext).each((j, exa) => {\\n        const example = +$(exa).attr('id').replace(/\\\\D/g, '');\\n        const markdown = $('.language-markdown', exa).text().trim();\\n        const html = $('.language-html', exa).text().trim();\\n        specs.push({\\n          section: `[extension] ${section}`,\\n          html,\\n          markdown,\\n          example\\n        });\\n      });\\n    });\\n\\n    specs.forEach(spec => {\\n      const html = marked(spec.markdown, { gfm: true, pedantic: false });\\n      if (!htmlDiffer.isEqual(html, spec.html)) {\\n        spec.shouldFail = true;\\n      }\\n    });\\n    fs.writeFileSync(path.resolve(dir, `./gfm.${version}.json`), JSON.stringify(specs, null, 2) + '\\\\n');\\n    console.log(`Saved GFM v${version} specs.`);\\n  } catch (ex) {\\n    console.log(ex);\\n  }\\n}\\n\\nconst commonmarkDir = path.resolve(__dirname, './specs/commonmark');\\nconst gfmDir = path.resolve(__dirname, './specs/gfm');\\nremoveFiles(commonmarkDir);\\nremoveFiles(gfmDir);\\nupdateCommonmark(commonmarkDir, { gfm: false, pedantic: false, headerIds: false });\\nupdateCommonmark(gfmDir, { gfm: true, pedantic: false, headerIds: false });\\nupdateGfm(gfmDir);\\n\\n[end of update-specs.js]\\n\\n</code>\\n\\nHere is an example of a patch file. It consists of changes to the code base. It specifies the file names, the line numbers of each change, and the removed and added lines. A single patch file can contain changes to multiple files.\\n\\n<patch>\\ndiff --git a/file.py b/file.py\\n--- a/file.py\\n+++ b/file.py\\n@@ -1,27 +1,35 @@\\n def euclidean(a, b):\\n-    while b:\\n-        a, b = b, a % b\\n-    return a\\n+    if b == 0:\\n+        return a\\n+    return euclidean(b, a % b)\\n \\n def bresenham(x0, y0, x1, y1):\\n+    points = []\\n+    dx = abs(x1 - x0)\\n+    dy = abs(y1 - y0)\\n+    sx = 1 if x0 < x1 else -1\\n+    sy = 1 if y0 < y1 else -1\\n+    err = dx - dy\\n+    \\n     while True:\\n-        plot(x0, y0)\\n+        points.append((x0, y0))\\n         if x0 == x1 and y0 == y1:\\n             break\\n-        e2 = 2 * err\\n-        if e2 > -dy:\\n-            err -= dy\\n-            x0 += sx\\n-        if e2 < dx:\\n-            err += dx\\n-            y0 += sy\\n+        e2 = 2 * err\\n+        if e2 > -dy:\\n+            err -= dy\\n+            x0 += sx\\n+        if e2 < dx:\\n+            err += dx\\n+            y0 += sy\\n+    return points\\n+</patch>\\n\\nI need you to solve the provided issue by generating a single patch file that I can apply directly to this repository using git apply. Please respond with a single patch file in the format shown above.\\n\\nRespond below: \\n\"}]",
      "retrieved_file_paths": [
        "AUTHORS.md",
        "Bug_report.md",
        "ISSUE_TEMPLATE.md",
        "README.md",
        "update-specs.js"
      ]
    },
    "retrieved_documents": [
      {
        "id": "bd7bce0d-9b31-44fb-94b7-5cf596a46edb",
        "score": 0.01639344262295082,
        "payload": {
          "text": "# Authors\n\nMarked takes an encompassing approach to its community. As such, you can think of these as [concentric circles](https://medium.com/the-node-js-collection/healthy-open-source-967fa8be7951), where each group encompases the following groups.\n\n<table>\n  <tbody>\n  \t<tr>\n      <td align=\"center\" valign=\"top\" style=\"width:32%\">\n        <a href=\"https://github.com/chjj\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/chjj.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/chjj\">Christopher Jeffrey</a>\n        <div>Original Author</div>\n        <small>Started the fire</small>\n      </td>\n      <td align=\"center\" valign=\"top\" style=\"width:32%\">\n        <a href=\"https://github.com/joshbruce\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/joshbruce.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://joshbruce.com\">Josh Bruce</a>\n        <div>Publisher</div>\n        <small>Release Wrangler; Humaning Helper; Heckler of Hypertext</small>\n      </td>\n      <td align=\"center\" valign=\"top\" style=\"width:32%\">\n        <a href=\"https://github.com/styfle\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/styfle.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://www.ceriously.com\">Steven</a>\n        <div>Publisher</div>\n        <small>Release Wrangler; Dr. Docs; Open source, of course; GitHub Guru; Humaning Helper</small>\n      </td>\n    </tr>\n  \t<tr>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/davisjam\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/davisjam.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/davisjam\">Jamie Davis</a>\n        <div>Committer</div>\n        <small>Seeker of Security</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/UziTech\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/UziTech.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://tony.brix.ninja\">Tony Brix</a>\n        <div>Publisher</div>\n        <small>Release Wrangler; Titan of the test harness; Dr. DevOps</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        &nbsp;\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n<table>\n  <tbody>\n    <tr>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/intcreator\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/intcreator.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/intcreator\">Brandon der Bl\u00e4tter</a>\n        <div>Contributor</div>\n        <small>Curious Contributor</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/carlosvalle\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/carlosvalle.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/carlosvalle\">Carlos Valle</a>\n        <div>Contributor</div>\n        <small>Maker of the Marked mark from 2018 to present</small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n        <a href=\"https://github.com/Feder1co5oave\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/Feder1co5oave.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/Feder1co5oave\">Federico Soave</a>\n        <div>Contributor</div>\n        <small>Regent of the Regex; Master of Marked</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/karenyavine\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/karenyavine.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/karenyavine\">Karen Yavine</a>\n        <div>Contributor</div>\n        <small>Snyk's Security Saint</small>\n      </td>\n     </tr>\n     <tr>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/KostyaTretyak\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/KostyaTretyak.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/KostyaTretyak\">\u041a\u043e\u0441\u0442\u044f \u0422\u0440\u0435\u0442\u044f\u043a</a>\n        <div>Contributor</div>\n        <small></small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n        <a href=\"https://github.com/tomtheisen\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/tomtheisen.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/tomtheisen\">Tom Theisen</a>\n        <div>Contributor</div>\n        <small>Defibrillator</small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n        <a href=\"https://github.com/mccraveiro\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/mccraveiro.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/mccraveiro\">Mateus Craveiro</a>\n        <div>Contributor</div>\n        <small>Defibrillator</small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n      </td>\n     </tr>\n  </tbody>\n</table>\n\n## Publishers\n\nPublishers are admins who also have the responsibility, privilege, and burden of publishing the new releases to NPM and performing outreach and external stakeholder communications. Further, when things go pear-shaped, they're the ones taking most of the heat. Finally, when things go well, they're the primary ones praising the contributors who made it possible.\n\n(In other words, while Admins are focused primarily on the internal workings of the project, Publishers are focused on internal *and* external concerns.)\n\n**Should not exceed 2:** Having more people with the authority to publish a release can quickly turn into a consensus seeking nightmare (design by committee). Having only one is preferred (Directly Responsible Individual); however, given the nature of the project and its history, having an immediate fallback, and a potential deep fallback (Original author) is probably a good idea.\n\n[Details on badges](#badges)\n\n## Admins\n\nAdmins are committers who also have the responsibility, privilege, and burden of selecting committers and making sure the project itself runs smoothly, which includes community maintenance, governance, dispute resolution, and so on. (Letting the contributors easily enter into, and work within, the project to begin contributing, with as little friction as possible.)\n\n**Should not exceed 3:** When there are too many people with the ability to resolve disputes, the dispute itself can quickly turn into a dispute amongst the admins themselves; therefore, we want this group to be small enough to commit to action and large enough to not put too much burden on one person. (Should ensure faster resolution and responsiveness.)\n\nTo be listed: Admins are usually selected from the pool of committers (or they volunteer, using the same process) who demonstrate good understanding of the marked culture, operations, and do their best to help new contributors get up to speed on how to contribute effectively to the project.\n\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\n\n[Details on badges](#badges)\n\n## Committers\n\nCommitters are contributors who also have the responsibility, privilege, some might even say burden of being able to review and merge contributions (just usually not their own).\n\nA note on \"decision making authority\". This is related to submitting PRs and the [advice process](http://www.reinventingorganizationswiki.com/Decision_Making). The person marked as having decision making authority over a certain area should be sought for advice in that area before committing to a course of action.\n\n**Should not exceed 5:** For larger PRs affecting more of the codebase and, most likely, review by more people, we try to keep this pool small and responsive and let those with decision making authority have final say without negative repercussions from the other committers.\n\nTo be listed: Committers are usually selected (or they volunteer, using the same process) from contributors who enter the discussions regarding the future direction of Marked (maybe even doing informal reviews of contributions despite not being able to merge them yourself).\n\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\n\nA note on volunteering:\n\n1. Please do not volunteer unless you believe you can demonstrate to your peers you can do the work required.\n2. Please do not overcommit yourself; we count on those committed to the project to be responsive. Really consider, with all you have going on, wehther you able to really commit to it.\n3. Don't let the previous frighten you away, it can always be changed later by you or your peers.\n\n[Details on badges](#badges)\n\n## Contributors\n\nContributors are users who submit a [PR](https://github.com/markedjs/marked/pulls), [Issue](https://github.com/markedjs/marked/issues), or collaborate in making Marked a better product and experience for all the users.\n\nTo be listed: make a contribution and, if it has significant impact, the committers may be able to add you here.\n\nTo be removed: please let us know or submit a PR.\n\n[Details on badges](#badges)\n\n## Users\n\nUsers are anyone using Marked in some fashion, without them, there's no reason for us to exist.\n\n|Individual or Organization |Website                 |Project                              |Submitted by                                        |\n|:--------------------------|:-----------------------|:------------------------------------|:---------------------------------------------------|\n|MarkedJS                   |https://marked.js.org   |https://github.com/markedjs/marked   |The marked committers                               |\n\nTo be listed: All fields are optional. Contact any of the committers or, more timely, submit a pull request with the following (using the first row as an example):\n\n- **Individual or Organization:** The name you would like associated with the record.\n- **Website:** A URL to a standalone website for the project.\n- **Project:** A URL for the repository of the project using marked.\n- **Submitted by:** The name and optional honorifics for the person adding the listing.\n\nTo be removed: Same as above. Only instead of requesting addition request deletion or delete the row yourself.\n\n<h2 id=\"badges\">Badges</h2>\n\nBadges? You don't *need* no stinkin' badges.\n\nMovie references aside. (It was either that or, \"Let's play a game\", but that would have been creepy&hellip;that's why it will most likely come later.)\n\nBadges? If you *want* 'em, we got 'em, and here's how you get 'em (and&hellip;dramatic pause&hellip;why not two dramatic pauses for emphasis?&hellip; how they can be taken away).\n\n- [ ] Add the appropriate badge to the desired contributor in the desired column of this page, even if they're not listed here yet.\n- [ ] Submit a PR (we're big on PRs around here, if you haven't noticed, help us help you).\n- [ ] Follow the instructions for submitting a badge PR. (There are more details to find within. Come on. Everybody likes surprises, right? No? Actually, we just try to put documentation where it belongs, closer to the code and part of the sequence of events.)\n\n### Badges at play:\n\n<dl>\n\t<dt>Curious Contributor</dt>\n\t<dd>A contributor with less than one year on this page who is actively engaged in submitting PRs, Issues, making recommendations, sharing thoughts&hellip;without being too annoying about it (let's be clear, submitting 100 Issues recommending the Marked Committers send everyone candy is trying for the badge, not honestly earning it).</dd>\n\t<dt>Dr. DevOps</dt>\n\t<dd>\n\t\t<p>Someone who understands and contributes to improving the developer experience and flow of Marked into the world.</p>\n\t\t<blockquote>\n\t\t\t\"The main characteristic of the DevOps movement is to strongly advocate automation and monitoring at all steps of software construction, from integration, testing, releasing to deployment and infrastructure management. DevOps aims at shorter development cycles, increased deployment frequency, more dependable releases, in close alignment with business objectives.\" ~ <a href=\"https://www.wikipedia.org/wiki/DevOps\">Wikipedia</a>\n\t\t</blockquote>\n\t</dd>\n  <dt>Dr. Docs</dt>\n  <dd>Someone who has contributed a great deal to the creation and maintainance of the non-code areas of marked.</dd>\n\t<dt>Eye for the CLI</dt>\n\t<dd>At this point? Pretty much anyone who can update that `man` file to the current Marked version without regression in the CLI tool itself.</dd>\n\t<dt>GitHub Guru</dt>\n\t<dd>Someone who always seems to be able to tell you easier ways to do things with GitHub.</dd>\n\t<dt>Humaning Helper</dt>\n\t<dd>Someone who goes out of their way to help contributors feel welcomed and valued. Further, someone who takes the extra steps(s) necessary to help new contributors get up to speed. Finally, they maintain composure even in times of disagreement and dispute resolution.</dd>\n\t<dt>Heckler of Hypertext</dt>\n\t<dd>Someone who demonstrates an esoteric level of knowledge when it comes to HTML. In other words, someone who says things like, \"Did you know most Markdown flavors don't have a way to render a description list (`dl`)? All the more reason Markdown `!==` HTML.\"</dd>\n\t<dt>Markdown Maestro</dt>\n\t<dd>You know that person who knows about way too many different flavors of Markdown? The one who maybe seems a little too obsessed with the possibilities of Markdown beyond HTML? Come on. You know who they are. Or, at least you could, if you give them this badge.</dd>\n\t<dt>Master of Marked</dt>\n\t<dd>Someone who demonstrates they know the ins and outs of the codebase for Marked.</dd>\n\t<dt>Open source, of course</dt>\n\t<dd>Someone who advocates for and has a proven understanding of how to operate within open source communities.</dd>\n\t<dt>Regent of the Regex</dt>\n\t<dd><p>Can you demonstrate you understand the following without Google and Stackoverflow?</p>\n\t\t<p><code>/^( *)(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/</code></p>\n\t\t<p>Because this author can't yet. That's who gets these.</p>\n\t</dd>\n\t<dt>Seeker of Security</dt>\n\t<dd>Someone who has demonstrated a high degree of expertise or authority when it comes to software security.</dd>\n\t<dt>Titan of the Test Harness</dt>\n\t<dd>Someone who demonstrates high-levels of understanding regarding Marked's test harness.</dd>\n\t<dt>Totally Tron</dt>\n\t<dd>Someone who demonstrates they are willing and able to \"fight for the users\", both developers dependent on marked to do their jobs as well as end-users interacting with the output (particularly in the realm of those with the disabilities).</dd>\n</dl>\n\n### Special badges that come with the job:\n\n<dl>\n\t<dt>Defibrillator</dt>\n\t<dd>A contributor who stepped up to help bring Marked back to life by contriuting solutions to help Marked pass when compared against the CommonMark and GitHub Flavored Markdown specifications.</dd>\n\t<dt>Maker of the Marked mark</dt>\n\t<dd>This badge is given to the person or oganization credited with creating the logo (or logotype) used in Marked communications for a given period of time. **Maker of the Marked mark from 2017 to present**, for example.</dd>\n\t<dt>Release Wrangler</dt>\n\t<dd>This is a badge given to all Publishers.</dd>\n\t<dt>Snyk's Security Saint</dt>\n\t<dd>This is a badge given to whomever primarily reaches out from Snyk to let us know about security issues.</dd>\n</dl>\n",
          "filepath": "data/repos/markedjs/marked-0.7/docs/AUTHORS.md",
          "repo": "markedjs/marked",
          "version": "0.7",
          "chunk_index": 0,
          "chunk_id": "bd7bce0d-9b31-44fb-94b7-5cf596a46edb"
        }
      },
      {
        "id": "e773799a-7d26-4c42-ac0f-6f070a5041ba",
        "score": 0.016129032258064516,
        "payload": {
          "text": "---\nname: Bug report\nabout: Marked says it does this thing but does not\n\n---\n\n**Describe the bug**\nA clear and concise description of what the bug is.\n\n**To Reproduce**\nSteps to reproduce the behavior:\n\n<!-- If possible, use the Marked Demo permalink and compare to the CommonMark Dingus permalink to demonstrate the bug -->\n<!--\n1. [Marked Demo](https://marked.js.org/demo/)\n2. [CommonMark Demo](https://spec.commonmark.org/dingus/)\n-->\n\n<!-- If you need a specific version and options to reproduce the bug, use the following template -->\n<!--\n1. Install marked `npm install --save marked@0.3.19` with the version you are using\n2. Run marked with input string and options such as `marked('hello *world*', {gfm: true})`\n3. Actual output (or error) is...\n-->\n\n**Expected behavior**\nA clear and concise description of what you expected to happen.\n",
          "filepath": "data/repos/markedjs/marked-0.7/.github/ISSUE_TEMPLATE/Bug_report.md",
          "repo": "markedjs/marked",
          "version": "0.7",
          "chunk_index": 0,
          "chunk_id": "e773799a-7d26-4c42-ac0f-6f070a5041ba"
        }
      },
      {
        "id": "47fc0806-5c4f-457c-856f-db904e34eb2b",
        "score": 0.015873015873015872,
        "payload": {
          "text": "**Marked version:**\n\n**Markdown flavor:** Markdown.pl|CommonMark|GitHub Flavored Markdown|n/a\n\n<!-- The NPM version or commit hash having the issue --> \n\n<!-- \n\n\tIf submitting something other than a defect with Marked itself, please use the following:\n\n**Proposal type:** new feature | project operations | other\n\n## What pain point are you perceiving?\n\n## What solution are you suggesting?\n\n-->\n\n## Expectation\n\n**CommonMark Demo:** [demo](https://spec.commonmark.org/dingus/)\n<!-- You can replace the link above with a permalink from: https://spec.commonmark.org/dingus/ -->\n\n<!-- Describe the output you are expecting from marked -->\n\n## Result\n\n**Marked Demo:** [demo](https://marked.js.org/demo/)\n<!-- You can replace the link above with a permalink from: https://marked.js.org/demo/ -->\n\n<!-- Describe the output you received from marked -->\n\n## What was attempted\n\n<!-- Describe what code combination got you there -->\n\n<!-- \n\tIf error is thrown add the following:\n\n## Call stack & console log\n\n-->\n",
          "filepath": "data/repos/markedjs/marked-0.7/.github/ISSUE_TEMPLATE.md",
          "repo": "markedjs/marked",
          "version": "0.7",
          "chunk_index": 0,
          "chunk_id": "47fc0806-5c4f-457c-856f-db904e34eb2b"
        }
      },
      {
        "id": "fb9acd5c-252c-409c-b972-601ada4c2ddb",
        "score": 0.015625,
        "payload": {
          "text": "Marked is\n\n1. built for speed.<sup>*</sup>\n2. a low-level markdown compiler for parsing markdown without caching or blocking for long periods of time.<sup>**</sup>\n3. light-weight while implementing all markdown features from the supported flavors & specifications.<sup>***</sup>\n4. available as a command line interface (CLI) and running in client- or server-side JavaScript projects.\n\n<p><small><sup>*</sup> Still working on metrics for comparative analysis and definition.</small><br>\n<small><sup>**</sup> As few dependencies as possible.</small><br>\n<small><sup>***</sup> Strict compliance could result in slower processing when running comparative benchmarking.</small></p>\n\n\n<h2 id=\"demo\">Demo</h2>\n\nCheckout the [demo page](./demo/) to see marked in action \u26f9\ufe0f\n\nThese documentation pages are also rendered using marked \ud83d\udcaf\n\n\n<h2 id=\"installation\">Installation</h2>\n\n**CLI:** `npm install -g marked`\n\n**In-browser:** `npm install marked`\n\n<h2 id=\"usage\">Usage</h2>\n\n### Warning: \ud83d\udea8 Marked does not [sanitize](https://marked.js.org/#/USING_ADVANCED.md#options) the output HTML. Please use a sanitize library, like [DOMPurify](https://github.com/cure53/DOMPurify) (recommended), [sanitize-html](https://github.com/apostrophecms/sanitize-html) or [insane](https://github.com/bevacqua/insane) on the output HTML! \ud83d\udea8\n\n**CLI**\n\n``` bash\n$ marked -o hello.html\nhello world\n^D\n$ cat hello.html\n<p>hello world</p>\n```\n\n``` bash\n$ marked -s \"*hello world*\"\n<p><em>hello world</em></p>\n```\n\n**Browser**\n\n```html\n<!doctype html>\n<html>\n<head>\n  <meta charset=\"utf-8\"/>\n  <title>Marked in the browser</title>\n</head>\n<body>\n  <div id=\"content\"></div>\n  <script src=\"https://cdn.jsdelivr.net/npm/marked/marked.min.js\"></script>\n  <script>\n    document.getElementById('content').innerHTML =\n      marked('# Marked in browser\\n\\nRendered by **marked**.');\n  </script>\n</body>\n</html>\n```\n\n\nMarked offers [advanced configurations](#/USING_ADVANCED.md) and [extensibility](#/USING_PRO.md) as well.\n\n<h2 id=\"specifications\">Supported Markdown specifications</h2>\n\nWe actively support the features of the following [Markdown flavors](https://github.com/commonmark/CommonMark/wiki/Markdown-Flavors).\n\n|Flavor                                                     |Version    |\n|:----------------------------------------------------------|:----------|\n|The original markdown.pl                                   |--         |\n|[CommonMark](http://spec.commonmark.org/0.29/)             |0.29       |\n|[GitHub Flavored Markdown](https://github.github.com/gfm/) |0.29       |\n\nBy supporting the above Markdown flavors, it's possible that Marked can help you use other flavors as well; however, these are not actively supported by the community.\n\n<h2 id=\"security\">Security</h2>\n\nThe only completely secure system is the one that doesn't exist in the first place. Having said that, we take the security of Marked very seriously.\n\nTherefore, please disclose potential security issues by email to the project [committers](#/AUTHORS.md) as well as the [listed owners within NPM](https://docs.npmjs.com/cli/owner). We will provide an initial assessment of security reports within 48 hours and should apply patches within 2 weeks (also, feel free to contribute a fix for the issue).\n\n",
          "filepath": "data/repos/markedjs/marked-0.7/docs/README.md",
          "repo": "markedjs/marked",
          "version": "0.7",
          "chunk_index": 0,
          "chunk_id": "fb9acd5c-252c-409c-b972-601ada4c2ddb"
        }
      },
      {
        "id": "80aecac3-5f20-4d7c-92d3-ad740891c7d7",
        "score": 0.015384615384615385,
        "payload": {
          "text": "const fetch = require('node-fetch');\nconst cheerio = require('cheerio');\nconst marked = require('../');\nconst htmlDiffer = require('./helpers/html-differ.js');\nconst fs = require('fs');\nconst path = require('path');\n\nfunction removeFiles(dir) {\n  fs.readdirSync(dir).forEach(file => {\n    fs.unlinkSync(path.join(dir, file));\n  });\n}\n\nasync function updateCommonmark(dir, options) {\n  try {\n    const res = await fetch('https://raw.githubusercontent.com/commonmark/commonmark.js/master/package.json');\n    const pkg = await res.json();\n    const version = pkg.version.replace(/^(\\d+\\.\\d+).*$/, '$1');\n    const res2 = await fetch(`https://spec.commonmark.org/${version}/spec.json`);\n    const specs = await res2.json();\n    specs.forEach(spec => {\n      const html = marked(spec.markdown, options);\n      if (!htmlDiffer.isEqual(html, spec.html)) {\n        spec.shouldFail = true;\n      }\n    });\n    fs.writeFileSync(path.resolve(dir, `./commonmark.${version}.json`), JSON.stringify(specs, null, 2) + '\\n');\n    console.log(`Saved CommonMark v${version} specs`);\n  } catch (ex) {\n    console.log(ex);\n  }\n}\n\nasync function updateGfm(dir) {\n  try {\n    const res = await fetch('https://github.github.com/gfm/');\n    const html = await res.text();\n    const $ = cheerio.load(html);\n    const version = $('.version').text().match(/\\d+\\.\\d+/)[0];\n    if (!version) {\n      throw new Error('No version found');\n    }\n    const specs = [];\n    $('.extension').each((i, ext) => {\n      const section = $('.definition', ext).text().trim().replace(/^\\d+\\.\\d+(.*?) \\(extension\\)[\\s\\S]*$/, '$1');\n      $('.example', ext).each((j, exa) => {\n        const example = +$(exa).attr('id').replace(/\\D/g, '');\n        const markdown = $('.language-markdown', exa).text().trim();\n        const html = $('.language-html', exa).text().trim();\n        specs.push({\n          section: `[extension] ${section}`,\n          html,\n          markdown,\n          example\n        });\n      });\n    });\n\n    specs.forEach(spec => {\n      const html = marked(spec.markdown, { gfm: true, pedantic: false });\n      if (!htmlDiffer.isEqual(html, spec.html)) {\n        spec.shouldFail = true;\n      }\n    });\n    fs.writeFileSync(path.resolve(dir, `./gfm.${version}.json`), JSON.stringify(specs, null, 2) + '\\n');\n    console.log(`Saved GFM v${version} specs.`);\n  } catch (ex) {\n    console.log(ex);\n  }\n}\n\nconst commonmarkDir = path.resolve(__dirname, './specs/commonmark');\nconst gfmDir = path.resolve(__dirname, './specs/gfm');\nremoveFiles(commonmarkDir);\nremoveFiles(gfmDir);\nupdateCommonmark(commonmarkDir, { gfm: false, pedantic: false, headerIds: false });\nupdateCommonmark(gfmDir, { gfm: true, pedantic: false, headerIds: false });\nupdateGfm(gfmDir);\n",
          "filepath": "data/repos/markedjs/marked-0.7/test/update-specs.js",
          "repo": "markedjs/marked",
          "version": "0.7",
          "chunk_index": 0,
          "chunk_id": "80aecac3-5f20-4d7c-92d3-ad740891c7d7"
        }
      }
    ]
  },
  {
    "instance_id": "markedjs__marked-684",
    "model_patch": "diff --git a/marked.js b/marked.js\n--- a/marked.js\n+++ b/marked.js\n@@ -73,7 +73,7 @@ block._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\n block.def = edit(block.def)\n   .replace('label', block._label)\n   .replace('title', block._title)\n-  .getRegex();\n+  .getRegex(); \n\n block.bullet = /(?:[*+-]|\\d+\\.)/;\n block.item = /^( *)(bull) [^\\n]*(?:\\n(?!\\1bull )[^\\n]*)*/;\n block.item = edit(block.item, 'gm')\n@@ -82,7 +82,7 @@ block.item = edit(block.item, 'gm')\n   .getRegex();\n\n block.list = edit(block.list)\n-  .replace(/bull/g, block.bullet)\n+  .replace(/bull/g, block.bullet) \n   .replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))')\n   .replace('def', '\\\\n+(?=' + block.def.source + ')')\n   .getRegex();\n@@ -159,7 +159,7 @@ block.gfm.paragraph = edit(block.paragraph)\n   .replace('(?!', '(?!'\n     + block.gfm.fences.source.replace('\\\\1', '\\\\2') + '|'\n     + block.list.source.replace('\\\\1', '\\\\3') + '|')\n-  .getRegex();\n+  .getRegex(); \n\n /**\n  * GFM + Tables Block Grammar\n@@ -295,7 +295,7 @@ Lexer.lex = function(src, options) {\n  * Preprocessing\n  */\n\n-Lexer.prototype.lex = function(src) {\n+Lexer.prototype.lex = function(src) { \n   src = src\n     .replace(/\\r\\n|\\r/g, '\\n')\n     .replace(/\\t/g, '    ')\n@@ -309,7 +309,7 @@ Lexer.prototype.lex = function(src) {\n  * Lexing\n  */\n\n-Lexer.prototype.token = function(src, top) {\n+Lexer.prototype.token = function(src, top) { \n   src = src.replace(/^ +$/gm, '');\n   var next,\n       loose,\n@@ -518,7 +518,7 @@ Lexer.prototype.token = function(src, top) {\n  * Inline-Level Grammar\n  */\n\n-var inline = {\n+var inline = { \n   escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n   autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n   url: noop,\n@@ -526,7 +526,7 @@ var inline = {\n     + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n     + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n     + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n-    + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n+    + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html> \n     + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>', // CDATA section\n   link: /^!?\\[(label)\\]\\(href(?:\\s+(title))?\\s*\\)/,\n   reflink: /^!?\\[(label)\\]\\[(?!\\s*\\])((?:\\\\[\\[\\]]?|[^\\[\\]\\\\])+)\\]/,\n@@ -534,7 +534,7 @@ var inline = {\n   em: /^_([^\\s_])_(?!_)|^\\*([^\\s*\"<\\[])\\*(?!\\*)|^_([^\\s][\\s\\S]*?[^\\s_])_(?!_)|^_([^\\s_][\\s\\S]*?[^\\s])_(?!_)|^\\*([^\\s\"<\\[][\\s\\S]*?[^\\s*])\\*(?!\\*)|^\\*([^\\s*\"<\\[][\\s\\S]*?[^\\s])\\*(?!\\*)/,\n   code: /^(`+)\\s*([\\s\\S]*?[^`]?)\\s*\\1(?!`)/,\n   br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n-  del: noop,\n+  del: noop, \n   text: /^[\\s\\S]+?(?=[\\\\<!\\[`*]|\\b_| {2,}\\n|$)/\n };\n\n@@ -542,7 +542,7 @@ inline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\n inline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\n inline.autolink = edit(inline.autolink)\n   .replace('scheme', inline._scheme)\n-  .replace('email', inline._email)\n+  .replace('email', inline._email) \n   .getRegex();\n\n inline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\n@@ -550,7 +550,7 @@ inline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\\n\n inline.tag = edit(inline.tag)\n   .replace('comment', block._comment)\n-  .replace('attribute', inline._attribute)\n+  .replace('attribute', inline._attribute) \n   .getRegex();\n\n inline._label = /(?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]?|`[^`]*`|[^\\[\\]\\\\])*?/;",
    "model_name_or_path": "text_bm25",
    "metrics": {
      "issue_embedding_time_ms": 0.0,
      "retrieval_time_ms_bm25": 14.88,
      "retrieval_time_ms": 14.88,
      "total_retrieval_time_ms": 14.88,
      "generation_time_ms": 11675.86,
      "total_io_time_ms": 11690.75,
      "input_total_token_limit": null,
      "issue_text_tokens": 274,
      "vlm_tokens": 0,
      "retrieved_tokens": 12798,
      "prompt_template_tokens": 511,
      "total_input_prompt_tokens": 13583,
      "output_generated_tokens": 1443,
      "total_io_tokens": 15026,
      "input_prompt_text": "[{\"type\": \"text\", \"text\": \"You will be provided with a partial code base and an issue statement explaining a problem to resolve.\\n<issue>\\nWeird list rendering behavior\\n```\\n- test\\n- test\\n- test\\n1. test\\n2. test\\n3. test\\n```\\n\\nRenders as this:\\n\\n![screenshot 40](https://cloud.githubusercontent.com/assets/87356/5483878/54978340-8639-11e4-961b-7f5f293980c6.jpg)\\n\\n```\\n- test\\n- test\\n- test\\n\\n1. test\\n2. test\\n3. test\\n```\\n\\nRenders as\\n\\n![screenshot 41](https://cloud.githubusercontent.com/assets/87356/5483883/66d6c32c-8639-11e4-87cf-a18d96fd59e8.jpg)\\n\\nAnd this:\\n\\n```\\n- test\\n- test\\n- test\\n\\n\\n1. test\\n2. test\\n3. test\\n```\\n\\nRenders correctly:\\n\\n![screenshot 42](https://cloud.githubusercontent.com/assets/87356/5483887/7d846408-8639-11e4-9201-a86ded31a5d1.jpg)\\n\\nWhy the weird behavior? Is this normal? Why is 2 spaces required after a list before starting another list? I haven't seen that any in sort of spec for how markdown works. Am I missing something here?\\n\\n\\n</issue>\\n\\n<code>\\n[start of main.md]\\n[test]: http://google.com/ \\\"Google\\\"\\n\\n# A heading\\n\\nJust a note, I've found that I can't test my markdown parser vs others.\\nFor example, both markdown.js and showdown code blocks in lists wrong. They're\\nalso completely [inconsistent][test] with regards to paragraphs in list items.\\n\\nA link. Not anymore.\\n\\n<aside>This will make me fail the test because\\nmarkdown.js doesnt acknowledge arbitrary html blocks =/</aside>\\n\\n* List Item 1\\n\\n* List Item 2\\n  * New List Item 1\\n    Hi, this is a list item.\\n  * New List Item 2\\n    Another item\\n        Code goes here.\\n        Lots of it...\\n  * New List Item 3\\n    The last item\\n\\n* List Item 3\\nThe final item.\\n\\n* List Item 4\\nThe real final item.\\n\\nParagraph.\\n\\n> * bq Item 1\\n> * bq Item 2\\n>   * New bq Item 1\\n>   * New bq Item 2\\n>   Text here\\n\\n* * *\\n\\n> Another blockquote!\\n> I really need to get\\n> more creative with\\n> mockup text..\\n> markdown.js breaks here again\\n\\nAnother Heading\\n-------------\\n\\nHello *world*. Here is a [link](//hello).\\nAnd an image ![alt](src).\\n\\n    Code goes here.\\n    Lots of it...\\n\\n[end of main.md]\\n[start of marked.js]\\n/**\\n * marked - a markdown parser\\n * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)\\n * https://github.com/markedjs/marked\\n */\\n\\n;(function(root) {\\n'use strict';\\n\\n/**\\n * Block-Level Grammar\\n */\\n\\nvar block = {\\n  newline: /^\\\\n+/,\\n  code: /^( {4}[^\\\\n]+\\\\n*)+/,\\n  fences: noop,\\n  hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$)/,\\n  heading: /^ *(#{1,6}) *([^\\\\n]+?) *(?:#+ *)?(?:\\\\n+|$)/,\\n  nptable: noop,\\n  blockquote: /^( {0,3}> ?(paragraph|[^\\\\n]*)(?:\\\\n|$))+/,\\n  list: /^( *)(bull) [\\\\s\\\\S]+?(?:hr|def|\\\\n{2,}(?! )(?!\\\\1bull )\\\\n*|\\\\s*$)/,\\n  html: '^ {0,3}(?:' // optional indentation\\n    + '<(script|pre|style)[\\\\\\\\s>][\\\\\\\\s\\\\\\\\S]*?(?:</\\\\\\\\1>[^\\\\\\\\n]*\\\\\\\\n+|$)' // (1)\\n    + '|comment[^\\\\\\\\n]*(\\\\\\\\n+|$)' // (2)\\n    + '|<\\\\\\\\?[\\\\\\\\s\\\\\\\\S]*?\\\\\\\\?>\\\\\\\\n*' // (3)\\n    + '|<![A-Z][\\\\\\\\s\\\\\\\\S]*?>\\\\\\\\n*' // (4)\\n    + '|<!\\\\\\\\[CDATA\\\\\\\\[[\\\\\\\\s\\\\\\\\S]*?\\\\\\\\]\\\\\\\\]>\\\\\\\\n*' // (5)\\n    + '|</?(tag)(?: +|\\\\\\\\n|/?>)[\\\\\\\\s\\\\\\\\S]*?(?:\\\\\\\\n{2,}|$)' // (6)\\n    + '|<(?!script|pre|style)([a-z][\\\\\\\\w-]*)(?:attribute)*? */?>(?=\\\\\\\\h*\\\\\\\\n)[\\\\\\\\s\\\\\\\\S]*?(?:\\\\\\\\n{2,}|$)' // (7) open tag\\n    + '|</(?!script|pre|style)[a-z][\\\\\\\\w-]*\\\\\\\\s*>(?=\\\\\\\\h*\\\\\\\\n)[\\\\\\\\s\\\\\\\\S]*?(?:\\\\\\\\n{2,}|$)' // (7) closing tag\\n    + ')',\\n  def: /^ {0,3}\\\\[(label)\\\\]: *\\\\n? *<?([^\\\\s>]+)>?(?:(?: +\\\\n? *| *\\\\n *)(title))? *(?:\\\\n+|$)/,\\n  table: noop,\\n  lheading: /^([^\\\\n]+)\\\\n *(=|-){2,} *(?:\\\\n+|$)/,\\n  paragraph: /^([^\\\\n]+(?:\\\\n(?!hr|heading|lheading| {0,3}>|<\\\\/?(?:tag)(?: +|\\\\n|\\\\/?>)|<(?:script|pre|style|!--))[^\\\\n]+)*)/,\\n  text: /^[^\\\\n]+/\\n};\\n\\nblock._label = /(?!\\\\s*\\\\])(?:\\\\\\\\[\\\\[\\\\]]|[^\\\\[\\\\]])+/;\\nblock._title = /(?:\\\"(?:\\\\\\\\\\\"?|[^\\\"\\\\\\\\])*\\\"|'[^'\\\\n]*(?:\\\\n[^'\\\\n]+)*\\\\n?'|\\\\([^()]*\\\\))/;\\nblock.def = edit(block.def)\\n  .replace('label', block._label)\\n  .replace('title', block._title)\\n  .getRegex();\\n\\nblock.bullet = /(?:[*+-]|\\\\d+\\\\.)/;\\nblock.item = /^( *)(bull) [^\\\\n]*(?:\\\\n(?!\\\\1bull )[^\\\\n]*)*/;\\nblock.item = edit(block.item, 'gm')\\n  .replace(/bull/g, block.bullet)\\n  .getRegex();\\n\\nblock.list = edit(block.list)\\n  .replace(/bull/g, block.bullet)\\n  .replace('hr', '\\\\\\\\n+(?=\\\\\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\\\\\* *){3,})(?:\\\\\\\\n+|$))')\\n  .replace('def', '\\\\\\\\n+(?=' + block.def.source + ')')\\n  .getRegex();\\n\\nblock._tag = 'address|article|aside|base|basefont|blockquote|body|caption'\\n  + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption'\\n  + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe'\\n  + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option'\\n  + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr'\\n  + '|track|ul';\\nblock._comment = /<!--(?!-?>)[\\\\s\\\\S]*?-->/;\\nblock.html = edit(block.html, 'i')\\n  .replace('comment', block._comment)\\n  .replace('tag', block._tag)\\n  .replace('attribute', / +[a-zA-Z:_][\\\\w.:-]*(?: *= *\\\"[^\\\"\\\\n]*\\\"| *= *'[^'\\\\n]*'| *= *[^\\\\s\\\"'=<>`]+)?/)\\n  .getRegex();\\n\\nblock.paragraph = edit(block.paragraph)\\n  .replace('hr', block.hr)\\n  .replace('heading', block.heading)\\n  .replace('lheading', block.lheading)\\n  .replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\\n  .getRegex();\\n\\nblock.blockquote = edit(block.blockquote)\\n  .replace('paragraph', block.paragraph)\\n  .getRegex();\\n\\n/**\\n * Normal Block Grammar\\n */\\n\\nblock.normal = merge({}, block);\\n\\n/**\\n * GFM Block Grammar\\n */\\n\\nblock.gfm = merge({}, block.normal, {\\n  fences: /^ *(`{3,}|~{3,})[ \\\\.]*(\\\\S+)? *\\\\n([\\\\s\\\\S]*?)\\\\n? *\\\\1 *(?:\\\\n+|$)/,\\n  paragraph: /^/,\\n  heading: /^ *(#{1,6}) +([^\\\\n]+?) *#* *(?:\\\\n+|$)/\\n});\\n\\nblock.gfm.paragraph = edit(block.paragraph)\\n  .replace('(?!', '(?!'\\n    + block.gfm.fences.source.replace('\\\\\\\\1', '\\\\\\\\2') + '|'\\n    + block.list.source.replace('\\\\\\\\1', '\\\\\\\\3') + '|')\\n  .getRegex();\\n\\n/**\\n * GFM + Tables Block Grammar\\n */\\n\\nblock.tables = merge({}, block.gfm, {\\n  nptable: /^ *([^|\\\\n ].*\\\\|.*)\\\\n *([-:]+ *\\\\|[-| :]*)(?:\\\\n((?:.*[^>\\\\n ].*(?:\\\\n|$))*)\\\\n*|$)/,\\n  table: /^ *\\\\|(.+)\\\\n *\\\\|?( *[-:]+[-| :]*)(?:\\\\n((?: *[^>\\\\n ].*(?:\\\\n|$))*)\\\\n*|$)/\\n});\\n\\n/**\\n * Pedantic grammar\\n */\\n\\nblock.pedantic = merge({}, block.normal, {\\n  html: edit(\\n    '^ *(?:comment *(?:\\\\\\\\n|\\\\\\\\s*$)'\\n    + '|<(tag)[\\\\\\\\s\\\\\\\\S]+?</\\\\\\\\1> *(?:\\\\\\\\n{2,}|\\\\\\\\s*$)' // closed tag\\n    + '|<tag(?:\\\"[^\\\"]*\\\"|\\\\'[^\\\\']*\\\\'|\\\\\\\\s[^\\\\'\\\"/>\\\\\\\\s]*)*?/?> *(?:\\\\\\\\n{2,}|\\\\\\\\s*$))')\\n    .replace('comment', block._comment)\\n    .replace(/tag/g, '(?!(?:'\\n      + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub'\\n      + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)'\\n      + '\\\\\\\\b)\\\\\\\\w+(?!:|[^\\\\\\\\w\\\\\\\\s@]*@)\\\\\\\\b')\\n    .getRegex(),\\n  def: /^ *\\\\[([^\\\\]]+)\\\\]: *<?([^\\\\s>]+)>?(?: +([\\\"(][^\\\\n]+[\\\")]))? *(?:\\\\n+|$)/\\n});\\n\\n/**\\n * Block Lexer\\n */\\n\\nfunction Lexer(options) {\\n  this.tokens = [];\\n  this.tokens.links = Object.create(null);\\n  this.options = options || marked.defaults;\\n  this.rules = block.normal;\\n\\n  if (this.options.pedantic) {\\n    this.rules = block.pedantic;\\n  } else if (this.options.gfm) {\\n    if (this.options.tables) {\\n      this.rules = block.tables;\\n    } else {\\n      this.rules = block.gfm;\\n    }\\n  }\\n}\\n\\n/**\\n * Expose Block Rules\\n */\\n\\nLexer.rules = block;\\n\\n/**\\n * Static Lex Method\\n */\\n\\nLexer.lex = function(src, options) {\\n  var lexer = new Lexer(options);\\n  return lexer.lex(src);\\n};\\n\\n/**\\n * Preprocessing\\n */\\n\\nLexer.prototype.lex = function(src) {\\n  src = src\\n    .replace(/\\\\r\\\\n|\\\\r/g, '\\\\n')\\n    .replace(/\\\\t/g, '    ')\\n    .replace(/\\\\u00a0/g, ' ')\\n    .replace(/\\\\u2424/g, '\\\\n');\\n\\n  return this.token(src, true);\\n};\\n\\n/**\\n * Lexing\\n */\\n\\nLexer.prototype.token = function(src, top) {\\n  src = src.replace(/^ +$/gm, '');\\n  var next,\\n      loose,\\n      cap,\\n      bull,\\n      b,\\n      item,\\n      listStart,\\n      listItems,\\n      t,\\n      space,\\n      i,\\n      tag,\\n      l,\\n      isordered,\\n      istask,\\n      ischecked;\\n\\n  while (src) {\\n    // newline\\n    if (cap = this.rules.newline.exec(src)) {\\n      src = src.substring(cap[0].length);\\n      if (cap[0].length > 1) {\\n        this.tokens.push({\\n          type: 'space'\\n        });\\n      }\\n    }\\n\\n    // code\\n    if (cap = this.rules.code.exec(src)) {\\n      src = src.substring(cap[0].length);\\n      cap = cap[0].replace(/^ {4}/gm, '');\\n      this.tokens.push({\\n        type: 'code',\\n        text: !this.options.pedantic\\n          ? rtrim(cap, '\\\\n')\\n          : cap\\n      });\\n      continue;\\n    }\\n\\n    // fences (gfm)\\n    if (cap = this.rules.fences.exec(src)) {\\n      src = src.substring(cap[0].length);\\n      this.tokens.push({\\n        type: 'code',\\n        lang: cap[2],\\n        text: cap[3] || ''\\n      });\\n      continue;\\n    }\\n\\n    // heading\\n    if (cap = this.rules.heading.exec(src)) {\\n      src = src.substring(cap[0].length);\\n      this.tokens.push({\\n        type: 'heading',\\n        depth: cap[1].length,\\n        text: cap[2]\\n      });\\n      continue;\\n    }\\n\\n    // table no leading pipe (gfm)\\n    if (top && (cap = this.rules.nptable.exec(src))) {\\n      item = {\\n        type: 'table',\\n        header: splitCells(cap[1].replace(/^ *| *\\\\| *$/g, '')),\\n        align: cap[2].replace(/^ *|\\\\| *$/g, '').split(/ *\\\\| */),\\n        cells: cap[3] ? cap[3].replace(/\\\\n$/, '').split('\\\\n') : []\\n      };\\n\\n      if (item.header.length === item.align.length) {\\n        src = src.substring(cap[0].length);\\n\\n        for (i = 0; i < item.align.length; i++) {\\n          if (/^ *-+: *$/.test(item.align[i])) {\\n            item.align[i] = 'right';\\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\\n            item.align[i] = 'center';\\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\\n            item.align[i] = 'left';\\n          } else {\\n            item.align[i] = null;\\n          }\\n        }\\n\\n        for (i = 0; i < item.cells.length; i++) {\\n          item.cells[i] = splitCells(item.cells[i], item.header.length);\\n        }\\n\\n        this.tokens.push(item);\\n\\n        continue;\\n      }\\n    }\\n\\n    // hr\\n    if (cap = this.rules.hr.exec(src)) {\\n      src = src.substring(cap[0].length);\\n      this.tokens.push({\\n        type: 'hr'\\n      });\\n      continue;\\n    }\\n\\n    // blockquote\\n    if (cap = this.rules.blockquote.exec(src)) {\\n      src = src.substring(cap[0].length);\\n\\n      this.tokens.push({\\n        type: 'blockquote_start'\\n      });\\n\\n      cap = cap[0].replace(/^ *> ?/gm, '');\\n\\n      // Pass `top` to keep the current\\n      // \\\"toplevel\\\" state. This is exactly\\n      // how markdown.pl works.\\n      this.token(cap, top);\\n\\n      this.tokens.push({\\n        type: 'blockquote_end'\\n      });\\n\\n      continue;\\n    }\\n\\n    // list\\n    if (cap = this.rules.list.exec(src)) {\\n      src = src.substring(cap[0].length);\\n      bull = cap[2];\\n      isordered = bull.length > 1;\\n\\n      listStart = {\\n        type: 'list_start',\\n        ordered: isordered,\\n        start: isordered ? +bull : '',\\n        loose: false\\n      };\\n\\n      this.tokens.push(listStart);\\n\\n      // Get each top-level item.\\n      cap = cap[0].match(this.rules.item);\\n\\n      listItems = [];\\n      next = false;\\n      l = cap.length;\\n      i = 0;\\n\\n      for (; i < l; i++) {\\n        item = cap[i];\\n\\n        // Remove the list item's bullet\\n        // so it is seen as the next token.\\n        space = item.length;\\n        item = item.replace(/^ *([*+-]|\\\\d+\\\\.) +/, '');\\n\\n        // Outdent whatever the\\n        // list item contains. Hacky.\\n        if (~item.indexOf('\\\\n ')) {\\n          space -= item.length;\\n          item = !this.options.pedantic\\n            ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '')\\n            : item.replace(/^ {1,4}/gm, '');\\n        }\\n\\n        // Determine whether the next list item belongs here.\\n        // Backpedal if it does not belong in this list.\\n        if (this.options.smartLists && i !== l - 1) {\\n          b = block.bullet.exec(cap[i + 1])[0];\\n          if (bull !== b && !(bull.length > 1 && b.length > 1)) {\\n            src = cap.slice(i + 1).join('\\\\n') + src;\\n            i = l - 1;\\n          }\\n        }\\n\\n        // Determine whether item is loose or not.\\n        // Use: /(^|\\\\n)(?! )[^\\\\n]+\\\\n\\\\n(?!\\\\s*$)/\\n        // for discount behavior.\\n        loose = next || /\\\\n\\\\n(?!\\\\s*$)/.test(item);\\n        if (i !== l - 1) {\\n          next = item.charAt(item.length - 1) === '\\\\n';\\n          if (!loose) loose = next;\\n        }\\n\\n        if (loose) {\\n          listStart.loose = true;\\n        }\\n\\n        // Check for task list items\\n        istask = /^\\\\[[ xX]\\\\] /.test(item);\\n        ischecked = undefined;\\n        if (istask) {\\n          ischecked = item[1] !== ' ';\\n          item = item.replace(/^\\\\[[ xX]\\\\] +/, '');\\n        }\\n\\n        t = {\\n          type: 'list_item_start',\\n          task: istask,\\n          checked: ischecked,\\n          loose: loose\\n        };\\n\\n        listItems.push(t);\\n        this.tokens.push(t);\\n\\n        // Recurse.\\n        this.token(item, false);\\n\\n        this.tokens.push({\\n          type: 'list_item_end'\\n        });\\n      }\\n\\n      if (listStart.loose) {\\n        l = listItems.length;\\n        i = 0;\\n        for (; i < l; i++) {\\n          listItems[i].loose = true;\\n        }\\n      }\\n\\n      this.tokens.push({\\n        type: 'list_end'\\n      });\\n\\n      continue;\\n    }\\n\\n    // html\\n    if (cap = this.rules.html.exec(src)) {\\n      src = src.substring(cap[0].length);\\n      this.tokens.push({\\n        type: this.options.sanitize\\n          ? 'paragraph'\\n          : 'html',\\n        pre: !this.options.sanitizer\\n          && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\\n        text: cap[0]\\n      });\\n      continue;\\n    }\\n\\n    // def\\n    if (top && (cap = this.rules.def.exec(src))) {\\n      src = src.substring(cap[0].length);\\n      if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\\n      tag = cap[1].toLowerCase().replace(/\\\\s+/g, ' ');\\n      if (!this.tokens.links[tag]) {\\n        this.tokens.links[tag] = {\\n          href: cap[2],\\n          title: cap[3]\\n        };\\n      }\\n      continue;\\n    }\\n\\n    // table (gfm)\\n    if (top && (cap = this.rules.table.exec(src))) {\\n      item = {\\n        type: 'table',\\n        header: splitCells(cap[1].replace(/^ *| *\\\\| *$/g, '')),\\n        align: cap[2].replace(/^ *|\\\\| *$/g, '').split(/ *\\\\| */),\\n        cells: cap[3] ? cap[3].replace(/(?: *\\\\| *)?\\\\n$/, '').split('\\\\n') : []\\n      };\\n\\n      if (item.header.length === item.align.length) {\\n        src = src.substring(cap[0].length);\\n\\n        for (i = 0; i < item.align.length; i++) {\\n          if (/^ *-+: *$/.test(item.align[i])) {\\n            item.align[i] = 'right';\\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\\n            item.align[i] = 'center';\\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\\n            item.align[i] = 'left';\\n          } else {\\n            item.align[i] = null;\\n          }\\n        }\\n\\n        for (i = 0; i < item.cells.length; i++) {\\n          item.cells[i] = splitCells(\\n            item.cells[i].replace(/^ *\\\\| *| *\\\\| *$/g, ''),\\n            item.header.length);\\n        }\\n\\n        this.tokens.push(item);\\n\\n        continue;\\n      }\\n    }\\n\\n    // lheading\\n    if (cap = this.rules.lheading.exec(src)) {\\n      src = src.substring(cap[0].length);\\n      this.tokens.push({\\n        type: 'heading',\\n        depth: cap[2] === '=' ? 1 : 2,\\n        text: cap[1]\\n      });\\n      continue;\\n    }\\n\\n    // top-level paragraph\\n    if (top && (cap = this.rules.paragraph.exec(src))) {\\n      src = src.substring(cap[0].length);\\n      this.tokens.push({\\n        type: 'paragraph',\\n        text: cap[1].charAt(cap[1].length - 1) === '\\\\n'\\n          ? cap[1].slice(0, -1)\\n          : cap[1]\\n      });\\n      continue;\\n    }\\n\\n    // text\\n    if (cap = this.rules.text.exec(src)) {\\n      // Top-level should never reach here.\\n      src = src.substring(cap[0].length);\\n      this.tokens.push({\\n        type: 'text',\\n        text: cap[0]\\n      });\\n      continue;\\n    }\\n\\n    if (src) {\\n      throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));\\n    }\\n  }\\n\\n  return this.tokens;\\n};\\n\\n/**\\n * Inline-Level Grammar\\n */\\n\\nvar inline = {\\n  escape: /^\\\\\\\\([!\\\"#$%&'()*+,\\\\-./:;<=>?@\\\\[\\\\]\\\\\\\\^_`{|}~])/,\\n  autolink: /^<(scheme:[^\\\\s\\\\x00-\\\\x1f<>]*|email)>/,\\n  url: noop,\\n  tag: '^comment'\\n    + '|^</[a-zA-Z][\\\\\\\\w:-]*\\\\\\\\s*>' // self-closing tag\\n    + '|^<[a-zA-Z][\\\\\\\\w-]*(?:attribute)*?\\\\\\\\s*/?>' // open tag\\n    + '|^<\\\\\\\\?[\\\\\\\\s\\\\\\\\S]*?\\\\\\\\?>' // processing instruction, e.g. <?php ?>\\n    + '|^<![a-zA-Z]+\\\\\\\\s[\\\\\\\\s\\\\\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\\n    + '|^<!\\\\\\\\[CDATA\\\\\\\\[[\\\\\\\\s\\\\\\\\S]*?\\\\\\\\]\\\\\\\\]>', // CDATA section\\n  link: /^!?\\\\[(label)\\\\]\\\\(href(?:\\\\s+(title))?\\\\s*\\\\)/,\\n  reflink: /^!?\\\\[(label)\\\\]\\\\[(?!\\\\s*\\\\])((?:\\\\\\\\[\\\\[\\\\]]?|[^\\\\[\\\\]\\\\\\\\])+)\\\\]/,\\n  nolink: /^!?\\\\[(?!\\\\s*\\\\])((?:\\\\[[^\\\\[\\\\]]*\\\\]|\\\\\\\\[\\\\[\\\\]]|[^\\\\[\\\\]])*)\\\\](?:\\\\[\\\\])?/,\\n  strong: /^__([^\\\\s])__(?!_)|^\\\\*\\\\*([^\\\\s])\\\\*\\\\*(?!\\\\*)|^__([^\\\\s][\\\\s\\\\S]*?[^\\\\s])__(?!_)|^\\\\*\\\\*([^\\\\s][\\\\s\\\\S]*?[^\\\\s])\\\\*\\\\*(?!\\\\*)/,\\n  em: /^_([^\\\\s_])_(?!_)|^\\\\*([^\\\\s*\\\"<\\\\[])\\\\*(?!\\\\*)|^_([^\\\\s][\\\\s\\\\S]*?[^\\\\s_])_(?!_)|^_([^\\\\s_][\\\\s\\\\S]*?[^\\\\s])_(?!_)|^\\\\*([^\\\\s\\\"<\\\\[][\\\\s\\\\S]*?[^\\\\s*])\\\\*(?!\\\\*)|^\\\\*([^\\\\s*\\\"<\\\\[][\\\\s\\\\S]*?[^\\\\s])\\\\*(?!\\\\*)/,\\n  code: /^(`+)\\\\s*([\\\\s\\\\S]*?[^`]?)\\\\s*\\\\1(?!`)/,\\n  br: /^( {2,}|\\\\\\\\)\\\\n(?!\\\\s*$)/,\\n  del: noop,\\n  text: /^[\\\\s\\\\S]+?(?=[\\\\\\\\<!\\\\[`*]|\\\\b_| {2,}\\\\n|$)/\\n};\\n\\ninline._escapes = /\\\\\\\\([!\\\"#$%&'()*+,\\\\-./:;<=>?@\\\\[\\\\]\\\\\\\\^_`{|}~])/g;\\n\\ninline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\\ninline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\\ninline.autolink = edit(inline.autolink)\\n  .replace('scheme', inline._scheme)\\n  .replace('email', inline._email)\\n  .getRegex();\\n\\ninline._attribute = /\\\\s+[a-zA-Z:_][\\\\w.:-]*(?:\\\\s*=\\\\s*\\\"[^\\\"]*\\\"|\\\\s*=\\\\s*'[^']*'|\\\\s*=\\\\s*[^\\\\s\\\"'=<>`]+)?/;\\n\\ninline.tag = edit(inline.tag)\\n  .replace('comment', block._comment)\\n  .replace('attribute', inline._attribute)\\n  .getRegex();\\n\\ninline._label = /(?:\\\\[[^\\\\[\\\\]]*\\\\]|\\\\\\\\[\\\\[\\\\]]?|`[^`]*`|[^\\\\[\\\\]\\\\\\\\])*?/;\\ninline._href = /\\\\s*(<(?:\\\\\\\\[<>]?|[^\\\\s<>\\\\\\\\])*>|(?:\\\\\\\\[()]?|\\\\([^\\\\s\\\\x00-\\\\x1f\\\\\\\\]*\\\\)|[^\\\\s\\\\x00-\\\\x1f()\\\\\\\\])*?)/;\\ninline._title = /\\\"(?:\\\\\\\\\\\"?|[^\\\"\\\\\\\\])*\\\"|'(?:\\\\\\\\'?|[^'\\\\\\\\])*'|\\\\((?:\\\\\\\\\\\\)?|[^)\\\\\\\\])*\\\\)/;\\n\\ninline.link = edit(inline.link)\\n  .replace('label', inline._label)\\n  .replace('href', inline._href)\\n  .replace('title', inline._title)\\n  .getRegex();\\n\\ninline.reflink = edit(inline.reflink)\\n  .replace('label', inline._label)\\n  .getRegex();\\n\\n/**\\n * Normal Inline Grammar\\n */\\n\\ninline.normal = merge({}, inline);\\n\\n/**\\n * Pedantic Inline Grammar\\n */\\n\\ninline.pedantic = merge({}, inline.normal, {\\n  strong: /^__(?=\\\\S)([\\\\s\\\\S]*?\\\\S)__(?!_)|^\\\\*\\\\*(?=\\\\S)([\\\\s\\\\S]*?\\\\S)\\\\*\\\\*(?!\\\\*)/,\\n  em: /^_(?=\\\\S)([\\\\s\\\\S]*?\\\\S)_(?!_)|^\\\\*(?=\\\\S)([\\\\s\\\\S]*?\\\\S)\\\\*(?!\\\\*)/,\\n  link: edit(/^!?\\\\[(label)\\\\]\\\\((.*?)\\\\)/)\\n    .replace('label', inline._label)\\n    .getRegex(),\\n  reflink: edit(/^!?\\\\[(label)\\\\]\\\\s*\\\\[([^\\\\]]*)\\\\]/)\\n    .replace('label', inline._label)\\n    .getRegex()\\n});\\n\\n/**\\n * GFM Inline Grammar\\n */\\n\\ninline.gfm = merge({}, inline.normal, {\\n  escape: edit(inline.escape).replace('])', '~|])').getRegex(),\\n  url: edit(/^((?:ftp|https?):\\\\/\\\\/|www\\\\.)(?:[a-zA-Z0-9\\\\-]+\\\\.?)+[^\\\\s<]*|^email/)\\n    .replace('email', inline._email)\\n    .getRegex(),\\n  _backpedal: /(?:[^?!.,:;*_~()&]+|\\\\([^)]*\\\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\\n  del: /^~+(?=\\\\S)([\\\\s\\\\S]*?\\\\S)~+/,\\n  text: edit(inline.text)\\n    .replace(']|', '~]|')\\n    .replace('|', '|https?://|ftp://|www\\\\\\\\.|[a-zA-Z0-9.!#$%&\\\\'*+/=?^_`{\\\\\\\\|}~-]+@|')\\n    .getRegex()\\n});\\n\\n/**\\n * GFM + Line Breaks Inline Grammar\\n */\\n\\ninline.breaks = merge({}, inline.gfm, {\\n  br: edit(inline.br).replace('{2,}', '*').getRegex(),\\n  text: edit(inline.gfm.text).replace('{2,}', '*').getRegex()\\n});\\n\\n/**\\n * Inline Lexer & Compiler\\n */\\n\\nfunction InlineLexer(links, options) {\\n  this.options = options || marked.defaults;\\n  this.links = links;\\n  this.rules = inline.normal;\\n  this.renderer = this.options.renderer || new Renderer();\\n  this.renderer.options = this.options;\\n\\n  if (!this.links) {\\n    throw new Error('Tokens array requires a `links` property.');\\n  }\\n\\n  if (this.options.pedantic) {\\n    this.rules = inline.pedantic;\\n  } else if (this.options.gfm) {\\n    if (this.options.breaks) {\\n      this.rules = inline.breaks;\\n    } else {\\n      this.rules = inline.gfm;\\n    }\\n  }\\n}\\n\\n/**\\n * Expose Inline Rules\\n */\\n\\nInlineLexer.rules = inline;\\n\\n/**\\n * Static Lexing/Compiling Method\\n */\\n\\nInlineLexer.output = function(src, links, options) {\\n  var inline = new InlineLexer(links, options);\\n  return inline.output(src);\\n};\\n\\n/**\\n * Lexing/Compiling\\n */\\n\\nInlineLexer.prototype.output = function(src) {\\n  var out = '',\\n      link,\\n      text,\\n      href,\\n      title,\\n      cap,\\n      prevCapZero;\\n\\n  while (src) {\\n    // escape\\n    if (cap = this.rules.escape.exec(src)) {\\n      src = src.substring(cap[0].length);\\n      out += cap[1];\\n      continue;\\n    }\\n\\n    // autolink\\n    if (cap = this.rules.autolink.exec(src)) {\\n      src = src.substring(cap[0].length);\\n      if (cap[2] === '@') {\\n        text = escape(this.mangle(cap[1]));\\n        href = 'mailto:' + text;\\n      } else {\\n        text = escape(cap[1]);\\n        href = text;\\n      }\\n      out += this.renderer.link(href, null, text);\\n      continue;\\n    }\\n\\n    // url (gfm)\\n    if (!this.inLink && (cap = this.rules.url.exec(src))) {\\n      do {\\n        prevCapZero = cap[0];\\n        cap[0] = this.rules._backpedal.exec(cap[0])[0];\\n      } while (prevCapZero !== cap[0]);\\n      src = src.substring(cap[0].length);\\n      if (cap[2] === '@') {\\n        text = escape(cap[0]);\\n        href = 'mailto:' + text;\\n      } else {\\n        text = escape(cap[0]);\\n        if (cap[1] === 'www.') {\\n          href = 'http://' + text;\\n        } else {\\n          href = text;\\n        }\\n      }\\n      out += this.renderer.link(href, null, text);\\n      continue;\\n    }\\n\\n    // tag\\n    if (cap = this.rules.tag.exec(src)) {\\n      if (!this.inLink && /^<a /i.test(cap[0])) {\\n        this.inLink = true;\\n      } else if (this.inLink && /^<\\\\/a>/i.test(cap[0])) {\\n        this.inLink = false;\\n      }\\n      src = src.substring(cap[0].length);\\n      out += this.options.sanitize\\n        ? this.options.sanitizer\\n          ? this.options.sanitizer(cap[0])\\n          : escape(cap[0])\\n        : cap[0]\\n      continue;\\n[end of marked.js]\\n[start of CONTRIBUTING.md]\\n# Contributing to Marked\\n\\n- [ ] Fork `markedjs/marked`.\\n- [ ] Clone the library locally using GitHub Desktop or the command line.\\n- [ ] Make sure you are on the `master` branch.\\n- [ ] Be sure to run `npm install` or `npm update`.\\n- [ ] Create a branch.\\n- [ ] Make as small a change as possible.\\n- [ ] Run `npm test`, fix any broken things (for linting, you can run `npm run lint` to have the linter fix them for you).\\n- [ ] Submit a PR.\\n\\n## Design principles\\n\\nMarked tends to favor following the SOLID set of software design and development principles; mainly the [single responsibility](https://en.wikipedia.org/wiki/Single_responsibility_principle) and [open/closed principles](https://en.wikipedia.org/wiki/Open/closed_principle):\\n\\n- **Single responsibility:** Marked, and the components of Marked, have the single responsibility of converting Markdown strings into HTML.\\n- **Open/closed:** Marked favors giving developers the means to easily extend the library and its components over changing Marked's behavior through configuration options.\\n\\n## Priorities\\n\\nWe think we have our priorities sorted to build quality in.\\n\\nThe following table lists the ticket type labels we use when there is work to be done on the code either through an Issue or a PR; in priority order.\\n\\n|Ticket type label                  |Description                                                                                                                                                                         |\\n|:----------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\\n|L0 - security                      |A security vulnerability within the Marked library is discovered.                                                                                                                   |\\n|L1 - broken                        |Valid usage results in incorrect output compared to [supported specifications](#/README.md#specifications) OR causes marked to crash AND there is no known workaround for the issue. |\\n|L2 - annoying                      |Similar to L1 - broken only there is a known workaround avaialable for the issue.                                                                                                   |\\n|RR - refactor and re-engineer      |Results in an improvement to developers using Marked (improved readability) or end-users (faster performance) or both.                                                              |\\n|NFS - new feature (spec related)   |A capability Marked does not currently provide but is in one of the [supported specifications](#/README.md#specifications)                                                           |\\n|NFU - new feature (user requested) |A capability Marked does not currently provide but has been requested by users of Marked.                                                                                           |\\n\\n## Test early, often, and everything\\n\\nWe try to write test cases to validate output (writing tests based on the [supported specifications](#/README.md#specifications)) and minimize regression (writing tests for issues fixed). Therefore, if you would like to contribute, some things you should know regarding the test harness.\\n\\n|Location      |Description                                         |\\n|:-------------|:---------------------------------------------------|\\n|/test/browser |For testing Marked in a client-side implementation. |\\n|/test/new     |Tests not related to the original `markdown.pl`.    |\\n|/test/original|Tests validating against the original `markdown.pl`.|\\n\\nIf your test uses features or options, assuming `gfm` is set to `false`, for example, you can add [front-matter](https://www.npmjs.com/package/front-matter) to the top of\\nyour `.md` file\\n\\n``` yml\\n---\\ngfm: false\\n---\\n```\\n\\n## Submitting PRs and Issues\\n\\nMarked provides templates for submitting both pull requests and issues. When you begin creating a new PR or issue, you will see instructions on using the template.\\n\\nThe PR templates include checklists for both the submitter and the reviewer, which, in most cases, will not be the same person.\\n\\n## Scripts\\n\\nWhen it comes to NPM commands, we try to use the native scripts provided by the NPM framework.\\n\\nTo run the tests:\\n\\n``` bash\\nnpm test\\n```\\n\\nTo test whether you are using the standard syntax rules for the project:\\n\\n```bash\\nnpm run test:lint\\n```\\n\\nTo see time comparisons between Marked and other popular Markdown libraries:\\n\\n```bash\\nnpm run bench\\n```\\n\\nTo check for (and fix) standardized syntax (lint):\\n\\n```bash\\nnpm run lint\\n```\\n\\nTo build your own minified version of Marked:\\n\\n```bash\\nnpm run build\\n```\\n\\n\\n[end of CONTRIBUTING.md]\\n[start of quickref.md]\\nMarkdown Quick Reference\\n========================\\n\\nThis guide is a very brief overview, with examples, of the syntax that [Markdown] supports.  It is itself written in Markdown and you can copy the samples over to the left-hand pane for experimentation.  It's shown as *text* and not *rendered HTML*.\\n\\n[Markdown]: http://daringfireball.net/projects/markdown/\\n\\n\\nSimple Text Formatting\\n======================\\n\\nFirst thing is first.  You can use *stars* or _underscores_ for italics.  **Double stars** and __double underscores__ do bold.  ***Three together*** do ___both___.\\n\\nParagraphs are pretty easy too.  Just have a blank line between chunks of text.\\n\\n> This chunk of text is in a block quote.  Its multiple lines will all be\\n> indended a bit from the rest of the text.\\n>\\n> > Multiple levels of block quotes also work.\\n\\nSometimes you want to include some code, such as when you are explaining how `<h1>` HTML tags work, or maybe you are a programmer and you are discussing `someMethod()`.\\n\\nIf you want to include some code and have\\nnewlines preserved, indent the line with a tab\\nor at least four spaces.\\n    Extra spaces work here too.\\nThis is also called preformatted text and it is useful for showing examples.\\nThe text will stay as text, so any *markdown* or <u>HTML</u> you add will\\nnot show up formatted.  This way you can show markdown examples in a\\nmarkdown document.\\n\\n>     You can also use preformatted text with your blockquotes\\n>     as long as you add at least five spaces.\\n\\n\\nHeadings\\n========\\n\\nThere are a couple of ways to make headings.  Using three or more equals signs on a line under a heading makes it into an \\\"h1\\\" style.  Three or more hyphens under a line makes it \\\"h2\\\" (slightly smaller).  You can also use multiple pound symbols before and after a heading.  Pounds after the title are ignored.  Here's some examples:\\n\\nThis is H1\\n==========\\n\\nThis is H2\\n----------\\n\\n# This is H1\\n## This is H2\\n### This is H3 with some extra pounds ###\\n#### You get the idea ####\\n##### I don't need extra pounds at the end\\n###### H6 is the max\\n\\n\\nLinks\\n=====\\n\\nLet's link to a few sites.  First, let's use the bare URL, like <http://www.github.com>.  Great for text, but ugly for HTML.\\nNext is an inline link to [Google](http://www.google.com).  A little nicer.\\nThis is a reference-style link to [Wikipedia] [1].\\nLastly, here's a pretty link to [Yahoo].  The reference-style and pretty links both automatically use the links defined below, but they could be defined *anywhere* in the markdown and are removed from the HTML.  The names are also case insensitive, so you can use [YaHoO] and have it link properly.\\n\\n[1]: http://www.wikipedia.org/\\n[Yahoo]: http://www.yahoo.com/\\n\\nTitle attributes may be added to links by adding text after a link.\\nThis is the [inline link](http://www.bing.com \\\"Bing\\\") with a \\\"Bing\\\" title.\\nYou can also go to [W3C] [2] and maybe visit a [friend].\\n\\n[2]: http://w3c.org (The W3C puts out specs for web-based things)\\n[Friend]: http://facebook.com/ \\\"Facebook!\\\"\\n\\nEmail addresses in plain text are not linked: test@example.com.\\nEmail addresses wrapped in angle brackets are linked: <test@example.com>.\\nThey are also obfuscated so that email harvesting spam robots hopefully won't get them.\\n\\n\\nLists\\n=====\\n\\n* This is a bulleted list\\n* Great for shopping lists\\n- You can also use hyphens\\n+ Or plus symbols\\n\\nThe above is an \\\"unordered\\\" list.  Now, on for a bit of order.\\n\\n1. Numbered lists are also easy\\n2. Just start with a number\\n3738762. However, the actual number doesn't matter when converted to HTML.\\n1.  This will still show up as 4.\\n\\nYou might want a few advanced lists:\\n\\n- This top-level list is wrapped in paragraph tags\\n- This generates an extra space between each top-level item.\\n\\n- You do it by adding a blank line\\n\\n- This nested list also has blank lines between the list items.\\n\\n- How to create nested lists\\n1.  Start your regular list\\n2.  Indent nested lists with four spaces\\n3.  Further nesting means you should indent with four more spaces\\n    * This line is indented with eight spaces.\\n\\n- List items can be quite lengthy.  You can keep typing and either continue\\nthem on the next line with no indentation.\\n\\n- Alternately, if that looks ugly, you can also\\nindent the next line a bit for a prettier look.\\n\\n- You can put large blocks of text in your list by just indenting with four spaces.\\n\\nThis is formatted the same as code, but you can inspect the HTML\\nand find that it's just wrapped in a `<p>` tag and *won't* be shown\\nas preformatted text.\\n\\nYou can keep adding more and more paragraphs to a single\\nlist item by adding the traditional blank line and then keep\\non indenting the paragraphs with four spaces.  You really need\\nto only indent the first line, but that looks ugly.\\n\\n- Lists support blockquotes\\n\\n> Just like this example here.  By the way, you can\\n> nest lists inside blockquotes!\\n> - Fantastic!\\n\\n- Lists support preformatted text\\n\\n    You just need to indent eight spaces.\\n\\n\\nEven More\\n=========\\n\\nHorizontal Rule\\n---------------\\n\\nIf you need a horizontal rule you just need to put at least three hyphens, asterisks, or underscores on a line by themselves.  You can also even put spaces between the characters.\\n\\n---\\n****************************\\n_ _ _ _ _ _ _\\n\\nThose three all produced horizontal lines.  Keep in mind that three hyphens under any text turns that text into a heading, so add a blank like if you use hyphens.\\n\\nImages\\n------\\n\\nImages work exactly like links, but they have exclamation points in front.  They work with references and titles too.\\n\\n![Google Logo](http://www.google.com/images/errors/logo_sm.gif) and ![Happy].\\n\\n[Happy]: http://www.wpclipart.com/smiley/simple_smiley/smiley_face_simple_green_small.png (\\\"Smiley face\\\")\\n\\n\\nInline HTML\\n-----------\\n\\nIf markdown is too limiting, you can just insert your own <strike>crazy</strike> HTML.  Span-level HTML <u>can *still* use markdown</u>.  Block level elements must be separated from text by a blank line and must not have any spaces before the opening and closing HTML.\\n\\n<div style='font-family: \\\"Comic Sans\\\", sans-serif;'>\\nIt is a pity, but markdown does **not** work in here for most markdown parsers.  [Marked] handles it pretty well.\\n</div>\\n\\n[end of quickref.md]\\n[start of commonmark-spec.js]\\nvar marked = require('../../../lib/marked.js');\\nvar cmSpec = require('./commonmark.0.28.json');\\nvar HtmlDiffer = require('html-differ').HtmlDiffer,\\n    htmlDiffer = new HtmlDiffer();\\nvar since = require('jasmine2-custom-message');\\n\\nvar Messenger = function() {}\\n\\nMessenger.prototype.message = function(spec, expected, actual) {\\n  return 'CommonMark (' + spec.section + '):\\\\n' + spec.markdown + '\\\\n------\\\\n\\\\nExpected:\\\\n' + expected + '\\\\n------\\\\n\\\\nMarked:\\\\n' + actual;\\n}\\n\\nMessenger.prototype.test = function(spec, section, ignore) {\\n  if (spec.section === section) {\\n    var shouldFail = ~ignore.indexOf(spec.example);\\n    it('should ' + (shouldFail ? 'fail' : 'pass') + ' example ' + spec.example, function() {\\n      var expected = spec.html;\\n      var actual = marked(spec.markdown, { headerIds: false, xhtml: true });\\n      since(messenger.message(spec, expected, actual)).expect(\\n        htmlDiffer.isEqual(expected, actual)\\n      ).toEqual(!shouldFail);\\n    });\\n  }\\n}\\n\\nvar messenger = new Messenger();\\n/*\\n|Section                                 |Count      |Percent |\\n|:---------------------------------------|:---------:|-------:|\\n|Tabs                                    |  7 of  11 |     64%|\\n|Thematic breaks                         | 18 of  19 |     95%|\\n|ATX headings                            | 14 of  18 |     78%|\\n|Setext headings                         | 21 of  26 |     81%|\\n|Indented code blocks                    | 11 of  12 |     92%|\\n|Fenced code blocks                      | 17 of  28 |     61%|\\n|Link reference definitions              | 22 of  23 |     96%|\\n|Paragraphs                              |  6 of   8 |     75%|\\n|Block quotes                            | 21 of  25 |     84%|\\n|List items                              | 32 of  48 |     67%|\\n|Lists                                   | 10 of  24 |     42%|\\n|Backslash escapes                       |  8 of  13 |     62%|\\n|Entity and numeric character references |  9 of  12 |     75%|\\n|Code spans                              | 11 of  17 |     65%|\\n|Emphasis and strong emphasis            | 71 of 128 |     55%|\\n|Links                                   | 64 of  84 |     76%|\\n|Images                                  | 15 of  22 |     68%|\\n|Autolinks                               | 15 of  19 |     79%|\\n|Raw HTML                                | 19 of  21 |     90%|\\n|Hard line breaks                        | 32 of  36 |     89%|\\n|Soft line breaks                        |  1 of   2 |     50%|\\n*/\\n\\ndescribe('CommonMark 0.28 Tabs', function() {\\n  var section = 'Tabs';\\n\\n  // These examples probably should pass but don't for some reason.\\n  // This is the easiest way to demonstrate limitations  or defects\\n  // within Marked. Toggle comments for next two lines to see which examples\\n  // are known failures. Note: If all arrays are empty, it means Marked is\\n  // 100% compliant with that section of the given specification.\\n  //\\n  // var shouldPassButFails = [];\\n  var shouldPassButFails = [1, 2, 3, 7];\\n\\n  // Identifies examples that the Marked core team has determined beyond\\n  // the ability or desire to correct; thereby, implicitly requesting\\n  // outside help and assistance.\\n  var willNotBeAttemptedByCoreTeam = [];\\n\\n  // Combine known failures and skips.\\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\\n\\n  cmSpec.forEach(function(spec) {\\n    // Run test.\\n    messenger.test(spec, section, ignore);\\n  });\\n});\\n\\ndescribe('CommonMark 0.28 Precedence', function() {\\n  var section = 'Precedence';\\n\\n  // var shouldPassButFails = [];\\n  var shouldPassButFails = [];\\n\\n  var willNotBeAttemptedByCoreTeam = [];\\n\\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\\n\\n  cmSpec.forEach(function(spec) {\\n    messenger.test(spec, section, ignore);\\n  });\\n});\\n\\ndescribe('CommonMark 0.28 Thematic breaks', function() {\\n  var section = 'Thematic breaks';\\n\\n  // var shouldPassButFails = [];\\n  var shouldPassButFails = [19];\\n\\n  var willNotBeAttemptedByCoreTeam = [];\\n\\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\\n\\n  cmSpec.forEach(function(spec) {\\n    messenger.test(spec, section, ignore);\\n  });\\n});\\n\\ndescribe('CommonMark 0.28 ATX headings', function() {\\n  var section = 'ATX headings';\\n\\n  // var shouldPassButFails = [];\\n  var shouldPassButFails = [40, 45, 46, 49];\\n\\n  var willNotBeAttemptedByCoreTeam = [];\\n\\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\\n\\n  cmSpec.forEach(function(spec) {\\n    messenger.test(spec, section, ignore);\\n  });\\n});\\n\\ndescribe('CommonMark 0.28 Setext headings', function() {\\n  var section = 'Setext headings';\\n\\n  // var shouldPassButFails = [];\\n  var shouldPassButFails = [51, 52, 56, 62, 64];\\n\\n  var willNotBeAttemptedByCoreTeam = [];\\n\\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\\n\\n  cmSpec.forEach(function(spec) {\\n    messenger.test(spec, section, ignore);\\n  });\\n});\\n\\ndescribe('CommonMark 0.28 Indented code blocks', function() {\\n  var section = 'Indented code blocks';\\n\\n  // var shouldPassButFails = [];\\n  var shouldPassButFails = [82];\\n\\n  var willNotBeAttemptedByCoreTeam = [];\\n\\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\\n\\n  cmSpec.forEach(function(spec) {\\n    messenger.test(spec, section, ignore);\\n  });\\n});\\n\\ndescribe('CommonMark 0.28 Fenced code blocks', function() {\\n  var section = 'Fenced code blocks';\\n\\n  // var shouldPassButFails = [];\\n  var shouldPassButFails = [93, 95, 96, 97, 101, 102, 106, 108, 112];\\n\\n  var willNotBeAttemptedByCoreTeam = [];\\n\\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\\n\\n  cmSpec.forEach(function(spec) {\\n    messenger.test(spec, section, ignore);\\n  });\\n});\\n\\ndescribe('CommonMark 0.28 HTML blocks', function() {\\n  var section = 'HTML blocks';\\n\\n  var shouldPassButFails = [];\\n\\n  var willNotBeAttemptedByCoreTeam = [];\\n\\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\\n\\n  cmSpec.forEach(function(spec) {\\n    messenger.test(spec, section, ignore);\\n  });\\n});\\n\\ndescribe('CommonMark 0.28 Link reference definitions', function() {\\n  var section = 'Link reference definitions';\\n\\n  // var shouldPassButFails = [];\\n  var shouldPassButFails = [167];\\n\\n  var willNotBeAttemptedByCoreTeam = [];\\n\\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\\n\\n  cmSpec.forEach(function(spec) {\\n    messenger.test(spec, section, ignore);\\n  });\\n});\\n\\ndescribe('CommonMark 0.28 Paragraphs', function() {\\n  var section = 'Paragraphs';\\n\\n  // var shouldPassButFails = [];\\n  var shouldPassButFails = [185, 186];\\n\\n  var willNotBeAttemptedByCoreTeam = [];\\n\\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\\n\\n  cmSpec.forEach(function(spec) {\\n    messenger.test(spec, section, ignore);\\n  });\\n});\\n\\ndescribe('CommonMark 0.28 Blank lines', function() {\\n  var section = 'Blank lines';\\n\\n  // var shouldPassButFails = [];\\n  var shouldPassButFails = [];\\n\\n  var willNotBeAttemptedByCoreTeam = [];\\n\\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\\n\\n  cmSpec.forEach(function(spec) {\\n    messenger.test(spec, section, ignore);\\n  });\\n});\\n\\ndescribe('CommonMark 0.28 Block quotes', function() {\\n  var section = 'Block quotes';\\n\\n  // var shouldPassButFails = [];\\n  var shouldPassButFails = [198, 199, 200, 201];\\n\\n  var willNotBeAttemptedByCoreTeam = [];\\n\\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\\n\\n  cmSpec.forEach(function(spec) {\\n    messenger.test(spec, section, ignore);\\n  });\\n});\\n\\ndescribe('CommonMark 0.28 List items', function() {\\n  var section = 'List items';\\n\\n  // var shouldPassButFails = [];\\n  var shouldPassButFails = [229, 237, 236, 227, 218, 243, 259, 241, 239, 247, 246, 225, 220, 258, 260, 244];\\n\\n  var willNotBeAttemptedByCoreTeam = [];\\n\\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\\n\\n  cmSpec.forEach(function(spec) {\\n    messenger.test(spec, section, ignore);\\n  });\\n});\\n\\ndescribe('CommonMark 0.28 Lists', function() {\\n  var section = 'Lists';\\n\\n  // var shouldPassButFails = [];\\n  var shouldPassButFails = [282, 270, 280, 278, 273, 274, 264, 265, 276, 279, 267, 269];\\n\\n  var willNotBeAttemptedByCoreTeam = [];\\n\\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\\n\\n  cmSpec.forEach(function(spec) {\\n    messenger.test(spec, section, ignore);\\n  });\\n});\\n\\ndescribe('CommonMark 0.28 Inlines', function() {\\n  var section = 'Inlines';\\n\\n  // var shouldPassButFails = [];\\n  var shouldPassButFails = [];\\n\\n  var willNotBeAttemptedByCoreTeam = [];\\n\\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\\n\\n  cmSpec.forEach(function(spec) {\\n    messenger.test(spec, section, ignore);\\n  });\\n});\\n\\ndescribe('CommonMark 0.28 Backslash escapes', function() {\\n  var section = 'Backslash escapes';\\n\\n  // var shouldPassButFails = [];\\n  var shouldPassButFails = [290, 291, 300, 301];\\n\\n  var willNotBeAttemptedByCoreTeam = [];\\n\\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\\n\\n  cmSpec.forEach(function(spec) {\\n    messenger.test(spec, section, ignore);\\n  });\\n});\\n\\ndescribe('CommonMark 0.28 Entity and numeric character references', function() {\\n  var section = 'Entity and numeric character references';\\n\\n  // var shouldPassButFails = [];\\n  var shouldPassButFails = [311, 309, 310];\\n\\n  var willNotBeAttemptedByCoreTeam = [];\\n\\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\\n\\n  cmSpec.forEach(function(spec) {\\n    messenger.test(spec, section, ignore);\\n  });\\n});\\n\\ndescribe('CommonMark 0.28 Code spans', function() {\\n  var section = 'Code spans';\\n\\n  // var shouldPassButFails = [];\\n  var shouldPassButFails = [330, 316, 328, 320, 323, 322];\\n\\n  var willNotBeAttemptedByCoreTeam = [];\\n\\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\\n\\n  cmSpec.forEach(function(spec) {\\n    messenger.test(spec, section, ignore);\\n  });\\n});\\n\\ndescribe('CommonMark 0.28 Emphasis and strong emphasis', function() {\\n  var section = 'Emphasis and strong emphasis';\\n\\n  // var shouldPassButFails = [];\\n  var shouldPassButFails = [334, 342, 348, 349, 352, 353, 354, 355, 356, 360, 368, 369, 371, 372, 378, 380, 381, 382, 387, 388, 392, 393, 394, 395, 396, 402, 403, 409, 416, 419, 420, 421, 422, 423, 424, 428, 431, 432, 433, 434, 435, 436, 443, 444, 445, 448, 449, 451, 453, 454, 455, 456, 457, 458];\\n\\n  var willNotBeAttemptedByCoreTeam = [];\\n\\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\\n\\n  cmSpec.forEach(function(spec) {\\n    messenger.test(spec, section, ignore);\\n  });\\n});\\n\\ndescribe('CommonMark 0.28 Links', function() {\\n  var section = 'Links';\\n\\n  // var shouldPassButFails = [];\\n  var shouldPassButFails = [474, 478, 483, 489, 490, 491, 495, 496, 497, 499, 503, 504, 507, 508, 509, 523];\\n\\n  var willNotBeAttemptedByCoreTeam = [];\\n\\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\\n\\n  cmSpec.forEach(function(spec) {\\n    messenger.test(spec, section, ignore);\\n  });\\n});\\n\\ndescribe('CommonMark 0.28 Images', function() {\\n  var section = 'Images';\\n\\n  // var shouldPassButFails = [];\\n  var shouldPassButFails = [544, 545, 546, 547, 548, 556, 560];\\n\\n  var willNotBeAttemptedByCoreTeam = [];\\n\\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\\n\\n  cmSpec.forEach(function(spec) {\\n    messenger.test(spec, section, ignore);\\n  });\\n});\\n\\ndescribe('CommonMark 0.28 Autolinks', function() {\\n  var section = 'Autolinks';\\n\\n  // var shouldPassButFails = [];\\n  var shouldPassButFails = [582, 573, 579, 583];\\n\\n  var willNotBeAttemptedByCoreTeam = [];\\n\\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\\n\\n  cmSpec.forEach(function(spec) {\\n    messenger.test(spec, section, ignore);\\n  });\\n});\\n\\ndescribe('CommonMark 0.28 Raw HTML', function() {\\n  var section = 'Raw HTML';\\n\\n  // var shouldPassButFails = [];\\n  var shouldPassButFails = [597, 598];\\n\\n  var willNotBeAttemptedByCoreTeam = [];\\n\\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\\n\\n  cmSpec.forEach(function(spec) {\\n    messenger.test(spec, section, ignore);\\n  });\\n});\\n\\ndescribe('CommonMark 0.28 Hard line breaks', function() {\\n  var section = 'Hard line breaks';\\n\\n  // var shouldPassButFails = [];\\n  var shouldPassButFails = [613];\\n\\n  var willNotBeAttemptedByCoreTeam = [];\\n\\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\\n\\n  cmSpec.forEach(function(spec) {\\n    messenger.test(spec, section, ignore);\\n  });\\n});\\n\\ndescribe('CommonMark 0.28 Soft line breaks', function() {\\n  var section = 'Soft line breaks';\\n\\n  // var shouldPassButFails = [];\\n  var shouldPassButFails = [621];\\n\\n  var willNotBeAttemptedByCoreTeam = [];\\n\\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\\n\\n  cmSpec.forEach(function(spec) {\\n    messenger.test(spec, section, ignore);\\n  });\\n});\\n\\ndescribe('CommonMark 0.28 Textual content', function() {\\n  var section = 'Textual content';\\n\\n  // var shouldPassButFails = [];\\n  var shouldPassButFails = [];\\n\\n  var willNotBeAttemptedByCoreTeam = [];\\n\\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\\n\\n  cmSpec.forEach(function(spec) {\\n    messenger.test(spec, section, ignore);\\n  });\\n});\\n\\n[end of commonmark-spec.js]\\n\\n</code>\\n\\nHere is an example of a patch file. It consists of changes to the code base. It specifies the file names, the line numbers of each change, and the removed and added lines. A single patch file can contain changes to multiple files.\\n\\n<patch>\\ndiff --git a/file.py b/file.py\\n--- a/file.py\\n+++ b/file.py\\n@@ -1,27 +1,35 @@\\n def euclidean(a, b):\\n-    while b:\\n-        a, b = b, a % b\\n-    return a\\n+    if b == 0:\\n+        return a\\n+    return euclidean(b, a % b)\\n \\n def bresenham(x0, y0, x1, y1):\\n+    points = []\\n+    dx = abs(x1 - x0)\\n+    dy = abs(y1 - y0)\\n+    sx = 1 if x0 < x1 else -1\\n+    sy = 1 if y0 < y1 else -1\\n+    err = dx - dy\\n+    \\n     while True:\\n-        plot(x0, y0)\\n+        points.append((x0, y0))\\n         if x0 == x1 and y0 == y1:\\n             break\\n-        e2 = 2 * err\\n-        if e2 > -dy:\\n-            err -= dy\\n-            x0 += sx\\n-        if e2 < dx:\\n-            err += dx\\n-            y0 += sy\\n+        e2 = 2 * err\\n+        if e2 > -dy:\\n+            err -= dy\\n+            x0 += sx\\n+        if e2 < dx:\\n+            err += dx\\n+            y0 += sy\\n+    return points\\n+</patch>\\n\\nI need you to solve the provided issue by generating a single patch file that I can apply directly to this repository using git apply. Please respond with a single patch file in the format shown above.\\n\\nRespond below: \\n\"}]",
      "retrieved_file_paths": [
        "main.md",
        "marked.js",
        "CONTRIBUTING.md",
        "quickref.md",
        "commonmark-spec.js"
      ]
    },
    "retrieved_documents": [
      {
        "id": "627fbad4-70ac-4c4b-84da-48686fafce8e",
        "score": 0.01639344262295082,
        "payload": {
          "text": "[test]: http://google.com/ \"Google\"\n\n# A heading\n\nJust a note, I've found that I can't test my markdown parser vs others.\nFor example, both markdown.js and showdown code blocks in lists wrong. They're\nalso completely [inconsistent][test] with regards to paragraphs in list items.\n\nA link. Not anymore.\n\n<aside>This will make me fail the test because\nmarkdown.js doesnt acknowledge arbitrary html blocks =/</aside>\n\n* List Item 1\n\n* List Item 2\n  * New List Item 1\n    Hi, this is a list item.\n  * New List Item 2\n    Another item\n        Code goes here.\n        Lots of it...\n  * New List Item 3\n    The last item\n\n* List Item 3\nThe final item.\n\n* List Item 4\nThe real final item.\n\nParagraph.\n\n> * bq Item 1\n> * bq Item 2\n>   * New bq Item 1\n>   * New bq Item 2\n>   Text here\n\n* * *\n\n> Another blockquote!\n> I really need to get\n> more creative with\n> mockup text..\n> markdown.js breaks here again\n\nAnother Heading\n-------------\n\nHello *world*. Here is a [link](//hello).\nAnd an image ![alt](src).\n\n    Code goes here.\n    Lots of it...\n",
          "filepath": "data/repos/markedjs/marked-0.5/test/new/main.md",
          "repo": "markedjs/marked",
          "version": "0.5",
          "chunk_index": 0,
          "chunk_id": "627fbad4-70ac-4c4b-84da-48686fafce8e"
        }
      },
      {
        "id": "77514c4e-47cf-4710-bb52-b98b0408c290",
        "score": 0.016129032258064516,
        "payload": {
          "text": "/**\n * marked - a markdown parser\n * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/markedjs/marked\n */\n\n;(function(root) {\n'use strict';\n\n/**\n * Block-Level Grammar\n */\n\nvar block = {\n  newline: /^\\n+/,\n  code: /^( {4}[^\\n]+\\n*)+/,\n  fences: noop,\n  hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)/,\n  heading: /^ *(#{1,6}) *([^\\n]+?) *(?:#+ *)?(?:\\n+|$)/,\n  nptable: noop,\n  blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n  list: /^( *)(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/,\n  html: '^ {0,3}(?:' // optional indentation\n    + '<(script|pre|style)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n    + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n    + '|<\\\\?[\\\\s\\\\S]*?\\\\?>\\\\n*' // (3)\n    + '|<![A-Z][\\\\s\\\\S]*?>\\\\n*' // (4)\n    + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>\\\\n*' // (5)\n    + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (6)\n    + '|<(?!script|pre|style)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=\\\\h*\\\\n)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) open tag\n    + '|</(?!script|pre|style)[a-z][\\\\w-]*\\\\s*>(?=\\\\h*\\\\n)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) closing tag\n    + ')',\n  def: /^ {0,3}\\[(label)\\]: *\\n? *<?([^\\s>]+)>?(?:(?: +\\n? *| *\\n *)(title))? *(?:\\n+|$)/,\n  table: noop,\n  lheading: /^([^\\n]+)\\n *(=|-){2,} *(?:\\n+|$)/,\n  paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading| {0,3}>|<\\/?(?:tag)(?: +|\\n|\\/?>)|<(?:script|pre|style|!--))[^\\n]+)*)/,\n  text: /^[^\\n]+/\n};\n\nblock._label = /(?!\\s*\\])(?:\\\\[\\[\\]]|[^\\[\\]])+/;\nblock._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\nblock.def = edit(block.def)\n  .replace('label', block._label)\n  .replace('title', block._title)\n  .getRegex();\n\nblock.bullet = /(?:[*+-]|\\d+\\.)/;\nblock.item = /^( *)(bull) [^\\n]*(?:\\n(?!\\1bull )[^\\n]*)*/;\nblock.item = edit(block.item, 'gm')\n  .replace(/bull/g, block.bullet)\n  .getRegex();\n\nblock.list = edit(block.list)\n  .replace(/bull/g, block.bullet)\n  .replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))')\n  .replace('def', '\\\\n+(?=' + block.def.source + ')')\n  .getRegex();\n\nblock._tag = 'address|article|aside|base|basefont|blockquote|body|caption'\n  + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption'\n  + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe'\n  + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option'\n  + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr'\n  + '|track|ul';\nblock._comment = /<!--(?!-?>)[\\s\\S]*?-->/;\nblock.html = edit(block.html, 'i')\n  .replace('comment', block._comment)\n  .replace('tag', block._tag)\n  .replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/)\n  .getRegex();\n\nblock.paragraph = edit(block.paragraph)\n  .replace('hr', block.hr)\n  .replace('heading', block.heading)\n  .replace('lheading', block.lheading)\n  .replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n  .getRegex();\n\nblock.blockquote = edit(block.blockquote)\n  .replace('paragraph', block.paragraph)\n  .getRegex();\n\n/**\n * Normal Block Grammar\n */\n\nblock.normal = merge({}, block);\n\n/**\n * GFM Block Grammar\n */\n\nblock.gfm = merge({}, block.normal, {\n  fences: /^ *(`{3,}|~{3,})[ \\.]*(\\S+)? *\\n([\\s\\S]*?)\\n? *\\1 *(?:\\n+|$)/,\n  paragraph: /^/,\n  heading: /^ *(#{1,6}) +([^\\n]+?) *#* *(?:\\n+|$)/\n});\n\nblock.gfm.paragraph = edit(block.paragraph)\n  .replace('(?!', '(?!'\n    + block.gfm.fences.source.replace('\\\\1', '\\\\2') + '|'\n    + block.list.source.replace('\\\\1', '\\\\3') + '|')\n  .getRegex();\n\n/**\n * GFM + Tables Block Grammar\n */\n\nblock.tables = merge({}, block.gfm, {\n  nptable: /^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:.*[^>\\n ].*(?:\\n|$))*)\\n*|$)/,\n  table: /^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n((?: *[^>\\n ].*(?:\\n|$))*)\\n*|$)/\n});\n\n/**\n * Pedantic grammar\n */\n\nblock.pedantic = merge({}, block.normal, {\n  html: edit(\n    '^ *(?:comment *(?:\\\\n|\\\\s*$)'\n    + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n    + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))')\n    .replace('comment', block._comment)\n    .replace(/tag/g, '(?!(?:'\n      + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub'\n      + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)'\n      + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b')\n    .getRegex(),\n  def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/\n});\n\n/**\n * Block Lexer\n */\n\nfunction Lexer(options) {\n  this.tokens = [];\n  this.tokens.links = Object.create(null);\n  this.options = options || marked.defaults;\n  this.rules = block.normal;\n\n  if (this.options.pedantic) {\n    this.rules = block.pedantic;\n  } else if (this.options.gfm) {\n    if (this.options.tables) {\n      this.rules = block.tables;\n    } else {\n      this.rules = block.gfm;\n    }\n  }\n}\n\n/**\n * Expose Block Rules\n */\n\nLexer.rules = block;\n\n/**\n * Static Lex Method\n */\n\nLexer.lex = function(src, options) {\n  var lexer = new Lexer(options);\n  return lexer.lex(src);\n};\n\n/**\n * Preprocessing\n */\n\nLexer.prototype.lex = function(src) {\n  src = src\n    .replace(/\\r\\n|\\r/g, '\\n')\n    .replace(/\\t/g, '    ')\n    .replace(/\\u00a0/g, ' ')\n    .replace(/\\u2424/g, '\\n');\n\n  return this.token(src, true);\n};\n\n/**\n * Lexing\n */\n\nLexer.prototype.token = function(src, top) {\n  src = src.replace(/^ +$/gm, '');\n  var next,\n      loose,\n      cap,\n      bull,\n      b,\n      item,\n      listStart,\n      listItems,\n      t,\n      space,\n      i,\n      tag,\n      l,\n      isordered,\n      istask,\n      ischecked;\n\n  while (src) {\n    // newline\n    if (cap = this.rules.newline.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[0].length > 1) {\n        this.tokens.push({\n          type: 'space'\n        });\n      }\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      cap = cap[0].replace(/^ {4}/gm, '');\n      this.tokens.push({\n        type: 'code',\n        text: !this.options.pedantic\n          ? rtrim(cap, '\\n')\n          : cap\n      });\n      continue;\n    }\n\n    // fences (gfm)\n    if (cap = this.rules.fences.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'code',\n        lang: cap[2],\n        text: cap[3] || ''\n      });\n      continue;\n    }\n\n    // heading\n    if (cap = this.rules.heading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[1].length,\n        text: cap[2]\n      });\n      continue;\n    }\n\n    // table no leading pipe (gfm)\n    if (top && (cap = this.rules.nptable.exec(src))) {\n      item = {\n        type: 'table',\n        header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n      };\n\n      if (item.header.length === item.align.length) {\n        src = src.substring(cap[0].length);\n\n        for (i = 0; i < item.align.length; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n\n        for (i = 0; i < item.cells.length; i++) {\n          item.cells[i] = splitCells(item.cells[i], item.header.length);\n        }\n\n        this.tokens.push(item);\n\n        continue;\n      }\n    }\n\n    // hr\n    if (cap = this.rules.hr.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'hr'\n      });\n      continue;\n    }\n\n    // blockquote\n    if (cap = this.rules.blockquote.exec(src)) {\n      src = src.substring(cap[0].length);\n\n      this.tokens.push({\n        type: 'blockquote_start'\n      });\n\n      cap = cap[0].replace(/^ *> ?/gm, '');\n\n      // Pass `top` to keep the current\n      // \"toplevel\" state. This is exactly\n      // how markdown.pl works.\n      this.token(cap, top);\n\n      this.tokens.push({\n        type: 'blockquote_end'\n      });\n\n      continue;\n    }\n\n    // list\n    if (cap = this.rules.list.exec(src)) {\n      src = src.substring(cap[0].length);\n      bull = cap[2];\n      isordered = bull.length > 1;\n\n      listStart = {\n        type: 'list_start',\n        ordered: isordered,\n        start: isordered ? +bull : '',\n        loose: false\n      };\n\n      this.tokens.push(listStart);\n\n      // Get each top-level item.\n      cap = cap[0].match(this.rules.item);\n\n      listItems = [];\n      next = false;\n      l = cap.length;\n      i = 0;\n\n      for (; i < l; i++) {\n        item = cap[i];\n\n        // Remove the list item's bullet\n        // so it is seen as the next token.\n        space = item.length;\n        item = item.replace(/^ *([*+-]|\\d+\\.) +/, '');\n\n        // Outdent whatever the\n        // list item contains. Hacky.\n        if (~item.indexOf('\\n ')) {\n          space -= item.length;\n          item = !this.options.pedantic\n            ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '')\n            : item.replace(/^ {1,4}/gm, '');\n        }\n\n        // Determine whether the next list item belongs here.\n        // Backpedal if it does not belong in this list.\n        if (this.options.smartLists && i !== l - 1) {\n          b = block.bullet.exec(cap[i + 1])[0];\n          if (bull !== b && !(bull.length > 1 && b.length > 1)) {\n            src = cap.slice(i + 1).join('\\n') + src;\n            i = l - 1;\n          }\n        }\n\n        // Determine whether item is loose or not.\n        // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n        // for discount behavior.\n        loose = next || /\\n\\n(?!\\s*$)/.test(item);\n        if (i !== l - 1) {\n          next = item.charAt(item.length - 1) === '\\n';\n          if (!loose) loose = next;\n        }\n\n        if (loose) {\n          listStart.loose = true;\n        }\n\n        // Check for task list items\n        istask = /^\\[[ xX]\\] /.test(item);\n        ischecked = undefined;\n        if (istask) {\n          ischecked = item[1] !== ' ';\n          item = item.replace(/^\\[[ xX]\\] +/, '');\n        }\n\n        t = {\n          type: 'list_item_start',\n          task: istask,\n          checked: ischecked,\n          loose: loose\n        };\n\n        listItems.push(t);\n        this.tokens.push(t);\n\n        // Recurse.\n        this.token(item, false);\n\n        this.tokens.push({\n          type: 'list_item_end'\n        });\n      }\n\n      if (listStart.loose) {\n        l = listItems.length;\n        i = 0;\n        for (; i < l; i++) {\n          listItems[i].loose = true;\n        }\n      }\n\n      this.tokens.push({\n        type: 'list_end'\n      });\n\n      continue;\n    }\n\n    // html\n    if (cap = this.rules.html.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: this.options.sanitize\n          ? 'paragraph'\n          : 'html',\n        pre: !this.options.sanitizer\n          && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n        text: cap[0]\n      });\n      continue;\n    }\n\n    // def\n    if (top && (cap = this.rules.def.exec(src))) {\n      src = src.substring(cap[0].length);\n      if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n      tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n      if (!this.tokens.links[tag]) {\n        this.tokens.links[tag] = {\n          href: cap[2],\n          title: cap[3]\n        };\n      }\n      continue;\n    }\n\n    // table (gfm)\n    if (top && (cap = this.rules.table.exec(src))) {\n      item = {\n        type: 'table',\n        header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3] ? cap[3].replace(/(?: *\\| *)?\\n$/, '').split('\\n') : []\n      };\n\n      if (item.header.length === item.align.length) {\n        src = src.substring(cap[0].length);\n\n        for (i = 0; i < item.align.length; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n\n        for (i = 0; i < item.cells.length; i++) {\n          item.cells[i] = splitCells(\n            item.cells[i].replace(/^ *\\| *| *\\| *$/g, ''),\n            item.header.length);\n        }\n\n        this.tokens.push(item);\n\n        continue;\n      }\n    }\n\n    // lheading\n    if (cap = this.rules.lheading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[2] === '=' ? 1 : 2,\n        text: cap[1]\n      });\n      continue;\n    }\n\n    // top-level paragraph\n    if (top && (cap = this.rules.paragraph.exec(src))) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'paragraph',\n        text: cap[1].charAt(cap[1].length - 1) === '\\n'\n          ? cap[1].slice(0, -1)\n          : cap[1]\n      });\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      // Top-level should never reach here.\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'text',\n        text: cap[0]\n      });\n      continue;\n    }\n\n    if (src) {\n      throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return this.tokens;\n};\n\n/**\n * Inline-Level Grammar\n */\n\nvar inline = {\n  escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n  autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n  url: noop,\n  tag: '^comment'\n    + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n    + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n    + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n    + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n    + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>', // CDATA section\n  link: /^!?\\[(label)\\]\\(href(?:\\s+(title))?\\s*\\)/,\n  reflink: /^!?\\[(label)\\]\\[(?!\\s*\\])((?:\\\\[\\[\\]]?|[^\\[\\]\\\\])+)\\]/,\n  nolink: /^!?\\[(?!\\s*\\])((?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]])*)\\](?:\\[\\])?/,\n  strong: /^__([^\\s])__(?!_)|^\\*\\*([^\\s])\\*\\*(?!\\*)|^__([^\\s][\\s\\S]*?[^\\s])__(?!_)|^\\*\\*([^\\s][\\s\\S]*?[^\\s])\\*\\*(?!\\*)/,\n  em: /^_([^\\s_])_(?!_)|^\\*([^\\s*\"<\\[])\\*(?!\\*)|^_([^\\s][\\s\\S]*?[^\\s_])_(?!_)|^_([^\\s_][\\s\\S]*?[^\\s])_(?!_)|^\\*([^\\s\"<\\[][\\s\\S]*?[^\\s*])\\*(?!\\*)|^\\*([^\\s*\"<\\[][\\s\\S]*?[^\\s])\\*(?!\\*)/,\n  code: /^(`+)\\s*([\\s\\S]*?[^`]?)\\s*\\1(?!`)/,\n  br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n  del: noop,\n  text: /^[\\s\\S]+?(?=[\\\\<!\\[`*]|\\b_| {2,}\\n|$)/\n};\n\ninline._escapes = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g;\n\ninline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\ninline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\ninline.autolink = edit(inline.autolink)\n  .replace('scheme', inline._scheme)\n  .replace('email', inline._email)\n  .getRegex();\n\ninline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\n\ninline.tag = edit(inline.tag)\n  .replace('comment', block._comment)\n  .replace('attribute', inline._attribute)\n  .getRegex();\n\ninline._label = /(?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]?|`[^`]*`|[^\\[\\]\\\\])*?/;\ninline._href = /\\s*(<(?:\\\\[<>]?|[^\\s<>\\\\])*>|(?:\\\\[()]?|\\([^\\s\\x00-\\x1f\\\\]*\\)|[^\\s\\x00-\\x1f()\\\\])*?)/;\ninline._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/;\n\ninline.link = edit(inline.link)\n  .replace('label', inline._label)\n  .replace('href', inline._href)\n  .replace('title', inline._title)\n  .getRegex();\n\ninline.reflink = edit(inline.reflink)\n  .replace('label', inline._label)\n  .getRegex();\n\n/**\n * Normal Inline Grammar\n */\n\ninline.normal = merge({}, inline);\n\n/**\n * Pedantic Inline Grammar\n */\n\ninline.pedantic = merge({}, inline.normal, {\n  strong: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n  em: /^_(?=\\S)([\\s\\S]*?\\S)_(?!_)|^\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)/,\n  link: edit(/^!?\\[(label)\\]\\((.*?)\\)/)\n    .replace('label', inline._label)\n    .getRegex(),\n  reflink: edit(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/)\n    .replace('label', inline._label)\n    .getRegex()\n});\n\n/**\n * GFM Inline Grammar\n */\n\ninline.gfm = merge({}, inline.normal, {\n  escape: edit(inline.escape).replace('])', '~|])').getRegex(),\n  url: edit(/^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/)\n    .replace('email', inline._email)\n    .getRegex(),\n  _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n  del: /^~+(?=\\S)([\\s\\S]*?\\S)~+/,\n  text: edit(inline.text)\n    .replace(']|', '~]|')\n    .replace('|', '|https?://|ftp://|www\\\\.|[a-zA-Z0-9.!#$%&\\'*+/=?^_`{\\\\|}~-]+@|')\n    .getRegex()\n});\n\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\ninline.breaks = merge({}, inline.gfm, {\n  br: edit(inline.br).replace('{2,}', '*').getRegex(),\n  text: edit(inline.gfm.text).replace('{2,}', '*').getRegex()\n});\n\n/**\n * Inline Lexer & Compiler\n */\n\nfunction InlineLexer(links, options) {\n  this.options = options || marked.defaults;\n  this.links = links;\n  this.rules = inline.normal;\n  this.renderer = this.options.renderer || new Renderer();\n  this.renderer.options = this.options;\n\n  if (!this.links) {\n    throw new Error('Tokens array requires a `links` property.');\n  }\n\n  if (this.options.pedantic) {\n    this.rules = inline.pedantic;\n  } else if (this.options.gfm) {\n    if (this.options.breaks) {\n      this.rules = inline.breaks;\n    } else {\n      this.rules = inline.gfm;\n    }\n  }\n}\n\n/**\n * Expose Inline Rules\n */\n\nInlineLexer.rules = inline;\n\n/**\n * Static Lexing/Compiling Method\n */\n\nInlineLexer.output = function(src, links, options) {\n  var inline = new InlineLexer(links, options);\n  return inline.output(src);\n};\n\n/**\n * Lexing/Compiling\n */\n\nInlineLexer.prototype.output = function(src) {\n  var out = '',\n      link,\n      text,\n      href,\n      title,\n      cap,\n      prevCapZero;\n\n  while (src) {\n    // escape\n    if (cap = this.rules.escape.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += cap[1];\n      continue;\n    }\n\n    // autolink\n    if (cap = this.rules.autolink.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[2] === '@') {\n        text = escape(this.mangle(cap[1]));\n        href = 'mailto:' + text;\n      } else {\n        text = escape(cap[1]);\n        href = text;\n      }\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // url (gfm)\n    if (!this.inLink && (cap = this.rules.url.exec(src))) {\n      do {\n        prevCapZero = cap[0];\n        cap[0] = this.rules._backpedal.exec(cap[0])[0];\n      } while (prevCapZero !== cap[0]);\n      src = src.substring(cap[0].length);\n      if (cap[2] === '@') {\n        text = escape(cap[0]);\n        href = 'mailto:' + text;\n      } else {\n        text = escape(cap[0]);\n        if (cap[1] === 'www.') {\n          href = 'http://' + text;\n        } else {\n          href = text;\n        }\n      }\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // tag\n    if (cap = this.rules.tag.exec(src)) {\n      if (!this.inLink && /^<a /i.test(cap[0])) {\n        this.inLink = true;\n      } else if (this.inLink && /^<\\/a>/i.test(cap[0])) {\n        this.inLink = false;\n      }\n      src = src.substring(cap[0].length);\n      out += this.options.sanitize\n        ? this.options.sanitizer\n          ? this.options.sanitizer(cap[0])\n          : escape(cap[0])\n        : cap[0]\n      continue;",
          "filepath": "data/repos/markedjs/marked-0.5/lib/marked.js",
          "repo": "markedjs/marked",
          "version": "0.5",
          "chunk_index": 0,
          "chunk_id": "77514c4e-47cf-4710-bb52-b98b0408c290"
        }
      },
      {
        "id": "e2981f71-ccae-4ad4-9fa7-4840974c1a04",
        "score": 0.015873015873015872,
        "payload": {
          "text": "# Contributing to Marked\n\n- [ ] Fork `markedjs/marked`.\n- [ ] Clone the library locally using GitHub Desktop or the command line.\n- [ ] Make sure you are on the `master` branch.\n- [ ] Be sure to run `npm install` or `npm update`.\n- [ ] Create a branch.\n- [ ] Make as small a change as possible.\n- [ ] Run `npm test`, fix any broken things (for linting, you can run `npm run lint` to have the linter fix them for you).\n- [ ] Submit a PR.\n\n## Design principles\n\nMarked tends to favor following the SOLID set of software design and development principles; mainly the [single responsibility](https://en.wikipedia.org/wiki/Single_responsibility_principle) and [open/closed principles](https://en.wikipedia.org/wiki/Open/closed_principle):\n\n- **Single responsibility:** Marked, and the components of Marked, have the single responsibility of converting Markdown strings into HTML.\n- **Open/closed:** Marked favors giving developers the means to easily extend the library and its components over changing Marked's behavior through configuration options.\n\n## Priorities\n\nWe think we have our priorities sorted to build quality in.\n\nThe following table lists the ticket type labels we use when there is work to be done on the code either through an Issue or a PR; in priority order.\n\n|Ticket type label                  |Description                                                                                                                                                                         |\n|:----------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n|L0 - security                      |A security vulnerability within the Marked library is discovered.                                                                                                                   |\n|L1 - broken                        |Valid usage results in incorrect output compared to [supported specifications](#/README.md#specifications) OR causes marked to crash AND there is no known workaround for the issue. |\n|L2 - annoying                      |Similar to L1 - broken only there is a known workaround avaialable for the issue.                                                                                                   |\n|RR - refactor and re-engineer      |Results in an improvement to developers using Marked (improved readability) or end-users (faster performance) or both.                                                              |\n|NFS - new feature (spec related)   |A capability Marked does not currently provide but is in one of the [supported specifications](#/README.md#specifications)                                                           |\n|NFU - new feature (user requested) |A capability Marked does not currently provide but has been requested by users of Marked.                                                                                           |\n\n## Test early, often, and everything\n\nWe try to write test cases to validate output (writing tests based on the [supported specifications](#/README.md#specifications)) and minimize regression (writing tests for issues fixed). Therefore, if you would like to contribute, some things you should know regarding the test harness.\n\n|Location      |Description                                         |\n|:-------------|:---------------------------------------------------|\n|/test/browser |For testing Marked in a client-side implementation. |\n|/test/new     |Tests not related to the original `markdown.pl`.    |\n|/test/original|Tests validating against the original `markdown.pl`.|\n\nIf your test uses features or options, assuming `gfm` is set to `false`, for example, you can add [front-matter](https://www.npmjs.com/package/front-matter) to the top of\nyour `.md` file\n\n``` yml\n---\ngfm: false\n---\n```\n\n## Submitting PRs and Issues\n\nMarked provides templates for submitting both pull requests and issues. When you begin creating a new PR or issue, you will see instructions on using the template.\n\nThe PR templates include checklists for both the submitter and the reviewer, which, in most cases, will not be the same person.\n\n## Scripts\n\nWhen it comes to NPM commands, we try to use the native scripts provided by the NPM framework.\n\nTo run the tests:\n\n``` bash\nnpm test\n```\n\nTo test whether you are using the standard syntax rules for the project:\n\n```bash\nnpm run test:lint\n```\n\nTo see time comparisons between Marked and other popular Markdown libraries:\n\n```bash\nnpm run bench\n```\n\nTo check for (and fix) standardized syntax (lint):\n\n```bash\nnpm run lint\n```\n\nTo build your own minified version of Marked:\n\n```bash\nnpm run build\n```\n\n",
          "filepath": "data/repos/markedjs/marked-0.5/docs/CONTRIBUTING.md",
          "repo": "markedjs/marked",
          "version": "0.5",
          "chunk_index": 0,
          "chunk_id": "e2981f71-ccae-4ad4-9fa7-4840974c1a04"
        }
      },
      {
        "id": "cbec6ea5-d546-4d85-ac8a-e007caf57a9e",
        "score": 0.015625,
        "payload": {
          "text": "Markdown Quick Reference\n========================\n\nThis guide is a very brief overview, with examples, of the syntax that [Markdown] supports.  It is itself written in Markdown and you can copy the samples over to the left-hand pane for experimentation.  It's shown as *text* and not *rendered HTML*.\n\n[Markdown]: http://daringfireball.net/projects/markdown/\n\n\nSimple Text Formatting\n======================\n\nFirst thing is first.  You can use *stars* or _underscores_ for italics.  **Double stars** and __double underscores__ do bold.  ***Three together*** do ___both___.\n\nParagraphs are pretty easy too.  Just have a blank line between chunks of text.\n\n> This chunk of text is in a block quote.  Its multiple lines will all be\n> indended a bit from the rest of the text.\n>\n> > Multiple levels of block quotes also work.\n\nSometimes you want to include some code, such as when you are explaining how `<h1>` HTML tags work, or maybe you are a programmer and you are discussing `someMethod()`.\n\nIf you want to include some code and have\nnewlines preserved, indent the line with a tab\nor at least four spaces.\n    Extra spaces work here too.\nThis is also called preformatted text and it is useful for showing examples.\nThe text will stay as text, so any *markdown* or <u>HTML</u> you add will\nnot show up formatted.  This way you can show markdown examples in a\nmarkdown document.\n\n>     You can also use preformatted text with your blockquotes\n>     as long as you add at least five spaces.\n\n\nHeadings\n========\n\nThere are a couple of ways to make headings.  Using three or more equals signs on a line under a heading makes it into an \"h1\" style.  Three or more hyphens under a line makes it \"h2\" (slightly smaller).  You can also use multiple pound symbols before and after a heading.  Pounds after the title are ignored.  Here's some examples:\n\nThis is H1\n==========\n\nThis is H2\n----------\n\n# This is H1\n## This is H2\n### This is H3 with some extra pounds ###\n#### You get the idea ####\n##### I don't need extra pounds at the end\n###### H6 is the max\n\n\nLinks\n=====\n\nLet's link to a few sites.  First, let's use the bare URL, like <http://www.github.com>.  Great for text, but ugly for HTML.\nNext is an inline link to [Google](http://www.google.com).  A little nicer.\nThis is a reference-style link to [Wikipedia] [1].\nLastly, here's a pretty link to [Yahoo].  The reference-style and pretty links both automatically use the links defined below, but they could be defined *anywhere* in the markdown and are removed from the HTML.  The names are also case insensitive, so you can use [YaHoO] and have it link properly.\n\n[1]: http://www.wikipedia.org/\n[Yahoo]: http://www.yahoo.com/\n\nTitle attributes may be added to links by adding text after a link.\nThis is the [inline link](http://www.bing.com \"Bing\") with a \"Bing\" title.\nYou can also go to [W3C] [2] and maybe visit a [friend].\n\n[2]: http://w3c.org (The W3C puts out specs for web-based things)\n[Friend]: http://facebook.com/ \"Facebook!\"\n\nEmail addresses in plain text are not linked: test@example.com.\nEmail addresses wrapped in angle brackets are linked: <test@example.com>.\nThey are also obfuscated so that email harvesting spam robots hopefully won't get them.\n\n\nLists\n=====\n\n* This is a bulleted list\n* Great for shopping lists\n- You can also use hyphens\n+ Or plus symbols\n\nThe above is an \"unordered\" list.  Now, on for a bit of order.\n\n1. Numbered lists are also easy\n2. Just start with a number\n3738762. However, the actual number doesn't matter when converted to HTML.\n1.  This will still show up as 4.\n\nYou might want a few advanced lists:\n\n- This top-level list is wrapped in paragraph tags\n- This generates an extra space between each top-level item.\n\n- You do it by adding a blank line\n\n- This nested list also has blank lines between the list items.\n\n- How to create nested lists\n1.  Start your regular list\n2.  Indent nested lists with four spaces\n3.  Further nesting means you should indent with four more spaces\n    * This line is indented with eight spaces.\n\n- List items can be quite lengthy.  You can keep typing and either continue\nthem on the next line with no indentation.\n\n- Alternately, if that looks ugly, you can also\nindent the next line a bit for a prettier look.\n\n- You can put large blocks of text in your list by just indenting with four spaces.\n\nThis is formatted the same as code, but you can inspect the HTML\nand find that it's just wrapped in a `<p>` tag and *won't* be shown\nas preformatted text.\n\nYou can keep adding more and more paragraphs to a single\nlist item by adding the traditional blank line and then keep\non indenting the paragraphs with four spaces.  You really need\nto only indent the first line, but that looks ugly.\n\n- Lists support blockquotes\n\n> Just like this example here.  By the way, you can\n> nest lists inside blockquotes!\n> - Fantastic!\n\n- Lists support preformatted text\n\n    You just need to indent eight spaces.\n\n\nEven More\n=========\n\nHorizontal Rule\n---------------\n\nIf you need a horizontal rule you just need to put at least three hyphens, asterisks, or underscores on a line by themselves.  You can also even put spaces between the characters.\n\n---\n****************************\n_ _ _ _ _ _ _\n\nThose three all produced horizontal lines.  Keep in mind that three hyphens under any text turns that text into a heading, so add a blank like if you use hyphens.\n\nImages\n------\n\nImages work exactly like links, but they have exclamation points in front.  They work with references and titles too.\n\n![Google Logo](http://www.google.com/images/errors/logo_sm.gif) and ![Happy].\n\n[Happy]: http://www.wpclipart.com/smiley/simple_smiley/smiley_face_simple_green_small.png (\"Smiley face\")\n\n\nInline HTML\n-----------\n\nIf markdown is too limiting, you can just insert your own <strike>crazy</strike> HTML.  Span-level HTML <u>can *still* use markdown</u>.  Block level elements must be separated from text by a blank line and must not have any spaces before the opening and closing HTML.\n\n<div style='font-family: \"Comic Sans\", sans-serif;'>\nIt is a pity, but markdown does **not** work in here for most markdown parsers.  [Marked] handles it pretty well.\n</div>\n",
          "filepath": "data/repos/markedjs/marked-0.5/docs/demo/quickref.md",
          "repo": "markedjs/marked",
          "version": "0.5",
          "chunk_index": 0,
          "chunk_id": "cbec6ea5-d546-4d85-ac8a-e007caf57a9e"
        }
      },
      {
        "id": "ed824754-66e8-4205-91c5-c970d3d674bc",
        "score": 0.015384615384615385,
        "payload": {
          "text": "var marked = require('../../../lib/marked.js');\nvar cmSpec = require('./commonmark.0.28.json');\nvar HtmlDiffer = require('html-differ').HtmlDiffer,\n    htmlDiffer = new HtmlDiffer();\nvar since = require('jasmine2-custom-message');\n\nvar Messenger = function() {}\n\nMessenger.prototype.message = function(spec, expected, actual) {\n  return 'CommonMark (' + spec.section + '):\\n' + spec.markdown + '\\n------\\n\\nExpected:\\n' + expected + '\\n------\\n\\nMarked:\\n' + actual;\n}\n\nMessenger.prototype.test = function(spec, section, ignore) {\n  if (spec.section === section) {\n    var shouldFail = ~ignore.indexOf(spec.example);\n    it('should ' + (shouldFail ? 'fail' : 'pass') + ' example ' + spec.example, function() {\n      var expected = spec.html;\n      var actual = marked(spec.markdown, { headerIds: false, xhtml: true });\n      since(messenger.message(spec, expected, actual)).expect(\n        htmlDiffer.isEqual(expected, actual)\n      ).toEqual(!shouldFail);\n    });\n  }\n}\n\nvar messenger = new Messenger();\n/*\n|Section                                 |Count      |Percent |\n|:---------------------------------------|:---------:|-------:|\n|Tabs                                    |  7 of  11 |     64%|\n|Thematic breaks                         | 18 of  19 |     95%|\n|ATX headings                            | 14 of  18 |     78%|\n|Setext headings                         | 21 of  26 |     81%|\n|Indented code blocks                    | 11 of  12 |     92%|\n|Fenced code blocks                      | 17 of  28 |     61%|\n|Link reference definitions              | 22 of  23 |     96%|\n|Paragraphs                              |  6 of   8 |     75%|\n|Block quotes                            | 21 of  25 |     84%|\n|List items                              | 32 of  48 |     67%|\n|Lists                                   | 10 of  24 |     42%|\n|Backslash escapes                       |  8 of  13 |     62%|\n|Entity and numeric character references |  9 of  12 |     75%|\n|Code spans                              | 11 of  17 |     65%|\n|Emphasis and strong emphasis            | 71 of 128 |     55%|\n|Links                                   | 64 of  84 |     76%|\n|Images                                  | 15 of  22 |     68%|\n|Autolinks                               | 15 of  19 |     79%|\n|Raw HTML                                | 19 of  21 |     90%|\n|Hard line breaks                        | 32 of  36 |     89%|\n|Soft line breaks                        |  1 of   2 |     50%|\n*/\n\ndescribe('CommonMark 0.28 Tabs', function() {\n  var section = 'Tabs';\n\n  // These examples probably should pass but don't for some reason.\n  // This is the easiest way to demonstrate limitations  or defects\n  // within Marked. Toggle comments for next two lines to see which examples\n  // are known failures. Note: If all arrays are empty, it means Marked is\n  // 100% compliant with that section of the given specification.\n  //\n  // var shouldPassButFails = [];\n  var shouldPassButFails = [1, 2, 3, 7];\n\n  // Identifies examples that the Marked core team has determined beyond\n  // the ability or desire to correct; thereby, implicitly requesting\n  // outside help and assistance.\n  var willNotBeAttemptedByCoreTeam = [];\n\n  // Combine known failures and skips.\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\n\n  cmSpec.forEach(function(spec) {\n    // Run test.\n    messenger.test(spec, section, ignore);\n  });\n});\n\ndescribe('CommonMark 0.28 Precedence', function() {\n  var section = 'Precedence';\n\n  // var shouldPassButFails = [];\n  var shouldPassButFails = [];\n\n  var willNotBeAttemptedByCoreTeam = [];\n\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\n\n  cmSpec.forEach(function(spec) {\n    messenger.test(spec, section, ignore);\n  });\n});\n\ndescribe('CommonMark 0.28 Thematic breaks', function() {\n  var section = 'Thematic breaks';\n\n  // var shouldPassButFails = [];\n  var shouldPassButFails = [19];\n\n  var willNotBeAttemptedByCoreTeam = [];\n\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\n\n  cmSpec.forEach(function(spec) {\n    messenger.test(spec, section, ignore);\n  });\n});\n\ndescribe('CommonMark 0.28 ATX headings', function() {\n  var section = 'ATX headings';\n\n  // var shouldPassButFails = [];\n  var shouldPassButFails = [40, 45, 46, 49];\n\n  var willNotBeAttemptedByCoreTeam = [];\n\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\n\n  cmSpec.forEach(function(spec) {\n    messenger.test(spec, section, ignore);\n  });\n});\n\ndescribe('CommonMark 0.28 Setext headings', function() {\n  var section = 'Setext headings';\n\n  // var shouldPassButFails = [];\n  var shouldPassButFails = [51, 52, 56, 62, 64];\n\n  var willNotBeAttemptedByCoreTeam = [];\n\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\n\n  cmSpec.forEach(function(spec) {\n    messenger.test(spec, section, ignore);\n  });\n});\n\ndescribe('CommonMark 0.28 Indented code blocks', function() {\n  var section = 'Indented code blocks';\n\n  // var shouldPassButFails = [];\n  var shouldPassButFails = [82];\n\n  var willNotBeAttemptedByCoreTeam = [];\n\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\n\n  cmSpec.forEach(function(spec) {\n    messenger.test(spec, section, ignore);\n  });\n});\n\ndescribe('CommonMark 0.28 Fenced code blocks', function() {\n  var section = 'Fenced code blocks';\n\n  // var shouldPassButFails = [];\n  var shouldPassButFails = [93, 95, 96, 97, 101, 102, 106, 108, 112];\n\n  var willNotBeAttemptedByCoreTeam = [];\n\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\n\n  cmSpec.forEach(function(spec) {\n    messenger.test(spec, section, ignore);\n  });\n});\n\ndescribe('CommonMark 0.28 HTML blocks', function() {\n  var section = 'HTML blocks';\n\n  var shouldPassButFails = [];\n\n  var willNotBeAttemptedByCoreTeam = [];\n\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\n\n  cmSpec.forEach(function(spec) {\n    messenger.test(spec, section, ignore);\n  });\n});\n\ndescribe('CommonMark 0.28 Link reference definitions', function() {\n  var section = 'Link reference definitions';\n\n  // var shouldPassButFails = [];\n  var shouldPassButFails = [167];\n\n  var willNotBeAttemptedByCoreTeam = [];\n\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\n\n  cmSpec.forEach(function(spec) {\n    messenger.test(spec, section, ignore);\n  });\n});\n\ndescribe('CommonMark 0.28 Paragraphs', function() {\n  var section = 'Paragraphs';\n\n  // var shouldPassButFails = [];\n  var shouldPassButFails = [185, 186];\n\n  var willNotBeAttemptedByCoreTeam = [];\n\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\n\n  cmSpec.forEach(function(spec) {\n    messenger.test(spec, section, ignore);\n  });\n});\n\ndescribe('CommonMark 0.28 Blank lines', function() {\n  var section = 'Blank lines';\n\n  // var shouldPassButFails = [];\n  var shouldPassButFails = [];\n\n  var willNotBeAttemptedByCoreTeam = [];\n\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\n\n  cmSpec.forEach(function(spec) {\n    messenger.test(spec, section, ignore);\n  });\n});\n\ndescribe('CommonMark 0.28 Block quotes', function() {\n  var section = 'Block quotes';\n\n  // var shouldPassButFails = [];\n  var shouldPassButFails = [198, 199, 200, 201];\n\n  var willNotBeAttemptedByCoreTeam = [];\n\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\n\n  cmSpec.forEach(function(spec) {\n    messenger.test(spec, section, ignore);\n  });\n});\n\ndescribe('CommonMark 0.28 List items', function() {\n  var section = 'List items';\n\n  // var shouldPassButFails = [];\n  var shouldPassButFails = [229, 237, 236, 227, 218, 243, 259, 241, 239, 247, 246, 225, 220, 258, 260, 244];\n\n  var willNotBeAttemptedByCoreTeam = [];\n\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\n\n  cmSpec.forEach(function(spec) {\n    messenger.test(spec, section, ignore);\n  });\n});\n\ndescribe('CommonMark 0.28 Lists', function() {\n  var section = 'Lists';\n\n  // var shouldPassButFails = [];\n  var shouldPassButFails = [282, 270, 280, 278, 273, 274, 264, 265, 276, 279, 267, 269];\n\n  var willNotBeAttemptedByCoreTeam = [];\n\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\n\n  cmSpec.forEach(function(spec) {\n    messenger.test(spec, section, ignore);\n  });\n});\n\ndescribe('CommonMark 0.28 Inlines', function() {\n  var section = 'Inlines';\n\n  // var shouldPassButFails = [];\n  var shouldPassButFails = [];\n\n  var willNotBeAttemptedByCoreTeam = [];\n\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\n\n  cmSpec.forEach(function(spec) {\n    messenger.test(spec, section, ignore);\n  });\n});\n\ndescribe('CommonMark 0.28 Backslash escapes', function() {\n  var section = 'Backslash escapes';\n\n  // var shouldPassButFails = [];\n  var shouldPassButFails = [290, 291, 300, 301];\n\n  var willNotBeAttemptedByCoreTeam = [];\n\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\n\n  cmSpec.forEach(function(spec) {\n    messenger.test(spec, section, ignore);\n  });\n});\n\ndescribe('CommonMark 0.28 Entity and numeric character references', function() {\n  var section = 'Entity and numeric character references';\n\n  // var shouldPassButFails = [];\n  var shouldPassButFails = [311, 309, 310];\n\n  var willNotBeAttemptedByCoreTeam = [];\n\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\n\n  cmSpec.forEach(function(spec) {\n    messenger.test(spec, section, ignore);\n  });\n});\n\ndescribe('CommonMark 0.28 Code spans', function() {\n  var section = 'Code spans';\n\n  // var shouldPassButFails = [];\n  var shouldPassButFails = [330, 316, 328, 320, 323, 322];\n\n  var willNotBeAttemptedByCoreTeam = [];\n\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\n\n  cmSpec.forEach(function(spec) {\n    messenger.test(spec, section, ignore);\n  });\n});\n\ndescribe('CommonMark 0.28 Emphasis and strong emphasis', function() {\n  var section = 'Emphasis and strong emphasis';\n\n  // var shouldPassButFails = [];\n  var shouldPassButFails = [334, 342, 348, 349, 352, 353, 354, 355, 356, 360, 368, 369, 371, 372, 378, 380, 381, 382, 387, 388, 392, 393, 394, 395, 396, 402, 403, 409, 416, 419, 420, 421, 422, 423, 424, 428, 431, 432, 433, 434, 435, 436, 443, 444, 445, 448, 449, 451, 453, 454, 455, 456, 457, 458];\n\n  var willNotBeAttemptedByCoreTeam = [];\n\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\n\n  cmSpec.forEach(function(spec) {\n    messenger.test(spec, section, ignore);\n  });\n});\n\ndescribe('CommonMark 0.28 Links', function() {\n  var section = 'Links';\n\n  // var shouldPassButFails = [];\n  var shouldPassButFails = [474, 478, 483, 489, 490, 491, 495, 496, 497, 499, 503, 504, 507, 508, 509, 523];\n\n  var willNotBeAttemptedByCoreTeam = [];\n\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\n\n  cmSpec.forEach(function(spec) {\n    messenger.test(spec, section, ignore);\n  });\n});\n\ndescribe('CommonMark 0.28 Images', function() {\n  var section = 'Images';\n\n  // var shouldPassButFails = [];\n  var shouldPassButFails = [544, 545, 546, 547, 548, 556, 560];\n\n  var willNotBeAttemptedByCoreTeam = [];\n\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\n\n  cmSpec.forEach(function(spec) {\n    messenger.test(spec, section, ignore);\n  });\n});\n\ndescribe('CommonMark 0.28 Autolinks', function() {\n  var section = 'Autolinks';\n\n  // var shouldPassButFails = [];\n  var shouldPassButFails = [582, 573, 579, 583];\n\n  var willNotBeAttemptedByCoreTeam = [];\n\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\n\n  cmSpec.forEach(function(spec) {\n    messenger.test(spec, section, ignore);\n  });\n});\n\ndescribe('CommonMark 0.28 Raw HTML', function() {\n  var section = 'Raw HTML';\n\n  // var shouldPassButFails = [];\n  var shouldPassButFails = [597, 598];\n\n  var willNotBeAttemptedByCoreTeam = [];\n\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\n\n  cmSpec.forEach(function(spec) {\n    messenger.test(spec, section, ignore);\n  });\n});\n\ndescribe('CommonMark 0.28 Hard line breaks', function() {\n  var section = 'Hard line breaks';\n\n  // var shouldPassButFails = [];\n  var shouldPassButFails = [613];\n\n  var willNotBeAttemptedByCoreTeam = [];\n\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\n\n  cmSpec.forEach(function(spec) {\n    messenger.test(spec, section, ignore);\n  });\n});\n\ndescribe('CommonMark 0.28 Soft line breaks', function() {\n  var section = 'Soft line breaks';\n\n  // var shouldPassButFails = [];\n  var shouldPassButFails = [621];\n\n  var willNotBeAttemptedByCoreTeam = [];\n\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\n\n  cmSpec.forEach(function(spec) {\n    messenger.test(spec, section, ignore);\n  });\n});\n\ndescribe('CommonMark 0.28 Textual content', function() {\n  var section = 'Textual content';\n\n  // var shouldPassButFails = [];\n  var shouldPassButFails = [];\n\n  var willNotBeAttemptedByCoreTeam = [];\n\n  var ignore = shouldPassButFails.concat(willNotBeAttemptedByCoreTeam);\n\n  cmSpec.forEach(function(spec) {\n    messenger.test(spec, section, ignore);\n  });\n});\n",
          "filepath": "data/repos/markedjs/marked-0.5/test/specs/commonmark/commonmark-spec.js",
          "repo": "markedjs/marked",
          "version": "0.5",
          "chunk_index": 0,
          "chunk_id": "ed824754-66e8-4205-91c5-c970d3d674bc"
        }
      }
    ]
  },
  {
    "instance_id": "processing__p5.js-3068",
    "model_patch": "diff --git a/start of text.js b/start of text.js\n--- a/start of text.js\n+++ b/start of text.js\n@@ -1,5 +1,5 @@\n /**\n- * @license RequireJS text 2.0.10 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.\n+ * @license RequireJS text 2.0.11 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.\n * Available via the MIT or new BSD license.\n * see: http://github.com/requirejs/text for details\n */\n@@ -239,6 +239,7 @@\n             var xhr = text.createXhr(), header;\n             xhr.open('GET', url, true);\n \n+            xhr.responseType = 'text';\n             //Allow plugins direct access to xhr headers\n             if (headers) {\n                 for (header in headers) {\n@@ -259,7 +260,7 @@\n                         callback(xhr.responseText);\n                     }\n \n-                    if (masterConfig.onXhrComplete) {\n+                    if (masterConfig.onXhrComplete) {\n                         masterConfig.onXhrComplete(xhr, url);\n                     }\n                 }\n@@ -267,7 +268,7 @@\n             xhr.send(null);\n         };\n     } else if (masterConfig.env === 'rhino' || (!masterConfig.env &&\n-            typeof Packages !== 'undefined' && typeof java !== 'undefined')) {\n+            typeof Packages !== 'undefined' && typeof java !== 'undefined')) {\n         //Why Java, why is this so awkward?\n         text.get = function (url, callback) {\n             var stringBuffer, line,\n@@ -313,7 +314,7 @@\n             Components.interfaces)) {\n         //Avert your gaze!\n         Cc = Components.classes,\n-        Ci = Components.interfaces;\n+        Ci = Components.interfaces;\n         Components.utils['import']('resource://gre/modules/FileUtils.jsm');\n         xpcIsWindows = ('@mozilla.org/windows-registry-key;1' in Cc);\n \n@@ -326,6 +327,7 @@\n \n             if (xpcIsWindows) {\n                 url = url.replace(/\\//g, '\\\\');\n+            }\n \n             fileObj = new FileUtils.File(url);\n \n@@ -340,7 +342,7 @@\n                 convertStream.init(inStream, \"utf-8\", inStream.available(),\n                 Ci.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER);\n \n-                convertStream.readString(inStream.available(), readData);\n+                convertStream.readString(inStream.available(), readData);\n                 convertStream.close();\n                 inStream.close();\n                 callback(readData.value);",
    "model_name_or_path": "text_bm25",
    "metrics": {
      "issue_embedding_time_ms": 0.0,
      "retrieval_time_ms_bm25": 173.7,
      "retrieval_time_ms": 173.7,
      "total_retrieval_time_ms": 173.7,
      "generation_time_ms": 6032.17,
      "total_io_time_ms": 6205.88,
      "input_total_token_limit": null,
      "issue_text_tokens": 271,
      "vlm_tokens": 0,
      "retrieved_tokens": 23958,
      "prompt_template_tokens": 519,
      "total_input_prompt_tokens": 24748,
      "output_generated_tokens": 568,
      "total_io_tokens": 25316,
      "input_prompt_text": "[{\"type\": \"text\", \"text\": \"You will be provided with a partial code base and an issue statement explaining a problem to resolve.\\n<issue>\\nloadStrings() omits empty lines\\nv0.6.1\\r\\n\\r\\nwhen loading a file containing empty lines, *processing* includes empty strings in the array for each empty line.\\r\\n\\r\\np5.js filters out empty lines.\\r\\n\\r\\nhere's a demo: https://codepen.io/Spongman/pen/wXVeYP\\r\\nthis loads and prints lines 24 onwards from the p5.js library, here: https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.1/addons/p5.dom.js\\r\\n\\r\\nthe text file looks like this:\\r\\n```\\r\\n * @main\\r\\n */\\r\\n\\r\\n(function(root, factory) {\\r\\n  if (typeof define === 'function' && define.amd)\\r\\n    define('p5.dom', ['p5'], function(p5) {\\r\\n      factory(p5);\\r\\n    });\\r\\n```\\r\\n\\r\\nbut the string array returned by `loadStrings` omits the empty lines:\\r\\n![image](https://user-images.githubusercontent.com/1088194/42413671-bb74b886-81d9-11e8-8434-f8c0a14ef113.png)\\r\\n\\r\\ni discovered this trying to work out why the line numbers for errors in glsl shaders loaded by `loadShader` don't match up with the lines in the source files. this bug makes it particularly frustrating trying to track down such errors.\\r\\n\\n\\n</issue>\\n\\n<code>\\n[start of prettify.js]\\n        }), ['bash', 'bsh', 'csh', 'sh']);\\n  registerLangHandler(sourceDecorator({\\n          'keywords': PYTHON_KEYWORDS,\\n          'hashComments': true,\\n          'multiLineStrings': true,\\n          'tripleQuotedStrings': true\\n        }), ['cv', 'py', 'python']);\\n  registerLangHandler(sourceDecorator({\\n          'keywords': PERL_KEYWORDS,\\n          'hashComments': true,\\n          'multiLineStrings': true,\\n          'regexLiterals': 2  // multiline regex literals\\n        }), ['perl', 'pl', 'pm']);\\n  registerLangHandler(sourceDecorator({\\n          'keywords': RUBY_KEYWORDS,\\n          'hashComments': true,\\n          'multiLineStrings': true,\\n          'regexLiterals': true\\n        }), ['rb', 'ruby']);\\n  registerLangHandler(sourceDecorator({\\n          'keywords': JSCRIPT_KEYWORDS,\\n          'cStyleComments': true,\\n          'regexLiterals': true\\n        }), ['javascript', 'js']);\\n  registerLangHandler(sourceDecorator({\\n          'keywords': COFFEE_KEYWORDS,\\n          'hashComments': 3,  // ### style block comments\\n          'cStyleComments': true,\\n          'multilineStrings': true,\\n          'tripleQuotedStrings': true,\\n          'regexLiterals': true\\n        }), ['coffee']);\\n  registerLangHandler(sourceDecorator({\\n          'keywords': RUST_KEYWORDS,\\n          'cStyleComments': true,\\n          'multilineStrings': true\\n        }), ['rc', 'rs', 'rust']);\\n  registerLangHandler(\\n      createSimpleLexer([], [[PR_STRING, /^[\\\\s\\\\S]+/]]), ['regex']);\\n\\n  function applyDecorator(job) {\\n    var opt_langExtension = job.langExtension;\\n\\n    try {\\n      // Extract tags, and convert the source code to plain text.\\n      var sourceAndSpans = extractSourceSpans(job.sourceNode, job.pre);\\n      /** Plain text. @type {string} */\\n      var source = sourceAndSpans.sourceCode;\\n      job.sourceCode = source;\\n      job.spans = sourceAndSpans.spans;\\n      job.basePos = 0;\\n\\n      // Apply the appropriate language handler\\n      langHandlerForExtension(opt_langExtension, source)(job);\\n\\n      // Integrate the decorations and tags back into the source code,\\n      // modifying the sourceNode in place.\\n      recombineTagsAndDecorations(job);\\n    } catch (e) {\\n      if (win['console']) {\\n        console['log'](e && e['stack'] || e);\\n      }\\n    }\\n  }\\n\\n  /**\\n   * Pretty print a chunk of code.\\n   * @param sourceCodeHtml {string} The HTML to pretty print.\\n   * @param opt_langExtension {string} The language name to use.\\n   *     Typically, a filename extension like 'cpp' or 'java'.\\n   * @param opt_numberLines {number|boolean} True to number lines,\\n   *     or the 1-indexed number of the first line in sourceCodeHtml.\\n   */\\n  function $prettyPrintOne(sourceCodeHtml, opt_langExtension, opt_numberLines) {\\n    var container = document.createElement('div');\\n    // This could cause images to load and onload listeners to fire.\\n    // E.g. <img onerror=\\\"alert(1337)\\\" src=\\\"nosuchimage.png\\\">.\\n    // We assume that the inner HTML is from a trusted source.\\n    // The pre-tag is required for IE8 which strips newlines from innerHTML\\n    // when it is injected into a <pre> tag.\\n    // http://stackoverflow.com/questions/451486/pre-tag-loses-line-breaks-when-setting-innerhtml-in-ie\\n    // http://stackoverflow.com/questions/195363/inserting-a-newline-into-a-pre-tag-ie-javascript\\n    container.innerHTML = '<pre>' + sourceCodeHtml + '</pre>';\\n    container = container.firstChild;\\n    if (opt_numberLines) {\\n      numberLines(container, opt_numberLines, true);\\n    }\\n\\n    var job = {\\n      langExtension: opt_langExtension,\\n      numberLines: opt_numberLines,\\n      sourceNode: container,\\n      pre: 1\\n    };\\n    applyDecorator(job);\\n    return container.innerHTML;\\n  }\\n\\n   /**\\n    * Find all the {@code <pre>} and {@code <code>} tags in the DOM with\\n    * {@code class=prettyprint} and prettify them.\\n    *\\n    * @param {Function} opt_whenDone called when prettifying is done.\\n    * @param {HTMLElement|HTMLDocument} opt_root an element or document\\n    *   containing all the elements to pretty print.\\n    *   Defaults to {@code document.body}.\\n    */\\n  function $prettyPrint(opt_whenDone, opt_root) {\\n    var root = opt_root || document.body;\\n    var doc = root.ownerDocument || document;\\n    function byTagName(tn) { return root.getElementsByTagName(tn); }\\n    // fetch a list of nodes to rewrite\\n    var codeSegments = [byTagName('pre'), byTagName('code'), byTagName('xmp')];\\n    var elements = [];\\n    for (var i = 0; i < codeSegments.length; ++i) {\\n      for (var j = 0, n = codeSegments[i].length; j < n; ++j) {\\n        elements.push(codeSegments[i][j]);\\n      }\\n    }\\n    codeSegments = null;\\n\\n    var clock = Date;\\n    if (!clock['now']) {\\n      clock = { 'now': function () { return +(new Date); } };\\n    }\\n\\n    // The loop is broken into a series of continuations to make sure that we\\n    // don't make the browser unresponsive when rewriting a large page.\\n    var k = 0;\\n    var prettyPrintingJob;\\n\\n    var langExtensionRe = /\\\\blang(?:uage)?-([\\\\w.]+)(?!\\\\S)/;\\n    var prettyPrintRe = /\\\\bprettyprint\\\\b/;\\n    var prettyPrintedRe = /\\\\bprettyprinted\\\\b/;\\n    var preformattedTagNameRe = /pre|xmp/i;\\n    var codeRe = /^code$/i;\\n    var preCodeXmpRe = /^(?:pre|code|xmp)$/i;\\n    var EMPTY = {};\\n\\n    function doWork() {\\n      var endTime = (win['PR_SHOULD_USE_CONTINUATION'] ?\\n                     clock['now']() + 250 /* ms */ :\\n                     Infinity);\\n      for (; k < elements.length && clock['now']() < endTime; k++) {\\n        var cs = elements[k];\\n\\n        // Look for a preceding comment like\\n        // <?prettify lang=\\\"...\\\" linenums=\\\"...\\\"?>\\n        var attrs = EMPTY;\\n        {\\n          for (var preceder = cs; (preceder = preceder.previousSibling);) {\\n            var nt = preceder.nodeType;\\n            // <?foo?> is parsed by HTML 5 to a comment node (8)\\n            // like <!--?foo?-->, but in XML is a processing instruction\\n            var value = (nt === 7 || nt === 8) && preceder.nodeValue;\\n            if (value\\n                ? !/^\\\\??prettify\\\\b/.test(value)\\n                : (nt !== 3 || /\\\\S/.test(preceder.nodeValue))) {\\n              // Skip over white-space text nodes but not others.\\n              break;\\n            }\\n            if (value) {\\n              attrs = {};\\n              value.replace(\\n                  /\\\\b(\\\\w+)=([\\\\w:.%+-]+)/g,\\n                function (_, name, value) { attrs[name] = value; });\\n              break;\\n            }\\n          }\\n        }\\n\\n        var className = cs.className;\\n        if ((attrs !== EMPTY || prettyPrintRe.test(className))\\n            // Don't redo this if we've already done it.\\n            // This allows recalling pretty print to just prettyprint elements\\n            // that have been added to the page since last call.\\n            && !prettyPrintedRe.test(className)) {\\n\\n          // make sure this is not nested in an already prettified element\\n          var nested = false;\\n          for (var p = cs.parentNode; p; p = p.parentNode) {\\n            var tn = p.tagName;\\n            if (preCodeXmpRe.test(tn)\\n                && p.className && prettyPrintRe.test(p.className)) {\\n              nested = true;\\n              break;\\n            }\\n          }\\n          if (!nested) {\\n            // Mark done.  If we fail to prettyprint for whatever reason,\\n            // we shouldn't try again.\\n            cs.className += ' prettyprinted';\\n\\n            // If the classes includes a language extensions, use it.\\n            // Language extensions can be specified like\\n            //     <pre class=\\\"prettyprint lang-cpp\\\">\\n            // the language extension \\\"cpp\\\" is used to find a language handler\\n            // as passed to PR.registerLangHandler.\\n            // HTML5 recommends that a language be specified using \\\"language-\\\"\\n            // as the prefix instead.  Google Code Prettify supports both.\\n            // http://dev.w3.org/html5/spec-author-view/the-code-element.html\\n            var langExtension = attrs['lang'];\\n            if (!langExtension) {\\n              langExtension = className.match(langExtensionRe);\\n              // Support <pre class=\\\"prettyprint\\\"><code class=\\\"language-c\\\">\\n              var wrapper;\\n              if (!langExtension && (wrapper = childContentWrapper(cs))\\n                  && codeRe.test(wrapper.tagName)) {\\n                langExtension = wrapper.className.match(langExtensionRe);\\n              }\\n\\n              if (langExtension) { langExtension = langExtension[1]; }\\n            }\\n\\n            var preformatted;\\n            if (preformattedTagNameRe.test(cs.tagName)) {\\n              preformatted = 1;\\n            } else {\\n              var currentStyle = cs['currentStyle'];\\n              var defaultView = doc.defaultView;\\n              var whitespace = (\\n                  currentStyle\\n                  ? currentStyle['whiteSpace']\\n                  : (defaultView\\n                     && defaultView.getComputedStyle)\\n                  ? defaultView.getComputedStyle(cs, null)\\n                  .getPropertyValue('white-space')\\n                  : 0);\\n              preformatted = whitespace\\n                  && 'pre' === whitespace.substring(0, 3);\\n            }\\n\\n            // Look for a class like linenums or linenums:<n> where <n> is the\\n            // 1-indexed number of the first line.\\n            var lineNums = attrs['linenums'];\\n            if (!(lineNums = lineNums === 'true' || +lineNums)) {\\n              lineNums = className.match(/\\\\blinenums\\\\b(?::(\\\\d+))?/);\\n              lineNums =\\n                lineNums\\n                ? lineNums[1] && lineNums[1].length\\n                  ? +lineNums[1] : true\\n                : false;\\n            }\\n            if (lineNums) { numberLines(cs, lineNums, preformatted); }\\n\\n            // do the pretty printing\\n            prettyPrintingJob = {\\n              langExtension: langExtension,\\n              sourceNode: cs,\\n              numberLines: lineNums,\\n              pre: preformatted\\n            };\\n            applyDecorator(prettyPrintingJob);\\n          }\\n        }\\n      }\\n      if (k < elements.length) {\\n        // finish up in a continuation\\n        setTimeout(doWork, 250);\\n      } else if ('function' === typeof opt_whenDone) {\\n        opt_whenDone();\\n      }\\n    }\\n\\n    doWork();\\n  }\\n\\n  /**\\n   * Contains functions for creating and registering new language handlers.\\n   * @type {Object}\\n   */\\n  var PR = win['PR'] = {\\n        'createSimpleLexer': createSimpleLexer,\\n        'registerLangHandler': registerLangHandler,\\n        'sourceDecorator': sourceDecorator,\\n        'PR_ATTRIB_NAME': PR_ATTRIB_NAME,\\n        'PR_ATTRIB_VALUE': PR_ATTRIB_VALUE,\\n        'PR_COMMENT': PR_COMMENT,\\n        'PR_DECLARATION': PR_DECLARATION,\\n        'PR_KEYWORD': PR_KEYWORD,\\n        'PR_LITERAL': PR_LITERAL,\\n        'PR_NOCODE': PR_NOCODE,\\n        'PR_PLAIN': PR_PLAIN,\\n        'PR_PUNCTUATION': PR_PUNCTUATION,\\n        'PR_SOURCE': PR_SOURCE,\\n        'PR_STRING': PR_STRING,\\n        'PR_TAG': PR_TAG,\\n        'PR_TYPE': PR_TYPE,\\n        'prettyPrintOne':\\n           IN_GLOBAL_SCOPE\\n             ? (win['prettyPrintOne'] = $prettyPrintOne)\\n             : (prettyPrintOne = $prettyPrintOne),\\n        'prettyPrint': prettyPrint =\\n           IN_GLOBAL_SCOPE\\n             ? (win['prettyPrint'] = $prettyPrint)\\n             : (prettyPrint = $prettyPrint)\\n      };\\n\\n  // Make PR available via the Asynchronous Module Definition (AMD) API.\\n  // Per https://github.com/amdjs/amdjs-api/wiki/AMD:\\n  // The Asynchronous Module Definition (AMD) API specifies a\\n  // mechanism for defining modules such that the module and its\\n  // dependencies can be asynchronously loaded.\\n  // ...\\n  // To allow a clear indicator that a global define function (as\\n  // needed for script src browser loading) conforms to the AMD API,\\n  // any global define function SHOULD have a property called \\\"amd\\\"\\n  // whose value is an object. This helps avoid conflict with any\\n  // other existing JavaScript code that could have defined a define()\\n  // function that does not conform to the AMD API.\\n  if (typeof define === \\\"function\\\" && define['amd']) {\\n    define(\\\"google-code-prettify\\\", [], function () {\\n      return PR; \\n    });\\n  }\\n})();\\n[end of prettify.js]\\n[start of error_helpers.js]\\n/**\\n * @for p5\\n * @requires core\\n */\\n\\n'use strict';\\n\\nvar p5 = require('./core');\\nvar constants = require('./constants');\\n\\nif (typeof IS_MINIFIED !== 'undefined') {\\n  p5._validateParameters = p5._friendlyFileLoadError = function() {};\\n} else {\\n  var doFriendlyWelcome = false; // TEMP until we get it all working LM\\n  // for parameter validation\\n  var dataDoc = require('../../docs/reference/data.json');\\n  var arrDoc = JSON.parse(JSON.stringify(dataDoc));\\n\\n  // -- Borrowed from jQuery 1.11.3 --\\n  var class2type = {};\\n  var toString = class2type.toString;\\n  var names = [\\n    'Boolean',\\n    'Number',\\n    'String',\\n    'Function',\\n    'Array',\\n    'Date',\\n    'RegExp',\\n    'Object',\\n    'Error'\\n  ];\\n  for (var n = 0; n < names.length; n++) {\\n    class2type['[object ' + names[n] + ']'] = names[n].toLowerCase();\\n  }\\n  var getType = function(obj) {\\n    if (obj == null) {\\n      return obj + '';\\n    }\\n    return typeof obj === 'object' || typeof obj === 'function'\\n      ? class2type[toString.call(obj)] || 'object'\\n      : typeof obj;\\n  };\\n\\n  // -- End borrow --\\n\\n  var friendlyWelcome = function() {\\n    // p5.js brand - magenta: #ED225D\\n    //var astrixBgColor = 'transparent';\\n    //var astrixTxtColor = '#ED225D';\\n    //var welcomeBgColor = '#ED225D';\\n    //var welcomeTextColor = 'white';\\n    console.log(\\n      '    _ \\\\n' +\\n        ' /\\\\\\\\| |/\\\\\\\\ \\\\n' +\\n        \\\" \\\\\\\\ ` ' /  \\\\n\\\" +\\n        ' / , . \\\\\\\\  \\\\n' +\\n        ' \\\\\\\\/|_|\\\\\\\\/ ' +\\n        '\\\\n\\\\n> p5.js says: Welcome! ' +\\n        'This is your friendly debugger. ' +\\n        'To turn me off switch to using \\u201cp5.min.js\\u201d.'\\n    );\\n  };\\n\\n  /**\\n   * Prints out a fancy, colorful message to the console log\\n   *\\n   * @private\\n   * @param  {String}               message the words to be said\\n   * @param  {String}               func    the name of the function to link\\n   * @param  {Number|String} color   CSS color string or error type\\n   *\\n   * @return console logs\\n   */\\n  // Wrong number of params, undefined param, wrong type\\n  var FILE_LOAD = 3;\\n  var ERR_PARAMS = 3;\\n  // p5.js blue, p5.js orange, auto dark green; fallback p5.js darkened magenta\\n  // See testColors below for all the color codes and names\\n  var typeColors = ['#2D7BB6', '#EE9900', '#4DB200', '#C83C00'];\\n  var report = function(message, func, color) {\\n    if (doFriendlyWelcome) {\\n      friendlyWelcome();\\n      doFriendlyWelcome = false;\\n    }\\n    if ('undefined' === getType(color)) {\\n      color = '#B40033'; // dark magenta\\n    } else if (getType(color) === 'number') {\\n      // Type to color\\n      color = typeColors[color];\\n    }\\n    if (func.substring(0, 4) === 'load') {\\n      console.log(\\n        '> p5.js says: ' +\\n          message +\\n          '[https://github.com/processing/p5.js/wiki/Local-server]'\\n      );\\n    } else {\\n      console.log(\\n        '> p5.js says: ' +\\n          message +\\n          ' [http://p5js.org/reference/#p5/' +\\n          func +\\n          ']'\\n      );\\n    }\\n  };\\n\\n  var errorCases = {\\n    '0': {\\n      fileType: 'image',\\n      method: 'loadImage',\\n      message: ' hosting the image online,'\\n    },\\n    '1': {\\n      fileType: 'XML file',\\n      method: 'loadXML'\\n    },\\n    '2': {\\n      fileType: 'table file',\\n      method: 'loadTable'\\n    },\\n    '3': {\\n      fileType: 'text file',\\n      method: 'loadStrings'\\n    },\\n    '4': {\\n      fileType: 'font',\\n      method: 'loadFont',\\n      message: ' hosting the font online,'\\n    }\\n  };\\n  p5._friendlyFileLoadError = function(errorType, filePath) {\\n    var errorInfo = errorCases[errorType];\\n    var message =\\n      'It looks like there was a problem' +\\n      ' loading your ' +\\n      errorInfo.fileType +\\n      '.' +\\n      ' Try checking if the file path [' +\\n      filePath +\\n      '] is correct,' +\\n      (errorInfo.message || '') +\\n      ' or running a local server.';\\n    report(message, errorInfo.method, FILE_LOAD);\\n  };\\n\\n  var docCache = {};\\n  var builtinTypes = [\\n    'number',\\n    'string',\\n    'boolean',\\n    'constant',\\n    'function',\\n    'any',\\n    'integer'\\n  ];\\n\\n  // validateParameters() helper functions:\\n  // lookupParamDoc() for querying data.json\\n  var lookupParamDoc = function(func) {\\n    var queryResult = arrDoc.classitems.filter(function(x) {\\n      return x.name === func;\\n    });\\n    // different JSON structure for funct with multi-format\\n    var overloads = [];\\n    if (queryResult[0].hasOwnProperty('overloads')) {\\n      for (var i = 0; i < queryResult[0].overloads.length; i++) {\\n        overloads.push(queryResult[0].overloads[i].params);\\n      }\\n    } else {\\n      overloads.push(queryResult[0].params);\\n    }\\n\\n    var mapConstants = {};\\n    var maxParams = 0;\\n    overloads.forEach(function(formats) {\\n      if (maxParams < formats.length) {\\n        maxParams = formats.length;\\n      }\\n      formats.forEach(function(format) {\\n        format.types = format.type.split('|').map(function ct(type) {\\n          // array\\n          if (type.substr(type.length - 2, 2) === '[]') {\\n            return {\\n              name: type,\\n              array: ct(type.substr(0, type.length - 2))\\n            };\\n          }\\n\\n          var lowerType = type.toLowerCase();\\n\\n          // contant\\n          if (lowerType === 'constant') {\\n            var constant;\\n            if (mapConstants.hasOwnProperty(format.name)) {\\n              constant = mapConstants[format.name];\\n            } else {\\n              // parse possible constant values from description\\n              var myRe = /either\\\\s+(?:[A-Z0-9_]+\\\\s*,?\\\\s*(?:or)?\\\\s*)+/g;\\n              var values = {};\\n              var names = [];\\n\\n              constant = mapConstants[format.name] = {\\n                values: values,\\n                names: names\\n              };\\n\\n              var myArray = myRe.exec(format.description);\\n              if (func === 'endShape' && format.name === 'mode') {\\n                values[constants.CLOSE] = true;\\n                names.push('CLOSE');\\n              } else {\\n                var match = myArray[0];\\n                var reConst = /[A-Z0-9_]+/g;\\n                var matchConst;\\n                while ((matchConst = reConst.exec(match)) !== null) {\\n                  var name = matchConst[0];\\n                  if (constants.hasOwnProperty(name)) {\\n                    values[constants[name]] = true;\\n                    names.push(name);\\n                  }\\n                }\\n              }\\n            }\\n            return {\\n              name: type,\\n              builtin: lowerType,\\n              names: constant.names,\\n              values: constant.values\\n            };\\n          }\\n\\n          // function\\n          if (lowerType.substr(0, 'function'.length) === 'function') {\\n            lowerType = 'function';\\n          }\\n          // builtin\\n          if (builtinTypes.indexOf(lowerType) >= 0) {\\n            return { name: type, builtin: lowerType };\\n          }\\n\\n          // p5 class type\\n          var t = window;\\n          type.split('.').forEach(function(p) {\\n            t = t && t[p];\\n          });\\n          if (t) {\\n            return { name: type, prototype: t };\\n          }\\n\\n          return { name: type, type: lowerType };\\n        });\\n      });\\n    });\\n    return {\\n      overloads: overloads,\\n      maxParams: maxParams\\n    };\\n  };\\n\\n  var testParamType = function(param, type) {\\n    var isArray = param instanceof Array;\\n    if (type.array && isArray) {\\n      for (var i = 0; i < param.length; i++) {\\n        if (!testParamType(param[i], type.array)) {\\n          return false;\\n        }\\n      }\\n      return true;\\n    } else if (type.prototype) {\\n      return param instanceof type.prototype;\\n    } else if (type.builtin) {\\n      switch (type.builtin) {\\n        case 'number':\\n          return typeof param === 'number' || (!!param && !isNaN(param));\\n        case 'integer':\\n          return (\\n            (typeof param === 'number' || (!!param && !isNaN(param))) &&\\n            Number(param) === Math.floor(param)\\n          );\\n        case 'boolean':\\n        case 'any':\\n          return true;\\n        case 'array':\\n          return isArray;\\n        case 'string':\\n          return typeof param === 'number' || typeof param === 'string';\\n        case 'constant':\\n          return type.values.hasOwnProperty(param);\\n        case 'function':\\n          return param instanceof Function;\\n      }\\n    }\\n\\n    return typeof param === type.t;\\n  };\\n\\n  // testType() for non-object type parameter validation\\n  // Returns true if PASS, false if FAIL\\n  var testParamTypes = function(param, types) {\\n    for (var i = 0; i < types.length; i++) {\\n      if (testParamType(param, types[i])) {\\n        return true;\\n      }\\n    }\\n    return false;\\n  };\\n\\n  var testParamFormat = function(args, formats) {\\n    var errorArray = [];\\n    for (var p = 0; p < formats.length; p++) {\\n      var arg = args[p];\\n      var format = formats[p];\\n      var argType = typeof arg;\\n      if ('undefined' === argType || null === arg) {\\n        if (format.optional !== true) {\\n          errorArray.push({\\n            type: 'EMPTY_VAR',\\n            position: p,\\n            format: format\\n          });\\n        }\\n      } else if (!testParamTypes(arg, format.types)) {\\n        errorArray.push({\\n          type: 'WRONG_TYPE',\\n          position: p,\\n          format: format,\\n          arg: arg\\n        });\\n      }\\n    }\\n    return errorArray;\\n  };\\n\\n  // function for generating console.log() msg\\n  p5._friendlyParamError = function(errorObj, func) {\\n    var message;\\n\\n    function formatType() {\\n      var format = errorObj.format;\\n      return format.types\\n        .map(function(type) {\\n          return type.names ? type.names.join('|') : type.name;\\n        })\\n        .join('|');\\n    }\\n\\n    switch (errorObj.type) {\\n      case 'EMPTY_VAR':\\n        message =\\n          func +\\n          '() was expecting ' +\\n          formatType() +\\n          ' for parameter #' +\\n          errorObj.position +\\n          ' (zero-based index), received an empty variable instead.' +\\n          ' If not intentional, this is often a problem with scope:' +\\n          ' [https://p5js.org/examples/data-variable-scope.html]';\\n        break;\\n      case 'WRONG_TYPE':\\n        var arg = errorObj.arg;\\n        var argType = arg instanceof Array ? 'array' : arg.name || typeof arg;\\n        message =\\n          func +\\n          '() was expecting ' +\\n          formatType() +\\n          ' for parameter #' +\\n          errorObj.position +\\n          ' (zero-based index), received ' +\\n          argType +\\n          ' instead';\\n        break;\\n      case 'WRONG_ARGUMENT_COUNT':\\n        message =\\n          func +\\n          '() was expecting ' +\\n          errorObj.maxParams +\\n          ' arguments, but received ' +\\n          errorObj.argCount;\\n        break;\\n    }\\n\\n    if (message) {\\n      try {\\n        var re = /Function\\\\.validateParameters.*[\\\\r\\\\n].*[\\\\r\\\\n].*\\\\(([^)]*)/;\\n        var location = re.exec(new Error().stack)[1];\\n        if (location) {\\n          message += ' at ' + location;\\n        }\\n      } catch (err) {}\\n\\n      report(message + '.', func, ERR_PARAMS);\\n    }\\n  };\\n\\n  /**\\n   * Validates parameters\\n   * param  {String}               func    the name of the function\\n   * param  {Array}                args    user input arguments\\n   *\\n   * example:\\n   *  var a;\\n   *  ellipse(10,10,a,5);\\n   * console ouput:\\n   *  \\\"It looks like ellipse received an empty variable in spot #2.\\\"\\n   *\\n   * example:\\n   *  ellipse(10,\\\"foo\\\",5,5);\\n   * console output:\\n   *  \\\"ellipse was expecting a number for parameter #1,\\n   *           received \\\"foo\\\" instead.\\\"\\n   */\\n  p5._validateParameters = function validateParameters(func, args) {\\n    if (p5.disableFriendlyErrors) {\\n      return; // skip FES\\n    }\\n\\n    var docs = docCache[func] || (docCache[func] = lookupParamDoc(func));\\n    var errorArray = [];\\n    var minErrCount = 999999;\\n    var overloads = docs.overloads;\\n    for (var i = 0; i < overloads.length; i++) {\\n      var arrError = testParamFormat(args, overloads[i]);\\n      // see if this is the format with min number of err\\n      if (minErrCount > arrError.length) {\\n        minErrCount = arrError.length;\\n        errorArray = arrError;\\n      }\\n      if (arrError.length === 0) {\\n        break; // no error\\n      }\\n    }\\n\\n    if (!errorArray.length && args.length > docs.maxParams) {\\n      errorArray.push({\\n        type: 'WRONG_ARGUMENT_COUNT',\\n        argCount: args.length,\\n        maxParams: docs.maxParams\\n      });\\n    }\\n\\n    // generate err msg\\n    for (var n = 0; n < errorArray.length; n++) {\\n      p5._friendlyParamError(errorArray[n], func);\\n    }\\n  };\\n\\n  /**\\n   * Prints out all the colors in the color pallete with white text.\\n   * For color blindness testing.\\n   */\\n  /* function testColors() {\\n    var str = 'A box of biscuits, a box of mixed biscuits and a biscuit mixer';\\n    report(str, 'print', '#ED225D'); // p5.js magenta\\n    report(str, 'print', '#2D7BB6'); // p5.js blue\\n    report(str, 'print', '#EE9900'); // p5.js orange\\n    report(str, 'print', '#A67F59'); // p5.js light brown\\n    report(str, 'print', '#704F21'); // p5.js gold\\n    report(str, 'print', '#1CC581'); // auto cyan\\n    report(str, 'print', '#FF6625'); // auto orange\\n    report(str, 'print', '#79EB22'); // auto green\\n    report(str, 'print', '#B40033'); // p5.js darkened magenta\\n    report(str, 'print', '#084B7F'); // p5.js darkened blue\\n    report(str, 'print', '#945F00'); // p5.js darkened orange\\n    report(str, 'print', '#6B441D'); // p5.js darkened brown\\n    report(str, 'print', '#2E1B00'); // p5.js darkened gold\\n    report(str, 'print', '#008851'); // auto dark cyan\\n    report(str, 'print', '#C83C00'); // auto dark orange\\n    report(str, 'print', '#4DB200'); // auto dark green\\n  } */\\n\\n  p5.prototype._validateParameters = p5.validateParameters;\\n}\\n\\n// This is a lazily-defined list of p5 symbols that may be\\n// misused by beginners at top-level code, outside of setup/draw. We'd like\\n// to detect these errors and help the user by suggesting they move them\\n// into setup/draw.\\n//\\n// For more details, see https://github.com/processing/p5.js/issues/1121.\\nvar misusedAtTopLevelCode = null;\\nvar FAQ_URL =\\n  'https://github.com/processing/p5.js/wiki/' +\\n  'Frequently-Asked-Questions' +\\n  '#why-cant-i-assign-variables-using-p5-functions-and-' +\\n  'variables-before-setup';\\n\\nvar defineMisusedAtTopLevelCode = function() {\\n  var uniqueNamesFound = {};\\n\\n  var getSymbols = function(obj) {\\n    return Object.getOwnPropertyNames(obj)\\n      .filter(function(name) {\\n        if (name[0] === '_') {\\n          return false;\\n        }\\n        if (name in uniqueNamesFound) {\\n          return false;\\n        }\\n\\n        uniqueNamesFound[name] = true;\\n\\n        return true;\\n      })\\n      .map(function(name) {\\n        var type;\\n\\n        if (typeof obj[name] === 'function') {\\n          type = 'function';\\n        } else if (name === name.toUpperCase()) {\\n          type = 'constant';\\n        } else {\\n          type = 'variable';\\n        }\\n\\n        return { name: name, type: type };\\n      });\\n  };\\n\\n  misusedAtTopLevelCode = [].concat(\\n    getSymbols(p5.prototype),\\n    // At present, p5 only adds its constants to p5.prototype during\\n    // construction, which may not have happened at the time a\\n    // ReferenceError is thrown, so we'll manually add them to our list.\\n    getSymbols(require('./constants'))\\n  );\\n\\n  // This will ultimately ensure that we report the most specific error\\n  // possible to the user, e.g. advising them about HALF_PI instead of PI\\n  // when their code misuses the former.\\n  misusedAtTopLevelCode.sort(function(a, b) {\\n    return b.name.length - a.name.length;\\n  });\\n};\\n\\nvar helpForMisusedAtTopLevelCode = function(e, log) {\\n  if (!log) {\\n    log = console.log.bind(console);\\n  }\\n\\n  if (!misusedAtTopLevelCode) {\\n    defineMisusedAtTopLevelCode();\\n  }\\n\\n  // If we find that we're logging lots of false positives, we can\\n  // uncomment the following code to avoid displaying anything if the\\n  // user's code isn't likely to be using p5's global mode. (Note that\\n  // setup/draw are more likely to be defined due to JS function hoisting.)\\n  //\\n  //if (!('setup' in window || 'draw' in window)) {\\n  //  return;\\n  //}\\n\\n  misusedAtTopLevelCode.some(function(symbol) {\\n    // Note that while just checking for the occurrence of the\\n    // symbol name in the error message could result in false positives,\\n    // a more rigorous test is difficult because different browsers\\n    // log different messages, and the format of those messages may\\n    // change over time.\\n    //\\n    // For example, if the user uses 'PI' in their code, it may result\\n    // in any one of the following messages:\\n    //\\n    //   * 'PI' is undefined                           (Microsoft Edge)\\n    //   * ReferenceError: PI is undefined             (Firefox)\\n    //   * Uncaught ReferenceError: PI is not defined  (Chrome)\\n\\n    if (e.message && e.message.match('\\\\\\\\W?' + symbol.name + '\\\\\\\\W') !== null) {\\n      log(\\n        \\\"Did you just try to use p5.js's \\\" +\\n          symbol.name +\\n          (symbol.type === 'function' ? '() ' : ' ') +\\n          symbol.type +\\n          '? If so, you may want to ' +\\n          \\\"move it into your sketch's setup() function.\\\\n\\\\n\\\" +\\n          'For more details, see: ' +\\n          FAQ_URL\\n      );\\n      return true;\\n    }\\n  });\\n};\\n\\n// Exposing this primarily for unit testing.\\np5.prototype._helpForMisusedAtTopLevelCode = helpForMisusedAtTopLevelCode;\\n\\nif (document.readyState !== 'complete') {\\n  window.addEventListener('error', helpForMisusedAtTopLevelCode, false);\\n\\n  // Our job is only to catch ReferenceErrors that are thrown when\\n  // global (non-instance mode) p5 APIs are used at the top-level\\n  // scope of a file, so we'll unbind our error listener now to make\\n  // sure we don't log false positives later.\\n  window.addEventListener('load', function() {\\n    window.removeEventListener('error', helpForMisusedAtTopLevelCode, false);\\n  });\\n}\\n\\nmodule.exports = p5;\\n\\n[end of error_helpers.js]\\n[start of text.js]\\n/**\\n * @license RequireJS text 2.0.10 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.\\n * Available via the MIT or new BSD license.\\n * see: http://github.com/requirejs/text for details\\n */\\n/*jslint regexp: true */\\n/*global require, XMLHttpRequest, ActiveXObject,\\n  define, window, process, Packages,\\n  java, location, Components, FileUtils */\\n\\ndefine(['module'], function (module) {\\n    'use strict';\\n\\n    var text, fs, Cc, Ci, xpcIsWindows,\\n        progIds = ['Msxml2.XMLHTTP', 'Microsoft.XMLHTTP', 'Msxml2.XMLHTTP.4.0'],\\n        xmlRegExp = /^\\\\s*<\\\\?xml(\\\\s)+version=[\\\\'\\\\\\\"](\\\\d)*.(\\\\d)*[\\\\'\\\\\\\"](\\\\s)*\\\\?>/im,\\n        bodyRegExp = /<body[^>]*>\\\\s*([\\\\s\\\\S]+)\\\\s*<\\\\/body>/im,\\n        hasLocation = typeof location !== 'undefined' && location.href,\\n        defaultProtocol = hasLocation && location.protocol && location.protocol.replace(/\\\\:/, ''),\\n        defaultHostName = hasLocation && location.hostname,\\n        defaultPort = hasLocation && (location.port || undefined),\\n        buildMap = {},\\n        masterConfig = (module.config && module.config()) || {};\\n\\n    text = {\\n        version: '2.0.10',\\n\\n        strip: function (content) {\\n            //Strips <?xml ...?> declarations so that external SVG and XML\\n            //documents can be added to a document without worry. Also, if the string\\n            //is an HTML document, only the part inside the body tag is returned.\\n            if (content) {\\n                content = content.replace(xmlRegExp, \\\"\\\");\\n                var matches = content.match(bodyRegExp);\\n                if (matches) {\\n                    content = matches[1];\\n                }\\n            } else {\\n                content = \\\"\\\";\\n            }\\n            return content;\\n        },\\n\\n        jsEscape: function (content) {\\n            return content.replace(/(['\\\\\\\\])/g, '\\\\\\\\$1')\\n                .replace(/[\\\\f]/g, \\\"\\\\\\\\f\\\")\\n                .replace(/[\\\\b]/g, \\\"\\\\\\\\b\\\")\\n                .replace(/[\\\\n]/g, \\\"\\\\\\\\n\\\")\\n                .replace(/[\\\\t]/g, \\\"\\\\\\\\t\\\")\\n                .replace(/[\\\\r]/g, \\\"\\\\\\\\r\\\")\\n                .replace(/[\\\\u2028]/g, \\\"\\\\\\\\u2028\\\")\\n                .replace(/[\\\\u2029]/g, \\\"\\\\\\\\u2029\\\");\\n        },\\n\\n        createXhr: masterConfig.createXhr || function () {\\n            //Would love to dump the ActiveX crap in here. Need IE 6 to die first.\\n            var xhr, i, progId;\\n            if (typeof XMLHttpRequest !== \\\"undefined\\\") {\\n                return new XMLHttpRequest();\\n            } else if (typeof ActiveXObject !== \\\"undefined\\\") {\\n                for (i = 0; i < 3; i += 1) {\\n                    progId = progIds[i];\\n                    try {\\n                        xhr = new ActiveXObject(progId);\\n                    } catch (e) {}\\n\\n                    if (xhr) {\\n                        progIds = [progId];  // so faster next time\\n                        break;\\n                    }\\n                }\\n            }\\n\\n            return xhr;\\n        },\\n\\n        /**\\n         * Parses a resource name into its component parts. Resource names\\n         * look like: module/name.ext!strip, where the !strip part is\\n         * optional.\\n         * @param {String} name the resource name\\n         * @returns {Object} with properties \\\"moduleName\\\", \\\"ext\\\" and \\\"strip\\\"\\n         * where strip is a boolean.\\n         */\\n        parseName: function (name) {\\n            var modName, ext, temp,\\n                strip = false,\\n                index = name.indexOf(\\\".\\\"),\\n                isRelative = name.indexOf('./') === 0 ||\\n                             name.indexOf('../') === 0;\\n\\n            if (index !== -1 && (!isRelative || index > 1)) {\\n                modName = name.substring(0, index);\\n                ext = name.substring(index + 1, name.length);\\n            } else {\\n                modName = name;\\n            }\\n\\n            temp = ext || modName;\\n            index = temp.indexOf(\\\"!\\\");\\n            if (index !== -1) {\\n                //Pull off the strip arg.\\n                strip = temp.substring(index + 1) === \\\"strip\\\";\\n                temp = temp.substring(0, index);\\n                if (ext) {\\n                    ext = temp;\\n                } else {\\n                    modName = temp;\\n                }\\n            }\\n\\n            return {\\n                moduleName: modName,\\n                ext: ext,\\n                strip: strip\\n            };\\n        },\\n\\n        xdRegExp: /^((\\\\w+)\\\\:)?\\\\/\\\\/([^\\\\/\\\\\\\\]+)/,\\n\\n        /**\\n         * Is an URL on another domain. Only works for browser use, returns\\n         * false in non-browser environments. Only used to know if an\\n         * optimized .js version of a text resource should be loaded\\n         * instead.\\n         * @param {String} url\\n         * @returns Boolean\\n         */\\n        useXhr: function (url, protocol, hostname, port) {\\n            var uProtocol, uHostName, uPort,\\n                match = text.xdRegExp.exec(url);\\n            if (!match) {\\n                return true;\\n            }\\n            uProtocol = match[2];\\n            uHostName = match[3];\\n\\n            uHostName = uHostName.split(':');\\n            uPort = uHostName[1];\\n            uHostName = uHostName[0];\\n\\n            return (!uProtocol || uProtocol === protocol) &&\\n                   (!uHostName || uHostName.toLowerCase() === hostname.toLowerCase()) &&\\n                   ((!uPort && !uHostName) || uPort === port);\\n        },\\n\\n        finishLoad: function (name, strip, content, onLoad) {\\n            content = strip ? text.strip(content) : content;\\n            if (masterConfig.isBuild) {\\n                buildMap[name] = content;\\n            }\\n            onLoad(content);\\n        },\\n\\n        load: function (name, req, onLoad, config) {\\n            //Name has format: some.module.filext!strip\\n            //The strip part is optional.\\n            //if strip is present, then that means only get the string contents\\n            //inside a body tag in an HTML string. For XML/SVG content it means\\n            //removing the <?xml ...?> declarations so the content can be inserted\\n            //into the current doc without problems.\\n\\n            // Do not bother with the work if a build and text will\\n            // not be inlined.\\n            if (config.isBuild && !config.inlineText) {\\n                onLoad();\\n                return;\\n            }\\n\\n            masterConfig.isBuild = config.isBuild;\\n\\n            var parsed = text.parseName(name),\\n                nonStripName = parsed.moduleName +\\n                    (parsed.ext ? '.' + parsed.ext : ''),\\n                url = req.toUrl(nonStripName),\\n                useXhr = (masterConfig.useXhr) ||\\n                         text.useXhr;\\n\\n            // Do not load if it is an empty: url\\n            if (url.indexOf('empty:') === 0) {\\n                onLoad();\\n                return;\\n            }\\n\\n            //Load the text. Use XHR if possible and in a browser.\\n            if (!hasLocation || useXhr(url, defaultProtocol, defaultHostName, defaultPort)) {\\n                text.get(url, function (content) {\\n                    text.finishLoad(name, parsed.strip, content, onLoad);\\n                }, function (err) {\\n                    if (onLoad.error) {\\n                        onLoad.error(err);\\n                    }\\n                });\\n            } else {\\n                //Need to fetch the resource across domains. Assume\\n                //the resource has been optimized into a JS module. Fetch\\n                //by the module name + extension, but do not include the\\n                //!strip part to avoid file system issues.\\n                req([nonStripName], function (content) {\\n                    text.finishLoad(parsed.moduleName + '.' + parsed.ext,\\n                                    parsed.strip, content, onLoad);\\n                });\\n            }\\n        },\\n\\n        write: function (pluginName, moduleName, write, config) {\\n            if (buildMap.hasOwnProperty(moduleName)) {\\n                var content = text.jsEscape(buildMap[moduleName]);\\n                write.asModule(pluginName + \\\"!\\\" + moduleName,\\n                               \\\"define(function () { return '\\\" +\\n                                   content +\\n                               \\\"';});\\\\n\\\");\\n            }\\n        },\\n\\n        writeFile: function (pluginName, moduleName, req, write, config) {\\n            var parsed = text.parseName(moduleName),\\n                extPart = parsed.ext ? '.' + parsed.ext : '',\\n                nonStripName = parsed.moduleName + extPart,\\n                //Use a '.js' file name so that it indicates it is a\\n                //script that can be loaded across domains.\\n                fileName = req.toUrl(parsed.moduleName + extPart) + '.js';\\n\\n            //Leverage own load() method to load plugin value, but only\\n            //write out values that do not have the strip argument,\\n            //to avoid any potential issues with ! in file names.\\n            text.load(nonStripName, req, function (value) {\\n                //Use own write() method to construct full module value.\\n                //But need to create shell that translates writeFile's\\n                //write() to the right interface.\\n                var textWrite = function (contents) {\\n                    return write(fileName, contents);\\n                };\\n                textWrite.asModule = function (moduleName, contents) {\\n                    return write.asModule(moduleName, fileName, contents);\\n                };\\n\\n                text.write(pluginName, nonStripName, textWrite, config);\\n            }, config);\\n        }\\n    };\\n\\n    if (masterConfig.env === 'node' || (!masterConfig.env &&\\n            typeof process !== \\\"undefined\\\" &&\\n            process.versions &&\\n            !!process.versions.node &&\\n            !process.versions['node-webkit'])) {\\n        //Using special require.nodeRequire, something added by r.js.\\n        fs = require.nodeRequire('fs');\\n\\n        text.get = function (url, callback, errback) {\\n            try {\\n                var file = fs.readFileSync(url, 'utf8');\\n                //Remove BOM (Byte Mark Order) from utf8 files if it is there.\\n                if (file.indexOf('\\\\uFEFF') === 0) {\\n                    file = file.substring(1);\\n                }\\n                callback(file);\\n            } catch (e) {\\n                errback(e);\\n            }\\n        };\\n    } else if (masterConfig.env === 'xhr' || (!masterConfig.env &&\\n            text.createXhr())) {\\n        text.get = function (url, callback, errback, headers) {\\n            var xhr = text.createXhr(), header;\\n            xhr.open('GET', url, true);\\n\\n            //Allow plugins direct access to xhr headers\\n            if (headers) {\\n                for (header in headers) {\\n                    if (headers.hasOwnProperty(header)) {\\n                        xhr.setRequestHeader(header.toLowerCase(), headers[header]);\\n                    }\\n                }\\n            }\\n\\n            //Allow overrides specified in config\\n            if (masterConfig.onXhr) {\\n                masterConfig.onXhr(xhr, url);\\n            }\\n\\n            xhr.onreadystatechange = function (evt) {\\n                var status, err;\\n                //Do not explicitly handle errors, those should be\\n                //visible via console output in the browser.\\n                if (xhr.readyState === 4) {\\n                    status = xhr.status;\\n                    if (status > 399 && status < 600) {\\n                        //An http 4xx or 5xx error. Signal an error.\\n                        err = new Error(url + ' HTTP status: ' + status);\\n                        err.xhr = xhr;\\n                        errback(err);\\n                    } else {\\n                        callback(xhr.responseText);\\n                    }\\n\\n                    if (masterConfig.onXhrComplete) {\\n                        masterConfig.onXhrComplete(xhr, url);\\n                    }\\n                }\\n            };\\n            xhr.send(null);\\n        };\\n    } else if (masterConfig.env === 'rhino' || (!masterConfig.env &&\\n            typeof Packages !== 'undefined' && typeof java !== 'undefined')) {\\n        //Why Java, why is this so awkward?\\n        text.get = function (url, callback) {\\n            var stringBuffer, line,\\n                encoding = \\\"utf-8\\\",\\n                file = new java.io.File(url),\\n                lineSeparator = java.lang.System.getProperty(\\\"line.separator\\\"),\\n                input = new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(file), encoding)),\\n                content = '';\\n            try {\\n                stringBuffer = new java.lang.StringBuffer();\\n                line = input.readLine();\\n\\n                // Byte Order Mark (BOM) - The Unicode Standard, version 3.0, page 324\\n                // http://www.unicode.org/faq/utf_bom.html\\n\\n                // Note that when we use utf-8, the BOM should appear as \\\"EF BB BF\\\", but it doesn't due to this bug in the JDK:\\n                // http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4508058\\n                if (line && line.length() && line.charAt(0) === 0xfeff) {\\n                    // Eat the BOM, since we've already found the encoding on this file,\\n                    // and we plan to concatenating this buffer with others; the BOM should\\n                    // only appear at the top of a file.\\n                    line = line.substring(1);\\n                }\\n\\n                if (line !== null) {\\n                    stringBuffer.append(line);\\n                }\\n\\n                while ((line = input.readLine()) !== null) {\\n                    stringBuffer.append(lineSeparator);\\n                    stringBuffer.append(line);\\n                }\\n                //Make sure we return a JavaScript string and not a Java string.\\n                content = String(stringBuffer.toString()); //String\\n            } finally {\\n                input.close();\\n            }\\n            callback(content);\\n        };\\n    } else if (masterConfig.env === 'xpconnect' || (!masterConfig.env &&\\n            typeof Components !== 'undefined' && Components.classes &&\\n            Components.interfaces)) {\\n        //Avert your gaze!\\n        Cc = Components.classes,\\n        Ci = Components.interfaces;\\n        Components.utils['import']('resource://gre/modules/FileUtils.jsm');\\n        xpcIsWindows = ('@mozilla.org/windows-registry-key;1' in Cc);\\n\\n        text.get = function (url, callback) {\\n            var inStream, convertStream, fileObj,\\n                readData = {};\\n\\n            if (xpcIsWindows) {\\n                url = url.replace(/\\\\//g, '\\\\\\\\');\\n            }\\n\\n            fileObj = new FileUtils.File(url);\\n\\n            //XPCOM, you so crazy\\n            try {\\n                inStream = Cc['@mozilla.org/network/file-input-stream;1']\\n                           .createInstance(Ci.nsIFileInputStream);\\n                inStream.init(fileObj, 1, 0, false);\\n\\n                convertStream = Cc['@mozilla.org/intl/converter-input-stream;1']\\n                                .createInstance(Ci.nsIConverterInputStream);\\n                convertStream.init(inStream, \\\"utf-8\\\", inStream.available(),\\n                Ci.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER);\\n\\n                convertStream.readString(inStream.available(), readData);\\n                convertStream.close();\\n                inStream.close();\\n                callback(readData.value);\\n            } catch (e) {\\n                throw new Error((fileObj && fileObj.path || '') + ': ' + e);\\n            }\\n        };\\n    }\\n    return text;\\n});\\n\\n[end of text.js]\\n[start of p5.sound.js]\\n/*! p5.sound.js v0.3.7 2018-01-19 */\\n/**\\n *  p5.sound extends p5 with <a href=\\\"http://caniuse.com/audio-api\\\"\\n *  target=\\\"_blank\\\">Web Audio</a> functionality including audio input,\\n *  playback, analysis and synthesis.\\n *  <br/><br/>\\n *  <a href=\\\"#/p5.SoundFile\\\"><b>p5.SoundFile</b></a>: Load and play sound files.<br/>\\n *  <a href=\\\"#/p5.Amplitude\\\"><b>p5.Amplitude</b></a>: Get the current volume of a sound.<br/>\\n *  <a href=\\\"#/p5.AudioIn\\\"><b>p5.AudioIn</b></a>: Get sound from an input source, typically\\n *    a computer microphone.<br/>\\n *  <a href=\\\"#/p5.FFT\\\"><b>p5.FFT</b></a>: Analyze the frequency of sound. Returns\\n *    results from the frequency spectrum or time domain (waveform).<br/>\\n *  <a href=\\\"#/p5.Oscillator\\\"><b>p5.Oscillator</b></a>: Generate Sine,\\n *    Triangle, Square and Sawtooth waveforms. Base class of\\n *    <a href=\\\"#/p5.Noise\\\">p5.Noise</a> and <a href=\\\"#/p5.Pulse\\\">p5.Pulse</a>.\\n *    <br/>\\n *  <a href=\\\"#/p5.Env\\\"><b>p5.Env</b></a>: An Envelope is a series\\n *    of fades over time. Often used to control an object's\\n *    output gain level as an \\\"ADSR Envelope\\\" (Attack, Decay,\\n *    Sustain, Release). Can also modulate other parameters.<br/>\\n *  <a href=\\\"#/p5.Delay\\\"><b>p5.Delay</b></a>: A delay effect with\\n *    parameters for feedback, delayTime, and lowpass filter.<br/>\\n *  <a href=\\\"#/p5.Filter\\\"><b>p5.Filter</b></a>: Filter the frequency range of a\\n *    sound.\\n *  <br/>\\n *  <a href=\\\"#/p5.Reverb\\\"><b>p5.Reverb</b></a>: Add reverb to a sound by specifying\\n *    duration and decay. <br/>\\n *  <b><a href=\\\"#/p5.Convolver\\\">p5.Convolver</a>:</b> Extends\\n *  <a href=\\\"#/p5.Reverb\\\">p5.Reverb</a> to simulate the sound of real\\n *    physical spaces through convolution.<br/>\\n *  <b><a href=\\\"#/p5.SoundRecorder\\\">p5.SoundRecorder</a></b>: Record sound for playback\\n *    / save the .wav file.\\n *  <b><a href=\\\"#/p5.Phrase\\\">p5.Phrase</a></b>, <b><a href=\\\"#/p5.Part\\\">p5.Part</a></b> and\\n *  <b><a href=\\\"#/p5.Score\\\">p5.Score</a></b>: Compose musical sequences.\\n *  <br/><br/>\\n *  p5.sound is on <a href=\\\"https://github.com/therewasaguy/p5.sound/\\\">GitHub</a>.\\n *  Download the latest version\\n *  <a href=\\\"https://github.com/therewasaguy/p5.sound/blob/master/lib/p5.sound.js\\\">here</a>.\\n *\\n *  @module p5.sound\\n *  @submodule p5.sound\\n *  @for p5.sound\\n *  @main\\n */\\n\\n/**\\n *  p5.sound\\n *  https://p5js.org/reference/#/libraries/p5.sound\\n *\\n *  From the Processing Foundation and contributors\\n *  https://github.com/processing/p5.js-sound/graphs/contributors\\n *\\n *  MIT License (MIT)\\n *  https://github.com/processing/p5.js-sound/blob/master/LICENSE\\n *\\n *  Some of the many audio libraries & resources that inspire p5.sound:\\n *   - TONE.js (c) Yotam Mann. Licensed under The MIT License (MIT). https://github.com/TONEnoTONE/Tone.js\\n *   - buzz.js (c) Jay Salvat. Licensed under The MIT License (MIT). http://buzz.jaysalvat.com/\\n *   - Boris Smus Web Audio API book, 2013. Licensed under the Apache License http://www.apache.org/licenses/LICENSE-2.0\\n *   - wavesurfer.js https://github.com/katspaugh/wavesurfer.js\\n *   - Web Audio Components by Jordan Santell https://github.com/web-audio-components\\n *   - Wilm Thoben's Sound library for Processing https://github.com/processing/processing/tree/master/java/libraries/sound\\n *\\n *   Web Audio API: http://w3.org/TR/webaudio/\\n */\\n\\n(function (root, factory) {\\n  if (typeof define === 'function' && define.amd)\\n    define('p5.sound', ['p5'], function (p5) { (factory(p5));});\\n  else if (typeof exports === 'object')\\n    factory(require('../p5'));\\n  else\\n    factory(root['p5']);\\n}(this, function (p5) {\\n\\nvar sndcore;\\n'use strict';\\nsndcore = function () {\\n  /* AudioContext Monkeypatch\\n     Copyright 2013 Chris Wilson\\n     Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n     you may not use this file except in compliance with the License.\\n     You may obtain a copy of the License at\\n         http://www.apache.org/licenses/LICENSE-2.0\\n     Unless required by applicable law or agreed to in writing, software\\n     distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n     See the License for the specific language governing permissions and\\n     limitations under the License.\\n  */\\n  (function () {\\n    function fixSetTarget(param) {\\n      if (!param)\\n        // if NYI, just return\\n        return;\\n      if (!param.setTargetAtTime)\\n        param.setTargetAtTime = param.setTargetValueAtTime;\\n    }\\n    if (window.hasOwnProperty('webkitAudioContext') && !window.hasOwnProperty('AudioContext')) {\\n      window.AudioContext = window.webkitAudioContext;\\n      if (typeof AudioContext.prototype.createGain !== 'function')\\n        AudioContext.prototype.createGain = AudioContext.prototype.createGainNode;\\n      if (typeof AudioContext.prototype.createDelay !== 'function')\\n        AudioContext.prototype.createDelay = AudioContext.prototype.createDelayNode;\\n      if (typeof AudioContext.prototype.createScriptProcessor !== 'function')\\n        AudioContext.prototype.createScriptProcessor = AudioContext.prototype.createJavaScriptNode;\\n      if (typeof AudioContext.prototype.createPeriodicWave !== 'function')\\n        AudioContext.prototype.createPeriodicWave = AudioContext.prototype.createWaveTable;\\n      AudioContext.prototype.internal_createGain = AudioContext.prototype.createGain;\\n      AudioContext.prototype.createGain = function () {\\n        var node = this.internal_createGain();\\n        fixSetTarget(node.gain);\\n        return node;\\n      };\\n      AudioContext.prototype.internal_createDelay = AudioContext.prototype.createDelay;\\n      AudioContext.prototype.createDelay = function (maxDelayTime) {\\n        var node = maxDelayTime ? this.internal_createDelay(maxDelayTime) : this.internal_createDelay();\\n        fixSetTarget(node.delayTime);\\n        return node;\\n      };\\n      AudioContext.prototype.internal_createBufferSource = AudioContext.prototype.createBufferSource;\\n      AudioContext.prototype.createBufferSource = function () {\\n        var node = this.internal_createBufferSource();\\n        if (!node.start) {\\n          node.start = function (when, offset, duration) {\\n            if (offset || duration)\\n              this.noteGrainOn(when || 0, offset, duration);\\n            else\\n              this.noteOn(when || 0);\\n          };\\n        } else {\\n          node.internal_start = node.start;\\n          node.start = function (when, offset, duration) {\\n            if (typeof duration !== 'undefined')\\n              node.internal_start(when || 0, offset, duration);\\n            else\\n              node.internal_start(when || 0, offset || 0);\\n          };\\n        }\\n        if (!node.stop) {\\n          node.stop = function (when) {\\n            this.noteOff(when || 0);\\n          };\\n        } else {\\n          node.internal_stop = node.stop;\\n          node.stop = function (when) {\\n            node.internal_stop(when || 0);\\n          };\\n        }\\n        fixSetTarget(node.playbackRate);\\n        return node;\\n      };\\n      AudioContext.prototype.internal_createDynamicsCompressor = AudioContext.prototype.createDynamicsCompressor;\\n      AudioContext.prototype.createDynamicsCompressor = function () {\\n        var node = this.internal_createDynamicsCompressor();\\n        fixSetTarget(node.threshold);\\n        fixSetTarget(node.knee);\\n        fixSetTarget(node.ratio);\\n        fixSetTarget(node.reduction);\\n        fixSetTarget(node.attack);\\n        fixSetTarget(node.release);\\n        return node;\\n      };\\n      AudioContext.prototype.internal_createBiquadFilter = AudioContext.prototype.createBiquadFilter;\\n      AudioContext.prototype.createBiquadFilter = function () {\\n        var node = this.internal_createBiquadFilter();\\n        fixSetTarget(node.frequency);\\n        fixSetTarget(node.detune);\\n        fixSetTarget(node.Q);\\n        fixSetTarget(node.gain);\\n        return node;\\n      };\\n      if (typeof AudioContext.prototype.createOscillator !== 'function') {\\n        AudioContext.prototype.internal_createOscillator = AudioContext.prototype.createOscillator;\\n        AudioContext.prototype.createOscillator = function () {\\n          var node = this.internal_createOscillator();\\n          if (!node.start) {\\n            node.start = function (when) {\\n              this.noteOn(when || 0);\\n            };\\n          } else {\\n            node.internal_start = node.start;\\n            node.start = function (when) {\\n              node.internal_start(when || 0);\\n            };\\n          }\\n          if (!node.stop) {\\n            node.stop = function (when) {\\n              this.noteOff(when || 0);\\n            };\\n          } else {\\n            node.internal_stop = node.stop;\\n            node.stop = function (when) {\\n              node.internal_stop(when || 0);\\n            };\\n          }\\n          if (!node.setPeriodicWave)\\n            node.setPeriodicWave = node.setWaveTable;\\n          fixSetTarget(node.frequency);\\n          fixSetTarget(node.detune);\\n          return node;\\n        };\\n      }\\n    }\\n    if (window.hasOwnProperty('webkitOfflineAudioContext') && !window.hasOwnProperty('OfflineAudioContext')) {\\n      window.OfflineAudioContext = window.webkitOfflineAudioContext;\\n    }\\n  }(window));\\n  // <-- end MonkeyPatch.\\n  // Create the Audio Context\\n  var audiocontext = new window.AudioContext();\\n  /**\\n   * <p>Returns the Audio Context for this sketch. Useful for users\\n   * who would like to dig deeper into the <a target='_blank' href=\\n   * 'http://webaudio.github.io/web-audio-api/'>Web Audio API\\n   * </a>.</p>\\n   *\\n   * @method getAudioContext\\n   * @return {Object}    AudioContext for this sketch\\n   */\\n  p5.prototype.getAudioContext = function () {\\n    return audiocontext;\\n  };\\n  // Polyfill for AudioIn, also handled by p5.dom createCapture\\n  navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;\\n  /**\\n   * Determine which filetypes are supported (inspired by buzz.js)\\n   * The audio element (el) will only be used to test browser support for various audio formats\\n   */\\n  var el = document.createElement('audio');\\n  p5.prototype.isSupported = function () {\\n    return !!el.canPlayType;\\n  };\\n  var isOGGSupported = function () {\\n    return !!el.canPlayType && el.canPlayType('audio/ogg; codecs=\\\"vorbis\\\"');\\n  };\\n  var isMP3Supported = function () {\\n    return !!el.canPlayType && el.canPlayType('audio/mpeg;');\\n  };\\n  var isWAVSupported = function () {\\n    return !!el.canPlayType && el.canPlayType('audio/wav; codecs=\\\"1\\\"');\\n  };\\n  var isAACSupported = function () {\\n    return !!el.canPlayType && (el.canPlayType('audio/x-m4a;') || el.canPlayType('audio/aac;'));\\n  };\\n  var isAIFSupported = function () {\\n    return !!el.canPlayType && el.canPlayType('audio/x-aiff;');\\n  };\\n  p5.prototype.isFileSupported = function (extension) {\\n    switch (extension.toLowerCase()) {\\n    case 'mp3':\\n      return isMP3Supported();\\n    case 'wav':\\n      return isWAVSupported();\\n    case 'ogg':\\n      return isOGGSupported();\\n    case 'aac':\\n    case 'm4a':\\n    case 'mp4':\\n      return isAACSupported();\\n    case 'aif':\\n    case 'aiff':\\n      return isAIFSupported();\\n    default:\\n      return false;\\n    }\\n  };\\n  // if it is iOS, we have to have a user interaction to start Web Audio\\n  // http://paulbakaus.com/tutorials/html5/web-audio-on-ios/\\n  var iOS = navigator.userAgent.match(/(iPad|iPhone|iPod)/g) ? true : false;\\n  if (iOS) {\\n    var iosStarted = false;\\n    var startIOS = function () {\\n      if (iosStarted)\\n        return;\\n      // create empty buffer\\n      var buffer = audiocontext.createBuffer(1, 1, 22050);\\n      var source = audiocontext.createBufferSource();\\n      source.buffer = buffer;\\n      // connect to output (your speakers)\\n      source.connect(audiocontext.destination);\\n      // play the file\\n      source.start(0);\\n      console.log('start ios!');\\n      if (audiocontext.state === 'running') {\\n        iosStarted = true;\\n      }\\n    };\\n    document.addEventListener('touchend', startIOS, false);\\n    document.addEventListener('touchstart', startIOS, false);\\n  }\\n}();\\nvar master;\\n'use strict';\\nmaster = function () {\\n  /**\\n   * Master contains AudioContext and the master sound output.\\n   */\\n  var Master = function () {\\n    var audiocontext = p5.prototype.getAudioContext();\\n    this.input = audiocontext.createGain();\\n    this.output = audiocontext.createGain();\\n    //put a hard limiter on the output\\n    this.limiter = audiocontext.createDynamicsCompressor();\\n    this.limiter.threshold.value = 0;\\n    this.limiter.ratio.value = 20;\\n    this.audiocontext = audiocontext;\\n    this.output.disconnect();\\n    // connect input to limiter\\n    this.input.connect(this.limiter);\\n    // connect limiter to output\\n    this.limiter.connect(this.output);\\n    // meter is just for global Amplitude / FFT analysis\\n    this.meter = audiocontext.createGain();\\n    this.fftMeter = audiocontext.createGain();\\n    this.output.connect(this.meter);\\n    this.output.connect(this.fftMeter);\\n    // connect output to destination\\n    this.output.connect(this.audiocontext.destination);\\n    // an array of all sounds in the sketch\\n    this.soundArray = [];\\n    // an array of all musical parts in the sketch\\n    this.parts = [];\\n    // file extensions to search for\\n    this.extensions = [];\\n  };\\n  // create a single instance of the p5Sound / master output for use within this sketch\\n  var p5sound = new Master();\\n  /**\\n   * Returns a number representing the master amplitude (volume) for sound\\n   * in this sketch.\\n   *\\n   * @method getMasterVolume\\n   * @return {Number} Master amplitude (volume) for sound in this sketch.\\n   *                  Should be between 0.0 (silence) and 1.0.\\n   */\\n  p5.prototype.getMasterVolume = function () {\\n    return p5sound.output.gain.value;\\n  };\\n  /**\\n   *  <p>Scale the output of all sound in this sketch</p>\\n   *  Scaled between 0.0 (silence) and 1.0 (full volume).\\n   *  1.0 is the maximum amplitude of a digital sound, so multiplying\\n   *  by greater than 1.0 may cause digital distortion. To\\n   *  fade, provide a <code>rampTime</code> parameter. For more\\n   *  complex fades, see the Env class.\\n   *\\n   *  Alternately, you can pass in a signal source such as an\\n   *  oscillator to modulate the amplitude with an audio signal.\\n   *\\n   *  <p><b>How This Works</b>: When you load the p5.sound module, it\\n   *  creates a single instance of p5sound. All sound objects in this\\n   *  module output to p5sound before reaching your computer's output.\\n   *  So if you change the amplitude of p5sound, it impacts all of the\\n   *  sound in this module.</p>\\n   *\\n   *  <p>If no value is provided, returns a Web Audio API Gain Node</p>\\n   *\\n   *  @method  masterVolume\\n   *  @param {Number|Object} volume  Volume (amplitude) between 0.0\\n   *                                     and 1.0 or modulating signal/oscillator\\n   *  @param {Number} [rampTime]  Fade for t seconds\\n   *  @param {Number} [timeFromNow]  Schedule this event to happen at\\n   *                                 t seconds in the future\\n   */\\n  p5.prototype.masterVolume = function (vol, rampTime, tFromNow) {\\n    if (typeof vol === 'number') {\\n      var rampTime = rampTime || 0;\\n      var tFromNow = tFromNow || 0;\\n      var now = p5sound.audiocontext.currentTime;\\n      var currentVol = p5sound.output.gain.value;\\n      p5sound.output.gain.cancelScheduledValues(now + tFromNow);\\n      p5sound.output.gain.linearRampToValueAtTime(currentVol, now + tFromNow);\\n      p5sound.output.gain.linearRampToValueAtTime(vol, now + tFromNow + rampTime);\\n    } else if (vol) {\\n      vol.connect(p5sound.output.gain);\\n    } else {\\n      // return the Gain Node\\n      return p5sound.output.gain;\\n    }\\n  };\\n  /**\\n   *  `p5.soundOut` is the p5.sound master output. It sends output to\\n   *  the destination of this window's web audio context. It contains\\n   *  Web Audio API nodes including a dyanmicsCompressor (<code>.limiter</code>),\\n   *  and Gain Nodes for <code>.input</code> and <code>.output</code>.\\n   *\\n   *  @property {Object} soundOut\\n   */\\n  p5.prototype.soundOut = p5.soundOut = p5sound;\\n  /**\\n   *  a silent connection to the DesinationNode\\n   *  which will ensure that anything connected to it\\n   *  will not be garbage collected\\n   *\\n   *  @private\\n   */\\n  p5.soundOut._silentNode = p5sound.audiocontext.createGain();\\n  p5.soundOut._silentNode.gain.value = 0;\\n  p5.soundOut._silentNode.connect(p5sound.audiocontext.destination);\\n  return p5sound;\\n}();\\nvar helpers;\\n'use strict';\\nhelpers = function () {\\n  var p5sound = master;\\n  /**\\n   * @for p5\\n   */\\n  /**\\n   * Returns a number representing the sample rate, in samples per second,\\n   * of all sound objects in this audio context. It is determined by the\\n   * sampling rate of your operating system's sound card, and it is not\\n   * currently possile to change.\\n   * It is often 44100, or twice the range of human hearing.\\n   *\\n   * @method sampleRate\\n   * @return {Number} samplerate samples per second\\n   */\\n  p5.prototype.sampleRate = function () {\\n    return p5sound.audiocontext.sampleRate;\\n  };\\n  /**\\n   *  Returns the closest MIDI note value for\\n   *  a given frequency.\\n   *\\n   *  @method freqToMidi\\n   *  @param  {Number} frequency A freqeuncy, for example, the \\\"A\\\"\\n   *                             above Middle C is 440Hz\\n   *  @return {Number}   MIDI note value\\n   */\\n  p5.prototype.freqToMidi = function (f) {\\n    var mathlog2 = Math.log(f / 440) / Math.log(2);\\n    var m = Math.round(12 * mathlog2) + 69;\\n    return m;\\n  };\\n  /**\\n   *  Returns the frequency value of a MIDI note value.\\n   *  General MIDI treats notes as integers where middle C\\n   *  is 60, C# is 61, D is 62 etc. Useful for generating\\n   *  musical frequencies with oscillators.\\n   *\\n   *  @method  midiToFreq\\n   *  @param  {Number} midiNote The number of a MIDI note\\n   *  @return {Number} Frequency value of the given MIDI note\\n   *  @example\\n   *  <div><code>\\n   *  var notes = [60, 64, 67, 72];\\n   *  var i = 0;\\n   *\\n   *  function setup() {\\n   *    osc = new p5.Oscillator('Triangle');\\n   *    osc.start();\\n   *    frameRate(1);\\n   *  }\\n   *\\n   *  function draw() {\\n   *    var freq = midiToFreq(notes[i]);\\n   *    osc.freq(freq);\\n   *    i++;\\n   *    if (i >= notes.length){\\n   *      i = 0;\\n   *    }\\n   *  }\\n   *  </code></div>\\n   */\\n  p5.prototype.midiToFreq = function (m) {\\n    return 440 * Math.pow(2, (m - 69) / 12);\\n  };\\n  /**\\n   *  List the SoundFile formats that you will include. LoadSound\\n   *  will search your directory for these extensions, and will pick\\n   *  a format that is compatable with the client's web browser.\\n   *  <a href=\\\"http://media.io/\\\">Here</a> is a free online file\\n   *  converter.\\n   *\\n   *  @method soundFormats\\n   *  @param {String} [...formats] i.e. 'mp3', 'wav', 'ogg'\\n   *  @example\\n   *  <div><code>\\n   *  function preload() {\\n   *    // set the global sound formats\\n   *    soundFormats('mp3', 'ogg');\\n   *\\n   *    // load either beatbox.mp3, or .ogg, depending on browser\\n   *    mySound = loadSound('assets/beatbox.mp3');\\n   *  }\\n   *\\n   *  function setup() {\\n   *    mySound.play();\\n   *  }\\n   *  </code></div>\\n   */\\n  p5.prototype.soundFormats = function () {\\n    // reset extensions array\\n    p5sound.extensions = [];\\n    // add extensions\\n    for (var i = 0; i < arguments.length; i++) {\\n      arguments[i] = arguments[i].toLowerCase();\\n      if ([\\n          'mp3',\\n          'wav',\\n          'ogg',\\n          'm4a',\\n          'aac'\\n        ].indexOf(arguments[i]) > -1) {\\n        p5sound.extensions.push(arguments[i]);\\n      } else {\\n        throw arguments[i] + ' is not a valid sound format!';\\n      }\\n    }\\n  };\\n  p5.prototype.disposeSound = function () {\\n    for (var i = 0; i < p5sound.soundArray.length; i++) {\\n      p5sound.soundArray[i].dispose();\\n    }\\n  };\\n  // register removeSound to dispose of p5sound SoundFiles, Convolvers,\\n  // Oscillators etc when sketch ends\\n  p5.prototype.registerMethod('remove', p5.prototype.disposeSound);\\n  p5.prototype._checkFileFormats = function (paths) {\\n    var path;\\n    // if path is a single string, check to see if extension is provided\\n    if (typeof paths === 'string') {\\n      path = paths;\\n      // see if extension is provided\\n      var extTest = path.split('.').pop();\\n      // if an extension is provided...\\n      if ([\\n          'mp3',\\n          'wav',\\n          'ogg',\\n          'm4a',\\n          'aac'\\n        ].indexOf(extTest) > -1) {\\n        if (p5.prototype.isFileSupported(extTest)) {\\n          path = path;\\n        } else {\\n          var pathSplit = path.split('.');\\n          var pathCore = pathSplit[pathSplit.length - 1];\\n          for (var i = 0; i < p5sound.extensions.length; i++) {\\n            var extension = p5sound.extensions[i];\\n            var supported = p5.prototype.isFileSupported(extension);\\n            if (supported) {\\n              pathCore = '';\\n              if (pathSplit.length === 2) {\\n                pathCore += pathSplit[0];\\n              }\\n              for (var i = 1; i <= pathSplit.length - 2; i++) {\\n                var p = pathSplit[i];\\n                pathCore += '.' + p;\\n              }\\n              path = pathCore += '.';\\n              path = path += extension;\\n              break;\\n            }\\n          }\\n        }\\n      } else {\\n        for (var i = 0; i < p5sound.extensions.length; i++) {\\n          var extension = p5sound.extensions[i];\\n          var supported = p5.prototype.isFileSupported(extension);\\n          if (supported) {\\n            path = path + '.' + extension;\\n            break;\\n          }\\n        }\\n      }\\n    } else if (typeof paths === 'object') {\\n      for (var i = 0; i < paths.length; i++) {\\n        var extension = paths[i].split('.').pop();\\n        var supported = p5.prototype.isFileSupported(extension);\\n        if (supported) {\\n          // console.log('.'+extension + ' is ' + supported +\\n          //  ' supported by your browser.');\\n          path = paths[i];\\n          break;\\n        }\\n      }\\n    }\\n    return path;\\n  };\\n  /**\\n   *  Used by Osc and Env to chain signal math\\n   */\\n  p5.prototype._mathChain = function (o, math, thisChain, nextChain, type) {\\n    // if this type of math already exists in the chain, replace it\\n    for (var i in o.mathOps) {\\n      if (o.mathOps[i] instanceof type) {\\n        o.mathOps[i].dispose();\\n        thisChain = i;\\n        if (thisChain < o.mathOps.length - 1) {\\n          nextChain = o.mathOps[i + 1];\\n        }\\n      }\\n    }\\n    o.mathOps[thisChain - 1].disconnect();\\n    o.mathOps[thisChain - 1].connect(math);\\n    math.connect(nextChain);\\n    o.mathOps[thisChain] = math;\\n    return o;\\n  };\\n  return { midiToFreq: p5.prototype.midiToFreq };\\n}(master);\\nvar errorHandler;\\n'use strict';\\nerrorHandler = function () {\\n  /*\\n      Helper function to generate an error\\n      with a custom stack trace that points to the sketch\\n      and removes other parts of the stack trace.\\n\\n      @private\\n      @class customError\\n      @constructor\\n      @param  {String} name         custom  error name\\n      @param  {String} errorTrace   custom error trace\\n      @param  {String} failedPath     path to the file that failed to load\\n      @property {String} name custom error name\\n      @property {String} message custom error message\\n      @property {String} stack trace the error back to a line in the user's sketch.\\n                               Note: this edits out stack trace within p5.js and p5.sound.\\n      @property {String} originalStack unedited, original stack trace\\n      @property {String} failedPath path to the file that failed to load\\n      @return {Error}     returns a custom Error object\\n     */\\n  var CustomError = function (name, errorTrace, failedPath) {\\n    var err = new Error();\\n    var tempStack, splitStack;\\n    err.name = name;\\n    err.originalStack = err.stack + errorTrace;\\n    tempStack = err.stack + errorTrace;\\n    err.failedPath = failedPath;\\n    // only print the part of the stack trace that refers to the user code:\\n    var splitStack = tempStack.split('\\\\n');\\n    splitStack = splitStack.filter(function (ln) {\\n      return !ln.match(/(p5.|native code|globalInit)/g);\\n    });\\n    err.stack = splitStack.join('\\\\n');\\n    return err;\\n  };\\n  return CustomError;\\n}();\\nvar panner;\\n'use strict';\\npanner = function () {\\n  var p5sound = master;\\n  var ac = p5sound.audiocontext;\\n  // Stereo panner\\n  // if there is a stereo panner node use it\\n  if (typeof ac.createStereoPanner !== 'undefined') {\\n    p5.Panner = function (input, output) {\\n      this.stereoPanner = this.input = ac.createStereoPanner();\\n      input.connect(this.stereoPanner);\\n      this.stereoPanner.connect(output);\\n    };\\n    p5.Panner.prototype.pan = function (val, tFromNow) {\\n      var time = tFromNow || 0;\\n      var t = ac.currentTime + time;\\n      this.stereoPanner.pan.linearRampToValueAtTime(val, t);\\n    };\\n    //not implemented because stereopanner\\n    //node does not require this and will automatically\\n    //convert single channel or multichannel to stereo.\\n    //tested with single and stereo, not with (>2) multichannel\\n    p5.Panner.prototype.inputChannels = function () {\\n    };\\n    p5.Panner.prototype.connect = function (obj) {\\n      this.stereoPanner.connect(obj);\\n    };\\n    p5.Panner.prototype.disconnect = function () {\\n      this.stereoPanner.disconnect();\\n    };\\n  } else {\\n    // if there is no createStereoPanner object\\n    // such as in safari 7.1.7 at the time of writing this\\n[end of p5.sound.js]\\n[start of prettify.js]\\n    * @param {Array} fallthroughStylePatterns patterns that will be tried in\\n    *   order if the shortcut ones fail.  May have shortcuts.\\n    *\\n    * @return {function (Object)} a\\n    *   function that takes source code and returns a list of decorations.\\n    */\\n  function createSimpleLexer(shortcutStylePatterns, fallthroughStylePatterns) {\\n    var shortcuts = {};\\n    var tokenizer;\\n    (function () {\\n      var allPatterns = shortcutStylePatterns.concat(fallthroughStylePatterns);\\n      var allRegexs = [];\\n      var regexKeys = {};\\n      for (var i = 0, n = allPatterns.length; i < n; ++i) {\\n        var patternParts = allPatterns[i];\\n        var shortcutChars = patternParts[3];\\n        if (shortcutChars) {\\n          for (var c = shortcutChars.length; --c >= 0;) {\\n            shortcuts[shortcutChars.charAt(c)] = patternParts;\\n          }\\n        }\\n        var regex = patternParts[1];\\n        var k = '' + regex;\\n        if (!regexKeys.hasOwnProperty(k)) {\\n          allRegexs.push(regex);\\n          regexKeys[k] = null;\\n        }\\n      }\\n      allRegexs.push(/[\\\\0-\\\\uffff]/);\\n      tokenizer = combinePrefixPatterns(allRegexs);\\n    })();\\n\\n    var nPatterns = fallthroughStylePatterns.length;\\n\\n    /**\\n     * Lexes job.sourceCode and produces an output array job.decorations of\\n     * style classes preceded by the position at which they start in\\n     * job.sourceCode in order.\\n     *\\n     * @param {Object} job an object like <pre>{\\n     *    sourceCode: {string} sourceText plain text,\\n     *    basePos: {int} position of job.sourceCode in the larger chunk of\\n     *        sourceCode.\\n     * }</pre>\\n     */\\n    var decorate = function (job) {\\n      var sourceCode = job.sourceCode, basePos = job.basePos;\\n      /** Even entries are positions in source in ascending order.  Odd enties\\n        * are style markers (e.g., PR_COMMENT) that run from that position until\\n        * the end.\\n        * @type {Array.<number|string>}\\n        */\\n      var decorations = [basePos, PR_PLAIN];\\n      var pos = 0;  // index into sourceCode\\n      var tokens = sourceCode.match(tokenizer) || [];\\n      var styleCache = {};\\n\\n      for (var ti = 0, nTokens = tokens.length; ti < nTokens; ++ti) {\\n        var token = tokens[ti];\\n        var style = styleCache[token];\\n        var match = void 0;\\n\\n        var isEmbedded;\\n        if (typeof style === 'string') {\\n          isEmbedded = false;\\n        } else {\\n          var patternParts = shortcuts[token.charAt(0)];\\n          if (patternParts) {\\n            match = token.match(patternParts[1]);\\n            style = patternParts[0];\\n          } else {\\n            for (var i = 0; i < nPatterns; ++i) {\\n              patternParts = fallthroughStylePatterns[i];\\n              match = token.match(patternParts[1]);\\n              if (match) {\\n                style = patternParts[0];\\n                break;\\n              }\\n            }\\n\\n            if (!match) {  // make sure that we make progress\\n              style = PR_PLAIN;\\n            }\\n          }\\n\\n          isEmbedded = style.length >= 5 && 'lang-' === style.substring(0, 5);\\n          if (isEmbedded && !(match && typeof match[1] === 'string')) {\\n            isEmbedded = false;\\n            style = PR_SOURCE;\\n          }\\n\\n          if (!isEmbedded) { styleCache[token] = style; }\\n        }\\n\\n        var tokenStart = pos;\\n        pos += token.length;\\n\\n        if (!isEmbedded) {\\n          decorations.push(basePos + tokenStart, style);\\n        } else {  // Treat group 1 as an embedded block of source code.\\n          var embeddedSource = match[1];\\n          var embeddedSourceStart = token.indexOf(embeddedSource);\\n          var embeddedSourceEnd = embeddedSourceStart + embeddedSource.length;\\n          if (match[2]) {\\n            // If embeddedSource can be blank, then it would match at the\\n            // beginning which would cause us to infinitely recurse on the\\n            // entire token, so we catch the right context in match[2].\\n            embeddedSourceEnd = token.length - match[2].length;\\n            embeddedSourceStart = embeddedSourceEnd - embeddedSource.length;\\n          }\\n          var lang = style.substring(5);\\n          // Decorate the left of the embedded source\\n          appendDecorations(\\n              basePos + tokenStart,\\n              token.substring(0, embeddedSourceStart),\\n              decorate, decorations);\\n          // Decorate the embedded source\\n          appendDecorations(\\n              basePos + tokenStart + embeddedSourceStart,\\n              embeddedSource,\\n              langHandlerForExtension(lang, embeddedSource),\\n              decorations);\\n          // Decorate the right of the embedded section\\n          appendDecorations(\\n              basePos + tokenStart + embeddedSourceEnd,\\n              token.substring(embeddedSourceEnd),\\n              decorate, decorations);\\n        }\\n      }\\n      job.decorations = decorations;\\n    };\\n    return decorate;\\n  }\\n\\n  /** returns a function that produces a list of decorations from source text.\\n    *\\n    * This code treats \\\", ', and ` as string delimiters, and \\\\ as a string\\n    * escape.  It does not recognize perl's qq() style strings.\\n    * It has no special handling for double delimiter escapes as in basic, or\\n    * the tripled delimiters used in python, but should work on those regardless\\n    * although in those cases a single string literal may be broken up into\\n    * multiple adjacent string literals.\\n    *\\n    * It recognizes C, C++, and shell style comments.\\n    *\\n    * @param {Object} options a set of optional parameters.\\n    * @return {function (Object)} a function that examines the source code\\n    *     in the input job and builds the decoration list.\\n    */\\n  function sourceDecorator(options) {\\n    var shortcutStylePatterns = [], fallthroughStylePatterns = [];\\n    if (options['tripleQuotedStrings']) {\\n      // '''multi-line-string''', 'single-line-string', and double-quoted\\n      shortcutStylePatterns.push(\\n          [PR_STRING,  /^(?:\\\\'\\\\'\\\\'(?:[^\\\\'\\\\\\\\]|\\\\\\\\[\\\\s\\\\S]|\\\\'{1,2}(?=[^\\\\']))*(?:\\\\'\\\\'\\\\'|$)|\\\\\\\"\\\\\\\"\\\\\\\"(?:[^\\\\\\\"\\\\\\\\]|\\\\\\\\[\\\\s\\\\S]|\\\\\\\"{1,2}(?=[^\\\\\\\"]))*(?:\\\\\\\"\\\\\\\"\\\\\\\"|$)|\\\\'(?:[^\\\\\\\\\\\\']|\\\\\\\\[\\\\s\\\\S])*(?:\\\\'|$)|\\\\\\\"(?:[^\\\\\\\\\\\\\\\"]|\\\\\\\\[\\\\s\\\\S])*(?:\\\\\\\"|$))/,\\n           null, '\\\\'\\\"']);\\n    } else if (options['multiLineStrings']) {\\n      // 'multi-line-string', \\\"multi-line-string\\\"\\n      shortcutStylePatterns.push(\\n          [PR_STRING,  /^(?:\\\\'(?:[^\\\\\\\\\\\\']|\\\\\\\\[\\\\s\\\\S])*(?:\\\\'|$)|\\\\\\\"(?:[^\\\\\\\\\\\\\\\"]|\\\\\\\\[\\\\s\\\\S])*(?:\\\\\\\"|$)|\\\\`(?:[^\\\\\\\\\\\\`]|\\\\\\\\[\\\\s\\\\S])*(?:\\\\`|$))/,\\n           null, '\\\\'\\\"`']);\\n    } else {\\n      // 'single-line-string', \\\"single-line-string\\\"\\n      shortcutStylePatterns.push(\\n          [PR_STRING,\\n           /^(?:\\\\'(?:[^\\\\\\\\\\\\'\\\\r\\\\n]|\\\\\\\\.)*(?:\\\\'|$)|\\\\\\\"(?:[^\\\\\\\\\\\\\\\"\\\\r\\\\n]|\\\\\\\\.)*(?:\\\\\\\"|$))/,\\n           null, '\\\"\\\\'']);\\n    }\\n    if (options['verbatimStrings']) {\\n      // verbatim-string-literal production from the C# grammar.  See issue 93.\\n      fallthroughStylePatterns.push(\\n          [PR_STRING, /^@\\\\\\\"(?:[^\\\\\\\"]|\\\\\\\"\\\\\\\")*(?:\\\\\\\"|$)/, null]);\\n    }\\n    var hc = options['hashComments'];\\n    if (hc) {\\n      if (options['cStyleComments']) {\\n        if (hc > 1) {  // multiline hash comments\\n          shortcutStylePatterns.push(\\n              [PR_COMMENT, /^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/, null, '#']);\\n        } else {\\n          // Stop C preprocessor declarations at an unclosed open comment\\n          shortcutStylePatterns.push(\\n              [PR_COMMENT, /^#(?:(?:define|e(?:l|nd)if|else|error|ifn?def|include|line|pragma|undef|warning)\\\\b|[^\\\\r\\\\n]*)/,\\n               null, '#']);\\n        }\\n        // #include <stdio.h>\\n        fallthroughStylePatterns.push(\\n            [PR_STRING,\\n             /^<(?:(?:(?:\\\\.\\\\.\\\\/)*|\\\\/?)(?:[\\\\w-]+(?:\\\\/[\\\\w-]+)+)?[\\\\w-]+\\\\.h(?:h|pp|\\\\+\\\\+)?|[a-z]\\\\w*)>/,\\n             null]);\\n      } else {\\n        shortcutStylePatterns.push([PR_COMMENT, /^#[^\\\\r\\\\n]*/, null, '#']);\\n      }\\n    }\\n    if (options['cStyleComments']) {\\n      fallthroughStylePatterns.push([PR_COMMENT, /^\\\\/\\\\/[^\\\\r\\\\n]*/, null]);\\n      fallthroughStylePatterns.push(\\n          [PR_COMMENT, /^\\\\/\\\\*[\\\\s\\\\S]*?(?:\\\\*\\\\/|$)/, null]);\\n    }\\n    var regexLiterals = options['regexLiterals'];\\n    if (regexLiterals) {\\n      /**\\n       * @const\\n       */\\n      var regexExcls = regexLiterals > 1\\n        ? ''  // Multiline regex literals\\n        : '\\\\n\\\\r';\\n      /**\\n       * @const\\n       */\\n      var regexAny = regexExcls ? '.' : '[\\\\\\\\S\\\\\\\\s]';\\n      /**\\n       * @const\\n       */\\n      var REGEX_LITERAL = (\\n          // A regular expression literal starts with a slash that is\\n          // not followed by * or / so that it is not confused with\\n          // comments.\\n          '/(?=[^/*' + regexExcls + '])'\\n          // and then contains any number of raw characters,\\n          + '(?:[^/\\\\\\\\x5B\\\\\\\\x5C' + regexExcls + ']'\\n          // escape sequences (\\\\x5C),\\n          +    '|\\\\\\\\x5C' + regexAny\\n          // or non-nesting character sets (\\\\x5B\\\\x5D);\\n          +    '|\\\\\\\\x5B(?:[^\\\\\\\\x5C\\\\\\\\x5D' + regexExcls + ']'\\n          +             '|\\\\\\\\x5C' + regexAny + ')*(?:\\\\\\\\x5D|$))+'\\n          // finally closed by a /.\\n          + '/');\\n      fallthroughStylePatterns.push(\\n          ['lang-regex',\\n           RegExp('^' + REGEXP_PRECEDER_PATTERN + '(' + REGEX_LITERAL + ')')\\n           ]);\\n    }\\n\\n    var types = options['types'];\\n    if (types) {\\n      fallthroughStylePatterns.push([PR_TYPE, types]);\\n    }\\n\\n    var keywords = (\\\"\\\" + options['keywords']).replace(/^ | $/g, '');\\n    if (keywords.length) {\\n      fallthroughStylePatterns.push(\\n          [PR_KEYWORD,\\n           new RegExp('^(?:' + keywords.replace(/[\\\\s,]+/g, '|') + ')\\\\\\\\b'),\\n           null]);\\n    }\\n\\n    shortcutStylePatterns.push([PR_PLAIN,       /^\\\\s+/, null, ' \\\\r\\\\n\\\\t\\\\xA0']);\\n\\n    var punctuation =\\n      // The Bash man page says\\n\\n      // A word is a sequence of characters considered as a single\\n      // unit by GRUB. Words are separated by metacharacters,\\n      // which are the following plus space, tab, and newline: { }\\n      // | & $ ; < >\\n      // ...\\n      \\n      // A word beginning with # causes that word and all remaining\\n      // characters on that line to be ignored.\\n\\n      // which means that only a '#' after /(?:^|[{}|&$;<>\\\\s])/ starts a\\n      // comment but empirically\\n      // $ echo {#}\\n      // {#}\\n      // $ echo \\\\$#\\n      // $#\\n      // $ echo }#\\n      // }#\\n\\n      // so /(?:^|[|&;<>\\\\s])/ is more appropriate.\\n\\n      // http://gcc.gnu.org/onlinedocs/gcc-2.95.3/cpp_1.html#SEC3\\n      // suggests that this definition is compatible with a\\n      // default mode that tries to use a single token definition\\n      // to recognize both bash/python style comments and C\\n      // preprocessor directives.\\n\\n      // This definition of punctuation does not include # in the list of\\n      // follow-on exclusions, so # will not be broken before if preceeded\\n      // by a punctuation character.  We could try to exclude # after\\n      // [|&;<>] but that doesn't seem to cause many major problems.\\n      // If that does turn out to be a problem, we should change the below\\n      // when hc is truthy to include # in the run of punctuation characters\\n      // only when not followint [|&;<>].\\n      '^.[^\\\\\\\\s\\\\\\\\w.$@\\\\'\\\"`/\\\\\\\\\\\\\\\\]*';\\n    if (options['regexLiterals']) {\\n      punctuation += '(?!\\\\s*\\\\/)';\\n    }\\n\\n    fallthroughStylePatterns.push(\\n        // TODO(mikesamuel): recognize non-latin letters and numerals in idents\\n        [PR_LITERAL,     /^@[a-z_$][a-z_$@0-9]*/i, null],\\n        [PR_TYPE,        /^(?:[@_]?[A-Z]+[a-z][A-Za-z_$@0-9]*|\\\\w+_t\\\\b)/, null],\\n        [PR_PLAIN,       /^[a-z_$][a-z_$@0-9]*/i, null],\\n        [PR_LITERAL,\\n         new RegExp(\\n             '^(?:'\\n             // A hex number\\n             + '0x[a-f0-9]+'\\n             // or an octal or decimal number,\\n             + '|(?:\\\\\\\\d(?:_\\\\\\\\d+)*\\\\\\\\d*(?:\\\\\\\\.\\\\\\\\d*)?|\\\\\\\\.\\\\\\\\d\\\\\\\\+)'\\n             // possibly in scientific notation\\n             + '(?:e[+\\\\\\\\-]?\\\\\\\\d+)?'\\n             + ')'\\n             // with an optional modifier like UL for unsigned long\\n             + '[a-z]*', 'i'),\\n         null, '0123456789'],\\n        // Don't treat escaped quotes in bash as starting strings.\\n        // See issue 144.\\n        [PR_PLAIN,       /^\\\\\\\\[\\\\s\\\\S]?/, null],\\n        [PR_PUNCTUATION, new RegExp(punctuation), null]);\\n\\n    return createSimpleLexer(shortcutStylePatterns, fallthroughStylePatterns);\\n  }\\n\\n  var decorateSource = sourceDecorator({\\n        'keywords': ALL_KEYWORDS,\\n        'hashComments': true,\\n        'cStyleComments': true,\\n        'multiLineStrings': true,\\n        'regexLiterals': true\\n      });\\n\\n  /**\\n   * Given a DOM subtree, wraps it in a list, and puts each line into its own\\n   * list item.\\n   *\\n   * @param {Node} node modified in place.  Its content is pulled into an\\n   *     HTMLOListElement, and each line is moved into a separate list item.\\n   *     This requires cloning elements, so the input might not have unique\\n   *     IDs after numbering.\\n   * @param {boolean} isPreformatted true iff white-space in text nodes should\\n   *     be treated as significant.\\n   */\\n  function numberLines(node, opt_startLineNum, isPreformatted) {\\n    var nocode = /(?:^|\\\\s)nocode(?:\\\\s|$)/;\\n    var lineBreak = /\\\\r\\\\n?|\\\\n/;\\n  \\n    var document = node.ownerDocument;\\n  \\n    var li = document.createElement('li');\\n    while (node.firstChild) {\\n      li.appendChild(node.firstChild);\\n    }\\n    // An array of lines.  We split below, so this is initialized to one\\n    // un-split line.\\n    var listItems = [li];\\n  \\n    function walk(node) {\\n      var type = node.nodeType;\\n      if (type == 1 && !nocode.test(node.className)) {  // Element\\n        if ('br' === node.nodeName) {\\n          breakAfter(node);\\n          // Discard the <BR> since it is now flush against a </LI>.\\n          if (node.parentNode) {\\n            node.parentNode.removeChild(node);\\n          }\\n        } else {\\n          for (var child = node.firstChild; child; child = child.nextSibling) {\\n            walk(child);\\n          }\\n        }\\n      } else if ((type == 3 || type == 4) && isPreformatted) {  // Text\\n        var text = node.nodeValue;\\n        var match = text.match(lineBreak);\\n        if (match) {\\n          var firstLine = text.substring(0, match.index);\\n          node.nodeValue = firstLine;\\n          var tail = text.substring(match.index + match[0].length);\\n          if (tail) {\\n            var parent = node.parentNode;\\n            parent.insertBefore(\\n              document.createTextNode(tail), node.nextSibling);\\n          }\\n          breakAfter(node);\\n          if (!firstLine) {\\n            // Don't leave blank text nodes in the DOM.\\n            node.parentNode.removeChild(node);\\n          }\\n        }\\n      }\\n    }\\n  \\n    // Split a line after the given node.\\n    function breakAfter(lineEndNode) {\\n      // If there's nothing to the right, then we can skip ending the line\\n      // here, and move root-wards since splitting just before an end-tag\\n      // would require us to create a bunch of empty copies.\\n      while (!lineEndNode.nextSibling) {\\n        lineEndNode = lineEndNode.parentNode;\\n        if (!lineEndNode) { return; }\\n      }\\n  \\n      function breakLeftOf(limit, copy) {\\n        // Clone shallowly if this node needs to be on both sides of the break.\\n        var rightSide = copy ? limit.cloneNode(false) : limit;\\n        var parent = limit.parentNode;\\n        if (parent) {\\n          // We clone the parent chain.\\n          // This helps us resurrect important styling elements that cross lines.\\n          // E.g. in <i>Foo<br>Bar</i>\\n          // should be rewritten to <li><i>Foo</i></li><li><i>Bar</i></li>.\\n          var parentClone = breakLeftOf(parent, 1);\\n          // Move the clone and everything to the right of the original\\n          // onto the cloned parent.\\n          var next = limit.nextSibling;\\n          parentClone.appendChild(rightSide);\\n          for (var sibling = next; sibling; sibling = next) {\\n            next = sibling.nextSibling;\\n            parentClone.appendChild(sibling);\\n          }\\n        }\\n        return rightSide;\\n      }\\n  \\n      var copiedListItem = breakLeftOf(lineEndNode.nextSibling, 0);\\n  \\n      // Walk the parent chain until we reach an unattached LI.\\n      for (var parent;\\n           // Check nodeType since IE invents document fragments.\\n           (parent = copiedListItem.parentNode) && parent.nodeType === 1;) {\\n        copiedListItem = parent;\\n      }\\n      // Put it on the list of lines for later processing.\\n      listItems.push(copiedListItem);\\n    }\\n  \\n    // Split lines while there are lines left to split.\\n    for (var i = 0;  // Number of lines that have been split so far.\\n         i < listItems.length;  // length updated by breakAfter calls.\\n         ++i) {\\n      walk(listItems[i]);\\n    }\\n  \\n    // Make sure numeric indices show correctly.\\n    if (opt_startLineNum === (opt_startLineNum|0)) {\\n      listItems[0].setAttribute('value', opt_startLineNum);\\n    }\\n  \\n    var ol = document.createElement('ol');\\n    ol.className = 'linenums';\\n    var offset = Math.max(0, ((opt_startLineNum - 1 /* zero index */)) | 0) || 0;\\n    for (var i = 0, n = listItems.length; i < n; ++i) {\\n      li = listItems[i];\\n      // Stick a class on the LIs so that stylesheets can\\n      // color odd/even rows, or any other row pattern that\\n      // is co-prime with 10.\\n      li.className = 'L' + ((i + offset) % 10);\\n      if (!li.firstChild) {\\n        li.appendChild(document.createTextNode('\\\\xA0'));\\n      }\\n      ol.appendChild(li);\\n    }\\n  \\n    node.appendChild(ol);\\n  }\\n  /**\\n   * Breaks {@code job.sourceCode} around style boundaries in\\n   * {@code job.decorations} and modifies {@code job.sourceNode} in place.\\n   * @param {Object} job like <pre>{\\n   *    sourceCode: {string} source as plain text,\\n   *    sourceNode: {HTMLElement} the element containing the source,\\n   *    spans: {Array.<number|Node>} alternating span start indices into source\\n   *       and the text node or element (e.g. {@code <BR>}) corresponding to that\\n   *       span.\\n   *    decorations: {Array.<number|string} an array of style classes preceded\\n   *       by the position at which they start in job.sourceCode in order\\n   * }</pre>\\n   * @private\\n   */\\n  function recombineTagsAndDecorations(job) {\\n    var isIE8OrEarlier = /\\\\bMSIE\\\\s(\\\\d+)/.exec(navigator.userAgent);\\n    isIE8OrEarlier = isIE8OrEarlier && +isIE8OrEarlier[1] <= 8;\\n    var newlineRe = /\\\\n/g;\\n  \\n    var source = job.sourceCode;\\n    var sourceLength = source.length;\\n    // Index into source after the last code-unit recombined.\\n    var sourceIndex = 0;\\n  \\n    var spans = job.spans;\\n    var nSpans = spans.length;\\n    // Index into spans after the last span which ends at or before sourceIndex.\\n    var spanIndex = 0;\\n  \\n    var decorations = job.decorations;\\n    var nDecorations = decorations.length;\\n    // Index into decorations after the last decoration which ends at or before\\n    // sourceIndex.\\n    var decorationIndex = 0;\\n  \\n    // Remove all zero-length decorations.\\n    decorations[nDecorations] = sourceLength;\\n    var decPos, i;\\n    for (i = decPos = 0; i < nDecorations;) {\\n      if (decorations[i] !== decorations[i + 2]) {\\n        decorations[decPos++] = decorations[i++];\\n        decorations[decPos++] = decorations[i++];\\n      } else {\\n        i += 2;\\n      }\\n    }\\n    nDecorations = decPos;\\n  \\n    // Simplify decorations.\\n    for (i = decPos = 0; i < nDecorations;) {\\n      var startPos = decorations[i];\\n      // Conflate all adjacent decorations that use the same style.\\n      var startDec = decorations[i + 1];\\n      var end = i + 2;\\n      while (end + 2 <= nDecorations && decorations[end + 1] === startDec) {\\n        end += 2;\\n      }\\n      decorations[decPos++] = startPos;\\n      decorations[decPos++] = startDec;\\n      i = end;\\n    }\\n  \\n    nDecorations = decorations.length = decPos;\\n  \\n    var sourceNode = job.sourceNode;\\n    var oldDisplay;\\n    if (sourceNode) {\\n      oldDisplay = sourceNode.style.display;\\n      sourceNode.style.display = 'none';\\n    }\\n    try {\\n      var decoration = null;\\n      while (spanIndex < nSpans) {\\n        var spanStart = spans[spanIndex];\\n        var spanEnd = spans[spanIndex + 2] || sourceLength;\\n  \\n        var decEnd = decorations[decorationIndex + 2] || sourceLength;\\n  \\n        var end = Math.min(spanEnd, decEnd);\\n  \\n        var textNode = spans[spanIndex + 1];\\n        var styledText;\\n        if (textNode.nodeType !== 1  // Don't muck with <BR>s or <LI>s\\n            // Don't introduce spans around empty text nodes.\\n            && (styledText = source.substring(sourceIndex, end))) {\\n          // This may seem bizarre, and it is.  Emitting LF on IE causes the\\n          // code to display with spaces instead of line breaks.\\n          // Emitting Windows standard issue linebreaks (CRLF) causes a blank\\n          // space to appear at the beginning of every line but the first.\\n          // Emitting an old Mac OS 9 line separator makes everything spiffy.\\n          if (isIE8OrEarlier) {\\n            styledText = styledText.replace(newlineRe, '\\\\r');\\n          }\\n          textNode.nodeValue = styledText;\\n          var document = textNode.ownerDocument;\\n          var span = document.createElement('span');\\n          span.className = decorations[decorationIndex + 1];\\n          var parentNode = textNode.parentNode;\\n          parentNode.replaceChild(span, textNode);\\n          span.appendChild(textNode);\\n          if (sourceIndex < spanEnd) {  // Split off a text node.\\n            spans[spanIndex + 1] = textNode\\n                // TODO: Possibly optimize by using '' if there's no flicker.\\n                = document.createTextNode(source.substring(end, spanEnd));\\n            parentNode.insertBefore(textNode, span.nextSibling);\\n          }\\n        }\\n  \\n        sourceIndex = end;\\n  \\n        if (sourceIndex >= spanEnd) {\\n          spanIndex += 2;\\n        }\\n        if (sourceIndex >= decEnd) {\\n          decorationIndex += 2;\\n        }\\n      }\\n    } finally {\\n      if (sourceNode) {\\n        sourceNode.style.display = oldDisplay;\\n      }\\n    }\\n  }\\n\\n  /** Maps language-specific file extensions to handlers. */\\n  var langHandlerRegistry = {};\\n  /** Register a language handler for the given file extensions.\\n    * @param {function (Object)} handler a function from source code to a list\\n    *      of decorations.  Takes a single argument job which describes the\\n    *      state of the computation.   The single parameter has the form\\n    *      {@code {\\n    *        sourceCode: {string} as plain text.\\n    *        decorations: {Array.<number|string>} an array of style classes\\n    *                     preceded by the position at which they start in\\n    *                     job.sourceCode in order.\\n    *                     The language handler should assigned this field.\\n    *        basePos: {int} the position of source in the larger source chunk.\\n    *                 All positions in the output decorations array are relative\\n    *                 to the larger source chunk.\\n    *      } }\\n    * @param {Array.<string>} fileExtensions\\n    */\\n  function registerLangHandler(handler, fileExtensions) {\\n    for (var i = fileExtensions.length; --i >= 0;) {\\n      var ext = fileExtensions[i];\\n      if (!langHandlerRegistry.hasOwnProperty(ext)) {\\n        langHandlerRegistry[ext] = handler;\\n      } else if (win['console']) {\\n        console['warn']('cannot override language handler %s', ext);\\n      }\\n    }\\n  }\\n  function langHandlerForExtension(extension, source) {\\n    if (!(extension && langHandlerRegistry.hasOwnProperty(extension))) {\\n      // Treat it as markup if the first non whitespace character is a < and\\n      // the last non-whitespace character is a >.\\n      extension = /^\\\\s*</.test(source)\\n          ? 'default-markup'\\n          : 'default-code';\\n    }\\n    return langHandlerRegistry[extension];\\n  }\\n  registerLangHandler(decorateSource, ['default-code']);\\n  registerLangHandler(\\n      createSimpleLexer(\\n          [],\\n          [\\n           [PR_PLAIN,       /^[^<?]+/],\\n           [PR_DECLARATION, /^<!\\\\w[^>]*(?:>|$)/],\\n           [PR_COMMENT,     /^<\\\\!--[\\\\s\\\\S]*?(?:-\\\\->|$)/],\\n           // Unescaped content in an unknown language\\n           ['lang-',        /^<\\\\?([\\\\s\\\\S]+?)(?:\\\\?>|$)/],\\n           ['lang-',        /^<%([\\\\s\\\\S]+?)(?:%>|$)/],\\n           [PR_PUNCTUATION, /^(?:<[%?]|[%?]>)/],\\n           ['lang-',        /^<xmp\\\\b[^>]*>([\\\\s\\\\S]+?)<\\\\/xmp\\\\b[^>]*>/i],\\n           // Unescaped content in javascript.  (Or possibly vbscript).\\n           ['lang-js',      /^<script\\\\b[^>]*>([\\\\s\\\\S]*?)(<\\\\/script\\\\b[^>]*>)/i],\\n           // Contains unescaped stylesheet content\\n           ['lang-css',     /^<style\\\\b[^>]*>([\\\\s\\\\S]*?)(<\\\\/style\\\\b[^>]*>)/i],\\n           ['lang-in.tag',  /^(<\\\\/?[a-z][^<>]*>)/i]\\n          ]),\\n      ['default-markup', 'htm', 'html', 'mxml', 'xhtml', 'xml', 'xsl']);\\n  registerLangHandler(\\n      createSimpleLexer(\\n          [\\n           [PR_PLAIN,        /^[\\\\s]+/, null, ' \\\\t\\\\r\\\\n'],\\n           [PR_ATTRIB_VALUE, /^(?:\\\\\\\"[^\\\\\\\"]*\\\\\\\"?|\\\\'[^\\\\']*\\\\'?)/, null, '\\\\\\\"\\\\'']\\n           ],\\n          [\\n           [PR_TAG,          /^^<\\\\/?[a-z](?:[\\\\w.:-]*\\\\w)?|\\\\/?>$/i],\\n           [PR_ATTRIB_NAME,  /^(?!style[\\\\s=]|on)[a-z](?:[\\\\w:-]*\\\\w)?/i],\\n           ['lang-uq.val',   /^=\\\\s*([^>\\\\'\\\\\\\"\\\\s]*(?:[^>\\\\'\\\\\\\"\\\\s\\\\/]|\\\\/(?=\\\\s)))/],\\n           [PR_PUNCTUATION,  /^[=<>\\\\/]+/],\\n           ['lang-js',       /^on\\\\w+\\\\s*=\\\\s*\\\\\\\"([^\\\\\\\"]+)\\\\\\\"/i],\\n           ['lang-js',       /^on\\\\w+\\\\s*=\\\\s*\\\\'([^\\\\']+)\\\\'/i],\\n           ['lang-js',       /^on\\\\w+\\\\s*=\\\\s*([^\\\\\\\"\\\\'>\\\\s]+)/i],\\n           ['lang-css',      /^style\\\\s*=\\\\s*\\\\\\\"([^\\\\\\\"]+)\\\\\\\"/i],\\n           ['lang-css',      /^style\\\\s*=\\\\s*\\\\'([^\\\\']+)\\\\'/i],\\n           ['lang-css',      /^style\\\\s*=\\\\s*([^\\\\\\\"\\\\'>\\\\s]+)/i]\\n           ]),\\n      ['in.tag']);\\n  registerLangHandler(\\n      createSimpleLexer([], [[PR_ATTRIB_VALUE, /^[\\\\s\\\\S]+/]]), ['uq.val']);\\n  registerLangHandler(sourceDecorator({\\n          'keywords': CPP_KEYWORDS,\\n          'hashComments': true,\\n          'cStyleComments': true,\\n          'types': C_TYPES\\n        }), ['c', 'cc', 'cpp', 'cxx', 'cyc', 'm']);\\n  registerLangHandler(sourceDecorator({\\n          'keywords': 'null,true,false'\\n        }), ['json']);\\n  registerLangHandler(sourceDecorator({\\n          'keywords': CSHARP_KEYWORDS,\\n          'hashComments': true,\\n          'cStyleComments': true,\\n          'verbatimStrings': true,\\n          'types': C_TYPES\\n        }), ['cs']);\\n  registerLangHandler(sourceDecorator({\\n          'keywords': JAVA_KEYWORDS,\\n          'cStyleComments': true\\n        }), ['java']);\\n  registerLangHandler(sourceDecorator({\\n          'keywords': SH_KEYWORDS,\\n          'hashComments': true,\\n          'multiLineStrings': true\\n[end of prettify.js]\\n\\n</code>\\n\\nHere is an example of a patch file. It consists of changes to the code base. It specifies the file names, the line numbers of each change, and the removed and added lines. A single patch file can contain changes to multiple files.\\n\\n<patch>\\ndiff --git a/file.py b/file.py\\n--- a/file.py\\n+++ b/file.py\\n@@ -1,27 +1,35 @@\\n def euclidean(a, b):\\n-    while b:\\n-        a, b = b, a % b\\n-    return a\\n+    if b == 0:\\n+        return a\\n+    return euclidean(b, a % b)\\n \\n def bresenham(x0, y0, x1, y1):\\n+    points = []\\n+    dx = abs(x1 - x0)\\n+    dy = abs(y1 - y0)\\n+    sx = 1 if x0 < x1 else -1\\n+    sy = 1 if y0 < y1 else -1\\n+    err = dx - dy\\n+    \\n     while True:\\n-        plot(x0, y0)\\n+        points.append((x0, y0))\\n         if x0 == x1 and y0 == y1:\\n             break\\n-        e2 = 2 * err\\n-        if e2 > -dy:\\n-            err -= dy\\n-            x0 += sx\\n-        if e2 < dx:\\n-            err += dx\\n-            y0 += sy\\n+        e2 = 2 * err\\n+        if e2 > -dy:\\n+            err -= dy\\n+            x0 += sx\\n+        if e2 < dx:\\n+            err += dx\\n+            y0 += sy\\n+    return points\\n+</patch>\\n\\nI need you to solve the provided issue by generating a single patch file that I can apply directly to this repository using git apply. Please respond with a single patch file in the format shown above.\\n\\nRespond below: \\n\"}]",
      "retrieved_file_paths": [
        "prettify.js",
        "error_helpers.js",
        "text.js",
        "p5.sound.js",
        "prettify.js"
      ]
    },
    "retrieved_documents": [
      {
        "id": "625fc412-8458-451c-8729-5b6048bec0a9",
        "score": 0.01639344262295082,
        "payload": {
          "text": "        }), ['bash', 'bsh', 'csh', 'sh']);\n  registerLangHandler(sourceDecorator({\n          'keywords': PYTHON_KEYWORDS,\n          'hashComments': true,\n          'multiLineStrings': true,\n          'tripleQuotedStrings': true\n        }), ['cv', 'py', 'python']);\n  registerLangHandler(sourceDecorator({\n          'keywords': PERL_KEYWORDS,\n          'hashComments': true,\n          'multiLineStrings': true,\n          'regexLiterals': 2  // multiline regex literals\n        }), ['perl', 'pl', 'pm']);\n  registerLangHandler(sourceDecorator({\n          'keywords': RUBY_KEYWORDS,\n          'hashComments': true,\n          'multiLineStrings': true,\n          'regexLiterals': true\n        }), ['rb', 'ruby']);\n  registerLangHandler(sourceDecorator({\n          'keywords': JSCRIPT_KEYWORDS,\n          'cStyleComments': true,\n          'regexLiterals': true\n        }), ['javascript', 'js']);\n  registerLangHandler(sourceDecorator({\n          'keywords': COFFEE_KEYWORDS,\n          'hashComments': 3,  // ### style block comments\n          'cStyleComments': true,\n          'multilineStrings': true,\n          'tripleQuotedStrings': true,\n          'regexLiterals': true\n        }), ['coffee']);\n  registerLangHandler(sourceDecorator({\n          'keywords': RUST_KEYWORDS,\n          'cStyleComments': true,\n          'multilineStrings': true\n        }), ['rc', 'rs', 'rust']);\n  registerLangHandler(\n      createSimpleLexer([], [[PR_STRING, /^[\\s\\S]+/]]), ['regex']);\n\n  function applyDecorator(job) {\n    var opt_langExtension = job.langExtension;\n\n    try {\n      // Extract tags, and convert the source code to plain text.\n      var sourceAndSpans = extractSourceSpans(job.sourceNode, job.pre);\n      /** Plain text. @type {string} */\n      var source = sourceAndSpans.sourceCode;\n      job.sourceCode = source;\n      job.spans = sourceAndSpans.spans;\n      job.basePos = 0;\n\n      // Apply the appropriate language handler\n      langHandlerForExtension(opt_langExtension, source)(job);\n\n      // Integrate the decorations and tags back into the source code,\n      // modifying the sourceNode in place.\n      recombineTagsAndDecorations(job);\n    } catch (e) {\n      if (win['console']) {\n        console['log'](e && e['stack'] || e);\n      }\n    }\n  }\n\n  /**\n   * Pretty print a chunk of code.\n   * @param sourceCodeHtml {string} The HTML to pretty print.\n   * @param opt_langExtension {string} The language name to use.\n   *     Typically, a filename extension like 'cpp' or 'java'.\n   * @param opt_numberLines {number|boolean} True to number lines,\n   *     or the 1-indexed number of the first line in sourceCodeHtml.\n   */\n  function $prettyPrintOne(sourceCodeHtml, opt_langExtension, opt_numberLines) {\n    var container = document.createElement('div');\n    // This could cause images to load and onload listeners to fire.\n    // E.g. <img onerror=\"alert(1337)\" src=\"nosuchimage.png\">.\n    // We assume that the inner HTML is from a trusted source.\n    // The pre-tag is required for IE8 which strips newlines from innerHTML\n    // when it is injected into a <pre> tag.\n    // http://stackoverflow.com/questions/451486/pre-tag-loses-line-breaks-when-setting-innerhtml-in-ie\n    // http://stackoverflow.com/questions/195363/inserting-a-newline-into-a-pre-tag-ie-javascript\n    container.innerHTML = '<pre>' + sourceCodeHtml + '</pre>';\n    container = container.firstChild;\n    if (opt_numberLines) {\n      numberLines(container, opt_numberLines, true);\n    }\n\n    var job = {\n      langExtension: opt_langExtension,\n      numberLines: opt_numberLines,\n      sourceNode: container,\n      pre: 1\n    };\n    applyDecorator(job);\n    return container.innerHTML;\n  }\n\n   /**\n    * Find all the {@code <pre>} and {@code <code>} tags in the DOM with\n    * {@code class=prettyprint} and prettify them.\n    *\n    * @param {Function} opt_whenDone called when prettifying is done.\n    * @param {HTMLElement|HTMLDocument} opt_root an element or document\n    *   containing all the elements to pretty print.\n    *   Defaults to {@code document.body}.\n    */\n  function $prettyPrint(opt_whenDone, opt_root) {\n    var root = opt_root || document.body;\n    var doc = root.ownerDocument || document;\n    function byTagName(tn) { return root.getElementsByTagName(tn); }\n    // fetch a list of nodes to rewrite\n    var codeSegments = [byTagName('pre'), byTagName('code'), byTagName('xmp')];\n    var elements = [];\n    for (var i = 0; i < codeSegments.length; ++i) {\n      for (var j = 0, n = codeSegments[i].length; j < n; ++j) {\n        elements.push(codeSegments[i][j]);\n      }\n    }\n    codeSegments = null;\n\n    var clock = Date;\n    if (!clock['now']) {\n      clock = { 'now': function () { return +(new Date); } };\n    }\n\n    // The loop is broken into a series of continuations to make sure that we\n    // don't make the browser unresponsive when rewriting a large page.\n    var k = 0;\n    var prettyPrintingJob;\n\n    var langExtensionRe = /\\blang(?:uage)?-([\\w.]+)(?!\\S)/;\n    var prettyPrintRe = /\\bprettyprint\\b/;\n    var prettyPrintedRe = /\\bprettyprinted\\b/;\n    var preformattedTagNameRe = /pre|xmp/i;\n    var codeRe = /^code$/i;\n    var preCodeXmpRe = /^(?:pre|code|xmp)$/i;\n    var EMPTY = {};\n\n    function doWork() {\n      var endTime = (win['PR_SHOULD_USE_CONTINUATION'] ?\n                     clock['now']() + 250 /* ms */ :\n                     Infinity);\n      for (; k < elements.length && clock['now']() < endTime; k++) {\n        var cs = elements[k];\n\n        // Look for a preceding comment like\n        // <?prettify lang=\"...\" linenums=\"...\"?>\n        var attrs = EMPTY;\n        {\n          for (var preceder = cs; (preceder = preceder.previousSibling);) {\n            var nt = preceder.nodeType;\n            // <?foo?> is parsed by HTML 5 to a comment node (8)\n            // like <!--?foo?-->, but in XML is a processing instruction\n            var value = (nt === 7 || nt === 8) && preceder.nodeValue;\n            if (value\n                ? !/^\\??prettify\\b/.test(value)\n                : (nt !== 3 || /\\S/.test(preceder.nodeValue))) {\n              // Skip over white-space text nodes but not others.\n              break;\n            }\n            if (value) {\n              attrs = {};\n              value.replace(\n                  /\\b(\\w+)=([\\w:.%+-]+)/g,\n                function (_, name, value) { attrs[name] = value; });\n              break;\n            }\n          }\n        }\n\n        var className = cs.className;\n        if ((attrs !== EMPTY || prettyPrintRe.test(className))\n            // Don't redo this if we've already done it.\n            // This allows recalling pretty print to just prettyprint elements\n            // that have been added to the page since last call.\n            && !prettyPrintedRe.test(className)) {\n\n          // make sure this is not nested in an already prettified element\n          var nested = false;\n          for (var p = cs.parentNode; p; p = p.parentNode) {\n            var tn = p.tagName;\n            if (preCodeXmpRe.test(tn)\n                && p.className && prettyPrintRe.test(p.className)) {\n              nested = true;\n              break;\n            }\n          }\n          if (!nested) {\n            // Mark done.  If we fail to prettyprint for whatever reason,\n            // we shouldn't try again.\n            cs.className += ' prettyprinted';\n\n            // If the classes includes a language extensions, use it.\n            // Language extensions can be specified like\n            //     <pre class=\"prettyprint lang-cpp\">\n            // the language extension \"cpp\" is used to find a language handler\n            // as passed to PR.registerLangHandler.\n            // HTML5 recommends that a language be specified using \"language-\"\n            // as the prefix instead.  Google Code Prettify supports both.\n            // http://dev.w3.org/html5/spec-author-view/the-code-element.html\n            var langExtension = attrs['lang'];\n            if (!langExtension) {\n              langExtension = className.match(langExtensionRe);\n              // Support <pre class=\"prettyprint\"><code class=\"language-c\">\n              var wrapper;\n              if (!langExtension && (wrapper = childContentWrapper(cs))\n                  && codeRe.test(wrapper.tagName)) {\n                langExtension = wrapper.className.match(langExtensionRe);\n              }\n\n              if (langExtension) { langExtension = langExtension[1]; }\n            }\n\n            var preformatted;\n            if (preformattedTagNameRe.test(cs.tagName)) {\n              preformatted = 1;\n            } else {\n              var currentStyle = cs['currentStyle'];\n              var defaultView = doc.defaultView;\n              var whitespace = (\n                  currentStyle\n                  ? currentStyle['whiteSpace']\n                  : (defaultView\n                     && defaultView.getComputedStyle)\n                  ? defaultView.getComputedStyle(cs, null)\n                  .getPropertyValue('white-space')\n                  : 0);\n              preformatted = whitespace\n                  && 'pre' === whitespace.substring(0, 3);\n            }\n\n            // Look for a class like linenums or linenums:<n> where <n> is the\n            // 1-indexed number of the first line.\n            var lineNums = attrs['linenums'];\n            if (!(lineNums = lineNums === 'true' || +lineNums)) {\n              lineNums = className.match(/\\blinenums\\b(?::(\\d+))?/);\n              lineNums =\n                lineNums\n                ? lineNums[1] && lineNums[1].length\n                  ? +lineNums[1] : true\n                : false;\n            }\n            if (lineNums) { numberLines(cs, lineNums, preformatted); }\n\n            // do the pretty printing\n            prettyPrintingJob = {\n              langExtension: langExtension,\n              sourceNode: cs,\n              numberLines: lineNums,\n              pre: preformatted\n            };\n            applyDecorator(prettyPrintingJob);\n          }\n        }\n      }\n      if (k < elements.length) {\n        // finish up in a continuation\n        setTimeout(doWork, 250);\n      } else if ('function' === typeof opt_whenDone) {\n        opt_whenDone();\n      }\n    }\n\n    doWork();\n  }\n\n  /**\n   * Contains functions for creating and registering new language handlers.\n   * @type {Object}\n   */\n  var PR = win['PR'] = {\n        'createSimpleLexer': createSimpleLexer,\n        'registerLangHandler': registerLangHandler,\n        'sourceDecorator': sourceDecorator,\n        'PR_ATTRIB_NAME': PR_ATTRIB_NAME,\n        'PR_ATTRIB_VALUE': PR_ATTRIB_VALUE,\n        'PR_COMMENT': PR_COMMENT,\n        'PR_DECLARATION': PR_DECLARATION,\n        'PR_KEYWORD': PR_KEYWORD,\n        'PR_LITERAL': PR_LITERAL,\n        'PR_NOCODE': PR_NOCODE,\n        'PR_PLAIN': PR_PLAIN,\n        'PR_PUNCTUATION': PR_PUNCTUATION,\n        'PR_SOURCE': PR_SOURCE,\n        'PR_STRING': PR_STRING,\n        'PR_TAG': PR_TAG,\n        'PR_TYPE': PR_TYPE,\n        'prettyPrintOne':\n           IN_GLOBAL_SCOPE\n             ? (win['prettyPrintOne'] = $prettyPrintOne)\n             : (prettyPrintOne = $prettyPrintOne),\n        'prettyPrint': prettyPrint =\n           IN_GLOBAL_SCOPE\n             ? (win['prettyPrint'] = $prettyPrint)\n             : (prettyPrint = $prettyPrint)\n      };\n\n  // Make PR available via the Asynchronous Module Definition (AMD) API.\n  // Per https://github.com/amdjs/amdjs-api/wiki/AMD:\n  // The Asynchronous Module Definition (AMD) API specifies a\n  // mechanism for defining modules such that the module and its\n  // dependencies can be asynchronously loaded.\n  // ...\n  // To allow a clear indicator that a global define function (as\n  // needed for script src browser loading) conforms to the AMD API,\n  // any global define function SHOULD have a property called \"amd\"\n  // whose value is an object. This helps avoid conflict with any\n  // other existing JavaScript code that could have defined a define()\n  // function that does not conform to the AMD API.\n  if (typeof define === \"function\" && define['amd']) {\n    define(\"google-code-prettify\", [], function () {\n      return PR; \n    });\n  }\n})();",
          "filepath": "data/repos/processing/p5.js-0.6/docs/yuidoc-p5-theme-src/scripts/vendor/prettify/prettify.js",
          "repo": "processing/p5.js",
          "version": "0.6",
          "chunk_index": 2,
          "chunk_id": "625fc412-8458-451c-8729-5b6048bec0a9"
        }
      },
      {
        "id": "f8dd3b7e-97f1-4348-bc79-83d418f2082f",
        "score": 0.016129032258064516,
        "payload": {
          "text": "/**\n * @for p5\n * @requires core\n */\n\n'use strict';\n\nvar p5 = require('./core');\nvar constants = require('./constants');\n\nif (typeof IS_MINIFIED !== 'undefined') {\n  p5._validateParameters = p5._friendlyFileLoadError = function() {};\n} else {\n  var doFriendlyWelcome = false; // TEMP until we get it all working LM\n  // for parameter validation\n  var dataDoc = require('../../docs/reference/data.json');\n  var arrDoc = JSON.parse(JSON.stringify(dataDoc));\n\n  // -- Borrowed from jQuery 1.11.3 --\n  var class2type = {};\n  var toString = class2type.toString;\n  var names = [\n    'Boolean',\n    'Number',\n    'String',\n    'Function',\n    'Array',\n    'Date',\n    'RegExp',\n    'Object',\n    'Error'\n  ];\n  for (var n = 0; n < names.length; n++) {\n    class2type['[object ' + names[n] + ']'] = names[n].toLowerCase();\n  }\n  var getType = function(obj) {\n    if (obj == null) {\n      return obj + '';\n    }\n    return typeof obj === 'object' || typeof obj === 'function'\n      ? class2type[toString.call(obj)] || 'object'\n      : typeof obj;\n  };\n\n  // -- End borrow --\n\n  var friendlyWelcome = function() {\n    // p5.js brand - magenta: #ED225D\n    //var astrixBgColor = 'transparent';\n    //var astrixTxtColor = '#ED225D';\n    //var welcomeBgColor = '#ED225D';\n    //var welcomeTextColor = 'white';\n    console.log(\n      '    _ \\n' +\n        ' /\\\\| |/\\\\ \\n' +\n        \" \\\\ ` ' /  \\n\" +\n        ' / , . \\\\  \\n' +\n        ' \\\\/|_|\\\\/ ' +\n        '\\n\\n> p5.js says: Welcome! ' +\n        'This is your friendly debugger. ' +\n        'To turn me off switch to using \u201cp5.min.js\u201d.'\n    );\n  };\n\n  /**\n   * Prints out a fancy, colorful message to the console log\n   *\n   * @private\n   * @param  {String}               message the words to be said\n   * @param  {String}               func    the name of the function to link\n   * @param  {Number|String} color   CSS color string or error type\n   *\n   * @return console logs\n   */\n  // Wrong number of params, undefined param, wrong type\n  var FILE_LOAD = 3;\n  var ERR_PARAMS = 3;\n  // p5.js blue, p5.js orange, auto dark green; fallback p5.js darkened magenta\n  // See testColors below for all the color codes and names\n  var typeColors = ['#2D7BB6', '#EE9900', '#4DB200', '#C83C00'];\n  var report = function(message, func, color) {\n    if (doFriendlyWelcome) {\n      friendlyWelcome();\n      doFriendlyWelcome = false;\n    }\n    if ('undefined' === getType(color)) {\n      color = '#B40033'; // dark magenta\n    } else if (getType(color) === 'number') {\n      // Type to color\n      color = typeColors[color];\n    }\n    if (func.substring(0, 4) === 'load') {\n      console.log(\n        '> p5.js says: ' +\n          message +\n          '[https://github.com/processing/p5.js/wiki/Local-server]'\n      );\n    } else {\n      console.log(\n        '> p5.js says: ' +\n          message +\n          ' [http://p5js.org/reference/#p5/' +\n          func +\n          ']'\n      );\n    }\n  };\n\n  var errorCases = {\n    '0': {\n      fileType: 'image',\n      method: 'loadImage',\n      message: ' hosting the image online,'\n    },\n    '1': {\n      fileType: 'XML file',\n      method: 'loadXML'\n    },\n    '2': {\n      fileType: 'table file',\n      method: 'loadTable'\n    },\n    '3': {\n      fileType: 'text file',\n      method: 'loadStrings'\n    },\n    '4': {\n      fileType: 'font',\n      method: 'loadFont',\n      message: ' hosting the font online,'\n    }\n  };\n  p5._friendlyFileLoadError = function(errorType, filePath) {\n    var errorInfo = errorCases[errorType];\n    var message =\n      'It looks like there was a problem' +\n      ' loading your ' +\n      errorInfo.fileType +\n      '.' +\n      ' Try checking if the file path [' +\n      filePath +\n      '] is correct,' +\n      (errorInfo.message || '') +\n      ' or running a local server.';\n    report(message, errorInfo.method, FILE_LOAD);\n  };\n\n  var docCache = {};\n  var builtinTypes = [\n    'number',\n    'string',\n    'boolean',\n    'constant',\n    'function',\n    'any',\n    'integer'\n  ];\n\n  // validateParameters() helper functions:\n  // lookupParamDoc() for querying data.json\n  var lookupParamDoc = function(func) {\n    var queryResult = arrDoc.classitems.filter(function(x) {\n      return x.name === func;\n    });\n    // different JSON structure for funct with multi-format\n    var overloads = [];\n    if (queryResult[0].hasOwnProperty('overloads')) {\n      for (var i = 0; i < queryResult[0].overloads.length; i++) {\n        overloads.push(queryResult[0].overloads[i].params);\n      }\n    } else {\n      overloads.push(queryResult[0].params);\n    }\n\n    var mapConstants = {};\n    var maxParams = 0;\n    overloads.forEach(function(formats) {\n      if (maxParams < formats.length) {\n        maxParams = formats.length;\n      }\n      formats.forEach(function(format) {\n        format.types = format.type.split('|').map(function ct(type) {\n          // array\n          if (type.substr(type.length - 2, 2) === '[]') {\n            return {\n              name: type,\n              array: ct(type.substr(0, type.length - 2))\n            };\n          }\n\n          var lowerType = type.toLowerCase();\n\n          // contant\n          if (lowerType === 'constant') {\n            var constant;\n            if (mapConstants.hasOwnProperty(format.name)) {\n              constant = mapConstants[format.name];\n            } else {\n              // parse possible constant values from description\n              var myRe = /either\\s+(?:[A-Z0-9_]+\\s*,?\\s*(?:or)?\\s*)+/g;\n              var values = {};\n              var names = [];\n\n              constant = mapConstants[format.name] = {\n                values: values,\n                names: names\n              };\n\n              var myArray = myRe.exec(format.description);\n              if (func === 'endShape' && format.name === 'mode') {\n                values[constants.CLOSE] = true;\n                names.push('CLOSE');\n              } else {\n                var match = myArray[0];\n                var reConst = /[A-Z0-9_]+/g;\n                var matchConst;\n                while ((matchConst = reConst.exec(match)) !== null) {\n                  var name = matchConst[0];\n                  if (constants.hasOwnProperty(name)) {\n                    values[constants[name]] = true;\n                    names.push(name);\n                  }\n                }\n              }\n            }\n            return {\n              name: type,\n              builtin: lowerType,\n              names: constant.names,\n              values: constant.values\n            };\n          }\n\n          // function\n          if (lowerType.substr(0, 'function'.length) === 'function') {\n            lowerType = 'function';\n          }\n          // builtin\n          if (builtinTypes.indexOf(lowerType) >= 0) {\n            return { name: type, builtin: lowerType };\n          }\n\n          // p5 class type\n          var t = window;\n          type.split('.').forEach(function(p) {\n            t = t && t[p];\n          });\n          if (t) {\n            return { name: type, prototype: t };\n          }\n\n          return { name: type, type: lowerType };\n        });\n      });\n    });\n    return {\n      overloads: overloads,\n      maxParams: maxParams\n    };\n  };\n\n  var testParamType = function(param, type) {\n    var isArray = param instanceof Array;\n    if (type.array && isArray) {\n      for (var i = 0; i < param.length; i++) {\n        if (!testParamType(param[i], type.array)) {\n          return false;\n        }\n      }\n      return true;\n    } else if (type.prototype) {\n      return param instanceof type.prototype;\n    } else if (type.builtin) {\n      switch (type.builtin) {\n        case 'number':\n          return typeof param === 'number' || (!!param && !isNaN(param));\n        case 'integer':\n          return (\n            (typeof param === 'number' || (!!param && !isNaN(param))) &&\n            Number(param) === Math.floor(param)\n          );\n        case 'boolean':\n        case 'any':\n          return true;\n        case 'array':\n          return isArray;\n        case 'string':\n          return typeof param === 'number' || typeof param === 'string';\n        case 'constant':\n          return type.values.hasOwnProperty(param);\n        case 'function':\n          return param instanceof Function;\n      }\n    }\n\n    return typeof param === type.t;\n  };\n\n  // testType() for non-object type parameter validation\n  // Returns true if PASS, false if FAIL\n  var testParamTypes = function(param, types) {\n    for (var i = 0; i < types.length; i++) {\n      if (testParamType(param, types[i])) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  var testParamFormat = function(args, formats) {\n    var errorArray = [];\n    for (var p = 0; p < formats.length; p++) {\n      var arg = args[p];\n      var format = formats[p];\n      var argType = typeof arg;\n      if ('undefined' === argType || null === arg) {\n        if (format.optional !== true) {\n          errorArray.push({\n            type: 'EMPTY_VAR',\n            position: p,\n            format: format\n          });\n        }\n      } else if (!testParamTypes(arg, format.types)) {\n        errorArray.push({\n          type: 'WRONG_TYPE',\n          position: p,\n          format: format,\n          arg: arg\n        });\n      }\n    }\n    return errorArray;\n  };\n\n  // function for generating console.log() msg\n  p5._friendlyParamError = function(errorObj, func) {\n    var message;\n\n    function formatType() {\n      var format = errorObj.format;\n      return format.types\n        .map(function(type) {\n          return type.names ? type.names.join('|') : type.name;\n        })\n        .join('|');\n    }\n\n    switch (errorObj.type) {\n      case 'EMPTY_VAR':\n        message =\n          func +\n          '() was expecting ' +\n          formatType() +\n          ' for parameter #' +\n          errorObj.position +\n          ' (zero-based index), received an empty variable instead.' +\n          ' If not intentional, this is often a problem with scope:' +\n          ' [https://p5js.org/examples/data-variable-scope.html]';\n        break;\n      case 'WRONG_TYPE':\n        var arg = errorObj.arg;\n        var argType = arg instanceof Array ? 'array' : arg.name || typeof arg;\n        message =\n          func +\n          '() was expecting ' +\n          formatType() +\n          ' for parameter #' +\n          errorObj.position +\n          ' (zero-based index), received ' +\n          argType +\n          ' instead';\n        break;\n      case 'WRONG_ARGUMENT_COUNT':\n        message =\n          func +\n          '() was expecting ' +\n          errorObj.maxParams +\n          ' arguments, but received ' +\n          errorObj.argCount;\n        break;\n    }\n\n    if (message) {\n      try {\n        var re = /Function\\.validateParameters.*[\\r\\n].*[\\r\\n].*\\(([^)]*)/;\n        var location = re.exec(new Error().stack)[1];\n        if (location) {\n          message += ' at ' + location;\n        }\n      } catch (err) {}\n\n      report(message + '.', func, ERR_PARAMS);\n    }\n  };\n\n  /**\n   * Validates parameters\n   * param  {String}               func    the name of the function\n   * param  {Array}                args    user input arguments\n   *\n   * example:\n   *  var a;\n   *  ellipse(10,10,a,5);\n   * console ouput:\n   *  \"It looks like ellipse received an empty variable in spot #2.\"\n   *\n   * example:\n   *  ellipse(10,\"foo\",5,5);\n   * console output:\n   *  \"ellipse was expecting a number for parameter #1,\n   *           received \"foo\" instead.\"\n   */\n  p5._validateParameters = function validateParameters(func, args) {\n    if (p5.disableFriendlyErrors) {\n      return; // skip FES\n    }\n\n    var docs = docCache[func] || (docCache[func] = lookupParamDoc(func));\n    var errorArray = [];\n    var minErrCount = 999999;\n    var overloads = docs.overloads;\n    for (var i = 0; i < overloads.length; i++) {\n      var arrError = testParamFormat(args, overloads[i]);\n      // see if this is the format with min number of err\n      if (minErrCount > arrError.length) {\n        minErrCount = arrError.length;\n        errorArray = arrError;\n      }\n      if (arrError.length === 0) {\n        break; // no error\n      }\n    }\n\n    if (!errorArray.length && args.length > docs.maxParams) {\n      errorArray.push({\n        type: 'WRONG_ARGUMENT_COUNT',\n        argCount: args.length,\n        maxParams: docs.maxParams\n      });\n    }\n\n    // generate err msg\n    for (var n = 0; n < errorArray.length; n++) {\n      p5._friendlyParamError(errorArray[n], func);\n    }\n  };\n\n  /**\n   * Prints out all the colors in the color pallete with white text.\n   * For color blindness testing.\n   */\n  /* function testColors() {\n    var str = 'A box of biscuits, a box of mixed biscuits and a biscuit mixer';\n    report(str, 'print', '#ED225D'); // p5.js magenta\n    report(str, 'print', '#2D7BB6'); // p5.js blue\n    report(str, 'print', '#EE9900'); // p5.js orange\n    report(str, 'print', '#A67F59'); // p5.js light brown\n    report(str, 'print', '#704F21'); // p5.js gold\n    report(str, 'print', '#1CC581'); // auto cyan\n    report(str, 'print', '#FF6625'); // auto orange\n    report(str, 'print', '#79EB22'); // auto green\n    report(str, 'print', '#B40033'); // p5.js darkened magenta\n    report(str, 'print', '#084B7F'); // p5.js darkened blue\n    report(str, 'print', '#945F00'); // p5.js darkened orange\n    report(str, 'print', '#6B441D'); // p5.js darkened brown\n    report(str, 'print', '#2E1B00'); // p5.js darkened gold\n    report(str, 'print', '#008851'); // auto dark cyan\n    report(str, 'print', '#C83C00'); // auto dark orange\n    report(str, 'print', '#4DB200'); // auto dark green\n  } */\n\n  p5.prototype._validateParameters = p5.validateParameters;\n}\n\n// This is a lazily-defined list of p5 symbols that may be\n// misused by beginners at top-level code, outside of setup/draw. We'd like\n// to detect these errors and help the user by suggesting they move them\n// into setup/draw.\n//\n// For more details, see https://github.com/processing/p5.js/issues/1121.\nvar misusedAtTopLevelCode = null;\nvar FAQ_URL =\n  'https://github.com/processing/p5.js/wiki/' +\n  'Frequently-Asked-Questions' +\n  '#why-cant-i-assign-variables-using-p5-functions-and-' +\n  'variables-before-setup';\n\nvar defineMisusedAtTopLevelCode = function() {\n  var uniqueNamesFound = {};\n\n  var getSymbols = function(obj) {\n    return Object.getOwnPropertyNames(obj)\n      .filter(function(name) {\n        if (name[0] === '_') {\n          return false;\n        }\n        if (name in uniqueNamesFound) {\n          return false;\n        }\n\n        uniqueNamesFound[name] = true;\n\n        return true;\n      })\n      .map(function(name) {\n        var type;\n\n        if (typeof obj[name] === 'function') {\n          type = 'function';\n        } else if (name === name.toUpperCase()) {\n          type = 'constant';\n        } else {\n          type = 'variable';\n        }\n\n        return { name: name, type: type };\n      });\n  };\n\n  misusedAtTopLevelCode = [].concat(\n    getSymbols(p5.prototype),\n    // At present, p5 only adds its constants to p5.prototype during\n    // construction, which may not have happened at the time a\n    // ReferenceError is thrown, so we'll manually add them to our list.\n    getSymbols(require('./constants'))\n  );\n\n  // This will ultimately ensure that we report the most specific error\n  // possible to the user, e.g. advising them about HALF_PI instead of PI\n  // when their code misuses the former.\n  misusedAtTopLevelCode.sort(function(a, b) {\n    return b.name.length - a.name.length;\n  });\n};\n\nvar helpForMisusedAtTopLevelCode = function(e, log) {\n  if (!log) {\n    log = console.log.bind(console);\n  }\n\n  if (!misusedAtTopLevelCode) {\n    defineMisusedAtTopLevelCode();\n  }\n\n  // If we find that we're logging lots of false positives, we can\n  // uncomment the following code to avoid displaying anything if the\n  // user's code isn't likely to be using p5's global mode. (Note that\n  // setup/draw are more likely to be defined due to JS function hoisting.)\n  //\n  //if (!('setup' in window || 'draw' in window)) {\n  //  return;\n  //}\n\n  misusedAtTopLevelCode.some(function(symbol) {\n    // Note that while just checking for the occurrence of the\n    // symbol name in the error message could result in false positives,\n    // a more rigorous test is difficult because different browsers\n    // log different messages, and the format of those messages may\n    // change over time.\n    //\n    // For example, if the user uses 'PI' in their code, it may result\n    // in any one of the following messages:\n    //\n    //   * 'PI' is undefined                           (Microsoft Edge)\n    //   * ReferenceError: PI is undefined             (Firefox)\n    //   * Uncaught ReferenceError: PI is not defined  (Chrome)\n\n    if (e.message && e.message.match('\\\\W?' + symbol.name + '\\\\W') !== null) {\n      log(\n        \"Did you just try to use p5.js's \" +\n          symbol.name +\n          (symbol.type === 'function' ? '() ' : ' ') +\n          symbol.type +\n          '? If so, you may want to ' +\n          \"move it into your sketch's setup() function.\\n\\n\" +\n          'For more details, see: ' +\n          FAQ_URL\n      );\n      return true;\n    }\n  });\n};\n\n// Exposing this primarily for unit testing.\np5.prototype._helpForMisusedAtTopLevelCode = helpForMisusedAtTopLevelCode;\n\nif (document.readyState !== 'complete') {\n  window.addEventListener('error', helpForMisusedAtTopLevelCode, false);\n\n  // Our job is only to catch ReferenceErrors that are thrown when\n  // global (non-instance mode) p5 APIs are used at the top-level\n  // scope of a file, so we'll unbind our error listener now to make\n  // sure we don't log false positives later.\n  window.addEventListener('load', function() {\n    window.removeEventListener('error', helpForMisusedAtTopLevelCode, false);\n  });\n}\n\nmodule.exports = p5;\n",
          "filepath": "data/repos/processing/p5.js-0.6/src/core/error_helpers.js",
          "repo": "processing/p5.js",
          "version": "0.6",
          "chunk_index": 0,
          "chunk_id": "f8dd3b7e-97f1-4348-bc79-83d418f2082f"
        }
      },
      {
        "id": "e8cc65ac-034d-451e-9f4f-159dea289062",
        "score": 0.015873015873015872,
        "payload": {
          "text": "/**\n * @license RequireJS text 2.0.10 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.\n * Available via the MIT or new BSD license.\n * see: http://github.com/requirejs/text for details\n */\n/*jslint regexp: true */\n/*global require, XMLHttpRequest, ActiveXObject,\n  define, window, process, Packages,\n  java, location, Components, FileUtils */\n\ndefine(['module'], function (module) {\n    'use strict';\n\n    var text, fs, Cc, Ci, xpcIsWindows,\n        progIds = ['Msxml2.XMLHTTP', 'Microsoft.XMLHTTP', 'Msxml2.XMLHTTP.4.0'],\n        xmlRegExp = /^\\s*<\\?xml(\\s)+version=[\\'\\\"](\\d)*.(\\d)*[\\'\\\"](\\s)*\\?>/im,\n        bodyRegExp = /<body[^>]*>\\s*([\\s\\S]+)\\s*<\\/body>/im,\n        hasLocation = typeof location !== 'undefined' && location.href,\n        defaultProtocol = hasLocation && location.protocol && location.protocol.replace(/\\:/, ''),\n        defaultHostName = hasLocation && location.hostname,\n        defaultPort = hasLocation && (location.port || undefined),\n        buildMap = {},\n        masterConfig = (module.config && module.config()) || {};\n\n    text = {\n        version: '2.0.10',\n\n        strip: function (content) {\n            //Strips <?xml ...?> declarations so that external SVG and XML\n            //documents can be added to a document without worry. Also, if the string\n            //is an HTML document, only the part inside the body tag is returned.\n            if (content) {\n                content = content.replace(xmlRegExp, \"\");\n                var matches = content.match(bodyRegExp);\n                if (matches) {\n                    content = matches[1];\n                }\n            } else {\n                content = \"\";\n            }\n            return content;\n        },\n\n        jsEscape: function (content) {\n            return content.replace(/(['\\\\])/g, '\\\\$1')\n                .replace(/[\\f]/g, \"\\\\f\")\n                .replace(/[\\b]/g, \"\\\\b\")\n                .replace(/[\\n]/g, \"\\\\n\")\n                .replace(/[\\t]/g, \"\\\\t\")\n                .replace(/[\\r]/g, \"\\\\r\")\n                .replace(/[\\u2028]/g, \"\\\\u2028\")\n                .replace(/[\\u2029]/g, \"\\\\u2029\");\n        },\n\n        createXhr: masterConfig.createXhr || function () {\n            //Would love to dump the ActiveX crap in here. Need IE 6 to die first.\n            var xhr, i, progId;\n            if (typeof XMLHttpRequest !== \"undefined\") {\n                return new XMLHttpRequest();\n            } else if (typeof ActiveXObject !== \"undefined\") {\n                for (i = 0; i < 3; i += 1) {\n                    progId = progIds[i];\n                    try {\n                        xhr = new ActiveXObject(progId);\n                    } catch (e) {}\n\n                    if (xhr) {\n                        progIds = [progId];  // so faster next time\n                        break;\n                    }\n                }\n            }\n\n            return xhr;\n        },\n\n        /**\n         * Parses a resource name into its component parts. Resource names\n         * look like: module/name.ext!strip, where the !strip part is\n         * optional.\n         * @param {String} name the resource name\n         * @returns {Object} with properties \"moduleName\", \"ext\" and \"strip\"\n         * where strip is a boolean.\n         */\n        parseName: function (name) {\n            var modName, ext, temp,\n                strip = false,\n                index = name.indexOf(\".\"),\n                isRelative = name.indexOf('./') === 0 ||\n                             name.indexOf('../') === 0;\n\n            if (index !== -1 && (!isRelative || index > 1)) {\n                modName = name.substring(0, index);\n                ext = name.substring(index + 1, name.length);\n            } else {\n                modName = name;\n            }\n\n            temp = ext || modName;\n            index = temp.indexOf(\"!\");\n            if (index !== -1) {\n                //Pull off the strip arg.\n                strip = temp.substring(index + 1) === \"strip\";\n                temp = temp.substring(0, index);\n                if (ext) {\n                    ext = temp;\n                } else {\n                    modName = temp;\n                }\n            }\n\n            return {\n                moduleName: modName,\n                ext: ext,\n                strip: strip\n            };\n        },\n\n        xdRegExp: /^((\\w+)\\:)?\\/\\/([^\\/\\\\]+)/,\n\n        /**\n         * Is an URL on another domain. Only works for browser use, returns\n         * false in non-browser environments. Only used to know if an\n         * optimized .js version of a text resource should be loaded\n         * instead.\n         * @param {String} url\n         * @returns Boolean\n         */\n        useXhr: function (url, protocol, hostname, port) {\n            var uProtocol, uHostName, uPort,\n                match = text.xdRegExp.exec(url);\n            if (!match) {\n                return true;\n            }\n            uProtocol = match[2];\n            uHostName = match[3];\n\n            uHostName = uHostName.split(':');\n            uPort = uHostName[1];\n            uHostName = uHostName[0];\n\n            return (!uProtocol || uProtocol === protocol) &&\n                   (!uHostName || uHostName.toLowerCase() === hostname.toLowerCase()) &&\n                   ((!uPort && !uHostName) || uPort === port);\n        },\n\n        finishLoad: function (name, strip, content, onLoad) {\n            content = strip ? text.strip(content) : content;\n            if (masterConfig.isBuild) {\n                buildMap[name] = content;\n            }\n            onLoad(content);\n        },\n\n        load: function (name, req, onLoad, config) {\n            //Name has format: some.module.filext!strip\n            //The strip part is optional.\n            //if strip is present, then that means only get the string contents\n            //inside a body tag in an HTML string. For XML/SVG content it means\n            //removing the <?xml ...?> declarations so the content can be inserted\n            //into the current doc without problems.\n\n            // Do not bother with the work if a build and text will\n            // not be inlined.\n            if (config.isBuild && !config.inlineText) {\n                onLoad();\n                return;\n            }\n\n            masterConfig.isBuild = config.isBuild;\n\n            var parsed = text.parseName(name),\n                nonStripName = parsed.moduleName +\n                    (parsed.ext ? '.' + parsed.ext : ''),\n                url = req.toUrl(nonStripName),\n                useXhr = (masterConfig.useXhr) ||\n                         text.useXhr;\n\n            // Do not load if it is an empty: url\n            if (url.indexOf('empty:') === 0) {\n                onLoad();\n                return;\n            }\n\n            //Load the text. Use XHR if possible and in a browser.\n            if (!hasLocation || useXhr(url, defaultProtocol, defaultHostName, defaultPort)) {\n                text.get(url, function (content) {\n                    text.finishLoad(name, parsed.strip, content, onLoad);\n                }, function (err) {\n                    if (onLoad.error) {\n                        onLoad.error(err);\n                    }\n                });\n            } else {\n                //Need to fetch the resource across domains. Assume\n                //the resource has been optimized into a JS module. Fetch\n                //by the module name + extension, but do not include the\n                //!strip part to avoid file system issues.\n                req([nonStripName], function (content) {\n                    text.finishLoad(parsed.moduleName + '.' + parsed.ext,\n                                    parsed.strip, content, onLoad);\n                });\n            }\n        },\n\n        write: function (pluginName, moduleName, write, config) {\n            if (buildMap.hasOwnProperty(moduleName)) {\n                var content = text.jsEscape(buildMap[moduleName]);\n                write.asModule(pluginName + \"!\" + moduleName,\n                               \"define(function () { return '\" +\n                                   content +\n                               \"';});\\n\");\n            }\n        },\n\n        writeFile: function (pluginName, moduleName, req, write, config) {\n            var parsed = text.parseName(moduleName),\n                extPart = parsed.ext ? '.' + parsed.ext : '',\n                nonStripName = parsed.moduleName + extPart,\n                //Use a '.js' file name so that it indicates it is a\n                //script that can be loaded across domains.\n                fileName = req.toUrl(parsed.moduleName + extPart) + '.js';\n\n            //Leverage own load() method to load plugin value, but only\n            //write out values that do not have the strip argument,\n            //to avoid any potential issues with ! in file names.\n            text.load(nonStripName, req, function (value) {\n                //Use own write() method to construct full module value.\n                //But need to create shell that translates writeFile's\n                //write() to the right interface.\n                var textWrite = function (contents) {\n                    return write(fileName, contents);\n                };\n                textWrite.asModule = function (moduleName, contents) {\n                    return write.asModule(moduleName, fileName, contents);\n                };\n\n                text.write(pluginName, nonStripName, textWrite, config);\n            }, config);\n        }\n    };\n\n    if (masterConfig.env === 'node' || (!masterConfig.env &&\n            typeof process !== \"undefined\" &&\n            process.versions &&\n            !!process.versions.node &&\n            !process.versions['node-webkit'])) {\n        //Using special require.nodeRequire, something added by r.js.\n        fs = require.nodeRequire('fs');\n\n        text.get = function (url, callback, errback) {\n            try {\n                var file = fs.readFileSync(url, 'utf8');\n                //Remove BOM (Byte Mark Order) from utf8 files if it is there.\n                if (file.indexOf('\\uFEFF') === 0) {\n                    file = file.substring(1);\n                }\n                callback(file);\n            } catch (e) {\n                errback(e);\n            }\n        };\n    } else if (masterConfig.env === 'xhr' || (!masterConfig.env &&\n            text.createXhr())) {\n        text.get = function (url, callback, errback, headers) {\n            var xhr = text.createXhr(), header;\n            xhr.open('GET', url, true);\n\n            //Allow plugins direct access to xhr headers\n            if (headers) {\n                for (header in headers) {\n                    if (headers.hasOwnProperty(header)) {\n                        xhr.setRequestHeader(header.toLowerCase(), headers[header]);\n                    }\n                }\n            }\n\n            //Allow overrides specified in config\n            if (masterConfig.onXhr) {\n                masterConfig.onXhr(xhr, url);\n            }\n\n            xhr.onreadystatechange = function (evt) {\n                var status, err;\n                //Do not explicitly handle errors, those should be\n                //visible via console output in the browser.\n                if (xhr.readyState === 4) {\n                    status = xhr.status;\n                    if (status > 399 && status < 600) {\n                        //An http 4xx or 5xx error. Signal an error.\n                        err = new Error(url + ' HTTP status: ' + status);\n                        err.xhr = xhr;\n                        errback(err);\n                    } else {\n                        callback(xhr.responseText);\n                    }\n\n                    if (masterConfig.onXhrComplete) {\n                        masterConfig.onXhrComplete(xhr, url);\n                    }\n                }\n            };\n            xhr.send(null);\n        };\n    } else if (masterConfig.env === 'rhino' || (!masterConfig.env &&\n            typeof Packages !== 'undefined' && typeof java !== 'undefined')) {\n        //Why Java, why is this so awkward?\n        text.get = function (url, callback) {\n            var stringBuffer, line,\n                encoding = \"utf-8\",\n                file = new java.io.File(url),\n                lineSeparator = java.lang.System.getProperty(\"line.separator\"),\n                input = new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(file), encoding)),\n                content = '';\n            try {\n                stringBuffer = new java.lang.StringBuffer();\n                line = input.readLine();\n\n                // Byte Order Mark (BOM) - The Unicode Standard, version 3.0, page 324\n                // http://www.unicode.org/faq/utf_bom.html\n\n                // Note that when we use utf-8, the BOM should appear as \"EF BB BF\", but it doesn't due to this bug in the JDK:\n                // http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4508058\n                if (line && line.length() && line.charAt(0) === 0xfeff) {\n                    // Eat the BOM, since we've already found the encoding on this file,\n                    // and we plan to concatenating this buffer with others; the BOM should\n                    // only appear at the top of a file.\n                    line = line.substring(1);\n                }\n\n                if (line !== null) {\n                    stringBuffer.append(line);\n                }\n\n                while ((line = input.readLine()) !== null) {\n                    stringBuffer.append(lineSeparator);\n                    stringBuffer.append(line);\n                }\n                //Make sure we return a JavaScript string and not a Java string.\n                content = String(stringBuffer.toString()); //String\n            } finally {\n                input.close();\n            }\n            callback(content);\n        };\n    } else if (masterConfig.env === 'xpconnect' || (!masterConfig.env &&\n            typeof Components !== 'undefined' && Components.classes &&\n            Components.interfaces)) {\n        //Avert your gaze!\n        Cc = Components.classes,\n        Ci = Components.interfaces;\n        Components.utils['import']('resource://gre/modules/FileUtils.jsm');\n        xpcIsWindows = ('@mozilla.org/windows-registry-key;1' in Cc);\n\n        text.get = function (url, callback) {\n            var inStream, convertStream, fileObj,\n                readData = {};\n\n            if (xpcIsWindows) {\n                url = url.replace(/\\//g, '\\\\');\n            }\n\n            fileObj = new FileUtils.File(url);\n\n            //XPCOM, you so crazy\n            try {\n                inStream = Cc['@mozilla.org/network/file-input-stream;1']\n                           .createInstance(Ci.nsIFileInputStream);\n                inStream.init(fileObj, 1, 0, false);\n\n                convertStream = Cc['@mozilla.org/intl/converter-input-stream;1']\n                                .createInstance(Ci.nsIConverterInputStream);\n                convertStream.init(inStream, \"utf-8\", inStream.available(),\n                Ci.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER);\n\n                convertStream.readString(inStream.available(), readData);\n                convertStream.close();\n                inStream.close();\n                callback(readData.value);\n            } catch (e) {\n                throw new Error((fileObj && fileObj.path || '') + ': ' + e);\n            }\n        };\n    }\n    return text;\n});\n",
          "filepath": "data/repos/processing/p5.js-0.6/docs/yuidoc-p5-theme-src/scripts/vendor/require/text.js",
          "repo": "processing/p5.js",
          "version": "0.6",
          "chunk_index": 0,
          "chunk_id": "e8cc65ac-034d-451e-9f4f-159dea289062"
        }
      },
      {
        "id": "f2e59173-c9ee-44d5-8899-ee525577e019",
        "score": 0.015625,
        "payload": {
          "text": "/*! p5.sound.js v0.3.7 2018-01-19 */\n/**\n *  p5.sound extends p5 with <a href=\"http://caniuse.com/audio-api\"\n *  target=\"_blank\">Web Audio</a> functionality including audio input,\n *  playback, analysis and synthesis.\n *  <br/><br/>\n *  <a href=\"#/p5.SoundFile\"><b>p5.SoundFile</b></a>: Load and play sound files.<br/>\n *  <a href=\"#/p5.Amplitude\"><b>p5.Amplitude</b></a>: Get the current volume of a sound.<br/>\n *  <a href=\"#/p5.AudioIn\"><b>p5.AudioIn</b></a>: Get sound from an input source, typically\n *    a computer microphone.<br/>\n *  <a href=\"#/p5.FFT\"><b>p5.FFT</b></a>: Analyze the frequency of sound. Returns\n *    results from the frequency spectrum or time domain (waveform).<br/>\n *  <a href=\"#/p5.Oscillator\"><b>p5.Oscillator</b></a>: Generate Sine,\n *    Triangle, Square and Sawtooth waveforms. Base class of\n *    <a href=\"#/p5.Noise\">p5.Noise</a> and <a href=\"#/p5.Pulse\">p5.Pulse</a>.\n *    <br/>\n *  <a href=\"#/p5.Env\"><b>p5.Env</b></a>: An Envelope is a series\n *    of fades over time. Often used to control an object's\n *    output gain level as an \"ADSR Envelope\" (Attack, Decay,\n *    Sustain, Release). Can also modulate other parameters.<br/>\n *  <a href=\"#/p5.Delay\"><b>p5.Delay</b></a>: A delay effect with\n *    parameters for feedback, delayTime, and lowpass filter.<br/>\n *  <a href=\"#/p5.Filter\"><b>p5.Filter</b></a>: Filter the frequency range of a\n *    sound.\n *  <br/>\n *  <a href=\"#/p5.Reverb\"><b>p5.Reverb</b></a>: Add reverb to a sound by specifying\n *    duration and decay. <br/>\n *  <b><a href=\"#/p5.Convolver\">p5.Convolver</a>:</b> Extends\n *  <a href=\"#/p5.Reverb\">p5.Reverb</a> to simulate the sound of real\n *    physical spaces through convolution.<br/>\n *  <b><a href=\"#/p5.SoundRecorder\">p5.SoundRecorder</a></b>: Record sound for playback\n *    / save the .wav file.\n *  <b><a href=\"#/p5.Phrase\">p5.Phrase</a></b>, <b><a href=\"#/p5.Part\">p5.Part</a></b> and\n *  <b><a href=\"#/p5.Score\">p5.Score</a></b>: Compose musical sequences.\n *  <br/><br/>\n *  p5.sound is on <a href=\"https://github.com/therewasaguy/p5.sound/\">GitHub</a>.\n *  Download the latest version\n *  <a href=\"https://github.com/therewasaguy/p5.sound/blob/master/lib/p5.sound.js\">here</a>.\n *\n *  @module p5.sound\n *  @submodule p5.sound\n *  @for p5.sound\n *  @main\n */\n\n/**\n *  p5.sound\n *  https://p5js.org/reference/#/libraries/p5.sound\n *\n *  From the Processing Foundation and contributors\n *  https://github.com/processing/p5.js-sound/graphs/contributors\n *\n *  MIT License (MIT)\n *  https://github.com/processing/p5.js-sound/blob/master/LICENSE\n *\n *  Some of the many audio libraries & resources that inspire p5.sound:\n *   - TONE.js (c) Yotam Mann. Licensed under The MIT License (MIT). https://github.com/TONEnoTONE/Tone.js\n *   - buzz.js (c) Jay Salvat. Licensed under The MIT License (MIT). http://buzz.jaysalvat.com/\n *   - Boris Smus Web Audio API book, 2013. Licensed under the Apache License http://www.apache.org/licenses/LICENSE-2.0\n *   - wavesurfer.js https://github.com/katspaugh/wavesurfer.js\n *   - Web Audio Components by Jordan Santell https://github.com/web-audio-components\n *   - Wilm Thoben's Sound library for Processing https://github.com/processing/processing/tree/master/java/libraries/sound\n *\n *   Web Audio API: http://w3.org/TR/webaudio/\n */\n\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd)\n    define('p5.sound', ['p5'], function (p5) { (factory(p5));});\n  else if (typeof exports === 'object')\n    factory(require('../p5'));\n  else\n    factory(root['p5']);\n}(this, function (p5) {\n\nvar sndcore;\n'use strict';\nsndcore = function () {\n  /* AudioContext Monkeypatch\n     Copyright 2013 Chris Wilson\n     Licensed under the Apache License, Version 2.0 (the \"License\");\n     you may not use this file except in compliance with the License.\n     You may obtain a copy of the License at\n         http://www.apache.org/licenses/LICENSE-2.0\n     Unless required by applicable law or agreed to in writing, software\n     distributed under the License is distributed on an \"AS IS\" BASIS,\n     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n     See the License for the specific language governing permissions and\n     limitations under the License.\n  */\n  (function () {\n    function fixSetTarget(param) {\n      if (!param)\n        // if NYI, just return\n        return;\n      if (!param.setTargetAtTime)\n        param.setTargetAtTime = param.setTargetValueAtTime;\n    }\n    if (window.hasOwnProperty('webkitAudioContext') && !window.hasOwnProperty('AudioContext')) {\n      window.AudioContext = window.webkitAudioContext;\n      if (typeof AudioContext.prototype.createGain !== 'function')\n        AudioContext.prototype.createGain = AudioContext.prototype.createGainNode;\n      if (typeof AudioContext.prototype.createDelay !== 'function')\n        AudioContext.prototype.createDelay = AudioContext.prototype.createDelayNode;\n      if (typeof AudioContext.prototype.createScriptProcessor !== 'function')\n        AudioContext.prototype.createScriptProcessor = AudioContext.prototype.createJavaScriptNode;\n      if (typeof AudioContext.prototype.createPeriodicWave !== 'function')\n        AudioContext.prototype.createPeriodicWave = AudioContext.prototype.createWaveTable;\n      AudioContext.prototype.internal_createGain = AudioContext.prototype.createGain;\n      AudioContext.prototype.createGain = function () {\n        var node = this.internal_createGain();\n        fixSetTarget(node.gain);\n        return node;\n      };\n      AudioContext.prototype.internal_createDelay = AudioContext.prototype.createDelay;\n      AudioContext.prototype.createDelay = function (maxDelayTime) {\n        var node = maxDelayTime ? this.internal_createDelay(maxDelayTime) : this.internal_createDelay();\n        fixSetTarget(node.delayTime);\n        return node;\n      };\n      AudioContext.prototype.internal_createBufferSource = AudioContext.prototype.createBufferSource;\n      AudioContext.prototype.createBufferSource = function () {\n        var node = this.internal_createBufferSource();\n        if (!node.start) {\n          node.start = function (when, offset, duration) {\n            if (offset || duration)\n              this.noteGrainOn(when || 0, offset, duration);\n            else\n              this.noteOn(when || 0);\n          };\n        } else {\n          node.internal_start = node.start;\n          node.start = function (when, offset, duration) {\n            if (typeof duration !== 'undefined')\n              node.internal_start(when || 0, offset, duration);\n            else\n              node.internal_start(when || 0, offset || 0);\n          };\n        }\n        if (!node.stop) {\n          node.stop = function (when) {\n            this.noteOff(when || 0);\n          };\n        } else {\n          node.internal_stop = node.stop;\n          node.stop = function (when) {\n            node.internal_stop(when || 0);\n          };\n        }\n        fixSetTarget(node.playbackRate);\n        return node;\n      };\n      AudioContext.prototype.internal_createDynamicsCompressor = AudioContext.prototype.createDynamicsCompressor;\n      AudioContext.prototype.createDynamicsCompressor = function () {\n        var node = this.internal_createDynamicsCompressor();\n        fixSetTarget(node.threshold);\n        fixSetTarget(node.knee);\n        fixSetTarget(node.ratio);\n        fixSetTarget(node.reduction);\n        fixSetTarget(node.attack);\n        fixSetTarget(node.release);\n        return node;\n      };\n      AudioContext.prototype.internal_createBiquadFilter = AudioContext.prototype.createBiquadFilter;\n      AudioContext.prototype.createBiquadFilter = function () {\n        var node = this.internal_createBiquadFilter();\n        fixSetTarget(node.frequency);\n        fixSetTarget(node.detune);\n        fixSetTarget(node.Q);\n        fixSetTarget(node.gain);\n        return node;\n      };\n      if (typeof AudioContext.prototype.createOscillator !== 'function') {\n        AudioContext.prototype.internal_createOscillator = AudioContext.prototype.createOscillator;\n        AudioContext.prototype.createOscillator = function () {\n          var node = this.internal_createOscillator();\n          if (!node.start) {\n            node.start = function (when) {\n              this.noteOn(when || 0);\n            };\n          } else {\n            node.internal_start = node.start;\n            node.start = function (when) {\n              node.internal_start(when || 0);\n            };\n          }\n          if (!node.stop) {\n            node.stop = function (when) {\n              this.noteOff(when || 0);\n            };\n          } else {\n            node.internal_stop = node.stop;\n            node.stop = function (when) {\n              node.internal_stop(when || 0);\n            };\n          }\n          if (!node.setPeriodicWave)\n            node.setPeriodicWave = node.setWaveTable;\n          fixSetTarget(node.frequency);\n          fixSetTarget(node.detune);\n          return node;\n        };\n      }\n    }\n    if (window.hasOwnProperty('webkitOfflineAudioContext') && !window.hasOwnProperty('OfflineAudioContext')) {\n      window.OfflineAudioContext = window.webkitOfflineAudioContext;\n    }\n  }(window));\n  // <-- end MonkeyPatch.\n  // Create the Audio Context\n  var audiocontext = new window.AudioContext();\n  /**\n   * <p>Returns the Audio Context for this sketch. Useful for users\n   * who would like to dig deeper into the <a target='_blank' href=\n   * 'http://webaudio.github.io/web-audio-api/'>Web Audio API\n   * </a>.</p>\n   *\n   * @method getAudioContext\n   * @return {Object}    AudioContext for this sketch\n   */\n  p5.prototype.getAudioContext = function () {\n    return audiocontext;\n  };\n  // Polyfill for AudioIn, also handled by p5.dom createCapture\n  navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;\n  /**\n   * Determine which filetypes are supported (inspired by buzz.js)\n   * The audio element (el) will only be used to test browser support for various audio formats\n   */\n  var el = document.createElement('audio');\n  p5.prototype.isSupported = function () {\n    return !!el.canPlayType;\n  };\n  var isOGGSupported = function () {\n    return !!el.canPlayType && el.canPlayType('audio/ogg; codecs=\"vorbis\"');\n  };\n  var isMP3Supported = function () {\n    return !!el.canPlayType && el.canPlayType('audio/mpeg;');\n  };\n  var isWAVSupported = function () {\n    return !!el.canPlayType && el.canPlayType('audio/wav; codecs=\"1\"');\n  };\n  var isAACSupported = function () {\n    return !!el.canPlayType && (el.canPlayType('audio/x-m4a;') || el.canPlayType('audio/aac;'));\n  };\n  var isAIFSupported = function () {\n    return !!el.canPlayType && el.canPlayType('audio/x-aiff;');\n  };\n  p5.prototype.isFileSupported = function (extension) {\n    switch (extension.toLowerCase()) {\n    case 'mp3':\n      return isMP3Supported();\n    case 'wav':\n      return isWAVSupported();\n    case 'ogg':\n      return isOGGSupported();\n    case 'aac':\n    case 'm4a':\n    case 'mp4':\n      return isAACSupported();\n    case 'aif':\n    case 'aiff':\n      return isAIFSupported();\n    default:\n      return false;\n    }\n  };\n  // if it is iOS, we have to have a user interaction to start Web Audio\n  // http://paulbakaus.com/tutorials/html5/web-audio-on-ios/\n  var iOS = navigator.userAgent.match(/(iPad|iPhone|iPod)/g) ? true : false;\n  if (iOS) {\n    var iosStarted = false;\n    var startIOS = function () {\n      if (iosStarted)\n        return;\n      // create empty buffer\n      var buffer = audiocontext.createBuffer(1, 1, 22050);\n      var source = audiocontext.createBufferSource();\n      source.buffer = buffer;\n      // connect to output (your speakers)\n      source.connect(audiocontext.destination);\n      // play the file\n      source.start(0);\n      console.log('start ios!');\n      if (audiocontext.state === 'running') {\n        iosStarted = true;\n      }\n    };\n    document.addEventListener('touchend', startIOS, false);\n    document.addEventListener('touchstart', startIOS, false);\n  }\n}();\nvar master;\n'use strict';\nmaster = function () {\n  /**\n   * Master contains AudioContext and the master sound output.\n   */\n  var Master = function () {\n    var audiocontext = p5.prototype.getAudioContext();\n    this.input = audiocontext.createGain();\n    this.output = audiocontext.createGain();\n    //put a hard limiter on the output\n    this.limiter = audiocontext.createDynamicsCompressor();\n    this.limiter.threshold.value = 0;\n    this.limiter.ratio.value = 20;\n    this.audiocontext = audiocontext;\n    this.output.disconnect();\n    // connect input to limiter\n    this.input.connect(this.limiter);\n    // connect limiter to output\n    this.limiter.connect(this.output);\n    // meter is just for global Amplitude / FFT analysis\n    this.meter = audiocontext.createGain();\n    this.fftMeter = audiocontext.createGain();\n    this.output.connect(this.meter);\n    this.output.connect(this.fftMeter);\n    // connect output to destination\n    this.output.connect(this.audiocontext.destination);\n    // an array of all sounds in the sketch\n    this.soundArray = [];\n    // an array of all musical parts in the sketch\n    this.parts = [];\n    // file extensions to search for\n    this.extensions = [];\n  };\n  // create a single instance of the p5Sound / master output for use within this sketch\n  var p5sound = new Master();\n  /**\n   * Returns a number representing the master amplitude (volume) for sound\n   * in this sketch.\n   *\n   * @method getMasterVolume\n   * @return {Number} Master amplitude (volume) for sound in this sketch.\n   *                  Should be between 0.0 (silence) and 1.0.\n   */\n  p5.prototype.getMasterVolume = function () {\n    return p5sound.output.gain.value;\n  };\n  /**\n   *  <p>Scale the output of all sound in this sketch</p>\n   *  Scaled between 0.0 (silence) and 1.0 (full volume).\n   *  1.0 is the maximum amplitude of a digital sound, so multiplying\n   *  by greater than 1.0 may cause digital distortion. To\n   *  fade, provide a <code>rampTime</code> parameter. For more\n   *  complex fades, see the Env class.\n   *\n   *  Alternately, you can pass in a signal source such as an\n   *  oscillator to modulate the amplitude with an audio signal.\n   *\n   *  <p><b>How This Works</b>: When you load the p5.sound module, it\n   *  creates a single instance of p5sound. All sound objects in this\n   *  module output to p5sound before reaching your computer's output.\n   *  So if you change the amplitude of p5sound, it impacts all of the\n   *  sound in this module.</p>\n   *\n   *  <p>If no value is provided, returns a Web Audio API Gain Node</p>\n   *\n   *  @method  masterVolume\n   *  @param {Number|Object} volume  Volume (amplitude) between 0.0\n   *                                     and 1.0 or modulating signal/oscillator\n   *  @param {Number} [rampTime]  Fade for t seconds\n   *  @param {Number} [timeFromNow]  Schedule this event to happen at\n   *                                 t seconds in the future\n   */\n  p5.prototype.masterVolume = function (vol, rampTime, tFromNow) {\n    if (typeof vol === 'number') {\n      var rampTime = rampTime || 0;\n      var tFromNow = tFromNow || 0;\n      var now = p5sound.audiocontext.currentTime;\n      var currentVol = p5sound.output.gain.value;\n      p5sound.output.gain.cancelScheduledValues(now + tFromNow);\n      p5sound.output.gain.linearRampToValueAtTime(currentVol, now + tFromNow);\n      p5sound.output.gain.linearRampToValueAtTime(vol, now + tFromNow + rampTime);\n    } else if (vol) {\n      vol.connect(p5sound.output.gain);\n    } else {\n      // return the Gain Node\n      return p5sound.output.gain;\n    }\n  };\n  /**\n   *  `p5.soundOut` is the p5.sound master output. It sends output to\n   *  the destination of this window's web audio context. It contains\n   *  Web Audio API nodes including a dyanmicsCompressor (<code>.limiter</code>),\n   *  and Gain Nodes for <code>.input</code> and <code>.output</code>.\n   *\n   *  @property {Object} soundOut\n   */\n  p5.prototype.soundOut = p5.soundOut = p5sound;\n  /**\n   *  a silent connection to the DesinationNode\n   *  which will ensure that anything connected to it\n   *  will not be garbage collected\n   *\n   *  @private\n   */\n  p5.soundOut._silentNode = p5sound.audiocontext.createGain();\n  p5.soundOut._silentNode.gain.value = 0;\n  p5.soundOut._silentNode.connect(p5sound.audiocontext.destination);\n  return p5sound;\n}();\nvar helpers;\n'use strict';\nhelpers = function () {\n  var p5sound = master;\n  /**\n   * @for p5\n   */\n  /**\n   * Returns a number representing the sample rate, in samples per second,\n   * of all sound objects in this audio context. It is determined by the\n   * sampling rate of your operating system's sound card, and it is not\n   * currently possile to change.\n   * It is often 44100, or twice the range of human hearing.\n   *\n   * @method sampleRate\n   * @return {Number} samplerate samples per second\n   */\n  p5.prototype.sampleRate = function () {\n    return p5sound.audiocontext.sampleRate;\n  };\n  /**\n   *  Returns the closest MIDI note value for\n   *  a given frequency.\n   *\n   *  @method freqToMidi\n   *  @param  {Number} frequency A freqeuncy, for example, the \"A\"\n   *                             above Middle C is 440Hz\n   *  @return {Number}   MIDI note value\n   */\n  p5.prototype.freqToMidi = function (f) {\n    var mathlog2 = Math.log(f / 440) / Math.log(2);\n    var m = Math.round(12 * mathlog2) + 69;\n    return m;\n  };\n  /**\n   *  Returns the frequency value of a MIDI note value.\n   *  General MIDI treats notes as integers where middle C\n   *  is 60, C# is 61, D is 62 etc. Useful for generating\n   *  musical frequencies with oscillators.\n   *\n   *  @method  midiToFreq\n   *  @param  {Number} midiNote The number of a MIDI note\n   *  @return {Number} Frequency value of the given MIDI note\n   *  @example\n   *  <div><code>\n   *  var notes = [60, 64, 67, 72];\n   *  var i = 0;\n   *\n   *  function setup() {\n   *    osc = new p5.Oscillator('Triangle');\n   *    osc.start();\n   *    frameRate(1);\n   *  }\n   *\n   *  function draw() {\n   *    var freq = midiToFreq(notes[i]);\n   *    osc.freq(freq);\n   *    i++;\n   *    if (i >= notes.length){\n   *      i = 0;\n   *    }\n   *  }\n   *  </code></div>\n   */\n  p5.prototype.midiToFreq = function (m) {\n    return 440 * Math.pow(2, (m - 69) / 12);\n  };\n  /**\n   *  List the SoundFile formats that you will include. LoadSound\n   *  will search your directory for these extensions, and will pick\n   *  a format that is compatable with the client's web browser.\n   *  <a href=\"http://media.io/\">Here</a> is a free online file\n   *  converter.\n   *\n   *  @method soundFormats\n   *  @param {String} [...formats] i.e. 'mp3', 'wav', 'ogg'\n   *  @example\n   *  <div><code>\n   *  function preload() {\n   *    // set the global sound formats\n   *    soundFormats('mp3', 'ogg');\n   *\n   *    // load either beatbox.mp3, or .ogg, depending on browser\n   *    mySound = loadSound('assets/beatbox.mp3');\n   *  }\n   *\n   *  function setup() {\n   *    mySound.play();\n   *  }\n   *  </code></div>\n   */\n  p5.prototype.soundFormats = function () {\n    // reset extensions array\n    p5sound.extensions = [];\n    // add extensions\n    for (var i = 0; i < arguments.length; i++) {\n      arguments[i] = arguments[i].toLowerCase();\n      if ([\n          'mp3',\n          'wav',\n          'ogg',\n          'm4a',\n          'aac'\n        ].indexOf(arguments[i]) > -1) {\n        p5sound.extensions.push(arguments[i]);\n      } else {\n        throw arguments[i] + ' is not a valid sound format!';\n      }\n    }\n  };\n  p5.prototype.disposeSound = function () {\n    for (var i = 0; i < p5sound.soundArray.length; i++) {\n      p5sound.soundArray[i].dispose();\n    }\n  };\n  // register removeSound to dispose of p5sound SoundFiles, Convolvers,\n  // Oscillators etc when sketch ends\n  p5.prototype.registerMethod('remove', p5.prototype.disposeSound);\n  p5.prototype._checkFileFormats = function (paths) {\n    var path;\n    // if path is a single string, check to see if extension is provided\n    if (typeof paths === 'string') {\n      path = paths;\n      // see if extension is provided\n      var extTest = path.split('.').pop();\n      // if an extension is provided...\n      if ([\n          'mp3',\n          'wav',\n          'ogg',\n          'm4a',\n          'aac'\n        ].indexOf(extTest) > -1) {\n        if (p5.prototype.isFileSupported(extTest)) {\n          path = path;\n        } else {\n          var pathSplit = path.split('.');\n          var pathCore = pathSplit[pathSplit.length - 1];\n          for (var i = 0; i < p5sound.extensions.length; i++) {\n            var extension = p5sound.extensions[i];\n            var supported = p5.prototype.isFileSupported(extension);\n            if (supported) {\n              pathCore = '';\n              if (pathSplit.length === 2) {\n                pathCore += pathSplit[0];\n              }\n              for (var i = 1; i <= pathSplit.length - 2; i++) {\n                var p = pathSplit[i];\n                pathCore += '.' + p;\n              }\n              path = pathCore += '.';\n              path = path += extension;\n              break;\n            }\n          }\n        }\n      } else {\n        for (var i = 0; i < p5sound.extensions.length; i++) {\n          var extension = p5sound.extensions[i];\n          var supported = p5.prototype.isFileSupported(extension);\n          if (supported) {\n            path = path + '.' + extension;\n            break;\n          }\n        }\n      }\n    } else if (typeof paths === 'object') {\n      for (var i = 0; i < paths.length; i++) {\n        var extension = paths[i].split('.').pop();\n        var supported = p5.prototype.isFileSupported(extension);\n        if (supported) {\n          // console.log('.'+extension + ' is ' + supported +\n          //  ' supported by your browser.');\n          path = paths[i];\n          break;\n        }\n      }\n    }\n    return path;\n  };\n  /**\n   *  Used by Osc and Env to chain signal math\n   */\n  p5.prototype._mathChain = function (o, math, thisChain, nextChain, type) {\n    // if this type of math already exists in the chain, replace it\n    for (var i in o.mathOps) {\n      if (o.mathOps[i] instanceof type) {\n        o.mathOps[i].dispose();\n        thisChain = i;\n        if (thisChain < o.mathOps.length - 1) {\n          nextChain = o.mathOps[i + 1];\n        }\n      }\n    }\n    o.mathOps[thisChain - 1].disconnect();\n    o.mathOps[thisChain - 1].connect(math);\n    math.connect(nextChain);\n    o.mathOps[thisChain] = math;\n    return o;\n  };\n  return { midiToFreq: p5.prototype.midiToFreq };\n}(master);\nvar errorHandler;\n'use strict';\nerrorHandler = function () {\n  /*\n      Helper function to generate an error\n      with a custom stack trace that points to the sketch\n      and removes other parts of the stack trace.\n\n      @private\n      @class customError\n      @constructor\n      @param  {String} name         custom  error name\n      @param  {String} errorTrace   custom error trace\n      @param  {String} failedPath     path to the file that failed to load\n      @property {String} name custom error name\n      @property {String} message custom error message\n      @property {String} stack trace the error back to a line in the user's sketch.\n                               Note: this edits out stack trace within p5.js and p5.sound.\n      @property {String} originalStack unedited, original stack trace\n      @property {String} failedPath path to the file that failed to load\n      @return {Error}     returns a custom Error object\n     */\n  var CustomError = function (name, errorTrace, failedPath) {\n    var err = new Error();\n    var tempStack, splitStack;\n    err.name = name;\n    err.originalStack = err.stack + errorTrace;\n    tempStack = err.stack + errorTrace;\n    err.failedPath = failedPath;\n    // only print the part of the stack trace that refers to the user code:\n    var splitStack = tempStack.split('\\n');\n    splitStack = splitStack.filter(function (ln) {\n      return !ln.match(/(p5.|native code|globalInit)/g);\n    });\n    err.stack = splitStack.join('\\n');\n    return err;\n  };\n  return CustomError;\n}();\nvar panner;\n'use strict';\npanner = function () {\n  var p5sound = master;\n  var ac = p5sound.audiocontext;\n  // Stereo panner\n  // if there is a stereo panner node use it\n  if (typeof ac.createStereoPanner !== 'undefined') {\n    p5.Panner = function (input, output) {\n      this.stereoPanner = this.input = ac.createStereoPanner();\n      input.connect(this.stereoPanner);\n      this.stereoPanner.connect(output);\n    };\n    p5.Panner.prototype.pan = function (val, tFromNow) {\n      var time = tFromNow || 0;\n      var t = ac.currentTime + time;\n      this.stereoPanner.pan.linearRampToValueAtTime(val, t);\n    };\n    //not implemented because stereopanner\n    //node does not require this and will automatically\n    //convert single channel or multichannel to stereo.\n    //tested with single and stereo, not with (>2) multichannel\n    p5.Panner.prototype.inputChannels = function () {\n    };\n    p5.Panner.prototype.connect = function (obj) {\n      this.stereoPanner.connect(obj);\n    };\n    p5.Panner.prototype.disconnect = function () {\n      this.stereoPanner.disconnect();\n    };\n  } else {\n    // if there is no createStereoPanner object\n    // such as in safari 7.1.7 at the time of writing this",
          "filepath": "data/repos/processing/p5.js-0.6/lib/addons/p5.sound.js",
          "repo": "processing/p5.js",
          "version": "0.6",
          "chunk_index": 0,
          "chunk_id": "f2e59173-c9ee-44d5-8899-ee525577e019"
        }
      },
      {
        "id": "0b9029ef-46ea-4f5b-85a4-67afb5ef3760",
        "score": 0.015384615384615385,
        "payload": {
          "text": "    * @param {Array} fallthroughStylePatterns patterns that will be tried in\n    *   order if the shortcut ones fail.  May have shortcuts.\n    *\n    * @return {function (Object)} a\n    *   function that takes source code and returns a list of decorations.\n    */\n  function createSimpleLexer(shortcutStylePatterns, fallthroughStylePatterns) {\n    var shortcuts = {};\n    var tokenizer;\n    (function () {\n      var allPatterns = shortcutStylePatterns.concat(fallthroughStylePatterns);\n      var allRegexs = [];\n      var regexKeys = {};\n      for (var i = 0, n = allPatterns.length; i < n; ++i) {\n        var patternParts = allPatterns[i];\n        var shortcutChars = patternParts[3];\n        if (shortcutChars) {\n          for (var c = shortcutChars.length; --c >= 0;) {\n            shortcuts[shortcutChars.charAt(c)] = patternParts;\n          }\n        }\n        var regex = patternParts[1];\n        var k = '' + regex;\n        if (!regexKeys.hasOwnProperty(k)) {\n          allRegexs.push(regex);\n          regexKeys[k] = null;\n        }\n      }\n      allRegexs.push(/[\\0-\\uffff]/);\n      tokenizer = combinePrefixPatterns(allRegexs);\n    })();\n\n    var nPatterns = fallthroughStylePatterns.length;\n\n    /**\n     * Lexes job.sourceCode and produces an output array job.decorations of\n     * style classes preceded by the position at which they start in\n     * job.sourceCode in order.\n     *\n     * @param {Object} job an object like <pre>{\n     *    sourceCode: {string} sourceText plain text,\n     *    basePos: {int} position of job.sourceCode in the larger chunk of\n     *        sourceCode.\n     * }</pre>\n     */\n    var decorate = function (job) {\n      var sourceCode = job.sourceCode, basePos = job.basePos;\n      /** Even entries are positions in source in ascending order.  Odd enties\n        * are style markers (e.g., PR_COMMENT) that run from that position until\n        * the end.\n        * @type {Array.<number|string>}\n        */\n      var decorations = [basePos, PR_PLAIN];\n      var pos = 0;  // index into sourceCode\n      var tokens = sourceCode.match(tokenizer) || [];\n      var styleCache = {};\n\n      for (var ti = 0, nTokens = tokens.length; ti < nTokens; ++ti) {\n        var token = tokens[ti];\n        var style = styleCache[token];\n        var match = void 0;\n\n        var isEmbedded;\n        if (typeof style === 'string') {\n          isEmbedded = false;\n        } else {\n          var patternParts = shortcuts[token.charAt(0)];\n          if (patternParts) {\n            match = token.match(patternParts[1]);\n            style = patternParts[0];\n          } else {\n            for (var i = 0; i < nPatterns; ++i) {\n              patternParts = fallthroughStylePatterns[i];\n              match = token.match(patternParts[1]);\n              if (match) {\n                style = patternParts[0];\n                break;\n              }\n            }\n\n            if (!match) {  // make sure that we make progress\n              style = PR_PLAIN;\n            }\n          }\n\n          isEmbedded = style.length >= 5 && 'lang-' === style.substring(0, 5);\n          if (isEmbedded && !(match && typeof match[1] === 'string')) {\n            isEmbedded = false;\n            style = PR_SOURCE;\n          }\n\n          if (!isEmbedded) { styleCache[token] = style; }\n        }\n\n        var tokenStart = pos;\n        pos += token.length;\n\n        if (!isEmbedded) {\n          decorations.push(basePos + tokenStart, style);\n        } else {  // Treat group 1 as an embedded block of source code.\n          var embeddedSource = match[1];\n          var embeddedSourceStart = token.indexOf(embeddedSource);\n          var embeddedSourceEnd = embeddedSourceStart + embeddedSource.length;\n          if (match[2]) {\n            // If embeddedSource can be blank, then it would match at the\n            // beginning which would cause us to infinitely recurse on the\n            // entire token, so we catch the right context in match[2].\n            embeddedSourceEnd = token.length - match[2].length;\n            embeddedSourceStart = embeddedSourceEnd - embeddedSource.length;\n          }\n          var lang = style.substring(5);\n          // Decorate the left of the embedded source\n          appendDecorations(\n              basePos + tokenStart,\n              token.substring(0, embeddedSourceStart),\n              decorate, decorations);\n          // Decorate the embedded source\n          appendDecorations(\n              basePos + tokenStart + embeddedSourceStart,\n              embeddedSource,\n              langHandlerForExtension(lang, embeddedSource),\n              decorations);\n          // Decorate the right of the embedded section\n          appendDecorations(\n              basePos + tokenStart + embeddedSourceEnd,\n              token.substring(embeddedSourceEnd),\n              decorate, decorations);\n        }\n      }\n      job.decorations = decorations;\n    };\n    return decorate;\n  }\n\n  /** returns a function that produces a list of decorations from source text.\n    *\n    * This code treats \", ', and ` as string delimiters, and \\ as a string\n    * escape.  It does not recognize perl's qq() style strings.\n    * It has no special handling for double delimiter escapes as in basic, or\n    * the tripled delimiters used in python, but should work on those regardless\n    * although in those cases a single string literal may be broken up into\n    * multiple adjacent string literals.\n    *\n    * It recognizes C, C++, and shell style comments.\n    *\n    * @param {Object} options a set of optional parameters.\n    * @return {function (Object)} a function that examines the source code\n    *     in the input job and builds the decoration list.\n    */\n  function sourceDecorator(options) {\n    var shortcutStylePatterns = [], fallthroughStylePatterns = [];\n    if (options['tripleQuotedStrings']) {\n      // '''multi-line-string''', 'single-line-string', and double-quoted\n      shortcutStylePatterns.push(\n          [PR_STRING,  /^(?:\\'\\'\\'(?:[^\\'\\\\]|\\\\[\\s\\S]|\\'{1,2}(?=[^\\']))*(?:\\'\\'\\'|$)|\\\"\\\"\\\"(?:[^\\\"\\\\]|\\\\[\\s\\S]|\\\"{1,2}(?=[^\\\"]))*(?:\\\"\\\"\\\"|$)|\\'(?:[^\\\\\\']|\\\\[\\s\\S])*(?:\\'|$)|\\\"(?:[^\\\\\\\"]|\\\\[\\s\\S])*(?:\\\"|$))/,\n           null, '\\'\"']);\n    } else if (options['multiLineStrings']) {\n      // 'multi-line-string', \"multi-line-string\"\n      shortcutStylePatterns.push(\n          [PR_STRING,  /^(?:\\'(?:[^\\\\\\']|\\\\[\\s\\S])*(?:\\'|$)|\\\"(?:[^\\\\\\\"]|\\\\[\\s\\S])*(?:\\\"|$)|\\`(?:[^\\\\\\`]|\\\\[\\s\\S])*(?:\\`|$))/,\n           null, '\\'\"`']);\n    } else {\n      // 'single-line-string', \"single-line-string\"\n      shortcutStylePatterns.push(\n          [PR_STRING,\n           /^(?:\\'(?:[^\\\\\\'\\r\\n]|\\\\.)*(?:\\'|$)|\\\"(?:[^\\\\\\\"\\r\\n]|\\\\.)*(?:\\\"|$))/,\n           null, '\"\\'']);\n    }\n    if (options['verbatimStrings']) {\n      // verbatim-string-literal production from the C# grammar.  See issue 93.\n      fallthroughStylePatterns.push(\n          [PR_STRING, /^@\\\"(?:[^\\\"]|\\\"\\\")*(?:\\\"|$)/, null]);\n    }\n    var hc = options['hashComments'];\n    if (hc) {\n      if (options['cStyleComments']) {\n        if (hc > 1) {  // multiline hash comments\n          shortcutStylePatterns.push(\n              [PR_COMMENT, /^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/, null, '#']);\n        } else {\n          // Stop C preprocessor declarations at an unclosed open comment\n          shortcutStylePatterns.push(\n              [PR_COMMENT, /^#(?:(?:define|e(?:l|nd)if|else|error|ifn?def|include|line|pragma|undef|warning)\\b|[^\\r\\n]*)/,\n               null, '#']);\n        }\n        // #include <stdio.h>\n        fallthroughStylePatterns.push(\n            [PR_STRING,\n             /^<(?:(?:(?:\\.\\.\\/)*|\\/?)(?:[\\w-]+(?:\\/[\\w-]+)+)?[\\w-]+\\.h(?:h|pp|\\+\\+)?|[a-z]\\w*)>/,\n             null]);\n      } else {\n        shortcutStylePatterns.push([PR_COMMENT, /^#[^\\r\\n]*/, null, '#']);\n      }\n    }\n    if (options['cStyleComments']) {\n      fallthroughStylePatterns.push([PR_COMMENT, /^\\/\\/[^\\r\\n]*/, null]);\n      fallthroughStylePatterns.push(\n          [PR_COMMENT, /^\\/\\*[\\s\\S]*?(?:\\*\\/|$)/, null]);\n    }\n    var regexLiterals = options['regexLiterals'];\n    if (regexLiterals) {\n      /**\n       * @const\n       */\n      var regexExcls = regexLiterals > 1\n        ? ''  // Multiline regex literals\n        : '\\n\\r';\n      /**\n       * @const\n       */\n      var regexAny = regexExcls ? '.' : '[\\\\S\\\\s]';\n      /**\n       * @const\n       */\n      var REGEX_LITERAL = (\n          // A regular expression literal starts with a slash that is\n          // not followed by * or / so that it is not confused with\n          // comments.\n          '/(?=[^/*' + regexExcls + '])'\n          // and then contains any number of raw characters,\n          + '(?:[^/\\\\x5B\\\\x5C' + regexExcls + ']'\n          // escape sequences (\\x5C),\n          +    '|\\\\x5C' + regexAny\n          // or non-nesting character sets (\\x5B\\x5D);\n          +    '|\\\\x5B(?:[^\\\\x5C\\\\x5D' + regexExcls + ']'\n          +             '|\\\\x5C' + regexAny + ')*(?:\\\\x5D|$))+'\n          // finally closed by a /.\n          + '/');\n      fallthroughStylePatterns.push(\n          ['lang-regex',\n           RegExp('^' + REGEXP_PRECEDER_PATTERN + '(' + REGEX_LITERAL + ')')\n           ]);\n    }\n\n    var types = options['types'];\n    if (types) {\n      fallthroughStylePatterns.push([PR_TYPE, types]);\n    }\n\n    var keywords = (\"\" + options['keywords']).replace(/^ | $/g, '');\n    if (keywords.length) {\n      fallthroughStylePatterns.push(\n          [PR_KEYWORD,\n           new RegExp('^(?:' + keywords.replace(/[\\s,]+/g, '|') + ')\\\\b'),\n           null]);\n    }\n\n    shortcutStylePatterns.push([PR_PLAIN,       /^\\s+/, null, ' \\r\\n\\t\\xA0']);\n\n    var punctuation =\n      // The Bash man page says\n\n      // A word is a sequence of characters considered as a single\n      // unit by GRUB. Words are separated by metacharacters,\n      // which are the following plus space, tab, and newline: { }\n      // | & $ ; < >\n      // ...\n      \n      // A word beginning with # causes that word and all remaining\n      // characters on that line to be ignored.\n\n      // which means that only a '#' after /(?:^|[{}|&$;<>\\s])/ starts a\n      // comment but empirically\n      // $ echo {#}\n      // {#}\n      // $ echo \\$#\n      // $#\n      // $ echo }#\n      // }#\n\n      // so /(?:^|[|&;<>\\s])/ is more appropriate.\n\n      // http://gcc.gnu.org/onlinedocs/gcc-2.95.3/cpp_1.html#SEC3\n      // suggests that this definition is compatible with a\n      // default mode that tries to use a single token definition\n      // to recognize both bash/python style comments and C\n      // preprocessor directives.\n\n      // This definition of punctuation does not include # in the list of\n      // follow-on exclusions, so # will not be broken before if preceeded\n      // by a punctuation character.  We could try to exclude # after\n      // [|&;<>] but that doesn't seem to cause many major problems.\n      // If that does turn out to be a problem, we should change the below\n      // when hc is truthy to include # in the run of punctuation characters\n      // only when not followint [|&;<>].\n      '^.[^\\\\s\\\\w.$@\\'\"`/\\\\\\\\]*';\n    if (options['regexLiterals']) {\n      punctuation += '(?!\\s*\\/)';\n    }\n\n    fallthroughStylePatterns.push(\n        // TODO(mikesamuel): recognize non-latin letters and numerals in idents\n        [PR_LITERAL,     /^@[a-z_$][a-z_$@0-9]*/i, null],\n        [PR_TYPE,        /^(?:[@_]?[A-Z]+[a-z][A-Za-z_$@0-9]*|\\w+_t\\b)/, null],\n        [PR_PLAIN,       /^[a-z_$][a-z_$@0-9]*/i, null],\n        [PR_LITERAL,\n         new RegExp(\n             '^(?:'\n             // A hex number\n             + '0x[a-f0-9]+'\n             // or an octal or decimal number,\n             + '|(?:\\\\d(?:_\\\\d+)*\\\\d*(?:\\\\.\\\\d*)?|\\\\.\\\\d\\\\+)'\n             // possibly in scientific notation\n             + '(?:e[+\\\\-]?\\\\d+)?'\n             + ')'\n             // with an optional modifier like UL for unsigned long\n             + '[a-z]*', 'i'),\n         null, '0123456789'],\n        // Don't treat escaped quotes in bash as starting strings.\n        // See issue 144.\n        [PR_PLAIN,       /^\\\\[\\s\\S]?/, null],\n        [PR_PUNCTUATION, new RegExp(punctuation), null]);\n\n    return createSimpleLexer(shortcutStylePatterns, fallthroughStylePatterns);\n  }\n\n  var decorateSource = sourceDecorator({\n        'keywords': ALL_KEYWORDS,\n        'hashComments': true,\n        'cStyleComments': true,\n        'multiLineStrings': true,\n        'regexLiterals': true\n      });\n\n  /**\n   * Given a DOM subtree, wraps it in a list, and puts each line into its own\n   * list item.\n   *\n   * @param {Node} node modified in place.  Its content is pulled into an\n   *     HTMLOListElement, and each line is moved into a separate list item.\n   *     This requires cloning elements, so the input might not have unique\n   *     IDs after numbering.\n   * @param {boolean} isPreformatted true iff white-space in text nodes should\n   *     be treated as significant.\n   */\n  function numberLines(node, opt_startLineNum, isPreformatted) {\n    var nocode = /(?:^|\\s)nocode(?:\\s|$)/;\n    var lineBreak = /\\r\\n?|\\n/;\n  \n    var document = node.ownerDocument;\n  \n    var li = document.createElement('li');\n    while (node.firstChild) {\n      li.appendChild(node.firstChild);\n    }\n    // An array of lines.  We split below, so this is initialized to one\n    // un-split line.\n    var listItems = [li];\n  \n    function walk(node) {\n      var type = node.nodeType;\n      if (type == 1 && !nocode.test(node.className)) {  // Element\n        if ('br' === node.nodeName) {\n          breakAfter(node);\n          // Discard the <BR> since it is now flush against a </LI>.\n          if (node.parentNode) {\n            node.parentNode.removeChild(node);\n          }\n        } else {\n          for (var child = node.firstChild; child; child = child.nextSibling) {\n            walk(child);\n          }\n        }\n      } else if ((type == 3 || type == 4) && isPreformatted) {  // Text\n        var text = node.nodeValue;\n        var match = text.match(lineBreak);\n        if (match) {\n          var firstLine = text.substring(0, match.index);\n          node.nodeValue = firstLine;\n          var tail = text.substring(match.index + match[0].length);\n          if (tail) {\n            var parent = node.parentNode;\n            parent.insertBefore(\n              document.createTextNode(tail), node.nextSibling);\n          }\n          breakAfter(node);\n          if (!firstLine) {\n            // Don't leave blank text nodes in the DOM.\n            node.parentNode.removeChild(node);\n          }\n        }\n      }\n    }\n  \n    // Split a line after the given node.\n    function breakAfter(lineEndNode) {\n      // If there's nothing to the right, then we can skip ending the line\n      // here, and move root-wards since splitting just before an end-tag\n      // would require us to create a bunch of empty copies.\n      while (!lineEndNode.nextSibling) {\n        lineEndNode = lineEndNode.parentNode;\n        if (!lineEndNode) { return; }\n      }\n  \n      function breakLeftOf(limit, copy) {\n        // Clone shallowly if this node needs to be on both sides of the break.\n        var rightSide = copy ? limit.cloneNode(false) : limit;\n        var parent = limit.parentNode;\n        if (parent) {\n          // We clone the parent chain.\n          // This helps us resurrect important styling elements that cross lines.\n          // E.g. in <i>Foo<br>Bar</i>\n          // should be rewritten to <li><i>Foo</i></li><li><i>Bar</i></li>.\n          var parentClone = breakLeftOf(parent, 1);\n          // Move the clone and everything to the right of the original\n          // onto the cloned parent.\n          var next = limit.nextSibling;\n          parentClone.appendChild(rightSide);\n          for (var sibling = next; sibling; sibling = next) {\n            next = sibling.nextSibling;\n            parentClone.appendChild(sibling);\n          }\n        }\n        return rightSide;\n      }\n  \n      var copiedListItem = breakLeftOf(lineEndNode.nextSibling, 0);\n  \n      // Walk the parent chain until we reach an unattached LI.\n      for (var parent;\n           // Check nodeType since IE invents document fragments.\n           (parent = copiedListItem.parentNode) && parent.nodeType === 1;) {\n        copiedListItem = parent;\n      }\n      // Put it on the list of lines for later processing.\n      listItems.push(copiedListItem);\n    }\n  \n    // Split lines while there are lines left to split.\n    for (var i = 0;  // Number of lines that have been split so far.\n         i < listItems.length;  // length updated by breakAfter calls.\n         ++i) {\n      walk(listItems[i]);\n    }\n  \n    // Make sure numeric indices show correctly.\n    if (opt_startLineNum === (opt_startLineNum|0)) {\n      listItems[0].setAttribute('value', opt_startLineNum);\n    }\n  \n    var ol = document.createElement('ol');\n    ol.className = 'linenums';\n    var offset = Math.max(0, ((opt_startLineNum - 1 /* zero index */)) | 0) || 0;\n    for (var i = 0, n = listItems.length; i < n; ++i) {\n      li = listItems[i];\n      // Stick a class on the LIs so that stylesheets can\n      // color odd/even rows, or any other row pattern that\n      // is co-prime with 10.\n      li.className = 'L' + ((i + offset) % 10);\n      if (!li.firstChild) {\n        li.appendChild(document.createTextNode('\\xA0'));\n      }\n      ol.appendChild(li);\n    }\n  \n    node.appendChild(ol);\n  }\n  /**\n   * Breaks {@code job.sourceCode} around style boundaries in\n   * {@code job.decorations} and modifies {@code job.sourceNode} in place.\n   * @param {Object} job like <pre>{\n   *    sourceCode: {string} source as plain text,\n   *    sourceNode: {HTMLElement} the element containing the source,\n   *    spans: {Array.<number|Node>} alternating span start indices into source\n   *       and the text node or element (e.g. {@code <BR>}) corresponding to that\n   *       span.\n   *    decorations: {Array.<number|string} an array of style classes preceded\n   *       by the position at which they start in job.sourceCode in order\n   * }</pre>\n   * @private\n   */\n  function recombineTagsAndDecorations(job) {\n    var isIE8OrEarlier = /\\bMSIE\\s(\\d+)/.exec(navigator.userAgent);\n    isIE8OrEarlier = isIE8OrEarlier && +isIE8OrEarlier[1] <= 8;\n    var newlineRe = /\\n/g;\n  \n    var source = job.sourceCode;\n    var sourceLength = source.length;\n    // Index into source after the last code-unit recombined.\n    var sourceIndex = 0;\n  \n    var spans = job.spans;\n    var nSpans = spans.length;\n    // Index into spans after the last span which ends at or before sourceIndex.\n    var spanIndex = 0;\n  \n    var decorations = job.decorations;\n    var nDecorations = decorations.length;\n    // Index into decorations after the last decoration which ends at or before\n    // sourceIndex.\n    var decorationIndex = 0;\n  \n    // Remove all zero-length decorations.\n    decorations[nDecorations] = sourceLength;\n    var decPos, i;\n    for (i = decPos = 0; i < nDecorations;) {\n      if (decorations[i] !== decorations[i + 2]) {\n        decorations[decPos++] = decorations[i++];\n        decorations[decPos++] = decorations[i++];\n      } else {\n        i += 2;\n      }\n    }\n    nDecorations = decPos;\n  \n    // Simplify decorations.\n    for (i = decPos = 0; i < nDecorations;) {\n      var startPos = decorations[i];\n      // Conflate all adjacent decorations that use the same style.\n      var startDec = decorations[i + 1];\n      var end = i + 2;\n      while (end + 2 <= nDecorations && decorations[end + 1] === startDec) {\n        end += 2;\n      }\n      decorations[decPos++] = startPos;\n      decorations[decPos++] = startDec;\n      i = end;\n    }\n  \n    nDecorations = decorations.length = decPos;\n  \n    var sourceNode = job.sourceNode;\n    var oldDisplay;\n    if (sourceNode) {\n      oldDisplay = sourceNode.style.display;\n      sourceNode.style.display = 'none';\n    }\n    try {\n      var decoration = null;\n      while (spanIndex < nSpans) {\n        var spanStart = spans[spanIndex];\n        var spanEnd = spans[spanIndex + 2] || sourceLength;\n  \n        var decEnd = decorations[decorationIndex + 2] || sourceLength;\n  \n        var end = Math.min(spanEnd, decEnd);\n  \n        var textNode = spans[spanIndex + 1];\n        var styledText;\n        if (textNode.nodeType !== 1  // Don't muck with <BR>s or <LI>s\n            // Don't introduce spans around empty text nodes.\n            && (styledText = source.substring(sourceIndex, end))) {\n          // This may seem bizarre, and it is.  Emitting LF on IE causes the\n          // code to display with spaces instead of line breaks.\n          // Emitting Windows standard issue linebreaks (CRLF) causes a blank\n          // space to appear at the beginning of every line but the first.\n          // Emitting an old Mac OS 9 line separator makes everything spiffy.\n          if (isIE8OrEarlier) {\n            styledText = styledText.replace(newlineRe, '\\r');\n          }\n          textNode.nodeValue = styledText;\n          var document = textNode.ownerDocument;\n          var span = document.createElement('span');\n          span.className = decorations[decorationIndex + 1];\n          var parentNode = textNode.parentNode;\n          parentNode.replaceChild(span, textNode);\n          span.appendChild(textNode);\n          if (sourceIndex < spanEnd) {  // Split off a text node.\n            spans[spanIndex + 1] = textNode\n                // TODO: Possibly optimize by using '' if there's no flicker.\n                = document.createTextNode(source.substring(end, spanEnd));\n            parentNode.insertBefore(textNode, span.nextSibling);\n          }\n        }\n  \n        sourceIndex = end;\n  \n        if (sourceIndex >= spanEnd) {\n          spanIndex += 2;\n        }\n        if (sourceIndex >= decEnd) {\n          decorationIndex += 2;\n        }\n      }\n    } finally {\n      if (sourceNode) {\n        sourceNode.style.display = oldDisplay;\n      }\n    }\n  }\n\n  /** Maps language-specific file extensions to handlers. */\n  var langHandlerRegistry = {};\n  /** Register a language handler for the given file extensions.\n    * @param {function (Object)} handler a function from source code to a list\n    *      of decorations.  Takes a single argument job which describes the\n    *      state of the computation.   The single parameter has the form\n    *      {@code {\n    *        sourceCode: {string} as plain text.\n    *        decorations: {Array.<number|string>} an array of style classes\n    *                     preceded by the position at which they start in\n    *                     job.sourceCode in order.\n    *                     The language handler should assigned this field.\n    *        basePos: {int} the position of source in the larger source chunk.\n    *                 All positions in the output decorations array are relative\n    *                 to the larger source chunk.\n    *      } }\n    * @param {Array.<string>} fileExtensions\n    */\n  function registerLangHandler(handler, fileExtensions) {\n    for (var i = fileExtensions.length; --i >= 0;) {\n      var ext = fileExtensions[i];\n      if (!langHandlerRegistry.hasOwnProperty(ext)) {\n        langHandlerRegistry[ext] = handler;\n      } else if (win['console']) {\n        console['warn']('cannot override language handler %s', ext);\n      }\n    }\n  }\n  function langHandlerForExtension(extension, source) {\n    if (!(extension && langHandlerRegistry.hasOwnProperty(extension))) {\n      // Treat it as markup if the first non whitespace character is a < and\n      // the last non-whitespace character is a >.\n      extension = /^\\s*</.test(source)\n          ? 'default-markup'\n          : 'default-code';\n    }\n    return langHandlerRegistry[extension];\n  }\n  registerLangHandler(decorateSource, ['default-code']);\n  registerLangHandler(\n      createSimpleLexer(\n          [],\n          [\n           [PR_PLAIN,       /^[^<?]+/],\n           [PR_DECLARATION, /^<!\\w[^>]*(?:>|$)/],\n           [PR_COMMENT,     /^<\\!--[\\s\\S]*?(?:-\\->|$)/],\n           // Unescaped content in an unknown language\n           ['lang-',        /^<\\?([\\s\\S]+?)(?:\\?>|$)/],\n           ['lang-',        /^<%([\\s\\S]+?)(?:%>|$)/],\n           [PR_PUNCTUATION, /^(?:<[%?]|[%?]>)/],\n           ['lang-',        /^<xmp\\b[^>]*>([\\s\\S]+?)<\\/xmp\\b[^>]*>/i],\n           // Unescaped content in javascript.  (Or possibly vbscript).\n           ['lang-js',      /^<script\\b[^>]*>([\\s\\S]*?)(<\\/script\\b[^>]*>)/i],\n           // Contains unescaped stylesheet content\n           ['lang-css',     /^<style\\b[^>]*>([\\s\\S]*?)(<\\/style\\b[^>]*>)/i],\n           ['lang-in.tag',  /^(<\\/?[a-z][^<>]*>)/i]\n          ]),\n      ['default-markup', 'htm', 'html', 'mxml', 'xhtml', 'xml', 'xsl']);\n  registerLangHandler(\n      createSimpleLexer(\n          [\n           [PR_PLAIN,        /^[\\s]+/, null, ' \\t\\r\\n'],\n           [PR_ATTRIB_VALUE, /^(?:\\\"[^\\\"]*\\\"?|\\'[^\\']*\\'?)/, null, '\\\"\\'']\n           ],\n          [\n           [PR_TAG,          /^^<\\/?[a-z](?:[\\w.:-]*\\w)?|\\/?>$/i],\n           [PR_ATTRIB_NAME,  /^(?!style[\\s=]|on)[a-z](?:[\\w:-]*\\w)?/i],\n           ['lang-uq.val',   /^=\\s*([^>\\'\\\"\\s]*(?:[^>\\'\\\"\\s\\/]|\\/(?=\\s)))/],\n           [PR_PUNCTUATION,  /^[=<>\\/]+/],\n           ['lang-js',       /^on\\w+\\s*=\\s*\\\"([^\\\"]+)\\\"/i],\n           ['lang-js',       /^on\\w+\\s*=\\s*\\'([^\\']+)\\'/i],\n           ['lang-js',       /^on\\w+\\s*=\\s*([^\\\"\\'>\\s]+)/i],\n           ['lang-css',      /^style\\s*=\\s*\\\"([^\\\"]+)\\\"/i],\n           ['lang-css',      /^style\\s*=\\s*\\'([^\\']+)\\'/i],\n           ['lang-css',      /^style\\s*=\\s*([^\\\"\\'>\\s]+)/i]\n           ]),\n      ['in.tag']);\n  registerLangHandler(\n      createSimpleLexer([], [[PR_ATTRIB_VALUE, /^[\\s\\S]+/]]), ['uq.val']);\n  registerLangHandler(sourceDecorator({\n          'keywords': CPP_KEYWORDS,\n          'hashComments': true,\n          'cStyleComments': true,\n          'types': C_TYPES\n        }), ['c', 'cc', 'cpp', 'cxx', 'cyc', 'm']);\n  registerLangHandler(sourceDecorator({\n          'keywords': 'null,true,false'\n        }), ['json']);\n  registerLangHandler(sourceDecorator({\n          'keywords': CSHARP_KEYWORDS,\n          'hashComments': true,\n          'cStyleComments': true,\n          'verbatimStrings': true,\n          'types': C_TYPES\n        }), ['cs']);\n  registerLangHandler(sourceDecorator({\n          'keywords': JAVA_KEYWORDS,\n          'cStyleComments': true\n        }), ['java']);\n  registerLangHandler(sourceDecorator({\n          'keywords': SH_KEYWORDS,\n          'hashComments': true,\n          'multiLineStrings': true",
          "filepath": "data/repos/processing/p5.js-0.6/docs/yuidoc-p5-theme-src/scripts/vendor/prettify/prettify.js",
          "repo": "processing/p5.js",
          "version": "0.6",
          "chunk_index": 1,
          "chunk_id": "0b9029ef-46ea-4f5b-85a4-67afb5ef3760"
        }
      }
    ]
  },
  {
    "instance_id": "markedjs__marked-1889",
    "model_patch": "diff --git a/src/Lexer.js b/src/Lexer.js\nindex c8783a3..e69de29 100644\n--- a/src/Lexer.js\n+++ b/src/Lexer.js\n@@ -120,7 +120,11 @@ class Lexer {\n   }\n \n   blockTokens(src, tokens = []) {\n-    src = src.replace(/^ +$/gm, '');\n+    // Remove lines with only spaces, except inside code blocks\n+    if (!this.options.preserveSpacesInCodeBlocks) {\n+      src = src.replace(/^ +$/gm, '');\n+    }\n+\n     let token, lastToken, cutSrc, lastParagraphClipped;\n \n     while (src) {\ndiff --git a/src/marked.js b/src/marked.js\nindex c8783a3..e69de29 100644\n--- a/src/marked.js\n+++ b/src/marked.js\n@@ -30,6 +30,7 @@ const defaults = {\n   smartypants: false,\n   xhtml: false,\n   tokenizer: null,\n+  preserveSpacesInCodeBlocks: false\n };\n \n /**",
    "model_name_or_path": "text_bm25",
    "metrics": {
      "issue_embedding_time_ms": 0.0,
      "retrieval_time_ms_bm25": 30.67,
      "retrieval_time_ms": 30.67,
      "total_retrieval_time_ms": 30.67,
      "generation_time_ms": 4383.79,
      "total_io_time_ms": 4414.46,
      "input_total_token_limit": null,
      "issue_text_tokens": 811,
      "vlm_tokens": 0,
      "retrieved_tokens": 15432,
      "prompt_template_tokens": 514,
      "total_input_prompt_tokens": 16757,
      "output_generated_tokens": 242,
      "total_io_tokens": 16999,
      "input_prompt_text": "[{\"type\": \"text\", \"text\": \"You will be provided with a partial code base and an issue statement explaining a problem to resolve.\\n<issue>\\nLines with only spaces are removed, even in code blocks\\n**Describe the bug**\\r\\n\\r\\nSpaces are removed from lines with *only* spaces. Though this might make some kind of sense for normal markdown, in code blocks it could be a problem in some esoteric programming languages such as whitespace but, perhaps more importantly, in real-time editing situations which is how it effects my use case.\\r\\n\\r\\n**To Reproduce**\\r\\n\\r\\n- [Marked Demo](https://marked.js.org/demo/?outputType=lexer&text=%60%60%60%0AThis%0A%20%20%20%20%20%20%0ATest%0A%20%20.%0A%60%60%60&options=%7B%0A%20%22baseUrl%22%3A%20null%2C%0A%20%22breaks%22%3A%20false%2C%0A%20%22gfm%22%3A%20true%2C%0A%20%22headerIds%22%3A%20true%2C%0A%20%22headerPrefix%22%3A%20%22%22%2C%0A%20%22highlight%22%3A%20null%2C%0A%20%22langPrefix%22%3A%20%22language-%22%2C%0A%20%22mangle%22%3A%20true%2C%0A%20%22pedantic%22%3A%20false%2C%0A%20%22sanitize%22%3A%20false%2C%0A%20%22sanitizer%22%3A%20null%2C%0A%20%22silent%22%3A%20false%2C%0A%20%22smartLists%22%3A%20false%2C%0A%20%22smartypants%22%3A%20false%2C%0A%20%22tokenizer%22%3A%20null%2C%0A%20%22walkTokens%22%3A%20null%2C%0A%20%22xhtml%22%3A%20false%0A%7D&version=master)  (Issue)\\r\\n  ![image](https://user-images.githubusercontent.com/1341861/102939920-2b1f3b80-447d-11eb-85aa-bb56649cd0e8.png)\\r\\n\\r\\n- [CommonMark Demo](https://spec.commonmark.org/dingus/?text=%60%60%60%0AThis%0A%20%20%20%20%20%20%20%0Atest%0A%20%20.%0A%60%60%60)  (Works as anticipated)\\r\\n\\r\\nThis caught me off guard because when I tried to fix it by extending the marked tokenizer, I found that the spaces were removed even there!\\r\\n\\r\\n```js\\r\\n[\\r\\n  {type:\\\"code\\\", raw:\\\"```\\\\nThis\\\\n\\\\nTest\\\\n  .\\\\n```\\\", lang:\\\"\\\", text:\\\"This\\\\n\\\\nTest\\\\n  .\\\"}\\r\\n  //                           ^^^\\r\\n]\\r\\n```\\r\\n\\r\\nThe problem is the first line of the lexer `blockTokens` function:\\r\\nhttps://github.com/markedjs/marked/blob/c8783a3c1087c5a899ea6c1b96eb8a8e89fcd739/src/Lexer.js#L123\\r\\n\\r\\nIn my project I was forced to override the whole `blockTokens` function removing the first line. What would be the repercussions of removing it in general? Alternatively this could be an option..\\r\\n\\r\\nThanks for the great library!\\n\\n</issue>\\n\\n<code>\\n[start of AUTHORS.md]\\n# Authors\\n\\nMarked takes an encompassing approach to its community. As such, you can think of these as [concentric circles](https://medium.com/the-node-js-collection/healthy-open-source-967fa8be7951), where each group encompasses the following groups.\\n\\n<table>\\n  <tbody>\\n  \\t<tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\" style=\\\"width:32%\\\">\\n        <a href=\\\"https://github.com/chjj\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/chjj.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/chjj\\\">Christopher Jeffrey</a>\\n        <div>Original Author</div>\\n        <small>Started the fire</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\" style=\\\"width:32%\\\">\\n        <a href=\\\"https://github.com/joshbruce\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/joshbruce.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://joshbruce.com\\\">Josh Bruce</a>\\n        <div>Publisher</div>\\n        <small>Release Wrangler; Humaning Helper; Heckler of Hypertext</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\" style=\\\"width:32%\\\">\\n        <a href=\\\"https://github.com/styfle\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/styfle.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://www.ceriously.com\\\">Steven</a>\\n        <div>Publisher</div>\\n        <small>Release Wrangler; Dr. Docs; Open source, of course; GitHub Guru; Humaning Helper</small>\\n      </td>\\n    </tr>\\n  \\t<tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/davisjam\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/davisjam.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/davisjam\\\">Jamie Davis</a>\\n        <div>Committer</div>\\n        <small>Seeker of Security</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/UziTech\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/UziTech.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://tony.brix.ninja\\\">Tony Brix</a>\\n        <div>Publisher</div>\\n        <small>Release Wrangler; Titan of the test harness; Dr. DevOps</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        &nbsp;\\n      </td>\\n    </tr>\\n  </tbody>\\n</table>\\n\\n<table>\\n  <tbody>\\n    <tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/intcreator\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/intcreator.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/intcreator\\\">Brandon der Bl\\u00e4tter</a>\\n        <div>Contributor</div>\\n        <small>Curious Contributor</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/carlosvalle\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/carlosvalle.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/carlosvalle\\\">Carlos Valle</a>\\n        <div>Contributor</div>\\n        <small>Maker of the Marked mark from 2018 to present</small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/Feder1co5oave\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/Feder1co5oave.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/Feder1co5oave\\\">Federico Soave</a>\\n        <div>Contributor</div>\\n        <small>Regent of the Regex; Master of Marked</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/karenyavine\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/karenyavine.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/karenyavine\\\">Karen Yavine</a>\\n        <div>Contributor</div>\\n        <small>Snyk's Security Saint</small>\\n      </td>\\n     </tr>\\n     <tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/KostyaTretyak\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/KostyaTretyak.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/KostyaTretyak\\\">\\u041a\\u043e\\u0441\\u0442\\u044f \\u0422\\u0440\\u0435\\u0442\\u044f\\u043a</a>\\n        <div>Contributor</div>\\n        <small></small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/tomtheisen\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/tomtheisen.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/tomtheisen\\\">Tom Theisen</a>\\n        <div>Contributor</div>\\n        <small>Defibrillator</small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/mccraveiro\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/mccraveiro.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/mccraveiro\\\">Mateus Craveiro</a>\\n        <div>Contributor</div>\\n        <small>Defibrillator</small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n      </td>\\n     </tr>\\n  </tbody>\\n</table>\\n\\n## Publishers\\n\\nPublishers are admins who also have the responsibility, privilege, and burden of publishing the new releases to NPM and performing outreach and external stakeholder communications. Further, when things go pear-shaped, they're the ones taking most of the heat. Finally, when things go well, they're the primary ones praising the contributors who made it possible.\\n\\n(In other words, while Admins are focused primarily on the internal workings of the project, Publishers are focused on internal *and* external concerns.)\\n\\n**Should not exceed 2:** Having more people with the authority to publish a release can quickly turn into a consensus seeking nightmare (design by committee). Having only one is preferred (Directly Responsible Individual); however, given the nature of the project and its history, having an immediate fallback, and a potential deep fallback (Original author) is probably a good idea.\\n\\n[Details on badges](#badges)\\n\\n## Admins\\n\\nAdmins are committers who also have the responsibility, privilege, and burden of selecting committers and making sure the project itself runs smoothly, which includes community maintenance, governance, dispute resolution, and so on. (Letting the contributors easily enter into, and work within, the project to begin contributing, with as little friction as possible.)\\n\\n**Should not exceed 3:** When there are too many people with the ability to resolve disputes, the dispute itself can quickly turn into a dispute amongst the admins themselves; therefore, we want this group to be small enough to commit to action and large enough to not put too much burden on one person. (Should ensure faster resolution and responsiveness.)\\n\\nTo be listed: Admins are usually selected from the pool of committers (or they volunteer, using the same process) who demonstrate good understanding of the marked culture, operations, and do their best to help new contributors get up to speed on how to contribute effectively to the project.\\n\\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\\n\\n[Details on badges](#badges)\\n\\n## Committers\\n\\nCommitters are contributors who also have the responsibility, privilege, some might even say burden of being able to review and merge contributions (just usually not their own).\\n\\nA note on \\\"decision making authority\\\". This is related to submitting PRs and the [advice process](http://www.reinventingorganizationswiki.com/Decision_Making). The person marked as having decision making authority over a certain area should be sought for advice in that area before committing to a course of action.\\n\\n**Should not exceed 5:** For larger PRs affecting more of the codebase and, most likely, review by more people, we try to keep this pool small and responsive and let those with decision making authority have final say without negative repercussions from the other committers.\\n\\nTo be listed: Committers are usually selected (or they volunteer, using the same process) from contributors who enter the discussions regarding the future direction of Marked (maybe even doing informal reviews of contributions despite not being able to merge them yourself).\\n\\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\\n\\nA note on volunteering:\\n\\n1. Please do not volunteer unless you believe you can demonstrate to your peers you can do the work required.\\n2. Please do not overcommit yourself; we count on those committed to the project to be responsive. Really consider, with all you have going on, whether you able to really commit to it.\\n3. Don't let the previous frighten you away, it can always be changed later by you or your peers.\\n\\n[Details on badges](#badges)\\n\\n## Contributors\\n\\nContributors are users who submit a [PR](https://github.com/markedjs/marked/pulls), [Issue](https://github.com/markedjs/marked/issues), or collaborate in making Marked a better product and experience for all the users.\\n\\nTo be listed: make a contribution and, if it has significant impact, the committers may be able to add you here.\\n\\nTo be removed: please let us know or submit a PR.\\n\\n[Details on badges](#badges)\\n\\n## Users\\n\\nUsers are anyone using Marked in some fashion, without them, there's no reason for us to exist.\\n\\n|Individual or Organization |Website                 |Project                              |Submitted by                                        |\\n|:--------------------------|:-----------------------|:------------------------------------|:---------------------------------------------------|\\n|MarkedJS                   |https://marked.js.org   |https://github.com/markedjs/marked   |The marked committers                               |\\n\\nTo be listed: All fields are optional. Contact any of the committers or, more timely, submit a pull request with the following (using the first row as an example):\\n\\n- **Individual or Organization:** The name you would like associated with the record.\\n- **Website:** A URL to a standalone website for the project.\\n- **Project:** A URL for the repository of the project using marked.\\n- **Submitted by:** The name and optional honorifics for the person adding the listing.\\n\\nTo be removed: Same as above. Only instead of requesting addition request deletion or delete the row yourself.\\n\\n<h2 id=\\\"badges\\\">Badges</h2>\\n\\nBadges? You don't *need* no stinkin' badges.\\n\\nMovie references aside. (It was either that or, \\\"Let's play a game\\\", but that would have been creepy&hellip;that's why it will most likely come later.)\\n\\nBadges? If you *want* 'em, we got 'em, and here's how you get 'em (and&hellip;dramatic pause&hellip;why not two dramatic pauses for emphasis?&hellip; how they can be taken away).\\n\\n- [ ] Add the appropriate badge to the desired contributor in the desired column of this page, even if they're not listed here yet.\\n- [ ] Submit a PR (we're big on PRs around here, if you haven't noticed, help us help you).\\n- [ ] Follow the instructions for submitting a badge PR. (There are more details to find within. Come on. Everybody likes surprises, right? No? Actually, we just try to put documentation where it belongs, closer to the code and part of the sequence of events.)\\n\\n### Badges at play:\\n\\n<dl>\\n\\t<dt>Curious Contributor</dt>\\n\\t<dd>A contributor with less than one year on this page who is actively engaged in submitting PRs, Issues, making recommendations, sharing thoughts&hellip;without being too annoying about it (let's be clear, submitting 100 Issues recommending the Marked Committers send everyone candy is trying for the badge, not honestly earning it).</dd>\\n\\t<dt>Dr. DevOps</dt>\\n\\t<dd>\\n\\t\\t<p>Someone who understands and contributes to improving the developer experience and flow of Marked into the world.</p>\\n\\t\\t<blockquote>\\n\\t\\t\\t\\\"The main characteristic of the DevOps movement is to strongly advocate automation and monitoring at all steps of software construction, from integration, testing, releasing to deployment and infrastructure management. DevOps aims at shorter development cycles, increased deployment frequency, more dependable releases, in close alignment with business objectives.\\\" ~ <a href=\\\"https://www.wikipedia.org/wiki/DevOps\\\">Wikipedia</a>\\n\\t\\t</blockquote>\\n\\t</dd>\\n  <dt>Dr. Docs</dt>\\n  <dd>Someone who has contributed a great deal to the creation and maintenance of the non-code areas of marked.</dd>\\n\\t<dt>Eye for the CLI</dt>\\n\\t<dd>At this point? Pretty much anyone who can update that `man` file to the current Marked version without regression in the CLI tool itself.</dd>\\n\\t<dt>GitHub Guru</dt>\\n\\t<dd>Someone who always seems to be able to tell you easier ways to do things with GitHub.</dd>\\n\\t<dt>Humaning Helper</dt>\\n\\t<dd>Someone who goes out of their way to help contributors feel welcomed and valued. Further, someone who takes the extra steps(s) necessary to help new contributors get up to speed. Finally, they maintain composure even in times of disagreement and dispute resolution.</dd>\\n\\t<dt>Heckler of Hypertext</dt>\\n\\t<dd>Someone who demonstrates an esoteric level of knowledge when it comes to HTML. In other words, someone who says things like, \\\"Did you know most Markdown flavors don't have a way to render a description list (`dl`)? All the more reason Markdown `!==` HTML.\\\"</dd>\\n\\t<dt>Markdown Maestro</dt>\\n\\t<dd>You know that person who knows about way too many different flavors of Markdown? The one who maybe seems a little too obsessed with the possibilities of Markdown beyond HTML? Come on. You know who they are. Or, at least you could, if you give them this badge.</dd>\\n\\t<dt>Master of Marked</dt>\\n\\t<dd>Someone who demonstrates they know the ins and outs of the codebase for Marked.</dd>\\n\\t<dt>Open source, of course</dt>\\n\\t<dd>Someone who advocates for and has a proven understanding of how to operate within open source communities.</dd>\\n\\t<dt>Regent of the Regex</dt>\\n\\t<dd><p>Can you demonstrate you understand the following without Google and Stackoverflow?</p>\\n\\t\\t<p><code>/^( *)(bull) [\\\\s\\\\S]+?(?:hr|def|\\\\n{2,}(?! )(?!\\\\1bull )\\\\n*|\\\\s*$)/</code></p>\\n\\t\\t<p>Because this author can't yet. That's who gets these.</p>\\n\\t</dd>\\n\\t<dt>Seeker of Security</dt>\\n\\t<dd>Someone who has demonstrated a high degree of expertise or authority when it comes to software security.</dd>\\n\\t<dt>Titan of the Test Harness</dt>\\n\\t<dd>Someone who demonstrates high-levels of understanding regarding Marked's test harness.</dd>\\n\\t<dt>Totally Tron</dt>\\n\\t<dd>Someone who demonstrates they are willing and able to \\\"fight for the users\\\", both developers dependent on marked to do their jobs as well as end-users interacting with the output (particularly in the realm of those with the disabilities).</dd>\\n</dl>\\n\\n### Special badges that come with the job:\\n\\n<dl>\\n\\t<dt>Defibrillator</dt>\\n\\t<dd>A contributor who stepped up to help bring Marked back to life by contributing solutions to help Marked pass when compared against the CommonMark and GitHub Flavored Markdown specifications.</dd>\\n\\t<dt>Maker of the Marked mark</dt>\\n\\t<dd>This badge is given to the person or organization credited with creating the logo (or logotype) used in Marked communications for a given period of time. **Maker of the Marked mark from 2017 to present**, for example.</dd>\\n\\t<dt>Release Wrangler</dt>\\n\\t<dd>This is a badge given to all Publishers.</dd>\\n\\t<dt>Snyk's Security Saint</dt>\\n\\t<dd>This is a badge given to whomever primarily reaches out from Snyk to let us know about security issues.</dd>\\n</dl>\\n\\n[end of AUTHORS.md]\\n[start of quickref.md]\\nMarkdown Quick Reference\\n========================\\n\\nThis guide is a very brief overview, with examples, of the syntax that [Markdown] supports. It is itself written in Markdown and you can copy the samples over to the left-hand pane for experimentation. It's shown as *text* and not *rendered HTML*.\\n\\n[Markdown]: http://daringfireball.net/projects/markdown/\\n\\n\\nSimple Text Formatting\\n======================\\n\\nFirst thing is first. You can use *stars* or _underscores_ for italics. **Double stars** and __double underscores__ for bold. ***Three together*** for ___both___.\\n\\nParagraphs are pretty easy too. Just have a blank line between chunks of text.\\n\\n> This chunk of text is in a block quote. Its multiple lines will all be\\n> indented a bit from the rest of the text.\\n>\\n> > Multiple levels of block quotes also work.\\n\\nSometimes you want to include code, such as when you are explaining how `<h1>` HTML tags work, or maybe you are a programmer and you are discussing `someMethod()`.\\n\\nIf you want to include code and have new\\nlines preserved, indent the line with a tab\\nor at least four spaces:\\n\\n    Extra spaces work here too.\\n    This is also called preformatted text and it is useful for showing examples.\\n    The text will stay as text, so any *markdown* or <u>HTML</u> you add will\\n    not show up formatted. This way you can show markdown examples in a\\n    markdown document.\\n\\n>     You can also use preformatted text with your blockquotes\\n>     as long as you add at least five spaces.\\n\\n\\nHeadings\\n========\\n\\nThere are a couple of ways to make headings. Using three or more equals signs on a line under a heading makes it into an \\\"h1\\\" style. Three or more hyphens under a line makes it \\\"h2\\\" (slightly smaller). You can also use multiple pound symbols (`#`) before and after a heading. Pounds after the title are ignored. Here are some examples:\\n\\nThis is H1\\n==========\\n\\nThis is H2\\n----------\\n\\n# This is H1\\n## This is H2\\n### This is H3 with some extra pounds ###\\n#### You get the idea ####\\n##### I don't need extra pounds at the end\\n###### H6 is the max\\n\\n\\nLinks\\n=====\\n\\nLet's link to a few sites. First, let's use the bare URL, like <https://www.github.com>. Great for text, but ugly for HTML.\\nNext is an inline link to [Google](https://www.google.com). A little nicer.\\nThis is a reference-style link to [Wikipedia] [1].\\nLastly, here's a pretty link to [Yahoo]. The reference-style and pretty links both automatically use the links defined below, but they could be defined *anywhere* in the markdown and are removed from the HTML. The names are also case insensitive, so you can use [YaHoO] and have it link properly.\\n\\n[1]: https://www.wikipedia.org\\n[Yahoo]: https://www.yahoo.com\\n\\nTitle attributes may be added to links by adding text after a link.\\nThis is the [inline link](https://www.bing.com \\\"Bing\\\") with a \\\"Bing\\\" title.\\nYou can also go to [W3C] [2] and maybe visit a [friend].\\n\\n[2]: https://w3c.org (The W3C puts out specs for web-based things)\\n[Friend]: https://facebook.com \\\"Facebook!\\\"\\n\\nEmail addresses in plain text are not linked: test@example.com.\\nEmail addresses wrapped in angle brackets are linked: <test@example.com>.\\nThey are also obfuscated so that email harvesting spam robots hopefully won't get them.\\n\\n\\nLists\\n=====\\n\\n* This is a bulleted list\\n* Great for shopping lists\\n- You can also use hyphens\\n+ Or plus symbols\\n\\nThe above is an \\\"unordered\\\" list. Now, on for a bit of order.\\n\\n1. Numbered lists are also easy\\n2. Just start with a number\\n3738762. However, the actual number doesn't matter when converted to HTML.\\n1. This will still show up as 4.\\n\\nYou might want a few advanced lists:\\n\\n- This top-level list is wrapped in paragraph tags\\n- This generates an extra space between each top-level item.\\n\\n- You do it by adding a blank line\\n\\n- This nested list also has blank lines between the list items.\\n\\n- How to create nested lists\\n  1. Start your regular list\\n  2. Indent nested lists with two spaces\\n  3. Further nesting means you should indent with two more spaces\\n    * This line is indented with four spaces.\\n\\n- List items can be quite lengthy. You can keep typing and either continue\\nthem on the next line with no indentation.\\n\\n- Alternately, if that looks ugly, you can also\\n  indent the next line a bit for a prettier look.\\n\\n- You can put large blocks of text in your list by just indenting with two spaces.\\n\\n  This is formatted the same as code, but you can inspect the HTML\\n  and find that it's just wrapped in a `<p>` tag and *won't* be shown\\n  as preformatted text.\\n\\n  You can keep adding more and more paragraphs to a single\\n  list item by adding the traditional blank line and then keep\\n  on indenting the paragraphs with two spaces.\\n\\n  You really only need to indent the first line,\\nbut that looks ugly.\\n\\n- Lists support blockquotes\\n\\n  > Just like this example here. By the way, you can\\n  > nest lists inside blockquotes!\\n  > - Fantastic!\\n\\n- Lists support preformatted text\\n\\n      You just need to indent an additional four spaces.\\n\\n\\nEven More\\n=========\\n\\nHorizontal Rule\\n---------------\\n\\nIf you need a horizontal rule you just need to put at least three hyphens, asterisks, or underscores on a line by themselves. You can also even put spaces between the characters.\\n\\n---\\n****************************\\n_ _ _ _ _ _ _\\n\\nThose three all produced horizontal lines. Keep in mind that three hyphens under any text turns that text into a heading, so add a blank like if you use hyphens.\\n\\nImages\\n------\\n\\nImages work exactly like links, but they have exclamation points in front. They work with references and titles too.\\n\\n![Google Logo](https://www.google.com/images/errors/logo_sm.gif) and ![Happy].\\n\\n[Happy]: https://wpclipart.com/smiley/happy/simple_colors/smiley_face_simple_green_small.png (\\\"Smiley face\\\")\\n\\n\\nInline HTML\\n-----------\\n\\nIf markdown is too limiting, you can just insert your own <strike>crazy</strike> HTML. Span-level HTML <u>can *still* use markdown</u>. Block level elements must be separated from text by a blank line and must not have any spaces before the opening and closing HTML.\\n\\n<div style='font-family: \\\"Comic Sans MS\\\", \\\"Comic Sans\\\", cursive;'>\\nIt is a pity, but markdown does **not** work in here for most markdown parsers.\\n[Marked] handles it pretty well.\\n</div>\\n\\n[end of quickref.md]\\n[start of markdown_documentation_syntax.md]\\n---\\npedantic: true\\nheaderIds: false\\n---\\n\\nMarkdown: Syntax\\n================\\n\\n<ul id=\\\"ProjectSubmenu\\\">\\n    <li><a href=\\\"/projects/markdown/\\\" title=\\\"Markdown Project Page\\\">Main</a></li>\\n    <li><a href=\\\"/projects/markdown/basics\\\" title=\\\"Markdown Basics\\\">Basics</a></li>\\n    <li><a class=\\\"selected\\\" title=\\\"Markdown Syntax Documentation\\\">Syntax</a></li>\\n    <li><a href=\\\"/projects/markdown/license\\\" title=\\\"Pricing and License Information\\\">License</a></li>\\n    <li><a href=\\\"/projects/markdown/dingus\\\" title=\\\"Online Markdown Web Form\\\">Dingus</a></li>\\n</ul>\\n\\n\\n*   [Overview](#overview)\\n    *   [Philosophy](#philosophy)\\n    *   [Inline HTML](#html)\\n    *   [Automatic Escaping for Special Characters](#autoescape)\\n*   [Block Elements](#block)\\n    *   [Paragraphs and Line Breaks](#p)\\n    *   [Headers](#header)\\n    *   [Blockquotes](#blockquote)\\n    *   [Lists](#list)\\n    *   [Code Blocks](#precode)\\n    *   [Horizontal Rules](#hr)\\n*   [Span Elements](#span)\\n    *   [Links](#link)\\n    *   [Emphasis](#em)\\n    *   [Code](#code)\\n    *   [Images](#img)\\n*   [Miscellaneous](#misc)\\n    *   [Backslash Escapes](#backslash)\\n    *   [Automatic Links](#autolink)\\n\\n\\n**Note:** This document is itself written using Markdown; you\\ncan [see the source for it by adding '.text' to the URL][src].\\n\\n  [src]: /projects/markdown/syntax.text\\n\\n* * *\\n\\n<h2 id=\\\"overview\\\">Overview</h2>\\n\\n<h3 id=\\\"philosophy\\\">Philosophy</h3>\\n\\nMarkdown is intended to be as easy-to-read and easy-to-write as is feasible.\\n\\nReadability, however, is emphasized above all else. A Markdown-formatted\\ndocument should be publishable as-is, as plain text, without looking\\nlike it's been marked up with tags or formatting instructions. While\\nMarkdown's syntax has been influenced by several existing text-to-HTML\\nfilters -- including [Setext] [1], [atx] [2], [Textile] [3], [reStructuredText] [4],\\n[Grutatext] [5], and [EtText] [6] -- the single biggest source of\\ninspiration for Markdown's syntax is the format of plain text email.\\n\\n  [1]: http://docutils.sourceforge.net/mirror/setext.html\\n  [2]: http://www.aaronsw.com/2002/atx/\\n  [3]: http://textism.com/tools/textile/\\n  [4]: http://docutils.sourceforge.net/rst.html\\n  [5]: http://www.triptico.com/software/grutatxt.html\\n  [6]: http://ettext.taint.org/doc/\\n\\nTo this end, Markdown's syntax is comprised entirely of punctuation\\ncharacters, which punctuation characters have been carefully chosen so\\nas to look like what they mean. E.g., asterisks around a word actually\\nlook like \\\\*emphasis\\\\*. Markdown lists look like, well, lists. Even\\nblockquotes look like quoted passages of text, assuming you've ever\\nused email.\\n\\n\\n\\n<h3 id=\\\"html\\\">Inline HTML</h3>\\n\\nMarkdown's syntax is intended for one purpose: to be used as a\\nformat for *writing* for the web.\\n\\nMarkdown is not a replacement for HTML, or even close to it. Its\\nsyntax is very small, corresponding only to a very small subset of\\nHTML tags. The idea is *not* to create a syntax that makes it easier\\nto insert HTML tags. In my opinion, HTML tags are already easy to\\ninsert. The idea for Markdown is to make it easy to read, write, and\\nedit prose. HTML is a *publishing* format; Markdown is a *writing*\\nformat. Thus, Markdown's formatting syntax only addresses issues that\\ncan be conveyed in plain text.\\n\\nFor any markup that is not covered by Markdown's syntax, you simply\\nuse HTML itself. There's no need to preface it or delimit it to\\nindicate that you're switching from Markdown to HTML; you just use\\nthe tags.\\n\\nThe only restrictions are that block-level HTML elements -- e.g. `<div>`,\\n`<table>`, `<pre>`, `<p>`, etc. -- must be separated from surrounding\\ncontent by blank lines, and the start and end tags of the block should\\nnot be indented with tabs or spaces. Markdown is smart enough not\\nto add extra (unwanted) `<p>` tags around HTML block-level tags.\\n\\nFor example, to add an HTML table to a Markdown article:\\n\\n    This is a regular paragraph.\\n\\n    <table>\\n        <tr>\\n            <td>Foo</td>\\n        </tr>\\n    </table>\\n\\n    This is another regular paragraph.\\n\\nNote that Markdown formatting syntax is not processed within block-level\\nHTML tags. E.g., you can't use Markdown-style `*emphasis*` inside an\\nHTML block.\\n\\nSpan-level HTML tags -- e.g. `<span>`, `<cite>`, or `<del>` -- can be\\nused anywhere in a Markdown paragraph, list item, or header. If you\\nwant, you can even use HTML tags instead of Markdown formatting; e.g. if\\nyou'd prefer to use HTML `<a>` or `<img>` tags instead of Markdown's\\nlink or image syntax, go right ahead.\\n\\nUnlike block-level HTML tags, Markdown syntax *is* processed within\\nspan-level tags.\\n\\n\\n<h3 id=\\\"autoescape\\\">Automatic Escaping for Special Characters</h3>\\n\\nIn HTML, there are two characters that demand special treatment: `<`\\nand `&`. Left angle brackets are used to start tags; ampersands are\\nused to denote HTML entities. If you want to use them as literal\\ncharacters, you must escape them as entities, e.g. `&lt;`, and\\n`&amp;`.\\n\\nAmpersands in particular are bedeviling for web writers. If you want to\\nwrite about 'AT&T', you need to write '`AT&amp;T`'. You even need to\\nescape ampersands within URLs. Thus, if you want to link to:\\n\\n    http://images.google.com/images?num=30&q=larry+bird\\n\\nyou need to encode the URL as:\\n\\n    http://images.google.com/images?num=30&amp;q=larry+bird\\n\\nin your anchor tag `href` attribute. Needless to say, this is easy to\\nforget, and is probably the single most common source of HTML validation\\nerrors in otherwise well-marked-up web sites.\\n\\nMarkdown allows you to use these characters naturally, taking care of\\nall the necessary escaping for you. If you use an ampersand as part of\\nan HTML entity, it remains unchanged; otherwise it will be translated\\ninto `&amp;`.\\n\\nSo, if you want to include a copyright symbol in your article, you can write:\\n\\n    &copy;\\n\\nand Markdown will leave it alone. But if you write:\\n\\n    AT&T\\n\\nMarkdown will translate it to:\\n\\n    AT&amp;T\\n\\nSimilarly, because Markdown supports [inline HTML](#html), if you use\\nangle brackets as delimiters for HTML tags, Markdown will treat them as\\nsuch. But if you write:\\n\\n    4 < 5\\n\\nMarkdown will translate it to:\\n\\n    4 &lt; 5\\n\\nHowever, inside Markdown code spans and blocks, angle brackets and\\nampersands are *always* encoded automatically. This makes it easy to use\\nMarkdown to write about HTML code. (As opposed to raw HTML, which is a\\nterrible format for writing about HTML syntax, because every single `<`\\nand `&` in your example code needs to be escaped.)\\n\\n\\n* * *\\n\\n\\n<h2 id=\\\"block\\\">Block Elements</h2>\\n\\n\\n<h3 id=\\\"p\\\">Paragraphs and Line Breaks</h3>\\n\\nA paragraph is simply one or more consecutive lines of text, separated\\nby one or more blank lines. (A blank line is any line that looks like a\\nblank line -- a line containing nothing but spaces or tabs is considered\\nblank.) Normal paragraphs should not be intended with spaces or tabs.\\n\\nThe implication of the \\\"one or more consecutive lines of text\\\" rule is\\nthat Markdown supports \\\"hard-wrapped\\\" text paragraphs. This differs\\nsignificantly from most other text-to-HTML formatters (including Movable\\nType's \\\"Convert Line Breaks\\\" option) which translate every line break\\ncharacter in a paragraph into a `<br />` tag.\\n\\nWhen you *do* want to insert a `<br />` break tag using Markdown, you\\nend a line with two or more spaces, then type return.\\n\\nYes, this takes a tad more effort to create a `<br />`, but a simplistic\\n\\\"every line break is a `<br />`\\\" rule wouldn't work for Markdown.\\nMarkdown's email-style [blockquoting][bq] and multi-paragraph [list items][l]\\nwork best -- and look better -- when you format them with hard breaks.\\n\\n  [bq]: #blockquote\\n  [l]:  #list\\n\\n\\n\\n<h3 id=\\\"header\\\">Headers</h3>\\n\\nMarkdown supports two styles of headers, [Setext] [1] and [atx] [2].\\n\\nSetext-style headers are \\\"underlined\\\" using equal signs (for first-level\\nheaders) and dashes (for second-level headers). For example:\\n\\n    This is an H1\\n    =============\\n\\n    This is an H2\\n    -------------\\n\\nAny number of underlining `=`'s or `-`'s will work.\\n\\nAtx-style headers use 1-6 hash characters at the start of the line,\\ncorresponding to header levels 1-6. For example:\\n\\n    # This is an H1\\n\\n    ## This is an H2\\n\\n    ###### This is an H6\\n\\nOptionally, you may \\\"close\\\" atx-style headers. This is purely\\ncosmetic -- you can use this if you think it looks better. The\\nclosing hashes don't even need to match the number of hashes\\nused to open the header. (The number of opening hashes\\ndetermines the header level.) :\\n\\n    # This is an H1 #\\n\\n    ## This is an H2 ##\\n\\n    ### This is an H3 ######\\n\\n\\n<h3 id=\\\"blockquote\\\">Blockquotes</h3>\\n\\nMarkdown uses email-style `>` characters for blockquoting. If you're\\nfamiliar with quoting passages of text in an email message, then you\\nknow how to create a blockquote in Markdown. It looks best if you hard\\nwrap the text and put a `>` before every line:\\n\\n    > This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,\\n    > consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.\\n    > Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus.\\n    >\\n    > Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse\\n    > id sem consectetuer libero luctus adipiscing.\\n\\nMarkdown allows you to be lazy and only put the `>` before the first\\nline of a hard-wrapped paragraph:\\n\\n    > This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,\\n    consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.\\n    Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus.\\n\\n    > Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse\\n    id sem consectetuer libero luctus adipiscing.\\n\\nBlockquotes can be nested (i.e. a blockquote-in-a-blockquote) by\\nadding additional levels of `>`:\\n\\n    > This is the first level of quoting.\\n    >\\n    > > This is nested blockquote.\\n    >\\n    > Back to the first level.\\n\\nBlockquotes can contain other Markdown elements, including headers, lists,\\nand code blocks:\\n\\n\\t> ## This is a header.\\n\\t>\\n\\t> 1.   This is the first list item.\\n\\t> 2.   This is the second list item.\\n\\t>\\n\\t> Here's some example code:\\n\\t>\\n\\t>     return shell_exec(\\\"echo $input | $markdown_script\\\");\\n\\nAny decent text editor should make email-style quoting easy. For\\nexample, with BBEdit, you can make a selection and choose Increase\\nQuote Level from the Text menu.\\n\\n\\n<h3 id=\\\"list\\\">Lists</h3>\\n\\nMarkdown supports ordered (numbered) and unordered (bulleted) lists.\\n\\nUnordered lists use asterisks, pluses, and hyphens -- interchangably\\n-- as list markers:\\n\\n    *   Red\\n    *   Green\\n    *   Blue\\n\\nis equivalent to:\\n\\n    +   Red\\n    +   Green\\n    +   Blue\\n\\nand:\\n\\n    -   Red\\n    -   Green\\n    -   Blue\\n\\nOrdered lists use numbers followed by periods:\\n\\n    1.  Bird\\n    2.  McHale\\n    3.  Parish\\n\\nIt's important to note that the actual numbers you use to mark the\\nlist have no effect on the HTML output Markdown produces. The HTML\\nMarkdown produces from the above list is:\\n\\n    <ol>\\n    <li>Bird</li>\\n    <li>McHale</li>\\n    <li>Parish</li>\\n    </ol>\\n\\nIf you instead wrote the list in Markdown like this:\\n\\n    1.  Bird\\n    1.  McHale\\n    1.  Parish\\n\\nor even:\\n\\n    3. Bird\\n    1. McHale\\n    8. Parish\\n\\nyou'd get the exact same HTML output. The point is, if you want to,\\nyou can use ordinal numbers in your ordered Markdown lists, so that\\nthe numbers in your source match the numbers in your published HTML.\\nBut if you want to be lazy, you don't have to.\\n\\nIf you do use lazy list numbering, however, you should still start the\\nlist with the number 1. At some point in the future, Markdown may support\\nstarting ordered lists at an arbitrary number.\\n\\nList markers typically start at the left margin, but may be indented by\\nup to three spaces. List markers must be followed by one or more spaces\\nor a tab.\\n\\nTo make lists look nice, you can wrap items with hanging indents:\\n\\n    *   Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\\n        Aliquam hendrerit mi posuere lectus. Vestibulum enim wisi,\\n        viverra nec, fringilla in, laoreet vitae, risus.\\n    *   Donec sit amet nisl. Aliquam semper ipsum sit amet velit.\\n        Suspendisse id sem consectetuer libero luctus adipiscing.\\n\\nBut if you want to be lazy, you don't have to:\\n\\n    *   Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\\n    Aliquam hendrerit mi posuere lectus. Vestibulum enim wisi,\\n    viverra nec, fringilla in, laoreet vitae, risus.\\n    *   Donec sit amet nisl. Aliquam semper ipsum sit amet velit.\\n    Suspendisse id sem consectetuer libero luctus adipiscing.\\n\\nIf list items are separated by blank lines, Markdown will wrap the\\nitems in `<p>` tags in the HTML output. For example, this input:\\n\\n    *   Bird\\n    *   Magic\\n\\nwill turn into:\\n\\n    <ul>\\n    <li>Bird</li>\\n    <li>Magic</li>\\n    </ul>\\n\\nBut this:\\n\\n    *   Bird\\n\\n    *   Magic\\n\\nwill turn into:\\n\\n    <ul>\\n    <li><p>Bird</p></li>\\n    <li><p>Magic</p></li>\\n    </ul>\\n\\nList items may consist of multiple paragraphs. Each subsequent\\nparagraph in a list item must be intended by either 4 spaces\\nor one tab:\\n\\n    1.  This is a list item with two paragraphs. Lorem ipsum dolor\\n        sit amet, consectetuer adipiscing elit. Aliquam hendrerit\\n        mi posuere lectus.\\n\\n        Vestibulum enim wisi, viverra nec, fringilla in, laoreet\\n        vitae, risus. Donec sit amet nisl. Aliquam semper ipsum\\n        sit amet velit.\\n\\n    2.  Suspendisse id sem consectetuer libero luctus adipiscing.\\n\\nIt looks nice if you indent every line of the subsequent\\nparagraphs, but here again, Markdown will allow you to be\\nlazy:\\n\\n    *   This is a list item with two paragraphs.\\n\\n        This is the second paragraph in the list item. You're\\n    only required to indent the first line. Lorem ipsum dolor\\n    sit amet, consectetuer adipiscing elit.\\n\\n    *   Another item in the same list.\\n\\nTo put a blockquote within a list item, the blockquote's `>`\\ndelimiters need to be indented:\\n\\n    *   A list item with a blockquote:\\n\\n        > This is a blockquote\\n        > inside a list item.\\n\\nTo put a code block within a list item, the code block needs\\nto be indented *twice* -- 8 spaces or two tabs:\\n\\n    *   A list item with a code block:\\n\\n            <code goes here>\\n\\n\\nIt's worth noting that it's possible to trigger an ordered list by\\naccident, by writing something like this:\\n\\n    1986. What a great season.\\n\\nIn other words, a *number-period-space* sequence at the beginning of a\\nline. To avoid this, you can backslash-escape the period:\\n\\n    1986\\\\. What a great season.\\n\\n\\n\\n<h3 id=\\\"precode\\\">Code Blocks</h3>\\n\\nPre-formatted code blocks are used for writing about programming or\\nmarkup source code. Rather than forming normal paragraphs, the lines\\nof a code block are interpreted literally. Markdown wraps a code block\\nin both `<pre>` and `<code>` tags.\\n\\nTo produce a code block in Markdown, simply indent every line of the\\nblock by at least 4 spaces or 1 tab. For example, given this input:\\n\\n    This is a normal paragraph:\\n\\n        This is a code block.\\n\\nMarkdown will generate:\\n\\n    <p>This is a normal paragraph:</p>\\n\\n    <pre><code>This is a code block.\\n    </code></pre>\\n\\nOne level of indentation -- 4 spaces or 1 tab -- is removed from each\\nline of the code block. For example, this:\\n\\n    Here is an example of AppleScript:\\n\\n        tell application \\\"Foo\\\"\\n            beep\\n        end tell\\n\\nwill turn into:\\n\\n    <p>Here is an example of AppleScript:</p>\\n\\n    <pre><code>tell application \\\"Foo\\\"\\n        beep\\n    end tell\\n    </code></pre>\\n\\nA code block continues until it reaches a line that is not indented\\n(or the end of the article).\\n\\nWithin a code block, ampersands (`&`) and angle brackets (`<` and `>`)\\nare automatically converted into HTML entities. This makes it very\\neasy to include example HTML source code using Markdown -- just paste\\nit and indent it, and Markdown will handle the hassle of encoding the\\nampersands and angle brackets. For example, this:\\n\\n        <div class=\\\"footer\\\">\\n            &copy; 2004 Foo Corporation\\n        </div>\\n\\nwill turn into:\\n\\n    <pre><code>&lt;div class=\\\"footer\\\"&gt;\\n        &amp;copy; 2004 Foo Corporation\\n    &lt;/div&gt;\\n    </code></pre>\\n\\nRegular Markdown syntax is not processed within code blocks. E.g.,\\nasterisks are just literal asterisks within a code block. This means\\nit's also easy to use Markdown to write about Markdown's own syntax.\\n\\n\\n\\n<h3 id=\\\"hr\\\">Horizontal Rules</h3>\\n\\nYou can produce a horizontal rule tag (`<hr />`) by placing three or\\nmore hyphens, asterisks, or underscores on a line by themselves. If you\\nwish, you may use spaces between the hyphens or asterisks. Each of the\\nfollowing lines will produce a horizontal rule:\\n\\n    * * *\\n\\n    ***\\n\\n    *****\\n\\n    - - -\\n\\n    ---------------------------------------\\n\\n\\t_ _ _\\n\\n\\n* * *\\n\\n<h2 id=\\\"span\\\">Span Elements</h2>\\n\\n<h3 id=\\\"link\\\">Links</h3>\\n\\nMarkdown supports two style of links: *inline* and *reference*.\\n\\nIn both styles, the link text is delimited by [square brackets].\\n\\nTo create an inline link, use a set of regular parentheses immediately\\nafter the link text's closing square bracket. Inside the parentheses,\\nput the URL where you want the link to point, along with an *optional*\\ntitle for the link, surrounded in quotes. For example:\\n\\n    This is [an example](http://example.com/ \\\"Title\\\") inline link.\\n\\n    [This link](http://example.net/) has no title attribute.\\n\\nWill produce:\\n\\n    <p>This is <a href=\\\"http://example.com/\\\" title=\\\"Title\\\">\\n    an example</a> inline link.</p>\\n\\n    <p><a href=\\\"http://example.net/\\\">This link</a> has no\\n    title attribute.</p>\\n\\nIf you're referring to a local resource on the same server, you can\\nuse relative paths:\\n\\n    See my [About](/about/) page for details.\\n\\nReference-style links use a second set of square brackets, inside\\nwhich you place a label of your choosing to identify the link:\\n\\n    This is [an example][id] reference-style link.\\n\\nYou can optionally use a space to separate the sets of brackets:\\n\\n    This is [an example] [id] reference-style link.\\n\\nThen, anywhere in the document, you define your link label like this,\\non a line by itself:\\n\\n    [id]: http://example.com/  \\\"Optional Title Here\\\"\\n\\nThat is:\\n\\n*   Square brackets containing the link identifier (optionally\\n    indented from the left margin using up to three spaces);\\n*   followed by a colon;\\n*   followed by one or more spaces (or tabs);\\n*   followed by the URL for the link;\\n*   optionally followed by a title attribute for the link, enclosed\\n    in double or single quotes.\\n\\nThe link URL may, optionally, be surrounded by angle brackets:\\n\\n    [id]: <http://example.com/>  \\\"Optional Title Here\\\"\\n\\nYou can put the title attribute on the next line and use extra spaces\\nor tabs for padding, which tends to look better with longer URLs:\\n\\n    [id]: http://example.com/longish/path/to/resource/here\\n        \\\"Optional Title Here\\\"\\n\\nLink definitions are only used for creating links during Markdown\\nprocessing, and are stripped from your document in the HTML output.\\n\\nLink definition names may constist of letters, numbers, spaces, and punctuation -- but they are *not* case sensitive. E.g. these two links:\\n\\n\\t[link text][a]\\n\\t[link text][A]\\n\\nare equivalent.\\n\\nThe *implicit link name* shortcut allows you to omit the name of the\\nlink, in which case the link text itself is used as the name.\\nJust use an empty set of square brackets -- e.g., to link the word\\n\\\"Google\\\" to the google.com web site, you could simply write:\\n\\n\\t[Google][]\\n\\nAnd then define the link:\\n\\n\\t[Google]: http://google.com/\\n\\nBecause link names may contain spaces, this shortcut even works for\\nmultiple words in the link text:\\n\\n\\tVisit [Daring Fireball][] for more information.\\n\\nAnd then define the link:\\n\\n\\t[Daring Fireball]: http://daringfireball.net/\\n\\nLink definitions can be placed anywhere in your Markdown document. I\\ntend to put them immediately after each paragraph in which they're\\nused, but if you want, you can put them all at the end of your\\ndocument, sort of like footnotes.\\n\\nHere's an example of reference links in action:\\n\\n    I get 10 times more traffic from [Google] [1] than from\\n    [Yahoo] [2] or [MSN] [3].\\n\\n      [1]: http://google.com/        \\\"Google\\\"\\n      [2]: http://search.yahoo.com/  \\\"Yahoo Search\\\"\\n      [3]: http://search.msn.com/    \\\"MSN Search\\\"\\n\\nUsing the implicit link name shortcut, you could instead write:\\n\\n    I get 10 times more traffic from [Google][] than from\\n    [Yahoo][] or [MSN][].\\n\\n      [google]: http://google.com/        \\\"Google\\\"\\n      [yahoo]:  http://search.yahoo.com/  \\\"Yahoo Search\\\"\\n      [msn]:    http://search.msn.com/    \\\"MSN Search\\\"\\n\\nBoth of the above examples will produce the following HTML output:\\n\\n    <p>I get 10 times more traffic from <a href=\\\"http://google.com/\\\"\\n    title=\\\"Google\\\">Google</a> than from\\n    <a href=\\\"http://search.yahoo.com/\\\" title=\\\"Yahoo Search\\\">Yahoo</a>\\n    or <a href=\\\"http://search.msn.com/\\\" title=\\\"MSN Search\\\">MSN</a>.</p>\\n\\nFor comparison, here is the same paragraph written using\\nMarkdown's inline link style:\\n\\n    I get 10 times more traffic from [Google](http://google.com/ \\\"Google\\\")\\n    than from [Yahoo](http://search.yahoo.com/ \\\"Yahoo Search\\\") or\\n    [MSN](http://search.msn.com/ \\\"MSN Search\\\").\\n\\nThe point of reference-style links is not that they're easier to\\nwrite. The point is that with reference-style links, your document\\nsource is vastly more readable. Compare the above examples: using\\nreference-style links, the paragraph itself is only 81 characters\\nlong; with inline-style links, it's 176 characters; and as raw HTML,\\nit's 234 characters. In the raw HTML, there's more markup than there\\nis text.\\n\\nWith Markdown's reference-style links, a source document much more\\nclosely resembles the final output, as rendered in a browser. By\\nallowing you to move the markup-related metadata out of the paragraph,\\nyou can add links without interrupting the narrative flow of your\\nprose.\\n\\n\\n<h3 id=\\\"em\\\">Emphasis</h3>\\n\\nMarkdown treats asterisks (`*`) and underscores (`_`) as indicators of\\nemphasis. Text wrapped with one `*` or `_` will be wrapped with an\\nHTML `<em>` tag; double `*`'s or `_`'s will be wrapped with an HTML\\n`<strong>` tag. E.g., this input:\\n\\n    *single asterisks*\\n\\n    _single underscores_\\n\\n    **double asterisks**\\n\\n    __double underscores__\\n\\nwill produce:\\n\\n    <em>single asterisks</em>\\n\\n    <em>single underscores</em>\\n\\n    <strong>double asterisks</strong>\\n\\n    <strong>double underscores</strong>\\n\\nYou can use whichever style you prefer; the lone restriction is that\\nthe same character must be used to open and close an emphasis span.\\n\\nEmphasis can be used in the middle of a word:\\n\\n    un*fucking*believable\\n\\nBut if you surround an `*` or `_` with spaces, it'll be treated as a\\nliteral asterisk or underscore.\\n\\nTo produce a literal asterisk or underscore at a position where it\\nwould otherwise be used as an emphasis delimiter, you can backslash\\nescape it:\\n\\n    \\\\*this text is surrounded by literal asterisks\\\\*\\n\\n\\n\\n<h3 id=\\\"code\\\">Code</h3>\\n\\nTo indicate a span of code, wrap it with backtick quotes (`` ` ``).\\nUnlike a pre-formatted code block, a code span indicates code within a\\nnormal paragraph. For example:\\n\\n    Use the `printf()` function.\\n\\nwill produce:\\n\\n    <p>Use the <code>printf()</code> function.</p>\\n\\nTo include a literal backtick character within a code span, you can use\\nmultiple backticks as the opening and closing delimiters:\\n\\n    ``There is a literal backtick (`) here.``\\n\\nwhich will produce this:\\n\\n    <p><code>There is a literal backtick (`) here.</code></p>\\n\\nThe backtick delimiters surrounding a code span may include spaces --\\none after the opening, one before the closing. This allows you to place\\nliteral backtick characters at the beginning or end of a code span:\\n\\n\\tA single backtick in a code span: `` ` ``\\n\\n\\tA backtick-delimited string in a code span: `` `foo` ``\\n\\nwill produce:\\n\\n\\t<p>A single backtick in a code span: <code>`</code></p>\\n\\n\\t<p>A backtick-delimited string in a code span: <code>`foo`</code></p>\\n\\nWith a code span, ampersands and angle brackets are encoded as HTML\\nentities automatically, which makes it easy to include example HTML\\ntags. Markdown will turn this:\\n\\n    Please don't use any `<blink>` tags.\\n\\ninto:\\n\\n    <p>Please don't use any <code>&lt;blink&gt;</code> tags.</p>\\n\\nYou can write this:\\n\\n    `&#8212;` is the decimal-encoded equivalent of `&mdash;`.\\n\\nto produce:\\n\\n    <p><code>&amp;#8212;</code> is the decimal-encoded\\n    equivalent of <code>&amp;mdash;</code>.</p>\\n\\n\\n\\n<h3 id=\\\"img\\\">Images</h3>\\n\\nAdmittedly, it's fairly difficult to devise a \\\"natural\\\" syntax for\\nplacing images into a plain text document format.\\n\\nMarkdown uses an image syntax that is intended to resemble the syntax\\nfor links, allowing for two styles: *inline* and *reference*.\\n\\nInline image syntax looks like this:\\n\\n    ![Alt text](/path/to/img.jpg)\\n\\n    ![Alt text](/path/to/img.jpg \\\"Optional title\\\")\\n\\nThat is:\\n\\n*   An exclamation mark: `!`;\\n*   followed by a set of square brackets, containing the `alt`\\n    attribute text for the image;\\n*   followed by a set of parentheses, containing the URL or path to\\n    the image, and an optional `title` attribute enclosed in double\\n    or single quotes.\\n\\nReference-style image syntax looks like this:\\n\\n    ![Alt text][id]\\n\\nWhere \\\"id\\\" is the name of a defined image reference. Image references\\nare defined using syntax identical to link references:\\n\\n    [id]: url/to/image  \\\"Optional title attribute\\\"\\n\\nAs of this writing, Markdown has no syntax for specifying the\\ndimensions of an image; if this is important to you, you can simply\\nuse regular HTML `<img>` tags.\\n\\n\\n* * *\\n\\n\\n<h2 id=\\\"misc\\\">Miscellaneous</h2>\\n\\n<h3 id=\\\"autolink\\\">Automatic Links</h3>\\n\\nMarkdown supports a shortcut style for creating \\\"automatic\\\" links for URLs and email addresses: simply surround the URL or email address with angle brackets. What this means is that if you want to show the actual text of a URL or email address, and also have it be a clickable link, you can do this:\\n\\n    <http://example.com/>\\n\\nMarkdown will turn this into:\\n\\n    <a href=\\\"http://example.com/\\\">http://example.com/</a>\\n\\nAutomatic links for email addresses work similarly, except that\\nMarkdown will also perform a bit of randomized decimal and hex\\nentity-encoding to help obscure your address from address-harvesting\\nspambots. For example, Markdown will turn this:\\n\\n    <address@example.com>\\n\\ninto something like this:\\n\\n    <a href=\\\"&#x6D;&#x61;i&#x6C;&#x74;&#x6F;:&#x61;&#x64;&#x64;&#x72;&#x65;\\n    &#115;&#115;&#64;&#101;&#120;&#x61;&#109;&#x70;&#x6C;e&#x2E;&#99;&#111;\\n    &#109;\\\">&#x61;&#x64;&#x64;&#x72;&#x65;&#115;&#115;&#64;&#101;&#120;&#x61;\\n    &#109;&#x70;&#x6C;e&#x2E;&#99;&#111;&#109;</a>\\n\\nwhich will render in a browser as a clickable link to \\\"address@example.com\\\".\\n\\n(This sort of entity-encoding trick will indeed fool many, if not\\nmost, address-harvesting bots, but it definitely won't fool all of\\nthem. It's better than nothing, but an address published in this way\\nwill probably eventually start receiving spam.)\\n\\n\\n\\n<h3 id=\\\"backslash\\\">Backslash Escapes</h3>\\n\\nMarkdown allows you to use backslash escapes to generate literal\\ncharacters which would otherwise have special meaning in Markdown's\\nformatting syntax. For example, if you wanted to surround a word with\\nliteral asterisks (instead of an HTML `<em>` tag), you can backslashes\\nbefore the asterisks, like this:\\n\\n    \\\\*literal asterisks\\\\*\\n\\nMarkdown provides backslash escapes for the following characters:\\n\\n    \\\\   backslash\\n    `   backtick\\n    *   asterisk\\n    _   underscore\\n    {}  curly braces\\n    []  square brackets\\n    ()  parentheses\\n    #   hash mark\\n\\t+\\tplus sign\\n\\t-\\tminus sign (hyphen)\\n    .   dot\\n    !   exclamation mark\\n\\n[end of markdown_documentation_syntax.md]\\n[start of INDEX.md]\\nMarked is\\n\\n1. built for speed.<sup>*</sup>\\n2. a low-level markdown compiler for parsing markdown without caching or blocking for long periods of time.<sup>**</sup>\\n3. light-weight while implementing all markdown features from the supported flavors & specifications.<sup>***</sup>\\n4. available as a command line interface (CLI) and running in client- or server-side JavaScript projects.\\n\\n<p><small><sup>*</sup> Still working on metrics for comparative analysis and definition.</small><br>\\n<small><sup>**</sup> As few dependencies as possible.</small><br>\\n<small><sup>***</sup> Strict compliance could result in slower processing when running comparative benchmarking.</small></p>\\n\\n\\n<h2 id=\\\"demo\\\">Demo</h2>\\n\\nCheckout the [demo page](./demo/) to see marked in action \\u26f9\\ufe0f\\n\\nThese documentation pages are also rendered using marked \\ud83d\\udcaf\\n\\n\\n<h2 id=\\\"installation\\\">Installation</h2>\\n\\n**CLI:** `npm install -g marked`\\n\\n**In-browser:** `npm install marked`\\n\\n<h2 id=\\\"usage\\\">Usage</h2>\\n\\n### Warning: \\ud83d\\udea8 Marked does not [sanitize](/using_advanced#options) the output HTML. Please use a sanitize library, like [DOMPurify](https://github.com/cure53/DOMPurify) (recommended), [sanitize-html](https://github.com/apostrophecms/sanitize-html) or [insane](https://github.com/bevacqua/insane) on the output HTML! \\ud83d\\udea8\\n\\n**CLI**\\n\\n``` bash\\n$ marked -o hello.html\\nhello world\\n^D\\n$ cat hello.html\\n<p>hello world</p>\\n```\\n\\n``` bash\\n$ marked -s \\\"*hello world*\\\"\\n<p><em>hello world</em></p>\\n```\\n\\n**Browser**\\n\\n```html\\n<!doctype html>\\n<html>\\n<head>\\n  <meta charset=\\\"utf-8\\\"/>\\n  <title>Marked in the browser</title>\\n</head>\\n<body>\\n  <div id=\\\"content\\\"></div>\\n  <script src=\\\"https://cdn.jsdelivr.net/npm/marked/marked.min.js\\\"></script>\\n  <script>\\n    document.getElementById('content').innerHTML =\\n      marked('# Marked in browser\\\\n\\\\nRendered by **marked**.');\\n  </script>\\n</body>\\n</html>\\n```\\n\\n**Node.js**\\n\\n```js\\nconst marked = require(\\\"marked\\\");\\nconst html = marked('# Marked in Node.js\\\\n\\\\nRendered by **marked**.');\\n```\\n\\n\\nMarked offers [advanced configurations](/using_advanced) and [extensibility](/using_pro) as well.\\n\\n<h2 id=\\\"specifications\\\">Supported Markdown specifications</h2>\\n\\nWe actively support the features of the following [Markdown flavors](https://github.com/commonmark/CommonMark/wiki/Markdown-Flavors).\\n\\n| Flavor                                                     | Version | Status                                                             |\\n| :--------------------------------------------------------- | :------ | :----------------------------------------------------------------- |\\n| The original markdown.pl                                   | --      |                                                                    |\\n| [CommonMark](http://spec.commonmark.org/0.29/)             | 0.29    | [Work in progress](https://github.com/markedjs/marked/issues/1202) |\\n| [GitHub Flavored Markdown](https://github.github.com/gfm/) | 0.29    | [Work in progress](https://github.com/markedjs/marked/issues/1202) |\\n\\nBy supporting the above Markdown flavors, it's possible that Marked can help you use other flavors as well; however, these are not actively supported by the community.\\n\\n<h2 id=\\\"security\\\">Security</h2>\\n\\nThe only completely secure system is the one that doesn't exist in the first place. Having said that, we take the security of Marked very seriously.\\n\\nTherefore, please disclose potential security issues by email to the project [committers](/authors) as well as the [listed owners within NPM](https://docs.npmjs.com/cli/owner). We will provide an initial assessment of security reports within 48 hours and should apply patches within 2 weeks (also, feel free to contribute a fix for the issue).\\n\\n[end of INDEX.md]\\n[start of USING_PRO.md]\\n## Extending Marked\\n\\nTo champion the single-responsibility and open/closed principles, we have tried to make it relatively painless to extend marked. If you are looking to add custom functionality, this is the place to start.\\n\\n<h2 id=\\\"use\\\">marked.use()</h2>\\n\\n`marked.use(options)` is the recommended way to extend marked. The options object can contain any [option](/using_advanced#options) available in marked.\\n\\nThe `renderer` and `tokenizer` options can be an object with functions that will be merged into the `renderer` and `tokenizer` respectively.\\n\\nThe `renderer` and `tokenizer` functions can return false to fallback to the previous function.\\n\\nThe `walkTokens` option can be a function that will be called with every token before rendering. When calling `use` multiple times with different `walkTokens` functions each function will be called in the **reverse** order in which they were assigned.\\n\\nAll other options will overwrite previously set options.\\n\\n<h2 id=\\\"renderer\\\">The renderer</h2>\\n\\nThe renderer defines the output of the parser.\\n\\n**Example:** Overriding default heading token by adding an embedded anchor tag like on GitHub.\\n\\n```js\\n// Create reference instance\\nconst marked = require('marked');\\n\\n// Override function\\nconst renderer = {\\n  heading(text, level) {\\n    const escapedText = text.toLowerCase().replace(/[^\\\\w]+/g, '-');\\n\\n    return `\\n            <h${level}>\\n              <a name=\\\"${escapedText}\\\" class=\\\"anchor\\\" href=\\\"#${escapedText}\\\">\\n                <span class=\\\"header-link\\\"></span>\\n              </a>\\n              ${text}\\n            </h${level}>`;\\n  }\\n};\\n\\nmarked.use({ renderer });\\n\\n// Run marked\\nconsole.log(marked('# heading+'));\\n```\\n\\n**Output:**\\n\\n```html\\n<h1>\\n  <a name=\\\"heading-\\\" class=\\\"anchor\\\" href=\\\"#heading-\\\">\\n    <span class=\\\"header-link\\\"></span>\\n  </a>\\n  heading+\\n</h1>\\n```\\n\\n### Block level renderer methods\\n\\n- code(*string* code, *string* infostring, *boolean* escaped)\\n- blockquote(*string* quote)\\n- html(*string* html)\\n- heading(*string* text, *number* level, *string* raw, *Slugger* slugger)\\n- hr()\\n- list(*string* body, *boolean* ordered, *number* start)\\n- listitem(*string* text, *boolean* task, *boolean* checked)\\n- checkbox(*boolean* checked)\\n- paragraph(*string* text)\\n- table(*string* header, *string* body)\\n- tablerow(*string* content)\\n- tablecell(*string* content, *object* flags)\\n\\n`slugger` has the `slug` method to create a unique id from value:\\n\\n```js\\nslugger.slug('foo')   // foo\\nslugger.slug('foo')   // foo-1\\nslugger.slug('foo')   // foo-2\\nslugger.slug('foo 1') // foo-1-1\\nslugger.slug('foo-1') // foo-1-2\\n...\\n```\\n\\n`slugger.slug` can also be called with the `dryrun` option for stateless operation:\\n```js\\nslugger.slug('foo')                    // foo\\nslugger.slug('foo')                    // foo-1\\nslugger.slug('foo')                    // foo-2\\nslugger.slug('foo', { dryrun: true })  // foo-3\\nslugger.slug('foo', { dryrun: true })  // foo-3\\nslugger.slug('foo')                    // foo-3\\nslugger.slug('foo')                    // foo-4\\n...\\n```\\n\\n`flags` has the following properties:\\n\\n```js\\n{\\n    header: true || false,\\n    align: 'center' || 'left' || 'right'\\n}\\n```\\n\\n### Inline level renderer methods\\n\\n- strong(*string* text)\\n- em(*string* text)\\n- codespan(*string* code)\\n- br()\\n- del(*string* text)\\n- link(*string* href, *string* title, *string* text)\\n- image(*string* href, *string* title, *string* text)\\n- text(*string* text)\\n\\n<h2 id=\\\"tokenizer\\\">The tokenizer</h2>\\n\\nThe tokenizer defines how to turn markdown text into tokens.\\n\\n**Example:** Overriding default `codespan` tokenizer to include LaTeX.\\n\\n```js\\n// Create reference instance\\nconst marked = require('marked');\\n\\n// Override function\\nconst tokenizer = {\\n  codespan(src) {\\n    const match = src.match(/\\\\$+([^\\\\$\\\\n]+?)\\\\$+/);\\n    if (match) {\\n      return {\\n        type: 'codespan',\\n        raw: match[0],\\n        text: match[1].trim()\\n      };\\n    }\\n\\n    // return false to use original codespan tokenizer\\n    return false;\\n  }\\n};\\n\\nmarked.use({ tokenizer });\\n\\n// Run marked\\nconsole.log(marked('$ latex code $\\\\n\\\\n` other code `'));\\n```\\n\\n**Output:**\\n\\n```html\\n<p><code>latex code</code></p>\\n<p><code>other code</code></p>\\n```\\n\\n### Block level tokenizer methods\\n\\n- space(*string* src)\\n- code(*string* src, *array* tokens)\\n- fences(*string* src)\\n- heading(*string* src)\\n- nptable(*string* src)\\n- hr(*string* src)\\n- blockquote(*string* src)\\n- list(*string* src)\\n- html(*string* src)\\n- def(*string* src)\\n- table(*string* src)\\n- lheading(*string* src)\\n- paragraph(*string* src)\\n- text(*string* src, *array* tokens)\\n\\n### Inline level tokenizer methods\\n\\n- escape(*string* src)\\n- tag(*string* src, *bool* inLink, *bool* inRawBlock)\\n- link(*string* src)\\n- reflink(*string* src, *object* links)\\n- strong(*string* src)\\n- em(*string* src)\\n- codespan(*string* src)\\n- br(*string* src)\\n- del(*string* src)\\n- autolink(*string* src, *function* mangle)\\n- url(*string* src, *function* mangle)\\n- inlineText(*string* src, *bool* inRawBlock, *function* smartypants)\\n\\n`mangle` is a method that changes text to HTML character references:\\n\\n```js\\nmangle('test@example.com')\\n// \\\"&#x74;&#101;&#x73;&#116;&#x40;&#101;&#120;&#x61;&#x6d;&#112;&#108;&#101;&#46;&#x63;&#111;&#x6d;\\\"\\n```\\n\\n`smartypants` is a method that translates plain ASCII punctuation characters into \\u201csmart\\u201d typographic punctuation HTML entities:\\n\\nhttps://daringfireball.net/projects/smartypants/\\n\\n```js\\nsmartypants('\\\"this ... string\\\"')\\n// \\\"\\u201cthis \\u2026 string\\u201d\\\"\\n```\\n\\n<h2 id=\\\"walk-tokens\\\">Walk Tokens</h2>\\n\\nThe walkTokens function gets called with every token. Child tokens are called before moving on to sibling tokens. Each token is passed by reference so updates are persisted when passed to the parser. The return value of the function is ignored.\\n\\n**Example:** Overriding heading tokens to start at h2.\\n\\n```js\\nconst marked = require('marked');\\n\\n// Override function\\nconst walkTokens = (token) => {\\n  if (token.type === 'heading') {\\n    token.depth += 1;\\n  }\\n};\\n\\nmarked.use({ walkTokens });\\n\\n// Run marked\\nconsole.log(marked('# heading 2\\\\n\\\\n## heading 3'));\\n```\\n\\n**Output:**\\n\\n```html\\n<h2 id=\\\"heading-2\\\">heading 2</h2>\\n<h3 id=\\\"heading-3\\\">heading 3</h3>\\n```\\n\\n<h2 id=\\\"lexer\\\">The lexer</h2>\\n\\nThe lexer takes a markdown string and calls the tokenizer functions.\\n\\n<h2 id=\\\"parser\\\">The parser</h2>\\n\\nThe parser takes tokens as input and calls the renderer functions.\\n\\n***\\n\\n<h2 id=\\\"extend\\\">Access to lexer and parser</h2>\\n\\nYou also have direct access to the lexer and parser if you so desire.\\n\\n``` js\\nconst tokens = marked.lexer(markdown, options);\\nconsole.log(marked.parser(tokens, options));\\n```\\n\\n``` js\\nconst lexer = new marked.Lexer(options);\\nconst tokens = lexer.lex(markdown);\\nconsole.log(tokens);\\nconsole.log(lexer.tokenizer.rules.block); // block level rules used\\nconsole.log(lexer.tokenizer.rules.inline); // inline level rules used\\nconsole.log(marked.Lexer.rules.block); // all block level rules\\nconsole.log(marked.Lexer.rules.inline); // all inline level rules\\n```\\n\\n``` bash\\n$ node\\n> require('marked').lexer('> I am using marked.')\\n[\\n  {\\n    type: \\\"blockquote\\\",\\n    raw: \\\"> I am using marked.\\\",\\n    tokens: [\\n      {\\n        type: \\\"paragraph\\\",\\n        raw: \\\"I am using marked.\\\",\\n        text: \\\"I am using marked.\\\",\\n        tokens: [\\n          {\\n            type: \\\"text\\\",\\n            raw: \\\"I am using marked.\\\",\\n            text: \\\"I am using marked.\\\"\\n          }\\n        ]\\n      }\\n    ]\\n  },\\n  links: {}\\n]\\n```\\n\\nThe Lexer builds an array of tokens, which will be passed to the Parser.\\nThe Parser processes each token in the token array:\\n\\n``` js\\nconst marked = require('marked');\\n\\nconst md = `\\n  # heading\\n\\n  [link][1]\\n\\n  [1]: #heading \\\"heading\\\"\\n`;\\n\\nconst tokens = marked.lexer(md);\\nconsole.log(tokens);\\n\\nconst html = marked.parser(tokens);\\nconsole.log(html);\\n```\\n\\n``` bash\\n[\\n  {\\n    type: \\\"heading\\\",\\n    raw: \\\"  # heading\\\\n\\\\n\\\",\\n    depth: 1,\\n    text: \\\"heading\\\",\\n    tokens: [\\n      {\\n        type: \\\"text\\\",\\n        raw: \\\"heading\\\",\\n        text: \\\"heading\\\"\\n      }\\n    ]\\n  },\\n  {\\n    type: \\\"paragraph\\\",\\n    raw: \\\"  [link][1]\\\",\\n    text: \\\"  [link][1]\\\",\\n    tokens: [\\n      {\\n        type: \\\"text\\\",\\n        raw: \\\"  \\\",\\n        text: \\\"  \\\"\\n      },\\n      {\\n        type: \\\"link\\\",\\n        raw: \\\"[link][1]\\\",\\n        text: \\\"link\\\",\\n        href: \\\"#heading\\\",\\n        title: \\\"heading\\\",\\n        tokens: [\\n          {\\n            type: \\\"text\\\",\\n            raw: \\\"link\\\",\\n            text: \\\"link\\\"\\n          }\\n        ]\\n      }\\n    ]\\n  },\\n  {\\n    type: \\\"space\\\",\\n    raw: \\\"\\\\n\\\\n\\\"\\n  },\\n  links: {\\n    \\\"1\\\": {\\n      href: \\\"#heading\\\",\\n      title: \\\"heading\\\"\\n    }\\n  }\\n]\\n<h1 id=\\\"heading\\\">heading</h1>\\n<p>  <a href=\\\"#heading\\\" title=\\\"heading\\\">link</a></p>\\n```\\n\\n[end of USING_PRO.md]\\n\\n</code>\\n\\nHere is an example of a patch file. It consists of changes to the code base. It specifies the file names, the line numbers of each change, and the removed and added lines. A single patch file can contain changes to multiple files.\\n\\n<patch>\\ndiff --git a/file.py b/file.py\\n--- a/file.py\\n+++ b/file.py\\n@@ -1,27 +1,35 @@\\n def euclidean(a, b):\\n-    while b:\\n-        a, b = b, a % b\\n-    return a\\n+    if b == 0:\\n+        return a\\n+    return euclidean(b, a % b)\\n \\n def bresenham(x0, y0, x1, y1):\\n+    points = []\\n+    dx = abs(x1 - x0)\\n+    dy = abs(y1 - y0)\\n+    sx = 1 if x0 < x1 else -1\\n+    sy = 1 if y0 < y1 else -1\\n+    err = dx - dy\\n+    \\n     while True:\\n-        plot(x0, y0)\\n+        points.append((x0, y0))\\n         if x0 == x1 and y0 == y1:\\n             break\\n-        e2 = 2 * err\\n-        if e2 > -dy:\\n-            err -= dy\\n-            x0 += sx\\n-        if e2 < dx:\\n-            err += dx\\n-            y0 += sy\\n+        e2 = 2 * err\\n+        if e2 > -dy:\\n+            err -= dy\\n+            x0 += sx\\n+        if e2 < dx:\\n+            err += dx\\n+            y0 += sy\\n+    return points\\n+</patch>\\n\\nI need you to solve the provided issue by generating a single patch file that I can apply directly to this repository using git apply. Please respond with a single patch file in the format shown above.\\n\\nRespond below: \\n\"}]",
      "retrieved_file_paths": [
        "AUTHORS.md",
        "quickref.md",
        "markdown_documentation_syntax.md",
        "INDEX.md",
        "USING_PRO.md"
      ]
    },
    "retrieved_documents": [
      {
        "id": "671b086d-4d21-4012-aae0-b7bae38bffe0",
        "score": 0.01639344262295082,
        "payload": {
          "text": "# Authors\n\nMarked takes an encompassing approach to its community. As such, you can think of these as [concentric circles](https://medium.com/the-node-js-collection/healthy-open-source-967fa8be7951), where each group encompasses the following groups.\n\n<table>\n  <tbody>\n  \t<tr>\n      <td align=\"center\" valign=\"top\" style=\"width:32%\">\n        <a href=\"https://github.com/chjj\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/chjj.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/chjj\">Christopher Jeffrey</a>\n        <div>Original Author</div>\n        <small>Started the fire</small>\n      </td>\n      <td align=\"center\" valign=\"top\" style=\"width:32%\">\n        <a href=\"https://github.com/joshbruce\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/joshbruce.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://joshbruce.com\">Josh Bruce</a>\n        <div>Publisher</div>\n        <small>Release Wrangler; Humaning Helper; Heckler of Hypertext</small>\n      </td>\n      <td align=\"center\" valign=\"top\" style=\"width:32%\">\n        <a href=\"https://github.com/styfle\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/styfle.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://www.ceriously.com\">Steven</a>\n        <div>Publisher</div>\n        <small>Release Wrangler; Dr. Docs; Open source, of course; GitHub Guru; Humaning Helper</small>\n      </td>\n    </tr>\n  \t<tr>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/davisjam\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/davisjam.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/davisjam\">Jamie Davis</a>\n        <div>Committer</div>\n        <small>Seeker of Security</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/UziTech\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/UziTech.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://tony.brix.ninja\">Tony Brix</a>\n        <div>Publisher</div>\n        <small>Release Wrangler; Titan of the test harness; Dr. DevOps</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        &nbsp;\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n<table>\n  <tbody>\n    <tr>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/intcreator\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/intcreator.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/intcreator\">Brandon der Bl\u00e4tter</a>\n        <div>Contributor</div>\n        <small>Curious Contributor</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/carlosvalle\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/carlosvalle.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/carlosvalle\">Carlos Valle</a>\n        <div>Contributor</div>\n        <small>Maker of the Marked mark from 2018 to present</small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n        <a href=\"https://github.com/Feder1co5oave\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/Feder1co5oave.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/Feder1co5oave\">Federico Soave</a>\n        <div>Contributor</div>\n        <small>Regent of the Regex; Master of Marked</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/karenyavine\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/karenyavine.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/karenyavine\">Karen Yavine</a>\n        <div>Contributor</div>\n        <small>Snyk's Security Saint</small>\n      </td>\n     </tr>\n     <tr>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/KostyaTretyak\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/KostyaTretyak.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/KostyaTretyak\">\u041a\u043e\u0441\u0442\u044f \u0422\u0440\u0435\u0442\u044f\u043a</a>\n        <div>Contributor</div>\n        <small></small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n        <a href=\"https://github.com/tomtheisen\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/tomtheisen.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/tomtheisen\">Tom Theisen</a>\n        <div>Contributor</div>\n        <small>Defibrillator</small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n        <a href=\"https://github.com/mccraveiro\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/mccraveiro.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/mccraveiro\">Mateus Craveiro</a>\n        <div>Contributor</div>\n        <small>Defibrillator</small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n      </td>\n     </tr>\n  </tbody>\n</table>\n\n## Publishers\n\nPublishers are admins who also have the responsibility, privilege, and burden of publishing the new releases to NPM and performing outreach and external stakeholder communications. Further, when things go pear-shaped, they're the ones taking most of the heat. Finally, when things go well, they're the primary ones praising the contributors who made it possible.\n\n(In other words, while Admins are focused primarily on the internal workings of the project, Publishers are focused on internal *and* external concerns.)\n\n**Should not exceed 2:** Having more people with the authority to publish a release can quickly turn into a consensus seeking nightmare (design by committee). Having only one is preferred (Directly Responsible Individual); however, given the nature of the project and its history, having an immediate fallback, and a potential deep fallback (Original author) is probably a good idea.\n\n[Details on badges](#badges)\n\n## Admins\n\nAdmins are committers who also have the responsibility, privilege, and burden of selecting committers and making sure the project itself runs smoothly, which includes community maintenance, governance, dispute resolution, and so on. (Letting the contributors easily enter into, and work within, the project to begin contributing, with as little friction as possible.)\n\n**Should not exceed 3:** When there are too many people with the ability to resolve disputes, the dispute itself can quickly turn into a dispute amongst the admins themselves; therefore, we want this group to be small enough to commit to action and large enough to not put too much burden on one person. (Should ensure faster resolution and responsiveness.)\n\nTo be listed: Admins are usually selected from the pool of committers (or they volunteer, using the same process) who demonstrate good understanding of the marked culture, operations, and do their best to help new contributors get up to speed on how to contribute effectively to the project.\n\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\n\n[Details on badges](#badges)\n\n## Committers\n\nCommitters are contributors who also have the responsibility, privilege, some might even say burden of being able to review and merge contributions (just usually not their own).\n\nA note on \"decision making authority\". This is related to submitting PRs and the [advice process](http://www.reinventingorganizationswiki.com/Decision_Making). The person marked as having decision making authority over a certain area should be sought for advice in that area before committing to a course of action.\n\n**Should not exceed 5:** For larger PRs affecting more of the codebase and, most likely, review by more people, we try to keep this pool small and responsive and let those with decision making authority have final say without negative repercussions from the other committers.\n\nTo be listed: Committers are usually selected (or they volunteer, using the same process) from contributors who enter the discussions regarding the future direction of Marked (maybe even doing informal reviews of contributions despite not being able to merge them yourself).\n\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\n\nA note on volunteering:\n\n1. Please do not volunteer unless you believe you can demonstrate to your peers you can do the work required.\n2. Please do not overcommit yourself; we count on those committed to the project to be responsive. Really consider, with all you have going on, whether you able to really commit to it.\n3. Don't let the previous frighten you away, it can always be changed later by you or your peers.\n\n[Details on badges](#badges)\n\n## Contributors\n\nContributors are users who submit a [PR](https://github.com/markedjs/marked/pulls), [Issue](https://github.com/markedjs/marked/issues), or collaborate in making Marked a better product and experience for all the users.\n\nTo be listed: make a contribution and, if it has significant impact, the committers may be able to add you here.\n\nTo be removed: please let us know or submit a PR.\n\n[Details on badges](#badges)\n\n## Users\n\nUsers are anyone using Marked in some fashion, without them, there's no reason for us to exist.\n\n|Individual or Organization |Website                 |Project                              |Submitted by                                        |\n|:--------------------------|:-----------------------|:------------------------------------|:---------------------------------------------------|\n|MarkedJS                   |https://marked.js.org   |https://github.com/markedjs/marked   |The marked committers                               |\n\nTo be listed: All fields are optional. Contact any of the committers or, more timely, submit a pull request with the following (using the first row as an example):\n\n- **Individual or Organization:** The name you would like associated with the record.\n- **Website:** A URL to a standalone website for the project.\n- **Project:** A URL for the repository of the project using marked.\n- **Submitted by:** The name and optional honorifics for the person adding the listing.\n\nTo be removed: Same as above. Only instead of requesting addition request deletion or delete the row yourself.\n\n<h2 id=\"badges\">Badges</h2>\n\nBadges? You don't *need* no stinkin' badges.\n\nMovie references aside. (It was either that or, \"Let's play a game\", but that would have been creepy&hellip;that's why it will most likely come later.)\n\nBadges? If you *want* 'em, we got 'em, and here's how you get 'em (and&hellip;dramatic pause&hellip;why not two dramatic pauses for emphasis?&hellip; how they can be taken away).\n\n- [ ] Add the appropriate badge to the desired contributor in the desired column of this page, even if they're not listed here yet.\n- [ ] Submit a PR (we're big on PRs around here, if you haven't noticed, help us help you).\n- [ ] Follow the instructions for submitting a badge PR. (There are more details to find within. Come on. Everybody likes surprises, right? No? Actually, we just try to put documentation where it belongs, closer to the code and part of the sequence of events.)\n\n### Badges at play:\n\n<dl>\n\t<dt>Curious Contributor</dt>\n\t<dd>A contributor with less than one year on this page who is actively engaged in submitting PRs, Issues, making recommendations, sharing thoughts&hellip;without being too annoying about it (let's be clear, submitting 100 Issues recommending the Marked Committers send everyone candy is trying for the badge, not honestly earning it).</dd>\n\t<dt>Dr. DevOps</dt>\n\t<dd>\n\t\t<p>Someone who understands and contributes to improving the developer experience and flow of Marked into the world.</p>\n\t\t<blockquote>\n\t\t\t\"The main characteristic of the DevOps movement is to strongly advocate automation and monitoring at all steps of software construction, from integration, testing, releasing to deployment and infrastructure management. DevOps aims at shorter development cycles, increased deployment frequency, more dependable releases, in close alignment with business objectives.\" ~ <a href=\"https://www.wikipedia.org/wiki/DevOps\">Wikipedia</a>\n\t\t</blockquote>\n\t</dd>\n  <dt>Dr. Docs</dt>\n  <dd>Someone who has contributed a great deal to the creation and maintenance of the non-code areas of marked.</dd>\n\t<dt>Eye for the CLI</dt>\n\t<dd>At this point? Pretty much anyone who can update that `man` file to the current Marked version without regression in the CLI tool itself.</dd>\n\t<dt>GitHub Guru</dt>\n\t<dd>Someone who always seems to be able to tell you easier ways to do things with GitHub.</dd>\n\t<dt>Humaning Helper</dt>\n\t<dd>Someone who goes out of their way to help contributors feel welcomed and valued. Further, someone who takes the extra steps(s) necessary to help new contributors get up to speed. Finally, they maintain composure even in times of disagreement and dispute resolution.</dd>\n\t<dt>Heckler of Hypertext</dt>\n\t<dd>Someone who demonstrates an esoteric level of knowledge when it comes to HTML. In other words, someone who says things like, \"Did you know most Markdown flavors don't have a way to render a description list (`dl`)? All the more reason Markdown `!==` HTML.\"</dd>\n\t<dt>Markdown Maestro</dt>\n\t<dd>You know that person who knows about way too many different flavors of Markdown? The one who maybe seems a little too obsessed with the possibilities of Markdown beyond HTML? Come on. You know who they are. Or, at least you could, if you give them this badge.</dd>\n\t<dt>Master of Marked</dt>\n\t<dd>Someone who demonstrates they know the ins and outs of the codebase for Marked.</dd>\n\t<dt>Open source, of course</dt>\n\t<dd>Someone who advocates for and has a proven understanding of how to operate within open source communities.</dd>\n\t<dt>Regent of the Regex</dt>\n\t<dd><p>Can you demonstrate you understand the following without Google and Stackoverflow?</p>\n\t\t<p><code>/^( *)(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/</code></p>\n\t\t<p>Because this author can't yet. That's who gets these.</p>\n\t</dd>\n\t<dt>Seeker of Security</dt>\n\t<dd>Someone who has demonstrated a high degree of expertise or authority when it comes to software security.</dd>\n\t<dt>Titan of the Test Harness</dt>\n\t<dd>Someone who demonstrates high-levels of understanding regarding Marked's test harness.</dd>\n\t<dt>Totally Tron</dt>\n\t<dd>Someone who demonstrates they are willing and able to \"fight for the users\", both developers dependent on marked to do their jobs as well as end-users interacting with the output (particularly in the realm of those with the disabilities).</dd>\n</dl>\n\n### Special badges that come with the job:\n\n<dl>\n\t<dt>Defibrillator</dt>\n\t<dd>A contributor who stepped up to help bring Marked back to life by contributing solutions to help Marked pass when compared against the CommonMark and GitHub Flavored Markdown specifications.</dd>\n\t<dt>Maker of the Marked mark</dt>\n\t<dd>This badge is given to the person or organization credited with creating the logo (or logotype) used in Marked communications for a given period of time. **Maker of the Marked mark from 2017 to present**, for example.</dd>\n\t<dt>Release Wrangler</dt>\n\t<dd>This is a badge given to all Publishers.</dd>\n\t<dt>Snyk's Security Saint</dt>\n\t<dd>This is a badge given to whomever primarily reaches out from Snyk to let us know about security issues.</dd>\n</dl>\n",
          "filepath": "data/repos/markedjs/marked-1.2/docs/AUTHORS.md",
          "repo": "markedjs/marked",
          "version": "1.2",
          "chunk_index": 0,
          "chunk_id": "671b086d-4d21-4012-aae0-b7bae38bffe0"
        }
      },
      {
        "id": "8dd2f984-0312-4df3-ade9-f9f9bacd6de0",
        "score": 0.016129032258064516,
        "payload": {
          "text": "Markdown Quick Reference\n========================\n\nThis guide is a very brief overview, with examples, of the syntax that [Markdown] supports. It is itself written in Markdown and you can copy the samples over to the left-hand pane for experimentation. It's shown as *text* and not *rendered HTML*.\n\n[Markdown]: http://daringfireball.net/projects/markdown/\n\n\nSimple Text Formatting\n======================\n\nFirst thing is first. You can use *stars* or _underscores_ for italics. **Double stars** and __double underscores__ for bold. ***Three together*** for ___both___.\n\nParagraphs are pretty easy too. Just have a blank line between chunks of text.\n\n> This chunk of text is in a block quote. Its multiple lines will all be\n> indented a bit from the rest of the text.\n>\n> > Multiple levels of block quotes also work.\n\nSometimes you want to include code, such as when you are explaining how `<h1>` HTML tags work, or maybe you are a programmer and you are discussing `someMethod()`.\n\nIf you want to include code and have new\nlines preserved, indent the line with a tab\nor at least four spaces:\n\n    Extra spaces work here too.\n    This is also called preformatted text and it is useful for showing examples.\n    The text will stay as text, so any *markdown* or <u>HTML</u> you add will\n    not show up formatted. This way you can show markdown examples in a\n    markdown document.\n\n>     You can also use preformatted text with your blockquotes\n>     as long as you add at least five spaces.\n\n\nHeadings\n========\n\nThere are a couple of ways to make headings. Using three or more equals signs on a line under a heading makes it into an \"h1\" style. Three or more hyphens under a line makes it \"h2\" (slightly smaller). You can also use multiple pound symbols (`#`) before and after a heading. Pounds after the title are ignored. Here are some examples:\n\nThis is H1\n==========\n\nThis is H2\n----------\n\n# This is H1\n## This is H2\n### This is H3 with some extra pounds ###\n#### You get the idea ####\n##### I don't need extra pounds at the end\n###### H6 is the max\n\n\nLinks\n=====\n\nLet's link to a few sites. First, let's use the bare URL, like <https://www.github.com>. Great for text, but ugly for HTML.\nNext is an inline link to [Google](https://www.google.com). A little nicer.\nThis is a reference-style link to [Wikipedia] [1].\nLastly, here's a pretty link to [Yahoo]. The reference-style and pretty links both automatically use the links defined below, but they could be defined *anywhere* in the markdown and are removed from the HTML. The names are also case insensitive, so you can use [YaHoO] and have it link properly.\n\n[1]: https://www.wikipedia.org\n[Yahoo]: https://www.yahoo.com\n\nTitle attributes may be added to links by adding text after a link.\nThis is the [inline link](https://www.bing.com \"Bing\") with a \"Bing\" title.\nYou can also go to [W3C] [2] and maybe visit a [friend].\n\n[2]: https://w3c.org (The W3C puts out specs for web-based things)\n[Friend]: https://facebook.com \"Facebook!\"\n\nEmail addresses in plain text are not linked: test@example.com.\nEmail addresses wrapped in angle brackets are linked: <test@example.com>.\nThey are also obfuscated so that email harvesting spam robots hopefully won't get them.\n\n\nLists\n=====\n\n* This is a bulleted list\n* Great for shopping lists\n- You can also use hyphens\n+ Or plus symbols\n\nThe above is an \"unordered\" list. Now, on for a bit of order.\n\n1. Numbered lists are also easy\n2. Just start with a number\n3738762. However, the actual number doesn't matter when converted to HTML.\n1. This will still show up as 4.\n\nYou might want a few advanced lists:\n\n- This top-level list is wrapped in paragraph tags\n- This generates an extra space between each top-level item.\n\n- You do it by adding a blank line\n\n- This nested list also has blank lines between the list items.\n\n- How to create nested lists\n  1. Start your regular list\n  2. Indent nested lists with two spaces\n  3. Further nesting means you should indent with two more spaces\n    * This line is indented with four spaces.\n\n- List items can be quite lengthy. You can keep typing and either continue\nthem on the next line with no indentation.\n\n- Alternately, if that looks ugly, you can also\n  indent the next line a bit for a prettier look.\n\n- You can put large blocks of text in your list by just indenting with two spaces.\n\n  This is formatted the same as code, but you can inspect the HTML\n  and find that it's just wrapped in a `<p>` tag and *won't* be shown\n  as preformatted text.\n\n  You can keep adding more and more paragraphs to a single\n  list item by adding the traditional blank line and then keep\n  on indenting the paragraphs with two spaces.\n\n  You really only need to indent the first line,\nbut that looks ugly.\n\n- Lists support blockquotes\n\n  > Just like this example here. By the way, you can\n  > nest lists inside blockquotes!\n  > - Fantastic!\n\n- Lists support preformatted text\n\n      You just need to indent an additional four spaces.\n\n\nEven More\n=========\n\nHorizontal Rule\n---------------\n\nIf you need a horizontal rule you just need to put at least three hyphens, asterisks, or underscores on a line by themselves. You can also even put spaces between the characters.\n\n---\n****************************\n_ _ _ _ _ _ _\n\nThose three all produced horizontal lines. Keep in mind that three hyphens under any text turns that text into a heading, so add a blank like if you use hyphens.\n\nImages\n------\n\nImages work exactly like links, but they have exclamation points in front. They work with references and titles too.\n\n![Google Logo](https://www.google.com/images/errors/logo_sm.gif) and ![Happy].\n\n[Happy]: https://wpclipart.com/smiley/happy/simple_colors/smiley_face_simple_green_small.png (\"Smiley face\")\n\n\nInline HTML\n-----------\n\nIf markdown is too limiting, you can just insert your own <strike>crazy</strike> HTML. Span-level HTML <u>can *still* use markdown</u>. Block level elements must be separated from text by a blank line and must not have any spaces before the opening and closing HTML.\n\n<div style='font-family: \"Comic Sans MS\", \"Comic Sans\", cursive;'>\nIt is a pity, but markdown does **not** work in here for most markdown parsers.\n[Marked] handles it pretty well.\n</div>\n",
          "filepath": "data/repos/markedjs/marked-1.2/docs/demo/quickref.md",
          "repo": "markedjs/marked",
          "version": "1.2",
          "chunk_index": 0,
          "chunk_id": "8dd2f984-0312-4df3-ade9-f9f9bacd6de0"
        }
      },
      {
        "id": "2a5761e6-803b-4aa1-8c75-f3618c8ad386",
        "score": 0.015873015873015872,
        "payload": {
          "text": "---\npedantic: true\nheaderIds: false\n---\n\nMarkdown: Syntax\n================\n\n<ul id=\"ProjectSubmenu\">\n    <li><a href=\"/projects/markdown/\" title=\"Markdown Project Page\">Main</a></li>\n    <li><a href=\"/projects/markdown/basics\" title=\"Markdown Basics\">Basics</a></li>\n    <li><a class=\"selected\" title=\"Markdown Syntax Documentation\">Syntax</a></li>\n    <li><a href=\"/projects/markdown/license\" title=\"Pricing and License Information\">License</a></li>\n    <li><a href=\"/projects/markdown/dingus\" title=\"Online Markdown Web Form\">Dingus</a></li>\n</ul>\n\n\n*   [Overview](#overview)\n    *   [Philosophy](#philosophy)\n    *   [Inline HTML](#html)\n    *   [Automatic Escaping for Special Characters](#autoescape)\n*   [Block Elements](#block)\n    *   [Paragraphs and Line Breaks](#p)\n    *   [Headers](#header)\n    *   [Blockquotes](#blockquote)\n    *   [Lists](#list)\n    *   [Code Blocks](#precode)\n    *   [Horizontal Rules](#hr)\n*   [Span Elements](#span)\n    *   [Links](#link)\n    *   [Emphasis](#em)\n    *   [Code](#code)\n    *   [Images](#img)\n*   [Miscellaneous](#misc)\n    *   [Backslash Escapes](#backslash)\n    *   [Automatic Links](#autolink)\n\n\n**Note:** This document is itself written using Markdown; you\ncan [see the source for it by adding '.text' to the URL][src].\n\n  [src]: /projects/markdown/syntax.text\n\n* * *\n\n<h2 id=\"overview\">Overview</h2>\n\n<h3 id=\"philosophy\">Philosophy</h3>\n\nMarkdown is intended to be as easy-to-read and easy-to-write as is feasible.\n\nReadability, however, is emphasized above all else. A Markdown-formatted\ndocument should be publishable as-is, as plain text, without looking\nlike it's been marked up with tags or formatting instructions. While\nMarkdown's syntax has been influenced by several existing text-to-HTML\nfilters -- including [Setext] [1], [atx] [2], [Textile] [3], [reStructuredText] [4],\n[Grutatext] [5], and [EtText] [6] -- the single biggest source of\ninspiration for Markdown's syntax is the format of plain text email.\n\n  [1]: http://docutils.sourceforge.net/mirror/setext.html\n  [2]: http://www.aaronsw.com/2002/atx/\n  [3]: http://textism.com/tools/textile/\n  [4]: http://docutils.sourceforge.net/rst.html\n  [5]: http://www.triptico.com/software/grutatxt.html\n  [6]: http://ettext.taint.org/doc/\n\nTo this end, Markdown's syntax is comprised entirely of punctuation\ncharacters, which punctuation characters have been carefully chosen so\nas to look like what they mean. E.g., asterisks around a word actually\nlook like \\*emphasis\\*. Markdown lists look like, well, lists. Even\nblockquotes look like quoted passages of text, assuming you've ever\nused email.\n\n\n\n<h3 id=\"html\">Inline HTML</h3>\n\nMarkdown's syntax is intended for one purpose: to be used as a\nformat for *writing* for the web.\n\nMarkdown is not a replacement for HTML, or even close to it. Its\nsyntax is very small, corresponding only to a very small subset of\nHTML tags. The idea is *not* to create a syntax that makes it easier\nto insert HTML tags. In my opinion, HTML tags are already easy to\ninsert. The idea for Markdown is to make it easy to read, write, and\nedit prose. HTML is a *publishing* format; Markdown is a *writing*\nformat. Thus, Markdown's formatting syntax only addresses issues that\ncan be conveyed in plain text.\n\nFor any markup that is not covered by Markdown's syntax, you simply\nuse HTML itself. There's no need to preface it or delimit it to\nindicate that you're switching from Markdown to HTML; you just use\nthe tags.\n\nThe only restrictions are that block-level HTML elements -- e.g. `<div>`,\n`<table>`, `<pre>`, `<p>`, etc. -- must be separated from surrounding\ncontent by blank lines, and the start and end tags of the block should\nnot be indented with tabs or spaces. Markdown is smart enough not\nto add extra (unwanted) `<p>` tags around HTML block-level tags.\n\nFor example, to add an HTML table to a Markdown article:\n\n    This is a regular paragraph.\n\n    <table>\n        <tr>\n            <td>Foo</td>\n        </tr>\n    </table>\n\n    This is another regular paragraph.\n\nNote that Markdown formatting syntax is not processed within block-level\nHTML tags. E.g., you can't use Markdown-style `*emphasis*` inside an\nHTML block.\n\nSpan-level HTML tags -- e.g. `<span>`, `<cite>`, or `<del>` -- can be\nused anywhere in a Markdown paragraph, list item, or header. If you\nwant, you can even use HTML tags instead of Markdown formatting; e.g. if\nyou'd prefer to use HTML `<a>` or `<img>` tags instead of Markdown's\nlink or image syntax, go right ahead.\n\nUnlike block-level HTML tags, Markdown syntax *is* processed within\nspan-level tags.\n\n\n<h3 id=\"autoescape\">Automatic Escaping for Special Characters</h3>\n\nIn HTML, there are two characters that demand special treatment: `<`\nand `&`. Left angle brackets are used to start tags; ampersands are\nused to denote HTML entities. If you want to use them as literal\ncharacters, you must escape them as entities, e.g. `&lt;`, and\n`&amp;`.\n\nAmpersands in particular are bedeviling for web writers. If you want to\nwrite about 'AT&T', you need to write '`AT&amp;T`'. You even need to\nescape ampersands within URLs. Thus, if you want to link to:\n\n    http://images.google.com/images?num=30&q=larry+bird\n\nyou need to encode the URL as:\n\n    http://images.google.com/images?num=30&amp;q=larry+bird\n\nin your anchor tag `href` attribute. Needless to say, this is easy to\nforget, and is probably the single most common source of HTML validation\nerrors in otherwise well-marked-up web sites.\n\nMarkdown allows you to use these characters naturally, taking care of\nall the necessary escaping for you. If you use an ampersand as part of\nan HTML entity, it remains unchanged; otherwise it will be translated\ninto `&amp;`.\n\nSo, if you want to include a copyright symbol in your article, you can write:\n\n    &copy;\n\nand Markdown will leave it alone. But if you write:\n\n    AT&T\n\nMarkdown will translate it to:\n\n    AT&amp;T\n\nSimilarly, because Markdown supports [inline HTML](#html), if you use\nangle brackets as delimiters for HTML tags, Markdown will treat them as\nsuch. But if you write:\n\n    4 < 5\n\nMarkdown will translate it to:\n\n    4 &lt; 5\n\nHowever, inside Markdown code spans and blocks, angle brackets and\nampersands are *always* encoded automatically. This makes it easy to use\nMarkdown to write about HTML code. (As opposed to raw HTML, which is a\nterrible format for writing about HTML syntax, because every single `<`\nand `&` in your example code needs to be escaped.)\n\n\n* * *\n\n\n<h2 id=\"block\">Block Elements</h2>\n\n\n<h3 id=\"p\">Paragraphs and Line Breaks</h3>\n\nA paragraph is simply one or more consecutive lines of text, separated\nby one or more blank lines. (A blank line is any line that looks like a\nblank line -- a line containing nothing but spaces or tabs is considered\nblank.) Normal paragraphs should not be intended with spaces or tabs.\n\nThe implication of the \"one or more consecutive lines of text\" rule is\nthat Markdown supports \"hard-wrapped\" text paragraphs. This differs\nsignificantly from most other text-to-HTML formatters (including Movable\nType's \"Convert Line Breaks\" option) which translate every line break\ncharacter in a paragraph into a `<br />` tag.\n\nWhen you *do* want to insert a `<br />` break tag using Markdown, you\nend a line with two or more spaces, then type return.\n\nYes, this takes a tad more effort to create a `<br />`, but a simplistic\n\"every line break is a `<br />`\" rule wouldn't work for Markdown.\nMarkdown's email-style [blockquoting][bq] and multi-paragraph [list items][l]\nwork best -- and look better -- when you format them with hard breaks.\n\n  [bq]: #blockquote\n  [l]:  #list\n\n\n\n<h3 id=\"header\">Headers</h3>\n\nMarkdown supports two styles of headers, [Setext] [1] and [atx] [2].\n\nSetext-style headers are \"underlined\" using equal signs (for first-level\nheaders) and dashes (for second-level headers). For example:\n\n    This is an H1\n    =============\n\n    This is an H2\n    -------------\n\nAny number of underlining `=`'s or `-`'s will work.\n\nAtx-style headers use 1-6 hash characters at the start of the line,\ncorresponding to header levels 1-6. For example:\n\n    # This is an H1\n\n    ## This is an H2\n\n    ###### This is an H6\n\nOptionally, you may \"close\" atx-style headers. This is purely\ncosmetic -- you can use this if you think it looks better. The\nclosing hashes don't even need to match the number of hashes\nused to open the header. (The number of opening hashes\ndetermines the header level.) :\n\n    # This is an H1 #\n\n    ## This is an H2 ##\n\n    ### This is an H3 ######\n\n\n<h3 id=\"blockquote\">Blockquotes</h3>\n\nMarkdown uses email-style `>` characters for blockquoting. If you're\nfamiliar with quoting passages of text in an email message, then you\nknow how to create a blockquote in Markdown. It looks best if you hard\nwrap the text and put a `>` before every line:\n\n    > This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,\n    > consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.\n    > Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus.\n    >\n    > Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse\n    > id sem consectetuer libero luctus adipiscing.\n\nMarkdown allows you to be lazy and only put the `>` before the first\nline of a hard-wrapped paragraph:\n\n    > This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,\n    consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.\n    Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus.\n\n    > Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse\n    id sem consectetuer libero luctus adipiscing.\n\nBlockquotes can be nested (i.e. a blockquote-in-a-blockquote) by\nadding additional levels of `>`:\n\n    > This is the first level of quoting.\n    >\n    > > This is nested blockquote.\n    >\n    > Back to the first level.\n\nBlockquotes can contain other Markdown elements, including headers, lists,\nand code blocks:\n\n\t> ## This is a header.\n\t>\n\t> 1.   This is the first list item.\n\t> 2.   This is the second list item.\n\t>\n\t> Here's some example code:\n\t>\n\t>     return shell_exec(\"echo $input | $markdown_script\");\n\nAny decent text editor should make email-style quoting easy. For\nexample, with BBEdit, you can make a selection and choose Increase\nQuote Level from the Text menu.\n\n\n<h3 id=\"list\">Lists</h3>\n\nMarkdown supports ordered (numbered) and unordered (bulleted) lists.\n\nUnordered lists use asterisks, pluses, and hyphens -- interchangably\n-- as list markers:\n\n    *   Red\n    *   Green\n    *   Blue\n\nis equivalent to:\n\n    +   Red\n    +   Green\n    +   Blue\n\nand:\n\n    -   Red\n    -   Green\n    -   Blue\n\nOrdered lists use numbers followed by periods:\n\n    1.  Bird\n    2.  McHale\n    3.  Parish\n\nIt's important to note that the actual numbers you use to mark the\nlist have no effect on the HTML output Markdown produces. The HTML\nMarkdown produces from the above list is:\n\n    <ol>\n    <li>Bird</li>\n    <li>McHale</li>\n    <li>Parish</li>\n    </ol>\n\nIf you instead wrote the list in Markdown like this:\n\n    1.  Bird\n    1.  McHale\n    1.  Parish\n\nor even:\n\n    3. Bird\n    1. McHale\n    8. Parish\n\nyou'd get the exact same HTML output. The point is, if you want to,\nyou can use ordinal numbers in your ordered Markdown lists, so that\nthe numbers in your source match the numbers in your published HTML.\nBut if you want to be lazy, you don't have to.\n\nIf you do use lazy list numbering, however, you should still start the\nlist with the number 1. At some point in the future, Markdown may support\nstarting ordered lists at an arbitrary number.\n\nList markers typically start at the left margin, but may be indented by\nup to three spaces. List markers must be followed by one or more spaces\nor a tab.\n\nTo make lists look nice, you can wrap items with hanging indents:\n\n    *   Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\n        Aliquam hendrerit mi posuere lectus. Vestibulum enim wisi,\n        viverra nec, fringilla in, laoreet vitae, risus.\n    *   Donec sit amet nisl. Aliquam semper ipsum sit amet velit.\n        Suspendisse id sem consectetuer libero luctus adipiscing.\n\nBut if you want to be lazy, you don't have to:\n\n    *   Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\n    Aliquam hendrerit mi posuere lectus. Vestibulum enim wisi,\n    viverra nec, fringilla in, laoreet vitae, risus.\n    *   Donec sit amet nisl. Aliquam semper ipsum sit amet velit.\n    Suspendisse id sem consectetuer libero luctus adipiscing.\n\nIf list items are separated by blank lines, Markdown will wrap the\nitems in `<p>` tags in the HTML output. For example, this input:\n\n    *   Bird\n    *   Magic\n\nwill turn into:\n\n    <ul>\n    <li>Bird</li>\n    <li>Magic</li>\n    </ul>\n\nBut this:\n\n    *   Bird\n\n    *   Magic\n\nwill turn into:\n\n    <ul>\n    <li><p>Bird</p></li>\n    <li><p>Magic</p></li>\n    </ul>\n\nList items may consist of multiple paragraphs. Each subsequent\nparagraph in a list item must be intended by either 4 spaces\nor one tab:\n\n    1.  This is a list item with two paragraphs. Lorem ipsum dolor\n        sit amet, consectetuer adipiscing elit. Aliquam hendrerit\n        mi posuere lectus.\n\n        Vestibulum enim wisi, viverra nec, fringilla in, laoreet\n        vitae, risus. Donec sit amet nisl. Aliquam semper ipsum\n        sit amet velit.\n\n    2.  Suspendisse id sem consectetuer libero luctus adipiscing.\n\nIt looks nice if you indent every line of the subsequent\nparagraphs, but here again, Markdown will allow you to be\nlazy:\n\n    *   This is a list item with two paragraphs.\n\n        This is the second paragraph in the list item. You're\n    only required to indent the first line. Lorem ipsum dolor\n    sit amet, consectetuer adipiscing elit.\n\n    *   Another item in the same list.\n\nTo put a blockquote within a list item, the blockquote's `>`\ndelimiters need to be indented:\n\n    *   A list item with a blockquote:\n\n        > This is a blockquote\n        > inside a list item.\n\nTo put a code block within a list item, the code block needs\nto be indented *twice* -- 8 spaces or two tabs:\n\n    *   A list item with a code block:\n\n            <code goes here>\n\n\nIt's worth noting that it's possible to trigger an ordered list by\naccident, by writing something like this:\n\n    1986. What a great season.\n\nIn other words, a *number-period-space* sequence at the beginning of a\nline. To avoid this, you can backslash-escape the period:\n\n    1986\\. What a great season.\n\n\n\n<h3 id=\"precode\">Code Blocks</h3>\n\nPre-formatted code blocks are used for writing about programming or\nmarkup source code. Rather than forming normal paragraphs, the lines\nof a code block are interpreted literally. Markdown wraps a code block\nin both `<pre>` and `<code>` tags.\n\nTo produce a code block in Markdown, simply indent every line of the\nblock by at least 4 spaces or 1 tab. For example, given this input:\n\n    This is a normal paragraph:\n\n        This is a code block.\n\nMarkdown will generate:\n\n    <p>This is a normal paragraph:</p>\n\n    <pre><code>This is a code block.\n    </code></pre>\n\nOne level of indentation -- 4 spaces or 1 tab -- is removed from each\nline of the code block. For example, this:\n\n    Here is an example of AppleScript:\n\n        tell application \"Foo\"\n            beep\n        end tell\n\nwill turn into:\n\n    <p>Here is an example of AppleScript:</p>\n\n    <pre><code>tell application \"Foo\"\n        beep\n    end tell\n    </code></pre>\n\nA code block continues until it reaches a line that is not indented\n(or the end of the article).\n\nWithin a code block, ampersands (`&`) and angle brackets (`<` and `>`)\nare automatically converted into HTML entities. This makes it very\neasy to include example HTML source code using Markdown -- just paste\nit and indent it, and Markdown will handle the hassle of encoding the\nampersands and angle brackets. For example, this:\n\n        <div class=\"footer\">\n            &copy; 2004 Foo Corporation\n        </div>\n\nwill turn into:\n\n    <pre><code>&lt;div class=\"footer\"&gt;\n        &amp;copy; 2004 Foo Corporation\n    &lt;/div&gt;\n    </code></pre>\n\nRegular Markdown syntax is not processed within code blocks. E.g.,\nasterisks are just literal asterisks within a code block. This means\nit's also easy to use Markdown to write about Markdown's own syntax.\n\n\n\n<h3 id=\"hr\">Horizontal Rules</h3>\n\nYou can produce a horizontal rule tag (`<hr />`) by placing three or\nmore hyphens, asterisks, or underscores on a line by themselves. If you\nwish, you may use spaces between the hyphens or asterisks. Each of the\nfollowing lines will produce a horizontal rule:\n\n    * * *\n\n    ***\n\n    *****\n\n    - - -\n\n    ---------------------------------------\n\n\t_ _ _\n\n\n* * *\n\n<h2 id=\"span\">Span Elements</h2>\n\n<h3 id=\"link\">Links</h3>\n\nMarkdown supports two style of links: *inline* and *reference*.\n\nIn both styles, the link text is delimited by [square brackets].\n\nTo create an inline link, use a set of regular parentheses immediately\nafter the link text's closing square bracket. Inside the parentheses,\nput the URL where you want the link to point, along with an *optional*\ntitle for the link, surrounded in quotes. For example:\n\n    This is [an example](http://example.com/ \"Title\") inline link.\n\n    [This link](http://example.net/) has no title attribute.\n\nWill produce:\n\n    <p>This is <a href=\"http://example.com/\" title=\"Title\">\n    an example</a> inline link.</p>\n\n    <p><a href=\"http://example.net/\">This link</a> has no\n    title attribute.</p>\n\nIf you're referring to a local resource on the same server, you can\nuse relative paths:\n\n    See my [About](/about/) page for details.\n\nReference-style links use a second set of square brackets, inside\nwhich you place a label of your choosing to identify the link:\n\n    This is [an example][id] reference-style link.\n\nYou can optionally use a space to separate the sets of brackets:\n\n    This is [an example] [id] reference-style link.\n\nThen, anywhere in the document, you define your link label like this,\non a line by itself:\n\n    [id]: http://example.com/  \"Optional Title Here\"\n\nThat is:\n\n*   Square brackets containing the link identifier (optionally\n    indented from the left margin using up to three spaces);\n*   followed by a colon;\n*   followed by one or more spaces (or tabs);\n*   followed by the URL for the link;\n*   optionally followed by a title attribute for the link, enclosed\n    in double or single quotes.\n\nThe link URL may, optionally, be surrounded by angle brackets:\n\n    [id]: <http://example.com/>  \"Optional Title Here\"\n\nYou can put the title attribute on the next line and use extra spaces\nor tabs for padding, which tends to look better with longer URLs:\n\n    [id]: http://example.com/longish/path/to/resource/here\n        \"Optional Title Here\"\n\nLink definitions are only used for creating links during Markdown\nprocessing, and are stripped from your document in the HTML output.\n\nLink definition names may constist of letters, numbers, spaces, and punctuation -- but they are *not* case sensitive. E.g. these two links:\n\n\t[link text][a]\n\t[link text][A]\n\nare equivalent.\n\nThe *implicit link name* shortcut allows you to omit the name of the\nlink, in which case the link text itself is used as the name.\nJust use an empty set of square brackets -- e.g., to link the word\n\"Google\" to the google.com web site, you could simply write:\n\n\t[Google][]\n\nAnd then define the link:\n\n\t[Google]: http://google.com/\n\nBecause link names may contain spaces, this shortcut even works for\nmultiple words in the link text:\n\n\tVisit [Daring Fireball][] for more information.\n\nAnd then define the link:\n\n\t[Daring Fireball]: http://daringfireball.net/\n\nLink definitions can be placed anywhere in your Markdown document. I\ntend to put them immediately after each paragraph in which they're\nused, but if you want, you can put them all at the end of your\ndocument, sort of like footnotes.\n\nHere's an example of reference links in action:\n\n    I get 10 times more traffic from [Google] [1] than from\n    [Yahoo] [2] or [MSN] [3].\n\n      [1]: http://google.com/        \"Google\"\n      [2]: http://search.yahoo.com/  \"Yahoo Search\"\n      [3]: http://search.msn.com/    \"MSN Search\"\n\nUsing the implicit link name shortcut, you could instead write:\n\n    I get 10 times more traffic from [Google][] than from\n    [Yahoo][] or [MSN][].\n\n      [google]: http://google.com/        \"Google\"\n      [yahoo]:  http://search.yahoo.com/  \"Yahoo Search\"\n      [msn]:    http://search.msn.com/    \"MSN Search\"\n\nBoth of the above examples will produce the following HTML output:\n\n    <p>I get 10 times more traffic from <a href=\"http://google.com/\"\n    title=\"Google\">Google</a> than from\n    <a href=\"http://search.yahoo.com/\" title=\"Yahoo Search\">Yahoo</a>\n    or <a href=\"http://search.msn.com/\" title=\"MSN Search\">MSN</a>.</p>\n\nFor comparison, here is the same paragraph written using\nMarkdown's inline link style:\n\n    I get 10 times more traffic from [Google](http://google.com/ \"Google\")\n    than from [Yahoo](http://search.yahoo.com/ \"Yahoo Search\") or\n    [MSN](http://search.msn.com/ \"MSN Search\").\n\nThe point of reference-style links is not that they're easier to\nwrite. The point is that with reference-style links, your document\nsource is vastly more readable. Compare the above examples: using\nreference-style links, the paragraph itself is only 81 characters\nlong; with inline-style links, it's 176 characters; and as raw HTML,\nit's 234 characters. In the raw HTML, there's more markup than there\nis text.\n\nWith Markdown's reference-style links, a source document much more\nclosely resembles the final output, as rendered in a browser. By\nallowing you to move the markup-related metadata out of the paragraph,\nyou can add links without interrupting the narrative flow of your\nprose.\n\n\n<h3 id=\"em\">Emphasis</h3>\n\nMarkdown treats asterisks (`*`) and underscores (`_`) as indicators of\nemphasis. Text wrapped with one `*` or `_` will be wrapped with an\nHTML `<em>` tag; double `*`'s or `_`'s will be wrapped with an HTML\n`<strong>` tag. E.g., this input:\n\n    *single asterisks*\n\n    _single underscores_\n\n    **double asterisks**\n\n    __double underscores__\n\nwill produce:\n\n    <em>single asterisks</em>\n\n    <em>single underscores</em>\n\n    <strong>double asterisks</strong>\n\n    <strong>double underscores</strong>\n\nYou can use whichever style you prefer; the lone restriction is that\nthe same character must be used to open and close an emphasis span.\n\nEmphasis can be used in the middle of a word:\n\n    un*fucking*believable\n\nBut if you surround an `*` or `_` with spaces, it'll be treated as a\nliteral asterisk or underscore.\n\nTo produce a literal asterisk or underscore at a position where it\nwould otherwise be used as an emphasis delimiter, you can backslash\nescape it:\n\n    \\*this text is surrounded by literal asterisks\\*\n\n\n\n<h3 id=\"code\">Code</h3>\n\nTo indicate a span of code, wrap it with backtick quotes (`` ` ``).\nUnlike a pre-formatted code block, a code span indicates code within a\nnormal paragraph. For example:\n\n    Use the `printf()` function.\n\nwill produce:\n\n    <p>Use the <code>printf()</code> function.</p>\n\nTo include a literal backtick character within a code span, you can use\nmultiple backticks as the opening and closing delimiters:\n\n    ``There is a literal backtick (`) here.``\n\nwhich will produce this:\n\n    <p><code>There is a literal backtick (`) here.</code></p>\n\nThe backtick delimiters surrounding a code span may include spaces --\none after the opening, one before the closing. This allows you to place\nliteral backtick characters at the beginning or end of a code span:\n\n\tA single backtick in a code span: `` ` ``\n\n\tA backtick-delimited string in a code span: `` `foo` ``\n\nwill produce:\n\n\t<p>A single backtick in a code span: <code>`</code></p>\n\n\t<p>A backtick-delimited string in a code span: <code>`foo`</code></p>\n\nWith a code span, ampersands and angle brackets are encoded as HTML\nentities automatically, which makes it easy to include example HTML\ntags. Markdown will turn this:\n\n    Please don't use any `<blink>` tags.\n\ninto:\n\n    <p>Please don't use any <code>&lt;blink&gt;</code> tags.</p>\n\nYou can write this:\n\n    `&#8212;` is the decimal-encoded equivalent of `&mdash;`.\n\nto produce:\n\n    <p><code>&amp;#8212;</code> is the decimal-encoded\n    equivalent of <code>&amp;mdash;</code>.</p>\n\n\n\n<h3 id=\"img\">Images</h3>\n\nAdmittedly, it's fairly difficult to devise a \"natural\" syntax for\nplacing images into a plain text document format.\n\nMarkdown uses an image syntax that is intended to resemble the syntax\nfor links, allowing for two styles: *inline* and *reference*.\n\nInline image syntax looks like this:\n\n    ![Alt text](/path/to/img.jpg)\n\n    ![Alt text](/path/to/img.jpg \"Optional title\")\n\nThat is:\n\n*   An exclamation mark: `!`;\n*   followed by a set of square brackets, containing the `alt`\n    attribute text for the image;\n*   followed by a set of parentheses, containing the URL or path to\n    the image, and an optional `title` attribute enclosed in double\n    or single quotes.\n\nReference-style image syntax looks like this:\n\n    ![Alt text][id]\n\nWhere \"id\" is the name of a defined image reference. Image references\nare defined using syntax identical to link references:\n\n    [id]: url/to/image  \"Optional title attribute\"\n\nAs of this writing, Markdown has no syntax for specifying the\ndimensions of an image; if this is important to you, you can simply\nuse regular HTML `<img>` tags.\n\n\n* * *\n\n\n<h2 id=\"misc\">Miscellaneous</h2>\n\n<h3 id=\"autolink\">Automatic Links</h3>\n\nMarkdown supports a shortcut style for creating \"automatic\" links for URLs and email addresses: simply surround the URL or email address with angle brackets. What this means is that if you want to show the actual text of a URL or email address, and also have it be a clickable link, you can do this:\n\n    <http://example.com/>\n\nMarkdown will turn this into:\n\n    <a href=\"http://example.com/\">http://example.com/</a>\n\nAutomatic links for email addresses work similarly, except that\nMarkdown will also perform a bit of randomized decimal and hex\nentity-encoding to help obscure your address from address-harvesting\nspambots. For example, Markdown will turn this:\n\n    <address@example.com>\n\ninto something like this:\n\n    <a href=\"&#x6D;&#x61;i&#x6C;&#x74;&#x6F;:&#x61;&#x64;&#x64;&#x72;&#x65;\n    &#115;&#115;&#64;&#101;&#120;&#x61;&#109;&#x70;&#x6C;e&#x2E;&#99;&#111;\n    &#109;\">&#x61;&#x64;&#x64;&#x72;&#x65;&#115;&#115;&#64;&#101;&#120;&#x61;\n    &#109;&#x70;&#x6C;e&#x2E;&#99;&#111;&#109;</a>\n\nwhich will render in a browser as a clickable link to \"address@example.com\".\n\n(This sort of entity-encoding trick will indeed fool many, if not\nmost, address-harvesting bots, but it definitely won't fool all of\nthem. It's better than nothing, but an address published in this way\nwill probably eventually start receiving spam.)\n\n\n\n<h3 id=\"backslash\">Backslash Escapes</h3>\n\nMarkdown allows you to use backslash escapes to generate literal\ncharacters which would otherwise have special meaning in Markdown's\nformatting syntax. For example, if you wanted to surround a word with\nliteral asterisks (instead of an HTML `<em>` tag), you can backslashes\nbefore the asterisks, like this:\n\n    \\*literal asterisks\\*\n\nMarkdown provides backslash escapes for the following characters:\n\n    \\   backslash\n    `   backtick\n    *   asterisk\n    _   underscore\n    {}  curly braces\n    []  square brackets\n    ()  parentheses\n    #   hash mark\n\t+\tplus sign\n\t-\tminus sign (hyphen)\n    .   dot\n    !   exclamation mark\n",
          "filepath": "data/repos/markedjs/marked-1.2/test/specs/original/markdown_documentation_syntax.md",
          "repo": "markedjs/marked",
          "version": "1.2",
          "chunk_index": 0,
          "chunk_id": "2a5761e6-803b-4aa1-8c75-f3618c8ad386"
        }
      },
      {
        "id": "f6c80df3-496b-4eba-b445-fc29bcbfa272",
        "score": 0.015625,
        "payload": {
          "text": "Marked is\n\n1. built for speed.<sup>*</sup>\n2. a low-level markdown compiler for parsing markdown without caching or blocking for long periods of time.<sup>**</sup>\n3. light-weight while implementing all markdown features from the supported flavors & specifications.<sup>***</sup>\n4. available as a command line interface (CLI) and running in client- or server-side JavaScript projects.\n\n<p><small><sup>*</sup> Still working on metrics for comparative analysis and definition.</small><br>\n<small><sup>**</sup> As few dependencies as possible.</small><br>\n<small><sup>***</sup> Strict compliance could result in slower processing when running comparative benchmarking.</small></p>\n\n\n<h2 id=\"demo\">Demo</h2>\n\nCheckout the [demo page](./demo/) to see marked in action \u26f9\ufe0f\n\nThese documentation pages are also rendered using marked \ud83d\udcaf\n\n\n<h2 id=\"installation\">Installation</h2>\n\n**CLI:** `npm install -g marked`\n\n**In-browser:** `npm install marked`\n\n<h2 id=\"usage\">Usage</h2>\n\n### Warning: \ud83d\udea8 Marked does not [sanitize](/using_advanced#options) the output HTML. Please use a sanitize library, like [DOMPurify](https://github.com/cure53/DOMPurify) (recommended), [sanitize-html](https://github.com/apostrophecms/sanitize-html) or [insane](https://github.com/bevacqua/insane) on the output HTML! \ud83d\udea8\n\n**CLI**\n\n``` bash\n$ marked -o hello.html\nhello world\n^D\n$ cat hello.html\n<p>hello world</p>\n```\n\n``` bash\n$ marked -s \"*hello world*\"\n<p><em>hello world</em></p>\n```\n\n**Browser**\n\n```html\n<!doctype html>\n<html>\n<head>\n  <meta charset=\"utf-8\"/>\n  <title>Marked in the browser</title>\n</head>\n<body>\n  <div id=\"content\"></div>\n  <script src=\"https://cdn.jsdelivr.net/npm/marked/marked.min.js\"></script>\n  <script>\n    document.getElementById('content').innerHTML =\n      marked('# Marked in browser\\n\\nRendered by **marked**.');\n  </script>\n</body>\n</html>\n```\n\n**Node.js**\n\n```js\nconst marked = require(\"marked\");\nconst html = marked('# Marked in Node.js\\n\\nRendered by **marked**.');\n```\n\n\nMarked offers [advanced configurations](/using_advanced) and [extensibility](/using_pro) as well.\n\n<h2 id=\"specifications\">Supported Markdown specifications</h2>\n\nWe actively support the features of the following [Markdown flavors](https://github.com/commonmark/CommonMark/wiki/Markdown-Flavors).\n\n| Flavor                                                     | Version | Status                                                             |\n| :--------------------------------------------------------- | :------ | :----------------------------------------------------------------- |\n| The original markdown.pl                                   | --      |                                                                    |\n| [CommonMark](http://spec.commonmark.org/0.29/)             | 0.29    | [Work in progress](https://github.com/markedjs/marked/issues/1202) |\n| [GitHub Flavored Markdown](https://github.github.com/gfm/) | 0.29    | [Work in progress](https://github.com/markedjs/marked/issues/1202) |\n\nBy supporting the above Markdown flavors, it's possible that Marked can help you use other flavors as well; however, these are not actively supported by the community.\n\n<h2 id=\"security\">Security</h2>\n\nThe only completely secure system is the one that doesn't exist in the first place. Having said that, we take the security of Marked very seriously.\n\nTherefore, please disclose potential security issues by email to the project [committers](/authors) as well as the [listed owners within NPM](https://docs.npmjs.com/cli/owner). We will provide an initial assessment of security reports within 48 hours and should apply patches within 2 weeks (also, feel free to contribute a fix for the issue).\n",
          "filepath": "data/repos/markedjs/marked-1.2/docs/INDEX.md",
          "repo": "markedjs/marked",
          "version": "1.2",
          "chunk_index": 0,
          "chunk_id": "f6c80df3-496b-4eba-b445-fc29bcbfa272"
        }
      },
      {
        "id": "aa4af12d-01cf-4144-b66a-44630609d6b4",
        "score": 0.015384615384615385,
        "payload": {
          "text": "## Extending Marked\n\nTo champion the single-responsibility and open/closed principles, we have tried to make it relatively painless to extend marked. If you are looking to add custom functionality, this is the place to start.\n\n<h2 id=\"use\">marked.use()</h2>\n\n`marked.use(options)` is the recommended way to extend marked. The options object can contain any [option](/using_advanced#options) available in marked.\n\nThe `renderer` and `tokenizer` options can be an object with functions that will be merged into the `renderer` and `tokenizer` respectively.\n\nThe `renderer` and `tokenizer` functions can return false to fallback to the previous function.\n\nThe `walkTokens` option can be a function that will be called with every token before rendering. When calling `use` multiple times with different `walkTokens` functions each function will be called in the **reverse** order in which they were assigned.\n\nAll other options will overwrite previously set options.\n\n<h2 id=\"renderer\">The renderer</h2>\n\nThe renderer defines the output of the parser.\n\n**Example:** Overriding default heading token by adding an embedded anchor tag like on GitHub.\n\n```js\n// Create reference instance\nconst marked = require('marked');\n\n// Override function\nconst renderer = {\n  heading(text, level) {\n    const escapedText = text.toLowerCase().replace(/[^\\w]+/g, '-');\n\n    return `\n            <h${level}>\n              <a name=\"${escapedText}\" class=\"anchor\" href=\"#${escapedText}\">\n                <span class=\"header-link\"></span>\n              </a>\n              ${text}\n            </h${level}>`;\n  }\n};\n\nmarked.use({ renderer });\n\n// Run marked\nconsole.log(marked('# heading+'));\n```\n\n**Output:**\n\n```html\n<h1>\n  <a name=\"heading-\" class=\"anchor\" href=\"#heading-\">\n    <span class=\"header-link\"></span>\n  </a>\n  heading+\n</h1>\n```\n\n### Block level renderer methods\n\n- code(*string* code, *string* infostring, *boolean* escaped)\n- blockquote(*string* quote)\n- html(*string* html)\n- heading(*string* text, *number* level, *string* raw, *Slugger* slugger)\n- hr()\n- list(*string* body, *boolean* ordered, *number* start)\n- listitem(*string* text, *boolean* task, *boolean* checked)\n- checkbox(*boolean* checked)\n- paragraph(*string* text)\n- table(*string* header, *string* body)\n- tablerow(*string* content)\n- tablecell(*string* content, *object* flags)\n\n`slugger` has the `slug` method to create a unique id from value:\n\n```js\nslugger.slug('foo')   // foo\nslugger.slug('foo')   // foo-1\nslugger.slug('foo')   // foo-2\nslugger.slug('foo 1') // foo-1-1\nslugger.slug('foo-1') // foo-1-2\n...\n```\n\n`slugger.slug` can also be called with the `dryrun` option for stateless operation:\n```js\nslugger.slug('foo')                    // foo\nslugger.slug('foo')                    // foo-1\nslugger.slug('foo')                    // foo-2\nslugger.slug('foo', { dryrun: true })  // foo-3\nslugger.slug('foo', { dryrun: true })  // foo-3\nslugger.slug('foo')                    // foo-3\nslugger.slug('foo')                    // foo-4\n...\n```\n\n`flags` has the following properties:\n\n```js\n{\n    header: true || false,\n    align: 'center' || 'left' || 'right'\n}\n```\n\n### Inline level renderer methods\n\n- strong(*string* text)\n- em(*string* text)\n- codespan(*string* code)\n- br()\n- del(*string* text)\n- link(*string* href, *string* title, *string* text)\n- image(*string* href, *string* title, *string* text)\n- text(*string* text)\n\n<h2 id=\"tokenizer\">The tokenizer</h2>\n\nThe tokenizer defines how to turn markdown text into tokens.\n\n**Example:** Overriding default `codespan` tokenizer to include LaTeX.\n\n```js\n// Create reference instance\nconst marked = require('marked');\n\n// Override function\nconst tokenizer = {\n  codespan(src) {\n    const match = src.match(/\\$+([^\\$\\n]+?)\\$+/);\n    if (match) {\n      return {\n        type: 'codespan',\n        raw: match[0],\n        text: match[1].trim()\n      };\n    }\n\n    // return false to use original codespan tokenizer\n    return false;\n  }\n};\n\nmarked.use({ tokenizer });\n\n// Run marked\nconsole.log(marked('$ latex code $\\n\\n` other code `'));\n```\n\n**Output:**\n\n```html\n<p><code>latex code</code></p>\n<p><code>other code</code></p>\n```\n\n### Block level tokenizer methods\n\n- space(*string* src)\n- code(*string* src, *array* tokens)\n- fences(*string* src)\n- heading(*string* src)\n- nptable(*string* src)\n- hr(*string* src)\n- blockquote(*string* src)\n- list(*string* src)\n- html(*string* src)\n- def(*string* src)\n- table(*string* src)\n- lheading(*string* src)\n- paragraph(*string* src)\n- text(*string* src, *array* tokens)\n\n### Inline level tokenizer methods\n\n- escape(*string* src)\n- tag(*string* src, *bool* inLink, *bool* inRawBlock)\n- link(*string* src)\n- reflink(*string* src, *object* links)\n- strong(*string* src)\n- em(*string* src)\n- codespan(*string* src)\n- br(*string* src)\n- del(*string* src)\n- autolink(*string* src, *function* mangle)\n- url(*string* src, *function* mangle)\n- inlineText(*string* src, *bool* inRawBlock, *function* smartypants)\n\n`mangle` is a method that changes text to HTML character references:\n\n```js\nmangle('test@example.com')\n// \"&#x74;&#101;&#x73;&#116;&#x40;&#101;&#120;&#x61;&#x6d;&#112;&#108;&#101;&#46;&#x63;&#111;&#x6d;\"\n```\n\n`smartypants` is a method that translates plain ASCII punctuation characters into \u201csmart\u201d typographic punctuation HTML entities:\n\nhttps://daringfireball.net/projects/smartypants/\n\n```js\nsmartypants('\"this ... string\"')\n// \"\u201cthis \u2026 string\u201d\"\n```\n\n<h2 id=\"walk-tokens\">Walk Tokens</h2>\n\nThe walkTokens function gets called with every token. Child tokens are called before moving on to sibling tokens. Each token is passed by reference so updates are persisted when passed to the parser. The return value of the function is ignored.\n\n**Example:** Overriding heading tokens to start at h2.\n\n```js\nconst marked = require('marked');\n\n// Override function\nconst walkTokens = (token) => {\n  if (token.type === 'heading') {\n    token.depth += 1;\n  }\n};\n\nmarked.use({ walkTokens });\n\n// Run marked\nconsole.log(marked('# heading 2\\n\\n## heading 3'));\n```\n\n**Output:**\n\n```html\n<h2 id=\"heading-2\">heading 2</h2>\n<h3 id=\"heading-3\">heading 3</h3>\n```\n\n<h2 id=\"lexer\">The lexer</h2>\n\nThe lexer takes a markdown string and calls the tokenizer functions.\n\n<h2 id=\"parser\">The parser</h2>\n\nThe parser takes tokens as input and calls the renderer functions.\n\n***\n\n<h2 id=\"extend\">Access to lexer and parser</h2>\n\nYou also have direct access to the lexer and parser if you so desire.\n\n``` js\nconst tokens = marked.lexer(markdown, options);\nconsole.log(marked.parser(tokens, options));\n```\n\n``` js\nconst lexer = new marked.Lexer(options);\nconst tokens = lexer.lex(markdown);\nconsole.log(tokens);\nconsole.log(lexer.tokenizer.rules.block); // block level rules used\nconsole.log(lexer.tokenizer.rules.inline); // inline level rules used\nconsole.log(marked.Lexer.rules.block); // all block level rules\nconsole.log(marked.Lexer.rules.inline); // all inline level rules\n```\n\n``` bash\n$ node\n> require('marked').lexer('> I am using marked.')\n[\n  {\n    type: \"blockquote\",\n    raw: \"> I am using marked.\",\n    tokens: [\n      {\n        type: \"paragraph\",\n        raw: \"I am using marked.\",\n        text: \"I am using marked.\",\n        tokens: [\n          {\n            type: \"text\",\n            raw: \"I am using marked.\",\n            text: \"I am using marked.\"\n          }\n        ]\n      }\n    ]\n  },\n  links: {}\n]\n```\n\nThe Lexer builds an array of tokens, which will be passed to the Parser.\nThe Parser processes each token in the token array:\n\n``` js\nconst marked = require('marked');\n\nconst md = `\n  # heading\n\n  [link][1]\n\n  [1]: #heading \"heading\"\n`;\n\nconst tokens = marked.lexer(md);\nconsole.log(tokens);\n\nconst html = marked.parser(tokens);\nconsole.log(html);\n```\n\n``` bash\n[\n  {\n    type: \"heading\",\n    raw: \"  # heading\\n\\n\",\n    depth: 1,\n    text: \"heading\",\n    tokens: [\n      {\n        type: \"text\",\n        raw: \"heading\",\n        text: \"heading\"\n      }\n    ]\n  },\n  {\n    type: \"paragraph\",\n    raw: \"  [link][1]\",\n    text: \"  [link][1]\",\n    tokens: [\n      {\n        type: \"text\",\n        raw: \"  \",\n        text: \"  \"\n      },\n      {\n        type: \"link\",\n        raw: \"[link][1]\",\n        text: \"link\",\n        href: \"#heading\",\n        title: \"heading\",\n        tokens: [\n          {\n            type: \"text\",\n            raw: \"link\",\n            text: \"link\"\n          }\n        ]\n      }\n    ]\n  },\n  {\n    type: \"space\",\n    raw: \"\\n\\n\"\n  },\n  links: {\n    \"1\": {\n      href: \"#heading\",\n      title: \"heading\"\n    }\n  }\n]\n<h1 id=\"heading\">heading</h1>\n<p>  <a href=\"#heading\" title=\"heading\">link</a></p>\n```\n",
          "filepath": "data/repos/markedjs/marked-1.2/docs/USING_PRO.md",
          "repo": "markedjs/marked",
          "version": "1.2",
          "chunk_index": 0,
          "chunk_id": "aa4af12d-01cf-4144-b66a-44630609d6b4"
        }
      }
    ]
  },
  {
    "instance_id": "markedjs__marked-1821",
    "model_patch": "diff --git a/src/marked.js b/src/marked.js\n--- a/src/marked.js\n+++ b/src/marked.js\n@@ -1,6 +1,7 @@\n // Import necessary modules and dependencies\n const Lexer = require('./Lexer');\n const Parser = require('./Parser');\n+const Renderer = require('./Renderer');\n const Tokenizer = require('./Tokenizer');\n const InlineLexer = require('./InlineLexer');\n const Slugger = require('./Slugger');\n@@ -100,7 +101,7 @@\n   // Initialize the renderer\n   const renderer = options.renderer || new Renderer(options);\n \n-  // Initialize the tokenizer\n+  // Initialize the tokenizer with the correct options\n   const tokenizer = options.tokenizer || new Tokenizer(options);\n \n   // Initialize the inline lexer\n@@ -200,6 +201,10 @@\n \n // Define the Renderer class\n class Renderer {\n+  constructor(options = {}) {\n+    this.options = options;\n+  }\n+\n   // Define the strikethrough method\n   strikethrough(text) {\n     return `<del>${text}</del>`;\n@@ -300,6 +305,7 @@\n \n // Define the Tokenizer class\n class Tokenizer {\n+  constructor(options = {}) {\n+    this.options = options;\n+  }\n \n   // Define the strikethrough method\n   strikethrough(src) {\n@@ -400,6 +406,7 @@\n \n // Export the marked function\n module.exports = marked;\n+",
    "model_name_or_path": "text_bm25",
    "metrics": {
      "issue_embedding_time_ms": 0.0,
      "retrieval_time_ms_bm25": 28.46,
      "retrieval_time_ms": 28.46,
      "total_retrieval_time_ms": 28.46,
      "generation_time_ms": 4442.51,
      "total_io_time_ms": 4470.97,
      "input_total_token_limit": null,
      "issue_text_tokens": 468,
      "vlm_tokens": 0,
      "retrieved_tokens": 5771,
      "prompt_template_tokens": 511,
      "total_input_prompt_tokens": 6750,
      "output_generated_tokens": 386,
      "total_io_tokens": 7136,
      "input_prompt_text": "[{\"type\": \"text\", \"text\": \"You will be provided with a partial code base and an issue statement explaining a problem to resolve.\\n<issue>\\nstrickout error\\n**Marked version:**\\r\\n1.2.3\\r\\n\\r\\n## Expectation\\r\\n\\r\\nstrickout render error\\r\\n\\r\\n## Result\\r\\n\\r\\n[demo](https://marked.js.org/demo/?text=~~12345~~%0A%0A~~67890~%0A%0A~13579~%0A&options=%7B%0A%20%22baseUrl%22%3A%20null%2C%0A%20%22breaks%22%3A%20false%2C%0A%20%22gfm%22%3A%20true%2C%0A%20%22headerIds%22%3A%20true%2C%0A%20%22headerPrefix%22%3A%20%22%22%2C%0A%20%22highlight%22%3A%20null%2C%0A%20%22langPrefix%22%3A%20%22language-%22%2C%0A%20%22mangle%22%3A%20true%2C%0A%20%22pedantic%22%3A%20false%2C%0A%20%22sanitize%22%3A%20false%2C%0A%20%22sanitizer%22%3A%20null%2C%0A%20%22silent%22%3A%20false%2C%0A%20%22smartLists%22%3A%20false%2C%0A%20%22smartypants%22%3A%20false%2C%0A%20%22tokenizer%22%3A%20null%2C%0A%20%22walkTokens%22%3A%20null%2C%0A%20%22xhtml%22%3A%20false%0A%7D&version=master)\\r\\n\\r\\n![image](https://user-images.githubusercontent.com/17735161/98908083-d80bad80-24fa-11eb-9e78-1d435422936d.png)\\r\\n\\r\\n\\r\\n\\r\\n\\n\\n</issue>\\n\\n<code>\\n[start of AUTHORS.md]\\n# Authors\\n\\nMarked takes an encompassing approach to its community. As such, you can think of these as [concentric circles](https://medium.com/the-node-js-collection/healthy-open-source-967fa8be7951), where each group encompasses the following groups.\\n\\n<table>\\n  <tbody>\\n  \\t<tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\" style=\\\"width:32%\\\">\\n        <a href=\\\"https://github.com/chjj\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/chjj.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/chjj\\\">Christopher Jeffrey</a>\\n        <div>Original Author</div>\\n        <small>Started the fire</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\" style=\\\"width:32%\\\">\\n        <a href=\\\"https://github.com/joshbruce\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/joshbruce.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://joshbruce.com\\\">Josh Bruce</a>\\n        <div>Publisher</div>\\n        <small>Release Wrangler; Humaning Helper; Heckler of Hypertext</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\" style=\\\"width:32%\\\">\\n        <a href=\\\"https://github.com/styfle\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/styfle.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://www.ceriously.com\\\">Steven</a>\\n        <div>Publisher</div>\\n        <small>Release Wrangler; Dr. Docs; Open source, of course; GitHub Guru; Humaning Helper</small>\\n      </td>\\n    </tr>\\n  \\t<tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/davisjam\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/davisjam.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/davisjam\\\">Jamie Davis</a>\\n        <div>Committer</div>\\n        <small>Seeker of Security</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/UziTech\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/UziTech.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://tony.brix.ninja\\\">Tony Brix</a>\\n        <div>Publisher</div>\\n        <small>Release Wrangler; Titan of the test harness; Dr. DevOps</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        &nbsp;\\n      </td>\\n    </tr>\\n  </tbody>\\n</table>\\n\\n<table>\\n  <tbody>\\n    <tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/intcreator\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/intcreator.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/intcreator\\\">Brandon der Bl\\u00e4tter</a>\\n        <div>Contributor</div>\\n        <small>Curious Contributor</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/carlosvalle\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/carlosvalle.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/carlosvalle\\\">Carlos Valle</a>\\n        <div>Contributor</div>\\n        <small>Maker of the Marked mark from 2018 to present</small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/Feder1co5oave\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/Feder1co5oave.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/Feder1co5oave\\\">Federico Soave</a>\\n        <div>Contributor</div>\\n        <small>Regent of the Regex; Master of Marked</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/karenyavine\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/karenyavine.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/karenyavine\\\">Karen Yavine</a>\\n        <div>Contributor</div>\\n        <small>Snyk's Security Saint</small>\\n      </td>\\n     </tr>\\n     <tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/KostyaTretyak\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/KostyaTretyak.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/KostyaTretyak\\\">\\u041a\\u043e\\u0441\\u0442\\u044f \\u0422\\u0440\\u0435\\u0442\\u044f\\u043a</a>\\n        <div>Contributor</div>\\n        <small></small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/tomtheisen\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/tomtheisen.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/tomtheisen\\\">Tom Theisen</a>\\n        <div>Contributor</div>\\n        <small>Defibrillator</small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/mccraveiro\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/mccraveiro.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/mccraveiro\\\">Mateus Craveiro</a>\\n        <div>Contributor</div>\\n        <small>Defibrillator</small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n      </td>\\n     </tr>\\n  </tbody>\\n</table>\\n\\n## Publishers\\n\\nPublishers are admins who also have the responsibility, privilege, and burden of publishing the new releases to NPM and performing outreach and external stakeholder communications. Further, when things go pear-shaped, they're the ones taking most of the heat. Finally, when things go well, they're the primary ones praising the contributors who made it possible.\\n\\n(In other words, while Admins are focused primarily on the internal workings of the project, Publishers are focused on internal *and* external concerns.)\\n\\n**Should not exceed 2:** Having more people with the authority to publish a release can quickly turn into a consensus seeking nightmare (design by committee). Having only one is preferred (Directly Responsible Individual); however, given the nature of the project and its history, having an immediate fallback, and a potential deep fallback (Original author) is probably a good idea.\\n\\n[Details on badges](#badges)\\n\\n## Admins\\n\\nAdmins are committers who also have the responsibility, privilege, and burden of selecting committers and making sure the project itself runs smoothly, which includes community maintenance, governance, dispute resolution, and so on. (Letting the contributors easily enter into, and work within, the project to begin contributing, with as little friction as possible.)\\n\\n**Should not exceed 3:** When there are too many people with the ability to resolve disputes, the dispute itself can quickly turn into a dispute amongst the admins themselves; therefore, we want this group to be small enough to commit to action and large enough to not put too much burden on one person. (Should ensure faster resolution and responsiveness.)\\n\\nTo be listed: Admins are usually selected from the pool of committers (or they volunteer, using the same process) who demonstrate good understanding of the marked culture, operations, and do their best to help new contributors get up to speed on how to contribute effectively to the project.\\n\\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\\n\\n[Details on badges](#badges)\\n\\n## Committers\\n\\nCommitters are contributors who also have the responsibility, privilege, some might even say burden of being able to review and merge contributions (just usually not their own).\\n\\nA note on \\\"decision making authority\\\". This is related to submitting PRs and the [advice process](http://www.reinventingorganizationswiki.com/Decision_Making). The person marked as having decision making authority over a certain area should be sought for advice in that area before committing to a course of action.\\n\\n**Should not exceed 5:** For larger PRs affecting more of the codebase and, most likely, review by more people, we try to keep this pool small and responsive and let those with decision making authority have final say without negative repercussions from the other committers.\\n\\nTo be listed: Committers are usually selected (or they volunteer, using the same process) from contributors who enter the discussions regarding the future direction of Marked (maybe even doing informal reviews of contributions despite not being able to merge them yourself).\\n\\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\\n\\nA note on volunteering:\\n\\n1. Please do not volunteer unless you believe you can demonstrate to your peers you can do the work required.\\n2. Please do not overcommit yourself; we count on those committed to the project to be responsive. Really consider, with all you have going on, whether you able to really commit to it.\\n3. Don't let the previous frighten you away, it can always be changed later by you or your peers.\\n\\n[Details on badges](#badges)\\n\\n## Contributors\\n\\nContributors are users who submit a [PR](https://github.com/markedjs/marked/pulls), [Issue](https://github.com/markedjs/marked/issues), or collaborate in making Marked a better product and experience for all the users.\\n\\nTo be listed: make a contribution and, if it has significant impact, the committers may be able to add you here.\\n\\nTo be removed: please let us know or submit a PR.\\n\\n[Details on badges](#badges)\\n\\n## Users\\n\\nUsers are anyone using Marked in some fashion, without them, there's no reason for us to exist.\\n\\n|Individual or Organization |Website                 |Project                              |Submitted by                                        |\\n|:--------------------------|:-----------------------|:------------------------------------|:---------------------------------------------------|\\n|MarkedJS                   |https://marked.js.org   |https://github.com/markedjs/marked   |The marked committers                               |\\n\\nTo be listed: All fields are optional. Contact any of the committers or, more timely, submit a pull request with the following (using the first row as an example):\\n\\n- **Individual or Organization:** The name you would like associated with the record.\\n- **Website:** A URL to a standalone website for the project.\\n- **Project:** A URL for the repository of the project using marked.\\n- **Submitted by:** The name and optional honorifics for the person adding the listing.\\n\\nTo be removed: Same as above. Only instead of requesting addition request deletion or delete the row yourself.\\n\\n<h2 id=\\\"badges\\\">Badges</h2>\\n\\nBadges? You don't *need* no stinkin' badges.\\n\\nMovie references aside. (It was either that or, \\\"Let's play a game\\\", but that would have been creepy&hellip;that's why it will most likely come later.)\\n\\nBadges? If you *want* 'em, we got 'em, and here's how you get 'em (and&hellip;dramatic pause&hellip;why not two dramatic pauses for emphasis?&hellip; how they can be taken away).\\n\\n- [ ] Add the appropriate badge to the desired contributor in the desired column of this page, even if they're not listed here yet.\\n- [ ] Submit a PR (we're big on PRs around here, if you haven't noticed, help us help you).\\n- [ ] Follow the instructions for submitting a badge PR. (There are more details to find within. Come on. Everybody likes surprises, right? No? Actually, we just try to put documentation where it belongs, closer to the code and part of the sequence of events.)\\n\\n### Badges at play:\\n\\n<dl>\\n\\t<dt>Curious Contributor</dt>\\n\\t<dd>A contributor with less than one year on this page who is actively engaged in submitting PRs, Issues, making recommendations, sharing thoughts&hellip;without being too annoying about it (let's be clear, submitting 100 Issues recommending the Marked Committers send everyone candy is trying for the badge, not honestly earning it).</dd>\\n\\t<dt>Dr. DevOps</dt>\\n\\t<dd>\\n\\t\\t<p>Someone who understands and contributes to improving the developer experience and flow of Marked into the world.</p>\\n\\t\\t<blockquote>\\n\\t\\t\\t\\\"The main characteristic of the DevOps movement is to strongly advocate automation and monitoring at all steps of software construction, from integration, testing, releasing to deployment and infrastructure management. DevOps aims at shorter development cycles, increased deployment frequency, more dependable releases, in close alignment with business objectives.\\\" ~ <a href=\\\"https://www.wikipedia.org/wiki/DevOps\\\">Wikipedia</a>\\n\\t\\t</blockquote>\\n\\t</dd>\\n  <dt>Dr. Docs</dt>\\n  <dd>Someone who has contributed a great deal to the creation and maintenance of the non-code areas of marked.</dd>\\n\\t<dt>Eye for the CLI</dt>\\n\\t<dd>At this point? Pretty much anyone who can update that `man` file to the current Marked version without regression in the CLI tool itself.</dd>\\n\\t<dt>GitHub Guru</dt>\\n\\t<dd>Someone who always seems to be able to tell you easier ways to do things with GitHub.</dd>\\n\\t<dt>Humaning Helper</dt>\\n\\t<dd>Someone who goes out of their way to help contributors feel welcomed and valued. Further, someone who takes the extra steps(s) necessary to help new contributors get up to speed. Finally, they maintain composure even in times of disagreement and dispute resolution.</dd>\\n\\t<dt>Heckler of Hypertext</dt>\\n\\t<dd>Someone who demonstrates an esoteric level of knowledge when it comes to HTML. In other words, someone who says things like, \\\"Did you know most Markdown flavors don't have a way to render a description list (`dl`)? All the more reason Markdown `!==` HTML.\\\"</dd>\\n\\t<dt>Markdown Maestro</dt>\\n\\t<dd>You know that person who knows about way too many different flavors of Markdown? The one who maybe seems a little too obsessed with the possibilities of Markdown beyond HTML? Come on. You know who they are. Or, at least you could, if you give them this badge.</dd>\\n\\t<dt>Master of Marked</dt>\\n\\t<dd>Someone who demonstrates they know the ins and outs of the codebase for Marked.</dd>\\n\\t<dt>Open source, of course</dt>\\n\\t<dd>Someone who advocates for and has a proven understanding of how to operate within open source communities.</dd>\\n\\t<dt>Regent of the Regex</dt>\\n\\t<dd><p>Can you demonstrate you understand the following without Google and Stackoverflow?</p>\\n\\t\\t<p><code>/^( *)(bull) [\\\\s\\\\S]+?(?:hr|def|\\\\n{2,}(?! )(?!\\\\1bull )\\\\n*|\\\\s*$)/</code></p>\\n\\t\\t<p>Because this author can't yet. That's who gets these.</p>\\n\\t</dd>\\n\\t<dt>Seeker of Security</dt>\\n\\t<dd>Someone who has demonstrated a high degree of expertise or authority when it comes to software security.</dd>\\n\\t<dt>Titan of the Test Harness</dt>\\n\\t<dd>Someone who demonstrates high-levels of understanding regarding Marked's test harness.</dd>\\n\\t<dt>Totally Tron</dt>\\n\\t<dd>Someone who demonstrates they are willing and able to \\\"fight for the users\\\", both developers dependent on marked to do their jobs as well as end-users interacting with the output (particularly in the realm of those with the disabilities).</dd>\\n</dl>\\n\\n### Special badges that come with the job:\\n\\n<dl>\\n\\t<dt>Defibrillator</dt>\\n\\t<dd>A contributor who stepped up to help bring Marked back to life by contributing solutions to help Marked pass when compared against the CommonMark and GitHub Flavored Markdown specifications.</dd>\\n\\t<dt>Maker of the Marked mark</dt>\\n\\t<dd>This badge is given to the person or organization credited with creating the logo (or logotype) used in Marked communications for a given period of time. **Maker of the Marked mark from 2017 to present**, for example.</dd>\\n\\t<dt>Release Wrangler</dt>\\n\\t<dd>This is a badge given to all Publishers.</dd>\\n\\t<dt>Snyk's Security Saint</dt>\\n\\t<dd>This is a badge given to whomever primarily reaches out from Snyk to let us know about security issues.</dd>\\n</dl>\\n\\n[end of AUTHORS.md]\\n[start of ISSUE_TEMPLATE.md]\\n**Marked version:**\\n\\n**Markdown flavor:** Markdown.pl|CommonMark|GitHub Flavored Markdown|n/a\\n\\n<!-- The NPM version or commit hash having the issue --> \\n\\n<!-- \\n\\n\\tIf submitting something other than a defect with Marked itself, please use the following:\\n\\n**Proposal type:** new feature | project operations | other\\n\\n## What pain point are you perceiving?\\n\\n## What solution are you suggesting?\\n\\n-->\\n\\n## Expectation\\n\\n**CommonMark Demo:** [demo](https://spec.commonmark.org/dingus/)\\n<!-- You can replace the link above with a permalink from: https://spec.commonmark.org/dingus/ -->\\n\\n<!-- Describe the output you are expecting from marked -->\\n\\n## Result\\n\\n**Marked Demo:** [demo](https://marked.js.org/demo/)\\n<!-- You can replace the link above with a permalink from: https://marked.js.org/demo/ -->\\n\\n<!-- Describe the output you received from marked -->\\n\\n## What was attempted\\n\\n<!-- Describe what code combination got you there -->\\n\\n<!-- \\n\\tIf error is thrown add the following:\\n\\n## Call stack & console log\\n\\n-->\\n\\n[end of ISSUE_TEMPLATE.md]\\n[start of Bug_report.md]\\n---\\nname: Bug report\\nabout: Marked says it does this thing but does not\\n\\n---\\n\\n**Describe the bug**\\nA clear and concise description of what the bug is.\\n\\n**To Reproduce**\\nSteps to reproduce the behavior:\\n\\n<!-- If possible, use the Marked Demo permalink and compare to the CommonMark Dingus permalink to demonstrate the bug -->\\n<!--\\n1. [Marked Demo](https://marked.js.org/demo/)\\n2. [CommonMark Demo](https://spec.commonmark.org/dingus/)\\n-->\\n\\n<!-- If you need a specific version and options to reproduce the bug, use the following template -->\\n<!--\\n1. Install marked `npm install --save marked@0.3.19` with the version you are using\\n2. Run marked with input string and options such as `marked('hello *world*', {gfm: true})`\\n3. Actual output (or error) is...\\n-->\\n\\n**Expected behavior**\\nA clear and concise description of what you expected to happen.\\n\\n[end of Bug_report.md]\\n[start of update-specs.js]\\nconst fetch = require('node-fetch');\\nconst cheerio = require('cheerio');\\nconst marked = require('../');\\nconst htmlDiffer = require('./helpers/html-differ.js');\\nconst fs = require('fs');\\nconst path = require('path');\\n\\nfunction removeFiles(dir) {\\n  fs.readdirSync(dir).forEach(file => {\\n    fs.unlinkSync(path.join(dir, file));\\n  });\\n}\\n\\nasync function updateCommonmark(dir, options) {\\n  try {\\n    const res = await fetch('https://raw.githubusercontent.com/commonmark/commonmark.js/master/package.json');\\n    const pkg = await res.json();\\n    const version = pkg.version.replace(/^(\\\\d+\\\\.\\\\d+).*$/, '$1');\\n    const res2 = await fetch(`https://spec.commonmark.org/${version}/spec.json`);\\n    const specs = await res2.json();\\n    specs.forEach(spec => {\\n      const html = marked(spec.markdown, options);\\n      if (!htmlDiffer.isEqual(html, spec.html)) {\\n        spec.shouldFail = true;\\n      }\\n    });\\n    fs.writeFileSync(path.resolve(dir, `./commonmark.${version}.json`), JSON.stringify(specs, null, 2) + '\\\\n');\\n    console.log(`Saved CommonMark v${version} specs`);\\n  } catch (ex) {\\n    console.log(ex);\\n  }\\n}\\n\\nasync function updateGfm(dir) {\\n  try {\\n    const res = await fetch('https://github.github.com/gfm/');\\n    const html = await res.text();\\n    const $ = cheerio.load(html);\\n    const version = $('.version').text().match(/\\\\d+\\\\.\\\\d+/)[0];\\n    if (!version) {\\n      throw new Error('No version found');\\n    }\\n    const specs = [];\\n    $('.extension').each((i, ext) => {\\n      const section = $('.definition', ext).text().trim().replace(/^\\\\d+\\\\.\\\\d+(.*?) \\\\(extension\\\\)[\\\\s\\\\S]*$/, '$1');\\n      $('.example', ext).each((j, exa) => {\\n        const example = +$(exa).attr('id').replace(/\\\\D/g, '');\\n        const markdown = $('.language-markdown', exa).text().trim();\\n        const html = $('.language-html', exa).text().trim();\\n        specs.push({\\n          section: `[extension] ${section}`,\\n          html,\\n          markdown,\\n          example\\n        });\\n      });\\n    });\\n\\n    specs.forEach(spec => {\\n      const html = marked(spec.markdown, { gfm: true, pedantic: false });\\n      if (!htmlDiffer.isEqual(html, spec.html)) {\\n        spec.shouldFail = true;\\n      }\\n    });\\n    fs.writeFileSync(path.resolve(dir, `./gfm.${version}.json`), JSON.stringify(specs, null, 2) + '\\\\n');\\n    console.log(`Saved GFM v${version} specs.`);\\n  } catch (ex) {\\n    console.log(ex);\\n  }\\n}\\n\\nconst commonmarkDir = path.resolve(__dirname, './specs/commonmark');\\nconst gfmDir = path.resolve(__dirname, './specs/gfm');\\nremoveFiles(commonmarkDir);\\nremoveFiles(gfmDir);\\nupdateCommonmark(commonmarkDir, { gfm: false, pedantic: false, headerIds: false });\\nupdateCommonmark(gfmDir, { gfm: true, pedantic: false, headerIds: false });\\nupdateGfm(gfmDir);\\n\\n[end of update-specs.js]\\n[start of INDEX.md]\\nMarked is\\n\\n1. built for speed.<sup>*</sup>\\n2. a low-level markdown compiler for parsing markdown without caching or blocking for long periods of time.<sup>**</sup>\\n3. light-weight while implementing all markdown features from the supported flavors & specifications.<sup>***</sup>\\n4. available as a command line interface (CLI) and running in client- or server-side JavaScript projects.\\n\\n<p><small><sup>*</sup> Still working on metrics for comparative analysis and definition.</small><br>\\n<small><sup>**</sup> As few dependencies as possible.</small><br>\\n<small><sup>***</sup> Strict compliance could result in slower processing when running comparative benchmarking.</small></p>\\n\\n\\n<h2 id=\\\"demo\\\">Demo</h2>\\n\\nCheckout the [demo page](./demo/) to see marked in action \\u26f9\\ufe0f\\n\\nThese documentation pages are also rendered using marked \\ud83d\\udcaf\\n\\n\\n<h2 id=\\\"installation\\\">Installation</h2>\\n\\n**CLI:** `npm install -g marked`\\n\\n**In-browser:** `npm install marked`\\n\\n<h2 id=\\\"usage\\\">Usage</h2>\\n\\n### Warning: \\ud83d\\udea8 Marked does not [sanitize](/using_advanced#options) the output HTML. Please use a sanitize library, like [DOMPurify](https://github.com/cure53/DOMPurify) (recommended), [sanitize-html](https://github.com/apostrophecms/sanitize-html) or [insane](https://github.com/bevacqua/insane) on the output HTML! \\ud83d\\udea8\\n\\n**CLI**\\n\\n``` bash\\n$ marked -o hello.html\\nhello world\\n^D\\n$ cat hello.html\\n<p>hello world</p>\\n```\\n\\n``` bash\\n$ marked -s \\\"*hello world*\\\"\\n<p><em>hello world</em></p>\\n```\\n\\n**Browser**\\n\\n```html\\n<!doctype html>\\n<html>\\n<head>\\n  <meta charset=\\\"utf-8\\\"/>\\n  <title>Marked in the browser</title>\\n</head>\\n<body>\\n  <div id=\\\"content\\\"></div>\\n  <script src=\\\"https://cdn.jsdelivr.net/npm/marked/marked.min.js\\\"></script>\\n  <script>\\n    document.getElementById('content').innerHTML =\\n      marked('# Marked in browser\\\\n\\\\nRendered by **marked**.');\\n  </script>\\n</body>\\n</html>\\n```\\n\\n**Node.js**\\n\\n```js\\nconst marked = require(\\\"marked\\\");\\nconst html = marked('# Marked in Node.js\\\\n\\\\nRendered by **marked**.');\\n```\\n\\n\\nMarked offers [advanced configurations](/using_advanced) and [extensibility](/using_pro) as well.\\n\\n<h2 id=\\\"specifications\\\">Supported Markdown specifications</h2>\\n\\nWe actively support the features of the following [Markdown flavors](https://github.com/commonmark/CommonMark/wiki/Markdown-Flavors).\\n\\n| Flavor                                                     | Version | Status                                                             |\\n| :--------------------------------------------------------- | :------ | :----------------------------------------------------------------- |\\n| The original markdown.pl                                   | --      |                                                                    |\\n| [CommonMark](http://spec.commonmark.org/0.29/)             | 0.29    | [Work in progress](https://github.com/markedjs/marked/issues/1202) |\\n| [GitHub Flavored Markdown](https://github.github.com/gfm/) | 0.29    | [Work in progress](https://github.com/markedjs/marked/issues/1202) |\\n\\nBy supporting the above Markdown flavors, it's possible that Marked can help you use other flavors as well; however, these are not actively supported by the community.\\n\\n<h2 id=\\\"security\\\">Security</h2>\\n\\nThe only completely secure system is the one that doesn't exist in the first place. Having said that, we take the security of Marked very seriously.\\n\\nTherefore, please disclose potential security issues by email to the project [committers](/authors) as well as the [listed owners within NPM](https://docs.npmjs.com/cli/owner). We will provide an initial assessment of security reports within 48 hours and should apply patches within 2 weeks (also, feel free to contribute a fix for the issue).\\n\\n[end of INDEX.md]\\n\\n</code>\\n\\nHere is an example of a patch file. It consists of changes to the code base. It specifies the file names, the line numbers of each change, and the removed and added lines. A single patch file can contain changes to multiple files.\\n\\n<patch>\\ndiff --git a/file.py b/file.py\\n--- a/file.py\\n+++ b/file.py\\n@@ -1,27 +1,35 @@\\n def euclidean(a, b):\\n-    while b:\\n-        a, b = b, a % b\\n-    return a\\n+    if b == 0:\\n+        return a\\n+    return euclidean(b, a % b)\\n \\n def bresenham(x0, y0, x1, y1):\\n+    points = []\\n+    dx = abs(x1 - x0)\\n+    dy = abs(y1 - y0)\\n+    sx = 1 if x0 < x1 else -1\\n+    sy = 1 if y0 < y1 else -1\\n+    err = dx - dy\\n+    \\n     while True:\\n-        plot(x0, y0)\\n+        points.append((x0, y0))\\n         if x0 == x1 and y0 == y1:\\n             break\\n-        e2 = 2 * err\\n-        if e2 > -dy:\\n-            err -= dy\\n-            x0 += sx\\n-        if e2 < dx:\\n-            err += dx\\n-            y0 += sy\\n+        e2 = 2 * err\\n+        if e2 > -dy:\\n+            err -= dy\\n+            x0 += sx\\n+        if e2 < dx:\\n+            err += dx\\n+            y0 += sy\\n+    return points\\n+</patch>\\n\\nI need you to solve the provided issue by generating a single patch file that I can apply directly to this repository using git apply. Please respond with a single patch file in the format shown above.\\n\\nRespond below: \\n\"}]",
      "retrieved_file_paths": [
        "AUTHORS.md",
        "ISSUE_TEMPLATE.md",
        "Bug_report.md",
        "update-specs.js",
        "INDEX.md"
      ]
    },
    "retrieved_documents": [
      {
        "id": "671b086d-4d21-4012-aae0-b7bae38bffe0",
        "score": 0.01639344262295082,
        "payload": {
          "text": "# Authors\n\nMarked takes an encompassing approach to its community. As such, you can think of these as [concentric circles](https://medium.com/the-node-js-collection/healthy-open-source-967fa8be7951), where each group encompasses the following groups.\n\n<table>\n  <tbody>\n  \t<tr>\n      <td align=\"center\" valign=\"top\" style=\"width:32%\">\n        <a href=\"https://github.com/chjj\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/chjj.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/chjj\">Christopher Jeffrey</a>\n        <div>Original Author</div>\n        <small>Started the fire</small>\n      </td>\n      <td align=\"center\" valign=\"top\" style=\"width:32%\">\n        <a href=\"https://github.com/joshbruce\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/joshbruce.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://joshbruce.com\">Josh Bruce</a>\n        <div>Publisher</div>\n        <small>Release Wrangler; Humaning Helper; Heckler of Hypertext</small>\n      </td>\n      <td align=\"center\" valign=\"top\" style=\"width:32%\">\n        <a href=\"https://github.com/styfle\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/styfle.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://www.ceriously.com\">Steven</a>\n        <div>Publisher</div>\n        <small>Release Wrangler; Dr. Docs; Open source, of course; GitHub Guru; Humaning Helper</small>\n      </td>\n    </tr>\n  \t<tr>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/davisjam\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/davisjam.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/davisjam\">Jamie Davis</a>\n        <div>Committer</div>\n        <small>Seeker of Security</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/UziTech\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/UziTech.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://tony.brix.ninja\">Tony Brix</a>\n        <div>Publisher</div>\n        <small>Release Wrangler; Titan of the test harness; Dr. DevOps</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        &nbsp;\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n<table>\n  <tbody>\n    <tr>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/intcreator\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/intcreator.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/intcreator\">Brandon der Bl\u00e4tter</a>\n        <div>Contributor</div>\n        <small>Curious Contributor</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/carlosvalle\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/carlosvalle.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/carlosvalle\">Carlos Valle</a>\n        <div>Contributor</div>\n        <small>Maker of the Marked mark from 2018 to present</small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n        <a href=\"https://github.com/Feder1co5oave\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/Feder1co5oave.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/Feder1co5oave\">Federico Soave</a>\n        <div>Contributor</div>\n        <small>Regent of the Regex; Master of Marked</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/karenyavine\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/karenyavine.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/karenyavine\">Karen Yavine</a>\n        <div>Contributor</div>\n        <small>Snyk's Security Saint</small>\n      </td>\n     </tr>\n     <tr>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/KostyaTretyak\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/KostyaTretyak.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/KostyaTretyak\">\u041a\u043e\u0441\u0442\u044f \u0422\u0440\u0435\u0442\u044f\u043a</a>\n        <div>Contributor</div>\n        <small></small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n        <a href=\"https://github.com/tomtheisen\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/tomtheisen.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/tomtheisen\">Tom Theisen</a>\n        <div>Contributor</div>\n        <small>Defibrillator</small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n        <a href=\"https://github.com/mccraveiro\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/mccraveiro.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/mccraveiro\">Mateus Craveiro</a>\n        <div>Contributor</div>\n        <small>Defibrillator</small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n      </td>\n     </tr>\n  </tbody>\n</table>\n\n## Publishers\n\nPublishers are admins who also have the responsibility, privilege, and burden of publishing the new releases to NPM and performing outreach and external stakeholder communications. Further, when things go pear-shaped, they're the ones taking most of the heat. Finally, when things go well, they're the primary ones praising the contributors who made it possible.\n\n(In other words, while Admins are focused primarily on the internal workings of the project, Publishers are focused on internal *and* external concerns.)\n\n**Should not exceed 2:** Having more people with the authority to publish a release can quickly turn into a consensus seeking nightmare (design by committee). Having only one is preferred (Directly Responsible Individual); however, given the nature of the project and its history, having an immediate fallback, and a potential deep fallback (Original author) is probably a good idea.\n\n[Details on badges](#badges)\n\n## Admins\n\nAdmins are committers who also have the responsibility, privilege, and burden of selecting committers and making sure the project itself runs smoothly, which includes community maintenance, governance, dispute resolution, and so on. (Letting the contributors easily enter into, and work within, the project to begin contributing, with as little friction as possible.)\n\n**Should not exceed 3:** When there are too many people with the ability to resolve disputes, the dispute itself can quickly turn into a dispute amongst the admins themselves; therefore, we want this group to be small enough to commit to action and large enough to not put too much burden on one person. (Should ensure faster resolution and responsiveness.)\n\nTo be listed: Admins are usually selected from the pool of committers (or they volunteer, using the same process) who demonstrate good understanding of the marked culture, operations, and do their best to help new contributors get up to speed on how to contribute effectively to the project.\n\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\n\n[Details on badges](#badges)\n\n## Committers\n\nCommitters are contributors who also have the responsibility, privilege, some might even say burden of being able to review and merge contributions (just usually not their own).\n\nA note on \"decision making authority\". This is related to submitting PRs and the [advice process](http://www.reinventingorganizationswiki.com/Decision_Making). The person marked as having decision making authority over a certain area should be sought for advice in that area before committing to a course of action.\n\n**Should not exceed 5:** For larger PRs affecting more of the codebase and, most likely, review by more people, we try to keep this pool small and responsive and let those with decision making authority have final say without negative repercussions from the other committers.\n\nTo be listed: Committers are usually selected (or they volunteer, using the same process) from contributors who enter the discussions regarding the future direction of Marked (maybe even doing informal reviews of contributions despite not being able to merge them yourself).\n\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\n\nA note on volunteering:\n\n1. Please do not volunteer unless you believe you can demonstrate to your peers you can do the work required.\n2. Please do not overcommit yourself; we count on those committed to the project to be responsive. Really consider, with all you have going on, whether you able to really commit to it.\n3. Don't let the previous frighten you away, it can always be changed later by you or your peers.\n\n[Details on badges](#badges)\n\n## Contributors\n\nContributors are users who submit a [PR](https://github.com/markedjs/marked/pulls), [Issue](https://github.com/markedjs/marked/issues), or collaborate in making Marked a better product and experience for all the users.\n\nTo be listed: make a contribution and, if it has significant impact, the committers may be able to add you here.\n\nTo be removed: please let us know or submit a PR.\n\n[Details on badges](#badges)\n\n## Users\n\nUsers are anyone using Marked in some fashion, without them, there's no reason for us to exist.\n\n|Individual or Organization |Website                 |Project                              |Submitted by                                        |\n|:--------------------------|:-----------------------|:------------------------------------|:---------------------------------------------------|\n|MarkedJS                   |https://marked.js.org   |https://github.com/markedjs/marked   |The marked committers                               |\n\nTo be listed: All fields are optional. Contact any of the committers or, more timely, submit a pull request with the following (using the first row as an example):\n\n- **Individual or Organization:** The name you would like associated with the record.\n- **Website:** A URL to a standalone website for the project.\n- **Project:** A URL for the repository of the project using marked.\n- **Submitted by:** The name and optional honorifics for the person adding the listing.\n\nTo be removed: Same as above. Only instead of requesting addition request deletion or delete the row yourself.\n\n<h2 id=\"badges\">Badges</h2>\n\nBadges? You don't *need* no stinkin' badges.\n\nMovie references aside. (It was either that or, \"Let's play a game\", but that would have been creepy&hellip;that's why it will most likely come later.)\n\nBadges? If you *want* 'em, we got 'em, and here's how you get 'em (and&hellip;dramatic pause&hellip;why not two dramatic pauses for emphasis?&hellip; how they can be taken away).\n\n- [ ] Add the appropriate badge to the desired contributor in the desired column of this page, even if they're not listed here yet.\n- [ ] Submit a PR (we're big on PRs around here, if you haven't noticed, help us help you).\n- [ ] Follow the instructions for submitting a badge PR. (There are more details to find within. Come on. Everybody likes surprises, right? No? Actually, we just try to put documentation where it belongs, closer to the code and part of the sequence of events.)\n\n### Badges at play:\n\n<dl>\n\t<dt>Curious Contributor</dt>\n\t<dd>A contributor with less than one year on this page who is actively engaged in submitting PRs, Issues, making recommendations, sharing thoughts&hellip;without being too annoying about it (let's be clear, submitting 100 Issues recommending the Marked Committers send everyone candy is trying for the badge, not honestly earning it).</dd>\n\t<dt>Dr. DevOps</dt>\n\t<dd>\n\t\t<p>Someone who understands and contributes to improving the developer experience and flow of Marked into the world.</p>\n\t\t<blockquote>\n\t\t\t\"The main characteristic of the DevOps movement is to strongly advocate automation and monitoring at all steps of software construction, from integration, testing, releasing to deployment and infrastructure management. DevOps aims at shorter development cycles, increased deployment frequency, more dependable releases, in close alignment with business objectives.\" ~ <a href=\"https://www.wikipedia.org/wiki/DevOps\">Wikipedia</a>\n\t\t</blockquote>\n\t</dd>\n  <dt>Dr. Docs</dt>\n  <dd>Someone who has contributed a great deal to the creation and maintenance of the non-code areas of marked.</dd>\n\t<dt>Eye for the CLI</dt>\n\t<dd>At this point? Pretty much anyone who can update that `man` file to the current Marked version without regression in the CLI tool itself.</dd>\n\t<dt>GitHub Guru</dt>\n\t<dd>Someone who always seems to be able to tell you easier ways to do things with GitHub.</dd>\n\t<dt>Humaning Helper</dt>\n\t<dd>Someone who goes out of their way to help contributors feel welcomed and valued. Further, someone who takes the extra steps(s) necessary to help new contributors get up to speed. Finally, they maintain composure even in times of disagreement and dispute resolution.</dd>\n\t<dt>Heckler of Hypertext</dt>\n\t<dd>Someone who demonstrates an esoteric level of knowledge when it comes to HTML. In other words, someone who says things like, \"Did you know most Markdown flavors don't have a way to render a description list (`dl`)? All the more reason Markdown `!==` HTML.\"</dd>\n\t<dt>Markdown Maestro</dt>\n\t<dd>You know that person who knows about way too many different flavors of Markdown? The one who maybe seems a little too obsessed with the possibilities of Markdown beyond HTML? Come on. You know who they are. Or, at least you could, if you give them this badge.</dd>\n\t<dt>Master of Marked</dt>\n\t<dd>Someone who demonstrates they know the ins and outs of the codebase for Marked.</dd>\n\t<dt>Open source, of course</dt>\n\t<dd>Someone who advocates for and has a proven understanding of how to operate within open source communities.</dd>\n\t<dt>Regent of the Regex</dt>\n\t<dd><p>Can you demonstrate you understand the following without Google and Stackoverflow?</p>\n\t\t<p><code>/^( *)(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/</code></p>\n\t\t<p>Because this author can't yet. That's who gets these.</p>\n\t</dd>\n\t<dt>Seeker of Security</dt>\n\t<dd>Someone who has demonstrated a high degree of expertise or authority when it comes to software security.</dd>\n\t<dt>Titan of the Test Harness</dt>\n\t<dd>Someone who demonstrates high-levels of understanding regarding Marked's test harness.</dd>\n\t<dt>Totally Tron</dt>\n\t<dd>Someone who demonstrates they are willing and able to \"fight for the users\", both developers dependent on marked to do their jobs as well as end-users interacting with the output (particularly in the realm of those with the disabilities).</dd>\n</dl>\n\n### Special badges that come with the job:\n\n<dl>\n\t<dt>Defibrillator</dt>\n\t<dd>A contributor who stepped up to help bring Marked back to life by contributing solutions to help Marked pass when compared against the CommonMark and GitHub Flavored Markdown specifications.</dd>\n\t<dt>Maker of the Marked mark</dt>\n\t<dd>This badge is given to the person or organization credited with creating the logo (or logotype) used in Marked communications for a given period of time. **Maker of the Marked mark from 2017 to present**, for example.</dd>\n\t<dt>Release Wrangler</dt>\n\t<dd>This is a badge given to all Publishers.</dd>\n\t<dt>Snyk's Security Saint</dt>\n\t<dd>This is a badge given to whomever primarily reaches out from Snyk to let us know about security issues.</dd>\n</dl>\n",
          "filepath": "data/repos/markedjs/marked-1.2/docs/AUTHORS.md",
          "repo": "markedjs/marked",
          "version": "1.2",
          "chunk_index": 0,
          "chunk_id": "671b086d-4d21-4012-aae0-b7bae38bffe0"
        }
      },
      {
        "id": "6719e784-a881-4239-824a-0f9c3171100c",
        "score": 0.016129032258064516,
        "payload": {
          "text": "**Marked version:**\n\n**Markdown flavor:** Markdown.pl|CommonMark|GitHub Flavored Markdown|n/a\n\n<!-- The NPM version or commit hash having the issue --> \n\n<!-- \n\n\tIf submitting something other than a defect with Marked itself, please use the following:\n\n**Proposal type:** new feature | project operations | other\n\n## What pain point are you perceiving?\n\n## What solution are you suggesting?\n\n-->\n\n## Expectation\n\n**CommonMark Demo:** [demo](https://spec.commonmark.org/dingus/)\n<!-- You can replace the link above with a permalink from: https://spec.commonmark.org/dingus/ -->\n\n<!-- Describe the output you are expecting from marked -->\n\n## Result\n\n**Marked Demo:** [demo](https://marked.js.org/demo/)\n<!-- You can replace the link above with a permalink from: https://marked.js.org/demo/ -->\n\n<!-- Describe the output you received from marked -->\n\n## What was attempted\n\n<!-- Describe what code combination got you there -->\n\n<!-- \n\tIf error is thrown add the following:\n\n## Call stack & console log\n\n-->\n",
          "filepath": "data/repos/markedjs/marked-1.2/.github/ISSUE_TEMPLATE.md",
          "repo": "markedjs/marked",
          "version": "1.2",
          "chunk_index": 0,
          "chunk_id": "6719e784-a881-4239-824a-0f9c3171100c"
        }
      },
      {
        "id": "2d9f70e1-0017-4cb9-842c-819aaef86744",
        "score": 0.015873015873015872,
        "payload": {
          "text": "---\nname: Bug report\nabout: Marked says it does this thing but does not\n\n---\n\n**Describe the bug**\nA clear and concise description of what the bug is.\n\n**To Reproduce**\nSteps to reproduce the behavior:\n\n<!-- If possible, use the Marked Demo permalink and compare to the CommonMark Dingus permalink to demonstrate the bug -->\n<!--\n1. [Marked Demo](https://marked.js.org/demo/)\n2. [CommonMark Demo](https://spec.commonmark.org/dingus/)\n-->\n\n<!-- If you need a specific version and options to reproduce the bug, use the following template -->\n<!--\n1. Install marked `npm install --save marked@0.3.19` with the version you are using\n2. Run marked with input string and options such as `marked('hello *world*', {gfm: true})`\n3. Actual output (or error) is...\n-->\n\n**Expected behavior**\nA clear and concise description of what you expected to happen.\n",
          "filepath": "data/repos/markedjs/marked-1.2/.github/ISSUE_TEMPLATE/Bug_report.md",
          "repo": "markedjs/marked",
          "version": "1.2",
          "chunk_index": 0,
          "chunk_id": "2d9f70e1-0017-4cb9-842c-819aaef86744"
        }
      },
      {
        "id": "e4c8734e-d672-43f8-937d-62c765782877",
        "score": 0.015625,
        "payload": {
          "text": "const fetch = require('node-fetch');\nconst cheerio = require('cheerio');\nconst marked = require('../');\nconst htmlDiffer = require('./helpers/html-differ.js');\nconst fs = require('fs');\nconst path = require('path');\n\nfunction removeFiles(dir) {\n  fs.readdirSync(dir).forEach(file => {\n    fs.unlinkSync(path.join(dir, file));\n  });\n}\n\nasync function updateCommonmark(dir, options) {\n  try {\n    const res = await fetch('https://raw.githubusercontent.com/commonmark/commonmark.js/master/package.json');\n    const pkg = await res.json();\n    const version = pkg.version.replace(/^(\\d+\\.\\d+).*$/, '$1');\n    const res2 = await fetch(`https://spec.commonmark.org/${version}/spec.json`);\n    const specs = await res2.json();\n    specs.forEach(spec => {\n      const html = marked(spec.markdown, options);\n      if (!htmlDiffer.isEqual(html, spec.html)) {\n        spec.shouldFail = true;\n      }\n    });\n    fs.writeFileSync(path.resolve(dir, `./commonmark.${version}.json`), JSON.stringify(specs, null, 2) + '\\n');\n    console.log(`Saved CommonMark v${version} specs`);\n  } catch (ex) {\n    console.log(ex);\n  }\n}\n\nasync function updateGfm(dir) {\n  try {\n    const res = await fetch('https://github.github.com/gfm/');\n    const html = await res.text();\n    const $ = cheerio.load(html);\n    const version = $('.version').text().match(/\\d+\\.\\d+/)[0];\n    if (!version) {\n      throw new Error('No version found');\n    }\n    const specs = [];\n    $('.extension').each((i, ext) => {\n      const section = $('.definition', ext).text().trim().replace(/^\\d+\\.\\d+(.*?) \\(extension\\)[\\s\\S]*$/, '$1');\n      $('.example', ext).each((j, exa) => {\n        const example = +$(exa).attr('id').replace(/\\D/g, '');\n        const markdown = $('.language-markdown', exa).text().trim();\n        const html = $('.language-html', exa).text().trim();\n        specs.push({\n          section: `[extension] ${section}`,\n          html,\n          markdown,\n          example\n        });\n      });\n    });\n\n    specs.forEach(spec => {\n      const html = marked(spec.markdown, { gfm: true, pedantic: false });\n      if (!htmlDiffer.isEqual(html, spec.html)) {\n        spec.shouldFail = true;\n      }\n    });\n    fs.writeFileSync(path.resolve(dir, `./gfm.${version}.json`), JSON.stringify(specs, null, 2) + '\\n');\n    console.log(`Saved GFM v${version} specs.`);\n  } catch (ex) {\n    console.log(ex);\n  }\n}\n\nconst commonmarkDir = path.resolve(__dirname, './specs/commonmark');\nconst gfmDir = path.resolve(__dirname, './specs/gfm');\nremoveFiles(commonmarkDir);\nremoveFiles(gfmDir);\nupdateCommonmark(commonmarkDir, { gfm: false, pedantic: false, headerIds: false });\nupdateCommonmark(gfmDir, { gfm: true, pedantic: false, headerIds: false });\nupdateGfm(gfmDir);\n",
          "filepath": "data/repos/markedjs/marked-1.2/test/update-specs.js",
          "repo": "markedjs/marked",
          "version": "1.2",
          "chunk_index": 0,
          "chunk_id": "e4c8734e-d672-43f8-937d-62c765782877"
        }
      },
      {
        "id": "f6c80df3-496b-4eba-b445-fc29bcbfa272",
        "score": 0.015384615384615385,
        "payload": {
          "text": "Marked is\n\n1. built for speed.<sup>*</sup>\n2. a low-level markdown compiler for parsing markdown without caching or blocking for long periods of time.<sup>**</sup>\n3. light-weight while implementing all markdown features from the supported flavors & specifications.<sup>***</sup>\n4. available as a command line interface (CLI) and running in client- or server-side JavaScript projects.\n\n<p><small><sup>*</sup> Still working on metrics for comparative analysis and definition.</small><br>\n<small><sup>**</sup> As few dependencies as possible.</small><br>\n<small><sup>***</sup> Strict compliance could result in slower processing when running comparative benchmarking.</small></p>\n\n\n<h2 id=\"demo\">Demo</h2>\n\nCheckout the [demo page](./demo/) to see marked in action \u26f9\ufe0f\n\nThese documentation pages are also rendered using marked \ud83d\udcaf\n\n\n<h2 id=\"installation\">Installation</h2>\n\n**CLI:** `npm install -g marked`\n\n**In-browser:** `npm install marked`\n\n<h2 id=\"usage\">Usage</h2>\n\n### Warning: \ud83d\udea8 Marked does not [sanitize](/using_advanced#options) the output HTML. Please use a sanitize library, like [DOMPurify](https://github.com/cure53/DOMPurify) (recommended), [sanitize-html](https://github.com/apostrophecms/sanitize-html) or [insane](https://github.com/bevacqua/insane) on the output HTML! \ud83d\udea8\n\n**CLI**\n\n``` bash\n$ marked -o hello.html\nhello world\n^D\n$ cat hello.html\n<p>hello world</p>\n```\n\n``` bash\n$ marked -s \"*hello world*\"\n<p><em>hello world</em></p>\n```\n\n**Browser**\n\n```html\n<!doctype html>\n<html>\n<head>\n  <meta charset=\"utf-8\"/>\n  <title>Marked in the browser</title>\n</head>\n<body>\n  <div id=\"content\"></div>\n  <script src=\"https://cdn.jsdelivr.net/npm/marked/marked.min.js\"></script>\n  <script>\n    document.getElementById('content').innerHTML =\n      marked('# Marked in browser\\n\\nRendered by **marked**.');\n  </script>\n</body>\n</html>\n```\n\n**Node.js**\n\n```js\nconst marked = require(\"marked\");\nconst html = marked('# Marked in Node.js\\n\\nRendered by **marked**.');\n```\n\n\nMarked offers [advanced configurations](/using_advanced) and [extensibility](/using_pro) as well.\n\n<h2 id=\"specifications\">Supported Markdown specifications</h2>\n\nWe actively support the features of the following [Markdown flavors](https://github.com/commonmark/CommonMark/wiki/Markdown-Flavors).\n\n| Flavor                                                     | Version | Status                                                             |\n| :--------------------------------------------------------- | :------ | :----------------------------------------------------------------- |\n| The original markdown.pl                                   | --      |                                                                    |\n| [CommonMark](http://spec.commonmark.org/0.29/)             | 0.29    | [Work in progress](https://github.com/markedjs/marked/issues/1202) |\n| [GitHub Flavored Markdown](https://github.github.com/gfm/) | 0.29    | [Work in progress](https://github.com/markedjs/marked/issues/1202) |\n\nBy supporting the above Markdown flavors, it's possible that Marked can help you use other flavors as well; however, these are not actively supported by the community.\n\n<h2 id=\"security\">Security</h2>\n\nThe only completely secure system is the one that doesn't exist in the first place. Having said that, we take the security of Marked very seriously.\n\nTherefore, please disclose potential security issues by email to the project [committers](/authors) as well as the [listed owners within NPM](https://docs.npmjs.com/cli/owner). We will provide an initial assessment of security reports within 48 hours and should apply patches within 2 weeks (also, feel free to contribute a fix for the issue).\n",
          "filepath": "data/repos/markedjs/marked-1.2/docs/INDEX.md",
          "repo": "markedjs/marked",
          "version": "1.2",
          "chunk_index": 0,
          "chunk_id": "f6c80df3-496b-4eba-b445-fc29bcbfa272"
        }
      }
    ]
  },
  {
    "instance_id": "markedjs__marked-1825",
    "model_patch": "diff --git a/src/marked.js b/src/marked.js\nindex 1234567..89abcde 100644\n--- a/src/marked.js\n+++ b/src/marked.js\n@@ -100,6 +100,10 @@ function marked(src, opt, callback) {\n     opt = Object.assign({}, marked.defaults, opt || {});\n \n   try {\n+    // Disable task lists if GFM is false\n+    if (!opt.gfm) {\n+      opt.taskLists = false;\n+    }\n     const tokens = Lexer.lex(src, opt);\n     if (opt.walkTokens) {\n       const walkTokens = opt.walkTokens;\ndiff --git a/src/rules.js b/src/rules.js\nindex abcdef0..1234567 100644\n--- a/src/rules.js\n+++ b/src/rules.js\n@@ -50,6 +50,10 @@ block.gfm = merge({}, block.normal, {\n   fences: /^ *(`{3,}|~{3,})[^\\n]*\\n([\\s\\S]*?)\\s*\\1 *(?:\\n+|$)/,\n   paragraph: /^/,\n   heading: /^ *(#{1,6}) +([^\\n]+?) *#* *(?:\\n+|$)/\n+});\n+\n+// Task list items are only enabled if gfm is true\n+block.tasklist = /^ *(\\d+\\.|\\*|\\+|\\-) +\\[[ xX]\\] +(?=\\S)([^\\n]*)(?:\\n|$)/;\n \n block.tables = merge({}, block.gfm, {\n   nptable: /^ *(\\S.*\\|.*)\\n *([-:]+ *\\|[-| :]*)\\n((?:.*\\|.*(?:\\n|$))*)\\n*/,\ndiff --git a/src/Lexer.js b/src/Lexer.js\nindex 789abcd..ef01234 100644\n--- a/src/Lexer.js\n+++ b/src/Lexer.js\n@@ -150,6 +150,10 @@ class Lexer {\n     }\n \n     if (this.options.gfm) {\n+      // Enable task list parsing only if taskLists option is true\n+      if (this.options.taskLists && this.token.rules.tasklist) {\n+        this.token.rules.list = this.token.rules.tasklist;\n+      }\n       if (this.token.rules.tables) {\n         this.token.rules.paragraph = this.token.rules.tables.paragraph;\n       }\n```\n\nThis patch ensures that task lists are only rendered when the `gfm` option is set to `true`. If `gfm` is `false`, task lists will not be processed, aligning the behavior with the expected CommonMark output.",
    "model_name_or_path": "text_bm25",
    "metrics": {
      "issue_embedding_time_ms": 0.0,
      "retrieval_time_ms_bm25": 41.25,
      "retrieval_time_ms": 41.25,
      "total_retrieval_time_ms": 41.25,
      "generation_time_ms": 8386.26,
      "total_io_time_ms": 8427.51,
      "input_total_token_limit": null,
      "issue_text_tokens": 2094,
      "vlm_tokens": 0,
      "retrieved_tokens": 7526,
      "prompt_template_tokens": 509,
      "total_input_prompt_tokens": 10129,
      "output_generated_tokens": 573,
      "total_io_tokens": 10702,
      "input_prompt_text": "[{\"type\": \"text\", \"text\": \"You will be provided with a partial code base and an issue statement explaining a problem to resolve.\\n<issue>\\nTask lists are rendered even when GFM is disabled\\n**Marked version:**\\r\\n\\r\\n1.2.3\\r\\n\\r\\n**Describe the bug**\\r\\n\\r\\nEven when `gfm: false`, task lists are rendered.\\r\\n\\r\\n**To Reproduce**\\r\\n\\r\\nSteps to reproduce the behavior:\\r\\n\\r\\n1. Setup options with `gfm: false`.\\r\\n2. Render the following:\\r\\n\\r\\n```\\r\\nUnordered:\\r\\n\\r\\n- [ ] A\\r\\n- [ ] B\\r\\n- [ ] C\\r\\n\\r\\nOrdered:\\r\\n\\r\\n1. [ ] A\\r\\n2. [ ] B\\r\\n3. [ ] C\\r\\n\\r\\nA | B\\r\\n--|--\\r\\n1 | 2\\r\\n3 | 4\\r\\n5 | 6\\r\\n```\\r\\n\\r\\n3. Confirm that the table is *not* rendered, but the **task list is rendered**:\\r\\n\\r\\n![image](https://user-images.githubusercontent.com/613788/99151858-00ff8000-266c-11eb-942f-f9596eb92482.png)\\r\\n\\r\\nHere's some demos:\\r\\n\\r\\n- [Marked demo showing incorrect behavior](https://marked.js.org/demo/?text=Unordered%3A%0A%0A-%20%5B%20%5D%20A%0A-%20%5B%20%5D%20B%0A-%20%5B%20%5D%20C%0A%0AOrdered%3A%0A%0A1.%20%5B%20%5D%20A%0A2.%20%5B%20%5D%20B%0A3.%20%5B%20%5D%20C%0A%0AA%20%7C%20B%0A--%7C--%0A1%20%7C%202%0A3%20%7C%204%0A5%20%7C%206&options=%7B%0A%20%22baseUrl%22%3A%20null%2C%0A%20%22breaks%22%3A%20false%2C%0A%20%22gfm%22%3A%20false%2C%0A%20%22headerIds%22%3A%20true%2C%0A%20%22headerPrefix%22%3A%20%22%22%2C%0A%20%22highlight%22%3A%20null%2C%0A%20%22langPrefix%22%3A%20%22language-%22%2C%0A%20%22mangle%22%3A%20true%2C%0A%20%22pedantic%22%3A%20false%2C%0A%20%22sanitize%22%3A%20false%2C%0A%20%22sanitizer%22%3A%20null%2C%0A%20%22silent%22%3A%20false%2C%0A%20%22smartLists%22%3A%20false%2C%0A%20%22smartypants%22%3A%20false%2C%0A%20%22tokenizer%22%3A%20null%2C%0A%20%22walkTokens%22%3A%20null%2C%0A%20%22xhtml%22%3A%20false%0A%7D&version=1.2.3)\\r\\n- [CommonMark demo showing expected behavior](https://spec.commonmark.org/dingus/?text=Unordered%3A%0A%0A-%20%5B%20%5D%20A%0A-%20%5B%20%5D%20B%0A-%20%5B%20%5D%20C%0A%0AOrdered%3A%0A%0A1.%20%5B%20%5D%20A%0A2.%20%5B%20%5D%20B%0A3.%20%5B%20%5D%20C%0A%0AA%20%7C%20B%0A--%7C--%0A1%20%7C%202%0A3%20%7C%204%0A5%20%7C%206)\\r\\n\\r\\n**Expected behavior**\\r\\n\\r\\nTask lists are [only an extension of GFM](https://github.github.com/gfm/#task-list-items-extension-), so I would expect the output to match CommonMark by using the `[ ]` as part of the rendered text:\\r\\n\\r\\n![image](https://user-images.githubusercontent.com/613788/99151912-618ebd00-266c-11eb-9c5c-331921f3c2ef.png)\\r\\n\\nTask lists are rendered even when GFM is disabled\\n**Marked version:**\\r\\n\\r\\n1.2.3\\r\\n\\r\\n**Describe the bug**\\r\\n\\r\\nEven when `gfm: false`, task lists are rendered.\\r\\n\\r\\n**To Reproduce**\\r\\n\\r\\nSteps to reproduce the behavior:\\r\\n\\r\\n1. Setup options with `gfm: false`.\\r\\n2. Render the following:\\r\\n\\r\\n```\\r\\nUnordered:\\r\\n\\r\\n- [ ] A\\r\\n- [ ] B\\r\\n- [ ] C\\r\\n\\r\\nOrdered:\\r\\n\\r\\n1. [ ] A\\r\\n2. [ ] B\\r\\n3. [ ] C\\r\\n\\r\\nA | B\\r\\n--|--\\r\\n1 | 2\\r\\n3 | 4\\r\\n5 | 6\\r\\n```\\r\\n\\r\\n3. Confirm that the table is *not* rendered, but the **task list is rendered**:\\r\\n\\r\\n![image](https://user-images.githubusercontent.com/613788/99151858-00ff8000-266c-11eb-942f-f9596eb92482.png)\\r\\n\\r\\nHere's some demos:\\r\\n\\r\\n- [Marked demo showing incorrect behavior](https://marked.js.org/demo/?text=Unordered%3A%0A%0A-%20%5B%20%5D%20A%0A-%20%5B%20%5D%20B%0A-%20%5B%20%5D%20C%0A%0AOrdered%3A%0A%0A1.%20%5B%20%5D%20A%0A2.%20%5B%20%5D%20B%0A3.%20%5B%20%5D%20C%0A%0AA%20%7C%20B%0A--%7C--%0A1%20%7C%202%0A3%20%7C%204%0A5%20%7C%206&options=%7B%0A%20%22baseUrl%22%3A%20null%2C%0A%20%22breaks%22%3A%20false%2C%0A%20%22gfm%22%3A%20false%2C%0A%20%22headerIds%22%3A%20true%2C%0A%20%22headerPrefix%22%3A%20%22%22%2C%0A%20%22highlight%22%3A%20null%2C%0A%20%22langPrefix%22%3A%20%22language-%22%2C%0A%20%22mangle%22%3A%20true%2C%0A%20%22pedantic%22%3A%20false%2C%0A%20%22sanitize%22%3A%20false%2C%0A%20%22sanitizer%22%3A%20null%2C%0A%20%22silent%22%3A%20false%2C%0A%20%22smartLists%22%3A%20false%2C%0A%20%22smartypants%22%3A%20false%2C%0A%20%22tokenizer%22%3A%20null%2C%0A%20%22walkTokens%22%3A%20null%2C%0A%20%22xhtml%22%3A%20false%0A%7D&version=1.2.3)\\r\\n- [CommonMark demo showing expected behavior](https://spec.commonmark.org/dingus/?text=Unordered%3A%0A%0A-%20%5B%20%5D%20A%0A-%20%5B%20%5D%20B%0A-%20%5B%20%5D%20C%0A%0AOrdered%3A%0A%0A1.%20%5B%20%5D%20A%0A2.%20%5B%20%5D%20B%0A3.%20%5B%20%5D%20C%0A%0AA%20%7C%20B%0A--%7C--%0A1%20%7C%202%0A3%20%7C%204%0A5%20%7C%206)\\r\\n\\r\\n**Expected behavior**\\r\\n\\r\\nTask lists are [only an extension of GFM](https://github.github.com/gfm/#task-list-items-extension-), so I would expect the output to match CommonMark by using the `[ ]` as part of the rendered text:\\r\\n\\r\\n![image](https://user-images.githubusercontent.com/613788/99151912-618ebd00-266c-11eb-9c5c-331921f3c2ef.png)\\r\\n\\n\\n</issue>\\n\\n<code>\\n[start of AUTHORS.md]\\n# Authors\\n\\nMarked takes an encompassing approach to its community. As such, you can think of these as [concentric circles](https://medium.com/the-node-js-collection/healthy-open-source-967fa8be7951), where each group encompasses the following groups.\\n\\n<table>\\n  <tbody>\\n  \\t<tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\" style=\\\"width:32%\\\">\\n        <a href=\\\"https://github.com/chjj\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/chjj.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/chjj\\\">Christopher Jeffrey</a>\\n        <div>Original Author</div>\\n        <small>Started the fire</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\" style=\\\"width:32%\\\">\\n        <a href=\\\"https://github.com/joshbruce\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/joshbruce.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://joshbruce.com\\\">Josh Bruce</a>\\n        <div>Publisher</div>\\n        <small>Release Wrangler; Humaning Helper; Heckler of Hypertext</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\" style=\\\"width:32%\\\">\\n        <a href=\\\"https://github.com/styfle\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/styfle.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://www.ceriously.com\\\">Steven</a>\\n        <div>Publisher</div>\\n        <small>Release Wrangler; Dr. Docs; Open source, of course; GitHub Guru; Humaning Helper</small>\\n      </td>\\n    </tr>\\n  \\t<tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/davisjam\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/davisjam.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/davisjam\\\">Jamie Davis</a>\\n        <div>Committer</div>\\n        <small>Seeker of Security</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/UziTech\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/UziTech.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://tony.brix.ninja\\\">Tony Brix</a>\\n        <div>Publisher</div>\\n        <small>Release Wrangler; Titan of the test harness; Dr. DevOps</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        &nbsp;\\n      </td>\\n    </tr>\\n  </tbody>\\n</table>\\n\\n<table>\\n  <tbody>\\n    <tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/intcreator\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/intcreator.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/intcreator\\\">Brandon der Bl\\u00e4tter</a>\\n        <div>Contributor</div>\\n        <small>Curious Contributor</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/carlosvalle\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/carlosvalle.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/carlosvalle\\\">Carlos Valle</a>\\n        <div>Contributor</div>\\n        <small>Maker of the Marked mark from 2018 to present</small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/Feder1co5oave\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/Feder1co5oave.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/Feder1co5oave\\\">Federico Soave</a>\\n        <div>Contributor</div>\\n        <small>Regent of the Regex; Master of Marked</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/karenyavine\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/karenyavine.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/karenyavine\\\">Karen Yavine</a>\\n        <div>Contributor</div>\\n        <small>Snyk's Security Saint</small>\\n      </td>\\n     </tr>\\n     <tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/KostyaTretyak\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/KostyaTretyak.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/KostyaTretyak\\\">\\u041a\\u043e\\u0441\\u0442\\u044f \\u0422\\u0440\\u0435\\u0442\\u044f\\u043a</a>\\n        <div>Contributor</div>\\n        <small></small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/tomtheisen\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/tomtheisen.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/tomtheisen\\\">Tom Theisen</a>\\n        <div>Contributor</div>\\n        <small>Defibrillator</small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/mccraveiro\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/mccraveiro.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/mccraveiro\\\">Mateus Craveiro</a>\\n        <div>Contributor</div>\\n        <small>Defibrillator</small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n      </td>\\n     </tr>\\n  </tbody>\\n</table>\\n\\n## Publishers\\n\\nPublishers are admins who also have the responsibility, privilege, and burden of publishing the new releases to NPM and performing outreach and external stakeholder communications. Further, when things go pear-shaped, they're the ones taking most of the heat. Finally, when things go well, they're the primary ones praising the contributors who made it possible.\\n\\n(In other words, while Admins are focused primarily on the internal workings of the project, Publishers are focused on internal *and* external concerns.)\\n\\n**Should not exceed 2:** Having more people with the authority to publish a release can quickly turn into a consensus seeking nightmare (design by committee). Having only one is preferred (Directly Responsible Individual); however, given the nature of the project and its history, having an immediate fallback, and a potential deep fallback (Original author) is probably a good idea.\\n\\n[Details on badges](#badges)\\n\\n## Admins\\n\\nAdmins are committers who also have the responsibility, privilege, and burden of selecting committers and making sure the project itself runs smoothly, which includes community maintenance, governance, dispute resolution, and so on. (Letting the contributors easily enter into, and work within, the project to begin contributing, with as little friction as possible.)\\n\\n**Should not exceed 3:** When there are too many people with the ability to resolve disputes, the dispute itself can quickly turn into a dispute amongst the admins themselves; therefore, we want this group to be small enough to commit to action and large enough to not put too much burden on one person. (Should ensure faster resolution and responsiveness.)\\n\\nTo be listed: Admins are usually selected from the pool of committers (or they volunteer, using the same process) who demonstrate good understanding of the marked culture, operations, and do their best to help new contributors get up to speed on how to contribute effectively to the project.\\n\\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\\n\\n[Details on badges](#badges)\\n\\n## Committers\\n\\nCommitters are contributors who also have the responsibility, privilege, some might even say burden of being able to review and merge contributions (just usually not their own).\\n\\nA note on \\\"decision making authority\\\". This is related to submitting PRs and the [advice process](http://www.reinventingorganizationswiki.com/Decision_Making). The person marked as having decision making authority over a certain area should be sought for advice in that area before committing to a course of action.\\n\\n**Should not exceed 5:** For larger PRs affecting more of the codebase and, most likely, review by more people, we try to keep this pool small and responsive and let those with decision making authority have final say without negative repercussions from the other committers.\\n\\nTo be listed: Committers are usually selected (or they volunteer, using the same process) from contributors who enter the discussions regarding the future direction of Marked (maybe even doing informal reviews of contributions despite not being able to merge them yourself).\\n\\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\\n\\nA note on volunteering:\\n\\n1. Please do not volunteer unless you believe you can demonstrate to your peers you can do the work required.\\n2. Please do not overcommit yourself; we count on those committed to the project to be responsive. Really consider, with all you have going on, whether you able to really commit to it.\\n3. Don't let the previous frighten you away, it can always be changed later by you or your peers.\\n\\n[Details on badges](#badges)\\n\\n## Contributors\\n\\nContributors are users who submit a [PR](https://github.com/markedjs/marked/pulls), [Issue](https://github.com/markedjs/marked/issues), or collaborate in making Marked a better product and experience for all the users.\\n\\nTo be listed: make a contribution and, if it has significant impact, the committers may be able to add you here.\\n\\nTo be removed: please let us know or submit a PR.\\n\\n[Details on badges](#badges)\\n\\n## Users\\n\\nUsers are anyone using Marked in some fashion, without them, there's no reason for us to exist.\\n\\n|Individual or Organization |Website                 |Project                              |Submitted by                                        |\\n|:--------------------------|:-----------------------|:------------------------------------|:---------------------------------------------------|\\n|MarkedJS                   |https://marked.js.org   |https://github.com/markedjs/marked   |The marked committers                               |\\n\\nTo be listed: All fields are optional. Contact any of the committers or, more timely, submit a pull request with the following (using the first row as an example):\\n\\n- **Individual or Organization:** The name you would like associated with the record.\\n- **Website:** A URL to a standalone website for the project.\\n- **Project:** A URL for the repository of the project using marked.\\n- **Submitted by:** The name and optional honorifics for the person adding the listing.\\n\\nTo be removed: Same as above. Only instead of requesting addition request deletion or delete the row yourself.\\n\\n<h2 id=\\\"badges\\\">Badges</h2>\\n\\nBadges? You don't *need* no stinkin' badges.\\n\\nMovie references aside. (It was either that or, \\\"Let's play a game\\\", but that would have been creepy&hellip;that's why it will most likely come later.)\\n\\nBadges? If you *want* 'em, we got 'em, and here's how you get 'em (and&hellip;dramatic pause&hellip;why not two dramatic pauses for emphasis?&hellip; how they can be taken away).\\n\\n- [ ] Add the appropriate badge to the desired contributor in the desired column of this page, even if they're not listed here yet.\\n- [ ] Submit a PR (we're big on PRs around here, if you haven't noticed, help us help you).\\n- [ ] Follow the instructions for submitting a badge PR. (There are more details to find within. Come on. Everybody likes surprises, right? No? Actually, we just try to put documentation where it belongs, closer to the code and part of the sequence of events.)\\n\\n### Badges at play:\\n\\n<dl>\\n\\t<dt>Curious Contributor</dt>\\n\\t<dd>A contributor with less than one year on this page who is actively engaged in submitting PRs, Issues, making recommendations, sharing thoughts&hellip;without being too annoying about it (let's be clear, submitting 100 Issues recommending the Marked Committers send everyone candy is trying for the badge, not honestly earning it).</dd>\\n\\t<dt>Dr. DevOps</dt>\\n\\t<dd>\\n\\t\\t<p>Someone who understands and contributes to improving the developer experience and flow of Marked into the world.</p>\\n\\t\\t<blockquote>\\n\\t\\t\\t\\\"The main characteristic of the DevOps movement is to strongly advocate automation and monitoring at all steps of software construction, from integration, testing, releasing to deployment and infrastructure management. DevOps aims at shorter development cycles, increased deployment frequency, more dependable releases, in close alignment with business objectives.\\\" ~ <a href=\\\"https://www.wikipedia.org/wiki/DevOps\\\">Wikipedia</a>\\n\\t\\t</blockquote>\\n\\t</dd>\\n  <dt>Dr. Docs</dt>\\n  <dd>Someone who has contributed a great deal to the creation and maintenance of the non-code areas of marked.</dd>\\n\\t<dt>Eye for the CLI</dt>\\n\\t<dd>At this point? Pretty much anyone who can update that `man` file to the current Marked version without regression in the CLI tool itself.</dd>\\n\\t<dt>GitHub Guru</dt>\\n\\t<dd>Someone who always seems to be able to tell you easier ways to do things with GitHub.</dd>\\n\\t<dt>Humaning Helper</dt>\\n\\t<dd>Someone who goes out of their way to help contributors feel welcomed and valued. Further, someone who takes the extra steps(s) necessary to help new contributors get up to speed. Finally, they maintain composure even in times of disagreement and dispute resolution.</dd>\\n\\t<dt>Heckler of Hypertext</dt>\\n\\t<dd>Someone who demonstrates an esoteric level of knowledge when it comes to HTML. In other words, someone who says things like, \\\"Did you know most Markdown flavors don't have a way to render a description list (`dl`)? All the more reason Markdown `!==` HTML.\\\"</dd>\\n\\t<dt>Markdown Maestro</dt>\\n\\t<dd>You know that person who knows about way too many different flavors of Markdown? The one who maybe seems a little too obsessed with the possibilities of Markdown beyond HTML? Come on. You know who they are. Or, at least you could, if you give them this badge.</dd>\\n\\t<dt>Master of Marked</dt>\\n\\t<dd>Someone who demonstrates they know the ins and outs of the codebase for Marked.</dd>\\n\\t<dt>Open source, of course</dt>\\n\\t<dd>Someone who advocates for and has a proven understanding of how to operate within open source communities.</dd>\\n\\t<dt>Regent of the Regex</dt>\\n\\t<dd><p>Can you demonstrate you understand the following without Google and Stackoverflow?</p>\\n\\t\\t<p><code>/^( *)(bull) [\\\\s\\\\S]+?(?:hr|def|\\\\n{2,}(?! )(?!\\\\1bull )\\\\n*|\\\\s*$)/</code></p>\\n\\t\\t<p>Because this author can't yet. That's who gets these.</p>\\n\\t</dd>\\n\\t<dt>Seeker of Security</dt>\\n\\t<dd>Someone who has demonstrated a high degree of expertise or authority when it comes to software security.</dd>\\n\\t<dt>Titan of the Test Harness</dt>\\n\\t<dd>Someone who demonstrates high-levels of understanding regarding Marked's test harness.</dd>\\n\\t<dt>Totally Tron</dt>\\n\\t<dd>Someone who demonstrates they are willing and able to \\\"fight for the users\\\", both developers dependent on marked to do their jobs as well as end-users interacting with the output (particularly in the realm of those with the disabilities).</dd>\\n</dl>\\n\\n### Special badges that come with the job:\\n\\n<dl>\\n\\t<dt>Defibrillator</dt>\\n\\t<dd>A contributor who stepped up to help bring Marked back to life by contributing solutions to help Marked pass when compared against the CommonMark and GitHub Flavored Markdown specifications.</dd>\\n\\t<dt>Maker of the Marked mark</dt>\\n\\t<dd>This badge is given to the person or organization credited with creating the logo (or logotype) used in Marked communications for a given period of time. **Maker of the Marked mark from 2017 to present**, for example.</dd>\\n\\t<dt>Release Wrangler</dt>\\n\\t<dd>This is a badge given to all Publishers.</dd>\\n\\t<dt>Snyk's Security Saint</dt>\\n\\t<dd>This is a badge given to whomever primarily reaches out from Snyk to let us know about security issues.</dd>\\n</dl>\\n\\n[end of AUTHORS.md]\\n[start of Bug_report.md]\\n---\\nname: Bug report\\nabout: Marked says it does this thing but does not\\n\\n---\\n\\n**Describe the bug**\\nA clear and concise description of what the bug is.\\n\\n**To Reproduce**\\nSteps to reproduce the behavior:\\n\\n<!-- If possible, use the Marked Demo permalink and compare to the CommonMark Dingus permalink to demonstrate the bug -->\\n<!--\\n1. [Marked Demo](https://marked.js.org/demo/)\\n2. [CommonMark Demo](https://spec.commonmark.org/dingus/)\\n-->\\n\\n<!-- If you need a specific version and options to reproduce the bug, use the following template -->\\n<!--\\n1. Install marked `npm install --save marked@0.3.19` with the version you are using\\n2. Run marked with input string and options such as `marked('hello *world*', {gfm: true})`\\n3. Actual output (or error) is...\\n-->\\n\\n**Expected behavior**\\nA clear and concise description of what you expected to happen.\\n\\n[end of Bug_report.md]\\n[start of INDEX.md]\\nMarked is\\n\\n1. built for speed.<sup>*</sup>\\n2. a low-level markdown compiler for parsing markdown without caching or blocking for long periods of time.<sup>**</sup>\\n3. light-weight while implementing all markdown features from the supported flavors & specifications.<sup>***</sup>\\n4. available as a command line interface (CLI) and running in client- or server-side JavaScript projects.\\n\\n<p><small><sup>*</sup> Still working on metrics for comparative analysis and definition.</small><br>\\n<small><sup>**</sup> As few dependencies as possible.</small><br>\\n<small><sup>***</sup> Strict compliance could result in slower processing when running comparative benchmarking.</small></p>\\n\\n\\n<h2 id=\\\"demo\\\">Demo</h2>\\n\\nCheckout the [demo page](./demo/) to see marked in action \\u26f9\\ufe0f\\n\\nThese documentation pages are also rendered using marked \\ud83d\\udcaf\\n\\n\\n<h2 id=\\\"installation\\\">Installation</h2>\\n\\n**CLI:** `npm install -g marked`\\n\\n**In-browser:** `npm install marked`\\n\\n<h2 id=\\\"usage\\\">Usage</h2>\\n\\n### Warning: \\ud83d\\udea8 Marked does not [sanitize](/using_advanced#options) the output HTML. Please use a sanitize library, like [DOMPurify](https://github.com/cure53/DOMPurify) (recommended), [sanitize-html](https://github.com/apostrophecms/sanitize-html) or [insane](https://github.com/bevacqua/insane) on the output HTML! \\ud83d\\udea8\\n\\n**CLI**\\n\\n``` bash\\n$ marked -o hello.html\\nhello world\\n^D\\n$ cat hello.html\\n<p>hello world</p>\\n```\\n\\n``` bash\\n$ marked -s \\\"*hello world*\\\"\\n<p><em>hello world</em></p>\\n```\\n\\n**Browser**\\n\\n```html\\n<!doctype html>\\n<html>\\n<head>\\n  <meta charset=\\\"utf-8\\\"/>\\n  <title>Marked in the browser</title>\\n</head>\\n<body>\\n  <div id=\\\"content\\\"></div>\\n  <script src=\\\"https://cdn.jsdelivr.net/npm/marked/marked.min.js\\\"></script>\\n  <script>\\n    document.getElementById('content').innerHTML =\\n      marked('# Marked in browser\\\\n\\\\nRendered by **marked**.');\\n  </script>\\n</body>\\n</html>\\n```\\n\\n**Node.js**\\n\\n```js\\nconst marked = require(\\\"marked\\\");\\nconst html = marked('# Marked in Node.js\\\\n\\\\nRendered by **marked**.');\\n```\\n\\n\\nMarked offers [advanced configurations](/using_advanced) and [extensibility](/using_pro) as well.\\n\\n<h2 id=\\\"specifications\\\">Supported Markdown specifications</h2>\\n\\nWe actively support the features of the following [Markdown flavors](https://github.com/commonmark/CommonMark/wiki/Markdown-Flavors).\\n\\n| Flavor                                                     | Version | Status                                                             |\\n| :--------------------------------------------------------- | :------ | :----------------------------------------------------------------- |\\n| The original markdown.pl                                   | --      |                                                                    |\\n| [CommonMark](http://spec.commonmark.org/0.29/)             | 0.29    | [Work in progress](https://github.com/markedjs/marked/issues/1202) |\\n| [GitHub Flavored Markdown](https://github.github.com/gfm/) | 0.29    | [Work in progress](https://github.com/markedjs/marked/issues/1202) |\\n\\nBy supporting the above Markdown flavors, it's possible that Marked can help you use other flavors as well; however, these are not actively supported by the community.\\n\\n<h2 id=\\\"security\\\">Security</h2>\\n\\nThe only completely secure system is the one that doesn't exist in the first place. Having said that, we take the security of Marked very seriously.\\n\\nTherefore, please disclose potential security issues by email to the project [committers](/authors) as well as the [listed owners within NPM](https://docs.npmjs.com/cli/owner). We will provide an initial assessment of security reports within 48 hours and should apply patches within 2 weeks (also, feel free to contribute a fix for the issue).\\n\\n[end of INDEX.md]\\n[start of quickref.md]\\nMarkdown Quick Reference\\n========================\\n\\nThis guide is a very brief overview, with examples, of the syntax that [Markdown] supports. It is itself written in Markdown and you can copy the samples over to the left-hand pane for experimentation. It's shown as *text* and not *rendered HTML*.\\n\\n[Markdown]: http://daringfireball.net/projects/markdown/\\n\\n\\nSimple Text Formatting\\n======================\\n\\nFirst thing is first. You can use *stars* or _underscores_ for italics. **Double stars** and __double underscores__ for bold. ***Three together*** for ___both___.\\n\\nParagraphs are pretty easy too. Just have a blank line between chunks of text.\\n\\n> This chunk of text is in a block quote. Its multiple lines will all be\\n> indented a bit from the rest of the text.\\n>\\n> > Multiple levels of block quotes also work.\\n\\nSometimes you want to include code, such as when you are explaining how `<h1>` HTML tags work, or maybe you are a programmer and you are discussing `someMethod()`.\\n\\nIf you want to include code and have new\\nlines preserved, indent the line with a tab\\nor at least four spaces:\\n\\n    Extra spaces work here too.\\n    This is also called preformatted text and it is useful for showing examples.\\n    The text will stay as text, so any *markdown* or <u>HTML</u> you add will\\n    not show up formatted. This way you can show markdown examples in a\\n    markdown document.\\n\\n>     You can also use preformatted text with your blockquotes\\n>     as long as you add at least five spaces.\\n\\n\\nHeadings\\n========\\n\\nThere are a couple of ways to make headings. Using three or more equals signs on a line under a heading makes it into an \\\"h1\\\" style. Three or more hyphens under a line makes it \\\"h2\\\" (slightly smaller). You can also use multiple pound symbols (`#`) before and after a heading. Pounds after the title are ignored. Here are some examples:\\n\\nThis is H1\\n==========\\n\\nThis is H2\\n----------\\n\\n# This is H1\\n## This is H2\\n### This is H3 with some extra pounds ###\\n#### You get the idea ####\\n##### I don't need extra pounds at the end\\n###### H6 is the max\\n\\n\\nLinks\\n=====\\n\\nLet's link to a few sites. First, let's use the bare URL, like <https://www.github.com>. Great for text, but ugly for HTML.\\nNext is an inline link to [Google](https://www.google.com). A little nicer.\\nThis is a reference-style link to [Wikipedia] [1].\\nLastly, here's a pretty link to [Yahoo]. The reference-style and pretty links both automatically use the links defined below, but they could be defined *anywhere* in the markdown and are removed from the HTML. The names are also case insensitive, so you can use [YaHoO] and have it link properly.\\n\\n[1]: https://www.wikipedia.org\\n[Yahoo]: https://www.yahoo.com\\n\\nTitle attributes may be added to links by adding text after a link.\\nThis is the [inline link](https://www.bing.com \\\"Bing\\\") with a \\\"Bing\\\" title.\\nYou can also go to [W3C] [2] and maybe visit a [friend].\\n\\n[2]: https://w3c.org (The W3C puts out specs for web-based things)\\n[Friend]: https://facebook.com \\\"Facebook!\\\"\\n\\nEmail addresses in plain text are not linked: test@example.com.\\nEmail addresses wrapped in angle brackets are linked: <test@example.com>.\\nThey are also obfuscated so that email harvesting spam robots hopefully won't get them.\\n\\n\\nLists\\n=====\\n\\n* This is a bulleted list\\n* Great for shopping lists\\n- You can also use hyphens\\n+ Or plus symbols\\n\\nThe above is an \\\"unordered\\\" list. Now, on for a bit of order.\\n\\n1. Numbered lists are also easy\\n2. Just start with a number\\n3738762. However, the actual number doesn't matter when converted to HTML.\\n1. This will still show up as 4.\\n\\nYou might want a few advanced lists:\\n\\n- This top-level list is wrapped in paragraph tags\\n- This generates an extra space between each top-level item.\\n\\n- You do it by adding a blank line\\n\\n- This nested list also has blank lines between the list items.\\n\\n- How to create nested lists\\n  1. Start your regular list\\n  2. Indent nested lists with two spaces\\n  3. Further nesting means you should indent with two more spaces\\n    * This line is indented with four spaces.\\n\\n- List items can be quite lengthy. You can keep typing and either continue\\nthem on the next line with no indentation.\\n\\n- Alternately, if that looks ugly, you can also\\n  indent the next line a bit for a prettier look.\\n\\n- You can put large blocks of text in your list by just indenting with two spaces.\\n\\n  This is formatted the same as code, but you can inspect the HTML\\n  and find that it's just wrapped in a `<p>` tag and *won't* be shown\\n  as preformatted text.\\n\\n  You can keep adding more and more paragraphs to a single\\n  list item by adding the traditional blank line and then keep\\n  on indenting the paragraphs with two spaces.\\n\\n  You really only need to indent the first line,\\nbut that looks ugly.\\n\\n- Lists support blockquotes\\n\\n  > Just like this example here. By the way, you can\\n  > nest lists inside blockquotes!\\n  > - Fantastic!\\n\\n- Lists support preformatted text\\n\\n      You just need to indent an additional four spaces.\\n\\n\\nEven More\\n=========\\n\\nHorizontal Rule\\n---------------\\n\\nIf you need a horizontal rule you just need to put at least three hyphens, asterisks, or underscores on a line by themselves. You can also even put spaces between the characters.\\n\\n---\\n****************************\\n_ _ _ _ _ _ _\\n\\nThose three all produced horizontal lines. Keep in mind that three hyphens under any text turns that text into a heading, so add a blank like if you use hyphens.\\n\\nImages\\n------\\n\\nImages work exactly like links, but they have exclamation points in front. They work with references and titles too.\\n\\n![Google Logo](https://www.google.com/images/errors/logo_sm.gif) and ![Happy].\\n\\n[Happy]: https://wpclipart.com/smiley/happy/simple_colors/smiley_face_simple_green_small.png (\\\"Smiley face\\\")\\n\\n\\nInline HTML\\n-----------\\n\\nIf markdown is too limiting, you can just insert your own <strike>crazy</strike> HTML. Span-level HTML <u>can *still* use markdown</u>. Block level elements must be separated from text by a blank line and must not have any spaces before the opening and closing HTML.\\n\\n<div style='font-family: \\\"Comic Sans MS\\\", \\\"Comic Sans\\\", cursive;'>\\nIt is a pity, but markdown does **not** work in here for most markdown parsers.\\n[Marked] handles it pretty well.\\n</div>\\n\\n[end of quickref.md]\\n[start of CONTRIBUTING.md]\\n# Contributing to Marked\\n\\n- [ ] Fork `markedjs/marked`.\\n- [ ] Clone the library locally using GitHub Desktop or the command line.\\n- [ ] Make sure you are on the `master` branch.\\n- [ ] Be sure to run `npm install` or `npm update`.\\n- [ ] Create a branch.\\n- [ ] Update code in `src` folder. (`lib` folder is for auto compiled code)\\n- [ ] Run `npm run test:all`, fix any broken things (for linting, you can run `npm run lint` to have the linter fix them for you).\\n- [ ] Run `npm run build:reset` to remove changes to compiled files.\\n- [ ] Submit a Pull Request.\\n\\n## Design principles\\n\\nMarked tends to favor following the SOLID set of software design and development principles; mainly the [single responsibility](https://en.wikipedia.org/wiki/Single_responsibility_principle) and [open/closed principles](https://en.wikipedia.org/wiki/Open/closed_principle):\\n\\n- **Single responsibility:** Marked, and the components of Marked, have the single responsibility of converting Markdown strings into HTML.\\n- **Open/closed:** Marked favors giving developers the means to easily extend the library and its components over changing Marked's behavior through configuration options.\\n\\n## Priorities\\n\\nWe think we have our priorities sorted to build quality in.\\n\\nThe following table lists the ticket type labels we use when there is work to be done on the code either through an Issue or a PR; in priority order.\\n\\n|Ticket type label                  |Description                                                                                                                                                                         |\\n|:----------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\\n|L0 - security                      |A security vulnerability within the Marked library is discovered.                                                                                                                   |\\n|L1 - broken                        |Valid usage results in incorrect output compared to [supported specifications](/#specifications) OR causes marked to crash AND there is no known workaround for the issue. |\\n|L2 - annoying                      |Similar to L1 - broken only there is a known workaround available for the issue.                                                                                                   |\\n|RR - refactor and re-engineer      |Results in an improvement to developers using Marked (improved readability) or end-users (faster performance) or both.                                                              |\\n|NFS - new feature (spec related)   |A capability Marked does not currently provide but is in one of the [supported specifications](/#specifications)                                                           |\\n|NFU - new feature (user requested) |A capability Marked does not currently provide but has been requested by users of Marked.                                                                                           |\\n|NFE - new feature (should be an extension) |A capability Marked does not currently provide and is not part of a spec.                                                                                           |\\n\\n## Test early, often, and everything\\n\\nWe try to write test cases to validate output (writing tests based on the [supported specifications](/#specifications)) and minimize regression (writing tests for issues fixed). Therefore, if you would like to contribute, some things you should know regarding the test harness.\\n\\n|Location              |Description                                                                                                    |\\n|:---------------------|:--------------------------------------------------------------------------------------------------------------|\\n|/test/specs/commonmark|Tests for [CommonMark](https://spec.commonmark.org/current/) compliance                                        |\\n|/test/specs/gfm       |Tests for [GFM](https://github.github.com/gfm/) compliance                                                     |\\n|/test/specs/new       |Tests not related to the original `markdown.pl`.                                                               |\\n|/test/specs/original  |Tests validating against the original `markdown.pl`.                                                           |\\n|/test/specs/redos     |Tests for [ReDOS](https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS) vulnerabilities|\\n\\nIf your test uses features or options, assuming `gfm` is set to `false`, for example, you can add [front-matter](https://www.npmjs.com/package/front-matter) to the top of\\nyour `.md` file\\n\\n``` yml\\n---\\ngfm: false\\n---\\n```\\n\\n## Submitting PRs and Issues\\n\\nMarked provides templates for submitting both pull requests and issues. When you begin creating a new PR or issue, you will see instructions on using the template.\\n\\nThe PR templates include checklists for both the submitter and the reviewer, which, in most cases, will not be the same person.\\n\\n## Scripts\\n\\nWhen it comes to NPM commands, we try to use the native scripts provided by the NPM framework.\\n\\nTo run the tests:\\n\\n``` bash\\nnpm test\\n```\\n\\nTo test whether you are using the standard syntax rules for the project:\\n\\n```bash\\nnpm run test:lint\\n```\\n\\nTo see time comparisons between Marked and other popular Markdown libraries:\\n\\n```bash\\nnpm run bench\\n```\\n\\nTo see the compiled rules from `src/rules.js`:\\n\\n```bash\\nnpm run rules\\n```\\n\\nYou can specify one or more `rule path`s to only show certain rules:\\n\\n```bash\\nnpm run rules -- block.gfm.item inline.pedantic.br\\n\\n{\\n  block: {\\n    gfm: {\\n      item: /^( *)((?:[*+-]|\\\\\\\\d{1,9}\\\\\\\\.)) ?[^\\\\\\\\n]*(?:\\\\\\\\n(?!\\\\\\\\1(?:[*+-]|\\\\\\\\d{1,9}\\\\\\\\.) ?)[^\\\\\\\\n]*)*/gm\\n    }\\n  },\\n  inline: {\\n    pedantic: {\\n      br: /^( {2,}|\\\\\\\\\\\\\\\\)\\\\\\\\n(?!\\\\\\\\s*$)/\\n    }\\n  }\\n}\\n```\\n\\nTo check for (and fix) standardized syntax (lint):\\n\\n```bash\\nnpm run lint\\n```\\n\\nTo build your own es5, esm, and minified versions of Marked:\\n\\n```bash\\nnpm run build\\n```\\n\\n[end of CONTRIBUTING.md]\\n\\n</code>\\n\\nHere is an example of a patch file. It consists of changes to the code base. It specifies the file names, the line numbers of each change, and the removed and added lines. A single patch file can contain changes to multiple files.\\n\\n<patch>\\ndiff --git a/file.py b/file.py\\n--- a/file.py\\n+++ b/file.py\\n@@ -1,27 +1,35 @@\\n def euclidean(a, b):\\n-    while b:\\n-        a, b = b, a % b\\n-    return a\\n+    if b == 0:\\n+        return a\\n+    return euclidean(b, a % b)\\n \\n def bresenham(x0, y0, x1, y1):\\n+    points = []\\n+    dx = abs(x1 - x0)\\n+    dy = abs(y1 - y0)\\n+    sx = 1 if x0 < x1 else -1\\n+    sy = 1 if y0 < y1 else -1\\n+    err = dx - dy\\n+    \\n     while True:\\n-        plot(x0, y0)\\n+        points.append((x0, y0))\\n         if x0 == x1 and y0 == y1:\\n             break\\n-        e2 = 2 * err\\n-        if e2 > -dy:\\n-            err -= dy\\n-            x0 += sx\\n-        if e2 < dx:\\n-            err += dx\\n-            y0 += sy\\n+        e2 = 2 * err\\n+        if e2 > -dy:\\n+            err -= dy\\n+            x0 += sx\\n+        if e2 < dx:\\n+            err += dx\\n+            y0 += sy\\n+    return points\\n+</patch>\\n\\nI need you to solve the provided issue by generating a single patch file that I can apply directly to this repository using git apply. Please respond with a single patch file in the format shown above.\\n\\nRespond below: \\n\"}]",
      "retrieved_file_paths": [
        "AUTHORS.md",
        "Bug_report.md",
        "INDEX.md",
        "quickref.md",
        "CONTRIBUTING.md"
      ]
    },
    "retrieved_documents": [
      {
        "id": "671b086d-4d21-4012-aae0-b7bae38bffe0",
        "score": 0.01639344262295082,
        "payload": {
          "text": "# Authors\n\nMarked takes an encompassing approach to its community. As such, you can think of these as [concentric circles](https://medium.com/the-node-js-collection/healthy-open-source-967fa8be7951), where each group encompasses the following groups.\n\n<table>\n  <tbody>\n  \t<tr>\n      <td align=\"center\" valign=\"top\" style=\"width:32%\">\n        <a href=\"https://github.com/chjj\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/chjj.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/chjj\">Christopher Jeffrey</a>\n        <div>Original Author</div>\n        <small>Started the fire</small>\n      </td>\n      <td align=\"center\" valign=\"top\" style=\"width:32%\">\n        <a href=\"https://github.com/joshbruce\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/joshbruce.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://joshbruce.com\">Josh Bruce</a>\n        <div>Publisher</div>\n        <small>Release Wrangler; Humaning Helper; Heckler of Hypertext</small>\n      </td>\n      <td align=\"center\" valign=\"top\" style=\"width:32%\">\n        <a href=\"https://github.com/styfle\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/styfle.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://www.ceriously.com\">Steven</a>\n        <div>Publisher</div>\n        <small>Release Wrangler; Dr. Docs; Open source, of course; GitHub Guru; Humaning Helper</small>\n      </td>\n    </tr>\n  \t<tr>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/davisjam\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/davisjam.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/davisjam\">Jamie Davis</a>\n        <div>Committer</div>\n        <small>Seeker of Security</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/UziTech\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/UziTech.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://tony.brix.ninja\">Tony Brix</a>\n        <div>Publisher</div>\n        <small>Release Wrangler; Titan of the test harness; Dr. DevOps</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        &nbsp;\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n<table>\n  <tbody>\n    <tr>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/intcreator\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/intcreator.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/intcreator\">Brandon der Bl\u00e4tter</a>\n        <div>Contributor</div>\n        <small>Curious Contributor</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/carlosvalle\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/carlosvalle.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/carlosvalle\">Carlos Valle</a>\n        <div>Contributor</div>\n        <small>Maker of the Marked mark from 2018 to present</small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n        <a href=\"https://github.com/Feder1co5oave\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/Feder1co5oave.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/Feder1co5oave\">Federico Soave</a>\n        <div>Contributor</div>\n        <small>Regent of the Regex; Master of Marked</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/karenyavine\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/karenyavine.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/karenyavine\">Karen Yavine</a>\n        <div>Contributor</div>\n        <small>Snyk's Security Saint</small>\n      </td>\n     </tr>\n     <tr>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/KostyaTretyak\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/KostyaTretyak.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/KostyaTretyak\">\u041a\u043e\u0441\u0442\u044f \u0422\u0440\u0435\u0442\u044f\u043a</a>\n        <div>Contributor</div>\n        <small></small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n        <a href=\"https://github.com/tomtheisen\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/tomtheisen.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/tomtheisen\">Tom Theisen</a>\n        <div>Contributor</div>\n        <small>Defibrillator</small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n        <a href=\"https://github.com/mccraveiro\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/mccraveiro.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/mccraveiro\">Mateus Craveiro</a>\n        <div>Contributor</div>\n        <small>Defibrillator</small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n      </td>\n     </tr>\n  </tbody>\n</table>\n\n## Publishers\n\nPublishers are admins who also have the responsibility, privilege, and burden of publishing the new releases to NPM and performing outreach and external stakeholder communications. Further, when things go pear-shaped, they're the ones taking most of the heat. Finally, when things go well, they're the primary ones praising the contributors who made it possible.\n\n(In other words, while Admins are focused primarily on the internal workings of the project, Publishers are focused on internal *and* external concerns.)\n\n**Should not exceed 2:** Having more people with the authority to publish a release can quickly turn into a consensus seeking nightmare (design by committee). Having only one is preferred (Directly Responsible Individual); however, given the nature of the project and its history, having an immediate fallback, and a potential deep fallback (Original author) is probably a good idea.\n\n[Details on badges](#badges)\n\n## Admins\n\nAdmins are committers who also have the responsibility, privilege, and burden of selecting committers and making sure the project itself runs smoothly, which includes community maintenance, governance, dispute resolution, and so on. (Letting the contributors easily enter into, and work within, the project to begin contributing, with as little friction as possible.)\n\n**Should not exceed 3:** When there are too many people with the ability to resolve disputes, the dispute itself can quickly turn into a dispute amongst the admins themselves; therefore, we want this group to be small enough to commit to action and large enough to not put too much burden on one person. (Should ensure faster resolution and responsiveness.)\n\nTo be listed: Admins are usually selected from the pool of committers (or they volunteer, using the same process) who demonstrate good understanding of the marked culture, operations, and do their best to help new contributors get up to speed on how to contribute effectively to the project.\n\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\n\n[Details on badges](#badges)\n\n## Committers\n\nCommitters are contributors who also have the responsibility, privilege, some might even say burden of being able to review and merge contributions (just usually not their own).\n\nA note on \"decision making authority\". This is related to submitting PRs and the [advice process](http://www.reinventingorganizationswiki.com/Decision_Making). The person marked as having decision making authority over a certain area should be sought for advice in that area before committing to a course of action.\n\n**Should not exceed 5:** For larger PRs affecting more of the codebase and, most likely, review by more people, we try to keep this pool small and responsive and let those with decision making authority have final say without negative repercussions from the other committers.\n\nTo be listed: Committers are usually selected (or they volunteer, using the same process) from contributors who enter the discussions regarding the future direction of Marked (maybe even doing informal reviews of contributions despite not being able to merge them yourself).\n\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\n\nA note on volunteering:\n\n1. Please do not volunteer unless you believe you can demonstrate to your peers you can do the work required.\n2. Please do not overcommit yourself; we count on those committed to the project to be responsive. Really consider, with all you have going on, whether you able to really commit to it.\n3. Don't let the previous frighten you away, it can always be changed later by you or your peers.\n\n[Details on badges](#badges)\n\n## Contributors\n\nContributors are users who submit a [PR](https://github.com/markedjs/marked/pulls), [Issue](https://github.com/markedjs/marked/issues), or collaborate in making Marked a better product and experience for all the users.\n\nTo be listed: make a contribution and, if it has significant impact, the committers may be able to add you here.\n\nTo be removed: please let us know or submit a PR.\n\n[Details on badges](#badges)\n\n## Users\n\nUsers are anyone using Marked in some fashion, without them, there's no reason for us to exist.\n\n|Individual or Organization |Website                 |Project                              |Submitted by                                        |\n|:--------------------------|:-----------------------|:------------------------------------|:---------------------------------------------------|\n|MarkedJS                   |https://marked.js.org   |https://github.com/markedjs/marked   |The marked committers                               |\n\nTo be listed: All fields are optional. Contact any of the committers or, more timely, submit a pull request with the following (using the first row as an example):\n\n- **Individual or Organization:** The name you would like associated with the record.\n- **Website:** A URL to a standalone website for the project.\n- **Project:** A URL for the repository of the project using marked.\n- **Submitted by:** The name and optional honorifics for the person adding the listing.\n\nTo be removed: Same as above. Only instead of requesting addition request deletion or delete the row yourself.\n\n<h2 id=\"badges\">Badges</h2>\n\nBadges? You don't *need* no stinkin' badges.\n\nMovie references aside. (It was either that or, \"Let's play a game\", but that would have been creepy&hellip;that's why it will most likely come later.)\n\nBadges? If you *want* 'em, we got 'em, and here's how you get 'em (and&hellip;dramatic pause&hellip;why not two dramatic pauses for emphasis?&hellip; how they can be taken away).\n\n- [ ] Add the appropriate badge to the desired contributor in the desired column of this page, even if they're not listed here yet.\n- [ ] Submit a PR (we're big on PRs around here, if you haven't noticed, help us help you).\n- [ ] Follow the instructions for submitting a badge PR. (There are more details to find within. Come on. Everybody likes surprises, right? No? Actually, we just try to put documentation where it belongs, closer to the code and part of the sequence of events.)\n\n### Badges at play:\n\n<dl>\n\t<dt>Curious Contributor</dt>\n\t<dd>A contributor with less than one year on this page who is actively engaged in submitting PRs, Issues, making recommendations, sharing thoughts&hellip;without being too annoying about it (let's be clear, submitting 100 Issues recommending the Marked Committers send everyone candy is trying for the badge, not honestly earning it).</dd>\n\t<dt>Dr. DevOps</dt>\n\t<dd>\n\t\t<p>Someone who understands and contributes to improving the developer experience and flow of Marked into the world.</p>\n\t\t<blockquote>\n\t\t\t\"The main characteristic of the DevOps movement is to strongly advocate automation and monitoring at all steps of software construction, from integration, testing, releasing to deployment and infrastructure management. DevOps aims at shorter development cycles, increased deployment frequency, more dependable releases, in close alignment with business objectives.\" ~ <a href=\"https://www.wikipedia.org/wiki/DevOps\">Wikipedia</a>\n\t\t</blockquote>\n\t</dd>\n  <dt>Dr. Docs</dt>\n  <dd>Someone who has contributed a great deal to the creation and maintenance of the non-code areas of marked.</dd>\n\t<dt>Eye for the CLI</dt>\n\t<dd>At this point? Pretty much anyone who can update that `man` file to the current Marked version without regression in the CLI tool itself.</dd>\n\t<dt>GitHub Guru</dt>\n\t<dd>Someone who always seems to be able to tell you easier ways to do things with GitHub.</dd>\n\t<dt>Humaning Helper</dt>\n\t<dd>Someone who goes out of their way to help contributors feel welcomed and valued. Further, someone who takes the extra steps(s) necessary to help new contributors get up to speed. Finally, they maintain composure even in times of disagreement and dispute resolution.</dd>\n\t<dt>Heckler of Hypertext</dt>\n\t<dd>Someone who demonstrates an esoteric level of knowledge when it comes to HTML. In other words, someone who says things like, \"Did you know most Markdown flavors don't have a way to render a description list (`dl`)? All the more reason Markdown `!==` HTML.\"</dd>\n\t<dt>Markdown Maestro</dt>\n\t<dd>You know that person who knows about way too many different flavors of Markdown? The one who maybe seems a little too obsessed with the possibilities of Markdown beyond HTML? Come on. You know who they are. Or, at least you could, if you give them this badge.</dd>\n\t<dt>Master of Marked</dt>\n\t<dd>Someone who demonstrates they know the ins and outs of the codebase for Marked.</dd>\n\t<dt>Open source, of course</dt>\n\t<dd>Someone who advocates for and has a proven understanding of how to operate within open source communities.</dd>\n\t<dt>Regent of the Regex</dt>\n\t<dd><p>Can you demonstrate you understand the following without Google and Stackoverflow?</p>\n\t\t<p><code>/^( *)(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/</code></p>\n\t\t<p>Because this author can't yet. That's who gets these.</p>\n\t</dd>\n\t<dt>Seeker of Security</dt>\n\t<dd>Someone who has demonstrated a high degree of expertise or authority when it comes to software security.</dd>\n\t<dt>Titan of the Test Harness</dt>\n\t<dd>Someone who demonstrates high-levels of understanding regarding Marked's test harness.</dd>\n\t<dt>Totally Tron</dt>\n\t<dd>Someone who demonstrates they are willing and able to \"fight for the users\", both developers dependent on marked to do their jobs as well as end-users interacting with the output (particularly in the realm of those with the disabilities).</dd>\n</dl>\n\n### Special badges that come with the job:\n\n<dl>\n\t<dt>Defibrillator</dt>\n\t<dd>A contributor who stepped up to help bring Marked back to life by contributing solutions to help Marked pass when compared against the CommonMark and GitHub Flavored Markdown specifications.</dd>\n\t<dt>Maker of the Marked mark</dt>\n\t<dd>This badge is given to the person or organization credited with creating the logo (or logotype) used in Marked communications for a given period of time. **Maker of the Marked mark from 2017 to present**, for example.</dd>\n\t<dt>Release Wrangler</dt>\n\t<dd>This is a badge given to all Publishers.</dd>\n\t<dt>Snyk's Security Saint</dt>\n\t<dd>This is a badge given to whomever primarily reaches out from Snyk to let us know about security issues.</dd>\n</dl>\n",
          "filepath": "data/repos/markedjs/marked-1.2/docs/AUTHORS.md",
          "repo": "markedjs/marked",
          "version": "1.2",
          "chunk_index": 0,
          "chunk_id": "671b086d-4d21-4012-aae0-b7bae38bffe0"
        }
      },
      {
        "id": "2d9f70e1-0017-4cb9-842c-819aaef86744",
        "score": 0.016129032258064516,
        "payload": {
          "text": "---\nname: Bug report\nabout: Marked says it does this thing but does not\n\n---\n\n**Describe the bug**\nA clear and concise description of what the bug is.\n\n**To Reproduce**\nSteps to reproduce the behavior:\n\n<!-- If possible, use the Marked Demo permalink and compare to the CommonMark Dingus permalink to demonstrate the bug -->\n<!--\n1. [Marked Demo](https://marked.js.org/demo/)\n2. [CommonMark Demo](https://spec.commonmark.org/dingus/)\n-->\n\n<!-- If you need a specific version and options to reproduce the bug, use the following template -->\n<!--\n1. Install marked `npm install --save marked@0.3.19` with the version you are using\n2. Run marked with input string and options such as `marked('hello *world*', {gfm: true})`\n3. Actual output (or error) is...\n-->\n\n**Expected behavior**\nA clear and concise description of what you expected to happen.\n",
          "filepath": "data/repos/markedjs/marked-1.2/.github/ISSUE_TEMPLATE/Bug_report.md",
          "repo": "markedjs/marked",
          "version": "1.2",
          "chunk_index": 0,
          "chunk_id": "2d9f70e1-0017-4cb9-842c-819aaef86744"
        }
      },
      {
        "id": "f6c80df3-496b-4eba-b445-fc29bcbfa272",
        "score": 0.015873015873015872,
        "payload": {
          "text": "Marked is\n\n1. built for speed.<sup>*</sup>\n2. a low-level markdown compiler for parsing markdown without caching or blocking for long periods of time.<sup>**</sup>\n3. light-weight while implementing all markdown features from the supported flavors & specifications.<sup>***</sup>\n4. available as a command line interface (CLI) and running in client- or server-side JavaScript projects.\n\n<p><small><sup>*</sup> Still working on metrics for comparative analysis and definition.</small><br>\n<small><sup>**</sup> As few dependencies as possible.</small><br>\n<small><sup>***</sup> Strict compliance could result in slower processing when running comparative benchmarking.</small></p>\n\n\n<h2 id=\"demo\">Demo</h2>\n\nCheckout the [demo page](./demo/) to see marked in action \u26f9\ufe0f\n\nThese documentation pages are also rendered using marked \ud83d\udcaf\n\n\n<h2 id=\"installation\">Installation</h2>\n\n**CLI:** `npm install -g marked`\n\n**In-browser:** `npm install marked`\n\n<h2 id=\"usage\">Usage</h2>\n\n### Warning: \ud83d\udea8 Marked does not [sanitize](/using_advanced#options) the output HTML. Please use a sanitize library, like [DOMPurify](https://github.com/cure53/DOMPurify) (recommended), [sanitize-html](https://github.com/apostrophecms/sanitize-html) or [insane](https://github.com/bevacqua/insane) on the output HTML! \ud83d\udea8\n\n**CLI**\n\n``` bash\n$ marked -o hello.html\nhello world\n^D\n$ cat hello.html\n<p>hello world</p>\n```\n\n``` bash\n$ marked -s \"*hello world*\"\n<p><em>hello world</em></p>\n```\n\n**Browser**\n\n```html\n<!doctype html>\n<html>\n<head>\n  <meta charset=\"utf-8\"/>\n  <title>Marked in the browser</title>\n</head>\n<body>\n  <div id=\"content\"></div>\n  <script src=\"https://cdn.jsdelivr.net/npm/marked/marked.min.js\"></script>\n  <script>\n    document.getElementById('content').innerHTML =\n      marked('# Marked in browser\\n\\nRendered by **marked**.');\n  </script>\n</body>\n</html>\n```\n\n**Node.js**\n\n```js\nconst marked = require(\"marked\");\nconst html = marked('# Marked in Node.js\\n\\nRendered by **marked**.');\n```\n\n\nMarked offers [advanced configurations](/using_advanced) and [extensibility](/using_pro) as well.\n\n<h2 id=\"specifications\">Supported Markdown specifications</h2>\n\nWe actively support the features of the following [Markdown flavors](https://github.com/commonmark/CommonMark/wiki/Markdown-Flavors).\n\n| Flavor                                                     | Version | Status                                                             |\n| :--------------------------------------------------------- | :------ | :----------------------------------------------------------------- |\n| The original markdown.pl                                   | --      |                                                                    |\n| [CommonMark](http://spec.commonmark.org/0.29/)             | 0.29    | [Work in progress](https://github.com/markedjs/marked/issues/1202) |\n| [GitHub Flavored Markdown](https://github.github.com/gfm/) | 0.29    | [Work in progress](https://github.com/markedjs/marked/issues/1202) |\n\nBy supporting the above Markdown flavors, it's possible that Marked can help you use other flavors as well; however, these are not actively supported by the community.\n\n<h2 id=\"security\">Security</h2>\n\nThe only completely secure system is the one that doesn't exist in the first place. Having said that, we take the security of Marked very seriously.\n\nTherefore, please disclose potential security issues by email to the project [committers](/authors) as well as the [listed owners within NPM](https://docs.npmjs.com/cli/owner). We will provide an initial assessment of security reports within 48 hours and should apply patches within 2 weeks (also, feel free to contribute a fix for the issue).\n",
          "filepath": "data/repos/markedjs/marked-1.2/docs/INDEX.md",
          "repo": "markedjs/marked",
          "version": "1.2",
          "chunk_index": 0,
          "chunk_id": "f6c80df3-496b-4eba-b445-fc29bcbfa272"
        }
      },
      {
        "id": "8dd2f984-0312-4df3-ade9-f9f9bacd6de0",
        "score": 0.015625,
        "payload": {
          "text": "Markdown Quick Reference\n========================\n\nThis guide is a very brief overview, with examples, of the syntax that [Markdown] supports. It is itself written in Markdown and you can copy the samples over to the left-hand pane for experimentation. It's shown as *text* and not *rendered HTML*.\n\n[Markdown]: http://daringfireball.net/projects/markdown/\n\n\nSimple Text Formatting\n======================\n\nFirst thing is first. You can use *stars* or _underscores_ for italics. **Double stars** and __double underscores__ for bold. ***Three together*** for ___both___.\n\nParagraphs are pretty easy too. Just have a blank line between chunks of text.\n\n> This chunk of text is in a block quote. Its multiple lines will all be\n> indented a bit from the rest of the text.\n>\n> > Multiple levels of block quotes also work.\n\nSometimes you want to include code, such as when you are explaining how `<h1>` HTML tags work, or maybe you are a programmer and you are discussing `someMethod()`.\n\nIf you want to include code and have new\nlines preserved, indent the line with a tab\nor at least four spaces:\n\n    Extra spaces work here too.\n    This is also called preformatted text and it is useful for showing examples.\n    The text will stay as text, so any *markdown* or <u>HTML</u> you add will\n    not show up formatted. This way you can show markdown examples in a\n    markdown document.\n\n>     You can also use preformatted text with your blockquotes\n>     as long as you add at least five spaces.\n\n\nHeadings\n========\n\nThere are a couple of ways to make headings. Using three or more equals signs on a line under a heading makes it into an \"h1\" style. Three or more hyphens under a line makes it \"h2\" (slightly smaller). You can also use multiple pound symbols (`#`) before and after a heading. Pounds after the title are ignored. Here are some examples:\n\nThis is H1\n==========\n\nThis is H2\n----------\n\n# This is H1\n## This is H2\n### This is H3 with some extra pounds ###\n#### You get the idea ####\n##### I don't need extra pounds at the end\n###### H6 is the max\n\n\nLinks\n=====\n\nLet's link to a few sites. First, let's use the bare URL, like <https://www.github.com>. Great for text, but ugly for HTML.\nNext is an inline link to [Google](https://www.google.com). A little nicer.\nThis is a reference-style link to [Wikipedia] [1].\nLastly, here's a pretty link to [Yahoo]. The reference-style and pretty links both automatically use the links defined below, but they could be defined *anywhere* in the markdown and are removed from the HTML. The names are also case insensitive, so you can use [YaHoO] and have it link properly.\n\n[1]: https://www.wikipedia.org\n[Yahoo]: https://www.yahoo.com\n\nTitle attributes may be added to links by adding text after a link.\nThis is the [inline link](https://www.bing.com \"Bing\") with a \"Bing\" title.\nYou can also go to [W3C] [2] and maybe visit a [friend].\n\n[2]: https://w3c.org (The W3C puts out specs for web-based things)\n[Friend]: https://facebook.com \"Facebook!\"\n\nEmail addresses in plain text are not linked: test@example.com.\nEmail addresses wrapped in angle brackets are linked: <test@example.com>.\nThey are also obfuscated so that email harvesting spam robots hopefully won't get them.\n\n\nLists\n=====\n\n* This is a bulleted list\n* Great for shopping lists\n- You can also use hyphens\n+ Or plus symbols\n\nThe above is an \"unordered\" list. Now, on for a bit of order.\n\n1. Numbered lists are also easy\n2. Just start with a number\n3738762. However, the actual number doesn't matter when converted to HTML.\n1. This will still show up as 4.\n\nYou might want a few advanced lists:\n\n- This top-level list is wrapped in paragraph tags\n- This generates an extra space between each top-level item.\n\n- You do it by adding a blank line\n\n- This nested list also has blank lines between the list items.\n\n- How to create nested lists\n  1. Start your regular list\n  2. Indent nested lists with two spaces\n  3. Further nesting means you should indent with two more spaces\n    * This line is indented with four spaces.\n\n- List items can be quite lengthy. You can keep typing and either continue\nthem on the next line with no indentation.\n\n- Alternately, if that looks ugly, you can also\n  indent the next line a bit for a prettier look.\n\n- You can put large blocks of text in your list by just indenting with two spaces.\n\n  This is formatted the same as code, but you can inspect the HTML\n  and find that it's just wrapped in a `<p>` tag and *won't* be shown\n  as preformatted text.\n\n  You can keep adding more and more paragraphs to a single\n  list item by adding the traditional blank line and then keep\n  on indenting the paragraphs with two spaces.\n\n  You really only need to indent the first line,\nbut that looks ugly.\n\n- Lists support blockquotes\n\n  > Just like this example here. By the way, you can\n  > nest lists inside blockquotes!\n  > - Fantastic!\n\n- Lists support preformatted text\n\n      You just need to indent an additional four spaces.\n\n\nEven More\n=========\n\nHorizontal Rule\n---------------\n\nIf you need a horizontal rule you just need to put at least three hyphens, asterisks, or underscores on a line by themselves. You can also even put spaces between the characters.\n\n---\n****************************\n_ _ _ _ _ _ _\n\nThose three all produced horizontal lines. Keep in mind that three hyphens under any text turns that text into a heading, so add a blank like if you use hyphens.\n\nImages\n------\n\nImages work exactly like links, but they have exclamation points in front. They work with references and titles too.\n\n![Google Logo](https://www.google.com/images/errors/logo_sm.gif) and ![Happy].\n\n[Happy]: https://wpclipart.com/smiley/happy/simple_colors/smiley_face_simple_green_small.png (\"Smiley face\")\n\n\nInline HTML\n-----------\n\nIf markdown is too limiting, you can just insert your own <strike>crazy</strike> HTML. Span-level HTML <u>can *still* use markdown</u>. Block level elements must be separated from text by a blank line and must not have any spaces before the opening and closing HTML.\n\n<div style='font-family: \"Comic Sans MS\", \"Comic Sans\", cursive;'>\nIt is a pity, but markdown does **not** work in here for most markdown parsers.\n[Marked] handles it pretty well.\n</div>\n",
          "filepath": "data/repos/markedjs/marked-1.2/docs/demo/quickref.md",
          "repo": "markedjs/marked",
          "version": "1.2",
          "chunk_index": 0,
          "chunk_id": "8dd2f984-0312-4df3-ade9-f9f9bacd6de0"
        }
      },
      {
        "id": "94663fa8-0c1b-41ec-933c-93f0063b4272",
        "score": 0.015384615384615385,
        "payload": {
          "text": "# Contributing to Marked\n\n- [ ] Fork `markedjs/marked`.\n- [ ] Clone the library locally using GitHub Desktop or the command line.\n- [ ] Make sure you are on the `master` branch.\n- [ ] Be sure to run `npm install` or `npm update`.\n- [ ] Create a branch.\n- [ ] Update code in `src` folder. (`lib` folder is for auto compiled code)\n- [ ] Run `npm run test:all`, fix any broken things (for linting, you can run `npm run lint` to have the linter fix them for you).\n- [ ] Run `npm run build:reset` to remove changes to compiled files.\n- [ ] Submit a Pull Request.\n\n## Design principles\n\nMarked tends to favor following the SOLID set of software design and development principles; mainly the [single responsibility](https://en.wikipedia.org/wiki/Single_responsibility_principle) and [open/closed principles](https://en.wikipedia.org/wiki/Open/closed_principle):\n\n- **Single responsibility:** Marked, and the components of Marked, have the single responsibility of converting Markdown strings into HTML.\n- **Open/closed:** Marked favors giving developers the means to easily extend the library and its components over changing Marked's behavior through configuration options.\n\n## Priorities\n\nWe think we have our priorities sorted to build quality in.\n\nThe following table lists the ticket type labels we use when there is work to be done on the code either through an Issue or a PR; in priority order.\n\n|Ticket type label                  |Description                                                                                                                                                                         |\n|:----------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n|L0 - security                      |A security vulnerability within the Marked library is discovered.                                                                                                                   |\n|L1 - broken                        |Valid usage results in incorrect output compared to [supported specifications](/#specifications) OR causes marked to crash AND there is no known workaround for the issue. |\n|L2 - annoying                      |Similar to L1 - broken only there is a known workaround available for the issue.                                                                                                   |\n|RR - refactor and re-engineer      |Results in an improvement to developers using Marked (improved readability) or end-users (faster performance) or both.                                                              |\n|NFS - new feature (spec related)   |A capability Marked does not currently provide but is in one of the [supported specifications](/#specifications)                                                           |\n|NFU - new feature (user requested) |A capability Marked does not currently provide but has been requested by users of Marked.                                                                                           |\n|NFE - new feature (should be an extension) |A capability Marked does not currently provide and is not part of a spec.                                                                                           |\n\n## Test early, often, and everything\n\nWe try to write test cases to validate output (writing tests based on the [supported specifications](/#specifications)) and minimize regression (writing tests for issues fixed). Therefore, if you would like to contribute, some things you should know regarding the test harness.\n\n|Location              |Description                                                                                                    |\n|:---------------------|:--------------------------------------------------------------------------------------------------------------|\n|/test/specs/commonmark|Tests for [CommonMark](https://spec.commonmark.org/current/) compliance                                        |\n|/test/specs/gfm       |Tests for [GFM](https://github.github.com/gfm/) compliance                                                     |\n|/test/specs/new       |Tests not related to the original `markdown.pl`.                                                               |\n|/test/specs/original  |Tests validating against the original `markdown.pl`.                                                           |\n|/test/specs/redos     |Tests for [ReDOS](https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS) vulnerabilities|\n\nIf your test uses features or options, assuming `gfm` is set to `false`, for example, you can add [front-matter](https://www.npmjs.com/package/front-matter) to the top of\nyour `.md` file\n\n``` yml\n---\ngfm: false\n---\n```\n\n## Submitting PRs and Issues\n\nMarked provides templates for submitting both pull requests and issues. When you begin creating a new PR or issue, you will see instructions on using the template.\n\nThe PR templates include checklists for both the submitter and the reviewer, which, in most cases, will not be the same person.\n\n## Scripts\n\nWhen it comes to NPM commands, we try to use the native scripts provided by the NPM framework.\n\nTo run the tests:\n\n``` bash\nnpm test\n```\n\nTo test whether you are using the standard syntax rules for the project:\n\n```bash\nnpm run test:lint\n```\n\nTo see time comparisons between Marked and other popular Markdown libraries:\n\n```bash\nnpm run bench\n```\n\nTo see the compiled rules from `src/rules.js`:\n\n```bash\nnpm run rules\n```\n\nYou can specify one or more `rule path`s to only show certain rules:\n\n```bash\nnpm run rules -- block.gfm.item inline.pedantic.br\n\n{\n  block: {\n    gfm: {\n      item: /^( *)((?:[*+-]|\\\\d{1,9}\\\\.)) ?[^\\\\n]*(?:\\\\n(?!\\\\1(?:[*+-]|\\\\d{1,9}\\\\.) ?)[^\\\\n]*)*/gm\n    }\n  },\n  inline: {\n    pedantic: {\n      br: /^( {2,}|\\\\\\\\)\\\\n(?!\\\\s*$)/\n    }\n  }\n}\n```\n\nTo check for (and fix) standardized syntax (lint):\n\n```bash\nnpm run lint\n```\n\nTo build your own es5, esm, and minified versions of Marked:\n\n```bash\nnpm run build\n```\n",
          "filepath": "data/repos/markedjs/marked-1.2/docs/CONTRIBUTING.md",
          "repo": "markedjs/marked",
          "version": "1.2",
          "chunk_index": 0,
          "chunk_id": "94663fa8-0c1b-41ec-933c-93f0063b4272"
        }
      }
    ]
  },
  {
    "instance_id": "markedjs__marked-1674",
    "model_patch": "diff --git a/src/Renderer.js b/src/Renderer.js\n--- a/src/Renderer.js\n+++ b/src/Renderer.js\n@@ -1,6 +1,12 @@\n class Renderer {\n   // existing methods...\n\n+  listitem(text, task, checked) {\n+    if (task) {\n+      return '<li class=\"task-list-item\">' + (checked ? '[x] ' : '[ ] ') + text + '</li>\\n';\n+    }\n+    return '<li>' + text + '</li>\\n';\n+  }\n+\n   // other methods...\n }\n \ndiff --git a/src/Parser.js b/src/Parser.js\n--- a/src/Parser.js\n+++ b/src/Parser.js\n@@ -1,6 +1,10 @@\n class Parser {\n   // existing methods...\n\n+  parseListItem(token) {\n+    return this.renderer.listitem(this.parseInline(token.text), token.task, token.checked);\n+  }\n+\n   // other methods...\n }\n \ndiff --git a/src/Tokenizer.js b/src/Tokenizer.js\n--- a/src/Tokenizer.js\n+++ b/src/Tokenizer.js\n@@ -1,6 +1,12 @@\n class Tokenizer {\n   // existing methods...\n\n+  listitem(src) {\n+    const match = this.rules.listitem.exec(src);\n+    if (match) {\n+      return { type: 'listitem', raw: match[0], text: match[1], task: /^\\[[ xX]\\]/.test(match[1]), checked: /^\\[x\\]/i.test(match[1]) };\n+    }\n+  }\n+\n   // other methods...\n }\n \ndiff --git a/test/specs/list-items.md b/test/specs/list-items.md\n--- a/test/specs/list-items.md\n+++ b/test/specs/list-items.md\n@@ -1,3 +1,9 @@\n+## Task List Items\n+\n+- [ ] Incomplete item\n+- [x] Complete item\n+- [ ] \n+\n ## Regular List Items\n \n - Item 1",
    "model_name_or_path": "text_bm25",
    "metrics": {
      "issue_embedding_time_ms": 0.0,
      "retrieval_time_ms_bm25": 24.95,
      "retrieval_time_ms": 24.95,
      "total_retrieval_time_ms": 24.95,
      "generation_time_ms": 7111.27,
      "total_io_time_ms": 7136.22,
      "input_total_token_limit": null,
      "issue_text_tokens": 504,
      "vlm_tokens": 0,
      "retrieved_tokens": 7101,
      "prompt_template_tokens": 512,
      "total_input_prompt_tokens": 8117,
      "output_generated_tokens": 434,
      "total_io_tokens": 8551,
      "input_prompt_text": "[{\"type\": \"text\", \"text\": \"You will be provided with a partial code base and an issue statement explaining a problem to resolve.\\n<issue>\\nCrash when rendering an empty checkbox list item\\n### Describe the bug\\r\\nRendering an empty checkbox list item leads to a crash:\\r\\n> `Uncaught TypeError: Cannot read property 'type' of undefined`\\r\\n\\r\\n### To Reproduce\\r\\n\\r\\n[Click here to see the crash on Marked demo](https://marked.js.org/demo/?text=%20%20-%20%5B%20%5D%20checklist%20item%0A%0A%20%20-%20%5B%20%5D%20&options=%7B%0A%20%22baseUrl%22%3A%20null%2C%0A%20%22breaks%22%3A%20false%2C%0A%20%22gfm%22%3A%20true%2C%0A%20%22headerIds%22%3A%20true%2C%0A%20%22headerPrefix%22%3A%20%22%22%2C%0A%20%22highlight%22%3A%20null%2C%0A%20%22langPrefix%22%3A%20%22language-%22%2C%0A%20%22mangle%22%3A%20true%2C%0A%20%22pedantic%22%3A%20false%2C%0A%20%22sanitize%22%3A%20false%2C%0A%20%22sanitizer%22%3A%20null%2C%0A%20%22silent%22%3A%20false%2C%0A%20%22smartLists%22%3A%20false%2C%0A%20%22smartypants%22%3A%20false%2C%0A%20%22tokenizer%22%3A%20null%2C%0A%20%22xhtml%22%3A%20false%0A%7D&version=master)\\r\\n![image](https://user-images.githubusercontent.com/1694410/81624131-6de74400-93c3-11ea-8eb7-ac3a1145afc4.png)\\r\\n\\r\\n### Expected behavior\\r\\nNo crash and a correctly rendered checkbox.\\r\\n\\n\\n</issue>\\n\\n<code>\\n[start of AUTHORS.md]\\n# Authors\\n\\nMarked takes an encompassing approach to its community. As such, you can think of these as [concentric circles](https://medium.com/the-node-js-collection/healthy-open-source-967fa8be7951), where each group encompasses the following groups.\\n\\n<table>\\n  <tbody>\\n  \\t<tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\" style=\\\"width:32%\\\">\\n        <a href=\\\"https://github.com/chjj\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/chjj.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/chjj\\\">Christopher Jeffrey</a>\\n        <div>Original Author</div>\\n        <small>Started the fire</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\" style=\\\"width:32%\\\">\\n        <a href=\\\"https://github.com/joshbruce\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/joshbruce.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://joshbruce.com\\\">Josh Bruce</a>\\n        <div>Publisher</div>\\n        <small>Release Wrangler; Humaning Helper; Heckler of Hypertext</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\" style=\\\"width:32%\\\">\\n        <a href=\\\"https://github.com/styfle\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/styfle.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://www.ceriously.com\\\">Steven</a>\\n        <div>Publisher</div>\\n        <small>Release Wrangler; Dr. Docs; Open source, of course; GitHub Guru; Humaning Helper</small>\\n      </td>\\n    </tr>\\n  \\t<tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/davisjam\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/davisjam.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/davisjam\\\">Jamie Davis</a>\\n        <div>Committer</div>\\n        <small>Seeker of Security</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/UziTech\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/UziTech.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://tony.brix.ninja\\\">Tony Brix</a>\\n        <div>Publisher</div>\\n        <small>Release Wrangler; Titan of the test harness; Dr. DevOps</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        &nbsp;\\n      </td>\\n    </tr>\\n  </tbody>\\n</table>\\n\\n<table>\\n  <tbody>\\n    <tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/intcreator\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/intcreator.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/intcreator\\\">Brandon der Bl\\u00e4tter</a>\\n        <div>Contributor</div>\\n        <small>Curious Contributor</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/carlosvalle\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/carlosvalle.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/carlosvalle\\\">Carlos Valle</a>\\n        <div>Contributor</div>\\n        <small>Maker of the Marked mark from 2018 to present</small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/Feder1co5oave\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/Feder1co5oave.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/Feder1co5oave\\\">Federico Soave</a>\\n        <div>Contributor</div>\\n        <small>Regent of the Regex; Master of Marked</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/karenyavine\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/karenyavine.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/karenyavine\\\">Karen Yavine</a>\\n        <div>Contributor</div>\\n        <small>Snyk's Security Saint</small>\\n      </td>\\n     </tr>\\n     <tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/KostyaTretyak\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/KostyaTretyak.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/KostyaTretyak\\\">\\u041a\\u043e\\u0441\\u0442\\u044f \\u0422\\u0440\\u0435\\u0442\\u044f\\u043a</a>\\n        <div>Contributor</div>\\n        <small></small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/tomtheisen\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/tomtheisen.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/tomtheisen\\\">Tom Theisen</a>\\n        <div>Contributor</div>\\n        <small>Defibrillator</small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/mccraveiro\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/mccraveiro.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/mccraveiro\\\">Mateus Craveiro</a>\\n        <div>Contributor</div>\\n        <small>Defibrillator</small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n      </td>\\n     </tr>\\n  </tbody>\\n</table>\\n\\n## Publishers\\n\\nPublishers are admins who also have the responsibility, privilege, and burden of publishing the new releases to NPM and performing outreach and external stakeholder communications. Further, when things go pear-shaped, they're the ones taking most of the heat. Finally, when things go well, they're the primary ones praising the contributors who made it possible.\\n\\n(In other words, while Admins are focused primarily on the internal workings of the project, Publishers are focused on internal *and* external concerns.)\\n\\n**Should not exceed 2:** Having more people with the authority to publish a release can quickly turn into a consensus seeking nightmare (design by committee). Having only one is preferred (Directly Responsible Individual); however, given the nature of the project and its history, having an immediate fallback, and a potential deep fallback (Original author) is probably a good idea.\\n\\n[Details on badges](#badges)\\n\\n## Admins\\n\\nAdmins are committers who also have the responsibility, privilege, and burden of selecting committers and making sure the project itself runs smoothly, which includes community maintenance, governance, dispute resolution, and so on. (Letting the contributors easily enter into, and work within, the project to begin contributing, with as little friction as possible.)\\n\\n**Should not exceed 3:** When there are too many people with the ability to resolve disputes, the dispute itself can quickly turn into a dispute amongst the admins themselves; therefore, we want this group to be small enough to commit to action and large enough to not put too much burden on one person. (Should ensure faster resolution and responsiveness.)\\n\\nTo be listed: Admins are usually selected from the pool of committers (or they volunteer, using the same process) who demonstrate good understanding of the marked culture, operations, and do their best to help new contributors get up to speed on how to contribute effectively to the project.\\n\\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\\n\\n[Details on badges](#badges)\\n\\n## Committers\\n\\nCommitters are contributors who also have the responsibility, privilege, some might even say burden of being able to review and merge contributions (just usually not their own).\\n\\nA note on \\\"decision making authority\\\". This is related to submitting PRs and the [advice process](http://www.reinventingorganizationswiki.com/Decision_Making). The person marked as having decision making authority over a certain area should be sought for advice in that area before committing to a course of action.\\n\\n**Should not exceed 5:** For larger PRs affecting more of the codebase and, most likely, review by more people, we try to keep this pool small and responsive and let those with decision making authority have final say without negative repercussions from the other committers.\\n\\nTo be listed: Committers are usually selected (or they volunteer, using the same process) from contributors who enter the discussions regarding the future direction of Marked (maybe even doing informal reviews of contributions despite not being able to merge them yourself).\\n\\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\\n\\nA note on volunteering:\\n\\n1. Please do not volunteer unless you believe you can demonstrate to your peers you can do the work required.\\n2. Please do not overcommit yourself; we count on those committed to the project to be responsive. Really consider, with all you have going on, whether you able to really commit to it.\\n3. Don't let the previous frighten you away, it can always be changed later by you or your peers.\\n\\n[Details on badges](#badges)\\n\\n## Contributors\\n\\nContributors are users who submit a [PR](https://github.com/markedjs/marked/pulls), [Issue](https://github.com/markedjs/marked/issues), or collaborate in making Marked a better product and experience for all the users.\\n\\nTo be listed: make a contribution and, if it has significant impact, the committers may be able to add you here.\\n\\nTo be removed: please let us know or submit a PR.\\n\\n[Details on badges](#badges)\\n\\n## Users\\n\\nUsers are anyone using Marked in some fashion, without them, there's no reason for us to exist.\\n\\n|Individual or Organization |Website                 |Project                              |Submitted by                                        |\\n|:--------------------------|:-----------------------|:------------------------------------|:---------------------------------------------------|\\n|MarkedJS                   |https://marked.js.org   |https://github.com/markedjs/marked   |The marked committers                               |\\n\\nTo be listed: All fields are optional. Contact any of the committers or, more timely, submit a pull request with the following (using the first row as an example):\\n\\n- **Individual or Organization:** The name you would like associated with the record.\\n- **Website:** A URL to a standalone website for the project.\\n- **Project:** A URL for the repository of the project using marked.\\n- **Submitted by:** The name and optional honorifics for the person adding the listing.\\n\\nTo be removed: Same as above. Only instead of requesting addition request deletion or delete the row yourself.\\n\\n<h2 id=\\\"badges\\\">Badges</h2>\\n\\nBadges? You don't *need* no stinkin' badges.\\n\\nMovie references aside. (It was either that or, \\\"Let's play a game\\\", but that would have been creepy&hellip;that's why it will most likely come later.)\\n\\nBadges? If you *want* 'em, we got 'em, and here's how you get 'em (and&hellip;dramatic pause&hellip;why not two dramatic pauses for emphasis?&hellip; how they can be taken away).\\n\\n- [ ] Add the appropriate badge to the desired contributor in the desired column of this page, even if they're not listed here yet.\\n- [ ] Submit a PR (we're big on PRs around here, if you haven't noticed, help us help you).\\n- [ ] Follow the instructions for submitting a badge PR. (There are more details to find within. Come on. Everybody likes surprises, right? No? Actually, we just try to put documentation where it belongs, closer to the code and part of the sequence of events.)\\n\\n### Badges at play:\\n\\n<dl>\\n\\t<dt>Curious Contributor</dt>\\n\\t<dd>A contributor with less than one year on this page who is actively engaged in submitting PRs, Issues, making recommendations, sharing thoughts&hellip;without being too annoying about it (let's be clear, submitting 100 Issues recommending the Marked Committers send everyone candy is trying for the badge, not honestly earning it).</dd>\\n\\t<dt>Dr. DevOps</dt>\\n\\t<dd>\\n\\t\\t<p>Someone who understands and contributes to improving the developer experience and flow of Marked into the world.</p>\\n\\t\\t<blockquote>\\n\\t\\t\\t\\\"The main characteristic of the DevOps movement is to strongly advocate automation and monitoring at all steps of software construction, from integration, testing, releasing to deployment and infrastructure management. DevOps aims at shorter development cycles, increased deployment frequency, more dependable releases, in close alignment with business objectives.\\\" ~ <a href=\\\"https://www.wikipedia.org/wiki/DevOps\\\">Wikipedia</a>\\n\\t\\t</blockquote>\\n\\t</dd>\\n  <dt>Dr. Docs</dt>\\n  <dd>Someone who has contributed a great deal to the creation and maintenance of the non-code areas of marked.</dd>\\n\\t<dt>Eye for the CLI</dt>\\n\\t<dd>At this point? Pretty much anyone who can update that `man` file to the current Marked version without regression in the CLI tool itself.</dd>\\n\\t<dt>GitHub Guru</dt>\\n\\t<dd>Someone who always seems to be able to tell you easier ways to do things with GitHub.</dd>\\n\\t<dt>Humaning Helper</dt>\\n\\t<dd>Someone who goes out of their way to help contributors feel welcomed and valued. Further, someone who takes the extra steps(s) necessary to help new contributors get up to speed. Finally, they maintain composure even in times of disagreement and dispute resolution.</dd>\\n\\t<dt>Heckler of Hypertext</dt>\\n\\t<dd>Someone who demonstrates an esoteric level of knowledge when it comes to HTML. In other words, someone who says things like, \\\"Did you know most Markdown flavors don't have a way to render a description list (`dl`)? All the more reason Markdown `!==` HTML.\\\"</dd>\\n\\t<dt>Markdown Maestro</dt>\\n\\t<dd>You know that person who knows about way too many different flavors of Markdown? The one who maybe seems a little too obsessed with the possibilities of Markdown beyond HTML? Come on. You know who they are. Or, at least you could, if you give them this badge.</dd>\\n\\t<dt>Master of Marked</dt>\\n\\t<dd>Someone who demonstrates they know the ins and outs of the codebase for Marked.</dd>\\n\\t<dt>Open source, of course</dt>\\n\\t<dd>Someone who advocates for and has a proven understanding of how to operate within open source communities.</dd>\\n\\t<dt>Regent of the Regex</dt>\\n\\t<dd><p>Can you demonstrate you understand the following without Google and Stackoverflow?</p>\\n\\t\\t<p><code>/^( *)(bull) [\\\\s\\\\S]+?(?:hr|def|\\\\n{2,}(?! )(?!\\\\1bull )\\\\n*|\\\\s*$)/</code></p>\\n\\t\\t<p>Because this author can't yet. That's who gets these.</p>\\n\\t</dd>\\n\\t<dt>Seeker of Security</dt>\\n\\t<dd>Someone who has demonstrated a high degree of expertise or authority when it comes to software security.</dd>\\n\\t<dt>Titan of the Test Harness</dt>\\n\\t<dd>Someone who demonstrates high-levels of understanding regarding Marked's test harness.</dd>\\n\\t<dt>Totally Tron</dt>\\n\\t<dd>Someone who demonstrates they are willing and able to \\\"fight for the users\\\", both developers dependent on marked to do their jobs as well as end-users interacting with the output (particularly in the realm of those with the disabilities).</dd>\\n</dl>\\n\\n### Special badges that come with the job:\\n\\n<dl>\\n\\t<dt>Defibrillator</dt>\\n\\t<dd>A contributor who stepped up to help bring Marked back to life by contributing solutions to help Marked pass when compared against the CommonMark and GitHub Flavored Markdown specifications.</dd>\\n\\t<dt>Maker of the Marked mark</dt>\\n\\t<dd>This badge is given to the person or organization credited with creating the logo (or logotype) used in Marked communications for a given period of time. **Maker of the Marked mark from 2017 to present**, for example.</dd>\\n\\t<dt>Release Wrangler</dt>\\n\\t<dd>This is a badge given to all Publishers.</dd>\\n\\t<dt>Snyk's Security Saint</dt>\\n\\t<dd>This is a badge given to whomever primarily reaches out from Snyk to let us know about security issues.</dd>\\n</dl>\\n\\n[end of AUTHORS.md]\\n[start of Bug_report.md]\\n---\\nname: Bug report\\nabout: Marked says it does this thing but does not\\n\\n---\\n\\n**Describe the bug**\\nA clear and concise description of what the bug is.\\n\\n**To Reproduce**\\nSteps to reproduce the behavior:\\n\\n<!-- If possible, use the Marked Demo permalink and compare to the CommonMark Dingus permalink to demonstrate the bug -->\\n<!--\\n1. [Marked Demo](https://marked.js.org/demo/)\\n2. [CommonMark Demo](https://spec.commonmark.org/dingus/)\\n-->\\n\\n<!-- If you need a specific version and options to reproduce the bug, use the following template -->\\n<!--\\n1. Install marked `npm install --save marked@0.3.19` with the version you are using\\n2. Run marked with input string and options such as `marked('hello *world*', {gfm: true})`\\n3. Actual output (or error) is...\\n-->\\n\\n**Expected behavior**\\nA clear and concise description of what you expected to happen.\\n\\n[end of Bug_report.md]\\n[start of CONTRIBUTING.md]\\n# Contributing to Marked\\n\\n- [ ] Fork `markedjs/marked`.\\n- [ ] Clone the library locally using GitHub Desktop or the command line.\\n- [ ] Make sure you are on the `master` branch.\\n- [ ] Be sure to run `npm install` or `npm update`.\\n- [ ] Create a branch.\\n- [ ] Update code in `src` folder. (`lib` folder is for auto compiled code)\\n- [ ] Run `npm run test:all`, fix any broken things (for linting, you can run `npm run lint` to have the linter fix them for you).\\n- [ ] Run `npm run build:reset` to remove changes to compiled files.\\n- [ ] Submit a Pull Request.\\n\\n## Design principles\\n\\nMarked tends to favor following the SOLID set of software design and development principles; mainly the [single responsibility](https://en.wikipedia.org/wiki/Single_responsibility_principle) and [open/closed principles](https://en.wikipedia.org/wiki/Open/closed_principle):\\n\\n- **Single responsibility:** Marked, and the components of Marked, have the single responsibility of converting Markdown strings into HTML.\\n- **Open/closed:** Marked favors giving developers the means to easily extend the library and its components over changing Marked's behavior through configuration options.\\n\\n## Priorities\\n\\nWe think we have our priorities sorted to build quality in.\\n\\nThe following table lists the ticket type labels we use when there is work to be done on the code either through an Issue or a PR; in priority order.\\n\\n|Ticket type label                  |Description                                                                                                                                                                         |\\n|:----------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\\n|L0 - security                      |A security vulnerability within the Marked library is discovered.                                                                                                                   |\\n|L1 - broken                        |Valid usage results in incorrect output compared to [supported specifications](#/README.md#specifications) OR causes marked to crash AND there is no known workaround for the issue. |\\n|L2 - annoying                      |Similar to L1 - broken only there is a known workaround available for the issue.                                                                                                   |\\n|RR - refactor and re-engineer      |Results in an improvement to developers using Marked (improved readability) or end-users (faster performance) or both.                                                              |\\n|NFS - new feature (spec related)   |A capability Marked does not currently provide but is in one of the [supported specifications](#/README.md#specifications)                                                           |\\n|NFU - new feature (user requested) |A capability Marked does not currently provide but has been requested by users of Marked.                                                                                           |\\n|NFE - new feature (should be an extension) |A capability Marked does not currently provide and is not part of a spec.                                                                                           |\\n\\n## Test early, often, and everything\\n\\nWe try to write test cases to validate output (writing tests based on the [supported specifications](#/README.md#specifications)) and minimize regression (writing tests for issues fixed). Therefore, if you would like to contribute, some things you should know regarding the test harness.\\n\\n|Location              |Description                                                                                                    |\\n|:---------------------|:--------------------------------------------------------------------------------------------------------------|\\n|/test/specs/commonmark|Tests for [CommonMark](https://spec.commonmark.org/current/) compliance                                        |\\n|/test/specs/gfm       |Tests for [GFM](https://github.github.com/gfm/) compliance                                                     |\\n|/test/specs/new       |Tests not related to the original `markdown.pl`.                                                               |\\n|/test/specs/original  |Tests validating against the original `markdown.pl`.                                                           |\\n|/test/specs/redos     |Tests for [ReDOS](https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS) vulnerabilities|\\n\\nIf your test uses features or options, assuming `gfm` is set to `false`, for example, you can add [front-matter](https://www.npmjs.com/package/front-matter) to the top of\\nyour `.md` file\\n\\n``` yml\\n---\\ngfm: false\\n---\\n```\\n\\n## Submitting PRs and Issues\\n\\nMarked provides templates for submitting both pull requests and issues. When you begin creating a new PR or issue, you will see instructions on using the template.\\n\\nThe PR templates include checklists for both the submitter and the reviewer, which, in most cases, will not be the same person.\\n\\n## Scripts\\n\\nWhen it comes to NPM commands, we try to use the native scripts provided by the NPM framework.\\n\\nTo run the tests:\\n\\n``` bash\\nnpm test\\n```\\n\\nTo test whether you are using the standard syntax rules for the project:\\n\\n```bash\\nnpm run test:lint\\n```\\n\\nTo see time comparisons between Marked and other popular Markdown libraries:\\n\\n```bash\\nnpm run bench\\n```\\n\\nTo check for (and fix) standardized syntax (lint):\\n\\n```bash\\nnpm run lint\\n```\\n\\nTo build your own es5, esm, and minified versions of Marked:\\n\\n```bash\\nnpm run build\\n```\\n\\n[end of CONTRIBUTING.md]\\n[start of initial.md]\\nMarked - Markdown Parser\\n========================\\n\\n[Marked] lets you convert [Markdown] into HTML.  Markdown is a simple text format whose goal is to be very easy to read and write, even when not converted to HTML.  This demo page will let you type anything you like and see how it gets converted.  Live.  No more waiting around.\\n\\nHow To Use The Demo\\n-------------------\\n\\n1. Type in stuff on the left.\\n2. See the live updates on the right.\\n\\nThat's it.  Pretty simple.  There's also a drop-down option in the upper right to switch between various views:\\n\\n- **Preview:**  A live display of the generated HTML as it would render in a browser.\\n- **HTML Source:**  The generated HTML before your browser makes it pretty.\\n- **Lexer Data:**  What [marked] uses internally, in case you like gory stuff like this.\\n- **Quick Reference:**  A brief run-down of how to format things using markdown.\\n\\nWhy Markdown?\\n-------------\\n\\nIt's easy.  It's not overly bloated, unlike HTML.  Also, as the creator of [markdown] says,\\n\\n> The overriding design goal for Markdown's\\n> formatting syntax is to make it as readable\\n> as possible. The idea is that a\\n> Markdown-formatted document should be\\n> publishable as-is, as plain text, without\\n> looking like it's been marked up with tags\\n> or formatting instructions.\\n\\nReady to start writing?  Either start changing stuff on the left or\\n[clear everything](/demo/?text=) with a simple click.\\n\\n[Marked]: https://github.com/markedjs/marked/\\n[Markdown]: http://daringfireball.net/projects/markdown/\\n\\n[end of initial.md]\\n[start of USING_ADVANCED.md]\\n## The `marked` function\\n\\n```js\\nmarked(markdownString [,options] [,callback])\\n```\\n\\n|Argument              |Type         |Notes                                                                                                |\\n|:---------------------|:------------|:----------------------------------------------------------------------------------------------------|\\n|markdownString        |`string`     |String of markdown source to be compiled.                                                            |\\n|<a href=\\\"#options\\\">options</a>|`object`|Hash of options. Can also use `marked.setOptions`.                                                |\\n|callback              |`function`   |Called when `markdownString` has been parsed. Can be used as second argument if no `options` present.|\\n\\n### Alternative using reference\\n\\n```js\\n// Create reference instance\\nconst marked = require('marked');\\n\\n// Set options\\n// `highlight` example uses `highlight.js`\\nmarked.setOptions({\\n  renderer: new marked.Renderer(),\\n  highlight: function(code, language) {\\n    const hljs = require('highlight.js');\\n    const validLanguage = hljs.getLanguage(language) ? language : 'plaintext';\\n    return hljs.highlight(validLanguage, code).value;\\n  },\\n  pedantic: false,\\n  gfm: true,\\n  breaks: false,\\n  sanitize: false,\\n  smartLists: true,\\n  smartypants: false,\\n  xhtml: false\\n});\\n\\n// Compile\\nconsole.log(marked(markdownString));\\n```\\n\\n<h2 id=\\\"options\\\">Options</h2>\\n\\n|Member      |Type      |Default  |Since    |Notes         |\\n|:-----------|:---------|:--------|:--------|:-------------|\\n|baseUrl     |`string`  |`null`   |0.3.9    |A prefix url for any relative link. |\\n|breaks      |`boolean` |`false`  |v0.2.7   |If true, add `<br>` on a single line break (copies GitHub behavior on comments, but not on rendered markdown files). Requires `gfm` be `true`.|\\n|gfm         |`boolean` |`true`   |v0.2.1   |If true, use approved [GitHub Flavored Markdown (GFM) specification](https://github.github.com/gfm/).|\\n|headerIds   |`boolean` |`true`   |v0.4.0   |If true, include an `id` attribute when emitting headings (h1, h2, h3, etc).|\\n|headerPrefix|`string`  |`''`     |v0.3.0   |A string to prefix the `id` attribute when emitting headings (h1, h2, h3, etc).|\\n|highlight   |`function`|`null`   |v0.3.0   |A function to highlight code blocks, see <a href=\\\"#highlight\\\">Asynchronous highlighting</a>.|\\n|langPrefix  |`string`  |`'language-'`|v0.3.0|A string to prefix the className in a `<code>` block. Useful for syntax highlighting.|\\n|mangle      |`boolean` |`true`   |v0.3.4   |If true, autolinked email address is escaped with HTML character references.|\\n|pedantic    |`boolean` |`false`  |v0.2.1   |If true, conform to the original `markdown.pl` as much as possible. Don't fix original markdown bugs or behavior. Turns off and overrides `gfm`.|\\n|renderer    |`object`  |`new Renderer()`|v0.3.0|An object containing functions to render tokens to HTML. See [extensibility](/#/USING_PRO.md) for more details.|\\n|sanitize    |`boolean` |`false`  |v0.2.1   |If true, sanitize the HTML passed into `markdownString` with the `sanitizer` function.<br>**Warning**: This feature is deprecated and it should NOT be used as it cannot be considered secure.<br>Instead use a sanitize library, like [DOMPurify](https://github.com/cure53/DOMPurify) (recommended), [sanitize-html](https://github.com/apostrophecms/sanitize-html) or [insane](https://github.com/bevacqua/insane) on the output HTML! |\\n|sanitizer   |`function`|`null`   |v0.3.4   |A function to sanitize the HTML passed into `markdownString`.|\\n|silent      |`boolean` |`false`  |v0.2.7   |If true, the parser does not throw any exception.|\\n|smartLists  |`boolean` |`false`  |v0.2.8   |If true, use smarter list behavior than those found in `markdown.pl`.|\\n|smartypants |`boolean` |`false`  |v0.2.9   |If true, use \\\"smart\\\" typographic punctuation for things like quotes and dashes.|\\n|xhtml       |`boolean` |`false`  |v0.3.2   |If true, emit self-closing HTML tags for void elements (&lt;br/&gt;, &lt;img/&gt;, etc.) with a \\\"/\\\" as required by XHTML.|\\n\\n<h2 id=\\\"highlight\\\">Asynchronous highlighting</h2>\\n\\nUnlike `highlight.js` the `pygmentize.js` library uses asynchronous highlighting. This example demonstrates that marked is agnostic when it comes to the highlighter you use.\\n\\n```js\\nmarked.setOptions({\\n  highlight: function(code, lang, callback) {\\n    require('pygmentize-bundled') ({ lang: lang, format: 'html' }, code, function (err, result) {\\n      callback(err, result.toString());\\n    });\\n  }\\n});\\n\\nconsole.log(marked(markdownString));\\n```\\n\\nIn both examples, `code` is a `string` representing the section of code to pass to the highlighter. In this example, `lang` is a `string` informing the highlighter what programming language to use for the `code` and `callback` is the `function` the asynchronous highlighter will call once complete.\\n\\n<h2 id=\\\"workers\\\">Workers</h2>\\n\\nTo prevent ReDoS attacks you can run marked on a worker and terminate it when parsing takes longer than usual.\\n\\nMarked can be run in a [worker thread](https://nodejs.org/api/worker_threads.html) on a node server, or a [web worker](https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API) in a browser.\\n\\n### Node Worker Thread\\n\\n```js\\n// markedWorker.js\\n\\nconst marked = require('marked');\\nconst { parentPort } = require('worker_threads');\\n\\nparentPort.on('message', (markdownString) => {\\n  parentPort.postMessage(marked(markdownString));\\n});\\n```\\n\\n```js\\n// index.js\\n\\nconst { Worker } = require('worker_threads');\\nconst markedWorker = new Worker('./markedWorker.js');\\n\\nconst markedTimeout = setTimeout(() => {\\n  markedWorker.terminate();\\n  throw new Error('Marked took too long!');\\n}, timeoutLimit);\\n\\nmarkedWorker.on('message', (html) => {\\n  clearTimeout(markedTimeout);\\n  console.log(html);\\n  markedWorker.terminate();\\n});\\n\\nmarkedWorker.postMessage(markdownString);\\n```\\n\\n### Web Worker\\n\\n> **NOTE**: Web Workers send the payload from `postMessage` in an object with the payload in a `.data` property\\n\\n```js\\n// markedWorker.js\\n\\nimportScripts('path/to/marked.min.js');\\n\\nonmessage = (e) => {\\n  const markdownString = e.data\\n  postMessage(marked(markdownString));\\n};\\n```\\n\\n```js\\n// script.js\\n\\nconst markedWorker = new Worker('./markedWorker.js');\\n\\nconst markedTimeout = setTimeout(() => {\\n  markedWorker.terminate();\\n  throw new Error('Marked took too long!');\\n}, timeoutLimit);\\n\\nmarkedWorker.onmessage = (e) => {\\n  clearTimeout(markedTimeout);\\n  const html = e.data;\\n  console.log(html);\\n  markedWorker.terminate();\\n};\\n\\nmarkedWorker.postMessage(markdownString);\\n```\\n\\n[end of USING_ADVANCED.md]\\n\\n</code>\\n\\nHere is an example of a patch file. It consists of changes to the code base. It specifies the file names, the line numbers of each change, and the removed and added lines. A single patch file can contain changes to multiple files.\\n\\n<patch>\\ndiff --git a/file.py b/file.py\\n--- a/file.py\\n+++ b/file.py\\n@@ -1,27 +1,35 @@\\n def euclidean(a, b):\\n-    while b:\\n-        a, b = b, a % b\\n-    return a\\n+    if b == 0:\\n+        return a\\n+    return euclidean(b, a % b)\\n \\n def bresenham(x0, y0, x1, y1):\\n+    points = []\\n+    dx = abs(x1 - x0)\\n+    dy = abs(y1 - y0)\\n+    sx = 1 if x0 < x1 else -1\\n+    sy = 1 if y0 < y1 else -1\\n+    err = dx - dy\\n+    \\n     while True:\\n-        plot(x0, y0)\\n+        points.append((x0, y0))\\n         if x0 == x1 and y0 == y1:\\n             break\\n-        e2 = 2 * err\\n-        if e2 > -dy:\\n-            err -= dy\\n-            x0 += sx\\n-        if e2 < dx:\\n-            err += dx\\n-            y0 += sy\\n+        e2 = 2 * err\\n+        if e2 > -dy:\\n+            err -= dy\\n+            x0 += sx\\n+        if e2 < dx:\\n+            err += dx\\n+            y0 += sy\\n+    return points\\n+</patch>\\n\\nI need you to solve the provided issue by generating a single patch file that I can apply directly to this repository using git apply. Please respond with a single patch file in the format shown above.\\n\\nRespond below: \\n\"}]",
      "retrieved_file_paths": [
        "AUTHORS.md",
        "Bug_report.md",
        "CONTRIBUTING.md",
        "initial.md",
        "USING_ADVANCED.md"
      ]
    },
    "retrieved_documents": [
      {
        "id": "9eb0d228-4fe4-4173-84f9-57eb4deae9a6",
        "score": 0.01639344262295082,
        "payload": {
          "text": "# Authors\n\nMarked takes an encompassing approach to its community. As such, you can think of these as [concentric circles](https://medium.com/the-node-js-collection/healthy-open-source-967fa8be7951), where each group encompasses the following groups.\n\n<table>\n  <tbody>\n  \t<tr>\n      <td align=\"center\" valign=\"top\" style=\"width:32%\">\n        <a href=\"https://github.com/chjj\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/chjj.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/chjj\">Christopher Jeffrey</a>\n        <div>Original Author</div>\n        <small>Started the fire</small>\n      </td>\n      <td align=\"center\" valign=\"top\" style=\"width:32%\">\n        <a href=\"https://github.com/joshbruce\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/joshbruce.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://joshbruce.com\">Josh Bruce</a>\n        <div>Publisher</div>\n        <small>Release Wrangler; Humaning Helper; Heckler of Hypertext</small>\n      </td>\n      <td align=\"center\" valign=\"top\" style=\"width:32%\">\n        <a href=\"https://github.com/styfle\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/styfle.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://www.ceriously.com\">Steven</a>\n        <div>Publisher</div>\n        <small>Release Wrangler; Dr. Docs; Open source, of course; GitHub Guru; Humaning Helper</small>\n      </td>\n    </tr>\n  \t<tr>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/davisjam\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/davisjam.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/davisjam\">Jamie Davis</a>\n        <div>Committer</div>\n        <small>Seeker of Security</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/UziTech\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/UziTech.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://tony.brix.ninja\">Tony Brix</a>\n        <div>Publisher</div>\n        <small>Release Wrangler; Titan of the test harness; Dr. DevOps</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        &nbsp;\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n<table>\n  <tbody>\n    <tr>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/intcreator\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/intcreator.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/intcreator\">Brandon der Bl\u00e4tter</a>\n        <div>Contributor</div>\n        <small>Curious Contributor</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/carlosvalle\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/carlosvalle.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/carlosvalle\">Carlos Valle</a>\n        <div>Contributor</div>\n        <small>Maker of the Marked mark from 2018 to present</small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n        <a href=\"https://github.com/Feder1co5oave\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/Feder1co5oave.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/Feder1co5oave\">Federico Soave</a>\n        <div>Contributor</div>\n        <small>Regent of the Regex; Master of Marked</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/karenyavine\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/karenyavine.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/karenyavine\">Karen Yavine</a>\n        <div>Contributor</div>\n        <small>Snyk's Security Saint</small>\n      </td>\n     </tr>\n     <tr>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/KostyaTretyak\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/KostyaTretyak.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/KostyaTretyak\">\u041a\u043e\u0441\u0442\u044f \u0422\u0440\u0435\u0442\u044f\u043a</a>\n        <div>Contributor</div>\n        <small></small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n        <a href=\"https://github.com/tomtheisen\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/tomtheisen.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/tomtheisen\">Tom Theisen</a>\n        <div>Contributor</div>\n        <small>Defibrillator</small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n        <a href=\"https://github.com/mccraveiro\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/mccraveiro.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/mccraveiro\">Mateus Craveiro</a>\n        <div>Contributor</div>\n        <small>Defibrillator</small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n      </td>\n     </tr>\n  </tbody>\n</table>\n\n## Publishers\n\nPublishers are admins who also have the responsibility, privilege, and burden of publishing the new releases to NPM and performing outreach and external stakeholder communications. Further, when things go pear-shaped, they're the ones taking most of the heat. Finally, when things go well, they're the primary ones praising the contributors who made it possible.\n\n(In other words, while Admins are focused primarily on the internal workings of the project, Publishers are focused on internal *and* external concerns.)\n\n**Should not exceed 2:** Having more people with the authority to publish a release can quickly turn into a consensus seeking nightmare (design by committee). Having only one is preferred (Directly Responsible Individual); however, given the nature of the project and its history, having an immediate fallback, and a potential deep fallback (Original author) is probably a good idea.\n\n[Details on badges](#badges)\n\n## Admins\n\nAdmins are committers who also have the responsibility, privilege, and burden of selecting committers and making sure the project itself runs smoothly, which includes community maintenance, governance, dispute resolution, and so on. (Letting the contributors easily enter into, and work within, the project to begin contributing, with as little friction as possible.)\n\n**Should not exceed 3:** When there are too many people with the ability to resolve disputes, the dispute itself can quickly turn into a dispute amongst the admins themselves; therefore, we want this group to be small enough to commit to action and large enough to not put too much burden on one person. (Should ensure faster resolution and responsiveness.)\n\nTo be listed: Admins are usually selected from the pool of committers (or they volunteer, using the same process) who demonstrate good understanding of the marked culture, operations, and do their best to help new contributors get up to speed on how to contribute effectively to the project.\n\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\n\n[Details on badges](#badges)\n\n## Committers\n\nCommitters are contributors who also have the responsibility, privilege, some might even say burden of being able to review and merge contributions (just usually not their own).\n\nA note on \"decision making authority\". This is related to submitting PRs and the [advice process](http://www.reinventingorganizationswiki.com/Decision_Making). The person marked as having decision making authority over a certain area should be sought for advice in that area before committing to a course of action.\n\n**Should not exceed 5:** For larger PRs affecting more of the codebase and, most likely, review by more people, we try to keep this pool small and responsive and let those with decision making authority have final say without negative repercussions from the other committers.\n\nTo be listed: Committers are usually selected (or they volunteer, using the same process) from contributors who enter the discussions regarding the future direction of Marked (maybe even doing informal reviews of contributions despite not being able to merge them yourself).\n\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\n\nA note on volunteering:\n\n1. Please do not volunteer unless you believe you can demonstrate to your peers you can do the work required.\n2. Please do not overcommit yourself; we count on those committed to the project to be responsive. Really consider, with all you have going on, whether you able to really commit to it.\n3. Don't let the previous frighten you away, it can always be changed later by you or your peers.\n\n[Details on badges](#badges)\n\n## Contributors\n\nContributors are users who submit a [PR](https://github.com/markedjs/marked/pulls), [Issue](https://github.com/markedjs/marked/issues), or collaborate in making Marked a better product and experience for all the users.\n\nTo be listed: make a contribution and, if it has significant impact, the committers may be able to add you here.\n\nTo be removed: please let us know or submit a PR.\n\n[Details on badges](#badges)\n\n## Users\n\nUsers are anyone using Marked in some fashion, without them, there's no reason for us to exist.\n\n|Individual or Organization |Website                 |Project                              |Submitted by                                        |\n|:--------------------------|:-----------------------|:------------------------------------|:---------------------------------------------------|\n|MarkedJS                   |https://marked.js.org   |https://github.com/markedjs/marked   |The marked committers                               |\n\nTo be listed: All fields are optional. Contact any of the committers or, more timely, submit a pull request with the following (using the first row as an example):\n\n- **Individual or Organization:** The name you would like associated with the record.\n- **Website:** A URL to a standalone website for the project.\n- **Project:** A URL for the repository of the project using marked.\n- **Submitted by:** The name and optional honorifics for the person adding the listing.\n\nTo be removed: Same as above. Only instead of requesting addition request deletion or delete the row yourself.\n\n<h2 id=\"badges\">Badges</h2>\n\nBadges? You don't *need* no stinkin' badges.\n\nMovie references aside. (It was either that or, \"Let's play a game\", but that would have been creepy&hellip;that's why it will most likely come later.)\n\nBadges? If you *want* 'em, we got 'em, and here's how you get 'em (and&hellip;dramatic pause&hellip;why not two dramatic pauses for emphasis?&hellip; how they can be taken away).\n\n- [ ] Add the appropriate badge to the desired contributor in the desired column of this page, even if they're not listed here yet.\n- [ ] Submit a PR (we're big on PRs around here, if you haven't noticed, help us help you).\n- [ ] Follow the instructions for submitting a badge PR. (There are more details to find within. Come on. Everybody likes surprises, right? No? Actually, we just try to put documentation where it belongs, closer to the code and part of the sequence of events.)\n\n### Badges at play:\n\n<dl>\n\t<dt>Curious Contributor</dt>\n\t<dd>A contributor with less than one year on this page who is actively engaged in submitting PRs, Issues, making recommendations, sharing thoughts&hellip;without being too annoying about it (let's be clear, submitting 100 Issues recommending the Marked Committers send everyone candy is trying for the badge, not honestly earning it).</dd>\n\t<dt>Dr. DevOps</dt>\n\t<dd>\n\t\t<p>Someone who understands and contributes to improving the developer experience and flow of Marked into the world.</p>\n\t\t<blockquote>\n\t\t\t\"The main characteristic of the DevOps movement is to strongly advocate automation and monitoring at all steps of software construction, from integration, testing, releasing to deployment and infrastructure management. DevOps aims at shorter development cycles, increased deployment frequency, more dependable releases, in close alignment with business objectives.\" ~ <a href=\"https://www.wikipedia.org/wiki/DevOps\">Wikipedia</a>\n\t\t</blockquote>\n\t</dd>\n  <dt>Dr. Docs</dt>\n  <dd>Someone who has contributed a great deal to the creation and maintenance of the non-code areas of marked.</dd>\n\t<dt>Eye for the CLI</dt>\n\t<dd>At this point? Pretty much anyone who can update that `man` file to the current Marked version without regression in the CLI tool itself.</dd>\n\t<dt>GitHub Guru</dt>\n\t<dd>Someone who always seems to be able to tell you easier ways to do things with GitHub.</dd>\n\t<dt>Humaning Helper</dt>\n\t<dd>Someone who goes out of their way to help contributors feel welcomed and valued. Further, someone who takes the extra steps(s) necessary to help new contributors get up to speed. Finally, they maintain composure even in times of disagreement and dispute resolution.</dd>\n\t<dt>Heckler of Hypertext</dt>\n\t<dd>Someone who demonstrates an esoteric level of knowledge when it comes to HTML. In other words, someone who says things like, \"Did you know most Markdown flavors don't have a way to render a description list (`dl`)? All the more reason Markdown `!==` HTML.\"</dd>\n\t<dt>Markdown Maestro</dt>\n\t<dd>You know that person who knows about way too many different flavors of Markdown? The one who maybe seems a little too obsessed with the possibilities of Markdown beyond HTML? Come on. You know who they are. Or, at least you could, if you give them this badge.</dd>\n\t<dt>Master of Marked</dt>\n\t<dd>Someone who demonstrates they know the ins and outs of the codebase for Marked.</dd>\n\t<dt>Open source, of course</dt>\n\t<dd>Someone who advocates for and has a proven understanding of how to operate within open source communities.</dd>\n\t<dt>Regent of the Regex</dt>\n\t<dd><p>Can you demonstrate you understand the following without Google and Stackoverflow?</p>\n\t\t<p><code>/^( *)(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/</code></p>\n\t\t<p>Because this author can't yet. That's who gets these.</p>\n\t</dd>\n\t<dt>Seeker of Security</dt>\n\t<dd>Someone who has demonstrated a high degree of expertise or authority when it comes to software security.</dd>\n\t<dt>Titan of the Test Harness</dt>\n\t<dd>Someone who demonstrates high-levels of understanding regarding Marked's test harness.</dd>\n\t<dt>Totally Tron</dt>\n\t<dd>Someone who demonstrates they are willing and able to \"fight for the users\", both developers dependent on marked to do their jobs as well as end-users interacting with the output (particularly in the realm of those with the disabilities).</dd>\n</dl>\n\n### Special badges that come with the job:\n\n<dl>\n\t<dt>Defibrillator</dt>\n\t<dd>A contributor who stepped up to help bring Marked back to life by contributing solutions to help Marked pass when compared against the CommonMark and GitHub Flavored Markdown specifications.</dd>\n\t<dt>Maker of the Marked mark</dt>\n\t<dd>This badge is given to the person or organization credited with creating the logo (or logotype) used in Marked communications for a given period of time. **Maker of the Marked mark from 2017 to present**, for example.</dd>\n\t<dt>Release Wrangler</dt>\n\t<dd>This is a badge given to all Publishers.</dd>\n\t<dt>Snyk's Security Saint</dt>\n\t<dd>This is a badge given to whomever primarily reaches out from Snyk to let us know about security issues.</dd>\n</dl>\n",
          "filepath": "data/repos/markedjs/marked-1.0/docs/AUTHORS.md",
          "repo": "markedjs/marked",
          "version": "1.0",
          "chunk_index": 0,
          "chunk_id": "9eb0d228-4fe4-4173-84f9-57eb4deae9a6"
        }
      },
      {
        "id": "a27f234c-270d-48d0-b2fb-0c988b9658e9",
        "score": 0.016129032258064516,
        "payload": {
          "text": "---\nname: Bug report\nabout: Marked says it does this thing but does not\n\n---\n\n**Describe the bug**\nA clear and concise description of what the bug is.\n\n**To Reproduce**\nSteps to reproduce the behavior:\n\n<!-- If possible, use the Marked Demo permalink and compare to the CommonMark Dingus permalink to demonstrate the bug -->\n<!--\n1. [Marked Demo](https://marked.js.org/demo/)\n2. [CommonMark Demo](https://spec.commonmark.org/dingus/)\n-->\n\n<!-- If you need a specific version and options to reproduce the bug, use the following template -->\n<!--\n1. Install marked `npm install --save marked@0.3.19` with the version you are using\n2. Run marked with input string and options such as `marked('hello *world*', {gfm: true})`\n3. Actual output (or error) is...\n-->\n\n**Expected behavior**\nA clear and concise description of what you expected to happen.\n",
          "filepath": "data/repos/markedjs/marked-1.0/.github/ISSUE_TEMPLATE/Bug_report.md",
          "repo": "markedjs/marked",
          "version": "1.0",
          "chunk_index": 0,
          "chunk_id": "a27f234c-270d-48d0-b2fb-0c988b9658e9"
        }
      },
      {
        "id": "48849348-68d5-41f9-9168-6754fef1e9d5",
        "score": 0.015873015873015872,
        "payload": {
          "text": "# Contributing to Marked\n\n- [ ] Fork `markedjs/marked`.\n- [ ] Clone the library locally using GitHub Desktop or the command line.\n- [ ] Make sure you are on the `master` branch.\n- [ ] Be sure to run `npm install` or `npm update`.\n- [ ] Create a branch.\n- [ ] Update code in `src` folder. (`lib` folder is for auto compiled code)\n- [ ] Run `npm run test:all`, fix any broken things (for linting, you can run `npm run lint` to have the linter fix them for you).\n- [ ] Run `npm run build:reset` to remove changes to compiled files.\n- [ ] Submit a Pull Request.\n\n## Design principles\n\nMarked tends to favor following the SOLID set of software design and development principles; mainly the [single responsibility](https://en.wikipedia.org/wiki/Single_responsibility_principle) and [open/closed principles](https://en.wikipedia.org/wiki/Open/closed_principle):\n\n- **Single responsibility:** Marked, and the components of Marked, have the single responsibility of converting Markdown strings into HTML.\n- **Open/closed:** Marked favors giving developers the means to easily extend the library and its components over changing Marked's behavior through configuration options.\n\n## Priorities\n\nWe think we have our priorities sorted to build quality in.\n\nThe following table lists the ticket type labels we use when there is work to be done on the code either through an Issue or a PR; in priority order.\n\n|Ticket type label                  |Description                                                                                                                                                                         |\n|:----------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n|L0 - security                      |A security vulnerability within the Marked library is discovered.                                                                                                                   |\n|L1 - broken                        |Valid usage results in incorrect output compared to [supported specifications](#/README.md#specifications) OR causes marked to crash AND there is no known workaround for the issue. |\n|L2 - annoying                      |Similar to L1 - broken only there is a known workaround available for the issue.                                                                                                   |\n|RR - refactor and re-engineer      |Results in an improvement to developers using Marked (improved readability) or end-users (faster performance) or both.                                                              |\n|NFS - new feature (spec related)   |A capability Marked does not currently provide but is in one of the [supported specifications](#/README.md#specifications)                                                           |\n|NFU - new feature (user requested) |A capability Marked does not currently provide but has been requested by users of Marked.                                                                                           |\n|NFE - new feature (should be an extension) |A capability Marked does not currently provide and is not part of a spec.                                                                                           |\n\n## Test early, often, and everything\n\nWe try to write test cases to validate output (writing tests based on the [supported specifications](#/README.md#specifications)) and minimize regression (writing tests for issues fixed). Therefore, if you would like to contribute, some things you should know regarding the test harness.\n\n|Location              |Description                                                                                                    |\n|:---------------------|:--------------------------------------------------------------------------------------------------------------|\n|/test/specs/commonmark|Tests for [CommonMark](https://spec.commonmark.org/current/) compliance                                        |\n|/test/specs/gfm       |Tests for [GFM](https://github.github.com/gfm/) compliance                                                     |\n|/test/specs/new       |Tests not related to the original `markdown.pl`.                                                               |\n|/test/specs/original  |Tests validating against the original `markdown.pl`.                                                           |\n|/test/specs/redos     |Tests for [ReDOS](https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS) vulnerabilities|\n\nIf your test uses features or options, assuming `gfm` is set to `false`, for example, you can add [front-matter](https://www.npmjs.com/package/front-matter) to the top of\nyour `.md` file\n\n``` yml\n---\ngfm: false\n---\n```\n\n## Submitting PRs and Issues\n\nMarked provides templates for submitting both pull requests and issues. When you begin creating a new PR or issue, you will see instructions on using the template.\n\nThe PR templates include checklists for both the submitter and the reviewer, which, in most cases, will not be the same person.\n\n## Scripts\n\nWhen it comes to NPM commands, we try to use the native scripts provided by the NPM framework.\n\nTo run the tests:\n\n``` bash\nnpm test\n```\n\nTo test whether you are using the standard syntax rules for the project:\n\n```bash\nnpm run test:lint\n```\n\nTo see time comparisons between Marked and other popular Markdown libraries:\n\n```bash\nnpm run bench\n```\n\nTo check for (and fix) standardized syntax (lint):\n\n```bash\nnpm run lint\n```\n\nTo build your own es5, esm, and minified versions of Marked:\n\n```bash\nnpm run build\n```\n",
          "filepath": "data/repos/markedjs/marked-1.0/docs/CONTRIBUTING.md",
          "repo": "markedjs/marked",
          "version": "1.0",
          "chunk_index": 0,
          "chunk_id": "48849348-68d5-41f9-9168-6754fef1e9d5"
        }
      },
      {
        "id": "544ba29f-e938-4e6c-8439-ea918d6c1ec8",
        "score": 0.015625,
        "payload": {
          "text": "Marked - Markdown Parser\n========================\n\n[Marked] lets you convert [Markdown] into HTML.  Markdown is a simple text format whose goal is to be very easy to read and write, even when not converted to HTML.  This demo page will let you type anything you like and see how it gets converted.  Live.  No more waiting around.\n\nHow To Use The Demo\n-------------------\n\n1. Type in stuff on the left.\n2. See the live updates on the right.\n\nThat's it.  Pretty simple.  There's also a drop-down option in the upper right to switch between various views:\n\n- **Preview:**  A live display of the generated HTML as it would render in a browser.\n- **HTML Source:**  The generated HTML before your browser makes it pretty.\n- **Lexer Data:**  What [marked] uses internally, in case you like gory stuff like this.\n- **Quick Reference:**  A brief run-down of how to format things using markdown.\n\nWhy Markdown?\n-------------\n\nIt's easy.  It's not overly bloated, unlike HTML.  Also, as the creator of [markdown] says,\n\n> The overriding design goal for Markdown's\n> formatting syntax is to make it as readable\n> as possible. The idea is that a\n> Markdown-formatted document should be\n> publishable as-is, as plain text, without\n> looking like it's been marked up with tags\n> or formatting instructions.\n\nReady to start writing?  Either start changing stuff on the left or\n[clear everything](/demo/?text=) with a simple click.\n\n[Marked]: https://github.com/markedjs/marked/\n[Markdown]: http://daringfireball.net/projects/markdown/\n",
          "filepath": "data/repos/markedjs/marked-1.0/docs/demo/initial.md",
          "repo": "markedjs/marked",
          "version": "1.0",
          "chunk_index": 0,
          "chunk_id": "544ba29f-e938-4e6c-8439-ea918d6c1ec8"
        }
      },
      {
        "id": "718e5431-cb21-4017-b32b-f8ecdf7eb6b8",
        "score": 0.015384615384615385,
        "payload": {
          "text": "## The `marked` function\n\n```js\nmarked(markdownString [,options] [,callback])\n```\n\n|Argument              |Type         |Notes                                                                                                |\n|:---------------------|:------------|:----------------------------------------------------------------------------------------------------|\n|markdownString        |`string`     |String of markdown source to be compiled.                                                            |\n|<a href=\"#options\">options</a>|`object`|Hash of options. Can also use `marked.setOptions`.                                                |\n|callback              |`function`   |Called when `markdownString` has been parsed. Can be used as second argument if no `options` present.|\n\n### Alternative using reference\n\n```js\n// Create reference instance\nconst marked = require('marked');\n\n// Set options\n// `highlight` example uses `highlight.js`\nmarked.setOptions({\n  renderer: new marked.Renderer(),\n  highlight: function(code, language) {\n    const hljs = require('highlight.js');\n    const validLanguage = hljs.getLanguage(language) ? language : 'plaintext';\n    return hljs.highlight(validLanguage, code).value;\n  },\n  pedantic: false,\n  gfm: true,\n  breaks: false,\n  sanitize: false,\n  smartLists: true,\n  smartypants: false,\n  xhtml: false\n});\n\n// Compile\nconsole.log(marked(markdownString));\n```\n\n<h2 id=\"options\">Options</h2>\n\n|Member      |Type      |Default  |Since    |Notes         |\n|:-----------|:---------|:--------|:--------|:-------------|\n|baseUrl     |`string`  |`null`   |0.3.9    |A prefix url for any relative link. |\n|breaks      |`boolean` |`false`  |v0.2.7   |If true, add `<br>` on a single line break (copies GitHub behavior on comments, but not on rendered markdown files). Requires `gfm` be `true`.|\n|gfm         |`boolean` |`true`   |v0.2.1   |If true, use approved [GitHub Flavored Markdown (GFM) specification](https://github.github.com/gfm/).|\n|headerIds   |`boolean` |`true`   |v0.4.0   |If true, include an `id` attribute when emitting headings (h1, h2, h3, etc).|\n|headerPrefix|`string`  |`''`     |v0.3.0   |A string to prefix the `id` attribute when emitting headings (h1, h2, h3, etc).|\n|highlight   |`function`|`null`   |v0.3.0   |A function to highlight code blocks, see <a href=\"#highlight\">Asynchronous highlighting</a>.|\n|langPrefix  |`string`  |`'language-'`|v0.3.0|A string to prefix the className in a `<code>` block. Useful for syntax highlighting.|\n|mangle      |`boolean` |`true`   |v0.3.4   |If true, autolinked email address is escaped with HTML character references.|\n|pedantic    |`boolean` |`false`  |v0.2.1   |If true, conform to the original `markdown.pl` as much as possible. Don't fix original markdown bugs or behavior. Turns off and overrides `gfm`.|\n|renderer    |`object`  |`new Renderer()`|v0.3.0|An object containing functions to render tokens to HTML. See [extensibility](/#/USING_PRO.md) for more details.|\n|sanitize    |`boolean` |`false`  |v0.2.1   |If true, sanitize the HTML passed into `markdownString` with the `sanitizer` function.<br>**Warning**: This feature is deprecated and it should NOT be used as it cannot be considered secure.<br>Instead use a sanitize library, like [DOMPurify](https://github.com/cure53/DOMPurify) (recommended), [sanitize-html](https://github.com/apostrophecms/sanitize-html) or [insane](https://github.com/bevacqua/insane) on the output HTML! |\n|sanitizer   |`function`|`null`   |v0.3.4   |A function to sanitize the HTML passed into `markdownString`.|\n|silent      |`boolean` |`false`  |v0.2.7   |If true, the parser does not throw any exception.|\n|smartLists  |`boolean` |`false`  |v0.2.8   |If true, use smarter list behavior than those found in `markdown.pl`.|\n|smartypants |`boolean` |`false`  |v0.2.9   |If true, use \"smart\" typographic punctuation for things like quotes and dashes.|\n|xhtml       |`boolean` |`false`  |v0.3.2   |If true, emit self-closing HTML tags for void elements (&lt;br/&gt;, &lt;img/&gt;, etc.) with a \"/\" as required by XHTML.|\n\n<h2 id=\"highlight\">Asynchronous highlighting</h2>\n\nUnlike `highlight.js` the `pygmentize.js` library uses asynchronous highlighting. This example demonstrates that marked is agnostic when it comes to the highlighter you use.\n\n```js\nmarked.setOptions({\n  highlight: function(code, lang, callback) {\n    require('pygmentize-bundled') ({ lang: lang, format: 'html' }, code, function (err, result) {\n      callback(err, result.toString());\n    });\n  }\n});\n\nconsole.log(marked(markdownString));\n```\n\nIn both examples, `code` is a `string` representing the section of code to pass to the highlighter. In this example, `lang` is a `string` informing the highlighter what programming language to use for the `code` and `callback` is the `function` the asynchronous highlighter will call once complete.\n\n<h2 id=\"workers\">Workers</h2>\n\nTo prevent ReDoS attacks you can run marked on a worker and terminate it when parsing takes longer than usual.\n\nMarked can be run in a [worker thread](https://nodejs.org/api/worker_threads.html) on a node server, or a [web worker](https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API) in a browser.\n\n### Node Worker Thread\n\n```js\n// markedWorker.js\n\nconst marked = require('marked');\nconst { parentPort } = require('worker_threads');\n\nparentPort.on('message', (markdownString) => {\n  parentPort.postMessage(marked(markdownString));\n});\n```\n\n```js\n// index.js\n\nconst { Worker } = require('worker_threads');\nconst markedWorker = new Worker('./markedWorker.js');\n\nconst markedTimeout = setTimeout(() => {\n  markedWorker.terminate();\n  throw new Error('Marked took too long!');\n}, timeoutLimit);\n\nmarkedWorker.on('message', (html) => {\n  clearTimeout(markedTimeout);\n  console.log(html);\n  markedWorker.terminate();\n});\n\nmarkedWorker.postMessage(markdownString);\n```\n\n### Web Worker\n\n> **NOTE**: Web Workers send the payload from `postMessage` in an object with the payload in a `.data` property\n\n```js\n// markedWorker.js\n\nimportScripts('path/to/marked.min.js');\n\nonmessage = (e) => {\n  const markdownString = e.data\n  postMessage(marked(markdownString));\n};\n```\n\n```js\n// script.js\n\nconst markedWorker = new Worker('./markedWorker.js');\n\nconst markedTimeout = setTimeout(() => {\n  markedWorker.terminate();\n  throw new Error('Marked took too long!');\n}, timeoutLimit);\n\nmarkedWorker.onmessage = (e) => {\n  clearTimeout(markedTimeout);\n  const html = e.data;\n  console.log(html);\n  markedWorker.terminate();\n};\n\nmarkedWorker.postMessage(markdownString);\n```\n",
          "filepath": "data/repos/markedjs/marked-1.0/docs/USING_ADVANCED.md",
          "repo": "markedjs/marked",
          "version": "1.0",
          "chunk_index": 0,
          "chunk_id": "718e5431-cb21-4017-b32b-f8ecdf7eb6b8"
        }
      }
    ]
  },
  {
    "instance_id": "markedjs__marked-2627",
    "model_patch": "diff --git a/src/Tokenizer.js b/src/Tokenizer.js\nindex 1234567..89abcde 100644\n--- a/src/Tokenizer.js\n+++ b/src/Tokenizer.js\n@@ -100,7 +100,7 @@ class Tokenizer {\n     const cap = this.rules.inline.strong.exec(src);\n     if (cap) {\n       const text = cap[2] || cap[1];\n-      return {\n+      return this.escapedBrackets(text) ? null : {\n         type: 'strong',\n         raw: cap[0],\n         text: text\n@@ -110,6 +110,12 @@ class Tokenizer {\n     }\n   }\n \n+  escapedBrackets(text) {\n+    const openBracket = /\\\\\\[/;\n+    const closeBracket = /\\\\\\]/;\n+    return openBracket.test(text) && closeBracket.test(text);\n+  }\n+\n   // other methods...\n }\n \ndiff --git a/test/specs/strong.test.js b/test/specs/strong.test.js\nnew file mode 100644\n--- /dev/null\n+++ b/test/specs/strong.test.js\n@@ -0,0 +1,10 @@\n+import { marked } from '../../src/marked.js';\n+\n+describe('Strong', () => {\n+  it('should parse strong text with escaped brackets correctly', () => {\n+    const input = '**strong text\\\\[**\\\\]';\n+    const expected = '<p><strong>strong text\\\\[</strong>\\\\]</p>';\n+    const result = marked(input);\n+    expect(result).toBe(expected);\n+  });\n+});",
    "model_name_or_path": "text_bm25",
    "metrics": {
      "issue_embedding_time_ms": 0.0,
      "retrieval_time_ms_bm25": 35.29,
      "retrieval_time_ms": 35.29,
      "total_retrieval_time_ms": 35.29,
      "generation_time_ms": 5969.74,
      "total_io_time_ms": 6005.03,
      "input_total_token_limit": null,
      "issue_text_tokens": 565,
      "vlm_tokens": 0,
      "retrieved_tokens": 7352,
      "prompt_template_tokens": 511,
      "total_input_prompt_tokens": 8428,
      "output_generated_tokens": 426,
      "total_io_tokens": 8854,
      "input_prompt_text": "[{\"type\": \"text\", \"text\": \"You will be provided with a partial code base and an issue statement explaining a problem to resolve.\\n<issue>\\nBroken \\\"Strong\\\" transform\\n**Marked version:** 4.0.1\\r\\n\\r\\n**Describe the bug**\\r\\nif inside bold text from the right border there is an escaped square open bracket and there is a closing brace behind \\\"**\\\", then bold text is not recognized\\r\\n\\r\\n**To Reproduce**\\r\\n\\r\\n1. [Marked Demo](https://marked.js.org/demo/?outputType=html&text=**strong%20text%5C%5B**%5C%5D&options=%7B%0A%20%22baseUrl%22%3A%20null%2C%0A%20%22breaks%22%3A%20true%2C%0A%20%22extensions%22%3A%20null%2C%0A%20%22gfm%22%3A%20true%2C%0A%20%22headerIds%22%3A%20false%2C%0A%20%22headerPrefix%22%3A%20%22%22%2C%0A%20%22highlight%22%3A%20null%2C%0A%20%22langPrefix%22%3A%20%22language-%22%2C%0A%20%22mangle%22%3A%20false%2C%0A%20%22pedantic%22%3A%20false%2C%0A%20%22sanitize%22%3A%20true%2C%0A%20%22sanitizer%22%3A%20null%2C%0A%20%22silent%22%3A%20false%2C%0A%20%22smartLists%22%3A%20true%2C%0A%20%22smartypants%22%3A%20true%2C%0A%20%22tokenizer%22%3A%20null%2C%0A%20%22walkTokens%22%3A%20null%2C%0A%20%22xhtml%22%3A%20true%0A%7D&version=4.0.1)\\r\\n2. [CommonMark Demo](https://spec.commonmark.org/dingus/?text=**strong%20text%5C%5B**%5C%5D)\\r\\n\\r\\n**Expected behavior**\\r\\n![image](https://user-images.githubusercontent.com/8930952/141372010-ef8bf7de-dff7-4c55-94f7-18357e69acf4.png)\\r\\n\\n\\n</issue>\\n\\n<code>\\n[start of AUTHORS.md]\\n# Authors\\n\\nMarked takes an encompassing approach to its community. As such, you can think of these as [concentric circles](https://medium.com/the-node-js-collection/healthy-open-source-967fa8be7951), where each group encompasses the following groups.\\n\\n<table>\\n  <tbody>\\n  \\t<tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\" style=\\\"width:32%\\\">\\n        <a href=\\\"https://github.com/chjj\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/chjj.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/chjj\\\">Christopher Jeffrey</a>\\n        <div>Original Author</div>\\n        <small>Started the fire</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\" style=\\\"width:32%\\\">\\n        <a href=\\\"https://github.com/joshbruce\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/joshbruce.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://joshbruce.com\\\">Josh Bruce</a>\\n        <div>Publisher</div>\\n        <small>Release Wrangler; Humaning Helper; Heckler of Hypertext</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\" style=\\\"width:32%\\\">\\n        <a href=\\\"https://github.com/styfle\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/styfle.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://www.ceriously.com\\\">Steven</a>\\n        <div>Publisher</div>\\n        <small>Release Wrangler; Dr. Docs; Open source, of course; GitHub Guru; Humaning Helper</small>\\n      </td>\\n    </tr>\\n  \\t<tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/davisjam\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/davisjam.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/davisjam\\\">Jamie Davis</a>\\n        <div>Committer</div>\\n        <small>Seeker of Security</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/UziTech\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/UziTech.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://tony.brix.ninja\\\">Tony Brix</a>\\n        <div>Publisher</div>\\n        <small>Release Wrangler; Titan of the test harness; Dr. DevOps</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/calculuschild\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/calculuschild.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/calculuschild\\\">Trevor Buckner</a>\\n        <div>Committer</div>\\n        <small>Master of Marked</small>\\n      </td>\\n    </tr>\\n  </tbody>\\n</table>\\n\\n## Contributors\\n\\n<table>\\n  <tbody>\\n    <tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/intcreator\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/intcreator.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/intcreator\\\">Brandon der Bl\\u00e4tter</a>\\n        <div>Contributor</div>\\n        <small>Curious Contributor</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/carlosvalle\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/carlosvalle.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/carlosvalle\\\">Carlos Valle</a>\\n        <div>Contributor</div>\\n        <small>Maker of the Marked mark from 2018 to present</small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/Feder1co5oave\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/Feder1co5oave.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/Feder1co5oave\\\">Federico Soave</a>\\n        <div>Contributor</div>\\n        <small>Regent of the Regex; Master of Marked</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/karenyavine\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/karenyavine.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/karenyavine\\\">Karen Yavine</a>\\n        <div>Contributor</div>\\n        <small>Snyk's Security Saint</small>\\n      </td>\\n     </tr>\\n     <tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/KostyaTretyak\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/KostyaTretyak.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/KostyaTretyak\\\">\\u041a\\u043e\\u0441\\u0442\\u044f \\u0422\\u0440\\u0435\\u0442\\u044f\\u043a</a>\\n        <div>Contributor</div>\\n        <small></small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/tomtheisen\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/tomtheisen.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/tomtheisen\\\">Tom Theisen</a>\\n        <div>Contributor</div>\\n        <small>Defibrillator</small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/mccraveiro\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/mccraveiro.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/mccraveiro\\\">Mateus Craveiro</a>\\n        <div>Contributor</div>\\n        <small>Defibrillator</small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n      </td>\\n     </tr>\\n  </tbody>\\n</table>\\n\\n## Publishers\\n\\nPublishers are admins who also have the responsibility, privilege, and burden of publishing the new releases to NPM and performing outreach and external stakeholder communications. Further, when things go pear-shaped, they're the ones taking most of the heat. Finally, when things go well, they're the primary ones praising the contributors who made it possible.\\n\\n(In other words, while Admins are focused primarily on the internal workings of the project, Publishers are focused on internal *and* external concerns.)\\n\\n**Should not exceed 2:** Having more people with the authority to publish a release can quickly turn into a consensus seeking nightmare (design by committee). Having only one is preferred (Directly Responsible Individual); however, given the nature of the project and its history, having an immediate fallback, and a potential deep fallback (Original author) is probably a good idea.\\n\\n[Details on badges](#badges)\\n\\n## Admins\\n\\nAdmins are committers who also have the responsibility, privilege, and burden of selecting committers and making sure the project itself runs smoothly, which includes community maintenance, governance, dispute resolution, and so on. (Letting the contributors easily enter into, and work within, the project to begin contributing, with as little friction as possible.)\\n\\n**Should not exceed 3:** When there are too many people with the ability to resolve disputes, the dispute itself can quickly turn into a dispute amongst the admins themselves; therefore, we want this group to be small enough to commit to action and large enough to not put too much burden on one person. (Should ensure faster resolution and responsiveness.)\\n\\nTo be listed: Admins are usually selected from the pool of committers (or they volunteer, using the same process) who demonstrate good understanding of the marked culture, operations, and do their best to help new contributors get up to speed on how to contribute effectively to the project.\\n\\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\\n\\n[Details on badges](#badges)\\n\\n## Committers\\n\\nCommitters are contributors who also have the responsibility, privilege, some might even say burden of being able to review and merge contributions (just usually not their own).\\n\\nA note on \\\"decision making authority\\\". This is related to submitting PRs and the [advice process](http://www.reinventingorganizationswiki.com/Decision_Making). The person marked as having decision making authority over a certain area should be sought for advice in that area before committing to a course of action.\\n\\n**Should not exceed 5:** For larger PRs affecting more of the codebase and, most likely, review by more people, we try to keep this pool small and responsive and let those with decision making authority have final say without negative repercussions from the other committers.\\n\\nTo be listed: Committers are usually selected (or they volunteer, using the same process) from contributors who enter the discussions regarding the future direction of Marked (maybe even doing informal reviews of contributions despite not being able to merge them yourself).\\n\\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\\n\\nA note on volunteering:\\n\\n1. Please do not volunteer unless you believe you can demonstrate to your peers you can do the work required.\\n2. Please do not overcommit yourself; we count on those committed to the project to be responsive. Really consider, with all you have going on, whether you able to really commit to it.\\n3. Don't let the previous frighten you away, it can always be changed later by you or your peers.\\n\\n[Details on badges](#badges)\\n\\n## Contributors\\n\\nContributors are users who submit a [PR](https://github.com/markedjs/marked/pulls), [Issue](https://github.com/markedjs/marked/issues), or collaborate in making Marked a better product and experience for all the users.\\n\\nTo be listed: make a contribution and, if it has significant impact, the committers may be able to add you here.\\n\\nTo be removed: please let us know or submit a PR.\\n\\n[Details on badges](#badges)\\n\\n## Users\\n\\nUsers are anyone using Marked in some fashion, without them, there's no reason for us to exist.\\n\\n|Individual or Organization |Website                 |Project                              |Submitted by                                        |\\n|:--------------------------|:-----------------------|:------------------------------------|:---------------------------------------------------|\\n|MarkedJS                   |https://marked.js.org   |https://github.com/markedjs/marked   |The marked committers                               |\\n|Altilunium                 |https://md.altilunium.my.id|https://github.com/altilunium/md  |Altilunium                                          |\\n\\nTo be listed: All fields are optional. Contact any of the committers or, more timely, submit a pull request with the following (using the first row as an example):\\n\\n- **Individual or Organization:** The name you would like associated with the record.\\n- **Website:** A URL to a standalone website for the project.\\n- **Project:** A URL for the repository of the project using marked.\\n- **Submitted by:** The name and optional honorifics for the person adding the listing.\\n\\nTo be removed: Same as above. Only instead of requesting addition request deletion or delete the row yourself.\\n\\n<h2 id=\\\"badges\\\">Badges</h2>\\n\\nBadges? You don't *need* no stinkin' badges.\\n\\nMovie references aside. (It was either that or, \\\"Let's play a game\\\", but that would have been creepy&hellip;that's why it will most likely come later.)\\n\\nBadges? If you *want* 'em, we got 'em, and here's how you get 'em (and&hellip;dramatic pause&hellip;why not two dramatic pauses for emphasis?&hellip; how they can be taken away).\\n\\n- [ ] Add the appropriate badge to the desired contributor in the desired column of this page, even if they're not listed here yet.\\n- [ ] Submit a PR (we're big on PRs around here, if you haven't noticed, help us help you).\\n- [ ] Follow the instructions for submitting a badge PR. (There are more details to find within. Come on. Everybody likes surprises, right? No? Actually, we just try to put documentation where it belongs, closer to the code and part of the sequence of events.)\\n\\n### Badges at play:\\n\\n<dl>\\n\\t<dt>Curious Contributor</dt>\\n\\t<dd>A contributor with less than one year on this page who is actively engaged in submitting PRs, Issues, making recommendations, sharing thoughts&hellip;without being too annoying about it (let's be clear, submitting 100 Issues recommending the Marked Committers send everyone candy is trying for the badge, not honestly earning it).</dd>\\n\\t<dt>Dr. DevOps</dt>\\n\\t<dd>\\n\\t\\t<p>Someone who understands and contributes to improving the developer experience and flow of Marked into the world.</p>\\n\\t\\t<blockquote>\\n\\t\\t\\t\\\"The main characteristic of the DevOps movement is to strongly advocate automation and monitoring at all steps of software construction, from integration, testing, releasing to deployment and infrastructure management. DevOps aims at shorter development cycles, increased deployment frequency, more dependable releases, in close alignment with business objectives.\\\" ~ <a href=\\\"https://www.wikipedia.org/wiki/DevOps\\\">Wikipedia</a>\\n\\t\\t</blockquote>\\n\\t</dd>\\n  <dt>Dr. Docs</dt>\\n  <dd>Someone who has contributed a great deal to the creation and maintenance of the non-code areas of marked.</dd>\\n\\t<dt>Eye for the CLI</dt>\\n\\t<dd>At this point? Pretty much anyone who can update that `man` file to the current Marked version without regression in the CLI tool itself.</dd>\\n\\t<dt>GitHub Guru</dt>\\n\\t<dd>Someone who always seems to be able to tell you easier ways to do things with GitHub.</dd>\\n\\t<dt>Humaning Helper</dt>\\n\\t<dd>Someone who goes out of their way to help contributors feel welcomed and valued. Further, someone who takes the extra steps(s) necessary to help new contributors get up to speed. Finally, they maintain composure even in times of disagreement and dispute resolution.</dd>\\n\\t<dt>Heckler of Hypertext</dt>\\n\\t<dd>Someone who demonstrates an esoteric level of knowledge when it comes to HTML. In other words, someone who says things like, \\\"Did you know most Markdown flavors don't have a way to render a description list (`dl`)? All the more reason Markdown `!==` HTML.\\\"</dd>\\n\\t<dt>Markdown Maestro</dt>\\n\\t<dd>You know that person who knows about way too many different flavors of Markdown? The one who maybe seems a little too obsessed with the possibilities of Markdown beyond HTML? Come on. You know who they are. Or, at least you could, if you give them this badge.</dd>\\n\\t<dt>Master of Marked</dt>\\n\\t<dd>Someone who demonstrates they know the ins and outs of the codebase for Marked.</dd>\\n\\t<dt>Open source, of course</dt>\\n\\t<dd>Someone who advocates for and has a proven understanding of how to operate within open source communities.</dd>\\n\\t<dt>Regent of the Regex</dt>\\n\\t<dd><p>Can you demonstrate you understand the following without Google and Stackoverflow?</p>\\n\\t\\t<p><code>/^( *)(bull) [\\\\s\\\\S]+?(?:hr|def|\\\\n{2,}(?! )(?!\\\\1bull )\\\\n*|\\\\s*$)/</code></p>\\n\\t\\t<p>Because this author can't yet. That's who gets these.</p>\\n\\t</dd>\\n\\t<dt>Seeker of Security</dt>\\n\\t<dd>Someone who has demonstrated a high degree of expertise or authority when it comes to software security.</dd>\\n\\t<dt>Titan of the Test Harness</dt>\\n\\t<dd>Someone who demonstrates high-levels of understanding regarding Marked's test harness.</dd>\\n\\t<dt>Totally Tron</dt>\\n\\t<dd>Someone who demonstrates they are willing and able to \\\"fight for the users\\\", both developers dependent on marked to do their jobs as well as end-users interacting with the output (particularly in the realm of those with the disabilities).</dd>\\n</dl>\\n\\n### Special badges that come with the job:\\n\\n<dl>\\n\\t<dt>Defibrillator</dt>\\n\\t<dd>A contributor who stepped up to help bring Marked back to life by contributing solutions to help Marked pass when compared against the CommonMark and GitHub Flavored Markdown specifications.</dd>\\n\\t<dt>Maker of the Marked mark</dt>\\n\\t<dd>This badge is given to the person or organization credited with creating the logo (or logotype) used in Marked communications for a given period of time. **Maker of the Marked mark from 2017 to present**, for example.</dd>\\n\\t<dt>Release Wrangler</dt>\\n\\t<dd>This is a badge given to all Publishers.</dd>\\n\\t<dt>Snyk's Security Saint</dt>\\n\\t<dd>This is a badge given to whomever primarily reaches out from Snyk to let us know about security issues.</dd>\\n</dl>\\n\\n[end of AUTHORS.md]\\n[start of Bug_report.md]\\n---\\nname: Bug report\\nabout: Marked says it does this thing but does not\\n\\n---\\n**Marked version:**\\n\\n**Describe the bug**\\nA clear and concise description of what the bug is.\\n\\n**To Reproduce**\\nSteps to reproduce the behavior:\\n\\n<!-- If possible, use the Marked Demo permalink and compare to the CommonMark Dingus permalink to demonstrate the bug -->\\n<!--\\n1. [Marked Demo](https://marked.js.org/demo/)\\n2. [CommonMark Demo](https://spec.commonmark.org/dingus/)\\n-->\\n\\n<!-- If you need a specific version and options to reproduce the bug, use the following template -->\\n<!--\\n1. Install marked `npm install --save marked@0.3.19` with the version you are using\\n2. Run marked with input string and options such as `marked('hello *world*', {gfm: true})`\\n3. Actual output (or error) is...\\n-->\\n\\n**Expected behavior**\\nA clear and concise description of what you expected to happen.\\n\\n[end of Bug_report.md]\\n[start of INDEX.md]\\nMarked is\\n\\n1. built for speed.<sup>*</sup>\\n2. a low-level markdown compiler for parsing markdown without caching or blocking for long periods of time.<sup>**</sup>\\n3. light-weight while implementing all markdown features from the supported flavors & specifications.<sup>***</sup>\\n4. available as a command line interface (CLI) and running in client- or server-side JavaScript projects.\\n\\n<p><small><sup>*</sup> Still working on metrics for comparative analysis and definition.</small><br>\\n<small><sup>**</sup> As few dependencies as possible.</small><br>\\n<small><sup>***</sup> Strict compliance could result in slower processing when running comparative benchmarking.</small></p>\\n\\n\\n<h2 id=\\\"demo\\\">Demo</h2>\\n\\nCheckout the [demo page](./demo/) to see marked in action \\u26f9\\ufe0f\\n\\nThese documentation pages are also rendered using marked \\ud83d\\udcaf\\n\\n\\n<h2 id=\\\"installation\\\">Installation</h2>\\n\\n**CLI:** `npm install -g marked`\\n\\n**In-browser:** `npm install marked`\\n\\n<h2 id=\\\"usage\\\">Usage</h2>\\n\\n### Warning: \\ud83d\\udea8 Marked does not [sanitize](/using_advanced#options) the output HTML. If you are processing potentially unsafe strings, it's important to filter for possible XSS attacks. Some filtering options include [DOMPurify](https://github.com/cure53/DOMPurify) (recommended), [js-xss](https://github.com/leizongmin/js-xss), [sanitize-html](https://github.com/apostrophecms/sanitize-html) and [insane](https://github.com/bevacqua/insane) on the *output* HTML! \\ud83d\\udea8\\n\\n```\\nDOMPurify.sanitize(marked.parse(`<img src=\\\"x\\\" onerror=\\\"alert('not happening')\\\">`));\\n```\\n\\n**CLI**\\n\\n``` bash\\n# Example with stdin input\\n$ marked -o hello.html\\nhello world\\n^D\\n$ cat hello.html\\n<p>hello world</p>\\n```\\n\\n``` bash\\n# Example with string input\\n$ marked -s \\\"*hello world*\\\"\\n<p><em>hello world</em></p>\\n```\\n\\n```bash\\n# Example with file input\\n\\necho \\\"**bold text example**\\\" > readme.md\\n\\n$ marked -i readme.md -o readme.html\\n$ cat readme.html\\n<p><strong>bold text example</strong></p>\\n```\\n\\n```bash\\n# Print all options\\n$ marked --help\\n```\\n\\n**Browser**\\n\\n```html\\n<!doctype html>\\n<html>\\n<head>\\n  <meta charset=\\\"utf-8\\\"/>\\n  <title>Marked in the browser</title>\\n</head>\\n<body>\\n  <div id=\\\"content\\\"></div>\\n  <script src=\\\"https://cdn.jsdelivr.net/npm/marked/marked.min.js\\\"></script>\\n  <script>\\n    document.getElementById('content').innerHTML =\\n      marked.parse('# Marked in browser\\\\n\\\\nRendered by **marked**.');\\n  </script>\\n</body>\\n</html>\\n```\\n\\n**Node.js**\\n\\n```js\\nimport { marked } from 'marked';\\n// or const { marked } = require('marked');\\n\\nconst html = marked.parse('# Marked in Node.js\\\\n\\\\nRendered by **marked**.');\\n```\\n\\n\\nMarked offers [advanced configurations](/using_advanced) and [extensibility](/using_pro) as well.\\n\\n<h2 id=\\\"specifications\\\">Supported Markdown specifications</h2>\\n\\nWe actively support the features of the following [Markdown flavors](https://github.com/commonmark/CommonMark/wiki/Markdown-Flavors).\\n\\n| Flavor                                                     | Version | Status                                                             |\\n| :--------------------------------------------------------- | :------ | :----------------------------------------------------------------- |\\n| The original markdown.pl                                   | --      |                                                                    |\\n| [CommonMark](http://spec.commonmark.org/0.30/)             | 0.30    | [Work in progress](https://github.com/markedjs/marked/issues/1202) |\\n| [GitHub Flavored Markdown](https://github.github.com/gfm/) | 0.29    | [Work in progress](https://github.com/markedjs/marked/issues/1202) |\\n\\nBy supporting the above Markdown flavors, it's possible that Marked can help you use other flavors as well; however, these are not actively supported by the community.\\n\\n<h2 id=\\\"security\\\">Security</h2>\\n\\nThe only completely secure system is the one that doesn't exist in the first place. Having said that, we take the security of Marked very seriously.\\n\\nTherefore, please disclose potential security issues by email to the project [committers](/authors) as well as the [listed owners within NPM](https://docs.npmjs.com/cli/owner). We will provide an initial assessment of security reports within 48 hours and should apply patches within 2 weeks (also, feel free to contribute a fix for the issue).\\n\\n[end of INDEX.md]\\n[start of ISSUE_TEMPLATE.md]\\n**Marked version:**\\n\\n**Markdown flavor:** Markdown.pl|CommonMark|GitHub Flavored Markdown|n/a\\n\\n<!-- The NPM version or commit hash having the issue -->\\n\\n<!--\\n\\n\\tIf submitting something other than a defect with Marked itself, please use the following:\\n\\n**Proposal type:** new feature | project operations | other\\n\\n## What pain point are you perceiving?\\n\\n## What solution are you suggesting?\\n\\n-->\\n\\n## Expectation\\n\\n**CommonMark Demo:** [demo](https://spec.commonmark.org/dingus/)\\n<!-- You can replace the link above with a permalink from: https://spec.commonmark.org/dingus/ -->\\n\\n<!-- Describe the output you are expecting from marked -->\\n\\n## Result\\n\\n**Marked Demo:** [demo](https://marked.js.org/demo/)\\n<!-- You can replace the link above with a permalink from: https://marked.js.org/demo/ -->\\n\\n<!-- Describe the output you received from marked -->\\n\\n## What was attempted\\n\\n<!-- Describe what code combination got you there -->\\n\\n<!--\\n\\tIf error is thrown add the following:\\n\\n## Call stack & console log\\n\\n-->\\n\\n[end of ISSUE_TEMPLATE.md]\\n[start of USING_ADVANCED.md]\\n## The `parse` function\\n\\n```js\\nimport { marked } from 'marked';\\nmarked.parse(markdownString [,options] [,callback])\\n```\\n\\n|Argument              |Type         |Notes                                                                                                |\\n|:---------------------|:------------|:----------------------------------------------------------------------------------------------------|\\n|markdownString        |`string`     |String of markdown source to be compiled.                                                            |\\n|<a href=\\\"#options\\\">options</a>|`object`|Hash of options. Can also use `marked.setOptions`.                                                |\\n|callback              |`function`   |Called when `markdownString` has been parsed. Can be used as second argument if no `options` present.|\\n\\n### Alternative using reference\\n\\n```js\\n// Create reference instance\\nimport { marked } from 'marked';\\n\\n// Set options\\n// `highlight` example uses https://highlightjs.org\\nmarked.setOptions({\\n  renderer: new marked.Renderer(),\\n  highlight: function(code, lang) {\\n    const hljs = require('highlight.js');\\n    const language = hljs.getLanguage(lang) ? lang : 'plaintext';\\n    return hljs.highlight(code, { language }).value;\\n  },\\n  langPrefix: 'hljs language-', // highlight.js css expects a top-level 'hljs' class.\\n  pedantic: false,\\n  gfm: true,\\n  breaks: false,\\n  sanitize: false,\\n  smartLists: true,\\n  smartypants: false,\\n  xhtml: false\\n});\\n\\n// Compile\\nconsole.log(marked.parse(markdownString));\\n```\\n\\n<h2 id=\\\"options\\\">Options</h2>\\n\\n|Member      |Type      |Default  |Since    |Notes         |\\n|:-----------|:---------|:--------|:--------|:-------------|\\n|async       |`boolean` |`false`  |4.1.0    |If true, `walkTokens` functions can be async and `marked.parse` will return a promise that resolves when all walk tokens functions resolve.|\\n|baseUrl     |`string`  |`null`   |0.3.9    |A prefix url for any relative link. |\\n|breaks      |`boolean` |`false`  |v0.2.7   |If true, add `<br>` on a single line break (copies GitHub behavior on comments, but not on rendered markdown files). Requires `gfm` be `true`.|\\n|gfm         |`boolean` |`true`   |v0.2.1   |If true, use approved [GitHub Flavored Markdown (GFM) specification](https://github.github.com/gfm/).|\\n|headerIds   |`boolean` |`true`   |v0.4.0   |If true, include an `id` attribute when emitting headings (h1, h2, h3, etc).|\\n|headerPrefix|`string`  |`''`     |v0.3.0   |A string to prefix the `id` attribute when emitting headings (h1, h2, h3, etc).|\\n|highlight   |`function`|`null`   |v0.3.0   |A function to highlight code blocks, see <a href=\\\"#highlight\\\">Asynchronous highlighting</a>.|\\n|langPrefix  |`string`  |`'language-'`|v0.3.0|A string to prefix the className in a `<code>` block. Useful for syntax highlighting.|\\n|mangle      |`boolean` |`true`   |v0.3.4   |If true, autolinked email address is escaped with HTML character references.|\\n|pedantic    |`boolean` |`false`  |v0.2.1   |If true, conform to the original `markdown.pl` as much as possible. Don't fix original markdown bugs or behavior. Turns off and overrides `gfm`.|\\n|renderer    |`object`  |`new Renderer()`|v0.3.0|An object containing functions to render tokens to HTML. See [extensibility](/using_pro) for more details.|\\n|sanitize    |`boolean` |`false`  |v0.2.1   |If true, sanitize the HTML passed into `markdownString` with the `sanitizer` function.<br>**Warning**: This feature is deprecated and it should NOT be used as it cannot be considered secure.<br>Instead use a sanitize library, like [DOMPurify](https://github.com/cure53/DOMPurify) (recommended), [sanitize-html](https://github.com/apostrophecms/sanitize-html) or [insane](https://github.com/bevacqua/insane) on the output HTML! |\\n|sanitizer   |`function`|`null`   |v0.3.4   |A function to sanitize the HTML passed into `markdownString`.|\\n|silent      |`boolean` |`false`  |v0.2.7   |If true, the parser does not throw any exception.|\\n|smartLists  |`boolean` |`false`  |v0.2.8   |If true, use smarter list behavior than those found in `markdown.pl`.|\\n|smartypants |`boolean` |`false`  |v0.2.9   |If true, use \\\"smart\\\" typographic punctuation for things like quotes and dashes.|\\n|tokenizer    |`object`  |`new Tokenizer()`|v1.0.0|An object containing functions to create tokens from markdown. See [extensibility](/using_pro) for more details.|\\n|walkTokens   |`function`  |`null`|v1.1.0|A function which is called for every token. See [extensibility](/using_pro) for more details.|\\n|xhtml       |`boolean` |`false`  |v0.3.2   |If true, emit self-closing HTML tags for void elements (&lt;br/&gt;, &lt;img/&gt;, etc.) with a \\\"/\\\" as required by XHTML.|\\n\\n<h2 id=\\\"inline\\\">Inline Markdown</h2>\\n\\nYou can parse inline markdown by running markdown through `marked.parseInline`.\\n\\n```js\\nconst blockHtml = marked.parse('**strong** _em_');\\nconsole.log(blockHtml); // '<p><strong>strong</strong> <em>em</em></p>'\\n\\nconst inlineHtml = marked.parseInline('**strong** _em_');\\nconsole.log(inlineHtml); // '<strong>strong</strong> <em>em</em>'\\n```\\n\\n<h2 id=\\\"highlight\\\">Asynchronous highlighting</h2>\\n\\nUnlike `highlight.js` the `pygmentize.js` library uses asynchronous highlighting. This example demonstrates that marked is agnostic when it comes to the highlighter you use.\\n\\n```js\\nmarked.setOptions({\\n  highlight: function(code, lang, callback) {\\n    require('pygmentize-bundled') ({ lang: lang, format: 'html' }, code, function (err, result) {\\n      callback(err, result.toString());\\n    });\\n  }\\n});\\n\\nmarked.parse(markdownString, (err, html) => {\\n  console.log(html);\\n});\\n```\\n\\nIn both examples, `code` is a `string` representing the section of code to pass to the highlighter. In this example, `lang` is a `string` informing the highlighter what programming language to use for the `code` and `callback` is the `function` the asynchronous highlighter will call once complete.\\n\\n<h2 id=\\\"workers\\\">Workers</h2>\\n\\nTo prevent ReDoS attacks you can run marked on a worker and terminate it when parsing takes longer than usual.\\n\\nMarked can be run in a [worker thread](https://nodejs.org/api/worker_threads.html) on a node server, or a [web worker](https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API) in a browser.\\n\\n### Node Worker Thread\\n\\n```js\\n// markedWorker.js\\n\\nimport { marked } from 'marked';\\nimport { parentPort } from 'worker_threads';\\n\\nparentPort.on('message', (markdownString) => {\\n  parentPort.postMessage(marked.parse(markdownString));\\n});\\n```\\n\\n```js\\n// index.js\\n\\nimport { Worker } from 'worker_threads';\\nconst markedWorker = new Worker('./markedWorker.js');\\n\\nconst markedTimeout = setTimeout(() => {\\n  markedWorker.terminate();\\n  throw new Error('Marked took too long!');\\n}, timeoutLimit);\\n\\nmarkedWorker.on('message', (html) => {\\n  clearTimeout(markedTimeout);\\n  console.log(html);\\n  markedWorker.terminate();\\n});\\n\\nmarkedWorker.postMessage(markdownString);\\n```\\n\\n### Web Worker\\n\\n> **NOTE**: Web Workers send the payload from `postMessage` in an object with the payload in a `.data` property\\n\\n```js\\n// markedWorker.js\\n\\nimportScripts('path/to/marked.min.js');\\n\\nonmessage = (e) => {\\n  const markdownString = e.data\\n  postMessage(marked.parse(markdownString));\\n};\\n```\\n\\n```js\\n// script.js\\n\\nconst markedWorker = new Worker('./markedWorker.js');\\n\\nconst markedTimeout = setTimeout(() => {\\n  markedWorker.terminate();\\n  throw new Error('Marked took too long!');\\n}, timeoutLimit);\\n\\nmarkedWorker.onmessage = (e) => {\\n  clearTimeout(markedTimeout);\\n  const html = e.data;\\n  console.log(html);\\n  markedWorker.terminate();\\n};\\n\\nmarkedWorker.postMessage(markdownString);\\n```\\n\\n[end of USING_ADVANCED.md]\\n\\n</code>\\n\\nHere is an example of a patch file. It consists of changes to the code base. It specifies the file names, the line numbers of each change, and the removed and added lines. A single patch file can contain changes to multiple files.\\n\\n<patch>\\ndiff --git a/file.py b/file.py\\n--- a/file.py\\n+++ b/file.py\\n@@ -1,27 +1,35 @@\\n def euclidean(a, b):\\n-    while b:\\n-        a, b = b, a % b\\n-    return a\\n+    if b == 0:\\n+        return a\\n+    return euclidean(b, a % b)\\n \\n def bresenham(x0, y0, x1, y1):\\n+    points = []\\n+    dx = abs(x1 - x0)\\n+    dy = abs(y1 - y0)\\n+    sx = 1 if x0 < x1 else -1\\n+    sy = 1 if y0 < y1 else -1\\n+    err = dx - dy\\n+    \\n     while True:\\n-        plot(x0, y0)\\n+        points.append((x0, y0))\\n         if x0 == x1 and y0 == y1:\\n             break\\n-        e2 = 2 * err\\n-        if e2 > -dy:\\n-            err -= dy\\n-            x0 += sx\\n-        if e2 < dx:\\n-            err += dx\\n-            y0 += sy\\n+        e2 = 2 * err\\n+        if e2 > -dy:\\n+            err -= dy\\n+            x0 += sx\\n+        if e2 < dx:\\n+            err += dx\\n+            y0 += sy\\n+    return points\\n+</patch>\\n\\nI need you to solve the provided issue by generating a single patch file that I can apply directly to this repository using git apply. Please respond with a single patch file in the format shown above.\\n\\nRespond below: \\n\"}]",
      "retrieved_file_paths": [
        "AUTHORS.md",
        "Bug_report.md",
        "INDEX.md",
        "ISSUE_TEMPLATE.md",
        "USING_ADVANCED.md"
      ]
    },
    "retrieved_documents": [
      {
        "id": "13d23617-6e66-4a91-bce1-d30deb223daa",
        "score": 0.01639344262295082,
        "payload": {
          "text": "# Authors\n\nMarked takes an encompassing approach to its community. As such, you can think of these as [concentric circles](https://medium.com/the-node-js-collection/healthy-open-source-967fa8be7951), where each group encompasses the following groups.\n\n<table>\n  <tbody>\n  \t<tr>\n      <td align=\"center\" valign=\"top\" style=\"width:32%\">\n        <a href=\"https://github.com/chjj\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/chjj.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/chjj\">Christopher Jeffrey</a>\n        <div>Original Author</div>\n        <small>Started the fire</small>\n      </td>\n      <td align=\"center\" valign=\"top\" style=\"width:32%\">\n        <a href=\"https://github.com/joshbruce\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/joshbruce.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://joshbruce.com\">Josh Bruce</a>\n        <div>Publisher</div>\n        <small>Release Wrangler; Humaning Helper; Heckler of Hypertext</small>\n      </td>\n      <td align=\"center\" valign=\"top\" style=\"width:32%\">\n        <a href=\"https://github.com/styfle\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/styfle.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://www.ceriously.com\">Steven</a>\n        <div>Publisher</div>\n        <small>Release Wrangler; Dr. Docs; Open source, of course; GitHub Guru; Humaning Helper</small>\n      </td>\n    </tr>\n  \t<tr>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/davisjam\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/davisjam.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/davisjam\">Jamie Davis</a>\n        <div>Committer</div>\n        <small>Seeker of Security</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/UziTech\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/UziTech.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://tony.brix.ninja\">Tony Brix</a>\n        <div>Publisher</div>\n        <small>Release Wrangler; Titan of the test harness; Dr. DevOps</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/calculuschild\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/calculuschild.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/calculuschild\">Trevor Buckner</a>\n        <div>Committer</div>\n        <small>Master of Marked</small>\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n## Contributors\n\n<table>\n  <tbody>\n    <tr>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/intcreator\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/intcreator.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/intcreator\">Brandon der Bl\u00e4tter</a>\n        <div>Contributor</div>\n        <small>Curious Contributor</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/carlosvalle\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/carlosvalle.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/carlosvalle\">Carlos Valle</a>\n        <div>Contributor</div>\n        <small>Maker of the Marked mark from 2018 to present</small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n        <a href=\"https://github.com/Feder1co5oave\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/Feder1co5oave.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/Feder1co5oave\">Federico Soave</a>\n        <div>Contributor</div>\n        <small>Regent of the Regex; Master of Marked</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/karenyavine\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/karenyavine.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/karenyavine\">Karen Yavine</a>\n        <div>Contributor</div>\n        <small>Snyk's Security Saint</small>\n      </td>\n     </tr>\n     <tr>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/KostyaTretyak\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/KostyaTretyak.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/KostyaTretyak\">\u041a\u043e\u0441\u0442\u044f \u0422\u0440\u0435\u0442\u044f\u043a</a>\n        <div>Contributor</div>\n        <small></small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n        <a href=\"https://github.com/tomtheisen\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/tomtheisen.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/tomtheisen\">Tom Theisen</a>\n        <div>Contributor</div>\n        <small>Defibrillator</small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n        <a href=\"https://github.com/mccraveiro\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/mccraveiro.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/mccraveiro\">Mateus Craveiro</a>\n        <div>Contributor</div>\n        <small>Defibrillator</small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n      </td>\n     </tr>\n  </tbody>\n</table>\n\n## Publishers\n\nPublishers are admins who also have the responsibility, privilege, and burden of publishing the new releases to NPM and performing outreach and external stakeholder communications. Further, when things go pear-shaped, they're the ones taking most of the heat. Finally, when things go well, they're the primary ones praising the contributors who made it possible.\n\n(In other words, while Admins are focused primarily on the internal workings of the project, Publishers are focused on internal *and* external concerns.)\n\n**Should not exceed 2:** Having more people with the authority to publish a release can quickly turn into a consensus seeking nightmare (design by committee). Having only one is preferred (Directly Responsible Individual); however, given the nature of the project and its history, having an immediate fallback, and a potential deep fallback (Original author) is probably a good idea.\n\n[Details on badges](#badges)\n\n## Admins\n\nAdmins are committers who also have the responsibility, privilege, and burden of selecting committers and making sure the project itself runs smoothly, which includes community maintenance, governance, dispute resolution, and so on. (Letting the contributors easily enter into, and work within, the project to begin contributing, with as little friction as possible.)\n\n**Should not exceed 3:** When there are too many people with the ability to resolve disputes, the dispute itself can quickly turn into a dispute amongst the admins themselves; therefore, we want this group to be small enough to commit to action and large enough to not put too much burden on one person. (Should ensure faster resolution and responsiveness.)\n\nTo be listed: Admins are usually selected from the pool of committers (or they volunteer, using the same process) who demonstrate good understanding of the marked culture, operations, and do their best to help new contributors get up to speed on how to contribute effectively to the project.\n\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\n\n[Details on badges](#badges)\n\n## Committers\n\nCommitters are contributors who also have the responsibility, privilege, some might even say burden of being able to review and merge contributions (just usually not their own).\n\nA note on \"decision making authority\". This is related to submitting PRs and the [advice process](http://www.reinventingorganizationswiki.com/Decision_Making). The person marked as having decision making authority over a certain area should be sought for advice in that area before committing to a course of action.\n\n**Should not exceed 5:** For larger PRs affecting more of the codebase and, most likely, review by more people, we try to keep this pool small and responsive and let those with decision making authority have final say without negative repercussions from the other committers.\n\nTo be listed: Committers are usually selected (or they volunteer, using the same process) from contributors who enter the discussions regarding the future direction of Marked (maybe even doing informal reviews of contributions despite not being able to merge them yourself).\n\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\n\nA note on volunteering:\n\n1. Please do not volunteer unless you believe you can demonstrate to your peers you can do the work required.\n2. Please do not overcommit yourself; we count on those committed to the project to be responsive. Really consider, with all you have going on, whether you able to really commit to it.\n3. Don't let the previous frighten you away, it can always be changed later by you or your peers.\n\n[Details on badges](#badges)\n\n## Contributors\n\nContributors are users who submit a [PR](https://github.com/markedjs/marked/pulls), [Issue](https://github.com/markedjs/marked/issues), or collaborate in making Marked a better product and experience for all the users.\n\nTo be listed: make a contribution and, if it has significant impact, the committers may be able to add you here.\n\nTo be removed: please let us know or submit a PR.\n\n[Details on badges](#badges)\n\n## Users\n\nUsers are anyone using Marked in some fashion, without them, there's no reason for us to exist.\n\n|Individual or Organization |Website                 |Project                              |Submitted by                                        |\n|:--------------------------|:-----------------------|:------------------------------------|:---------------------------------------------------|\n|MarkedJS                   |https://marked.js.org   |https://github.com/markedjs/marked   |The marked committers                               |\n|Altilunium                 |https://md.altilunium.my.id|https://github.com/altilunium/md  |Altilunium                                          |\n\nTo be listed: All fields are optional. Contact any of the committers or, more timely, submit a pull request with the following (using the first row as an example):\n\n- **Individual or Organization:** The name you would like associated with the record.\n- **Website:** A URL to a standalone website for the project.\n- **Project:** A URL for the repository of the project using marked.\n- **Submitted by:** The name and optional honorifics for the person adding the listing.\n\nTo be removed: Same as above. Only instead of requesting addition request deletion or delete the row yourself.\n\n<h2 id=\"badges\">Badges</h2>\n\nBadges? You don't *need* no stinkin' badges.\n\nMovie references aside. (It was either that or, \"Let's play a game\", but that would have been creepy&hellip;that's why it will most likely come later.)\n\nBadges? If you *want* 'em, we got 'em, and here's how you get 'em (and&hellip;dramatic pause&hellip;why not two dramatic pauses for emphasis?&hellip; how they can be taken away).\n\n- [ ] Add the appropriate badge to the desired contributor in the desired column of this page, even if they're not listed here yet.\n- [ ] Submit a PR (we're big on PRs around here, if you haven't noticed, help us help you).\n- [ ] Follow the instructions for submitting a badge PR. (There are more details to find within. Come on. Everybody likes surprises, right? No? Actually, we just try to put documentation where it belongs, closer to the code and part of the sequence of events.)\n\n### Badges at play:\n\n<dl>\n\t<dt>Curious Contributor</dt>\n\t<dd>A contributor with less than one year on this page who is actively engaged in submitting PRs, Issues, making recommendations, sharing thoughts&hellip;without being too annoying about it (let's be clear, submitting 100 Issues recommending the Marked Committers send everyone candy is trying for the badge, not honestly earning it).</dd>\n\t<dt>Dr. DevOps</dt>\n\t<dd>\n\t\t<p>Someone who understands and contributes to improving the developer experience and flow of Marked into the world.</p>\n\t\t<blockquote>\n\t\t\t\"The main characteristic of the DevOps movement is to strongly advocate automation and monitoring at all steps of software construction, from integration, testing, releasing to deployment and infrastructure management. DevOps aims at shorter development cycles, increased deployment frequency, more dependable releases, in close alignment with business objectives.\" ~ <a href=\"https://www.wikipedia.org/wiki/DevOps\">Wikipedia</a>\n\t\t</blockquote>\n\t</dd>\n  <dt>Dr. Docs</dt>\n  <dd>Someone who has contributed a great deal to the creation and maintenance of the non-code areas of marked.</dd>\n\t<dt>Eye for the CLI</dt>\n\t<dd>At this point? Pretty much anyone who can update that `man` file to the current Marked version without regression in the CLI tool itself.</dd>\n\t<dt>GitHub Guru</dt>\n\t<dd>Someone who always seems to be able to tell you easier ways to do things with GitHub.</dd>\n\t<dt>Humaning Helper</dt>\n\t<dd>Someone who goes out of their way to help contributors feel welcomed and valued. Further, someone who takes the extra steps(s) necessary to help new contributors get up to speed. Finally, they maintain composure even in times of disagreement and dispute resolution.</dd>\n\t<dt>Heckler of Hypertext</dt>\n\t<dd>Someone who demonstrates an esoteric level of knowledge when it comes to HTML. In other words, someone who says things like, \"Did you know most Markdown flavors don't have a way to render a description list (`dl`)? All the more reason Markdown `!==` HTML.\"</dd>\n\t<dt>Markdown Maestro</dt>\n\t<dd>You know that person who knows about way too many different flavors of Markdown? The one who maybe seems a little too obsessed with the possibilities of Markdown beyond HTML? Come on. You know who they are. Or, at least you could, if you give them this badge.</dd>\n\t<dt>Master of Marked</dt>\n\t<dd>Someone who demonstrates they know the ins and outs of the codebase for Marked.</dd>\n\t<dt>Open source, of course</dt>\n\t<dd>Someone who advocates for and has a proven understanding of how to operate within open source communities.</dd>\n\t<dt>Regent of the Regex</dt>\n\t<dd><p>Can you demonstrate you understand the following without Google and Stackoverflow?</p>\n\t\t<p><code>/^( *)(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/</code></p>\n\t\t<p>Because this author can't yet. That's who gets these.</p>\n\t</dd>\n\t<dt>Seeker of Security</dt>\n\t<dd>Someone who has demonstrated a high degree of expertise or authority when it comes to software security.</dd>\n\t<dt>Titan of the Test Harness</dt>\n\t<dd>Someone who demonstrates high-levels of understanding regarding Marked's test harness.</dd>\n\t<dt>Totally Tron</dt>\n\t<dd>Someone who demonstrates they are willing and able to \"fight for the users\", both developers dependent on marked to do their jobs as well as end-users interacting with the output (particularly in the realm of those with the disabilities).</dd>\n</dl>\n\n### Special badges that come with the job:\n\n<dl>\n\t<dt>Defibrillator</dt>\n\t<dd>A contributor who stepped up to help bring Marked back to life by contributing solutions to help Marked pass when compared against the CommonMark and GitHub Flavored Markdown specifications.</dd>\n\t<dt>Maker of the Marked mark</dt>\n\t<dd>This badge is given to the person or organization credited with creating the logo (or logotype) used in Marked communications for a given period of time. **Maker of the Marked mark from 2017 to present**, for example.</dd>\n\t<dt>Release Wrangler</dt>\n\t<dd>This is a badge given to all Publishers.</dd>\n\t<dt>Snyk's Security Saint</dt>\n\t<dd>This is a badge given to whomever primarily reaches out from Snyk to let us know about security issues.</dd>\n</dl>\n",
          "filepath": "data/repos/markedjs/marked-4.1/docs/AUTHORS.md",
          "repo": "markedjs/marked",
          "version": "4.1",
          "chunk_index": 0,
          "chunk_id": "13d23617-6e66-4a91-bce1-d30deb223daa"
        }
      },
      {
        "id": "e249b6c5-ca31-4ba8-b158-4175608652a3",
        "score": 0.016129032258064516,
        "payload": {
          "text": "---\nname: Bug report\nabout: Marked says it does this thing but does not\n\n---\n**Marked version:**\n\n**Describe the bug**\nA clear and concise description of what the bug is.\n\n**To Reproduce**\nSteps to reproduce the behavior:\n\n<!-- If possible, use the Marked Demo permalink and compare to the CommonMark Dingus permalink to demonstrate the bug -->\n<!--\n1. [Marked Demo](https://marked.js.org/demo/)\n2. [CommonMark Demo](https://spec.commonmark.org/dingus/)\n-->\n\n<!-- If you need a specific version and options to reproduce the bug, use the following template -->\n<!--\n1. Install marked `npm install --save marked@0.3.19` with the version you are using\n2. Run marked with input string and options such as `marked('hello *world*', {gfm: true})`\n3. Actual output (or error) is...\n-->\n\n**Expected behavior**\nA clear and concise description of what you expected to happen.\n",
          "filepath": "data/repos/markedjs/marked-4.1/.github/ISSUE_TEMPLATE/Bug_report.md",
          "repo": "markedjs/marked",
          "version": "4.1",
          "chunk_index": 0,
          "chunk_id": "e249b6c5-ca31-4ba8-b158-4175608652a3"
        }
      },
      {
        "id": "6e76da3a-2819-45dc-8aa1-3c02ea9dd444",
        "score": 0.015873015873015872,
        "payload": {
          "text": "Marked is\n\n1. built for speed.<sup>*</sup>\n2. a low-level markdown compiler for parsing markdown without caching or blocking for long periods of time.<sup>**</sup>\n3. light-weight while implementing all markdown features from the supported flavors & specifications.<sup>***</sup>\n4. available as a command line interface (CLI) and running in client- or server-side JavaScript projects.\n\n<p><small><sup>*</sup> Still working on metrics for comparative analysis and definition.</small><br>\n<small><sup>**</sup> As few dependencies as possible.</small><br>\n<small><sup>***</sup> Strict compliance could result in slower processing when running comparative benchmarking.</small></p>\n\n\n<h2 id=\"demo\">Demo</h2>\n\nCheckout the [demo page](./demo/) to see marked in action \u26f9\ufe0f\n\nThese documentation pages are also rendered using marked \ud83d\udcaf\n\n\n<h2 id=\"installation\">Installation</h2>\n\n**CLI:** `npm install -g marked`\n\n**In-browser:** `npm install marked`\n\n<h2 id=\"usage\">Usage</h2>\n\n### Warning: \ud83d\udea8 Marked does not [sanitize](/using_advanced#options) the output HTML. If you are processing potentially unsafe strings, it's important to filter for possible XSS attacks. Some filtering options include [DOMPurify](https://github.com/cure53/DOMPurify) (recommended), [js-xss](https://github.com/leizongmin/js-xss), [sanitize-html](https://github.com/apostrophecms/sanitize-html) and [insane](https://github.com/bevacqua/insane) on the *output* HTML! \ud83d\udea8\n\n```\nDOMPurify.sanitize(marked.parse(`<img src=\"x\" onerror=\"alert('not happening')\">`));\n```\n\n**CLI**\n\n``` bash\n# Example with stdin input\n$ marked -o hello.html\nhello world\n^D\n$ cat hello.html\n<p>hello world</p>\n```\n\n``` bash\n# Example with string input\n$ marked -s \"*hello world*\"\n<p><em>hello world</em></p>\n```\n\n```bash\n# Example with file input\n\necho \"**bold text example**\" > readme.md\n\n$ marked -i readme.md -o readme.html\n$ cat readme.html\n<p><strong>bold text example</strong></p>\n```\n\n```bash\n# Print all options\n$ marked --help\n```\n\n**Browser**\n\n```html\n<!doctype html>\n<html>\n<head>\n  <meta charset=\"utf-8\"/>\n  <title>Marked in the browser</title>\n</head>\n<body>\n  <div id=\"content\"></div>\n  <script src=\"https://cdn.jsdelivr.net/npm/marked/marked.min.js\"></script>\n  <script>\n    document.getElementById('content').innerHTML =\n      marked.parse('# Marked in browser\\n\\nRendered by **marked**.');\n  </script>\n</body>\n</html>\n```\n\n**Node.js**\n\n```js\nimport { marked } from 'marked';\n// or const { marked } = require('marked');\n\nconst html = marked.parse('# Marked in Node.js\\n\\nRendered by **marked**.');\n```\n\n\nMarked offers [advanced configurations](/using_advanced) and [extensibility](/using_pro) as well.\n\n<h2 id=\"specifications\">Supported Markdown specifications</h2>\n\nWe actively support the features of the following [Markdown flavors](https://github.com/commonmark/CommonMark/wiki/Markdown-Flavors).\n\n| Flavor                                                     | Version | Status                                                             |\n| :--------------------------------------------------------- | :------ | :----------------------------------------------------------------- |\n| The original markdown.pl                                   | --      |                                                                    |\n| [CommonMark](http://spec.commonmark.org/0.30/)             | 0.30    | [Work in progress](https://github.com/markedjs/marked/issues/1202) |\n| [GitHub Flavored Markdown](https://github.github.com/gfm/) | 0.29    | [Work in progress](https://github.com/markedjs/marked/issues/1202) |\n\nBy supporting the above Markdown flavors, it's possible that Marked can help you use other flavors as well; however, these are not actively supported by the community.\n\n<h2 id=\"security\">Security</h2>\n\nThe only completely secure system is the one that doesn't exist in the first place. Having said that, we take the security of Marked very seriously.\n\nTherefore, please disclose potential security issues by email to the project [committers](/authors) as well as the [listed owners within NPM](https://docs.npmjs.com/cli/owner). We will provide an initial assessment of security reports within 48 hours and should apply patches within 2 weeks (also, feel free to contribute a fix for the issue).\n",
          "filepath": "data/repos/markedjs/marked-4.1/docs/INDEX.md",
          "repo": "markedjs/marked",
          "version": "4.1",
          "chunk_index": 0,
          "chunk_id": "6e76da3a-2819-45dc-8aa1-3c02ea9dd444"
        }
      },
      {
        "id": "5d3853e4-8e20-4a55-9863-aea1320d62a9",
        "score": 0.015625,
        "payload": {
          "text": "**Marked version:**\n\n**Markdown flavor:** Markdown.pl|CommonMark|GitHub Flavored Markdown|n/a\n\n<!-- The NPM version or commit hash having the issue -->\n\n<!--\n\n\tIf submitting something other than a defect with Marked itself, please use the following:\n\n**Proposal type:** new feature | project operations | other\n\n## What pain point are you perceiving?\n\n## What solution are you suggesting?\n\n-->\n\n## Expectation\n\n**CommonMark Demo:** [demo](https://spec.commonmark.org/dingus/)\n<!-- You can replace the link above with a permalink from: https://spec.commonmark.org/dingus/ -->\n\n<!-- Describe the output you are expecting from marked -->\n\n## Result\n\n**Marked Demo:** [demo](https://marked.js.org/demo/)\n<!-- You can replace the link above with a permalink from: https://marked.js.org/demo/ -->\n\n<!-- Describe the output you received from marked -->\n\n## What was attempted\n\n<!-- Describe what code combination got you there -->\n\n<!--\n\tIf error is thrown add the following:\n\n## Call stack & console log\n\n-->\n",
          "filepath": "data/repos/markedjs/marked-4.1/.github/ISSUE_TEMPLATE.md",
          "repo": "markedjs/marked",
          "version": "4.1",
          "chunk_index": 0,
          "chunk_id": "5d3853e4-8e20-4a55-9863-aea1320d62a9"
        }
      },
      {
        "id": "e31ac99a-a7d2-4701-8468-8e4abaad2045",
        "score": 0.015384615384615385,
        "payload": {
          "text": "## The `parse` function\n\n```js\nimport { marked } from 'marked';\nmarked.parse(markdownString [,options] [,callback])\n```\n\n|Argument              |Type         |Notes                                                                                                |\n|:---------------------|:------------|:----------------------------------------------------------------------------------------------------|\n|markdownString        |`string`     |String of markdown source to be compiled.                                                            |\n|<a href=\"#options\">options</a>|`object`|Hash of options. Can also use `marked.setOptions`.                                                |\n|callback              |`function`   |Called when `markdownString` has been parsed. Can be used as second argument if no `options` present.|\n\n### Alternative using reference\n\n```js\n// Create reference instance\nimport { marked } from 'marked';\n\n// Set options\n// `highlight` example uses https://highlightjs.org\nmarked.setOptions({\n  renderer: new marked.Renderer(),\n  highlight: function(code, lang) {\n    const hljs = require('highlight.js');\n    const language = hljs.getLanguage(lang) ? lang : 'plaintext';\n    return hljs.highlight(code, { language }).value;\n  },\n  langPrefix: 'hljs language-', // highlight.js css expects a top-level 'hljs' class.\n  pedantic: false,\n  gfm: true,\n  breaks: false,\n  sanitize: false,\n  smartLists: true,\n  smartypants: false,\n  xhtml: false\n});\n\n// Compile\nconsole.log(marked.parse(markdownString));\n```\n\n<h2 id=\"options\">Options</h2>\n\n|Member      |Type      |Default  |Since    |Notes         |\n|:-----------|:---------|:--------|:--------|:-------------|\n|async       |`boolean` |`false`  |4.1.0    |If true, `walkTokens` functions can be async and `marked.parse` will return a promise that resolves when all walk tokens functions resolve.|\n|baseUrl     |`string`  |`null`   |0.3.9    |A prefix url for any relative link. |\n|breaks      |`boolean` |`false`  |v0.2.7   |If true, add `<br>` on a single line break (copies GitHub behavior on comments, but not on rendered markdown files). Requires `gfm` be `true`.|\n|gfm         |`boolean` |`true`   |v0.2.1   |If true, use approved [GitHub Flavored Markdown (GFM) specification](https://github.github.com/gfm/).|\n|headerIds   |`boolean` |`true`   |v0.4.0   |If true, include an `id` attribute when emitting headings (h1, h2, h3, etc).|\n|headerPrefix|`string`  |`''`     |v0.3.0   |A string to prefix the `id` attribute when emitting headings (h1, h2, h3, etc).|\n|highlight   |`function`|`null`   |v0.3.0   |A function to highlight code blocks, see <a href=\"#highlight\">Asynchronous highlighting</a>.|\n|langPrefix  |`string`  |`'language-'`|v0.3.0|A string to prefix the className in a `<code>` block. Useful for syntax highlighting.|\n|mangle      |`boolean` |`true`   |v0.3.4   |If true, autolinked email address is escaped with HTML character references.|\n|pedantic    |`boolean` |`false`  |v0.2.1   |If true, conform to the original `markdown.pl` as much as possible. Don't fix original markdown bugs or behavior. Turns off and overrides `gfm`.|\n|renderer    |`object`  |`new Renderer()`|v0.3.0|An object containing functions to render tokens to HTML. See [extensibility](/using_pro) for more details.|\n|sanitize    |`boolean` |`false`  |v0.2.1   |If true, sanitize the HTML passed into `markdownString` with the `sanitizer` function.<br>**Warning**: This feature is deprecated and it should NOT be used as it cannot be considered secure.<br>Instead use a sanitize library, like [DOMPurify](https://github.com/cure53/DOMPurify) (recommended), [sanitize-html](https://github.com/apostrophecms/sanitize-html) or [insane](https://github.com/bevacqua/insane) on the output HTML! |\n|sanitizer   |`function`|`null`   |v0.3.4   |A function to sanitize the HTML passed into `markdownString`.|\n|silent      |`boolean` |`false`  |v0.2.7   |If true, the parser does not throw any exception.|\n|smartLists  |`boolean` |`false`  |v0.2.8   |If true, use smarter list behavior than those found in `markdown.pl`.|\n|smartypants |`boolean` |`false`  |v0.2.9   |If true, use \"smart\" typographic punctuation for things like quotes and dashes.|\n|tokenizer    |`object`  |`new Tokenizer()`|v1.0.0|An object containing functions to create tokens from markdown. See [extensibility](/using_pro) for more details.|\n|walkTokens   |`function`  |`null`|v1.1.0|A function which is called for every token. See [extensibility](/using_pro) for more details.|\n|xhtml       |`boolean` |`false`  |v0.3.2   |If true, emit self-closing HTML tags for void elements (&lt;br/&gt;, &lt;img/&gt;, etc.) with a \"/\" as required by XHTML.|\n\n<h2 id=\"inline\">Inline Markdown</h2>\n\nYou can parse inline markdown by running markdown through `marked.parseInline`.\n\n```js\nconst blockHtml = marked.parse('**strong** _em_');\nconsole.log(blockHtml); // '<p><strong>strong</strong> <em>em</em></p>'\n\nconst inlineHtml = marked.parseInline('**strong** _em_');\nconsole.log(inlineHtml); // '<strong>strong</strong> <em>em</em>'\n```\n\n<h2 id=\"highlight\">Asynchronous highlighting</h2>\n\nUnlike `highlight.js` the `pygmentize.js` library uses asynchronous highlighting. This example demonstrates that marked is agnostic when it comes to the highlighter you use.\n\n```js\nmarked.setOptions({\n  highlight: function(code, lang, callback) {\n    require('pygmentize-bundled') ({ lang: lang, format: 'html' }, code, function (err, result) {\n      callback(err, result.toString());\n    });\n  }\n});\n\nmarked.parse(markdownString, (err, html) => {\n  console.log(html);\n});\n```\n\nIn both examples, `code` is a `string` representing the section of code to pass to the highlighter. In this example, `lang` is a `string` informing the highlighter what programming language to use for the `code` and `callback` is the `function` the asynchronous highlighter will call once complete.\n\n<h2 id=\"workers\">Workers</h2>\n\nTo prevent ReDoS attacks you can run marked on a worker and terminate it when parsing takes longer than usual.\n\nMarked can be run in a [worker thread](https://nodejs.org/api/worker_threads.html) on a node server, or a [web worker](https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API) in a browser.\n\n### Node Worker Thread\n\n```js\n// markedWorker.js\n\nimport { marked } from 'marked';\nimport { parentPort } from 'worker_threads';\n\nparentPort.on('message', (markdownString) => {\n  parentPort.postMessage(marked.parse(markdownString));\n});\n```\n\n```js\n// index.js\n\nimport { Worker } from 'worker_threads';\nconst markedWorker = new Worker('./markedWorker.js');\n\nconst markedTimeout = setTimeout(() => {\n  markedWorker.terminate();\n  throw new Error('Marked took too long!');\n}, timeoutLimit);\n\nmarkedWorker.on('message', (html) => {\n  clearTimeout(markedTimeout);\n  console.log(html);\n  markedWorker.terminate();\n});\n\nmarkedWorker.postMessage(markdownString);\n```\n\n### Web Worker\n\n> **NOTE**: Web Workers send the payload from `postMessage` in an object with the payload in a `.data` property\n\n```js\n// markedWorker.js\n\nimportScripts('path/to/marked.min.js');\n\nonmessage = (e) => {\n  const markdownString = e.data\n  postMessage(marked.parse(markdownString));\n};\n```\n\n```js\n// script.js\n\nconst markedWorker = new Worker('./markedWorker.js');\n\nconst markedTimeout = setTimeout(() => {\n  markedWorker.terminate();\n  throw new Error('Marked took too long!');\n}, timeoutLimit);\n\nmarkedWorker.onmessage = (e) => {\n  clearTimeout(markedTimeout);\n  const html = e.data;\n  console.log(html);\n  markedWorker.terminate();\n};\n\nmarkedWorker.postMessage(markdownString);\n```\n",
          "filepath": "data/repos/markedjs/marked-4.1/docs/USING_ADVANCED.md",
          "repo": "markedjs/marked",
          "version": "4.1",
          "chunk_index": 0,
          "chunk_id": "e31ac99a-a7d2-4701-8468-8e4abaad2045"
        }
      }
    ]
  },
  {
    "instance_id": "processing__p5.js-3709",
    "model_patch": "diff --git a/src/webgl/p5.RendererGL.js b/src/webgl/p5.RendererGL.js\nindex 1234567..89abcde 100644\n--- a/src/webgl/p5.RendererGL.js\n+++ b/src/webgl/p5.RendererGL.js\n@@ -1,5 +1,6 @@\n 'use strict';\n \n+var p5 = require('../core/main');\n var constants = require('../core/constants');\n \n /**\n@@ -200,6 +201,28 @@ p5.RendererGL.prototype._initContext = function() {\n   this._setDefaultCamera();\n };\n \n+/**\n+ * Applies a tint to the texture being drawn in WebGL mode.\n+ * This function is similar to the 2D renderer's tint function.\n+ * \n+ * @method _applyTint\n+ * @private\n+ */\n+p5.RendererGL.prototype._applyTint = function() {\n+  if (this._tint) {\n+    var tint = this._tint;\n+    this._setUniform('uTint', [tint[0] / 255, tint[1] / 255, tint[2] / 255, tint[3] / 255]);\n+  } else {\n+    this._setUniform('uTint', [1, 1, 1, 1]);\n+  }\n+};\n+\n+/**\n+ * Sets the tint color for textures in WebGL mode.\n+ * \n+ * @method tint\n+ */\n+p5.RendererGL.prototype.tint = function() {\n+  this._tint = this._pInst.color.apply(this._pInst, arguments).levels;\n+};\n \n /**\n  * Resizes the canvas.\n@@ -500,6 +523,7 @@ p5.RendererGL.prototype._drawTexture = function(tex, x, y, w, h) {\n   this._setUniform('uSampler', tex);\n   this._setUniform('uModelViewMatrix', this.uMVMatrix.mat4);\n   this._setUniform('uProjectionMatrix', this.uPMatrix.mat4);\n+  this._applyTint();\n \n   this._bindBuffers(this.immediateMode.buffers);\n   this._drawImmediateMode(x, y, w, h);\ndiff --git a/src/webgl/shaders/texture.vert b/src/webgl/shaders/texture.vert\nnew file mode 100644\nindex 0000000..1234567\n--- /dev/null\n+++ b/src/webgl/shaders/texture.vert\n@@ -0,0 +1,20 @@\n+precision mediump float;\n+\n+attribute vec3 aPosition;\n+attribute vec2 aTexCoord;\n+\n+uniform mat4 uModelViewMatrix;\n+uniform mat4 uProjectionMatrix;\n+\n+varying vec2 vTexCoord;\n+\n+void main() {\n+  vTexCoord = aTexCoord;\n+  gl_Position = uProjectionMatrix * uModelViewMatrix * vec4(aPosition, 1.0);\n+}\ndiff --git a/src/webgl/shaders/texture.frag b/src/webgl/shaders/texture.frag\nnew file mode 100644\nindex 0000000..89abcde\n--- /dev/null\n+++ b/src/webgl/shaders/texture.frag\n@@ -0,0 +1,24 @@\n+precision mediump float;\n+\n+uniform sampler2D uSampler;\n+uniform vec4 uTint;\n+\n+varying vec2 vTexCoord;\n+\n+void main() {\n+  vec4 texColor = texture2D(uSampler, vTexCoord);\n+  gl_FragColor = texColor * uTint;\n+}\ndiff --git a/src/webgl/p5.RendererGL.js b/src/webgl/p5.RendererGL.js\nindex 89abcde..fedcba9 100644\n--- a/src/webgl/p5.RendererGL.js\n+++ b/src/webgl/p5.RendererGL.js\n@@ -50,6 +50,7 @@ p5.RendererGL.prototype._init = function() {\n   this._setDefaultCamera();\n   this._setDefaultLights();\n   this._setDefaultMaterial();\n+  this._tint = null;\n };\n \n /**",
    "model_name_or_path": "text_bm25",
    "metrics": {
      "issue_embedding_time_ms": 0.0,
      "retrieval_time_ms_bm25": 198.18,
      "retrieval_time_ms": 198.18,
      "total_retrieval_time_ms": 198.18,
      "generation_time_ms": 9470.97,
      "total_io_time_ms": 9669.14,
      "input_total_token_limit": null,
      "issue_text_tokens": 336,
      "vlm_tokens": 0,
      "retrieved_tokens": 19762,
      "prompt_template_tokens": 520,
      "total_input_prompt_tokens": 20618,
      "output_generated_tokens": 890,
      "total_io_tokens": 21508,
      "input_prompt_text": "[{\"type\": \"text\", \"text\": \"You will be provided with a partial code base and an issue statement explaining a problem to resolve.\\n<issue>\\nTint() is not supported in WebGL\\n#### Nature of issue?\\r\\n\\r\\n- [ ] Found a bug\\r\\n- [ ] Existing feature enhancement\\r\\n- [x] New feature request\\r\\n\\r\\n#### Most appropriate sub-area of p5.js?\\r\\n\\r\\n- [ ] Color\\r\\n- [ ] Core\\r\\n- [ ] Data\\r\\n- [ ] Events\\r\\n- [ ] Image\\r\\n- [ ] IO\\r\\n- [ ] Math\\r\\n- [ ] Typography\\r\\n- [ ] Utilities\\r\\n- [x] WebGL\\r\\n- [ ] Other (specify if possible)\\r\\n\\r\\n#### Which platform were you using when you encountered this?\\r\\n\\r\\n- [x] Mobile/Tablet (touch devices)\\r\\n- [x] Desktop/Laptop\\r\\n- [x] Others (specify if possible)\\r\\n\\r\\n#### New feature details:\\r\\nTint() is supported in processing with OPENGL render, could p5js also support it in WEBGL?\\r\\n- p5.js version: p5.js v0.5.16 \\r\\n- Example Code:\\r\\n```\\r\\nvar img;\\r\\nfunction preload() {\\r\\n    img = loadImage(\\\"https://processing.org/img/processing-web.png\\\");\\r\\n}\\r\\n\\r\\nfunction setup() {\\r\\n    createCanvas(700,700, WEBGL);\\r\\n}\\r\\n\\r\\nfunction draw() {\\r\\n    background(200);\\r\\n    beginShape();\\r\\n    tint(255,0,0,122);\\r\\n    texture(img);\\r\\n    vertex(0, 0, 0,0,0);\\r\\n    vertex(0, 250, 0,1);\\r\\n    vertex(250, 250, 0,1,1);\\r\\n    vertex(250, 0, 0,1,0);\\r\\n    endShape(CLOSE);\\r\\n}\\r\\n```\\r\\n\\n\\n</issue>\\n\\n<code>\\n[start of ISSUE_TEMPLATE.md]\\n<!--\\nHi there! \\n\\nPLEASE NOTE: The github issues are for bugs and feature requests for the p5.js library itself. If you have a general question or bug programming with p5.js please post it in the p5.js forum: https://discourse.processing.org\\n\\nTo check any option, replace the \\\"[ ]\\\" with a \\\"[x]\\\". Be sure to check out how it looks in the Preview tab! Feel free to remove any portion of the template that is not relevant for your issue.\\n-->\\n\\n#### Nature of issue?\\n\\n- [ ] Found a bug\\n- [ ] Existing feature enhancement\\n- [ ] New feature request\\n\\n#### Most appropriate sub-area of p5.js?\\n\\n- [ ] Color\\n- [ ] Core/Environment/Rendering\\n- [ ] Data\\n- [ ] Events\\n- [ ] Image\\n- [ ] IO\\n- [ ] Math\\n- [ ] Typography\\n- [ ] Utilities\\n- [ ] WebGL\\n- [ ] Other (specify if possible)\\n\\n#### Which platform were you using when you encountered this?\\n\\n- [ ] Mobile/Tablet (touch devices)\\n- [ ] Desktop/Laptop\\n- [ ] Others (specify if possible)\\n\\n#### Details about the bug: \\n\\n- p5.js version: <!-- You can first this in the first line of the p5.js file -->\\n- Web browser and version: <!-- In the address bar, on Chrome enter \\\"chrome://version\\\", on Firefox enter \\\"about:support\\\". On Safari, use \\\"About Safari\\\". -->\\n- Operating System: <!-- Ex: Windows/MacOSX/Linux along with version -->\\n- Steps to reproduce this:\\n<!-- Include a simple code snippet that demonstrates the problem, along with any console errors produced. If this isn't possible, then simply describe the issue as best you can! -->\\n\\n<!-- If you want to enhance an existing feature, please describe here, otherwise remove this section -->\\n#### Feature enhancement details:\\n\\n\\n<!-- If you want to request a new feature, please describe here, otherwise remove this section -->\\n#### New feature details:\\n\\n\\n[end of ISSUE_TEMPLATE.md]\\n[start of material.js]\\n/**\\n * @module Lights, Camera\\n * @submodule Material\\n * @for p5\\n * @requires core\\n */\\n\\n'use strict';\\n\\nvar p5 = require('../core/main');\\nvar constants = require('../core/constants');\\nrequire('./p5.Texture');\\n\\n/**\\n * Loads a custom shader from the provided vertex and fragment\\n * shader paths. The shader files are loaded asynchronously in the\\n * background, so this method should be used in <a href=\\\"#/p5/preload\\\">preload()</a>.\\n *\\n * For now, there are three main types of shaders. p5 will automatically\\n * supply appropriate vertices, normals, colors, and lighting attributes\\n * if the parameters defined in the shader match the names.\\n *\\n * @method loadShader\\n * @param {String} vertFilename path to file containing vertex shader\\n * source code\\n * @param {String} fragFilename path to file containing fragment shader\\n * source code\\n * @param {function} [callback] callback to be executed after loadShader\\n * completes. On success, the Shader object is passed as the first argument.\\n * @param {function} [errorCallback] callback to be executed when an error\\n * occurs inside loadShader. On error, the error is passed as the first\\n * argument.\\n * @return {p5.Shader} a shader object created from the provided\\n * vertex and fragment shader files.\\n *\\n * @example\\n * <div modernizr='webgl'>\\n * <code>\\n * let mandel;\\n * function preload() {\\n *   // load the shader definitions from files\\n *   mandel = loadShader('assets/shader.vert', 'assets/shader.frag');\\n * }\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n *   // use the shader\\n *   shader(mandel);\\n *   noStroke();\\n *   mandel.setUniform('p', [-0.74364388703, 0.13182590421]);\\n * }\\n *\\n * function draw() {\\n *   mandel.setUniform('r', 1.5 * exp(-6.5 * (1 + sin(millis() / 2000))));\\n *   quad(-1, -1, 1, -1, 1, 1, -1, 1);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * zooming Mandelbrot set. a colorful, infinitely detailed fractal.\\n */\\np5.prototype.loadShader = function(\\n  vertFilename,\\n  fragFilename,\\n  callback,\\n  errorCallback\\n) {\\n  p5._validateParameters('loadShader', arguments);\\n  if (!errorCallback) {\\n    errorCallback = console.error;\\n  }\\n\\n  var loadedShader = new p5.Shader();\\n\\n  var self = this;\\n  var loadedFrag = false;\\n  var loadedVert = false;\\n\\n  var onLoad = function() {\\n    self._decrementPreload();\\n    if (callback) {\\n      callback(loadedShader);\\n    }\\n  };\\n\\n  this.loadStrings(\\n    vertFilename,\\n    function(result) {\\n      loadedShader._vertSrc = result.join('\\\\n');\\n      loadedVert = true;\\n      if (loadedFrag) {\\n        onLoad();\\n      }\\n    },\\n    errorCallback\\n  );\\n\\n  this.loadStrings(\\n    fragFilename,\\n    function(result) {\\n      loadedShader._fragSrc = result.join('\\\\n');\\n      loadedFrag = true;\\n      if (loadedVert) {\\n        onLoad();\\n      }\\n    },\\n    errorCallback\\n  );\\n\\n  return loadedShader;\\n};\\n\\n/**\\n * @method createShader\\n * @param {String} vertSrc source code for the vertex shader\\n * @param {String} fragSrc source code for the fragment shader\\n * @returns {p5.Shader} a shader object created from the provided\\n * vertex and fragment shaders.\\n *\\n * @example\\n * <div modernizr='webgl'>\\n * <code>\\n * // the 'varying's are shared between both vertex & fragment shaders\\n * let varying = 'precision highp float; varying vec2 vPos;';\\n *\\n * // the vertex shader is called for each vertex\\n * let vs =\\n *   varying +\\n *   'attribute vec3 aPosition;' +\\n *   'void main() { vPos = (gl_Position = vec4(aPosition,1.0)).xy; }';\\n *\\n * // the fragment shader is called for each pixel\\n * let fs =\\n *   varying +\\n *   'uniform vec2 p;' +\\n *   'uniform float r;' +\\n *   'const int I = 500;' +\\n *   'void main() {' +\\n *   '  vec2 c = p + vPos * r, z = c;' +\\n *   '  float n = 0.0;' +\\n *   '  for (int i = I; i > 0; i --) {' +\\n *   '    if(z.x*z.x+z.y*z.y > 4.0) {' +\\n *   '      n = float(i)/float(I);' +\\n *   '      break;' +\\n *   '    }' +\\n *   '    z = vec2(z.x*z.x-z.y*z.y, 2.0*z.x*z.y) + c;' +\\n *   '  }' +\\n *   '  gl_FragColor = vec4(0.5-cos(n*17.0)/2.0,0.5-cos(n*13.0)/2.0,0.5-cos(n*23.0)/2.0,1.0);' +\\n *   '}';\\n *\\n * let mandel;\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n *\\n *   // create and initialize the shader\\n *   mandel = createShader(vs, fs);\\n *   shader(mandel);\\n *   noStroke();\\n *\\n *   // 'p' is the center point of the Mandelbrot image\\n *   mandel.setUniform('p', [-0.74364388703, 0.13182590421]);\\n * }\\n *\\n * function draw() {\\n *   // 'r' is the size of the image in Mandelbrot-space\\n *   mandel.setUniform('r', 1.5 * exp(-6.5 * (1 + sin(millis() / 2000))));\\n *   quad(-1, -1, 1, -1, 1, 1, -1, 1);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * zooming Mandelbrot set. a colorful, infinitely detailed fractal.\\n */\\np5.prototype.createShader = function(vertSrc, fragSrc) {\\n  this._assert3d('createShader');\\n  p5._validateParameters('createShader', arguments);\\n  return new p5.Shader(this._renderer, vertSrc, fragSrc);\\n};\\n\\n/**\\n * The <a href=\\\"#/p5/shader\\\">shader()</a> function lets the user provide a custom shader\\n * to fill in shapes in WEBGL mode. Users can create their\\n * own shaders by loading vertex and fragment shaders with\\n * <a href=\\\"#/p5/loadShader\\\">loadShader()</a>.\\n *\\n * @method shader\\n * @chainable\\n * @param {p5.Shader} [s] the desired <a href=\\\"#/p5.Shader\\\">p5.Shader</a> to use for rendering\\n * shapes.\\n */\\np5.prototype.shader = function(s) {\\n  this._assert3d('shader');\\n  p5._validateParameters('shader', arguments);\\n\\n  if (s._renderer === undefined) {\\n    s._renderer = this._renderer;\\n  }\\n\\n  if (s.isStrokeShader()) {\\n    this._renderer.userStrokeShader = s;\\n  } else {\\n    this._renderer.userFillShader = s;\\n    this._renderer._useNormalMaterial = false;\\n  }\\n\\n  s.init();\\n\\n  return this;\\n};\\n\\n/**\\n * This function restores the default shaders in WEBGL mode. Code that runs\\n * after resetShader() will not be affected by previously defined\\n * shaders. Should be run after <a href=\\\"#/p5/shader\\\">shader()</a>.\\n *\\n * @method resetShader\\n * @chainable\\n */\\np5.prototype.resetShader = function() {\\n  this._renderer.userFillShader = this._renderer.userStrokeShader = null;\\n  return this;\\n};\\n\\n/**\\n * Normal material for geometry. You can view all\\n * possible materials in this\\n * <a href=\\\"https://p5js.org/examples/3d-materials.html\\\">example</a>.\\n * @method normalMaterial\\n * @chainable\\n * @example\\n * <div>\\n * <code>\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n * }\\n *\\n * function draw() {\\n *   background(200);\\n *   normalMaterial();\\n *   sphere(40);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * Red, green and blue gradient.\\n *\\n */\\np5.prototype.normalMaterial = function() {\\n  this._assert3d('normalMaterial');\\n  p5._validateParameters('normalMaterial', arguments);\\n  this._renderer.drawMode = constants.FILL;\\n  this._renderer._useSpecularMaterial = false;\\n  this._renderer._useNormalMaterial = true;\\n  this._renderer.curFillColor = [1, 1, 1, 1];\\n  this._renderer._setProperty('_doFill', true);\\n  this.noStroke();\\n  return this;\\n};\\n\\n/**\\n * Texture for geometry.  You can view other possible materials in this\\n * <a href=\\\"https://p5js.org/examples/3d-materials.html\\\">example</a>.\\n * @method texture\\n * @param {p5.Image|p5.MediaElement|p5.Graphics} tex 2-dimensional graphics\\n *                    to render as texture\\n * @chainable\\n * @example\\n * <div>\\n * <code>\\n * let img;\\n * function preload() {\\n *   img = loadImage('assets/laDefense.jpg');\\n * }\\n *\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n * }\\n *\\n * function draw() {\\n *   background(0);\\n *   rotateZ(frameCount * 0.01);\\n *   rotateX(frameCount * 0.01);\\n *   rotateY(frameCount * 0.01);\\n *   //pass image as texture\\n *   texture(img);\\n *   box(200, 200, 200);\\n * }\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * let pg;\\n *\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n *   pg = createGraphics(200, 200);\\n *   pg.textSize(75);\\n * }\\n *\\n * function draw() {\\n *   background(0);\\n *   pg.background(255);\\n *   pg.text('hello!', 0, 100);\\n *   //pass image as texture\\n *   texture(pg);\\n *   rotateX(0.5);\\n *   noStroke();\\n *   plane(50);\\n * }\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * let vid;\\n * function preload() {\\n *   vid = createVideo('assets/fingers.mov');\\n *   vid.hide();\\n * }\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n * }\\n *\\n * function draw() {\\n *   background(0);\\n *   //pass video frame as texture\\n *   texture(vid);\\n *   rect(-40, -40, 80, 80);\\n * }\\n *\\n * function mousePressed() {\\n *   vid.loop();\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * Rotating view of many images umbrella and grid roof on a 3d plane\\n * black canvas\\n * black canvas\\n *\\n */\\np5.prototype.texture = function(tex) {\\n  this._assert3d('texture');\\n  p5._validateParameters('texture', arguments);\\n\\n  this._renderer.drawMode = constants.TEXTURE;\\n  this._renderer._useSpecularMaterial = false;\\n  this._renderer._useNormalMaterial = false;\\n  this._renderer._tex = tex;\\n  this._renderer._setProperty('_doFill', true);\\n\\n  return this;\\n};\\n\\n/**\\n * Sets the coordinate space for texture mapping. The default mode is IMAGE\\n * which refers to the actual coordinates of the image.\\n * NORMAL refers to a normalized space of values ranging from 0 to 1.\\n * This function only works in WEBGL mode.\\n *\\n * With IMAGE, if an image is 100 x 200 pixels, mapping the image onto the entire\\n * size of a quad would require the points (0,0) (100, 0) (100,200) (0,200).\\n * The same mapping in NORMAL is (0,0) (1,0) (1,1) (0,1).\\n * @method  textureMode\\n * @param {Constant} mode either IMAGE or NORMAL\\n * @example\\n * <div>\\n * <code>\\n * let img;\\n *\\n * function preload() {\\n *   img = loadImage('assets/laDefense.jpg');\\n * }\\n *\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n * }\\n *\\n * function draw() {\\n *   texture(img);\\n *   textureMode(NORMAL);\\n *   beginShape();\\n *   vertex(-50, -50, 0, 0);\\n *   vertex(50, -50, 1, 0);\\n *   vertex(50, 50, 1, 1);\\n *   vertex(-50, 50, 0, 1);\\n *   endShape();\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * the underside of a white umbrella and gridded ceiling above\\n *\\n * <div>\\n * <code>\\n * let img;\\n *\\n * function preload() {\\n *   img = loadImage('assets/laDefense.jpg');\\n * }\\n *\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n * }\\n *\\n * function draw() {\\n *   texture(img);\\n *   textureMode(NORMAL);\\n *   beginShape();\\n *   vertex(-50, -50, 0, 0);\\n *   vertex(50, -50, img.width, 0);\\n *   vertex(50, 50, img.width, img.height);\\n *   vertex(-50, 50, 0, img.height);\\n *   endShape();\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * the underside of a white umbrella and gridded ceiling above\\n *\\n */\\np5.prototype.textureMode = function(mode) {\\n  if (mode !== constants.IMAGE && mode !== constants.NORMAL) {\\n    console.warn(\\n      'You tried to set ' + mode + ' textureMode only supports IMAGE & NORMAL '\\n    );\\n  } else {\\n    this._renderer.textureMode = mode;\\n  }\\n};\\n\\n/**\\n * Sets the global texture wrapping mode. This controls how textures behave\\n * when their uv's go outside of the 0 - 1 range. There are three options:\\n * CLAMP, REPEAT, and MIRROR.\\n *\\n * CLAMP causes the pixels at the edge of the texture to extend to the bounds\\n * REPEAT causes the texture to tile repeatedly until reaching the bounds\\n * MIRROR works similarly to REPEAT but it flips the texture with every new tile\\n *\\n * REPEAT & MIRROR are only available if the texture\\n * is a power of two size (128, 256, 512, 1024, etc.).\\n *\\n * This method will affect all textures in your sketch until a subsequent\\n * textureWrap call is made.\\n *\\n * If only one argument is provided, it will be applied to both the\\n * horizontal and vertical axes.\\n * @method textureWrap\\n * @param {Constant} wrapX either CLAMP, REPEAT, or MIRROR\\n * @param {Constant} [wrapY] either CLAMP, REPEAT, or MIRROR\\n * @example\\n * <div>\\n * <code>\\n * let img;\\n * function preload() {\\n *   img = loadImage('assets/rockies128.jpg');\\n * }\\n *\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n *   textureWrap(MIRROR);\\n * }\\n *\\n * function draw() {\\n *   background(0);\\n *\\n *   let dX = mouseX;\\n *   let dY = mouseY;\\n *\\n *   let u = lerp(1.0, 2.0, dX);\\n *   let v = lerp(1.0, 2.0, dY);\\n *\\n *   scale(width / 2);\\n *\\n *   texture(img);\\n *\\n *   beginShape(TRIANGLES);\\n *   vertex(-1, -1, 0, 0, 0);\\n *   vertex(1, -1, 0, u, 0);\\n *   vertex(1, 1, 0, u, v);\\n *\\n *   vertex(1, 1, 0, u, v);\\n *   vertex(-1, 1, 0, 0, v);\\n *   vertex(-1, -1, 0, 0, 0);\\n *   endShape();\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * an image of the rocky mountains repeated in mirrored tiles\\n *\\n */\\np5.prototype.textureWrap = function(wrapX, wrapY) {\\n  wrapY = wrapY || wrapX;\\n\\n  this._renderer.textureWrapX = wrapX;\\n  this._renderer.textureWrapY = wrapY;\\n\\n  var textures = this._renderer.textures;\\n  for (var i = 0; i < textures.length; i++) {\\n    textures[i].setWrapMode(wrapX, wrapY);\\n  }\\n};\\n\\n/**\\n * Ambient material for geometry with a given color. You can view all\\n * possible materials in this\\n * <a href=\\\"https://p5js.org/examples/3d-materials.html\\\">example</a>.\\n * @method  ambientMaterial\\n * @param  {Number} v1  gray value, red or hue value\\n *                         (depending on the current color mode),\\n * @param  {Number} [v2] green or saturation value\\n * @param  {Number} [v3] blue or brightness value\\n * @param  {Number} [a]  opacity\\n * @chainable\\n * @example\\n * <div>\\n * <code>\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n * }\\n * function draw() {\\n *   background(0);\\n *   noStroke();\\n *   ambientLight(200);\\n *   ambientMaterial(70, 130, 230);\\n *   sphere(40);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * radiating light source from top right of canvas\\n *\\n */\\n/**\\n * @method  ambientMaterial\\n * @param  {Number[]|String|p5.Color} color  color, color Array, or CSS color string\\n * @chainable\\n */\\np5.prototype.ambientMaterial = function(v1, v2, v3, a) {\\n  this._assert3d('ambientMaterial');\\n  p5._validateParameters('ambientMaterial', arguments);\\n\\n  var color = p5.prototype.color.apply(this, arguments);\\n  this._renderer.curFillColor = color._array;\\n  this._renderer._useSpecularMaterial = false;\\n  this._renderer._useNormalMaterial = false;\\n  this._renderer._enableLighting = true;\\n  this._renderer._tex = null;\\n\\n  return this;\\n};\\n\\n/**\\n * Specular material for geometry with a given color. You can view all\\n * possible materials in this\\n * <a href=\\\"https://p5js.org/examples/3d-materials.html\\\">example</a>.\\n * @method specularMaterial\\n * @param  {Number} v1  gray value, red or hue value\\n *                       (depending on the current color mode),\\n * @param  {Number} [v2] green or saturation value\\n * @param  {Number} [v3] blue or brightness value\\n * @param  {Number} [a]  opacity\\n * @chainable\\n * @example\\n * <div>\\n * <code>\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n * }\\n * function draw() {\\n *   background(0);\\n *   noStroke();\\n *   ambientLight(50);\\n *   pointLight(250, 250, 250, 100, 100, 30);\\n *   specularMaterial(250);\\n *   sphere(40);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * diffused radiating light source from top right of canvas\\n *\\n */\\n/**\\n * @method specularMaterial\\n * @param  {Number[]|String|p5.Color} color color Array, or CSS color string\\n * @chainable\\n */\\np5.prototype.specularMaterial = function(v1, v2, v3, a) {\\n  this._assert3d('specularMaterial');\\n  p5._validateParameters('specularMaterial', arguments);\\n\\n  var color = p5.prototype.color.apply(this, arguments);\\n  this._renderer.curFillColor = color._array;\\n  this._renderer._useSpecularMaterial = true;\\n  this._renderer._useNormalMaterial = false;\\n  this._renderer._enableLighting = true;\\n  this._renderer._tex = null;\\n\\n  return this;\\n};\\n\\n/**\\n * Sets the amount of gloss in the surface of shapes.\\n * Used in combination with specularMaterial() in setting\\n * the material properties of shapes. The default and minimum value is 1.\\n * @method shininess\\n * @param {Number} shine Degree of Shininess.\\n *                       Defaults to 1.\\n * @chainable\\n * @example\\n * <div>\\n * <code>\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n * }\\n * function draw() {\\n *   background(0);\\n *   noStroke();\\n *   let locX = mouseX - width / 2;\\n *   let locY = mouseY - height / 2;\\n *   ambientLight(60, 60, 60);\\n *   pointLight(255, 255, 255, locX, locY, 50);\\n *   specularMaterial(250);\\n *   translate(-25, 0, 0);\\n *   shininess(1);\\n *   sphere(20);\\n *   translate(50, 0, 0);\\n *   shininess(20);\\n *   sphere(20);\\n * }\\n * </code>\\n * </div>\\n * @alt\\n * Shininess on Camera changes position with mouse\\n */\\np5.prototype.shininess = function(shine) {\\n  this._assert3d('shininess');\\n  p5._validateParameters('shininess', arguments);\\n\\n  if (shine < 1) {\\n    shine = 1;\\n  }\\n  this._renderer._useShininess = shine;\\n  return this;\\n};\\n\\n/**\\n * @private blends colors according to color components.\\n * If alpha value is less than 1, we need to enable blending\\n * on our gl context.  Otherwise opaque objects need to a depthMask.\\n * @param  {Number[]} color [description]\\n * @return {Number[]]}  Normalized numbers array\\n */\\np5.RendererGL.prototype._applyColorBlend = function(colors) {\\n  var gl = this.GL;\\n\\n  var isTexture = this.drawMode === constants.TEXTURE;\\n  if (isTexture || colors[colors.length - 1] < 1.0) {\\n    gl.depthMask(isTexture);\\n    gl.enable(gl.BLEND);\\n    this._applyBlendMode();\\n  } else {\\n    gl.depthMask(true);\\n    gl.disable(gl.BLEND);\\n  }\\n  return colors;\\n};\\n\\n/**\\n * @private sets blending in gl context to curBlendMode\\n * @param  {Number[]} color [description]\\n * @return {Number[]]}  Normalized numbers array\\n */\\np5.RendererGL.prototype._applyBlendMode = function() {\\n  var gl = this.GL;\\n  switch (this.curBlendMode) {\\n    case constants.BLEND:\\n    case constants.ADD:\\n      gl.blendEquation(gl.FUNC_ADD);\\n      gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\\n      break;\\n    case constants.MULTIPLY:\\n      gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\\n      gl.blendFuncSeparate(gl.ZERO, gl.SRC_COLOR, gl.ONE, gl.ONE);\\n      break;\\n    case constants.SCREEN:\\n      gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\\n      gl.blendFuncSeparate(gl.ONE_MINUS_DST_COLOR, gl.ONE, gl.ONE, gl.ONE);\\n      break;\\n    case constants.EXCLUSION:\\n      gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\\n      gl.blendFuncSeparate(\\n        gl.ONE_MINUS_DST_COLOR,\\n        gl.ONE_MINUS_SRC_COLOR,\\n        gl.ONE,\\n        gl.ONE\\n      );\\n      break;\\n    case constants.REPLACE:\\n      gl.blendEquation(gl.FUNC_ADD);\\n      gl.blendFunc(gl.ONE, gl.ZERO);\\n      break;\\n    case constants.SUBTRACT:\\n      gl.blendEquationSeparate(gl.FUNC_REVERSE_SUBTRACT, gl.FUNC_ADD);\\n      gl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE, gl.ONE, gl.ONE);\\n      break;\\n    case constants.DARKEST:\\n      if (this.blendExt) {\\n        gl.blendEquationSeparate(this.blendExt.MIN_EXT, gl.FUNC_ADD);\\n        gl.blendFuncSeparate(gl.ONE, gl.ONE, gl.ONE, gl.ONE);\\n      } else {\\n        console.warn(\\n          'blendMode(DARKEST) does not work in your browser in WEBGL mode.'\\n        );\\n      }\\n      break;\\n    case constants.LIGHTEST:\\n      if (this.blendExt) {\\n        gl.blendEquationSeparate(this.blendExt.MAX_EXT, gl.FUNC_ADD);\\n        gl.blendFuncSeparate(gl.ONE, gl.ONE, gl.ONE, gl.ONE);\\n      } else {\\n        console.warn(\\n          'blendMode(LIGHTEST) does not work in your browser in WEBGL mode.'\\n        );\\n      }\\n      break;\\n    default:\\n      console.error(\\n        'Oops! Somehow RendererGL set curBlendMode to an unsupported mode.'\\n      );\\n      break;\\n  }\\n};\\n\\nmodule.exports = p5;\\n\\n[end of material.js]\\n[start of loading_displaying.js]\\n/**\\n * @module Image\\n * @submodule Loading & Displaying\\n * @for p5\\n * @requires core\\n */\\n\\n'use strict';\\n\\nvar p5 = require('../core/main');\\nvar Filters = require('./filters');\\nvar canvas = require('../core/helpers');\\nvar constants = require('../core/constants');\\n\\nrequire('../core/error_helpers');\\n\\n/**\\n * Loads an image from a path and creates a <a href=\\\"#/p5.Image\\\">p5.Image</a> from it.\\n * <br><br>\\n * The image may not be immediately available for rendering\\n * If you want to ensure that the image is ready before doing\\n * anything with it, place the <a href=\\\"#/p5/loadImage\\\">loadImage()</a> call in <a href=\\\"#/p5/preload\\\">preload()</a>.\\n * You may also supply a callback function to handle the image when it's ready.\\n * <br><br>\\n * The path to the image should be relative to the HTML file\\n * that links in your sketch. Loading an image from a URL or other\\n * remote location may be blocked due to your browser's built-in\\n * security.\\n *\\n * @method loadImage\\n * @param  {String} path Path of the image to be loaded\\n * @param  {function(p5.Image)} [successCallback] Function to be called once\\n *                                the image is loaded. Will be passed the\\n *                                <a href=\\\"#/p5.Image\\\">p5.Image</a>.\\n * @param  {function(Event)}    [failureCallback] called with event error if\\n *                                the image fails to load.\\n * @return {p5.Image}             the <a href=\\\"#/p5.Image\\\">p5.Image</a> object\\n * @example\\n * <div>\\n * <code>\\n * let img;\\n * function preload() {\\n *   img = loadImage('assets/laDefense.jpg');\\n * }\\n * function setup() {\\n *   image(img, 0, 0);\\n * }\\n * </code>\\n * </div>\\n * <div>\\n * <code>\\n * function setup() {\\n *   // here we use a callback to display the image after loading\\n *   loadImage('assets/laDefense.jpg', img => {\\n *     image(img, 0, 0);\\n *   });\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * image of the underside of a white umbrella and grided ceililng above\\n * image of the underside of a white umbrella and grided ceililng above\\n *\\n */\\np5.prototype.loadImage = function(path, successCallback, failureCallback) {\\n  p5._validateParameters('loadImage', arguments);\\n  var img = new Image();\\n  var pImg = new p5.Image(1, 1, this);\\n\\n  var self = this;\\n  img.onload = function() {\\n    pImg.width = pImg.canvas.width = img.width;\\n    pImg.height = pImg.canvas.height = img.height;\\n\\n    // Draw the image into the backing canvas of the p5.Image\\n    pImg.drawingContext.drawImage(img, 0, 0);\\n    pImg.modified = true;\\n\\n    if (typeof successCallback === 'function') {\\n      successCallback(pImg);\\n    }\\n\\n    self._decrementPreload();\\n  };\\n  img.onerror = function(e) {\\n    p5._friendlyFileLoadError(0, img.src);\\n    if (typeof failureCallback === 'function') {\\n      failureCallback(e);\\n    } else {\\n      console.error(e);\\n    }\\n  };\\n\\n  // Set crossOrigin in case image is served with CORS headers.\\n  // This will let us draw to the canvas without tainting it.\\n  // See https://developer.mozilla.org/en-US/docs/HTML/CORS_Enabled_Image\\n  // When using data-uris the file will be loaded locally\\n  // so we don't need to worry about crossOrigin with base64 file types.\\n  if (path.indexOf('data:image/') !== 0) {\\n    img.crossOrigin = 'Anonymous';\\n  }\\n\\n  // start loading the image\\n  img.src = path;\\n\\n  return pImg;\\n};\\n\\n/**\\n * Validates clipping params. Per drawImage spec sWidth and sHight cannot be\\n * negative or greater than image intrinsic width and height\\n * @private\\n * @param {Number} sVal\\n * @param {Number} iVal\\n * @returns {Number}\\n * @private\\n */\\nfunction _sAssign(sVal, iVal) {\\n  if (sVal > 0 && sVal < iVal) {\\n    return sVal;\\n  } else {\\n    return iVal;\\n  }\\n}\\n\\n/**\\n * Draw an image to the p5.js canvas.\\n *\\n * This function can be used with different numbers of parameters. The\\n * simplest use requires only three parameters: img, x, and y\\u2014where (x, y) is\\n * the position of the image. Two more parameters can optionally be added to\\n * specify the width and height of the image.\\n *\\n * This function can also be used with all eight Number parameters. To\\n * differentiate between all these parameters, p5.js uses the language of\\n * \\\"destination rectangle\\\" (which corresponds to \\\"dx\\\", \\\"dy\\\", etc.) and \\\"source\\n * image\\\" (which corresponds to \\\"sx\\\", \\\"sy\\\", etc.) below. Specifying the\\n * \\\"source image\\\" dimensions can be useful when you want to display a\\n * subsection of the source image instead of the whole thing. Here's a diagram\\n * to explain further:\\n * <img src=\\\"assets/drawImage.png\\\"></img>\\n *\\n * @method image\\n * @param  {p5.Image|p5.Element} img    the image to display\\n * @param  {Number}   x     the x-coordinate of the top-left corner of the image\\n * @param  {Number}   y     the y-coordinate of the top-left corner of the image\\n * @param  {Number}   [width]  the width to draw the image\\n * @param  {Number}   [height] the height to draw the image\\n * @example\\n * <div>\\n * <code>\\n * let img;\\n * function preload() {\\n *   img = loadImage('assets/laDefense.jpg');\\n * }\\n * function setup() {\\n *   // Top-left corner of the img is at (0, 0)\\n *   // Width and height are the img's original width and height\\n *   image(img, 0, 0);\\n * }\\n * </code>\\n * </div>\\n * <div>\\n * <code>\\n * let img;\\n * function preload() {\\n *   img = loadImage('assets/laDefense.jpg');\\n * }\\n * function setup() {\\n *   background(50);\\n *   // Top-left corner of the img is at (10, 10)\\n *   // Width and height are 50 x 50\\n *   image(img, 10, 10, 50, 50);\\n * }\\n * </code>\\n * </div>\\n * <div>\\n * <code>\\n * function setup() {\\n *   // Here, we use a callback to display the image after loading\\n *   loadImage('assets/laDefense.jpg', img => {\\n *     image(img, 0, 0);\\n *   });\\n * }\\n * </code>\\n * </div>\\n * <div>\\n * <code>\\n * let img;\\n * function preload() {\\n *   img = loadImage('assets/gradient.png');\\n * }\\n * function setup() {\\n *   // 1. Background image\\n *   // Top-left corner of the img is at (0, 0)\\n *   // Width and height are the img's original width and height, 100 x 100\\n *   image(img, 0, 0);\\n *   // 2. Top right image\\n *   // Top-left corner of destination rectangle is at (50, 0)\\n *   // Destination rectangle width and height are 40 x 20\\n *   // The next parameters are relative to the source image:\\n *   // - Starting at position (50, 50) on the source image, capture a 50 x 50\\n *   // subsection\\n *   // - Draw this subsection to fill the dimensions of the destination rectangle\\n *   image(img, 50, 0, 40, 20, 50, 50, 50, 50);\\n * }\\n * </code>\\n * </div>\\n * @alt\\n * image of the underside of a white umbrella and gridded ceiling above\\n * image of the underside of a white umbrella and gridded ceiling above\\n *\\n */\\n/**\\n * @method image\\n * @param  {p5.Image|p5.Element} img\\n * @param  {Number}   dx     the x-coordinate of the destination\\n *                           rectangle in which to draw the source image\\n * @param  {Number}   dy     the y-coordinate of the destination\\n *                           rectangle in which to draw the source image\\n * @param  {Number}   dWidth  the width of the destination rectangle\\n * @param  {Number}   dHeight the height of the destination rectangle\\n * @param  {Number}   sx     the x-coordinate of the subsection of the source\\n * image to draw into the destination rectangle\\n * @param  {Number}   sy     the y-coordinate of the subsection of the source\\n * image to draw into the destination rectangle\\n * @param {Number}    [sWidth] the width of the subsection of the\\n *                           source image to draw into the destination\\n *                           rectangle\\n * @param {Number}    [sHeight] the height of the subsection of the\\n *                            source image to draw into the destination rectangle\\n */\\np5.prototype.image = function(\\n  img,\\n  dx,\\n  dy,\\n  dWidth,\\n  dHeight,\\n  sx,\\n  sy,\\n  sWidth,\\n  sHeight\\n) {\\n  // set defaults per spec: https://goo.gl/3ykfOq\\n\\n  p5._validateParameters('image', arguments);\\n\\n  var defW = img.width;\\n  var defH = img.height;\\n\\n  if (img.elt && img.elt.videoWidth && !img.canvas) {\\n    // video no canvas\\n    defW = img.elt.videoWidth;\\n    defH = img.elt.videoHeight;\\n  }\\n\\n  var _dx = dx;\\n  var _dy = dy;\\n  var _dw = dWidth || defW;\\n  var _dh = dHeight || defH;\\n  var _sx = sx || 0;\\n  var _sy = sy || 0;\\n  var _sw = sWidth || defW;\\n  var _sh = sHeight || defH;\\n\\n  _sw = _sAssign(_sw, defW);\\n  _sh = _sAssign(_sh, defH);\\n\\n  // This part needs cleanup and unit tests\\n  // see issues https://github.com/processing/p5.js/issues/1741\\n  // and https://github.com/processing/p5.js/issues/1673\\n  var pd = 1;\\n\\n  if (img.elt && !img.canvas && img.elt.style.width) {\\n    //if img is video and img.elt.size() has been used and\\n    //no width passed to image()\\n    if (img.elt.videoWidth && !dWidth) {\\n      pd = img.elt.videoWidth;\\n    } else {\\n      //all other cases\\n      pd = img.elt.width;\\n    }\\n    pd /= parseInt(img.elt.style.width, 10);\\n  }\\n\\n  _sx *= pd;\\n  _sy *= pd;\\n  _sh *= pd;\\n  _sw *= pd;\\n\\n  var vals = canvas.modeAdjust(_dx, _dy, _dw, _dh, this._renderer._imageMode);\\n\\n  // tint the image if there is a tint\\n  this._renderer.image(img, _sx, _sy, _sw, _sh, vals.x, vals.y, vals.w, vals.h);\\n};\\n\\n/**\\n * Sets the fill value for displaying images. Images can be tinted to\\n * specified colors or made transparent by including an alpha value.\\n * <br><br>\\n * To apply transparency to an image without affecting its color, use\\n * white as the tint color and specify an alpha value. For instance,\\n * tint(255, 128) will make an image 50% transparent (assuming the default\\n * alpha range of 0-255, which can be changed with <a href=\\\"#/p5/colorMode\\\">colorMode()</a>).\\n * <br><br>\\n * The value for the gray parameter must be less than or equal to the current\\n * maximum value as specified by <a href=\\\"#/p5/colorMode\\\">colorMode()</a>. The default maximum value is\\n * 255.\\n *\\n *\\n * @method tint\\n * @param  {Number}        v1      red or hue value relative to\\n *                                 the current color range\\n * @param  {Number}        v2      green or saturation value\\n *                                 relative to the current color range\\n * @param  {Number}        v3      blue or brightness value\\n *                                 relative to the current color range\\n * @param  {Number}        [alpha]\\n *\\n * @example\\n * <div>\\n * <code>\\n * let img;\\n * function preload() {\\n *   img = loadImage('assets/laDefense.jpg');\\n * }\\n * function setup() {\\n *   image(img, 0, 0);\\n *   tint(0, 153, 204); // Tint blue\\n *   image(img, 50, 0);\\n * }\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * let img;\\n * function preload() {\\n *   img = loadImage('assets/laDefense.jpg');\\n * }\\n * function setup() {\\n *   image(img, 0, 0);\\n *   tint(0, 153, 204, 126); // Tint blue and set transparency\\n *   image(img, 50, 0);\\n * }\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * let img;\\n * function preload() {\\n *   img = loadImage('assets/laDefense.jpg');\\n * }\\n * function setup() {\\n *   image(img, 0, 0);\\n *   tint(255, 126); // Apply transparency without changing color\\n *   image(img, 50, 0);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * 2 side by side images of umbrella and ceiling, one image with blue tint\\n * Images of umbrella and ceiling, one half of image with blue tint\\n * 2 side by side images of umbrella and ceiling, one image translucent\\n *\\n */\\n\\n/**\\n * @method tint\\n * @param  {String}        value   a color string\\n */\\n\\n/**\\n * @method tint\\n * @param  {Number}        gray   a gray value\\n * @param  {Number}        [alpha]\\n */\\n\\n/**\\n * @method tint\\n * @param  {Number[]}      values  an array containing the red,green,blue &\\n *                                 and alpha components of the color\\n */\\n\\n/**\\n * @method tint\\n * @param  {p5.Color}      color   the tint color\\n */\\np5.prototype.tint = function() {\\n  p5._validateParameters('tint', arguments);\\n  var c = this.color.apply(this, arguments);\\n  this._renderer._tint = c.levels;\\n};\\n\\n/**\\n * Removes the current fill value for displaying images and reverts to\\n * displaying images with their original hues.\\n *\\n * @method noTint\\n * @example\\n * <div>\\n * <code>\\n * let img;\\n * function preload() {\\n *   img = loadImage('assets/bricks.jpg');\\n * }\\n * function setup() {\\n *   tint(0, 153, 204); // Tint blue\\n *   image(img, 0, 0);\\n *   noTint(); // Disable tint\\n *   image(img, 50, 0);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * 2 side by side images of bricks, left image with blue tint\\n *\\n */\\np5.prototype.noTint = function() {\\n  this._renderer._tint = null;\\n};\\n\\n/**\\n * Apply the current tint color to the input image, return the resulting\\n * canvas.\\n *\\n * @private\\n * @param {p5.Image} The image to be tinted\\n * @return {canvas} The resulting tinted canvas\\n *\\n */\\np5.prototype._getTintedImageCanvas = function(img) {\\n  if (!img.canvas) {\\n    return img;\\n  }\\n  var pixels = Filters._toPixels(img.canvas);\\n  var tmpCanvas = document.createElement('canvas');\\n  tmpCanvas.width = img.canvas.width;\\n  tmpCanvas.height = img.canvas.height;\\n  var tmpCtx = tmpCanvas.getContext('2d');\\n  var id = tmpCtx.createImageData(img.canvas.width, img.canvas.height);\\n  var newPixels = id.data;\\n\\n  for (var i = 0; i < pixels.length; i += 4) {\\n    var r = pixels[i];\\n    var g = pixels[i + 1];\\n    var b = pixels[i + 2];\\n    var a = pixels[i + 3];\\n\\n    newPixels[i] = r * this._renderer._tint[0] / 255;\\n    newPixels[i + 1] = g * this._renderer._tint[1] / 255;\\n    newPixels[i + 2] = b * this._renderer._tint[2] / 255;\\n    newPixels[i + 3] = a * this._renderer._tint[3] / 255;\\n  }\\n\\n  tmpCtx.putImageData(id, 0, 0);\\n  return tmpCanvas;\\n};\\n\\n/**\\n * Set image mode. Modifies the location from which images are drawn by\\n * changing the way in which parameters given to <a href=\\\"#/p5/image\\\">image()</a> are interpreted.\\n * The default mode is imageMode(CORNER), which interprets the second and\\n * third parameters of <a href=\\\"#/p5/image\\\">image()</a> as the upper-left corner of the image. If\\n * two additional parameters are specified, they are used to set the image's\\n * width and height.\\n * <br><br>\\n * imageMode(CORNERS) interprets the second and third parameters of <a href=\\\"#/p5/image\\\">image()</a>\\n * as the location of one corner, and the fourth and fifth parameters as the\\n * opposite corner.\\n * <br><br>\\n * imageMode(CENTER) interprets the second and third parameters of <a href=\\\"#/p5/image\\\">image()</a>\\n * as the image's center point. If two additional parameters are specified,\\n * they are used to set the image's width and height.\\n *\\n * @method imageMode\\n * @param {Constant} mode either CORNER, CORNERS, or CENTER\\n * @example\\n *\\n * <div>\\n * <code>\\n * let img;\\n * function preload() {\\n *   img = loadImage('assets/bricks.jpg');\\n * }\\n * function setup() {\\n *   imageMode(CORNER);\\n *   image(img, 10, 10, 50, 50);\\n * }\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * let img;\\n * function preload() {\\n *   img = loadImage('assets/bricks.jpg');\\n * }\\n * function setup() {\\n *   imageMode(CORNERS);\\n *   image(img, 10, 10, 90, 40);\\n * }\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * let img;\\n * function preload() {\\n *   img = loadImage('assets/bricks.jpg');\\n * }\\n * function setup() {\\n *   imageMode(CENTER);\\n *   image(img, 50, 50, 80, 80);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * small square image of bricks\\n * horizontal rectangle image of bricks\\n * large square image of bricks\\n *\\n */\\np5.prototype.imageMode = function(m) {\\n  p5._validateParameters('imageMode', arguments);\\n  if (\\n    m === constants.CORNER ||\\n    m === constants.CORNERS ||\\n    m === constants.CENTER\\n  ) {\\n    this._renderer._imageMode = m;\\n  }\\n};\\n\\nmodule.exports = p5;\\n\\n[end of loading_displaying.js]\\n[start of inline_documentation.md]\\n# Adding inline documentation to p5.js\\n\\nBy adding inline documentation in the p5.js source code, a reference can be automatically generated. This document outlines the tags and information to include in your documentation so that it shows up in the reference, formatted properly. The reference is auto-generated from the source code periodically, so it may take a few days for your documentation to show up in the reference. If it's been longer than a few days or you're having other problems email [hello@p5js.org](mailto:hello@p5js.org).\\n\\nSee below for the basics, more specifics about yuidoc style [here](http://yui.github.io/yuidoc/syntax/index.html). __Please limit line length to 80 columns, starting new lines when it runs over.__\\n\\n__[List of examples needed](https://github.com/processing/p5.js/issues/1954) (you can also view the most up to date list by building the library with grunt and looking at the log messages)__\\n\\n## Specify element type and description\\n\\nThere are 4 kinds of elements: `@class`, `@method`, `@property`, `@event`.\\nYou must specify one of these for the element to appear in the docs, with the name of the element after it. The description should appear on top and should not be formatted with spaces, tabs, etc.\\n\\n```\\n   /**\\n    * The x component of the vector\\n    * @property x\\n    * @type {Number}\\n    */\\n    this.x = x || 0;\\n```\\n\\n```\\n\\n  /**\\n   * Draw an arc\\n   *\\n   * If x, y, width, height, start and stop are the only params provided, draws an\\n   * open pie.\\n   * If mode is provided draws the arc either open, chord or pie, dependant\\n   * on the variable provided\\n   *\\n   * @param  {Number} x x-coordinate of the arc's ellipse\\n   * @param  {Number} y y-coordinate of the arc's ellipse\\n   * @param  {Number} width width of the arc's ellipse by default\\n   * @param  {Number} height height of the arc's ellipse by default\\n   * @param  {Number} start angle to start the arc, specified in radians\\n   * @param  {Number} stop angle to stop the arc, specified in radians\\n   * @param  {String} [mode] optional parameter to determine the way of drawing the arc\\n   */\\n```\\n\\n```\\n  /**\\n   *\\n   * Calculates the magnitude (length) of the vector and returns the result\\n   * as a float (this is simply the equation <em>sqrt(x*x + y*y + z*z)</em>.)\\n   *\\n   * @method mag\\n   * @return {number} magnitude (length) of the vector\\n   */\\n   PVector.prototype.mag = function () {\\n    return Math.sqrt(this.magSq());\\n   };\\n```\\n\\n## Specify parameters\\n\\nFor methods, any `@params` should be specified. They should not be formatted with spaces, tabs, etc, and should follow the standard:\\n\\n```\\n@param {type} name Description here, no problem how long.\\n```\\n\\nIf the parameter is optional, add square brackets around the name:\\n\\n```\\n@param {type} [name] Description here.\\n```\\n\\nIf the parameter takes one or more values defined in `constants.js`,\\nthen the type should be specified as `{Constant}` and the valid values should be enumerated in the comment following the `either` keyword, eg:\\n\\n```\\n@param {Constant} horizAlign horizontal alignment, either LEFT, CENTER, or RIGHT\\n```\\n\\n## Specify return type\\n\\nThe `@return` is identical to `@params`, but without the name. It should be the last element in `@method`. The JS types are: String, Number, Boolean, Object, Array, Null, and Undefined. If there is no return type, do not include `@return`. \\n\\n```\\n@return {type} Description of the data returned.\\n```\\n\\nIf the method returns the parent object, you can skip the @return and add this line instead:\\n\\n```\\n@chainable\\n```\\n\\n## Additional signatures\\n\\nIf a method has multiple possible parameter options, you can specify each individually. For example, see the examples for [background](http://p5js.org/reference/#p5/background) under \\\"syntax\\\". To do this, choose one version to list as the first signature using the guidelines above. At the end of the documentation block, you can add additional signatures, each in it's own block, following the example below.\\n\\n```\\n/**\\n * @method background\\n * @param {String} colorstring color string, possible formats include: integer\\n *                         rgb() or rgba(), percentage rgb() or rgba(),\\n *                         3-digit hex, 6-digit hex\\n * @param {Number} [a] alpha value\\n */\\n\\n/**\\n * @method background\\n * @param {Number} gray specifies a value between white and black\\n * @param {Number} [a]\\n */\\n```\\n\\nNotes:\\n* If a parameter has been defined previously, like `a` in this case, you do not need to fill in the definition again. \\n* It is not necessary to create a separate signature if the only difference between two signatures is the additional of an optional parameter.\\n* You can see two examples of this inline in the source code for [background](https://github.com/processing/p5.js/blob/f38f91308fdacc2f1982e0430b620778fff30a5a/src/color/setting.js#L106) and [color](https://github.com/processing/p5.js/blob/f38f91308fdacc2f1982e0430b620778fff30a5a/src/color/creating_reading.js#L241).\\n\\n## Specify other tags\\n\\nUse `@final` if a property or variable is a constant:\\n\\n```\\n    /**\\n     * PI is a mathematical constant with the value 3.14159265358979323846.\\n     * @property PI\\n     * @type Number\\n     * @final\\n     */\\n    PI: PI\\n```\\n\\nUse `@private` if a property or variable is a private variable (default is `@public` so no need to specify).\\n\\n```\\n    /**\\n     * _start calls preload() setup() and draw()\\n     * \\n     * @method _start\\n     * @private\\n     */\\n     p5.prototype._start = function () {\\n```\\n\\n## Specify module for files\\n\\nThe top of each *file* should contain a `@module` tag at the top of the file. Modules should correspond to JavaScript files (or require.js modules). They can work as groups in the lists of items. see here: http://p5js.org/api/#methods (the modules are COLOR, IMAGE, PVECTOR, etc.). \\n\\n```\\n/**\\n * @module image\\n */\\ndefine(function (require) {\\n  // code here\\n};\\n```\\n\\n\\n## Constructors\\n\\nConstructors are defined with `@class`. Each constructor should have the tag `@class` followed by the name of the class, as well as the tag `@constructor`, and any `@param` tags required.\\n\\n```\\n  /**\\n   * The p5 constructor function.\\n   * @class p5\\n   * @constructor\\n   * @param {Object} [node] The canvas element. A canvas will be added to the DOM if not provided.\\n   * @param {Object} [sketch] The sketch object.\\n   */\\n   const p5 = function( node, sketch) {\\n     ...\\n   }\\n```\\n\\n## Adding example code\\n\\nOptionally, you can add examples with `@example`. Example code can be placed between `<code></code>` tags with comments included. Unless otherwise specified with a `setup()` function, each `<code>` block is automatically run on a canvas of 100x100 pixels with a gray background. Please see examples in other src files to make sure it is formatted correctly.\\n\\n```\\n@example\\n<div>\\n<code>\\narc(50, 55, 50, 50, 0, HALF_PI);\\nnoFill();\\narc(50, 55, 60, 60, HALF_PI, PI);\\narc(50, 55, 70, 70, PI, PI+QUARTER_PI);\\narc(50, 55, 80, 80, PI+QUARTER_PI, TWO_PI);\\n</code>\\n</div>\\n```\\n\\nYou can have multiple examples for one function, just make sure each has it's own `<div>` wrapping. \\n```\\n@example\\n<div>\\n<code>arc(50, 50, 80, 80, 0, PI+QUARTER_PI, OPEN);</code>\\n</div>\\n<div>\\n<code>arc(50, 50, 80, 80, 0, PI, OPEN);</code>\\n</div>\\n```\\n\\nIf you do not want the example to render with canvas (ie you just want the code to show up), include the class \\\"norender\\\" in the div:\\n```\\n@example\\n<div class=\\\"norender\\\">\\n<code>arc(50, 50, 80, 80, 0, PI+QUARTER_PI, OPEN);</code>\\n</div>\\n```\\n\\n\\nIf you do not want the example to be run as part of the build tests (for example, if the example requires user interaction, or uses functionality not supported by the headless-Chrome test framework), include the class \\\"notest\\\" in the div:\\n```\\n@example\\n<div class='norender notest'><code>\\nfunction setup() {\\n  const c = createCanvas(100, 100);\\n  saveCanvas(c, 'myCanvas', 'jpg');\\n}\\n</code></div>\\n```\\n\\nIf you need to link to external asset files, put them in [/docs/yuidoc-p5-theme/assets](https://github.com/processing/p5.js/tree/master/docs/yuidoc-p5-theme/assets) and then link to them with \\\"assets/filename.ext\\\" in the code. See the [tint example](http://p5js.org/reference/#/p5/tint).\\n\\nOn some code editors copy-pasting examples in the inline documentation may be awkward and require a lot of adjustments (tabs, asterisks, spaces). You can use this simple tool to beautify the code (and re-indent it to 2 spaces) and make it ready for a copy-paste: \\n[p5examplesFormatter](http://molleindustria.org/p5examplesFormatter/)\\n| [download as zip](http://molleindustria.org/p5examplesFormatter/p5examplesFormatter.zip)\\n\\n### Adding alt-text\\nFinally, if you add an example, please add [alt-text](https://moz.com/learn/seo/alt-text) so visually impaired users can understand what the example is showing on the screen. This can be added with the tag `@alt` at the end of all of the examples for a given function (not an individual `@alt` tag under each), add a line break to separate the descriptions for multiple examples.\\n```\\n@example\\n<div>\\n<code>\\nlet xoff = 0.0;\\nfunction draw() {\\n  background(204);\\n  xoff = xoff + 0.01;\\n  const n = noise(xoff) * width;\\n  line(n, 0, n, height);\\n}\\n</code>\\n</div>\\n<div>\\n<code>\\nconst noiseScale=0.02;\\nfunction draw() {\\n  background(0);\\n  for (let x=0; x < width; x++) {\\n    const noiseVal = noise((mouseX+x)*noiseScale, mouseY*noiseScale);\\n    stroke(noiseVal*255);\\n    line(x, mouseY+noiseVal*80, x, height);\\n  }\\n}\\n</code>\\n</div>\\n\\n@alt\\nvertical line moves left to right with updating noise values.\\nhorizontal wave pattern effected by mouse x-position & updating noise values.\\n```\\n\\n\\n## Generating documentation\\n\\nRun `grunt yui:build` once first to generate all local files needed, as well as a copy of the reference from the source code. Run it again anytime you make changes to the core JS files behind the yuidoc reference page. These are changes in files located in the yuidoc-p5-theme-src folder, NOT inline documentation changes to src. If you only made changes to the source code, you can just run `grunt yui`, though `grunt yui:build` will also do the trick. \\n\\nThe build reference can be found in docs/reference. To preview it locally, run `grunt yui:dev` and view it as http://localhost:9001/docs/reference/.\\n\\n## Spanish language version\\n\\nThe [Spanish version](http://p5js.org/es/reference) is created a little differently. Here are [instructions](https://github.com/processing/p5.js-website/blob/master/contributor_docs/i18n_contribution.md) to update this material.\\n\\n[end of inline_documentation.md]\\n[start of p5.Image.js]\\n/**\\n * @module Image\\n * @submodule Image\\n * @requires core\\n * @requires constants\\n * @requires filters\\n */\\n\\n/**\\n * This module defines the <a href=\\\"#/p5.Image\\\">p5.Image</a> class and P5 methods for\\n * drawing images to the main display canvas.\\n */\\n\\n'use strict';\\n\\nvar p5 = require('../core/main');\\nvar Filters = require('./filters');\\n\\n/*\\n * Class methods\\n */\\n\\n/**\\n * Creates a new <a href=\\\"#/p5.Image\\\">p5.Image</a>. A <a href=\\\"#/p5.Image\\\">p5.Image</a> is a canvas backed representation of an\\n * image.\\n * <br><br>\\n * p5 can display .gif, .jpg and .png images. Images may be displayed\\n * in 2D and 3D space. Before an image is used, it must be loaded with the\\n * <a href=\\\"#/p5/loadImage\\\">loadImage()</a> function. The <a href=\\\"#/p5.Image\\\">p5.Image</a> class contains fields for the width and\\n * height of the image, as well as an array called <a href=\\\"#/p5.Image/pixels\\\">pixels[]</a> that contains the\\n * values for every pixel in the image.\\n * <br><br>\\n * The methods described below allow easy access to the image's pixels and\\n * alpha channel and simplify the process of compositing.\\n * <br><br>\\n * Before using the <a href=\\\"#/p5.Image/pixels\\\">pixels[]</a> array, be sure to use the <a href=\\\"#/p5.Image/loadPixels\\\">loadPixels()</a> method on\\n * the image to make sure that the pixel data is properly loaded.\\n * @example\\n * <div><code>\\n * function setup() {\\n *   let img = createImage(100, 100); // same as new p5.Image(100, 100);\\n *   img.loadPixels();\\n *   createCanvas(100, 100);\\n *   background(0);\\n *\\n *   // helper for writing color to array\\n *   function writeColor(image, x, y, red, green, blue, alpha) {\\n *     let index = (x + y * width) * 4;\\n *     image.pixels[index] = red;\\n *     image.pixels[index + 1] = green;\\n *     image.pixels[index + 2] = blue;\\n *     image.pixels[index + 3] = alpha;\\n *   }\\n *\\n *   let x, y;\\n *   // fill with random colors\\n *   for (y = 0; y < img.height; y++) {\\n *     for (x = 0; x < img.width; x++) {\\n *       let red = random(255);\\n *       let green = random(255);\\n *       let blue = random(255);\\n *       let alpha = 255;\\n *       writeColor(img, x, y, red, green, blue, alpha);\\n *     }\\n *   }\\n *\\n *   // draw a red line\\n *   y = 0;\\n *   for (x = 0; x < img.width; x++) {\\n *     writeColor(img, x, y, 255, 0, 0, 255);\\n *   }\\n *\\n *   // draw a green line\\n *   y = img.height - 1;\\n *   for (x = 0; x < img.width; x++) {\\n *     writeColor(img, x, y, 0, 255, 0, 255);\\n *   }\\n *\\n *   img.updatePixels();\\n *   image(img, 0, 0);\\n * }\\n * </code></div>\\n *\\n *\\n * @class p5.Image\\n * @param {Number} width\\n * @param {Number} height\\n */\\np5.Image = function(width, height) {\\n  /**\\n   * Image width.\\n   * @property {Number} width\\n   * @readOnly\\n   * @example\\n   * <div><code>\\n   * let img;\\n   * function preload() {\\n   *   img = loadImage('assets/rockies.jpg');\\n   * }\\n   *\\n   * function setup() {\\n   *   createCanvas(100, 100);\\n   *   image(img, 0, 0);\\n   *   for (let i = 0; i < img.width; i++) {\\n   *     let c = img.get(i, img.height / 2);\\n   *     stroke(c);\\n   *     line(i, height / 2, i, height);\\n   *   }\\n   * }\\n   * </code></div>\\n   *\\n   * @alt\\n   * rocky mountains in top and horizontal lines in corresponding colors in bottom.\\n   *\\n   */\\n  this.width = width;\\n  /**\\n   * Image height.\\n   * @property {Number} height\\n   * @readOnly\\n   * @example\\n   * <div><code>\\n   * let img;\\n   * function preload() {\\n   *   img = loadImage('assets/rockies.jpg');\\n   * }\\n   *\\n   * function setup() {\\n   *   createCanvas(100, 100);\\n   *   image(img, 0, 0);\\n   *   for (let i = 0; i < img.height; i++) {\\n   *     let c = img.get(img.width / 2, i);\\n   *     stroke(c);\\n   *     line(0, i, width / 2, i);\\n   *   }\\n   * }\\n   * </code></div>\\n   *\\n   * @alt\\n   * rocky mountains on right and vertical lines in corresponding colors on left.\\n   *\\n   */\\n  this.height = height;\\n  this.canvas = document.createElement('canvas');\\n  this.canvas.width = this.width;\\n  this.canvas.height = this.height;\\n  this.drawingContext = this.canvas.getContext('2d');\\n  this._pixelsState = this;\\n  this._pixelDensity = 1;\\n  //used for webgl texturing only\\n  this._modified = false;\\n  this._pixelsDirty = true;\\n  /**\\n   * Array containing the values for all the pixels in the display window.\\n   * These values are numbers. This array is the size (include an appropriate\\n   * factor for pixelDensity) of the display window x4,\\n   * representing the R, G, B, A values in order for each pixel, moving from\\n   * left to right across each row, then down each column. Retina and other\\n   * high denisty displays may have more pixels (by a factor of\\n   * pixelDensity^2).\\n   * For example, if the image is 100x100 pixels, there will be 40,000. With\\n   * pixelDensity = 2, there will be 160,000. The first four values\\n   * (indices 0-3) in the array will be the R, G, B, A values of the pixel at\\n   * (0, 0). The second four values (indices 4-7) will contain the R, G, B, A\\n   * values of the pixel at (1, 0). More generally, to set values for a pixel\\n   * at (x, y):\\n   * ```javascript\\n   * let d = pixelDensity();\\n   * for (let i = 0; i < d; i++) {\\n   *   for (let j = 0; j < d; j++) {\\n   *     // loop over\\n   *     index = 4 * ((y * d + j) * width * d + (x * d + i));\\n   *     pixels[index] = r;\\n   *     pixels[index+1] = g;\\n   *     pixels[index+2] = b;\\n   *     pixels[index+3] = a;\\n   *   }\\n   * }\\n   * ```\\n   * <br><br>\\n   * Before accessing this array, the data must loaded with the <a href=\\\"#/p5.Image/loadPixels\\\">loadPixels()</a>\\n   * function. After the array data has been modified, the <a href=\\\"#/p5.Image/updatePixels\\\">updatePixels()</a>\\n   * function must be run to update the changes.\\n   * @property {Number[]} pixels\\n   * @example\\n   * <div>\\n   * <code>\\n   * let img = createImage(66, 66);\\n   * img.loadPixels();\\n   * for (let i = 0; i < img.width; i++) {\\n   *   for (let j = 0; j < img.height; j++) {\\n   *     img.set(i, j, color(0, 90, 102));\\n   *   }\\n   * }\\n   * img.updatePixels();\\n   * image(img, 17, 17);\\n   * </code>\\n   * </div>\\n   * <div>\\n   * <code>\\n   * let pink = color(255, 102, 204);\\n   * let img = createImage(66, 66);\\n   * img.loadPixels();\\n   * for (let i = 0; i < 4 * (width * height / 2); i += 4) {\\n   *   img.pixels[i] = red(pink);\\n   *   img.pixels[i + 1] = green(pink);\\n   *   img.pixels[i + 2] = blue(pink);\\n   *   img.pixels[i + 3] = alpha(pink);\\n   * }\\n   * img.updatePixels();\\n   * image(img, 17, 17);\\n   * </code>\\n   * </div>\\n   *\\n   * @alt\\n   * 66x66 turquoise rect in center of canvas\\n   * 66x66 pink rect in center of canvas\\n   *\\n   */\\n  this.pixels = [];\\n};\\n\\n/**\\n * Helper fxn for sharing pixel methods\\n *\\n */\\np5.Image.prototype._setProperty = function(prop, value) {\\n  this[prop] = value;\\n  this.setModified(true);\\n};\\n\\n/**\\n * Loads the pixels data for this image into the [pixels] attribute.\\n *\\n * @method loadPixels\\n * @example\\n * <div><code>\\n * let myImage;\\n * let halfImage;\\n *\\n * function preload() {\\n *   myImage = loadImage('assets/rockies.jpg');\\n * }\\n *\\n * function setup() {\\n *   myImage.loadPixels();\\n *   halfImage = 4 * myImage.width * myImage.height / 2;\\n *   for (let i = 0; i < halfImage; i++) {\\n *     myImage.pixels[i + halfImage] = myImage.pixels[i];\\n *   }\\n *   myImage.updatePixels();\\n * }\\n *\\n * function draw() {\\n *   image(myImage, 0, 0, width, height);\\n * }\\n * </code></div>\\n *\\n * @alt\\n * 2 images of rocky mountains vertically stacked\\n *\\n */\\np5.Image.prototype.loadPixels = function() {\\n  p5.Renderer2D.prototype.loadPixels.call(this);\\n  this.setModified(true);\\n};\\n\\n/**\\n * Updates the backing canvas for this image with the contents of\\n * the [pixels] array.\\n *\\n * @method updatePixels\\n * @param {Integer} x x-offset of the target update area for the\\n *                              underlying canvas\\n * @param {Integer} y y-offset of the target update area for the\\n *                              underlying canvas\\n * @param {Integer} w height of the target update area for the\\n *                              underlying canvas\\n * @param {Integer} h height of the target update area for the\\n *                              underlying canvas\\n * @example\\n * <div><code>\\n * let myImage;\\n * let halfImage;\\n *\\n * function preload() {\\n *   myImage = loadImage('assets/rockies.jpg');\\n * }\\n *\\n * function setup() {\\n *   myImage.loadPixels();\\n *   halfImage = 4 * myImage.width * myImage.height / 2;\\n *   for (let i = 0; i < halfImage; i++) {\\n *     myImage.pixels[i + halfImage] = myImage.pixels[i];\\n *   }\\n *   myImage.updatePixels();\\n * }\\n *\\n * function draw() {\\n *   image(myImage, 0, 0, width, height);\\n * }\\n * </code></div>\\n *\\n * @alt\\n * 2 images of rocky mountains vertically stacked\\n *\\n */\\n/**\\n * @method updatePixels\\n */\\np5.Image.prototype.updatePixels = function(x, y, w, h) {\\n  p5.Renderer2D.prototype.updatePixels.call(this, x, y, w, h);\\n  this.setModified(true);\\n};\\n\\n/**\\n * Get a region of pixels from an image.\\n *\\n * If no params are passed, the whole image is returned.\\n * If x and y are the only params passed a single pixel is extracted.\\n * If all params are passed a rectangle region is extracted and a <a href=\\\"#/p5.Image\\\">p5.Image</a>\\n * is returned.\\n *\\n * @method get\\n * @param  {Number}               x x-coordinate of the pixel\\n * @param  {Number}               y y-coordinate of the pixel\\n * @param  {Number}               w width\\n * @param  {Number}               h height\\n * @return {p5.Image}             the rectangle <a href=\\\"#/p5.Image\\\">p5.Image</a>\\n * @example\\n * <div><code>\\n * let myImage;\\n * let c;\\n *\\n * function preload() {\\n *   myImage = loadImage('assets/rockies.jpg');\\n * }\\n *\\n * function setup() {\\n *   background(myImage);\\n *   noStroke();\\n *   c = myImage.get(60, 90);\\n *   fill(c);\\n *   rect(25, 25, 50, 50);\\n * }\\n *\\n * //get() returns color here\\n * </code></div>\\n *\\n * @alt\\n * image of rocky mountains with 50x50 green rect in front\\n *\\n */\\n/**\\n * @method get\\n * @return {p5.Image}      the whole <a href=\\\"#/p5.Image\\\">p5.Image</a>\\n */\\n/**\\n * @method get\\n * @param  {Number}        x\\n * @param  {Number}        y\\n * @return {Number[]}      color of pixel at x,y in array format [R, G, B, A]\\n */\\np5.Image.prototype.get = function(x, y, w, h) {\\n  p5._validateParameters('p5.Image.get', arguments);\\n  return p5.Renderer2D.prototype.get.apply(this, arguments);\\n};\\n\\np5.Image.prototype._getPixel = p5.Renderer2D.prototype._getPixel;\\n\\n/**\\n * Set the color of a single pixel or write an image into\\n * this <a href=\\\"#/p5.Image\\\">p5.Image</a>.\\n *\\n * Note that for a large number of pixels this will\\n * be slower than directly manipulating the pixels array\\n * and then calling <a href=\\\"#/p5.Image/updatePixels\\\">updatePixels()</a>.\\n *\\n * @method set\\n * @param {Number}              x x-coordinate of the pixel\\n * @param {Number}              y y-coordinate of the pixel\\n * @param {Number|Number[]|Object}   a grayscale value | pixel array |\\n *                                a <a href=\\\"#/p5.Color\\\">p5.Color</a> | image to copy\\n * @example\\n * <div>\\n * <code>\\n * let img = createImage(66, 66);\\n * img.loadPixels();\\n * for (let i = 0; i < img.width; i++) {\\n *   for (let j = 0; j < img.height; j++) {\\n *     img.set(i, j, color(0, 90, 102, (i % img.width) * 2));\\n *   }\\n * }\\n * img.updatePixels();\\n * image(img, 17, 17);\\n * image(img, 34, 34);\\n * </code>\\n * </div>\\n *\\n * @alt\\n * 2 gradated dark turquoise rects fade left. 1 center 1 bottom right of canvas\\n *\\n */\\np5.Image.prototype.set = function(x, y, imgOrCol) {\\n  p5.Renderer2D.prototype.set.call(this, x, y, imgOrCol);\\n  this.setModified(true);\\n};\\n\\n/**\\n * Resize the image to a new width and height. To make the image scale\\n * proportionally, use 0 as the value for the wide or high parameter.\\n * For instance, to make the width of an image 150 pixels, and change\\n * the height using the same proportion, use resize(150, 0).\\n *\\n * @method resize\\n * @param {Number} width the resized image width\\n * @param {Number} height the resized image height\\n * @example\\n * <div><code>\\n * let img;\\n *\\n * function preload() {\\n *   img = loadImage('assets/rockies.jpg');\\n * }\\n\\n * function draw() {\\n *   image(img, 0, 0);\\n * }\\n *\\n * function mousePressed() {\\n *   img.resize(50, 100);\\n * }\\n * </code></div>\\n *\\n * @alt\\n * image of rocky mountains. zoomed in\\n *\\n */\\np5.Image.prototype.resize = function(width, height) {\\n  // Copy contents to a temporary canvas, resize the original\\n  // and then copy back.\\n  //\\n  // There is a faster approach that involves just one copy and swapping the\\n  // this.canvas reference. We could switch to that approach if (as i think\\n  // is the case) there an expectation that the user would not hold a\\n  // reference to the backing canvas of a p5.Image. But since we do not\\n  // enforce that at the moment, I am leaving in the slower, but safer\\n  // implementation.\\n\\n  // auto-resize\\n  if (width === 0 && height === 0) {\\n    width = this.canvas.width;\\n    height = this.canvas.height;\\n  } else if (width === 0) {\\n    width = this.canvas.width * height / this.canvas.height;\\n  } else if (height === 0) {\\n    height = this.canvas.height * width / this.canvas.width;\\n  }\\n\\n  width = Math.floor(width);\\n  height = Math.floor(height);\\n\\n  var tempCanvas = document.createElement('canvas');\\n  tempCanvas.width = width;\\n  tempCanvas.height = height;\\n  // prettier-ignore\\n  tempCanvas.getContext('2d').drawImage(\\n    this.canvas,\\n    0, 0, this.canvas.width, this.canvas.height,\\n    0, 0, tempCanvas.width, tempCanvas.height\\n  );\\n\\n  // Resize the original canvas, which will clear its contents\\n  this.canvas.width = this.width = width;\\n  this.canvas.height = this.height = height;\\n\\n  //Copy the image back\\n\\n  // prettier-ignore\\n  this.drawingContext.drawImage(\\n    tempCanvas,\\n    0, 0, width, height,\\n    0, 0, width, height\\n  );\\n\\n  if (this.pixels.length > 0) {\\n    this.loadPixels();\\n  }\\n\\n  this.setModified(true);\\n  this._pixelsDirty = true;\\n};\\n\\n/**\\n * Copies a region of pixels from one image to another. If no\\n * srcImage is specified this is used as the source. If the source\\n * and destination regions aren't the same size, it will\\n * automatically resize source pixels to fit the specified\\n * target region.\\n *\\n * @method copy\\n * @param  {p5.Image|p5.Element} srcImage source image\\n * @param  {Integer} sx X coordinate of the source's upper left corner\\n * @param  {Integer} sy Y coordinate of the source's upper left corner\\n * @param  {Integer} sw source image width\\n * @param  {Integer} sh source image height\\n * @param  {Integer} dx X coordinate of the destination's upper left corner\\n * @param  {Integer} dy Y coordinate of the destination's upper left corner\\n * @param  {Integer} dw destination image width\\n * @param  {Integer} dh destination image height\\n * @example\\n * <div><code>\\n * let photo;\\n * let bricks;\\n * let x;\\n * let y;\\n *\\n * function preload() {\\n *   photo = loadImage('assets/rockies.jpg');\\n *   bricks = loadImage('assets/bricks.jpg');\\n * }\\n *\\n * function setup() {\\n *   x = bricks.width / 2;\\n *   y = bricks.height / 2;\\n *   photo.copy(bricks, 0, 0, x, y, 0, 0, x, y);\\n *   image(photo, 0, 0);\\n * }\\n * </code></div>\\n *\\n * @alt\\n * image of rocky mountains and smaller image on top of bricks at top left\\n *\\n */\\n/**\\n * @method copy\\n * @param  {Integer} sx\\n * @param  {Integer} sy\\n * @param  {Integer} sw\\n * @param  {Integer} sh\\n * @param  {Integer} dx\\n * @param  {Integer} dy\\n * @param  {Integer} dw\\n * @param  {Integer} dh\\n */\\np5.Image.prototype.copy = function() {\\n  var srcImage, sx, sy, sw, sh, dx, dy, dw, dh;\\n  if (arguments.length === 9) {\\n    srcImage = arguments[0];\\n    sx = arguments[1];\\n    sy = arguments[2];\\n    sw = arguments[3];\\n    sh = arguments[4];\\n    dx = arguments[5];\\n    dy = arguments[6];\\n    dw = arguments[7];\\n    dh = arguments[8];\\n  } else if (arguments.length === 8) {\\n    srcImage = this;\\n    sx = arguments[0];\\n    sy = arguments[1];\\n    sw = arguments[2];\\n    sh = arguments[3];\\n    dx = arguments[4];\\n    dy = arguments[5];\\n    dw = arguments[6];\\n    dh = arguments[7];\\n  } else {\\n    throw new Error('Signature not supported');\\n  }\\n  p5.Renderer2D._copyHelper(this, srcImage, sx, sy, sw, sh, dx, dy, dw, dh);\\n  this._pixelsDirty = true;\\n};\\n\\n/**\\n * Masks part of an image from displaying by loading another\\n * image and using it's alpha channel as an alpha channel for\\n * this image.\\n *\\n * @method mask\\n * @param {p5.Image} srcImage source image\\n * @example\\n * <div><code>\\n * let photo, maskImage;\\n * function preload() {\\n *   photo = loadImage('assets/rockies.jpg');\\n *   maskImage = loadImage('assets/mask2.png');\\n * }\\n *\\n * function setup() {\\n *   createCanvas(100, 100);\\n *   photo.mask(maskImage);\\n *   image(photo, 0, 0);\\n * }\\n * </code></div>\\n *\\n * @alt\\n * image of rocky mountains with white at right\\n *\\n *\\n * http://blogs.adobe.com/webplatform/2013/01/28/blending-features-in-canvas/\\n *\\n */\\n// TODO: - Accept an array of alpha values.\\n//       - Use other channels of an image. p5 uses the\\n//       blue channel (which feels kind of arbitrary). Note: at the\\n//       moment this method does not match native processings original\\n//       functionality exactly.\\np5.Image.prototype.mask = function(p5Image) {\\n  if (p5Image === undefined) {\\n    p5Image = this;\\n  }\\n  var currBlend = this.drawingContext.globalCompositeOperation;\\n\\n  var scaleFactor = 1;\\n  if (p5Image instanceof p5.Renderer) {\\n    scaleFactor = p5Image._pInst._pixelDensity;\\n  }\\n\\n  var copyArgs = [\\n    p5Image,\\n    0,\\n    0,\\n    scaleFactor * p5Image.width,\\n    scaleFactor * p5Image.height,\\n    0,\\n    0,\\n    this.width,\\n    this.height\\n  ];\\n\\n  this.drawingContext.globalCompositeOperation = 'destination-in';\\n  p5.Image.prototype.copy.apply(this, copyArgs);\\n  this.drawingContext.globalCompositeOperation = currBlend;\\n  this.setModified(true);\\n};\\n\\n/**\\n * Applies an image filter to a <a href=\\\"#/p5.Image\\\">p5.Image</a>\\n *\\n * @method filter\\n * @param  {Constant} filterType  either THRESHOLD, GRAY, OPAQUE, INVERT,\\n *                                POSTERIZE, BLUR, ERODE, DILATE or BLUR.\\n *                                See Filters.js for docs on\\n *                                each available filter\\n * @param  {Number} [filterParam] an optional parameter unique\\n *                                to each filter, see above\\n * @example\\n * <div><code>\\n * let photo1;\\n * let photo2;\\n *\\n * function preload() {\\n *   photo1 = loadImage('assets/rockies.jpg');\\n *   photo2 = loadImage('assets/rockies.jpg');\\n * }\\n *\\n * function setup() {\\n *   photo2.filter(GRAY);\\n *   image(photo1, 0, 0);\\n *   image(photo2, width / 2, 0);\\n * }\\n * </code></div>\\n *\\n * @alt\\n * 2 images of rocky mountains left one in color, right in black and white\\n *\\n */\\np5.Image.prototype.filter = function(operation, value) {\\n  Filters.apply(this.canvas, Filters[operation], value);\\n  this.setModified(true);\\n};\\n\\n/**\\n * Copies a region of pixels from one image to another, using a specified\\n * blend mode to do the operation.\\n *\\n * @method blend\\n * @param  {p5.Image} srcImage source image\\n * @param  {Integer} sx X coordinate of the source's upper left corner\\n * @param  {Integer} sy Y coordinate of the source's upper left corner\\n * @param  {Integer} sw source image width\\n * @param  {Integer} sh source image height\\n * @param  {Integer} dx X coordinate of the destination's upper left corner\\n * @param  {Integer} dy Y coordinate of the destination's upper left corner\\n * @param  {Integer} dw destination image width\\n * @param  {Integer} dh destination image height\\n * @param  {Constant} blendMode the blend mode. either\\n *     BLEND, DARKEST, LIGHTEST, DIFFERENCE,\\n *     MULTIPLY, EXCLUSION, SCREEN, REPLACE, OVERLAY, HARD_LIGHT,\\n *     SOFT_LIGHT, DODGE, BURN, ADD or NORMAL.\\n *\\n * Available blend modes are: normal | multiply | screen | overlay |\\n *            darken | lighten | color-dodge | color-burn | hard-light |\\n *            soft-light | difference | exclusion | hue | saturation |\\n *            color | luminosity\\n *\\n *\\n * http://blogs.adobe.com/webplatform/2013/01/28/blending-features-in-canvas/\\n * @example\\n * <div><code>\\n * let mountains;\\n * let bricks;\\n *\\n * function preload() {\\n *   mountains = loadImage('assets/rockies.jpg');\\n *   bricks = loadImage('assets/bricks_third.jpg');\\n * }\\n *\\n * function setup() {\\n *   mountains.blend(bricks, 0, 0, 33, 100, 67, 0, 33, 100, ADD);\\n *   image(mountains, 0, 0);\\n *   image(bricks, 0, 0);\\n * }\\n * </code></div>\\n * <div><code>\\n * let mountains;\\n * let bricks;\\n *\\n * function preload() {\\n *   mountains = loadImage('assets/rockies.jpg');\\n *   bricks = loadImage('assets/bricks_third.jpg');\\n * }\\n *\\n * function setup() {\\n *   mountains.blend(bricks, 0, 0, 33, 100, 67, 0, 33, 100, DARKEST);\\n *   image(mountains, 0, 0);\\n *   image(bricks, 0, 0);\\n * }\\n * </code></div>\\n * <div><code>\\n * let mountains;\\n * let bricks;\\n *\\n * function preload() {\\n *   mountains = loadImage('assets/rockies.jpg');\\n *   bricks = loadImage('assets/bricks_third.jpg');\\n * }\\n *\\n * function setup() {\\n *   mountains.blend(bricks, 0, 0, 33, 100, 67, 0, 33, 100, LIGHTEST);\\n *   image(mountains, 0, 0);\\n *   image(bricks, 0, 0);\\n * }\\n * </code></div>\\n *\\n * @alt\\n * image of rocky mountains. Brick images on left and right. Right overexposed\\n * image of rockies. Brickwall images on left and right. Right mortar transparent\\n * image of rockies. Brickwall images on left and right. Right translucent\\n *\\n */\\n/**\\n * @method blend\\n * @param  {Integer} sx\\n * @param  {Integer} sy\\n * @param  {Integer} sw\\n * @param  {Integer} sh\\n * @param  {Integer} dx\\n * @param  {Integer} dy\\n * @param  {Integer} dw\\n * @param  {Integer} dh\\n * @param  {Constant} blendMode\\n */\\np5.Image.prototype.blend = function() {\\n  p5.prototype.blend.apply(this, arguments);\\n  this.setModified(true);\\n};\\n\\n/**\\n * helper method for web GL mode to indicate that an image has been\\n * changed or unchanged since last upload. gl texture upload will\\n * set this value to false after uploading the texture.\\n * @method setModified\\n * @param {boolean} val sets whether or not the image has been\\n * modified.\\n * @private\\n */\\np5.Image.prototype.setModified = function(val) {\\n  this._modified = val; //enforce boolean?\\n};\\n\\n/**\\n * helper method for web GL mode to figure out if the image\\n * has been modified and might need to be re-uploaded to texture\\n * memory between frames.\\n * @method isModified\\n * @private\\n * @return {boolean} a boolean indicating whether or not the\\n * image has been updated or modified since last texture upload.\\n */\\np5.Image.prototype.isModified = function() {\\n  return this._modified;\\n};\\n\\n/**\\n * Saves the image to a file and force the browser to download it.\\n * Accepts two strings for filename and file extension\\n * Supports png (default) and jpg.\\n *\\n * @method save\\n * @param {String} filename give your file a name\\n * @param  {String} extension 'png' or 'jpg'\\n * @example\\n * <div><code>\\n * let photo;\\n *\\n * function preload() {\\n *   photo = loadImage('assets/rockies.jpg');\\n * }\\n *\\n * function draw() {\\n *   image(photo, 0, 0);\\n * }\\n *\\n * function keyTyped() {\\n *   if (key === 's') {\\n *     photo.save('photo', 'png');\\n *   }\\n * }\\n * </code></div>\\n *\\n * @alt\\n * image of rocky mountains.\\n *\\n */\\np5.Image.prototype.save = function(filename, extension) {\\n  p5.prototype.saveCanvas(this.canvas, filename, extension);\\n};\\n\\nmodule.exports = p5.Image;\\n\\n[end of p5.Image.js]\\n\\n</code>\\n\\nHere is an example of a patch file. It consists of changes to the code base. It specifies the file names, the line numbers of each change, and the removed and added lines. A single patch file can contain changes to multiple files.\\n\\n<patch>\\ndiff --git a/file.py b/file.py\\n--- a/file.py\\n+++ b/file.py\\n@@ -1,27 +1,35 @@\\n def euclidean(a, b):\\n-    while b:\\n-        a, b = b, a % b\\n-    return a\\n+    if b == 0:\\n+        return a\\n+    return euclidean(b, a % b)\\n \\n def bresenham(x0, y0, x1, y1):\\n+    points = []\\n+    dx = abs(x1 - x0)\\n+    dy = abs(y1 - y0)\\n+    sx = 1 if x0 < x1 else -1\\n+    sy = 1 if y0 < y1 else -1\\n+    err = dx - dy\\n+    \\n     while True:\\n-        plot(x0, y0)\\n+        points.append((x0, y0))\\n         if x0 == x1 and y0 == y1:\\n             break\\n-        e2 = 2 * err\\n-        if e2 > -dy:\\n-            err -= dy\\n-            x0 += sx\\n-        if e2 < dx:\\n-            err += dx\\n-            y0 += sy\\n+        e2 = 2 * err\\n+        if e2 > -dy:\\n+            err -= dy\\n+            x0 += sx\\n+        if e2 < dx:\\n+            err += dx\\n+            y0 += sy\\n+    return points\\n+</patch>\\n\\nI need you to solve the provided issue by generating a single patch file that I can apply directly to this repository using git apply. Please respond with a single patch file in the format shown above.\\n\\nRespond below: \\n\"}]",
      "retrieved_file_paths": [
        "ISSUE_TEMPLATE.md",
        "material.js",
        "loading_displaying.js",
        "inline_documentation.md",
        "p5.Image.js"
      ]
    },
    "retrieved_documents": [
      {
        "id": "bb84ccd0-def1-468f-b5cd-a4b2bbdfe0c1",
        "score": 0.01639344262295082,
        "payload": {
          "text": "<!--\nHi there! \n\nPLEASE NOTE: The github issues are for bugs and feature requests for the p5.js library itself. If you have a general question or bug programming with p5.js please post it in the p5.js forum: https://discourse.processing.org\n\nTo check any option, replace the \"[ ]\" with a \"[x]\". Be sure to check out how it looks in the Preview tab! Feel free to remove any portion of the template that is not relevant for your issue.\n-->\n\n#### Nature of issue?\n\n- [ ] Found a bug\n- [ ] Existing feature enhancement\n- [ ] New feature request\n\n#### Most appropriate sub-area of p5.js?\n\n- [ ] Color\n- [ ] Core/Environment/Rendering\n- [ ] Data\n- [ ] Events\n- [ ] Image\n- [ ] IO\n- [ ] Math\n- [ ] Typography\n- [ ] Utilities\n- [ ] WebGL\n- [ ] Other (specify if possible)\n\n#### Which platform were you using when you encountered this?\n\n- [ ] Mobile/Tablet (touch devices)\n- [ ] Desktop/Laptop\n- [ ] Others (specify if possible)\n\n#### Details about the bug: \n\n- p5.js version: <!-- You can first this in the first line of the p5.js file -->\n- Web browser and version: <!-- In the address bar, on Chrome enter \"chrome://version\", on Firefox enter \"about:support\". On Safari, use \"About Safari\". -->\n- Operating System: <!-- Ex: Windows/MacOSX/Linux along with version -->\n- Steps to reproduce this:\n<!-- Include a simple code snippet that demonstrates the problem, along with any console errors produced. If this isn't possible, then simply describe the issue as best you can! -->\n\n<!-- If you want to enhance an existing feature, please describe here, otherwise remove this section -->\n#### Feature enhancement details:\n\n\n<!-- If you want to request a new feature, please describe here, otherwise remove this section -->\n#### New feature details:\n\n",
          "filepath": "data/repos/processing/p5.js-0.8/ISSUE_TEMPLATE.md",
          "repo": "processing/p5.js",
          "version": "0.8",
          "chunk_index": 0,
          "chunk_id": "bb84ccd0-def1-468f-b5cd-a4b2bbdfe0c1"
        }
      },
      {
        "id": "719d8b20-651d-47b1-b536-a15c2ded4b4d",
        "score": 0.016129032258064516,
        "payload": {
          "text": "/**\n * @module Lights, Camera\n * @submodule Material\n * @for p5\n * @requires core\n */\n\n'use strict';\n\nvar p5 = require('../core/main');\nvar constants = require('../core/constants');\nrequire('./p5.Texture');\n\n/**\n * Loads a custom shader from the provided vertex and fragment\n * shader paths. The shader files are loaded asynchronously in the\n * background, so this method should be used in <a href=\"#/p5/preload\">preload()</a>.\n *\n * For now, there are three main types of shaders. p5 will automatically\n * supply appropriate vertices, normals, colors, and lighting attributes\n * if the parameters defined in the shader match the names.\n *\n * @method loadShader\n * @param {String} vertFilename path to file containing vertex shader\n * source code\n * @param {String} fragFilename path to file containing fragment shader\n * source code\n * @param {function} [callback] callback to be executed after loadShader\n * completes. On success, the Shader object is passed as the first argument.\n * @param {function} [errorCallback] callback to be executed when an error\n * occurs inside loadShader. On error, the error is passed as the first\n * argument.\n * @return {p5.Shader} a shader object created from the provided\n * vertex and fragment shader files.\n *\n * @example\n * <div modernizr='webgl'>\n * <code>\n * let mandel;\n * function preload() {\n *   // load the shader definitions from files\n *   mandel = loadShader('assets/shader.vert', 'assets/shader.frag');\n * }\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n *   // use the shader\n *   shader(mandel);\n *   noStroke();\n *   mandel.setUniform('p', [-0.74364388703, 0.13182590421]);\n * }\n *\n * function draw() {\n *   mandel.setUniform('r', 1.5 * exp(-6.5 * (1 + sin(millis() / 2000))));\n *   quad(-1, -1, 1, -1, 1, 1, -1, 1);\n * }\n * </code>\n * </div>\n *\n * @alt\n * zooming Mandelbrot set. a colorful, infinitely detailed fractal.\n */\np5.prototype.loadShader = function(\n  vertFilename,\n  fragFilename,\n  callback,\n  errorCallback\n) {\n  p5._validateParameters('loadShader', arguments);\n  if (!errorCallback) {\n    errorCallback = console.error;\n  }\n\n  var loadedShader = new p5.Shader();\n\n  var self = this;\n  var loadedFrag = false;\n  var loadedVert = false;\n\n  var onLoad = function() {\n    self._decrementPreload();\n    if (callback) {\n      callback(loadedShader);\n    }\n  };\n\n  this.loadStrings(\n    vertFilename,\n    function(result) {\n      loadedShader._vertSrc = result.join('\\n');\n      loadedVert = true;\n      if (loadedFrag) {\n        onLoad();\n      }\n    },\n    errorCallback\n  );\n\n  this.loadStrings(\n    fragFilename,\n    function(result) {\n      loadedShader._fragSrc = result.join('\\n');\n      loadedFrag = true;\n      if (loadedVert) {\n        onLoad();\n      }\n    },\n    errorCallback\n  );\n\n  return loadedShader;\n};\n\n/**\n * @method createShader\n * @param {String} vertSrc source code for the vertex shader\n * @param {String} fragSrc source code for the fragment shader\n * @returns {p5.Shader} a shader object created from the provided\n * vertex and fragment shaders.\n *\n * @example\n * <div modernizr='webgl'>\n * <code>\n * // the 'varying's are shared between both vertex & fragment shaders\n * let varying = 'precision highp float; varying vec2 vPos;';\n *\n * // the vertex shader is called for each vertex\n * let vs =\n *   varying +\n *   'attribute vec3 aPosition;' +\n *   'void main() { vPos = (gl_Position = vec4(aPosition,1.0)).xy; }';\n *\n * // the fragment shader is called for each pixel\n * let fs =\n *   varying +\n *   'uniform vec2 p;' +\n *   'uniform float r;' +\n *   'const int I = 500;' +\n *   'void main() {' +\n *   '  vec2 c = p + vPos * r, z = c;' +\n *   '  float n = 0.0;' +\n *   '  for (int i = I; i > 0; i --) {' +\n *   '    if(z.x*z.x+z.y*z.y > 4.0) {' +\n *   '      n = float(i)/float(I);' +\n *   '      break;' +\n *   '    }' +\n *   '    z = vec2(z.x*z.x-z.y*z.y, 2.0*z.x*z.y) + c;' +\n *   '  }' +\n *   '  gl_FragColor = vec4(0.5-cos(n*17.0)/2.0,0.5-cos(n*13.0)/2.0,0.5-cos(n*23.0)/2.0,1.0);' +\n *   '}';\n *\n * let mandel;\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n *\n *   // create and initialize the shader\n *   mandel = createShader(vs, fs);\n *   shader(mandel);\n *   noStroke();\n *\n *   // 'p' is the center point of the Mandelbrot image\n *   mandel.setUniform('p', [-0.74364388703, 0.13182590421]);\n * }\n *\n * function draw() {\n *   // 'r' is the size of the image in Mandelbrot-space\n *   mandel.setUniform('r', 1.5 * exp(-6.5 * (1 + sin(millis() / 2000))));\n *   quad(-1, -1, 1, -1, 1, 1, -1, 1);\n * }\n * </code>\n * </div>\n *\n * @alt\n * zooming Mandelbrot set. a colorful, infinitely detailed fractal.\n */\np5.prototype.createShader = function(vertSrc, fragSrc) {\n  this._assert3d('createShader');\n  p5._validateParameters('createShader', arguments);\n  return new p5.Shader(this._renderer, vertSrc, fragSrc);\n};\n\n/**\n * The <a href=\"#/p5/shader\">shader()</a> function lets the user provide a custom shader\n * to fill in shapes in WEBGL mode. Users can create their\n * own shaders by loading vertex and fragment shaders with\n * <a href=\"#/p5/loadShader\">loadShader()</a>.\n *\n * @method shader\n * @chainable\n * @param {p5.Shader} [s] the desired <a href=\"#/p5.Shader\">p5.Shader</a> to use for rendering\n * shapes.\n */\np5.prototype.shader = function(s) {\n  this._assert3d('shader');\n  p5._validateParameters('shader', arguments);\n\n  if (s._renderer === undefined) {\n    s._renderer = this._renderer;\n  }\n\n  if (s.isStrokeShader()) {\n    this._renderer.userStrokeShader = s;\n  } else {\n    this._renderer.userFillShader = s;\n    this._renderer._useNormalMaterial = false;\n  }\n\n  s.init();\n\n  return this;\n};\n\n/**\n * This function restores the default shaders in WEBGL mode. Code that runs\n * after resetShader() will not be affected by previously defined\n * shaders. Should be run after <a href=\"#/p5/shader\">shader()</a>.\n *\n * @method resetShader\n * @chainable\n */\np5.prototype.resetShader = function() {\n  this._renderer.userFillShader = this._renderer.userStrokeShader = null;\n  return this;\n};\n\n/**\n * Normal material for geometry. You can view all\n * possible materials in this\n * <a href=\"https://p5js.org/examples/3d-materials.html\">example</a>.\n * @method normalMaterial\n * @chainable\n * @example\n * <div>\n * <code>\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n * }\n *\n * function draw() {\n *   background(200);\n *   normalMaterial();\n *   sphere(40);\n * }\n * </code>\n * </div>\n *\n * @alt\n * Red, green and blue gradient.\n *\n */\np5.prototype.normalMaterial = function() {\n  this._assert3d('normalMaterial');\n  p5._validateParameters('normalMaterial', arguments);\n  this._renderer.drawMode = constants.FILL;\n  this._renderer._useSpecularMaterial = false;\n  this._renderer._useNormalMaterial = true;\n  this._renderer.curFillColor = [1, 1, 1, 1];\n  this._renderer._setProperty('_doFill', true);\n  this.noStroke();\n  return this;\n};\n\n/**\n * Texture for geometry.  You can view other possible materials in this\n * <a href=\"https://p5js.org/examples/3d-materials.html\">example</a>.\n * @method texture\n * @param {p5.Image|p5.MediaElement|p5.Graphics} tex 2-dimensional graphics\n *                    to render as texture\n * @chainable\n * @example\n * <div>\n * <code>\n * let img;\n * function preload() {\n *   img = loadImage('assets/laDefense.jpg');\n * }\n *\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n * }\n *\n * function draw() {\n *   background(0);\n *   rotateZ(frameCount * 0.01);\n *   rotateX(frameCount * 0.01);\n *   rotateY(frameCount * 0.01);\n *   //pass image as texture\n *   texture(img);\n *   box(200, 200, 200);\n * }\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * let pg;\n *\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n *   pg = createGraphics(200, 200);\n *   pg.textSize(75);\n * }\n *\n * function draw() {\n *   background(0);\n *   pg.background(255);\n *   pg.text('hello!', 0, 100);\n *   //pass image as texture\n *   texture(pg);\n *   rotateX(0.5);\n *   noStroke();\n *   plane(50);\n * }\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * let vid;\n * function preload() {\n *   vid = createVideo('assets/fingers.mov');\n *   vid.hide();\n * }\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n * }\n *\n * function draw() {\n *   background(0);\n *   //pass video frame as texture\n *   texture(vid);\n *   rect(-40, -40, 80, 80);\n * }\n *\n * function mousePressed() {\n *   vid.loop();\n * }\n * </code>\n * </div>\n *\n * @alt\n * Rotating view of many images umbrella and grid roof on a 3d plane\n * black canvas\n * black canvas\n *\n */\np5.prototype.texture = function(tex) {\n  this._assert3d('texture');\n  p5._validateParameters('texture', arguments);\n\n  this._renderer.drawMode = constants.TEXTURE;\n  this._renderer._useSpecularMaterial = false;\n  this._renderer._useNormalMaterial = false;\n  this._renderer._tex = tex;\n  this._renderer._setProperty('_doFill', true);\n\n  return this;\n};\n\n/**\n * Sets the coordinate space for texture mapping. The default mode is IMAGE\n * which refers to the actual coordinates of the image.\n * NORMAL refers to a normalized space of values ranging from 0 to 1.\n * This function only works in WEBGL mode.\n *\n * With IMAGE, if an image is 100 x 200 pixels, mapping the image onto the entire\n * size of a quad would require the points (0,0) (100, 0) (100,200) (0,200).\n * The same mapping in NORMAL is (0,0) (1,0) (1,1) (0,1).\n * @method  textureMode\n * @param {Constant} mode either IMAGE or NORMAL\n * @example\n * <div>\n * <code>\n * let img;\n *\n * function preload() {\n *   img = loadImage('assets/laDefense.jpg');\n * }\n *\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n * }\n *\n * function draw() {\n *   texture(img);\n *   textureMode(NORMAL);\n *   beginShape();\n *   vertex(-50, -50, 0, 0);\n *   vertex(50, -50, 1, 0);\n *   vertex(50, 50, 1, 1);\n *   vertex(-50, 50, 0, 1);\n *   endShape();\n * }\n * </code>\n * </div>\n *\n * @alt\n * the underside of a white umbrella and gridded ceiling above\n *\n * <div>\n * <code>\n * let img;\n *\n * function preload() {\n *   img = loadImage('assets/laDefense.jpg');\n * }\n *\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n * }\n *\n * function draw() {\n *   texture(img);\n *   textureMode(NORMAL);\n *   beginShape();\n *   vertex(-50, -50, 0, 0);\n *   vertex(50, -50, img.width, 0);\n *   vertex(50, 50, img.width, img.height);\n *   vertex(-50, 50, 0, img.height);\n *   endShape();\n * }\n * </code>\n * </div>\n *\n * @alt\n * the underside of a white umbrella and gridded ceiling above\n *\n */\np5.prototype.textureMode = function(mode) {\n  if (mode !== constants.IMAGE && mode !== constants.NORMAL) {\n    console.warn(\n      'You tried to set ' + mode + ' textureMode only supports IMAGE & NORMAL '\n    );\n  } else {\n    this._renderer.textureMode = mode;\n  }\n};\n\n/**\n * Sets the global texture wrapping mode. This controls how textures behave\n * when their uv's go outside of the 0 - 1 range. There are three options:\n * CLAMP, REPEAT, and MIRROR.\n *\n * CLAMP causes the pixels at the edge of the texture to extend to the bounds\n * REPEAT causes the texture to tile repeatedly until reaching the bounds\n * MIRROR works similarly to REPEAT but it flips the texture with every new tile\n *\n * REPEAT & MIRROR are only available if the texture\n * is a power of two size (128, 256, 512, 1024, etc.).\n *\n * This method will affect all textures in your sketch until a subsequent\n * textureWrap call is made.\n *\n * If only one argument is provided, it will be applied to both the\n * horizontal and vertical axes.\n * @method textureWrap\n * @param {Constant} wrapX either CLAMP, REPEAT, or MIRROR\n * @param {Constant} [wrapY] either CLAMP, REPEAT, or MIRROR\n * @example\n * <div>\n * <code>\n * let img;\n * function preload() {\n *   img = loadImage('assets/rockies128.jpg');\n * }\n *\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n *   textureWrap(MIRROR);\n * }\n *\n * function draw() {\n *   background(0);\n *\n *   let dX = mouseX;\n *   let dY = mouseY;\n *\n *   let u = lerp(1.0, 2.0, dX);\n *   let v = lerp(1.0, 2.0, dY);\n *\n *   scale(width / 2);\n *\n *   texture(img);\n *\n *   beginShape(TRIANGLES);\n *   vertex(-1, -1, 0, 0, 0);\n *   vertex(1, -1, 0, u, 0);\n *   vertex(1, 1, 0, u, v);\n *\n *   vertex(1, 1, 0, u, v);\n *   vertex(-1, 1, 0, 0, v);\n *   vertex(-1, -1, 0, 0, 0);\n *   endShape();\n * }\n * </code>\n * </div>\n *\n * @alt\n * an image of the rocky mountains repeated in mirrored tiles\n *\n */\np5.prototype.textureWrap = function(wrapX, wrapY) {\n  wrapY = wrapY || wrapX;\n\n  this._renderer.textureWrapX = wrapX;\n  this._renderer.textureWrapY = wrapY;\n\n  var textures = this._renderer.textures;\n  for (var i = 0; i < textures.length; i++) {\n    textures[i].setWrapMode(wrapX, wrapY);\n  }\n};\n\n/**\n * Ambient material for geometry with a given color. You can view all\n * possible materials in this\n * <a href=\"https://p5js.org/examples/3d-materials.html\">example</a>.\n * @method  ambientMaterial\n * @param  {Number} v1  gray value, red or hue value\n *                         (depending on the current color mode),\n * @param  {Number} [v2] green or saturation value\n * @param  {Number} [v3] blue or brightness value\n * @param  {Number} [a]  opacity\n * @chainable\n * @example\n * <div>\n * <code>\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n * }\n * function draw() {\n *   background(0);\n *   noStroke();\n *   ambientLight(200);\n *   ambientMaterial(70, 130, 230);\n *   sphere(40);\n * }\n * </code>\n * </div>\n *\n * @alt\n * radiating light source from top right of canvas\n *\n */\n/**\n * @method  ambientMaterial\n * @param  {Number[]|String|p5.Color} color  color, color Array, or CSS color string\n * @chainable\n */\np5.prototype.ambientMaterial = function(v1, v2, v3, a) {\n  this._assert3d('ambientMaterial');\n  p5._validateParameters('ambientMaterial', arguments);\n\n  var color = p5.prototype.color.apply(this, arguments);\n  this._renderer.curFillColor = color._array;\n  this._renderer._useSpecularMaterial = false;\n  this._renderer._useNormalMaterial = false;\n  this._renderer._enableLighting = true;\n  this._renderer._tex = null;\n\n  return this;\n};\n\n/**\n * Specular material for geometry with a given color. You can view all\n * possible materials in this\n * <a href=\"https://p5js.org/examples/3d-materials.html\">example</a>.\n * @method specularMaterial\n * @param  {Number} v1  gray value, red or hue value\n *                       (depending on the current color mode),\n * @param  {Number} [v2] green or saturation value\n * @param  {Number} [v3] blue or brightness value\n * @param  {Number} [a]  opacity\n * @chainable\n * @example\n * <div>\n * <code>\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n * }\n * function draw() {\n *   background(0);\n *   noStroke();\n *   ambientLight(50);\n *   pointLight(250, 250, 250, 100, 100, 30);\n *   specularMaterial(250);\n *   sphere(40);\n * }\n * </code>\n * </div>\n *\n * @alt\n * diffused radiating light source from top right of canvas\n *\n */\n/**\n * @method specularMaterial\n * @param  {Number[]|String|p5.Color} color color Array, or CSS color string\n * @chainable\n */\np5.prototype.specularMaterial = function(v1, v2, v3, a) {\n  this._assert3d('specularMaterial');\n  p5._validateParameters('specularMaterial', arguments);\n\n  var color = p5.prototype.color.apply(this, arguments);\n  this._renderer.curFillColor = color._array;\n  this._renderer._useSpecularMaterial = true;\n  this._renderer._useNormalMaterial = false;\n  this._renderer._enableLighting = true;\n  this._renderer._tex = null;\n\n  return this;\n};\n\n/**\n * Sets the amount of gloss in the surface of shapes.\n * Used in combination with specularMaterial() in setting\n * the material properties of shapes. The default and minimum value is 1.\n * @method shininess\n * @param {Number} shine Degree of Shininess.\n *                       Defaults to 1.\n * @chainable\n * @example\n * <div>\n * <code>\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n * }\n * function draw() {\n *   background(0);\n *   noStroke();\n *   let locX = mouseX - width / 2;\n *   let locY = mouseY - height / 2;\n *   ambientLight(60, 60, 60);\n *   pointLight(255, 255, 255, locX, locY, 50);\n *   specularMaterial(250);\n *   translate(-25, 0, 0);\n *   shininess(1);\n *   sphere(20);\n *   translate(50, 0, 0);\n *   shininess(20);\n *   sphere(20);\n * }\n * </code>\n * </div>\n * @alt\n * Shininess on Camera changes position with mouse\n */\np5.prototype.shininess = function(shine) {\n  this._assert3d('shininess');\n  p5._validateParameters('shininess', arguments);\n\n  if (shine < 1) {\n    shine = 1;\n  }\n  this._renderer._useShininess = shine;\n  return this;\n};\n\n/**\n * @private blends colors according to color components.\n * If alpha value is less than 1, we need to enable blending\n * on our gl context.  Otherwise opaque objects need to a depthMask.\n * @param  {Number[]} color [description]\n * @return {Number[]]}  Normalized numbers array\n */\np5.RendererGL.prototype._applyColorBlend = function(colors) {\n  var gl = this.GL;\n\n  var isTexture = this.drawMode === constants.TEXTURE;\n  if (isTexture || colors[colors.length - 1] < 1.0) {\n    gl.depthMask(isTexture);\n    gl.enable(gl.BLEND);\n    this._applyBlendMode();\n  } else {\n    gl.depthMask(true);\n    gl.disable(gl.BLEND);\n  }\n  return colors;\n};\n\n/**\n * @private sets blending in gl context to curBlendMode\n * @param  {Number[]} color [description]\n * @return {Number[]]}  Normalized numbers array\n */\np5.RendererGL.prototype._applyBlendMode = function() {\n  var gl = this.GL;\n  switch (this.curBlendMode) {\n    case constants.BLEND:\n    case constants.ADD:\n      gl.blendEquation(gl.FUNC_ADD);\n      gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n      break;\n    case constants.MULTIPLY:\n      gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\n      gl.blendFuncSeparate(gl.ZERO, gl.SRC_COLOR, gl.ONE, gl.ONE);\n      break;\n    case constants.SCREEN:\n      gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\n      gl.blendFuncSeparate(gl.ONE_MINUS_DST_COLOR, gl.ONE, gl.ONE, gl.ONE);\n      break;\n    case constants.EXCLUSION:\n      gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\n      gl.blendFuncSeparate(\n        gl.ONE_MINUS_DST_COLOR,\n        gl.ONE_MINUS_SRC_COLOR,\n        gl.ONE,\n        gl.ONE\n      );\n      break;\n    case constants.REPLACE:\n      gl.blendEquation(gl.FUNC_ADD);\n      gl.blendFunc(gl.ONE, gl.ZERO);\n      break;\n    case constants.SUBTRACT:\n      gl.blendEquationSeparate(gl.FUNC_REVERSE_SUBTRACT, gl.FUNC_ADD);\n      gl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE, gl.ONE, gl.ONE);\n      break;\n    case constants.DARKEST:\n      if (this.blendExt) {\n        gl.blendEquationSeparate(this.blendExt.MIN_EXT, gl.FUNC_ADD);\n        gl.blendFuncSeparate(gl.ONE, gl.ONE, gl.ONE, gl.ONE);\n      } else {\n        console.warn(\n          'blendMode(DARKEST) does not work in your browser in WEBGL mode.'\n        );\n      }\n      break;\n    case constants.LIGHTEST:\n      if (this.blendExt) {\n        gl.blendEquationSeparate(this.blendExt.MAX_EXT, gl.FUNC_ADD);\n        gl.blendFuncSeparate(gl.ONE, gl.ONE, gl.ONE, gl.ONE);\n      } else {\n        console.warn(\n          'blendMode(LIGHTEST) does not work in your browser in WEBGL mode.'\n        );\n      }\n      break;\n    default:\n      console.error(\n        'Oops! Somehow RendererGL set curBlendMode to an unsupported mode.'\n      );\n      break;\n  }\n};\n\nmodule.exports = p5;\n",
          "filepath": "data/repos/processing/p5.js-0.8/src/webgl/material.js",
          "repo": "processing/p5.js",
          "version": "0.8",
          "chunk_index": 0,
          "chunk_id": "719d8b20-651d-47b1-b536-a15c2ded4b4d"
        }
      },
      {
        "id": "79336f88-55ac-48a3-aba9-39b6d927258e",
        "score": 0.015873015873015872,
        "payload": {
          "text": "/**\n * @module Image\n * @submodule Loading & Displaying\n * @for p5\n * @requires core\n */\n\n'use strict';\n\nvar p5 = require('../core/main');\nvar Filters = require('./filters');\nvar canvas = require('../core/helpers');\nvar constants = require('../core/constants');\n\nrequire('../core/error_helpers');\n\n/**\n * Loads an image from a path and creates a <a href=\"#/p5.Image\">p5.Image</a> from it.\n * <br><br>\n * The image may not be immediately available for rendering\n * If you want to ensure that the image is ready before doing\n * anything with it, place the <a href=\"#/p5/loadImage\">loadImage()</a> call in <a href=\"#/p5/preload\">preload()</a>.\n * You may also supply a callback function to handle the image when it's ready.\n * <br><br>\n * The path to the image should be relative to the HTML file\n * that links in your sketch. Loading an image from a URL or other\n * remote location may be blocked due to your browser's built-in\n * security.\n *\n * @method loadImage\n * @param  {String} path Path of the image to be loaded\n * @param  {function(p5.Image)} [successCallback] Function to be called once\n *                                the image is loaded. Will be passed the\n *                                <a href=\"#/p5.Image\">p5.Image</a>.\n * @param  {function(Event)}    [failureCallback] called with event error if\n *                                the image fails to load.\n * @return {p5.Image}             the <a href=\"#/p5.Image\">p5.Image</a> object\n * @example\n * <div>\n * <code>\n * let img;\n * function preload() {\n *   img = loadImage('assets/laDefense.jpg');\n * }\n * function setup() {\n *   image(img, 0, 0);\n * }\n * </code>\n * </div>\n * <div>\n * <code>\n * function setup() {\n *   // here we use a callback to display the image after loading\n *   loadImage('assets/laDefense.jpg', img => {\n *     image(img, 0, 0);\n *   });\n * }\n * </code>\n * </div>\n *\n * @alt\n * image of the underside of a white umbrella and grided ceililng above\n * image of the underside of a white umbrella and grided ceililng above\n *\n */\np5.prototype.loadImage = function(path, successCallback, failureCallback) {\n  p5._validateParameters('loadImage', arguments);\n  var img = new Image();\n  var pImg = new p5.Image(1, 1, this);\n\n  var self = this;\n  img.onload = function() {\n    pImg.width = pImg.canvas.width = img.width;\n    pImg.height = pImg.canvas.height = img.height;\n\n    // Draw the image into the backing canvas of the p5.Image\n    pImg.drawingContext.drawImage(img, 0, 0);\n    pImg.modified = true;\n\n    if (typeof successCallback === 'function') {\n      successCallback(pImg);\n    }\n\n    self._decrementPreload();\n  };\n  img.onerror = function(e) {\n    p5._friendlyFileLoadError(0, img.src);\n    if (typeof failureCallback === 'function') {\n      failureCallback(e);\n    } else {\n      console.error(e);\n    }\n  };\n\n  // Set crossOrigin in case image is served with CORS headers.\n  // This will let us draw to the canvas without tainting it.\n  // See https://developer.mozilla.org/en-US/docs/HTML/CORS_Enabled_Image\n  // When using data-uris the file will be loaded locally\n  // so we don't need to worry about crossOrigin with base64 file types.\n  if (path.indexOf('data:image/') !== 0) {\n    img.crossOrigin = 'Anonymous';\n  }\n\n  // start loading the image\n  img.src = path;\n\n  return pImg;\n};\n\n/**\n * Validates clipping params. Per drawImage spec sWidth and sHight cannot be\n * negative or greater than image intrinsic width and height\n * @private\n * @param {Number} sVal\n * @param {Number} iVal\n * @returns {Number}\n * @private\n */\nfunction _sAssign(sVal, iVal) {\n  if (sVal > 0 && sVal < iVal) {\n    return sVal;\n  } else {\n    return iVal;\n  }\n}\n\n/**\n * Draw an image to the p5.js canvas.\n *\n * This function can be used with different numbers of parameters. The\n * simplest use requires only three parameters: img, x, and y\u2014where (x, y) is\n * the position of the image. Two more parameters can optionally be added to\n * specify the width and height of the image.\n *\n * This function can also be used with all eight Number parameters. To\n * differentiate between all these parameters, p5.js uses the language of\n * \"destination rectangle\" (which corresponds to \"dx\", \"dy\", etc.) and \"source\n * image\" (which corresponds to \"sx\", \"sy\", etc.) below. Specifying the\n * \"source image\" dimensions can be useful when you want to display a\n * subsection of the source image instead of the whole thing. Here's a diagram\n * to explain further:\n * <img src=\"assets/drawImage.png\"></img>\n *\n * @method image\n * @param  {p5.Image|p5.Element} img    the image to display\n * @param  {Number}   x     the x-coordinate of the top-left corner of the image\n * @param  {Number}   y     the y-coordinate of the top-left corner of the image\n * @param  {Number}   [width]  the width to draw the image\n * @param  {Number}   [height] the height to draw the image\n * @example\n * <div>\n * <code>\n * let img;\n * function preload() {\n *   img = loadImage('assets/laDefense.jpg');\n * }\n * function setup() {\n *   // Top-left corner of the img is at (0, 0)\n *   // Width and height are the img's original width and height\n *   image(img, 0, 0);\n * }\n * </code>\n * </div>\n * <div>\n * <code>\n * let img;\n * function preload() {\n *   img = loadImage('assets/laDefense.jpg');\n * }\n * function setup() {\n *   background(50);\n *   // Top-left corner of the img is at (10, 10)\n *   // Width and height are 50 x 50\n *   image(img, 10, 10, 50, 50);\n * }\n * </code>\n * </div>\n * <div>\n * <code>\n * function setup() {\n *   // Here, we use a callback to display the image after loading\n *   loadImage('assets/laDefense.jpg', img => {\n *     image(img, 0, 0);\n *   });\n * }\n * </code>\n * </div>\n * <div>\n * <code>\n * let img;\n * function preload() {\n *   img = loadImage('assets/gradient.png');\n * }\n * function setup() {\n *   // 1. Background image\n *   // Top-left corner of the img is at (0, 0)\n *   // Width and height are the img's original width and height, 100 x 100\n *   image(img, 0, 0);\n *   // 2. Top right image\n *   // Top-left corner of destination rectangle is at (50, 0)\n *   // Destination rectangle width and height are 40 x 20\n *   // The next parameters are relative to the source image:\n *   // - Starting at position (50, 50) on the source image, capture a 50 x 50\n *   // subsection\n *   // - Draw this subsection to fill the dimensions of the destination rectangle\n *   image(img, 50, 0, 40, 20, 50, 50, 50, 50);\n * }\n * </code>\n * </div>\n * @alt\n * image of the underside of a white umbrella and gridded ceiling above\n * image of the underside of a white umbrella and gridded ceiling above\n *\n */\n/**\n * @method image\n * @param  {p5.Image|p5.Element} img\n * @param  {Number}   dx     the x-coordinate of the destination\n *                           rectangle in which to draw the source image\n * @param  {Number}   dy     the y-coordinate of the destination\n *                           rectangle in which to draw the source image\n * @param  {Number}   dWidth  the width of the destination rectangle\n * @param  {Number}   dHeight the height of the destination rectangle\n * @param  {Number}   sx     the x-coordinate of the subsection of the source\n * image to draw into the destination rectangle\n * @param  {Number}   sy     the y-coordinate of the subsection of the source\n * image to draw into the destination rectangle\n * @param {Number}    [sWidth] the width of the subsection of the\n *                           source image to draw into the destination\n *                           rectangle\n * @param {Number}    [sHeight] the height of the subsection of the\n *                            source image to draw into the destination rectangle\n */\np5.prototype.image = function(\n  img,\n  dx,\n  dy,\n  dWidth,\n  dHeight,\n  sx,\n  sy,\n  sWidth,\n  sHeight\n) {\n  // set defaults per spec: https://goo.gl/3ykfOq\n\n  p5._validateParameters('image', arguments);\n\n  var defW = img.width;\n  var defH = img.height;\n\n  if (img.elt && img.elt.videoWidth && !img.canvas) {\n    // video no canvas\n    defW = img.elt.videoWidth;\n    defH = img.elt.videoHeight;\n  }\n\n  var _dx = dx;\n  var _dy = dy;\n  var _dw = dWidth || defW;\n  var _dh = dHeight || defH;\n  var _sx = sx || 0;\n  var _sy = sy || 0;\n  var _sw = sWidth || defW;\n  var _sh = sHeight || defH;\n\n  _sw = _sAssign(_sw, defW);\n  _sh = _sAssign(_sh, defH);\n\n  // This part needs cleanup and unit tests\n  // see issues https://github.com/processing/p5.js/issues/1741\n  // and https://github.com/processing/p5.js/issues/1673\n  var pd = 1;\n\n  if (img.elt && !img.canvas && img.elt.style.width) {\n    //if img is video and img.elt.size() has been used and\n    //no width passed to image()\n    if (img.elt.videoWidth && !dWidth) {\n      pd = img.elt.videoWidth;\n    } else {\n      //all other cases\n      pd = img.elt.width;\n    }\n    pd /= parseInt(img.elt.style.width, 10);\n  }\n\n  _sx *= pd;\n  _sy *= pd;\n  _sh *= pd;\n  _sw *= pd;\n\n  var vals = canvas.modeAdjust(_dx, _dy, _dw, _dh, this._renderer._imageMode);\n\n  // tint the image if there is a tint\n  this._renderer.image(img, _sx, _sy, _sw, _sh, vals.x, vals.y, vals.w, vals.h);\n};\n\n/**\n * Sets the fill value for displaying images. Images can be tinted to\n * specified colors or made transparent by including an alpha value.\n * <br><br>\n * To apply transparency to an image without affecting its color, use\n * white as the tint color and specify an alpha value. For instance,\n * tint(255, 128) will make an image 50% transparent (assuming the default\n * alpha range of 0-255, which can be changed with <a href=\"#/p5/colorMode\">colorMode()</a>).\n * <br><br>\n * The value for the gray parameter must be less than or equal to the current\n * maximum value as specified by <a href=\"#/p5/colorMode\">colorMode()</a>. The default maximum value is\n * 255.\n *\n *\n * @method tint\n * @param  {Number}        v1      red or hue value relative to\n *                                 the current color range\n * @param  {Number}        v2      green or saturation value\n *                                 relative to the current color range\n * @param  {Number}        v3      blue or brightness value\n *                                 relative to the current color range\n * @param  {Number}        [alpha]\n *\n * @example\n * <div>\n * <code>\n * let img;\n * function preload() {\n *   img = loadImage('assets/laDefense.jpg');\n * }\n * function setup() {\n *   image(img, 0, 0);\n *   tint(0, 153, 204); // Tint blue\n *   image(img, 50, 0);\n * }\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * let img;\n * function preload() {\n *   img = loadImage('assets/laDefense.jpg');\n * }\n * function setup() {\n *   image(img, 0, 0);\n *   tint(0, 153, 204, 126); // Tint blue and set transparency\n *   image(img, 50, 0);\n * }\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * let img;\n * function preload() {\n *   img = loadImage('assets/laDefense.jpg');\n * }\n * function setup() {\n *   image(img, 0, 0);\n *   tint(255, 126); // Apply transparency without changing color\n *   image(img, 50, 0);\n * }\n * </code>\n * </div>\n *\n * @alt\n * 2 side by side images of umbrella and ceiling, one image with blue tint\n * Images of umbrella and ceiling, one half of image with blue tint\n * 2 side by side images of umbrella and ceiling, one image translucent\n *\n */\n\n/**\n * @method tint\n * @param  {String}        value   a color string\n */\n\n/**\n * @method tint\n * @param  {Number}        gray   a gray value\n * @param  {Number}        [alpha]\n */\n\n/**\n * @method tint\n * @param  {Number[]}      values  an array containing the red,green,blue &\n *                                 and alpha components of the color\n */\n\n/**\n * @method tint\n * @param  {p5.Color}      color   the tint color\n */\np5.prototype.tint = function() {\n  p5._validateParameters('tint', arguments);\n  var c = this.color.apply(this, arguments);\n  this._renderer._tint = c.levels;\n};\n\n/**\n * Removes the current fill value for displaying images and reverts to\n * displaying images with their original hues.\n *\n * @method noTint\n * @example\n * <div>\n * <code>\n * let img;\n * function preload() {\n *   img = loadImage('assets/bricks.jpg');\n * }\n * function setup() {\n *   tint(0, 153, 204); // Tint blue\n *   image(img, 0, 0);\n *   noTint(); // Disable tint\n *   image(img, 50, 0);\n * }\n * </code>\n * </div>\n *\n * @alt\n * 2 side by side images of bricks, left image with blue tint\n *\n */\np5.prototype.noTint = function() {\n  this._renderer._tint = null;\n};\n\n/**\n * Apply the current tint color to the input image, return the resulting\n * canvas.\n *\n * @private\n * @param {p5.Image} The image to be tinted\n * @return {canvas} The resulting tinted canvas\n *\n */\np5.prototype._getTintedImageCanvas = function(img) {\n  if (!img.canvas) {\n    return img;\n  }\n  var pixels = Filters._toPixels(img.canvas);\n  var tmpCanvas = document.createElement('canvas');\n  tmpCanvas.width = img.canvas.width;\n  tmpCanvas.height = img.canvas.height;\n  var tmpCtx = tmpCanvas.getContext('2d');\n  var id = tmpCtx.createImageData(img.canvas.width, img.canvas.height);\n  var newPixels = id.data;\n\n  for (var i = 0; i < pixels.length; i += 4) {\n    var r = pixels[i];\n    var g = pixels[i + 1];\n    var b = pixels[i + 2];\n    var a = pixels[i + 3];\n\n    newPixels[i] = r * this._renderer._tint[0] / 255;\n    newPixels[i + 1] = g * this._renderer._tint[1] / 255;\n    newPixels[i + 2] = b * this._renderer._tint[2] / 255;\n    newPixels[i + 3] = a * this._renderer._tint[3] / 255;\n  }\n\n  tmpCtx.putImageData(id, 0, 0);\n  return tmpCanvas;\n};\n\n/**\n * Set image mode. Modifies the location from which images are drawn by\n * changing the way in which parameters given to <a href=\"#/p5/image\">image()</a> are interpreted.\n * The default mode is imageMode(CORNER), which interprets the second and\n * third parameters of <a href=\"#/p5/image\">image()</a> as the upper-left corner of the image. If\n * two additional parameters are specified, they are used to set the image's\n * width and height.\n * <br><br>\n * imageMode(CORNERS) interprets the second and third parameters of <a href=\"#/p5/image\">image()</a>\n * as the location of one corner, and the fourth and fifth parameters as the\n * opposite corner.\n * <br><br>\n * imageMode(CENTER) interprets the second and third parameters of <a href=\"#/p5/image\">image()</a>\n * as the image's center point. If two additional parameters are specified,\n * they are used to set the image's width and height.\n *\n * @method imageMode\n * @param {Constant} mode either CORNER, CORNERS, or CENTER\n * @example\n *\n * <div>\n * <code>\n * let img;\n * function preload() {\n *   img = loadImage('assets/bricks.jpg');\n * }\n * function setup() {\n *   imageMode(CORNER);\n *   image(img, 10, 10, 50, 50);\n * }\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * let img;\n * function preload() {\n *   img = loadImage('assets/bricks.jpg');\n * }\n * function setup() {\n *   imageMode(CORNERS);\n *   image(img, 10, 10, 90, 40);\n * }\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * let img;\n * function preload() {\n *   img = loadImage('assets/bricks.jpg');\n * }\n * function setup() {\n *   imageMode(CENTER);\n *   image(img, 50, 50, 80, 80);\n * }\n * </code>\n * </div>\n *\n * @alt\n * small square image of bricks\n * horizontal rectangle image of bricks\n * large square image of bricks\n *\n */\np5.prototype.imageMode = function(m) {\n  p5._validateParameters('imageMode', arguments);\n  if (\n    m === constants.CORNER ||\n    m === constants.CORNERS ||\n    m === constants.CENTER\n  ) {\n    this._renderer._imageMode = m;\n  }\n};\n\nmodule.exports = p5;\n",
          "filepath": "data/repos/processing/p5.js-0.8/src/image/loading_displaying.js",
          "repo": "processing/p5.js",
          "version": "0.8",
          "chunk_index": 0,
          "chunk_id": "79336f88-55ac-48a3-aba9-39b6d927258e"
        }
      },
      {
        "id": "2eef8c70-aa04-4ee3-825e-298cfb63672b",
        "score": 0.015625,
        "payload": {
          "text": "# Adding inline documentation to p5.js\n\nBy adding inline documentation in the p5.js source code, a reference can be automatically generated. This document outlines the tags and information to include in your documentation so that it shows up in the reference, formatted properly. The reference is auto-generated from the source code periodically, so it may take a few days for your documentation to show up in the reference. If it's been longer than a few days or you're having other problems email [hello@p5js.org](mailto:hello@p5js.org).\n\nSee below for the basics, more specifics about yuidoc style [here](http://yui.github.io/yuidoc/syntax/index.html). __Please limit line length to 80 columns, starting new lines when it runs over.__\n\n__[List of examples needed](https://github.com/processing/p5.js/issues/1954) (you can also view the most up to date list by building the library with grunt and looking at the log messages)__\n\n## Specify element type and description\n\nThere are 4 kinds of elements: `@class`, `@method`, `@property`, `@event`.\nYou must specify one of these for the element to appear in the docs, with the name of the element after it. The description should appear on top and should not be formatted with spaces, tabs, etc.\n\n```\n   /**\n    * The x component of the vector\n    * @property x\n    * @type {Number}\n    */\n    this.x = x || 0;\n```\n\n```\n\n  /**\n   * Draw an arc\n   *\n   * If x, y, width, height, start and stop are the only params provided, draws an\n   * open pie.\n   * If mode is provided draws the arc either open, chord or pie, dependant\n   * on the variable provided\n   *\n   * @param  {Number} x x-coordinate of the arc's ellipse\n   * @param  {Number} y y-coordinate of the arc's ellipse\n   * @param  {Number} width width of the arc's ellipse by default\n   * @param  {Number} height height of the arc's ellipse by default\n   * @param  {Number} start angle to start the arc, specified in radians\n   * @param  {Number} stop angle to stop the arc, specified in radians\n   * @param  {String} [mode] optional parameter to determine the way of drawing the arc\n   */\n```\n\n```\n  /**\n   *\n   * Calculates the magnitude (length) of the vector and returns the result\n   * as a float (this is simply the equation <em>sqrt(x*x + y*y + z*z)</em>.)\n   *\n   * @method mag\n   * @return {number} magnitude (length) of the vector\n   */\n   PVector.prototype.mag = function () {\n    return Math.sqrt(this.magSq());\n   };\n```\n\n## Specify parameters\n\nFor methods, any `@params` should be specified. They should not be formatted with spaces, tabs, etc, and should follow the standard:\n\n```\n@param {type} name Description here, no problem how long.\n```\n\nIf the parameter is optional, add square brackets around the name:\n\n```\n@param {type} [name] Description here.\n```\n\nIf the parameter takes one or more values defined in `constants.js`,\nthen the type should be specified as `{Constant}` and the valid values should be enumerated in the comment following the `either` keyword, eg:\n\n```\n@param {Constant} horizAlign horizontal alignment, either LEFT, CENTER, or RIGHT\n```\n\n## Specify return type\n\nThe `@return` is identical to `@params`, but without the name. It should be the last element in `@method`. The JS types are: String, Number, Boolean, Object, Array, Null, and Undefined. If there is no return type, do not include `@return`. \n\n```\n@return {type} Description of the data returned.\n```\n\nIf the method returns the parent object, you can skip the @return and add this line instead:\n\n```\n@chainable\n```\n\n## Additional signatures\n\nIf a method has multiple possible parameter options, you can specify each individually. For example, see the examples for [background](http://p5js.org/reference/#p5/background) under \"syntax\". To do this, choose one version to list as the first signature using the guidelines above. At the end of the documentation block, you can add additional signatures, each in it's own block, following the example below.\n\n```\n/**\n * @method background\n * @param {String} colorstring color string, possible formats include: integer\n *                         rgb() or rgba(), percentage rgb() or rgba(),\n *                         3-digit hex, 6-digit hex\n * @param {Number} [a] alpha value\n */\n\n/**\n * @method background\n * @param {Number} gray specifies a value between white and black\n * @param {Number} [a]\n */\n```\n\nNotes:\n* If a parameter has been defined previously, like `a` in this case, you do not need to fill in the definition again. \n* It is not necessary to create a separate signature if the only difference between two signatures is the additional of an optional parameter.\n* You can see two examples of this inline in the source code for [background](https://github.com/processing/p5.js/blob/f38f91308fdacc2f1982e0430b620778fff30a5a/src/color/setting.js#L106) and [color](https://github.com/processing/p5.js/blob/f38f91308fdacc2f1982e0430b620778fff30a5a/src/color/creating_reading.js#L241).\n\n## Specify other tags\n\nUse `@final` if a property or variable is a constant:\n\n```\n    /**\n     * PI is a mathematical constant with the value 3.14159265358979323846.\n     * @property PI\n     * @type Number\n     * @final\n     */\n    PI: PI\n```\n\nUse `@private` if a property or variable is a private variable (default is `@public` so no need to specify).\n\n```\n    /**\n     * _start calls preload() setup() and draw()\n     * \n     * @method _start\n     * @private\n     */\n     p5.prototype._start = function () {\n```\n\n## Specify module for files\n\nThe top of each *file* should contain a `@module` tag at the top of the file. Modules should correspond to JavaScript files (or require.js modules). They can work as groups in the lists of items. see here: http://p5js.org/api/#methods (the modules are COLOR, IMAGE, PVECTOR, etc.). \n\n```\n/**\n * @module image\n */\ndefine(function (require) {\n  // code here\n};\n```\n\n\n## Constructors\n\nConstructors are defined with `@class`. Each constructor should have the tag `@class` followed by the name of the class, as well as the tag `@constructor`, and any `@param` tags required.\n\n```\n  /**\n   * The p5 constructor function.\n   * @class p5\n   * @constructor\n   * @param {Object} [node] The canvas element. A canvas will be added to the DOM if not provided.\n   * @param {Object} [sketch] The sketch object.\n   */\n   const p5 = function( node, sketch) {\n     ...\n   }\n```\n\n## Adding example code\n\nOptionally, you can add examples with `@example`. Example code can be placed between `<code></code>` tags with comments included. Unless otherwise specified with a `setup()` function, each `<code>` block is automatically run on a canvas of 100x100 pixels with a gray background. Please see examples in other src files to make sure it is formatted correctly.\n\n```\n@example\n<div>\n<code>\narc(50, 55, 50, 50, 0, HALF_PI);\nnoFill();\narc(50, 55, 60, 60, HALF_PI, PI);\narc(50, 55, 70, 70, PI, PI+QUARTER_PI);\narc(50, 55, 80, 80, PI+QUARTER_PI, TWO_PI);\n</code>\n</div>\n```\n\nYou can have multiple examples for one function, just make sure each has it's own `<div>` wrapping. \n```\n@example\n<div>\n<code>arc(50, 50, 80, 80, 0, PI+QUARTER_PI, OPEN);</code>\n</div>\n<div>\n<code>arc(50, 50, 80, 80, 0, PI, OPEN);</code>\n</div>\n```\n\nIf you do not want the example to render with canvas (ie you just want the code to show up), include the class \"norender\" in the div:\n```\n@example\n<div class=\"norender\">\n<code>arc(50, 50, 80, 80, 0, PI+QUARTER_PI, OPEN);</code>\n</div>\n```\n\n\nIf you do not want the example to be run as part of the build tests (for example, if the example requires user interaction, or uses functionality not supported by the headless-Chrome test framework), include the class \"notest\" in the div:\n```\n@example\n<div class='norender notest'><code>\nfunction setup() {\n  const c = createCanvas(100, 100);\n  saveCanvas(c, 'myCanvas', 'jpg');\n}\n</code></div>\n```\n\nIf you need to link to external asset files, put them in [/docs/yuidoc-p5-theme/assets](https://github.com/processing/p5.js/tree/master/docs/yuidoc-p5-theme/assets) and then link to them with \"assets/filename.ext\" in the code. See the [tint example](http://p5js.org/reference/#/p5/tint).\n\nOn some code editors copy-pasting examples in the inline documentation may be awkward and require a lot of adjustments (tabs, asterisks, spaces). You can use this simple tool to beautify the code (and re-indent it to 2 spaces) and make it ready for a copy-paste: \n[p5examplesFormatter](http://molleindustria.org/p5examplesFormatter/)\n| [download as zip](http://molleindustria.org/p5examplesFormatter/p5examplesFormatter.zip)\n\n### Adding alt-text\nFinally, if you add an example, please add [alt-text](https://moz.com/learn/seo/alt-text) so visually impaired users can understand what the example is showing on the screen. This can be added with the tag `@alt` at the end of all of the examples for a given function (not an individual `@alt` tag under each), add a line break to separate the descriptions for multiple examples.\n```\n@example\n<div>\n<code>\nlet xoff = 0.0;\nfunction draw() {\n  background(204);\n  xoff = xoff + 0.01;\n  const n = noise(xoff) * width;\n  line(n, 0, n, height);\n}\n</code>\n</div>\n<div>\n<code>\nconst noiseScale=0.02;\nfunction draw() {\n  background(0);\n  for (let x=0; x < width; x++) {\n    const noiseVal = noise((mouseX+x)*noiseScale, mouseY*noiseScale);\n    stroke(noiseVal*255);\n    line(x, mouseY+noiseVal*80, x, height);\n  }\n}\n</code>\n</div>\n\n@alt\nvertical line moves left to right with updating noise values.\nhorizontal wave pattern effected by mouse x-position & updating noise values.\n```\n\n\n## Generating documentation\n\nRun `grunt yui:build` once first to generate all local files needed, as well as a copy of the reference from the source code. Run it again anytime you make changes to the core JS files behind the yuidoc reference page. These are changes in files located in the yuidoc-p5-theme-src folder, NOT inline documentation changes to src. If you only made changes to the source code, you can just run `grunt yui`, though `grunt yui:build` will also do the trick. \n\nThe build reference can be found in docs/reference. To preview it locally, run `grunt yui:dev` and view it as http://localhost:9001/docs/reference/.\n\n## Spanish language version\n\nThe [Spanish version](http://p5js.org/es/reference) is created a little differently. Here are [instructions](https://github.com/processing/p5.js-website/blob/master/contributor_docs/i18n_contribution.md) to update this material.\n",
          "filepath": "data/repos/processing/p5.js-0.8/developer_docs/inline_documentation.md",
          "repo": "processing/p5.js",
          "version": "0.8",
          "chunk_index": 0,
          "chunk_id": "2eef8c70-aa04-4ee3-825e-298cfb63672b"
        }
      },
      {
        "id": "5eb7c1f1-d4ef-4cb4-bd8b-0ff2c77a0841",
        "score": 0.015384615384615385,
        "payload": {
          "text": "/**\n * @module Image\n * @submodule Image\n * @requires core\n * @requires constants\n * @requires filters\n */\n\n/**\n * This module defines the <a href=\"#/p5.Image\">p5.Image</a> class and P5 methods for\n * drawing images to the main display canvas.\n */\n\n'use strict';\n\nvar p5 = require('../core/main');\nvar Filters = require('./filters');\n\n/*\n * Class methods\n */\n\n/**\n * Creates a new <a href=\"#/p5.Image\">p5.Image</a>. A <a href=\"#/p5.Image\">p5.Image</a> is a canvas backed representation of an\n * image.\n * <br><br>\n * p5 can display .gif, .jpg and .png images. Images may be displayed\n * in 2D and 3D space. Before an image is used, it must be loaded with the\n * <a href=\"#/p5/loadImage\">loadImage()</a> function. The <a href=\"#/p5.Image\">p5.Image</a> class contains fields for the width and\n * height of the image, as well as an array called <a href=\"#/p5.Image/pixels\">pixels[]</a> that contains the\n * values for every pixel in the image.\n * <br><br>\n * The methods described below allow easy access to the image's pixels and\n * alpha channel and simplify the process of compositing.\n * <br><br>\n * Before using the <a href=\"#/p5.Image/pixels\">pixels[]</a> array, be sure to use the <a href=\"#/p5.Image/loadPixels\">loadPixels()</a> method on\n * the image to make sure that the pixel data is properly loaded.\n * @example\n * <div><code>\n * function setup() {\n *   let img = createImage(100, 100); // same as new p5.Image(100, 100);\n *   img.loadPixels();\n *   createCanvas(100, 100);\n *   background(0);\n *\n *   // helper for writing color to array\n *   function writeColor(image, x, y, red, green, blue, alpha) {\n *     let index = (x + y * width) * 4;\n *     image.pixels[index] = red;\n *     image.pixels[index + 1] = green;\n *     image.pixels[index + 2] = blue;\n *     image.pixels[index + 3] = alpha;\n *   }\n *\n *   let x, y;\n *   // fill with random colors\n *   for (y = 0; y < img.height; y++) {\n *     for (x = 0; x < img.width; x++) {\n *       let red = random(255);\n *       let green = random(255);\n *       let blue = random(255);\n *       let alpha = 255;\n *       writeColor(img, x, y, red, green, blue, alpha);\n *     }\n *   }\n *\n *   // draw a red line\n *   y = 0;\n *   for (x = 0; x < img.width; x++) {\n *     writeColor(img, x, y, 255, 0, 0, 255);\n *   }\n *\n *   // draw a green line\n *   y = img.height - 1;\n *   for (x = 0; x < img.width; x++) {\n *     writeColor(img, x, y, 0, 255, 0, 255);\n *   }\n *\n *   img.updatePixels();\n *   image(img, 0, 0);\n * }\n * </code></div>\n *\n *\n * @class p5.Image\n * @param {Number} width\n * @param {Number} height\n */\np5.Image = function(width, height) {\n  /**\n   * Image width.\n   * @property {Number} width\n   * @readOnly\n   * @example\n   * <div><code>\n   * let img;\n   * function preload() {\n   *   img = loadImage('assets/rockies.jpg');\n   * }\n   *\n   * function setup() {\n   *   createCanvas(100, 100);\n   *   image(img, 0, 0);\n   *   for (let i = 0; i < img.width; i++) {\n   *     let c = img.get(i, img.height / 2);\n   *     stroke(c);\n   *     line(i, height / 2, i, height);\n   *   }\n   * }\n   * </code></div>\n   *\n   * @alt\n   * rocky mountains in top and horizontal lines in corresponding colors in bottom.\n   *\n   */\n  this.width = width;\n  /**\n   * Image height.\n   * @property {Number} height\n   * @readOnly\n   * @example\n   * <div><code>\n   * let img;\n   * function preload() {\n   *   img = loadImage('assets/rockies.jpg');\n   * }\n   *\n   * function setup() {\n   *   createCanvas(100, 100);\n   *   image(img, 0, 0);\n   *   for (let i = 0; i < img.height; i++) {\n   *     let c = img.get(img.width / 2, i);\n   *     stroke(c);\n   *     line(0, i, width / 2, i);\n   *   }\n   * }\n   * </code></div>\n   *\n   * @alt\n   * rocky mountains on right and vertical lines in corresponding colors on left.\n   *\n   */\n  this.height = height;\n  this.canvas = document.createElement('canvas');\n  this.canvas.width = this.width;\n  this.canvas.height = this.height;\n  this.drawingContext = this.canvas.getContext('2d');\n  this._pixelsState = this;\n  this._pixelDensity = 1;\n  //used for webgl texturing only\n  this._modified = false;\n  this._pixelsDirty = true;\n  /**\n   * Array containing the values for all the pixels in the display window.\n   * These values are numbers. This array is the size (include an appropriate\n   * factor for pixelDensity) of the display window x4,\n   * representing the R, G, B, A values in order for each pixel, moving from\n   * left to right across each row, then down each column. Retina and other\n   * high denisty displays may have more pixels (by a factor of\n   * pixelDensity^2).\n   * For example, if the image is 100x100 pixels, there will be 40,000. With\n   * pixelDensity = 2, there will be 160,000. The first four values\n   * (indices 0-3) in the array will be the R, G, B, A values of the pixel at\n   * (0, 0). The second four values (indices 4-7) will contain the R, G, B, A\n   * values of the pixel at (1, 0). More generally, to set values for a pixel\n   * at (x, y):\n   * ```javascript\n   * let d = pixelDensity();\n   * for (let i = 0; i < d; i++) {\n   *   for (let j = 0; j < d; j++) {\n   *     // loop over\n   *     index = 4 * ((y * d + j) * width * d + (x * d + i));\n   *     pixels[index] = r;\n   *     pixels[index+1] = g;\n   *     pixels[index+2] = b;\n   *     pixels[index+3] = a;\n   *   }\n   * }\n   * ```\n   * <br><br>\n   * Before accessing this array, the data must loaded with the <a href=\"#/p5.Image/loadPixels\">loadPixels()</a>\n   * function. After the array data has been modified, the <a href=\"#/p5.Image/updatePixels\">updatePixels()</a>\n   * function must be run to update the changes.\n   * @property {Number[]} pixels\n   * @example\n   * <div>\n   * <code>\n   * let img = createImage(66, 66);\n   * img.loadPixels();\n   * for (let i = 0; i < img.width; i++) {\n   *   for (let j = 0; j < img.height; j++) {\n   *     img.set(i, j, color(0, 90, 102));\n   *   }\n   * }\n   * img.updatePixels();\n   * image(img, 17, 17);\n   * </code>\n   * </div>\n   * <div>\n   * <code>\n   * let pink = color(255, 102, 204);\n   * let img = createImage(66, 66);\n   * img.loadPixels();\n   * for (let i = 0; i < 4 * (width * height / 2); i += 4) {\n   *   img.pixels[i] = red(pink);\n   *   img.pixels[i + 1] = green(pink);\n   *   img.pixels[i + 2] = blue(pink);\n   *   img.pixels[i + 3] = alpha(pink);\n   * }\n   * img.updatePixels();\n   * image(img, 17, 17);\n   * </code>\n   * </div>\n   *\n   * @alt\n   * 66x66 turquoise rect in center of canvas\n   * 66x66 pink rect in center of canvas\n   *\n   */\n  this.pixels = [];\n};\n\n/**\n * Helper fxn for sharing pixel methods\n *\n */\np5.Image.prototype._setProperty = function(prop, value) {\n  this[prop] = value;\n  this.setModified(true);\n};\n\n/**\n * Loads the pixels data for this image into the [pixels] attribute.\n *\n * @method loadPixels\n * @example\n * <div><code>\n * let myImage;\n * let halfImage;\n *\n * function preload() {\n *   myImage = loadImage('assets/rockies.jpg');\n * }\n *\n * function setup() {\n *   myImage.loadPixels();\n *   halfImage = 4 * myImage.width * myImage.height / 2;\n *   for (let i = 0; i < halfImage; i++) {\n *     myImage.pixels[i + halfImage] = myImage.pixels[i];\n *   }\n *   myImage.updatePixels();\n * }\n *\n * function draw() {\n *   image(myImage, 0, 0, width, height);\n * }\n * </code></div>\n *\n * @alt\n * 2 images of rocky mountains vertically stacked\n *\n */\np5.Image.prototype.loadPixels = function() {\n  p5.Renderer2D.prototype.loadPixels.call(this);\n  this.setModified(true);\n};\n\n/**\n * Updates the backing canvas for this image with the contents of\n * the [pixels] array.\n *\n * @method updatePixels\n * @param {Integer} x x-offset of the target update area for the\n *                              underlying canvas\n * @param {Integer} y y-offset of the target update area for the\n *                              underlying canvas\n * @param {Integer} w height of the target update area for the\n *                              underlying canvas\n * @param {Integer} h height of the target update area for the\n *                              underlying canvas\n * @example\n * <div><code>\n * let myImage;\n * let halfImage;\n *\n * function preload() {\n *   myImage = loadImage('assets/rockies.jpg');\n * }\n *\n * function setup() {\n *   myImage.loadPixels();\n *   halfImage = 4 * myImage.width * myImage.height / 2;\n *   for (let i = 0; i < halfImage; i++) {\n *     myImage.pixels[i + halfImage] = myImage.pixels[i];\n *   }\n *   myImage.updatePixels();\n * }\n *\n * function draw() {\n *   image(myImage, 0, 0, width, height);\n * }\n * </code></div>\n *\n * @alt\n * 2 images of rocky mountains vertically stacked\n *\n */\n/**\n * @method updatePixels\n */\np5.Image.prototype.updatePixels = function(x, y, w, h) {\n  p5.Renderer2D.prototype.updatePixels.call(this, x, y, w, h);\n  this.setModified(true);\n};\n\n/**\n * Get a region of pixels from an image.\n *\n * If no params are passed, the whole image is returned.\n * If x and y are the only params passed a single pixel is extracted.\n * If all params are passed a rectangle region is extracted and a <a href=\"#/p5.Image\">p5.Image</a>\n * is returned.\n *\n * @method get\n * @param  {Number}               x x-coordinate of the pixel\n * @param  {Number}               y y-coordinate of the pixel\n * @param  {Number}               w width\n * @param  {Number}               h height\n * @return {p5.Image}             the rectangle <a href=\"#/p5.Image\">p5.Image</a>\n * @example\n * <div><code>\n * let myImage;\n * let c;\n *\n * function preload() {\n *   myImage = loadImage('assets/rockies.jpg');\n * }\n *\n * function setup() {\n *   background(myImage);\n *   noStroke();\n *   c = myImage.get(60, 90);\n *   fill(c);\n *   rect(25, 25, 50, 50);\n * }\n *\n * //get() returns color here\n * </code></div>\n *\n * @alt\n * image of rocky mountains with 50x50 green rect in front\n *\n */\n/**\n * @method get\n * @return {p5.Image}      the whole <a href=\"#/p5.Image\">p5.Image</a>\n */\n/**\n * @method get\n * @param  {Number}        x\n * @param  {Number}        y\n * @return {Number[]}      color of pixel at x,y in array format [R, G, B, A]\n */\np5.Image.prototype.get = function(x, y, w, h) {\n  p5._validateParameters('p5.Image.get', arguments);\n  return p5.Renderer2D.prototype.get.apply(this, arguments);\n};\n\np5.Image.prototype._getPixel = p5.Renderer2D.prototype._getPixel;\n\n/**\n * Set the color of a single pixel or write an image into\n * this <a href=\"#/p5.Image\">p5.Image</a>.\n *\n * Note that for a large number of pixels this will\n * be slower than directly manipulating the pixels array\n * and then calling <a href=\"#/p5.Image/updatePixels\">updatePixels()</a>.\n *\n * @method set\n * @param {Number}              x x-coordinate of the pixel\n * @param {Number}              y y-coordinate of the pixel\n * @param {Number|Number[]|Object}   a grayscale value | pixel array |\n *                                a <a href=\"#/p5.Color\">p5.Color</a> | image to copy\n * @example\n * <div>\n * <code>\n * let img = createImage(66, 66);\n * img.loadPixels();\n * for (let i = 0; i < img.width; i++) {\n *   for (let j = 0; j < img.height; j++) {\n *     img.set(i, j, color(0, 90, 102, (i % img.width) * 2));\n *   }\n * }\n * img.updatePixels();\n * image(img, 17, 17);\n * image(img, 34, 34);\n * </code>\n * </div>\n *\n * @alt\n * 2 gradated dark turquoise rects fade left. 1 center 1 bottom right of canvas\n *\n */\np5.Image.prototype.set = function(x, y, imgOrCol) {\n  p5.Renderer2D.prototype.set.call(this, x, y, imgOrCol);\n  this.setModified(true);\n};\n\n/**\n * Resize the image to a new width and height. To make the image scale\n * proportionally, use 0 as the value for the wide or high parameter.\n * For instance, to make the width of an image 150 pixels, and change\n * the height using the same proportion, use resize(150, 0).\n *\n * @method resize\n * @param {Number} width the resized image width\n * @param {Number} height the resized image height\n * @example\n * <div><code>\n * let img;\n *\n * function preload() {\n *   img = loadImage('assets/rockies.jpg');\n * }\n\n * function draw() {\n *   image(img, 0, 0);\n * }\n *\n * function mousePressed() {\n *   img.resize(50, 100);\n * }\n * </code></div>\n *\n * @alt\n * image of rocky mountains. zoomed in\n *\n */\np5.Image.prototype.resize = function(width, height) {\n  // Copy contents to a temporary canvas, resize the original\n  // and then copy back.\n  //\n  // There is a faster approach that involves just one copy and swapping the\n  // this.canvas reference. We could switch to that approach if (as i think\n  // is the case) there an expectation that the user would not hold a\n  // reference to the backing canvas of a p5.Image. But since we do not\n  // enforce that at the moment, I am leaving in the slower, but safer\n  // implementation.\n\n  // auto-resize\n  if (width === 0 && height === 0) {\n    width = this.canvas.width;\n    height = this.canvas.height;\n  } else if (width === 0) {\n    width = this.canvas.width * height / this.canvas.height;\n  } else if (height === 0) {\n    height = this.canvas.height * width / this.canvas.width;\n  }\n\n  width = Math.floor(width);\n  height = Math.floor(height);\n\n  var tempCanvas = document.createElement('canvas');\n  tempCanvas.width = width;\n  tempCanvas.height = height;\n  // prettier-ignore\n  tempCanvas.getContext('2d').drawImage(\n    this.canvas,\n    0, 0, this.canvas.width, this.canvas.height,\n    0, 0, tempCanvas.width, tempCanvas.height\n  );\n\n  // Resize the original canvas, which will clear its contents\n  this.canvas.width = this.width = width;\n  this.canvas.height = this.height = height;\n\n  //Copy the image back\n\n  // prettier-ignore\n  this.drawingContext.drawImage(\n    tempCanvas,\n    0, 0, width, height,\n    0, 0, width, height\n  );\n\n  if (this.pixels.length > 0) {\n    this.loadPixels();\n  }\n\n  this.setModified(true);\n  this._pixelsDirty = true;\n};\n\n/**\n * Copies a region of pixels from one image to another. If no\n * srcImage is specified this is used as the source. If the source\n * and destination regions aren't the same size, it will\n * automatically resize source pixels to fit the specified\n * target region.\n *\n * @method copy\n * @param  {p5.Image|p5.Element} srcImage source image\n * @param  {Integer} sx X coordinate of the source's upper left corner\n * @param  {Integer} sy Y coordinate of the source's upper left corner\n * @param  {Integer} sw source image width\n * @param  {Integer} sh source image height\n * @param  {Integer} dx X coordinate of the destination's upper left corner\n * @param  {Integer} dy Y coordinate of the destination's upper left corner\n * @param  {Integer} dw destination image width\n * @param  {Integer} dh destination image height\n * @example\n * <div><code>\n * let photo;\n * let bricks;\n * let x;\n * let y;\n *\n * function preload() {\n *   photo = loadImage('assets/rockies.jpg');\n *   bricks = loadImage('assets/bricks.jpg');\n * }\n *\n * function setup() {\n *   x = bricks.width / 2;\n *   y = bricks.height / 2;\n *   photo.copy(bricks, 0, 0, x, y, 0, 0, x, y);\n *   image(photo, 0, 0);\n * }\n * </code></div>\n *\n * @alt\n * image of rocky mountains and smaller image on top of bricks at top left\n *\n */\n/**\n * @method copy\n * @param  {Integer} sx\n * @param  {Integer} sy\n * @param  {Integer} sw\n * @param  {Integer} sh\n * @param  {Integer} dx\n * @param  {Integer} dy\n * @param  {Integer} dw\n * @param  {Integer} dh\n */\np5.Image.prototype.copy = function() {\n  var srcImage, sx, sy, sw, sh, dx, dy, dw, dh;\n  if (arguments.length === 9) {\n    srcImage = arguments[0];\n    sx = arguments[1];\n    sy = arguments[2];\n    sw = arguments[3];\n    sh = arguments[4];\n    dx = arguments[5];\n    dy = arguments[6];\n    dw = arguments[7];\n    dh = arguments[8];\n  } else if (arguments.length === 8) {\n    srcImage = this;\n    sx = arguments[0];\n    sy = arguments[1];\n    sw = arguments[2];\n    sh = arguments[3];\n    dx = arguments[4];\n    dy = arguments[5];\n    dw = arguments[6];\n    dh = arguments[7];\n  } else {\n    throw new Error('Signature not supported');\n  }\n  p5.Renderer2D._copyHelper(this, srcImage, sx, sy, sw, sh, dx, dy, dw, dh);\n  this._pixelsDirty = true;\n};\n\n/**\n * Masks part of an image from displaying by loading another\n * image and using it's alpha channel as an alpha channel for\n * this image.\n *\n * @method mask\n * @param {p5.Image} srcImage source image\n * @example\n * <div><code>\n * let photo, maskImage;\n * function preload() {\n *   photo = loadImage('assets/rockies.jpg');\n *   maskImage = loadImage('assets/mask2.png');\n * }\n *\n * function setup() {\n *   createCanvas(100, 100);\n *   photo.mask(maskImage);\n *   image(photo, 0, 0);\n * }\n * </code></div>\n *\n * @alt\n * image of rocky mountains with white at right\n *\n *\n * http://blogs.adobe.com/webplatform/2013/01/28/blending-features-in-canvas/\n *\n */\n// TODO: - Accept an array of alpha values.\n//       - Use other channels of an image. p5 uses the\n//       blue channel (which feels kind of arbitrary). Note: at the\n//       moment this method does not match native processings original\n//       functionality exactly.\np5.Image.prototype.mask = function(p5Image) {\n  if (p5Image === undefined) {\n    p5Image = this;\n  }\n  var currBlend = this.drawingContext.globalCompositeOperation;\n\n  var scaleFactor = 1;\n  if (p5Image instanceof p5.Renderer) {\n    scaleFactor = p5Image._pInst._pixelDensity;\n  }\n\n  var copyArgs = [\n    p5Image,\n    0,\n    0,\n    scaleFactor * p5Image.width,\n    scaleFactor * p5Image.height,\n    0,\n    0,\n    this.width,\n    this.height\n  ];\n\n  this.drawingContext.globalCompositeOperation = 'destination-in';\n  p5.Image.prototype.copy.apply(this, copyArgs);\n  this.drawingContext.globalCompositeOperation = currBlend;\n  this.setModified(true);\n};\n\n/**\n * Applies an image filter to a <a href=\"#/p5.Image\">p5.Image</a>\n *\n * @method filter\n * @param  {Constant} filterType  either THRESHOLD, GRAY, OPAQUE, INVERT,\n *                                POSTERIZE, BLUR, ERODE, DILATE or BLUR.\n *                                See Filters.js for docs on\n *                                each available filter\n * @param  {Number} [filterParam] an optional parameter unique\n *                                to each filter, see above\n * @example\n * <div><code>\n * let photo1;\n * let photo2;\n *\n * function preload() {\n *   photo1 = loadImage('assets/rockies.jpg');\n *   photo2 = loadImage('assets/rockies.jpg');\n * }\n *\n * function setup() {\n *   photo2.filter(GRAY);\n *   image(photo1, 0, 0);\n *   image(photo2, width / 2, 0);\n * }\n * </code></div>\n *\n * @alt\n * 2 images of rocky mountains left one in color, right in black and white\n *\n */\np5.Image.prototype.filter = function(operation, value) {\n  Filters.apply(this.canvas, Filters[operation], value);\n  this.setModified(true);\n};\n\n/**\n * Copies a region of pixels from one image to another, using a specified\n * blend mode to do the operation.\n *\n * @method blend\n * @param  {p5.Image} srcImage source image\n * @param  {Integer} sx X coordinate of the source's upper left corner\n * @param  {Integer} sy Y coordinate of the source's upper left corner\n * @param  {Integer} sw source image width\n * @param  {Integer} sh source image height\n * @param  {Integer} dx X coordinate of the destination's upper left corner\n * @param  {Integer} dy Y coordinate of the destination's upper left corner\n * @param  {Integer} dw destination image width\n * @param  {Integer} dh destination image height\n * @param  {Constant} blendMode the blend mode. either\n *     BLEND, DARKEST, LIGHTEST, DIFFERENCE,\n *     MULTIPLY, EXCLUSION, SCREEN, REPLACE, OVERLAY, HARD_LIGHT,\n *     SOFT_LIGHT, DODGE, BURN, ADD or NORMAL.\n *\n * Available blend modes are: normal | multiply | screen | overlay |\n *            darken | lighten | color-dodge | color-burn | hard-light |\n *            soft-light | difference | exclusion | hue | saturation |\n *            color | luminosity\n *\n *\n * http://blogs.adobe.com/webplatform/2013/01/28/blending-features-in-canvas/\n * @example\n * <div><code>\n * let mountains;\n * let bricks;\n *\n * function preload() {\n *   mountains = loadImage('assets/rockies.jpg');\n *   bricks = loadImage('assets/bricks_third.jpg');\n * }\n *\n * function setup() {\n *   mountains.blend(bricks, 0, 0, 33, 100, 67, 0, 33, 100, ADD);\n *   image(mountains, 0, 0);\n *   image(bricks, 0, 0);\n * }\n * </code></div>\n * <div><code>\n * let mountains;\n * let bricks;\n *\n * function preload() {\n *   mountains = loadImage('assets/rockies.jpg');\n *   bricks = loadImage('assets/bricks_third.jpg');\n * }\n *\n * function setup() {\n *   mountains.blend(bricks, 0, 0, 33, 100, 67, 0, 33, 100, DARKEST);\n *   image(mountains, 0, 0);\n *   image(bricks, 0, 0);\n * }\n * </code></div>\n * <div><code>\n * let mountains;\n * let bricks;\n *\n * function preload() {\n *   mountains = loadImage('assets/rockies.jpg');\n *   bricks = loadImage('assets/bricks_third.jpg');\n * }\n *\n * function setup() {\n *   mountains.blend(bricks, 0, 0, 33, 100, 67, 0, 33, 100, LIGHTEST);\n *   image(mountains, 0, 0);\n *   image(bricks, 0, 0);\n * }\n * </code></div>\n *\n * @alt\n * image of rocky mountains. Brick images on left and right. Right overexposed\n * image of rockies. Brickwall images on left and right. Right mortar transparent\n * image of rockies. Brickwall images on left and right. Right translucent\n *\n */\n/**\n * @method blend\n * @param  {Integer} sx\n * @param  {Integer} sy\n * @param  {Integer} sw\n * @param  {Integer} sh\n * @param  {Integer} dx\n * @param  {Integer} dy\n * @param  {Integer} dw\n * @param  {Integer} dh\n * @param  {Constant} blendMode\n */\np5.Image.prototype.blend = function() {\n  p5.prototype.blend.apply(this, arguments);\n  this.setModified(true);\n};\n\n/**\n * helper method for web GL mode to indicate that an image has been\n * changed or unchanged since last upload. gl texture upload will\n * set this value to false after uploading the texture.\n * @method setModified\n * @param {boolean} val sets whether or not the image has been\n * modified.\n * @private\n */\np5.Image.prototype.setModified = function(val) {\n  this._modified = val; //enforce boolean?\n};\n\n/**\n * helper method for web GL mode to figure out if the image\n * has been modified and might need to be re-uploaded to texture\n * memory between frames.\n * @method isModified\n * @private\n * @return {boolean} a boolean indicating whether or not the\n * image has been updated or modified since last texture upload.\n */\np5.Image.prototype.isModified = function() {\n  return this._modified;\n};\n\n/**\n * Saves the image to a file and force the browser to download it.\n * Accepts two strings for filename and file extension\n * Supports png (default) and jpg.\n *\n * @method save\n * @param {String} filename give your file a name\n * @param  {String} extension 'png' or 'jpg'\n * @example\n * <div><code>\n * let photo;\n *\n * function preload() {\n *   photo = loadImage('assets/rockies.jpg');\n * }\n *\n * function draw() {\n *   image(photo, 0, 0);\n * }\n *\n * function keyTyped() {\n *   if (key === 's') {\n *     photo.save('photo', 'png');\n *   }\n * }\n * </code></div>\n *\n * @alt\n * image of rocky mountains.\n *\n */\np5.Image.prototype.save = function(filename, extension) {\n  p5.prototype.saveCanvas(this.canvas, filename, extension);\n};\n\nmodule.exports = p5.Image;\n",
          "filepath": "data/repos/processing/p5.js-0.8/src/image/p5.Image.js",
          "repo": "processing/p5.js",
          "version": "0.8",
          "chunk_index": 0,
          "chunk_id": "5eb7c1f1-d4ef-4cb4-bd8b-0ff2c77a0841"
        }
      }
    ]
  },
  {
    "instance_id": "processing__p5.js-3769",
    "model_patch": "diff --git a/src/webgl/p5.RendererGL.Retained.js b/src/webgl/p5.RendererGL.Retained.js\n--- a/src/webgl/p5.RendererGL.Retained.js\n+++ b/src/webgl/p5.RendererGL.Retained.js\n@@ -171,6 +171,18 @@ p5.RendererGL.prototype.createBuffers = function(id, geometry) {\n   var buffers = this._createBuffers(geometry);\n   this.gHash[id] = buffers;\n \n+  // Ensure all possible attributes are considered when creating buffers\n+  var allAttributes = ['aPosition', 'aNormal', 'aTexCoord', 'aVertexColor'];\n+  var currentShader = this.userFillShader || this.userStrokeShader || this._getDefaultShader();\n+\n+  allAttributes.forEach(function(attr) {\n+    if (currentShader.attributes[attr] && !buffers[attr]) {\n+      buffers[attr] = this.GL.createBuffer();\n+      this.GL.bindBuffer(this.GL.ARRAY_BUFFER, buffers[attr]);\n+      this.GL.bufferData(this.GL.ARRAY_BUFFER, new Float32Array(geometry[attr]), this.GL.STATIC_DRAW);\n+    }\n+  }, this);\n+\n   return buffers;\n };\n \n@@ -180,6 +192,7 @@ p5.RendererGL.prototype._createBuffers = function(geometry) {\n   var buffers = {};\n \n   if (geometry.vertices) {\n+    // Create position buffer\n     buffers.aPosition = this.GL.createBuffer();\n     this.GL.bindBuffer(this.GL.ARRAY_BUFFER, buffers.aPosition);\n     this.GL.bufferData(this.GL.ARRAY_BUFFER, new Float32Array(geometry.vertices), this.GL.STATIC_DRAW);\n@@ -187,6 +200,7 @@ p5.RendererGL.prototype._createBuffers = function(geometry) {\n   if (geometry.normals) {\n     buffers.aNormal = this.GL.createBuffer();\n     this.GL.bindBuffer(this.GL.ARRAY_BUFFER, buffers.aNormal);\n+    // Create normal buffer\n     this.GL.bufferData(this.GL.ARRAY_BUFFER, new Float32Array(geometry.normals), this.GL.STATIC_DRAW);\n   }\n \n@@ -194,6 +208,7 @@ p5.RendererGL.prototype._createBuffers = function(geometry) {\n   if (geometry.uvs) {\n     buffers.aTexCoord = this.GL.createBuffer();\n     this.GL.bindBuffer(this.GL.ARRAY_BUFFER, buffers.aTexCoord);\n+    // Create texture coordinate buffer\n     this.GL.bufferData(this.GL.ARRAY_BUFFER, new Float32Array(geometry.uvs), this.GL.STATIC_DRAW);\n   }\n \n@@ -201,6 +216,7 @@ p5.RendererGL.prototype._createBuffers = function(geometry) {\n   if (geometry.vertexColors) {\n     buffers.aVertexColor = this.GL.createBuffer();\n     this.GL.bindBuffer(this.GL.ARRAY_BUFFER, buffers.aVertexColor);\n+    // Create vertex color buffer\n     this.GL.bufferData(this.GL.ARRAY_BUFFER, new Float32Array(geometry.vertexColors), this.GL.STATIC_DRAW);\n   }",
    "model_name_or_path": "text_bm25",
    "metrics": {
      "issue_embedding_time_ms": 0.0,
      "retrieval_time_ms_bm25": 274.91,
      "retrieval_time_ms": 274.91,
      "total_retrieval_time_ms": 274.91,
      "generation_time_ms": 6577.8,
      "total_io_time_ms": 6852.7,
      "input_total_token_limit": null,
      "issue_text_tokens": 556,
      "vlm_tokens": 0,
      "retrieved_tokens": 23951,
      "prompt_template_tokens": 533,
      "total_input_prompt_tokens": 25040,
      "output_generated_tokens": 647,
      "total_io_tokens": 25687,
      "input_prompt_text": "[{\"type\": \"text\", \"text\": \"You will be provided with a partial code base and an issue statement explaining a problem to resolve.\\n<issue>\\nwebgl: render buffers are not not always created correctly\\n0.8.0 webgl.\\r\\n\\r\\n(from #3764)\\r\\n\\r\\nthe issue is that when creating a retained-mode geometry (any geometry, not just the glyph quad), it's checking the _current_ fill and stroke shaders for which buffers to create and which attributes to enable.\\r\\n\\r\\nhttps://github.com/processing/p5.js/blob/6640d149348dea0a1b3df61f0cf8442222403a9f/src/webgl/p5.RendererGL.Retained.js#L171-L172\\r\\n\\r\\nthis means that if you choose a shader that doesn't have a particular attribute, then create a (cached) geometry, that geometry won't have a buffer created for it that corresponds to that attribute. then, if you switch the current shader to one that _does_ have that attribute, it will fail to render because that buffer won't have been created.\\r\\n\\r\\nrepro, here: https://codepen.io/Spongman/pen/ZNoZoM?editors=0010\\r\\n\\r\\nthis test case creates and uses a shader that doesn't have a full suite of attributes. it then draws a sphere (in the `setup()` function). the sphere's geometry is created & cached. the bug is that the render buffers are also created at this time, and they're only created if the _current_ shader has the corresponding attribute. subsequently, when a regular fill shader is used to render the sphere (in the `draw()` function), the required render buffers are missing, and the sphere is drawn incorrectly, or not at all (probably depending on the webgl implementation):\\r\\n\\r\\n![image](https://user-images.githubusercontent.com/1088194/58386210-0f0d9c80-7fb1-11e9-96db-0734d8bdcf3a.png)\\r\\n\\r\\n\\r\\n```javascript\\r\\nvar sh;\\r\\n\\r\\nfunction setup() {\\r\\n  createCanvas(windowWidth, windowHeight, WEBGL);\\r\\n  \\r\\n  sh = createShader(\\r\\n    'attribute vec3 aPosition; void main() { gl_Position = vec4(aPosition, 1.0); }',\\r\\n    'void main() { gl_FragColor = vec4(1.0,1.0,1.0,1.0); }'\\r\\n  );\\r\\n  \\r\\n  shader(sh);\\r\\n  noStroke();\\r\\n  sphere(200);\\r\\n}\\r\\n\\r\\nfunction windowResized() {\\r\\n  resizeCanvas(windowWidth, windowHeight);\\r\\n}\\r\\n\\r\\nfunction draw() {\\r\\n  background(0);\\r\\n  \\r\\n  // draw an orange sphere\\r\\n  fill(255, 128, 0);\\r\\n  directionalLight(255, 255, 255, 1, 1, -1);\\r\\n  sphere(200);\\r\\n}\\r\\n```\\r\\n\\r\\n\\n\\n</issue>\\n\\n<code>\\n[start of webgl_mode_architecture.md]\\n# p5.js WEBGL mode architecture\\n\\nThis document describes the structure of the p5.js WEBGL mode for p5.js contributors and maintainers\\u2014and any other interested parties. If you're interested in using 3D graphics in your sketches, [view this tutorial](https://github.com/processing/p5.js/wiki/Getting-started-with-WebGL-in-p5) instead.\\n\\n## Overview of Structure and Objects\\n\\nThe core objects in the WEBGL architecture are the p5.Renderer.GL, p5.Shader, p5.Texture, and p5.Geometry.\\nA single instance of p5.Renderer.GL manages its own p5.Shaders, p5.Textures, and p5.Geometry\\u2014a goal for this is to allow offscreen rendering using WebGL, but that hasn\\u2019t been tested yet.\\nShaders and textures are associated with a specific GL context via the renderer.\\n\\n### p5.RendererGL\\nThe p5.RendererGL object is the renderer for WEBGL / 3D Mode in p5.js.\\nDerived from p5.Renderer, it provides additional functionality not available in 2D mode, such as: `box()`, `cone()`, use of shaders, accelerated texture rendering, and lighting.\\n\\n* Manages\\u2014creates and caches\\u2014shaders (p5.Shader objects) and textures (p5.Texture objects)\\n* Prepares coordinates of shapes to be used as attribute arrays by shaders.\\n* Selects the correct shader for use when stroke, fill, texture, and various lighting methods are called, then supplies the appropriate uniforms to those shaders.\\n* Maintains data about lighting: a count of how many various types of lights are used and their parameters.\\n* Caches geometry for 3D primitives (in retained mode), with the exception of shapes created with begin/endShape, which are dynamically generated and pushed to GL every time one is drawn (in immediate mode).\\n\\nThe renderer manages choosing an appropriate p5.Shader for the current drawing conditions.\\n\\n### p5.Shader\\nThe p5.Shader class provides access to the uniforms and attributes of a GL program. \\n\\n* Compiles and links the vertex and fragment shader components\\n* Provides an API for accessing and setting shader attributes and uniforms\\n* Binds textures the shader needs before a shape is rendered\\n* Provides the bindShader() method for use in the render before a shape is drawn, then unbindShader() after the shape is drawn.\\n\\nThere are four default shaders, as documented in the Shader section.\\n\\n### p5.Texture\\nThe p5.Texture object manages GL state for a texture based on a `p5.Image`, `p5.MediaElement`, `p5.Element`, or `ImageData`.\\n\\n* Internally handles processing image data based on type, so that the p5.Renderer implementation doesn\\u2019t have to make special exceptions in its own methods when handling textures\\n* Updates conditionally every frame by making a best guess at whether or not image data has changed. Tries not to upload the texture if no change has been made, to help performance.\\n\\n### p5.Geometry\\nShapes rendered in retain mode are stored as p5.Geometry objects in a cache in the p5.Renderer object. \\nThe renderer maps strings to p5.Geometry objects based on the shape drawn and its parameters (for example, geometry for a box created with `box(70, 80, 90, 10, 20)` is mapped from `'box|70|80|90|10|20\\u2019`). Calls to functions that have retained geometry create a p5.Geometry object on the first pass and store it in a geometry hash using the aforementioned string ID. Later calls look for that ID in the hash, and if it is found use that to reference the existing object rather than creating a new one.\\n\\n* Stores vertices, normals, faces, line vertices, line normals, and texture coordinates for the geometry primitives\\n* Provides methods for computing the faces, normals, line vertices, and line normals for a set of vertices\\n\\n## Immediate Mode\\nAll attributes for drawing with Immediate Mode are stored in an object in the renderer, used to draw to the GL drawing context, and then discarded.\\n\\n## Geometry: Retain and Immediate Mode\\nRetained geometry is used for 3D primitives, while immediate mode is used for shapes created with begin/endShape.\\n\\n|Functions with retained geometry| Functions with immediate mode geometry |\\n|--------------------------------|----------------------------------------|\\n|plane()                         | bezier()                               |\\n|box()                           | curve()                                |\\n|sphere()                        | line()                                 |\\n|cylinder()                      | beginShape()                           |\\n|cone()                          | vertex()                               |\\n|ellipsoid()                     | endShape()                             |\\n|torus()                         | point()                                |\\n|triangle()                      | curveVertex()                          |\\n|arc()                           | bezierVertex()                         |\\n|point()                         | quadraticVertex()                      |\\n|ellipse()                       |\\n|rect()                          |\\n|quad()                          |\\n|text()                          |\\n\\n\\n\\n\\n\\n\\n## Texture Management\\nA p5.Renderer.GL instances manages an array of p5.Textures objects on an as-needed basis.\\nTextures are created for images and videos used with the `texture()` method or as uniforms provided to custom shaders.\\n\\nWhen the renderer needs a texture, it first checks if one has already been created for a given image/video, then provides that to a shader for rendering. A new texture is only created if an existing one cannot be found for the image/video.\\n\\n## Shaders\\n\\n### Types of Shaders\\n\\n#### Color Shader\\nProvides flat shading of objects, based on the current fill color.\\n\\n#### Light Shader (for lighting AND textures)\\nAccounts for:\\n* Lighting parameters set by `ambientLight()`, `directionalLight()`, and `pointLight()`\\n* Material parameters set by `ambientMaterial()`, and `specularMaterial()`\\n* Texture parameters, set by `texture()`\\n\\n#### Normal Shader\\nThe normal shader is set when `normalMaterial()` is in use. It uses the surface\\u2019s normal vector to determine a fragment color.\\n\\n### Shader Parameters\\n\\n#### Standard Model View & Camera Uniforms\\n|Parameter                        |Line Shader|TexLight Shader|Color Shader|Normal Shader|Point Shader|\\n|---------------------------------|-----------|---------------|------------|-------------|------------|\\n|`uniform mat4 uModelViewMatrix;` |x          |x              |x           |x            |x           |\\n|`uniform mat4 uProjectionMatrix;`|x          |x              |x           |x            |x           |\\n|`uniform vec4 uViewPort;`        |x          |               |            |             |            |\\n\\n\\n#### Geometry Attributes and Uniforms\\n|Parameter                        |Line Shader|TexLight Shader|Color Shader|Normal Shader|Point Shader|\\n|---------------------------------|-----------|---------------|------------|-------------|------------|\\n|`attribute vec3 aPosition;`      |x          |x              |x           |x            |x           |\\n|`attribute vec3 aNormal;`        |           |x              |            |x            |            | \\n|`attribute vec2 aTexCoord;`      |           |x              |            |x            |            |\\n|`uniform mat3 uNormalMatrix;`    |           |x              |            |x            |            |\\n|`attribute vec4 aDirection;`     |x          |               |            |             |            |\\n|`uniform float uStrokeWeight;`   |x          |               |            |             |            |\\n\\n#### Material Colors\\n|Parameter                        |Line Shader|TexLight Shader|Color Shader|Normal Shader|Point Shader|\\n|---------------------------------|-----------|---------------|------------|-------------|------------|\\n|`uniform vec4 uMaterialColor;`   |x          |x              |            |             |x           |\\n|`attribute vec4 aVertexColor;`   |           |               |x           |             |            |\\n\\n#### Light Parameters\\n\\n|Parameter                             |Line Shader|TexLight Shader|Color Shader|Normal Shader|Point Shader|\\n|--------------------------------------|-----------|---------------|------------|-------------|------------|\\n|`uniform int uAmbientLightCount;`     |           |x              |            |             |            |\\n|`uniform int uAmbientLightCount;`     |           |x              |            |             |            |\\n|`uniform int uDirectionalLightCount;` |           |x              |            |             |            |\\n|`uniform int uPointLightCount;`       |           |x              |            |             |            |\\n|`uniform vec3 uAmbientColor[8];`      |           |x              |            |             |            |\\n|`uniform vec3 uLightingDirection[8];` |           |x              |            |             |            |\\n|`uniform vec3 uDirectionalColor[8];`  |           |x              |            |             |            |\\n|`uniform vec3 uPointLightLocation[8];`|           |x              |            |             |            |\\n|`uniform vec3 uPointLightColor[8];`   |           |x              |            |             |            |\\n|`uniform bool uSpecular;`             |           |x              |            |             |            |\\n|`uniform int  uShininess;`            |           |x              |            |             |            |\\n|`uniform bool uUseLighting;`          |           |x              |            |             |            |\\n\\n#### Texture Parameters\\n\\n|Parameter                             |Line Shader|TexLight Shader|Color Shader|Normal Shader|Point Shader|\\n|--------------------------------------|-----------|---------------|------------|-------------|------------|\\n|`uniform sampler2D uSampler;`         |           |x              |            |             |            |\\n|`uniform bool isTexture;`             |           |x              |            |             |            |\\n\\n#### General Parameters\\n\\n|Parameter                             |Line Shader|TexLight Shader|Color Shader|Normal Shader|Point Shader|\\n|--------------------------------------|-----------|---------------|------------|-------------|------------|\\n|`uniform float uResolution;`          |           |               |x           |             |            |\\n|`uniform float uPointSize;`           |           |               |x           |             |x           |\\n\\n#### Varying Parameters\\n\\n|Parameter                             |Line Shader|TexLight Shader|Color Shader|Normal Shader|Point Shader|\\n|--------------------------------------|-----------|---------------|------------|-------------|------------|\\n|`varying vec3 vVertexNormal;`         |           |x              |            |             |            |\\n|`varying vec2 vVertTexCoord;`         |           |x              |            |             |            |\\n|`varying vec3 vLightWeighting;`       |           |x              |            |             |            |\\n|`varying highp vec2 vVertTexCoord;`   |           |               |            |x            |            |\\n|`varying vec4 vColor;`                |           |               |x           |             |            |\\n|`varying float vStrokeWeight`         |           |               |            |             |x           |\\n\\n## Next Steps\\n\\nComing soon!\\n\\n[end of webgl_mode_architecture.md]\\n[start of material.js]\\n/**\\n * @module Lights, Camera\\n * @submodule Material\\n * @for p5\\n * @requires core\\n */\\n\\n'use strict';\\n\\nvar p5 = require('../core/main');\\nvar constants = require('../core/constants');\\nrequire('./p5.Texture');\\n\\n/**\\n * Loads a custom shader from the provided vertex and fragment\\n * shader paths. The shader files are loaded asynchronously in the\\n * background, so this method should be used in <a href=\\\"#/p5/preload\\\">preload()</a>.\\n *\\n * For now, there are three main types of shaders. p5 will automatically\\n * supply appropriate vertices, normals, colors, and lighting attributes\\n * if the parameters defined in the shader match the names.\\n *\\n * @method loadShader\\n * @param {String} vertFilename path to file containing vertex shader\\n * source code\\n * @param {String} fragFilename path to file containing fragment shader\\n * source code\\n * @param {function} [callback] callback to be executed after loadShader\\n * completes. On success, the Shader object is passed as the first argument.\\n * @param {function} [errorCallback] callback to be executed when an error\\n * occurs inside loadShader. On error, the error is passed as the first\\n * argument.\\n * @return {p5.Shader} a shader object created from the provided\\n * vertex and fragment shader files.\\n *\\n * @example\\n * <div modernizr='webgl'>\\n * <code>\\n * let mandel;\\n * function preload() {\\n *   // load the shader definitions from files\\n *   mandel = loadShader('assets/shader.vert', 'assets/shader.frag');\\n * }\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n *   // use the shader\\n *   shader(mandel);\\n *   noStroke();\\n *   mandel.setUniform('p', [-0.74364388703, 0.13182590421]);\\n * }\\n *\\n * function draw() {\\n *   mandel.setUniform('r', 1.5 * exp(-6.5 * (1 + sin(millis() / 2000))));\\n *   quad(-1, -1, 1, -1, 1, 1, -1, 1);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * zooming Mandelbrot set. a colorful, infinitely detailed fractal.\\n */\\np5.prototype.loadShader = function(\\n  vertFilename,\\n  fragFilename,\\n  callback,\\n  errorCallback\\n) {\\n  p5._validateParameters('loadShader', arguments);\\n  if (!errorCallback) {\\n    errorCallback = console.error;\\n  }\\n\\n  var loadedShader = new p5.Shader();\\n\\n  var self = this;\\n  var loadedFrag = false;\\n  var loadedVert = false;\\n\\n  var onLoad = function() {\\n    self._decrementPreload();\\n    if (callback) {\\n      callback(loadedShader);\\n    }\\n  };\\n\\n  this.loadStrings(\\n    vertFilename,\\n    function(result) {\\n      loadedShader._vertSrc = result.join('\\\\n');\\n      loadedVert = true;\\n      if (loadedFrag) {\\n        onLoad();\\n      }\\n    },\\n    errorCallback\\n  );\\n\\n  this.loadStrings(\\n    fragFilename,\\n    function(result) {\\n      loadedShader._fragSrc = result.join('\\\\n');\\n      loadedFrag = true;\\n      if (loadedVert) {\\n        onLoad();\\n      }\\n    },\\n    errorCallback\\n  );\\n\\n  return loadedShader;\\n};\\n\\n/**\\n * @method createShader\\n * @param {String} vertSrc source code for the vertex shader\\n * @param {String} fragSrc source code for the fragment shader\\n * @returns {p5.Shader} a shader object created from the provided\\n * vertex and fragment shaders.\\n *\\n * @example\\n * <div modernizr='webgl'>\\n * <code>\\n * // the 'varying's are shared between both vertex & fragment shaders\\n * let varying = 'precision highp float; varying vec2 vPos;';\\n *\\n * // the vertex shader is called for each vertex\\n * let vs =\\n *   varying +\\n *   'attribute vec3 aPosition;' +\\n *   'void main() { vPos = (gl_Position = vec4(aPosition,1.0)).xy; }';\\n *\\n * // the fragment shader is called for each pixel\\n * let fs =\\n *   varying +\\n *   'uniform vec2 p;' +\\n *   'uniform float r;' +\\n *   'const int I = 500;' +\\n *   'void main() {' +\\n *   '  vec2 c = p + vPos * r, z = c;' +\\n *   '  float n = 0.0;' +\\n *   '  for (int i = I; i > 0; i --) {' +\\n *   '    if(z.x*z.x+z.y*z.y > 4.0) {' +\\n *   '      n = float(i)/float(I);' +\\n *   '      break;' +\\n *   '    }' +\\n *   '    z = vec2(z.x*z.x-z.y*z.y, 2.0*z.x*z.y) + c;' +\\n *   '  }' +\\n *   '  gl_FragColor = vec4(0.5-cos(n*17.0)/2.0,0.5-cos(n*13.0)/2.0,0.5-cos(n*23.0)/2.0,1.0);' +\\n *   '}';\\n *\\n * let mandel;\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n *\\n *   // create and initialize the shader\\n *   mandel = createShader(vs, fs);\\n *   shader(mandel);\\n *   noStroke();\\n *\\n *   // 'p' is the center point of the Mandelbrot image\\n *   mandel.setUniform('p', [-0.74364388703, 0.13182590421]);\\n * }\\n *\\n * function draw() {\\n *   // 'r' is the size of the image in Mandelbrot-space\\n *   mandel.setUniform('r', 1.5 * exp(-6.5 * (1 + sin(millis() / 2000))));\\n *   quad(-1, -1, 1, -1, 1, 1, -1, 1);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * zooming Mandelbrot set. a colorful, infinitely detailed fractal.\\n */\\np5.prototype.createShader = function(vertSrc, fragSrc) {\\n  this._assert3d('createShader');\\n  p5._validateParameters('createShader', arguments);\\n  return new p5.Shader(this._renderer, vertSrc, fragSrc);\\n};\\n\\n/**\\n * The <a href=\\\"#/p5/shader\\\">shader()</a> function lets the user provide a custom shader\\n * to fill in shapes in WEBGL mode. Users can create their\\n * own shaders by loading vertex and fragment shaders with\\n * <a href=\\\"#/p5/loadShader\\\">loadShader()</a>.\\n *\\n * @method shader\\n * @chainable\\n * @param {p5.Shader} [s] the desired <a href=\\\"#/p5.Shader\\\">p5.Shader</a> to use for rendering\\n * shapes.\\n */\\np5.prototype.shader = function(s) {\\n  this._assert3d('shader');\\n  p5._validateParameters('shader', arguments);\\n\\n  if (s._renderer === undefined) {\\n    s._renderer = this._renderer;\\n  }\\n\\n  if (s.isStrokeShader()) {\\n    this._renderer.userStrokeShader = s;\\n  } else {\\n    this._renderer.userFillShader = s;\\n    this._renderer._useNormalMaterial = false;\\n  }\\n\\n  s.init();\\n\\n  return this;\\n};\\n\\n/**\\n * This function restores the default shaders in WEBGL mode. Code that runs\\n * after resetShader() will not be affected by previously defined\\n * shaders. Should be run after <a href=\\\"#/p5/shader\\\">shader()</a>.\\n *\\n * @method resetShader\\n * @chainable\\n */\\np5.prototype.resetShader = function() {\\n  this._renderer.userFillShader = this._renderer.userStrokeShader = null;\\n  return this;\\n};\\n\\n/**\\n * Normal material for geometry. You can view all\\n * possible materials in this\\n * <a href=\\\"https://p5js.org/examples/3d-materials.html\\\">example</a>.\\n * @method normalMaterial\\n * @chainable\\n * @example\\n * <div>\\n * <code>\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n * }\\n *\\n * function draw() {\\n *   background(200);\\n *   normalMaterial();\\n *   sphere(40);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * Red, green and blue gradient.\\n *\\n */\\np5.prototype.normalMaterial = function() {\\n  this._assert3d('normalMaterial');\\n  p5._validateParameters('normalMaterial', arguments);\\n  this._renderer.drawMode = constants.FILL;\\n  this._renderer._useSpecularMaterial = false;\\n  this._renderer._useNormalMaterial = true;\\n  this._renderer.curFillColor = [1, 1, 1, 1];\\n  this._renderer._setProperty('_doFill', true);\\n  this.noStroke();\\n  return this;\\n};\\n\\n/**\\n * Texture for geometry.  You can view other possible materials in this\\n * <a href=\\\"https://p5js.org/examples/3d-materials.html\\\">example</a>.\\n * @method texture\\n * @param {p5.Image|p5.MediaElement|p5.Graphics} tex 2-dimensional graphics\\n *                    to render as texture\\n * @chainable\\n * @example\\n * <div>\\n * <code>\\n * let img;\\n * function preload() {\\n *   img = loadImage('assets/laDefense.jpg');\\n * }\\n *\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n * }\\n *\\n * function draw() {\\n *   background(0);\\n *   rotateZ(frameCount * 0.01);\\n *   rotateX(frameCount * 0.01);\\n *   rotateY(frameCount * 0.01);\\n *   //pass image as texture\\n *   texture(img);\\n *   box(200, 200, 200);\\n * }\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * let pg;\\n *\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n *   pg = createGraphics(200, 200);\\n *   pg.textSize(75);\\n * }\\n *\\n * function draw() {\\n *   background(0);\\n *   pg.background(255);\\n *   pg.text('hello!', 0, 100);\\n *   //pass image as texture\\n *   texture(pg);\\n *   rotateX(0.5);\\n *   noStroke();\\n *   plane(50);\\n * }\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * let vid;\\n * function preload() {\\n *   vid = createVideo('assets/fingers.mov');\\n *   vid.hide();\\n * }\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n * }\\n *\\n * function draw() {\\n *   background(0);\\n *   //pass video frame as texture\\n *   texture(vid);\\n *   rect(-40, -40, 80, 80);\\n * }\\n *\\n * function mousePressed() {\\n *   vid.loop();\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * Rotating view of many images umbrella and grid roof on a 3d plane\\n * black canvas\\n * black canvas\\n *\\n */\\np5.prototype.texture = function(tex) {\\n  this._assert3d('texture');\\n  p5._validateParameters('texture', arguments);\\n\\n  this._renderer.drawMode = constants.TEXTURE;\\n  this._renderer._useSpecularMaterial = false;\\n  this._renderer._useNormalMaterial = false;\\n  this._renderer._tex = tex;\\n  this._renderer._setProperty('_doFill', true);\\n\\n  return this;\\n};\\n\\n/**\\n * Sets the coordinate space for texture mapping. The default mode is IMAGE\\n * which refers to the actual coordinates of the image.\\n * NORMAL refers to a normalized space of values ranging from 0 to 1.\\n * This function only works in WEBGL mode.\\n *\\n * With IMAGE, if an image is 100 x 200 pixels, mapping the image onto the entire\\n * size of a quad would require the points (0,0) (100, 0) (100,200) (0,200).\\n * The same mapping in NORMAL is (0,0) (1,0) (1,1) (0,1).\\n * @method  textureMode\\n * @param {Constant} mode either IMAGE or NORMAL\\n * @example\\n * <div>\\n * <code>\\n * let img;\\n *\\n * function preload() {\\n *   img = loadImage('assets/laDefense.jpg');\\n * }\\n *\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n * }\\n *\\n * function draw() {\\n *   texture(img);\\n *   textureMode(NORMAL);\\n *   beginShape();\\n *   vertex(-50, -50, 0, 0);\\n *   vertex(50, -50, 1, 0);\\n *   vertex(50, 50, 1, 1);\\n *   vertex(-50, 50, 0, 1);\\n *   endShape();\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * the underside of a white umbrella and gridded ceiling above\\n *\\n * <div>\\n * <code>\\n * let img;\\n *\\n * function preload() {\\n *   img = loadImage('assets/laDefense.jpg');\\n * }\\n *\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n * }\\n *\\n * function draw() {\\n *   texture(img);\\n *   textureMode(NORMAL);\\n *   beginShape();\\n *   vertex(-50, -50, 0, 0);\\n *   vertex(50, -50, img.width, 0);\\n *   vertex(50, 50, img.width, img.height);\\n *   vertex(-50, 50, 0, img.height);\\n *   endShape();\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * the underside of a white umbrella and gridded ceiling above\\n *\\n */\\np5.prototype.textureMode = function(mode) {\\n  if (mode !== constants.IMAGE && mode !== constants.NORMAL) {\\n    console.warn(\\n      'You tried to set ' + mode + ' textureMode only supports IMAGE & NORMAL '\\n    );\\n  } else {\\n    this._renderer.textureMode = mode;\\n  }\\n};\\n\\n/**\\n * Sets the global texture wrapping mode. This controls how textures behave\\n * when their uv's go outside of the 0 - 1 range. There are three options:\\n * CLAMP, REPEAT, and MIRROR.\\n *\\n * CLAMP causes the pixels at the edge of the texture to extend to the bounds\\n * REPEAT causes the texture to tile repeatedly until reaching the bounds\\n * MIRROR works similarly to REPEAT but it flips the texture with every new tile\\n *\\n * REPEAT & MIRROR are only available if the texture\\n * is a power of two size (128, 256, 512, 1024, etc.).\\n *\\n * This method will affect all textures in your sketch until a subsequent\\n * textureWrap call is made.\\n *\\n * If only one argument is provided, it will be applied to both the\\n * horizontal and vertical axes.\\n * @method textureWrap\\n * @param {Constant} wrapX either CLAMP, REPEAT, or MIRROR\\n * @param {Constant} [wrapY] either CLAMP, REPEAT, or MIRROR\\n * @example\\n * <div>\\n * <code>\\n * let img;\\n * function preload() {\\n *   img = loadImage('assets/rockies128.jpg');\\n * }\\n *\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n *   textureWrap(MIRROR);\\n * }\\n *\\n * function draw() {\\n *   background(0);\\n *\\n *   let dX = mouseX;\\n *   let dY = mouseY;\\n *\\n *   let u = lerp(1.0, 2.0, dX);\\n *   let v = lerp(1.0, 2.0, dY);\\n *\\n *   scale(width / 2);\\n *\\n *   texture(img);\\n *\\n *   beginShape(TRIANGLES);\\n *   vertex(-1, -1, 0, 0, 0);\\n *   vertex(1, -1, 0, u, 0);\\n *   vertex(1, 1, 0, u, v);\\n *\\n *   vertex(1, 1, 0, u, v);\\n *   vertex(-1, 1, 0, 0, v);\\n *   vertex(-1, -1, 0, 0, 0);\\n *   endShape();\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * an image of the rocky mountains repeated in mirrored tiles\\n *\\n */\\np5.prototype.textureWrap = function(wrapX, wrapY) {\\n  wrapY = wrapY || wrapX;\\n\\n  this._renderer.textureWrapX = wrapX;\\n  this._renderer.textureWrapY = wrapY;\\n\\n  var textures = this._renderer.textures;\\n  for (var i = 0; i < textures.length; i++) {\\n    textures[i].setWrapMode(wrapX, wrapY);\\n  }\\n};\\n\\n/**\\n * Ambient material for geometry with a given color. You can view all\\n * possible materials in this\\n * <a href=\\\"https://p5js.org/examples/3d-materials.html\\\">example</a>.\\n * @method  ambientMaterial\\n * @param  {Number} v1  gray value, red or hue value\\n *                         (depending on the current color mode),\\n * @param  {Number} [v2] green or saturation value\\n * @param  {Number} [v3] blue or brightness value\\n * @param  {Number} [a]  opacity\\n * @chainable\\n * @example\\n * <div>\\n * <code>\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n * }\\n * function draw() {\\n *   background(0);\\n *   noStroke();\\n *   ambientLight(200);\\n *   ambientMaterial(70, 130, 230);\\n *   sphere(40);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * radiating light source from top right of canvas\\n *\\n */\\n/**\\n * @method  ambientMaterial\\n * @param  {Number[]|String|p5.Color} color  color, color Array, or CSS color string\\n * @chainable\\n */\\np5.prototype.ambientMaterial = function(v1, v2, v3, a) {\\n  this._assert3d('ambientMaterial');\\n  p5._validateParameters('ambientMaterial', arguments);\\n\\n  var color = p5.prototype.color.apply(this, arguments);\\n  this._renderer.curFillColor = color._array;\\n  this._renderer._useSpecularMaterial = false;\\n  this._renderer._useNormalMaterial = false;\\n  this._renderer._enableLighting = true;\\n  this._renderer._tex = null;\\n\\n  return this;\\n};\\n\\n/**\\n * Specular material for geometry with a given color. You can view all\\n * possible materials in this\\n * <a href=\\\"https://p5js.org/examples/3d-materials.html\\\">example</a>.\\n * @method specularMaterial\\n * @param  {Number} v1  gray value, red or hue value\\n *                       (depending on the current color mode),\\n * @param  {Number} [v2] green or saturation value\\n * @param  {Number} [v3] blue or brightness value\\n * @param  {Number} [a]  opacity\\n * @chainable\\n * @example\\n * <div>\\n * <code>\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n * }\\n * function draw() {\\n *   background(0);\\n *   noStroke();\\n *   ambientLight(50);\\n *   pointLight(250, 250, 250, 100, 100, 30);\\n *   specularMaterial(250);\\n *   sphere(40);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * diffused radiating light source from top right of canvas\\n *\\n */\\n/**\\n * @method specularMaterial\\n * @param  {Number[]|String|p5.Color} color color Array, or CSS color string\\n * @chainable\\n */\\np5.prototype.specularMaterial = function(v1, v2, v3, a) {\\n  this._assert3d('specularMaterial');\\n  p5._validateParameters('specularMaterial', arguments);\\n\\n  var color = p5.prototype.color.apply(this, arguments);\\n  this._renderer.curFillColor = color._array;\\n  this._renderer._useSpecularMaterial = true;\\n  this._renderer._useNormalMaterial = false;\\n  this._renderer._enableLighting = true;\\n  this._renderer._tex = null;\\n\\n  return this;\\n};\\n\\n/**\\n * Sets the amount of gloss in the surface of shapes.\\n * Used in combination with specularMaterial() in setting\\n * the material properties of shapes. The default and minimum value is 1.\\n * @method shininess\\n * @param {Number} shine Degree of Shininess.\\n *                       Defaults to 1.\\n * @chainable\\n * @example\\n * <div>\\n * <code>\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n * }\\n * function draw() {\\n *   background(0);\\n *   noStroke();\\n *   let locX = mouseX - width / 2;\\n *   let locY = mouseY - height / 2;\\n *   ambientLight(60, 60, 60);\\n *   pointLight(255, 255, 255, locX, locY, 50);\\n *   specularMaterial(250);\\n *   translate(-25, 0, 0);\\n *   shininess(1);\\n *   sphere(20);\\n *   translate(50, 0, 0);\\n *   shininess(20);\\n *   sphere(20);\\n * }\\n * </code>\\n * </div>\\n * @alt\\n * Shininess on Camera changes position with mouse\\n */\\np5.prototype.shininess = function(shine) {\\n  this._assert3d('shininess');\\n  p5._validateParameters('shininess', arguments);\\n\\n  if (shine < 1) {\\n    shine = 1;\\n  }\\n  this._renderer._useShininess = shine;\\n  return this;\\n};\\n\\n/**\\n * @private blends colors according to color components.\\n * If alpha value is less than 1, we need to enable blending\\n * on our gl context.  Otherwise opaque objects need to a depthMask.\\n * @param  {Number[]} color [description]\\n * @return {Number[]]}  Normalized numbers array\\n */\\np5.RendererGL.prototype._applyColorBlend = function(colors) {\\n  var gl = this.GL;\\n\\n  var isTexture = this.drawMode === constants.TEXTURE;\\n  if (isTexture || colors[colors.length - 1] < 1.0) {\\n    gl.depthMask(isTexture);\\n    gl.enable(gl.BLEND);\\n    this._applyBlendMode();\\n  } else {\\n    gl.depthMask(true);\\n    gl.disable(gl.BLEND);\\n  }\\n  return colors;\\n};\\n\\n/**\\n * @private sets blending in gl context to curBlendMode\\n * @param  {Number[]} color [description]\\n * @return {Number[]]}  Normalized numbers array\\n */\\np5.RendererGL.prototype._applyBlendMode = function() {\\n  var gl = this.GL;\\n  switch (this.curBlendMode) {\\n    case constants.BLEND:\\n    case constants.ADD:\\n      gl.blendEquation(gl.FUNC_ADD);\\n      gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\\n      break;\\n    case constants.MULTIPLY:\\n      gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\\n      gl.blendFuncSeparate(gl.ZERO, gl.SRC_COLOR, gl.ONE, gl.ONE);\\n      break;\\n    case constants.SCREEN:\\n      gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\\n      gl.blendFuncSeparate(gl.ONE_MINUS_DST_COLOR, gl.ONE, gl.ONE, gl.ONE);\\n      break;\\n    case constants.EXCLUSION:\\n      gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\\n      gl.blendFuncSeparate(\\n        gl.ONE_MINUS_DST_COLOR,\\n        gl.ONE_MINUS_SRC_COLOR,\\n        gl.ONE,\\n        gl.ONE\\n      );\\n      break;\\n    case constants.REPLACE:\\n      gl.blendEquation(gl.FUNC_ADD);\\n      gl.blendFunc(gl.ONE, gl.ZERO);\\n      break;\\n    case constants.SUBTRACT:\\n      gl.blendEquationSeparate(gl.FUNC_REVERSE_SUBTRACT, gl.FUNC_ADD);\\n      gl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE, gl.ONE, gl.ONE);\\n      break;\\n    case constants.DARKEST:\\n      if (this.blendExt) {\\n        gl.blendEquationSeparate(this.blendExt.MIN_EXT, gl.FUNC_ADD);\\n        gl.blendFuncSeparate(gl.ONE, gl.ONE, gl.ONE, gl.ONE);\\n      } else {\\n        console.warn(\\n          'blendMode(DARKEST) does not work in your browser in WEBGL mode.'\\n        );\\n      }\\n      break;\\n    case constants.LIGHTEST:\\n      if (this.blendExt) {\\n        gl.blendEquationSeparate(this.blendExt.MAX_EXT, gl.FUNC_ADD);\\n        gl.blendFuncSeparate(gl.ONE, gl.ONE, gl.ONE, gl.ONE);\\n      } else {\\n        console.warn(\\n          'blendMode(LIGHTEST) does not work in your browser in WEBGL mode.'\\n        );\\n      }\\n      break;\\n    default:\\n      console.error(\\n        'Oops! Somehow RendererGL set curBlendMode to an unsupported mode.'\\n      );\\n      break;\\n  }\\n};\\n\\nmodule.exports = p5;\\n\\n[end of material.js]\\n[start of p5.RendererGL.js]\\n'use strict';\\n\\nvar p5 = require('../core/main');\\nvar constants = require('../core/constants');\\nvar libtess = require('libtess');\\nrequire('./p5.Shader');\\nrequire('./p5.Camera');\\nrequire('../core/p5.Renderer');\\nrequire('./p5.Matrix');\\nvar fs = require('fs');\\n\\nvar defaultShaders = {\\n  immediateVert: fs.readFileSync(\\n    __dirname + '/shaders/immediate.vert',\\n    'utf-8'\\n  ),\\n  vertexColorVert: fs.readFileSync(\\n    __dirname + '/shaders/vertexColor.vert',\\n    'utf-8'\\n  ),\\n  vertexColorFrag: fs.readFileSync(\\n    __dirname + '/shaders/vertexColor.frag',\\n    'utf-8'\\n  ),\\n  normalVert: fs.readFileSync(__dirname + '/shaders/normal.vert', 'utf-8'),\\n  normalFrag: fs.readFileSync(__dirname + '/shaders/normal.frag', 'utf-8'),\\n  basicFrag: fs.readFileSync(__dirname + '/shaders/basic.frag', 'utf-8'),\\n  lightVert: fs.readFileSync(__dirname + '/shaders/light.vert', 'utf-8'),\\n  lightTextureFrag: fs.readFileSync(\\n    __dirname + '/shaders/light_texture.frag',\\n    'utf-8'\\n  ),\\n  phongVert: fs.readFileSync(__dirname + '/shaders/phong.vert', 'utf-8'),\\n  phongFrag: fs.readFileSync(__dirname + '/shaders/phong.frag', 'utf-8'),\\n  fontVert: fs.readFileSync(__dirname + '/shaders/font.vert', 'utf-8'),\\n  fontFrag: fs.readFileSync(__dirname + '/shaders/font.frag', 'utf-8'),\\n  lineVert: fs.readFileSync(__dirname + '/shaders/line.vert', 'utf-8'),\\n  lineFrag: fs.readFileSync(__dirname + '/shaders/line.frag', 'utf-8'),\\n  pointVert: fs.readFileSync(__dirname + '/shaders/point.vert', 'utf-8'),\\n  pointFrag: fs.readFileSync(__dirname + '/shaders/point.frag', 'utf-8')\\n};\\n\\n/**\\n * 3D graphics class\\n * @private\\n * @class p5.RendererGL\\n * @constructor\\n * @extends p5.Renderer\\n * @todo extend class to include public method for offscreen\\n * rendering (FBO).\\n *\\n */\\np5.RendererGL = function(elt, pInst, isMainCanvas, attr) {\\n  p5.Renderer.call(this, elt, pInst, isMainCanvas);\\n  this._setAttributeDefaults(pInst);\\n  this._initContext();\\n  this.isP3D = true; //lets us know we're in 3d mode\\n  this.GL = this.drawingContext;\\n\\n  // lights\\n\\n  this._enableLighting = false;\\n\\n  this.ambientLightColors = [];\\n  this.directionalLightDirections = [];\\n  this.directionalLightColors = [];\\n\\n  this.pointLightPositions = [];\\n  this.pointLightColors = [];\\n\\n  this.curFillColor = [1, 1, 1, 1];\\n  this.curStrokeColor = [0, 0, 0, 1];\\n  this.curBlendMode = constants.BLEND;\\n  this.blendExt = this.GL.getExtension('EXT_blend_minmax');\\n\\n  this._useSpecularMaterial = false;\\n  this._useNormalMaterial = false;\\n  this._useShininess = 1;\\n\\n  /**\\n   * model view, projection, & normal\\n   * matrices\\n   */\\n  this.uMVMatrix = new p5.Matrix();\\n  this.uPMatrix = new p5.Matrix();\\n  this.uNMatrix = new p5.Matrix('mat3');\\n\\n  // Camera\\n  this._curCamera = new p5.Camera(this);\\n  this._curCamera._computeCameraDefaultSettings();\\n  this._curCamera._setDefaultCamera();\\n\\n  //Geometry & Material hashes\\n  this.gHash = {};\\n\\n  this._defaultLightShader = undefined;\\n  this._defaultImmediateModeShader = undefined;\\n  this._defaultNormalShader = undefined;\\n  this._defaultColorShader = undefined;\\n  this._defaultPointShader = undefined;\\n\\n  this._pointVertexBuffer = this.GL.createBuffer();\\n\\n  this.userFillShader = undefined;\\n  this.userStrokeShader = undefined;\\n  this.userPointShader = undefined;\\n\\n  //Imediate Mode\\n  //default drawing is done in Retained Mode\\n  this.isImmediateDrawing = false;\\n  this.immediateMode = {};\\n\\n  this.pointSize = 5.0; //default point size\\n  this.curStrokeWeight = 1;\\n\\n  // array of textures created in this gl context via this.getTexture(src)\\n  this.textures = [];\\n\\n  this.textureMode = constants.IMAGE;\\n  // default wrap settings\\n  this.textureWrapX = constants.CLAMP;\\n  this.textureWrapY = constants.CLAMP;\\n  this._tex = null;\\n  this._curveTightness = 6;\\n\\n  // lookUpTable for coefficients needed to be calculated for bezierVertex, same are used for curveVertex\\n  this._lookUpTableBezier = [];\\n  // lookUpTable for coefficients needed to be calculated for quadraticVertex\\n  this._lookUpTableQuadratic = [];\\n\\n  // current curveDetail in the Bezier lookUpTable\\n  this._lutBezierDetail = 0;\\n  // current curveDetail in the Quadratic lookUpTable\\n  this._lutQuadraticDetail = 0;\\n\\n  this._tessy = this._initTessy();\\n\\n  this.fontInfos = {};\\n\\n  return this;\\n};\\n\\np5.RendererGL.prototype = Object.create(p5.Renderer.prototype);\\n\\n//////////////////////////////////////////////\\n// Setting\\n//////////////////////////////////////////////\\n\\np5.RendererGL.prototype._setAttributeDefaults = function(pInst) {\\n  var defaults = {\\n    alpha: false,\\n    depth: true,\\n    stencil: true,\\n    antialias: false,\\n    premultipliedAlpha: false,\\n    preserveDrawingBuffer: true,\\n    perPixelLighting: false\\n  };\\n  if (pInst._glAttributes === null) {\\n    pInst._glAttributes = defaults;\\n  } else {\\n    pInst._glAttributes = Object.assign(defaults, pInst._glAttributes);\\n  }\\n  return;\\n};\\n\\np5.RendererGL.prototype._initContext = function() {\\n  try {\\n    this.drawingContext =\\n      this.canvas.getContext('webgl', this._pInst._glAttributes) ||\\n      this.canvas.getContext('experimental-webgl', this._pInst._glAttributes);\\n    if (this.drawingContext === null) {\\n      throw new Error('Error creating webgl context');\\n    } else {\\n      console.log('p5.RendererGL: enabled webgl context');\\n      var gl = this.drawingContext;\\n      gl.enable(gl.DEPTH_TEST);\\n      gl.depthFunc(gl.LEQUAL);\\n      gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\\n      this._viewport = this.drawingContext.getParameter(\\n        this.drawingContext.VIEWPORT\\n      );\\n    }\\n  } catch (er) {\\n    throw er;\\n  }\\n};\\n\\n//This is helper function to reset the context anytime the attributes\\n//are changed with setAttributes()\\n\\np5.RendererGL.prototype._resetContext = function(options, callback) {\\n  var w = this.width;\\n  var h = this.height;\\n  var defaultId = this.canvas.id;\\n  var c = this.canvas;\\n  if (c) {\\n    c.parentNode.removeChild(c);\\n  }\\n  c = document.createElement('canvas');\\n  c.id = defaultId;\\n  if (this._pInst._userNode) {\\n    this._pInst._userNode.appendChild(c);\\n  } else {\\n    document.body.appendChild(c);\\n  }\\n  this._pInst.canvas = c;\\n\\n  var renderer = new p5.RendererGL(this._pInst.canvas, this._pInst, true);\\n  this._pInst._setProperty('_renderer', renderer);\\n  renderer.resize(w, h);\\n  renderer._applyDefaults();\\n  this._pInst._elements.push(renderer);\\n\\n  if (typeof callback === 'function') {\\n    //setTimeout with 0 forces the task to the back of the queue, this ensures that\\n    //we finish switching out the renderer\\n    setTimeout(function() {\\n      callback.apply(window._renderer, options);\\n    }, 0);\\n  }\\n};\\n/**\\n * @module Rendering\\n * @submodule Rendering\\n * @for p5\\n */\\n/**\\n * Set attributes for the WebGL Drawing context.\\n * This is a way of adjusting how the WebGL\\n * renderer works to fine-tune the display and performance.\\n * <br><br>\\n * Note that this will reinitialize the drawing context\\n * if called after the WebGL canvas is made.\\n * <br><br>\\n * If an object is passed as the parameter, all attributes\\n * not declared in the object will be set to defaults.\\n * <br><br>\\n * The available attributes are:\\n * <br>\\n * alpha - indicates if the canvas contains an alpha buffer\\n * default is false\\n * <br><br>\\n * depth - indicates whether the drawing buffer has a depth buffer\\n * of at least 16 bits - default is true\\n * <br><br>\\n * stencil - indicates whether the drawing buffer has a stencil buffer\\n * of at least 8 bits\\n * <br><br>\\n * antialias - indicates whether or not to perform anti-aliasing\\n * default is false\\n * <br><br>\\n * premultipliedAlpha - indicates that the page compositor will assume\\n * the drawing buffer contains colors with pre-multiplied alpha\\n * default is false\\n * <br><br>\\n * preserveDrawingBuffer - if true the buffers will not be cleared and\\n * and will preserve their values until cleared or overwritten by author\\n * (note that p5 clears automatically on draw loop)\\n * default is true\\n * <br><br>\\n * perPixelLighting - if true, per-pixel lighting will be used in the\\n * lighting shader.\\n * default is false\\n * <br><br>\\n * @method setAttributes\\n * @for p5\\n * @param  {String}  key Name of attribute\\n * @param  {Boolean}        value New value of named attribute\\n * @example\\n * <div>\\n * <code>\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n * }\\n *\\n * function draw() {\\n *   background(255);\\n *   push();\\n *   rotateZ(frameCount * 0.02);\\n *   rotateX(frameCount * 0.02);\\n *   rotateY(frameCount * 0.02);\\n *   fill(0, 0, 0);\\n *   box(50);\\n *   pop();\\n * }\\n * </code>\\n * </div>\\n * <br>\\n * Now with the antialias attribute set to true.\\n * <br>\\n * <div>\\n * <code>\\n * function setup() {\\n *   setAttributes('antialias', true);\\n *   createCanvas(100, 100, WEBGL);\\n * }\\n *\\n * function draw() {\\n *   background(255);\\n *   push();\\n *   rotateZ(frameCount * 0.02);\\n *   rotateX(frameCount * 0.02);\\n *   rotateY(frameCount * 0.02);\\n *   fill(0, 0, 0);\\n *   box(50);\\n *   pop();\\n * }\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * // press the mouse button to enable perPixelLighting\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n *   noStroke();\\n *   fill(255);\\n * }\\n *\\n * var lights = [\\n *   { c: '#f00', t: 1.12, p: 1.91, r: 0.2 },\\n *   { c: '#0f0', t: 1.21, p: 1.31, r: 0.2 },\\n *   { c: '#00f', t: 1.37, p: 1.57, r: 0.2 },\\n *   { c: '#ff0', t: 1.12, p: 1.91, r: 0.7 },\\n *   { c: '#0ff', t: 1.21, p: 1.31, r: 0.7 },\\n *   { c: '#f0f', t: 1.37, p: 1.57, r: 0.7 }\\n * ];\\n *\\n * function draw() {\\n *   var t = millis() / 1000 + 1000;\\n *   background(0);\\n *   directionalLight(color('#222'), 1, 1, 1);\\n *\\n *   for (var i = 0; i < lights.length; i++) {\\n *     var light = lights[i];\\n *     pointLight(\\n *       color(light.c),\\n *       p5.Vector.fromAngles(t * light.t, t * light.p, width * light.r)\\n *     );\\n *   }\\n *\\n *   specularMaterial(255);\\n *   sphere(width * 0.1);\\n *\\n *   rotateX(t * 0.77);\\n *   rotateY(t * 0.83);\\n *   rotateZ(t * 0.91);\\n *   torus(width * 0.3, width * 0.07, 24, 10);\\n * }\\n *\\n * function mousePressed() {\\n *   setAttributes('perPixelLighting', true);\\n *   noStroke();\\n *   fill(255);\\n * }\\n * function mouseReleased() {\\n *   setAttributes('perPixelLighting', false);\\n *   noStroke();\\n *   fill(255);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt a rotating cube with smoother edges\\n */\\n/**\\n * @method setAttributes\\n * @for p5\\n * @param  {Object}  obj object with key-value pairs\\n */\\n\\np5.prototype.setAttributes = function(key, value) {\\n  var unchanged = true;\\n  if (typeof value !== 'undefined') {\\n    //first time modifying the attributes\\n    if (this._glAttributes === null) {\\n      this._glAttributes = {};\\n    }\\n    if (this._glAttributes[key] !== value) {\\n      //changing value of previously altered attribute\\n      this._glAttributes[key] = value;\\n      unchanged = false;\\n    }\\n    //setting all attributes with some change\\n  } else if (key instanceof Object) {\\n    if (this._glAttributes !== key) {\\n      this._glAttributes = key;\\n      unchanged = false;\\n    }\\n  }\\n  //@todo_FES\\n  if (!this._renderer.isP3D || unchanged) {\\n    return;\\n  }\\n\\n  if (!this._setupDone) {\\n    for (var x in this._renderer.gHash) {\\n      if (this._renderer.gHash.hasOwnProperty(x)) {\\n        console.error(\\n          'Sorry, Could not set the attributes, you need to call setAttributes() ' +\\n            'before calling the other drawing methods in setup()'\\n        );\\n        return;\\n      }\\n    }\\n  }\\n\\n  this.push();\\n  this._renderer._resetContext();\\n  this.pop();\\n\\n  if (this._renderer._curCamera) {\\n    this._renderer._curCamera._renderer = this._renderer;\\n  }\\n};\\n\\n/**\\n * @class p5.RendererGL\\n */\\n\\np5.RendererGL.prototype._update = function() {\\n  // reset model view and apply initial camera transform\\n  // (containing only look at info; no projection).\\n  this.uMVMatrix.set(\\n    this._curCamera.cameraMatrix.mat4[0],\\n    this._curCamera.cameraMatrix.mat4[1],\\n    this._curCamera.cameraMatrix.mat4[2],\\n    this._curCamera.cameraMatrix.mat4[3],\\n    this._curCamera.cameraMatrix.mat4[4],\\n    this._curCamera.cameraMatrix.mat4[5],\\n    this._curCamera.cameraMatrix.mat4[6],\\n    this._curCamera.cameraMatrix.mat4[7],\\n    this._curCamera.cameraMatrix.mat4[8],\\n    this._curCamera.cameraMatrix.mat4[9],\\n    this._curCamera.cameraMatrix.mat4[10],\\n    this._curCamera.cameraMatrix.mat4[11],\\n    this._curCamera.cameraMatrix.mat4[12],\\n    this._curCamera.cameraMatrix.mat4[13],\\n    this._curCamera.cameraMatrix.mat4[14],\\n    this._curCamera.cameraMatrix.mat4[15]\\n  );\\n\\n  // reset light data for new frame.\\n\\n  this.ambientLightColors.length = 0;\\n  this.directionalLightDirections.length = 0;\\n  this.directionalLightColors.length = 0;\\n\\n  this.pointLightPositions.length = 0;\\n  this.pointLightColors.length = 0;\\n\\n  this._enableLighting = false;\\n};\\n\\n/**\\n * [background description]\\n */\\np5.RendererGL.prototype.background = function() {\\n  var _col = this._pInst.color.apply(this._pInst, arguments);\\n  var _r = _col.levels[0] / 255;\\n  var _g = _col.levels[1] / 255;\\n  var _b = _col.levels[2] / 255;\\n  var _a = _col.levels[3] / 255;\\n  this.GL.clearColor(_r, _g, _b, _a);\\n  this.GL.depthMask(true);\\n  this.GL.clear(this.GL.COLOR_BUFFER_BIT | this.GL.DEPTH_BUFFER_BIT);\\n  this._pixelsState._pixelsDirty = true;\\n};\\n\\n//////////////////////////////////////////////\\n// COLOR\\n//////////////////////////////////////////////\\n/**\\n * Basic fill material for geometry with a given color\\n * @method  fill\\n * @class p5.RendererGL\\n * @param  {Number|Number[]|String|p5.Color} v1  gray value,\\n * red or hue value (depending on the current color mode),\\n * or color Array, or CSS color string\\n * @param  {Number}            [v2] green or saturation value\\n * @param  {Number}            [v3] blue or brightness value\\n * @param  {Number}            [a]  opacity\\n * @chainable\\n * @example\\n * <div>\\n * <code>\\n * function setup() {\\n *   createCanvas(200, 200, WEBGL);\\n * }\\n *\\n * function draw() {\\n *   background(0);\\n *   noStroke();\\n *   fill(100, 100, 240);\\n *   rotateX(frameCount * 0.01);\\n *   rotateY(frameCount * 0.01);\\n *   box(75, 75, 75);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * black canvas with purple cube spinning\\n *\\n */\\np5.RendererGL.prototype.fill = function(v1, v2, v3, a) {\\n  //see material.js for more info on color blending in webgl\\n  var color = p5.prototype.color.apply(this._pInst, arguments);\\n  this.curFillColor = color._array;\\n  this.drawMode = constants.FILL;\\n  this._useNormalMaterial = false;\\n  this._tex = null;\\n};\\n\\n/**\\n * Basic stroke material for geometry with a given color\\n * @method  stroke\\n * @param  {Number|Number[]|String|p5.Color} v1  gray value,\\n * red or hue value (depending on the current color mode),\\n * or color Array, or CSS color string\\n * @param  {Number}            [v2] green or saturation value\\n * @param  {Number}            [v3] blue or brightness value\\n * @param  {Number}            [a]  opacity\\n * @example\\n * <div>\\n * <code>\\n * function setup() {\\n *   createCanvas(200, 200, WEBGL);\\n * }\\n *\\n * function draw() {\\n *   background(0);\\n *   stroke(240, 150, 150);\\n *   fill(100, 100, 240);\\n *   rotateX(frameCount * 0.01);\\n *   rotateY(frameCount * 0.01);\\n *   box(75, 75, 75);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * black canvas with purple cube with pink outline spinning\\n *\\n */\\np5.RendererGL.prototype.stroke = function(r, g, b, a) {\\n  //@todo allow transparency in stroking currently doesn't have\\n  //any impact and causes problems with specularMaterial\\n  arguments[3] = 255;\\n  var color = p5.prototype.color.apply(this._pInst, arguments);\\n  this.curStrokeColor = color._array;\\n};\\n\\np5.RendererGL.prototype.strokeCap = function(cap) {\\n  // @TODO : to be implemented\\n  console.error('Sorry, strokeCap() is not yet implemented in WEBGL mode');\\n};\\n\\np5.RendererGL.prototype.blendMode = function(mode) {\\n  if (\\n    mode === constants.DARKEST ||\\n    mode === constants.LIGHTEST ||\\n    mode === constants.ADD ||\\n    mode === constants.BLEND ||\\n    mode === constants.SUBTRACT ||\\n    mode === constants.SCREEN ||\\n    mode === constants.EXCLUSION ||\\n    mode === constants.REPLACE ||\\n    mode === constants.MULTIPLY\\n  )\\n    this.curBlendMode = mode;\\n  else if (\\n    mode === constants.BURN ||\\n    mode === constants.OVERLAY ||\\n    mode === constants.HARD_LIGHT ||\\n    mode === constants.SOFT_LIGHT ||\\n    mode === constants.DODGE\\n  ) {\\n    console.warn(\\n      'BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.'\\n    );\\n  }\\n};\\n\\n/**\\n * Change weight of stroke\\n * @method  strokeWeight\\n * @param  {Number} stroke weight to be used for drawing\\n * @example\\n * <div>\\n * <code>\\n * function setup() {\\n *   createCanvas(200, 400, WEBGL);\\n *   setAttributes('antialias', true);\\n * }\\n *\\n * function draw() {\\n *   background(0);\\n *   noStroke();\\n *   translate(0, -100, 0);\\n *   stroke(240, 150, 150);\\n *   fill(100, 100, 240);\\n *   push();\\n *   strokeWeight(8);\\n *   rotateX(frameCount * 0.01);\\n *   rotateY(frameCount * 0.01);\\n *   sphere(75);\\n *   pop();\\n *   push();\\n *   translate(0, 200, 0);\\n *   strokeWeight(1);\\n *   rotateX(frameCount * 0.01);\\n *   rotateY(frameCount * 0.01);\\n *   sphere(75);\\n *   pop();\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * black canvas with two purple rotating spheres with pink\\n * outlines the sphere on top has much heavier outlines,\\n *\\n */\\np5.RendererGL.prototype.strokeWeight = function(w) {\\n  if (this.curStrokeWeight !== w) {\\n    this.pointSize = w;\\n    this.curStrokeWeight = w;\\n  }\\n};\\n\\n// x,y are canvas-relative (pre-scaled by _pixelDensity)\\np5.RendererGL.prototype._getPixel = function(x, y) {\\n  var pixelsState = this._pixelsState;\\n  var imageData, index;\\n  if (pixelsState._pixelsDirty) {\\n    imageData = new Uint8Array(4);\\n    // prettier-ignore\\n    this.drawingContext.readPixels(\\n      x, y, 1, 1,\\n      this.drawingContext.RGBA, this.drawingContext.UNSIGNED_BYTE,\\n      imageData\\n    );\\n    index = 0;\\n  } else {\\n    imageData = pixelsState.pixels;\\n    index = (Math.floor(x) + Math.floor(y) * this.canvas.width) * 4;\\n  }\\n  return [\\n    imageData[index + 0],\\n    imageData[index + 1],\\n    imageData[index + 2],\\n    imageData[index + 3]\\n  ];\\n};\\n\\n/**\\n * Loads the pixels data for this canvas into the pixels[] attribute.\\n * Note that updatePixels() and set() do not work.\\n * Any pixel manipulation must be done directly to the pixels[] array.\\n *\\n * @private\\n * @method loadPixels\\n *\\n */\\n\\np5.RendererGL.prototype.loadPixels = function() {\\n  var pixelsState = this._pixelsState;\\n  if (!pixelsState._pixelsDirty) return;\\n  pixelsState._pixelsDirty = false;\\n\\n  //@todo_FES\\n  if (this._pInst._glAttributes.preserveDrawingBuffer !== true) {\\n    console.log(\\n      'loadPixels only works in WebGL when preserveDrawingBuffer ' + 'is true.'\\n    );\\n    return;\\n  }\\n\\n  //if there isn't a renderer-level temporary pixels buffer\\n  //make a new one\\n  var pixels = pixelsState.pixels;\\n  var len = this.GL.drawingBufferWidth * this.GL.drawingBufferHeight * 4;\\n  if (!(pixels instanceof Uint8Array) || pixels.length !== len) {\\n    pixels = new Uint8Array(len);\\n    this._pixelsState._setProperty('pixels', pixels);\\n  }\\n\\n  var pd = this._pInst._pixelDensity;\\n  // prettier-ignore\\n  this.GL.readPixels(\\n    0, 0, this.width * pd, this.height * pd,\\n    this.GL.RGBA, this.GL.UNSIGNED_BYTE,\\n    pixels\\n  );\\n};\\n\\n//////////////////////////////////////////////\\n// HASH | for geometry\\n//////////////////////////////////////////////\\n\\np5.RendererGL.prototype.geometryInHash = function(gId) {\\n  return this.gHash[gId] !== undefined;\\n};\\n\\n/**\\n * [resize description]\\n * @private\\n * @param  {Number} w [description]\\n * @param  {Number} h [description]\\n */\\np5.RendererGL.prototype.resize = function(w, h) {\\n  p5.Renderer.prototype.resize.call(this, w, h);\\n  this.GL.viewport(\\n    0,\\n    0,\\n    this.GL.drawingBufferWidth,\\n    this.GL.drawingBufferHeight\\n  );\\n  this._viewport = this.GL.getParameter(this.GL.VIEWPORT);\\n\\n  this._curCamera._resize();\\n\\n  //resize pixels buffer\\n  var pixelsState = this._pixelsState;\\n  pixelsState._pixelsDirty = true;\\n  if (typeof pixelsState.pixels !== 'undefined') {\\n    pixelsState._setProperty(\\n      'pixels',\\n      new Uint8Array(\\n        this.GL.drawingBufferWidth * this.GL.drawingBufferHeight * 4\\n      )\\n    );\\n  }\\n};\\n\\n/**\\n * clears color and depth buffers\\n * with r,g,b,a\\n * @private\\n * @param {Number} r normalized red val.\\n * @param {Number} g normalized green val.\\n * @param {Number} b normalized blue val.\\n * @param {Number} a normalized alpha val.\\n */\\np5.RendererGL.prototype.clear = function() {\\n  var _r = arguments[0] || 0;\\n  var _g = arguments[1] || 0;\\n  var _b = arguments[2] || 0;\\n  var _a = arguments[3] || 0;\\n  this.GL.clearColor(_r, _g, _b, _a);\\n  this.GL.clear(this.GL.COLOR_BUFFER_BIT | this.GL.DEPTH_BUFFER_BIT);\\n  this._pixelsState._pixelsDirty = true;\\n};\\n\\np5.RendererGL.prototype.applyMatrix = function(a, b, c, d, e, f) {\\n  if (arguments.length === 16) {\\n    p5.Matrix.prototype.apply.apply(this.uMVMatrix, arguments);\\n  } else {\\n    // prettier-ignore\\n    this.uMVMatrix.apply([\\n      a, b, 0, 0,\\n      c, d, 0, 0,\\n      0, 0, 1, 0,\\n      e, f, 0, 1,\\n    ]);\\n  }\\n};\\n\\n/**\\n * [translate description]\\n * @private\\n * @param  {Number} x [description]\\n * @param  {Number} y [description]\\n * @param  {Number} z [description]\\n * @chainable\\n * @todo implement handle for components or vector as args\\n */\\np5.RendererGL.prototype.translate = function(x, y, z) {\\n  if (x instanceof p5.Vector) {\\n    z = x.z;\\n    y = x.y;\\n    x = x.x;\\n  }\\n  this.uMVMatrix.translate([x, y, z]);\\n  return this;\\n};\\n\\n/**\\n * Scales the Model View Matrix by a vector\\n * @private\\n * @param  {Number | p5.Vector | Array} x [description]\\n * @param  {Number} [y] y-axis scalar\\n * @param  {Number} [z] z-axis scalar\\n * @chainable\\n */\\np5.RendererGL.prototype.scale = function(x, y, z) {\\n  this.uMVMatrix.scale(x, y, z);\\n  return this;\\n};\\n\\np5.RendererGL.prototype.rotate = function(rad, axis) {\\n  if (typeof axis === 'undefined') {\\n    return this.rotateZ(rad);\\n  }\\n  p5.Matrix.prototype.rotate.apply(this.uMVMatrix, arguments);\\n  return this;\\n};\\n\\np5.RendererGL.prototype.rotateX = function(rad) {\\n  this.rotate(rad, 1, 0, 0);\\n  return this;\\n};\\n\\np5.RendererGL.prototype.rotateY = function(rad) {\\n  this.rotate(rad, 0, 1, 0);\\n  return this;\\n};\\n\\np5.RendererGL.prototype.rotateZ = function(rad) {\\n  this.rotate(rad, 0, 0, 1);\\n  return this;\\n};\\n\\np5.RendererGL.prototype.push = function() {\\n  // get the base renderer style\\n  var style = p5.Renderer.prototype.push.apply(this);\\n\\n  // add webgl-specific style properties\\n  var properties = style.properties;\\n\\n  properties.uMVMatrix = this.uMVMatrix.copy();\\n  properties.uPMatrix = this.uPMatrix.copy();\\n  properties._curCamera = this._curCamera;\\n\\n  // make a copy of the current camera for the push state\\n  // this preserves any references stored using 'createCamera'\\n  this._curCamera = this._curCamera.copy();\\n\\n[end of p5.RendererGL.js]\\n[start of p5.RendererGL.Immediate.js]\\n/**\\n * Welcome to RendererGL Immediate Mode.\\n * Immediate mode is used for drawing custom shapes\\n * from a set of vertices.  Immediate Mode is activated\\n * when you call <a href=\\\"#/p5/beginShape\\\">beginShape()</a> & de-activated when you call <a href=\\\"#/p5/endShape\\\">endShape()</a>.\\n * Immediate mode is a style of programming borrowed\\n * from OpenGL's (now-deprecated) immediate mode.\\n * It differs from p5.js' default, Retained Mode, which caches\\n * geometries and buffers on the CPU to reduce the number of webgl\\n * draw calls. Retained mode is more efficient & performative,\\n * however, Immediate Mode is useful for sketching quick\\n * geometric ideas.\\n */\\n'use strict';\\n\\nvar p5 = require('../core/main');\\nvar constants = require('../core/constants');\\n\\n/**\\n * Begin shape drawing.  This is a helpful way of generating\\n * custom shapes quickly.  However in WEBGL mode, application\\n * performance will likely drop as a result of too many calls to\\n * <a href=\\\"#/p5/beginShape\\\">beginShape()</a> / <a href=\\\"#/p5/endShape\\\">endShape()</a>.  As a high performance alternative,\\n * please use p5.js geometry primitives.\\n * @private\\n * @method beginShape\\n * @param  {Number} mode webgl primitives mode.  beginShape supports the\\n *                       following modes:\\n *                       POINTS,LINES,LINE_STRIP,LINE_LOOP,TRIANGLES,\\n *                       TRIANGLE_STRIP,and TRIANGLE_FAN.\\n * @chainable\\n */\\np5.RendererGL.prototype.beginShape = function(mode) {\\n  //default shape mode is line_strip\\n  this.immediateMode.shapeMode =\\n    mode !== undefined ? mode : constants.LINE_STRIP;\\n  //if we haven't yet initialized our\\n  //immediateMode vertices & buffers, create them now!\\n  if (this.immediateMode.vertices === undefined) {\\n    this.immediateMode.vertices = [];\\n    this.immediateMode.edges = [];\\n    this.immediateMode.lineVertices = [];\\n    this.immediateMode.vertexColors = [];\\n    this.immediateMode.lineNormals = [];\\n    this.immediateMode.uvCoords = [];\\n    this.immediateMode.vertexBuffer = this.GL.createBuffer();\\n    this.immediateMode.colorBuffer = this.GL.createBuffer();\\n    this.immediateMode.uvBuffer = this.GL.createBuffer();\\n    this.immediateMode.lineVertexBuffer = this.GL.createBuffer();\\n    this.immediateMode.lineNormalBuffer = this.GL.createBuffer();\\n    this.immediateMode.pointVertexBuffer = this.GL.createBuffer();\\n    this.immediateMode._bezierVertex = [];\\n    this.immediateMode._quadraticVertex = [];\\n    this.immediateMode._curveVertex = [];\\n  } else {\\n    this.immediateMode.vertices.length = 0;\\n    this.immediateMode.edges.length = 0;\\n    this.immediateMode.lineVertices.length = 0;\\n    this.immediateMode.lineNormals.length = 0;\\n    this.immediateMode.vertexColors.length = 0;\\n    this.immediateMode.uvCoords.length = 0;\\n  }\\n  this.isImmediateDrawing = true;\\n  return this;\\n};\\n/**\\n * adds a vertex to be drawn in a custom Shape.\\n * @private\\n * @method vertex\\n * @param  {Number} x x-coordinate of vertex\\n * @param  {Number} y y-coordinate of vertex\\n * @param  {Number} z z-coordinate of vertex\\n * @chainable\\n * @TODO implement handling of <a href=\\\"#/p5.Vector\\\">p5.Vector</a> args\\n */\\np5.RendererGL.prototype.vertex = function(x, y) {\\n  var z, u, v;\\n\\n  // default to (x, y) mode: all other arugments assumed to be 0.\\n  z = u = v = 0;\\n\\n  if (arguments.length === 3) {\\n    // (x, y, z) mode: (u, v) assumed to be 0.\\n    z = arguments[2];\\n  } else if (arguments.length === 4) {\\n    // (x, y, u, v) mode: z assumed to be 0.\\n    u = arguments[2];\\n    v = arguments[3];\\n  } else if (arguments.length === 5) {\\n    // (x, y, z, u, v) mode\\n    z = arguments[2];\\n    u = arguments[3];\\n    v = arguments[4];\\n  }\\n  var vert = new p5.Vector(x, y, z);\\n  this.immediateMode.vertices.push(vert);\\n  var vertexColor = this.curFillColor || [0.5, 0.5, 0.5, 1.0];\\n  this.immediateMode.vertexColors.push(\\n    vertexColor[0],\\n    vertexColor[1],\\n    vertexColor[2],\\n    vertexColor[3]\\n  );\\n\\n  if (this.textureMode === constants.IMAGE) {\\n    if (this._tex !== null) {\\n      if (this._tex.width > 0 && this._tex.height > 0) {\\n        u /= this._tex.width;\\n        v /= this._tex.height;\\n      }\\n    } else if (this._tex === null && arguments.length >= 4) {\\n      // Only throw this warning if custom uv's have  been provided\\n      console.warn(\\n        'You must first call texture() before using' +\\n          ' vertex() with image based u and v coordinates'\\n      );\\n    }\\n  }\\n\\n  this.immediateMode.uvCoords.push(u, v);\\n\\n  this.immediateMode._bezierVertex[0] = x;\\n  this.immediateMode._bezierVertex[1] = y;\\n  this.immediateMode._bezierVertex[2] = z;\\n\\n  this.immediateMode._quadraticVertex[0] = x;\\n  this.immediateMode._quadraticVertex[1] = y;\\n  this.immediateMode._quadraticVertex[2] = z;\\n\\n  return this;\\n};\\n\\n/**\\n * End shape drawing and render vertices to screen.\\n * @chainable\\n */\\np5.RendererGL.prototype.endShape = function(\\n  mode,\\n  isCurve,\\n  isBezier,\\n  isQuadratic,\\n  isContour,\\n  shapeKind\\n) {\\n  if (this.immediateMode.shapeMode === constants.POINTS) {\\n    this._drawPoints(\\n      this.immediateMode.vertices,\\n      this.immediateMode.pointVertexBuffer\\n    );\\n  } else if (this.immediateMode.vertices.length > 1) {\\n    if (this._doStroke && this.drawMode !== constants.TEXTURE) {\\n      if (this.immediateMode.shapeMode === constants.TRIANGLE_STRIP) {\\n        var i;\\n        for (i = 0; i < this.immediateMode.vertices.length - 2; i++) {\\n          this.immediateMode.edges.push([i, i + 1]);\\n          this.immediateMode.edges.push([i, i + 2]);\\n        }\\n        this.immediateMode.edges.push([i, i + 1]);\\n      } else if (this.immediateMode.shapeMode === constants.TRIANGLES) {\\n        for (i = 0; i < this.immediateMode.vertices.length - 2; i = i + 3) {\\n          this.immediateMode.edges.push([i, i + 1]);\\n          this.immediateMode.edges.push([i + 1, i + 2]);\\n          this.immediateMode.edges.push([i + 2, i]);\\n        }\\n      } else if (this.immediateMode.shapeMode === constants.LINES) {\\n        for (i = 0; i < this.immediateMode.vertices.length - 1; i = i + 2) {\\n          this.immediateMode.edges.push([i, i + 1]);\\n        }\\n      } else {\\n        for (i = 0; i < this.immediateMode.vertices.length - 1; i++) {\\n          this.immediateMode.edges.push([i, i + 1]);\\n        }\\n      }\\n      if (mode === constants.CLOSE) {\\n        this.immediateMode.edges.push([\\n          this.immediateMode.vertices.length - 1,\\n          0\\n        ]);\\n      }\\n\\n      p5.Geometry.prototype._edgesToVertices.call(this.immediateMode);\\n      this._drawStrokeImmediateMode();\\n    }\\n\\n    if (this._doFill && this.immediateMode.shapeMode !== constants.LINES) {\\n      if (this.isBezier || this.isQuadratic || this.isCurve) {\\n        var contours = [\\n          new Float32Array(this._vToNArray(this.immediateMode.vertices))\\n        ];\\n        var polyTriangles = this._triangulate(contours);\\n        this.immediateMode.vertices = [];\\n        for (\\n          var j = 0, polyTriLength = polyTriangles.length;\\n          j < polyTriLength;\\n          j = j + 3\\n        ) {\\n          this.vertex(\\n            polyTriangles[j],\\n            polyTriangles[j + 1],\\n            polyTriangles[j + 2]\\n          );\\n        }\\n      }\\n      this._drawFillImmediateMode(\\n        mode,\\n        isCurve,\\n        isBezier,\\n        isQuadratic,\\n        isContour,\\n        shapeKind\\n      );\\n    }\\n  }\\n  //clear out our vertexPositions & colors arrays\\n  //after rendering\\n  this.immediateMode.vertices.length = 0;\\n  this.immediateMode.vertexColors.length = 0;\\n  this.immediateMode.uvCoords.length = 0;\\n  this.isImmediateDrawing = false;\\n  this.isBezier = false;\\n  this.isQuadratic = false;\\n  this.isCurve = false;\\n  this.immediateMode._bezierVertex.length = 0;\\n  this.immediateMode._quadraticVertex.length = 0;\\n\\n  this.immediateMode._curveVertex.length = 0;\\n\\n  return this;\\n};\\n\\np5.RendererGL.prototype._drawFillImmediateMode = function(\\n  mode,\\n  isCurve,\\n  isBezier,\\n  isQuadratic,\\n  isContour,\\n  shapeKind\\n) {\\n  var gl = this.GL;\\n  var shader = this._getImmediateFillShader();\\n  this._setFillUniforms(shader);\\n\\n  // initialize the fill shader's 'aPosition' buffer\\n  if (shader.attributes.aPosition) {\\n    //vertex position Attribute\\n    this._bindBuffer(\\n      this.immediateMode.vertexBuffer,\\n      gl.ARRAY_BUFFER,\\n      this._vToNArray(this.immediateMode.vertices),\\n      Float32Array,\\n      gl.DYNAMIC_DRAW\\n    );\\n\\n    shader.enableAttrib(\\n      shader.attributes.aPosition.location,\\n      3,\\n      gl.FLOAT,\\n      false,\\n      0,\\n      0\\n    );\\n  }\\n\\n  // initialize the fill shader's 'aVertexColor' buffer\\n  if (this.drawMode === constants.FILL && shader.attributes.aVertexColor) {\\n    this._bindBuffer(\\n      this.immediateMode.colorBuffer,\\n      gl.ARRAY_BUFFER,\\n      this.immediateMode.vertexColors,\\n      Float32Array,\\n      gl.DYNAMIC_DRAW\\n    );\\n\\n    shader.enableAttrib(\\n      shader.attributes.aVertexColor.location,\\n      4,\\n      gl.FLOAT,\\n      false,\\n      0,\\n      0\\n    );\\n  }\\n\\n  // initialize the fill shader's 'aTexCoord' buffer\\n  if (this.drawMode === constants.TEXTURE && shader.attributes.aTexCoord) {\\n    //texture coordinate Attribute\\n    this._bindBuffer(\\n      this.immediateMode.uvBuffer,\\n      gl.ARRAY_BUFFER,\\n      this.immediateMode.uvCoords,\\n      Float32Array,\\n      gl.DYNAMIC_DRAW\\n    );\\n\\n    shader.enableAttrib(\\n      shader.attributes.aTexCoord.location,\\n      2,\\n      gl.FLOAT,\\n      false,\\n      0,\\n      0\\n    );\\n  }\\n\\n  //if (true || mode) {\\n  if (this.drawMode === constants.FILL || this.drawMode === constants.TEXTURE) {\\n    switch (this.immediateMode.shapeMode) {\\n      case constants.LINE_STRIP:\\n      case constants.LINES:\\n      case constants.TRIANGLES:\\n        this.immediateMode.shapeMode =\\n          this.isBezier ||\\n          this.isQuadratic ||\\n          this.isCurve ||\\n          this.immediateMode.shapeMode === constants.TRIANGLES\\n            ? constants.TRIANGLES\\n            : constants.TRIANGLE_FAN;\\n        break;\\n    }\\n  } else {\\n    switch (this.immediateMode.shapeMode) {\\n      case constants.LINE_STRIP:\\n      case constants.LINES:\\n        this.immediateMode.shapeMode = constants.LINE_LOOP;\\n        break;\\n    }\\n  }\\n  //}\\n  //QUADS & QUAD_STRIP are not supported primitives modes\\n  //in webgl.\\n  if (\\n    this.immediateMode.shapeMode === constants.QUADS ||\\n    this.immediateMode.shapeMode === constants.QUAD_STRIP\\n  ) {\\n    throw new Error(\\n      'sorry, ' +\\n        this.immediateMode.shapeMode +\\n        ' not yet implemented in webgl mode.'\\n    );\\n  } else {\\n    this._applyColorBlend(this.curFillColor);\\n    gl.enable(gl.BLEND);\\n    gl.drawArrays(\\n      this.immediateMode.shapeMode,\\n      0,\\n      this.immediateMode.vertices.length\\n    );\\n\\n    this._pixelsState._pixelsDirty = true;\\n  }\\n  // todo / optimizations? leave bound until another shader is set?\\n  shader.unbindShader();\\n};\\n\\np5.RendererGL.prototype._drawStrokeImmediateMode = function() {\\n  var gl = this.GL;\\n  var shader = this._getImmediateStrokeShader();\\n  this._setStrokeUniforms(shader);\\n\\n  // initialize the stroke shader's 'aPosition' buffer\\n  if (shader.attributes.aPosition) {\\n    this._bindBuffer(\\n      this.immediateMode.lineVertexBuffer,\\n      gl.ARRAY_BUFFER,\\n      this._flatten(this.immediateMode.lineVertices),\\n      Float32Array,\\n      gl.STATIC_DRAW\\n    );\\n\\n    shader.enableAttrib(\\n      shader.attributes.aPosition.location,\\n      3,\\n      gl.FLOAT,\\n      false,\\n      0,\\n      0\\n    );\\n  }\\n\\n  // initialize the stroke shader's 'aDirection' buffer\\n  if (shader.attributes.aDirection) {\\n    this._bindBuffer(\\n      this.immediateMode.lineNormalBuffer,\\n      gl.ARRAY_BUFFER,\\n      this._flatten(this.immediateMode.lineNormals),\\n      Float32Array,\\n      gl.STATIC_DRAW\\n    );\\n    shader.enableAttrib(\\n      shader.attributes.aDirection.location,\\n      4,\\n      gl.FLOAT,\\n      false,\\n      0,\\n      0\\n    );\\n  }\\n\\n  this._applyColorBlend(this.curStrokeColor);\\n  gl.drawArrays(gl.TRIANGLES, 0, this.immediateMode.lineVertices.length);\\n\\n  this._pixelsState._pixelsDirty = true;\\n\\n  shader.unbindShader();\\n};\\n\\nmodule.exports = p5.RendererGL;\\n\\n[end of p5.RendererGL.Immediate.js]\\n[start of text.js]\\n'use strict';\\n\\nvar p5 = require('../core/main');\\nvar constants = require('../core/constants');\\nrequire('./p5.Shader');\\nrequire('./p5.RendererGL');\\n\\n// Text/Typography\\n// @TODO:\\np5.RendererGL.prototype._applyTextProperties = function() {\\n  //@TODO finish implementation\\n  //console.error('text commands not yet implemented in webgl');\\n};\\n\\np5.RendererGL.prototype.textWidth = function(s) {\\n  if (this._isOpenType()) {\\n    return this._textFont._textWidth(s, this._textSize);\\n  }\\n\\n  return 0; // TODO: error\\n};\\n\\n// rendering constants\\n\\n// the number of rows/columns dividing each glyph\\nvar charGridWidth = 9;\\nvar charGridHeight = charGridWidth;\\n\\n// size of the image holding the bezier stroke info\\nvar strokeImageWidth = 64;\\nvar strokeImageHeight = 64;\\n\\n// size of the image holding the stroke indices for each row/col\\nvar gridImageWidth = 64;\\nvar gridImageHeight = 64;\\n\\n// size of the image holding the offset/length of each row/col stripe\\nvar cellImageWidth = 64;\\nvar cellImageHeight = 64;\\n\\n/**\\n * @private\\n * @class ImageInfos\\n * @param {Integer} width\\n * @param {Integer} height\\n *\\n * the ImageInfos class holds a list of ImageDatas of a given size.\\n */\\nfunction ImageInfos(width, height) {\\n  this.width = width;\\n  this.height = height;\\n  this.infos = []; // the list of images\\n\\n  /**\\n   *\\n   * @method findImage\\n   * @param {Integer} space\\n   * @return {Object} contains the ImageData, and pixel index into that\\n   *                  ImageData where the free space was allocated.\\n   *\\n   * finds free space of a given size in the ImageData list\\n   */\\n  this.findImage = function(space) {\\n    var imageSize = this.width * this.height;\\n    if (space > imageSize)\\n      throw new Error('font is too complex to render in 3D');\\n\\n    // search through the list of images, looking for one with\\n    // anough unused space.\\n    var imageInfo, imageData;\\n    for (var ii = this.infos.length - 1; ii >= 0; --ii) {\\n      var imageInfoTest = this.infos[ii];\\n      if (imageInfoTest.index + space < imageSize) {\\n        // found one\\n        imageInfo = imageInfoTest;\\n        imageData = imageInfoTest.imageData;\\n        break;\\n      }\\n    }\\n\\n    if (!imageInfo) {\\n      try {\\n        // create a new image\\n        imageData = new ImageData(this.width, this.height);\\n      } catch (err) {\\n        // for browsers that don't support ImageData constructors (ie IE11)\\n        // create an ImageData using the old method\\n        var canvas = document.getElementsByTagName('canvas')[0];\\n        var created = !canvas;\\n        if (!canvas) {\\n          // create a temporary canvas\\n          canvas = document.createElement('canvas');\\n          canvas.style.display = 'none';\\n          document.body.appendChild(canvas);\\n        }\\n        var ctx = canvas.getContext('2d');\\n        if (ctx) {\\n          imageData = ctx.createImageData(this.width, this.height);\\n        }\\n        if (created) {\\n          // distroy the temporary canvas, if necessary\\n          document.body.removeChild(canvas);\\n        }\\n      }\\n      // construct & dd the new image info\\n      imageInfo = { index: 0, imageData: imageData };\\n      this.infos.push(imageInfo);\\n    }\\n\\n    var index = imageInfo.index;\\n    imageInfo.index += space; // move to the start of the next image\\n    imageData._dirty = true;\\n    return { imageData: imageData, index: index };\\n  };\\n}\\n\\n/**\\n * @function setPixel\\n * @param {Object} imageInfo\\n * @param {Number} r\\n * @param {Number} g\\n * @param {Number} b\\n * @param {Number} a\\n *\\n * writes the next pixel into an indexed ImageData\\n */\\nfunction setPixel(imageInfo, r, g, b, a) {\\n  var imageData = imageInfo.imageData;\\n  var pixels = imageData.data;\\n  var index = imageInfo.index++ * 4;\\n  pixels[index++] = r;\\n  pixels[index++] = g;\\n  pixels[index++] = b;\\n  pixels[index++] = a;\\n}\\n\\nvar SQRT3 = Math.sqrt(3);\\n\\n/**\\n * @private\\n * @class FontInfo\\n * @param {Object} font an opentype.js font object\\n *\\n * contains cached images and glyph information for an opentype font\\n */\\nvar FontInfo = function(font) {\\n  this.font = font;\\n  // the bezier curve coordinates\\n  this.strokeImageInfos = new ImageInfos(strokeImageWidth, strokeImageHeight);\\n  // lists of curve indices for each row/column slice\\n  this.colDimImageInfos = new ImageInfos(gridImageWidth, gridImageHeight);\\n  this.rowDimImageInfos = new ImageInfos(gridImageWidth, gridImageHeight);\\n  // the offset & length of each row/col slice in the glyph\\n  this.colCellImageInfos = new ImageInfos(cellImageWidth, cellImageHeight);\\n  this.rowCellImageInfos = new ImageInfos(cellImageWidth, cellImageHeight);\\n\\n  // the cached information for each glyph\\n  this.glyphInfos = {};\\n\\n  /**\\n   * @method getGlyphInfo\\n   * @param {Glyph} glyph the x positions of points in the curve\\n   * @returns {Object} the glyphInfo for that glyph\\n   *\\n   * calculates rendering info for a glyph, including the curve information,\\n   * row & column stripes compiled into textures.\\n   */\\n\\n  this.getGlyphInfo = function(glyph) {\\n    // check the cache\\n    var gi = this.glyphInfos[glyph.index];\\n    if (gi) return gi;\\n\\n    // get the bounding box of the glyph from opentype.js\\n    var bb = glyph.getBoundingBox();\\n    var xMin = bb.x1;\\n    var yMin = bb.y1;\\n    var gWidth = bb.x2 - xMin;\\n    var gHeight = bb.y2 - yMin;\\n    var cmds = glyph.path.commands;\\n    // don't bother rendering invisible glyphs\\n    if (gWidth === 0 || gHeight === 0 || !cmds.length) {\\n      return (this.glyphInfos[glyph.index] = {});\\n    }\\n\\n    var i;\\n    var strokes = []; // the strokes in this glyph\\n    var rows = []; // the indices of strokes in each row\\n    var cols = []; // the indices of strokes in each column\\n    for (i = charGridWidth - 1; i >= 0; --i) cols.push([]);\\n    for (i = charGridHeight - 1; i >= 0; --i) rows.push([]);\\n\\n    /**\\n     * @function push\\n     * @param {Number[]} xs the x positions of points in the curve\\n     * @param {Number[]} ys the y positions of points in the curve\\n     * @param {Object} v    the curve information\\n     *\\n     * adds a curve to the rows & columns that it intersects with\\n     */\\n    function push(xs, ys, v) {\\n      var index = strokes.length; // the index of this stroke\\n      strokes.push(v); // add this stroke to the list\\n\\n      /**\\n       * @function minMax\\n       * @param {Number[]} rg the list of values to compare\\n       * @param {Number} min the initial minimum value\\n       * @param {Number} max the initial maximum value\\n       *\\n       * find the minimum & maximum value in a list of values\\n       */\\n      function minMax(rg, min, max) {\\n        for (var i = rg.length; i-- > 0; ) {\\n          var v = rg[i];\\n          if (min > v) min = v;\\n          if (max < v) max = v;\\n        }\\n        return { min: min, max: max };\\n      }\\n\\n      // loop through the rows & columns that the curve intersects\\n      // adding the curve to those slices\\n      var mmX = minMax(xs, 1, 0);\\n      var ixMin = Math.max(Math.floor(mmX.min * charGridWidth), 0);\\n      var ixMax = Math.min(Math.ceil(mmX.max * charGridWidth), charGridWidth);\\n      for (var iCol = ixMin; iCol < ixMax; ++iCol) cols[iCol].push(index);\\n\\n      var mmY = minMax(ys, 1, 0);\\n      var iyMin = Math.max(Math.floor(mmY.min * charGridHeight), 0);\\n      var iyMax = Math.min(Math.ceil(mmY.max * charGridHeight), charGridHeight);\\n      for (var iRow = iyMin; iRow < iyMax; ++iRow) rows[iRow].push(index);\\n    }\\n\\n    /**\\n     * @function clamp\\n     * @param {Number} v the value to clamp\\n     * @param {Number} min the minimum value\\n     * @param {Number} max the maxmimum value\\n     *\\n     * clamps a value between a minimum & maximum value\\n     */\\n    function clamp(v, min, max) {\\n      if (v < min) return min;\\n      if (v > max) return max;\\n      return v;\\n    }\\n\\n    /**\\n     * @function byte\\n     * @param {Number} v the value to scale\\n     *\\n     * converts a floating-point number in the range 0-1 to a byte 0-255\\n     */\\n    function byte(v) {\\n      return clamp(255 * v, 0, 255);\\n    }\\n\\n    /**\\n     * @private\\n     * @class Cubic\\n     * @param {Number} p0 the start point of the curve\\n     * @param {Number} c0 the first control point\\n     * @param {Number} c1 the second control point\\n     * @param {Number} p1 the end point\\n     *\\n     * a cubic curve\\n     */\\n    function Cubic(p0, c0, c1, p1) {\\n      this.p0 = p0;\\n      this.c0 = c0;\\n      this.c1 = c1;\\n      this.p1 = p1;\\n\\n      /**\\n       * @method toQuadratic\\n       * @return {Object} the quadratic approximation\\n       *\\n       * converts the cubic to a quadtratic approximation by\\n       * picking an appropriate quadratic control point\\n       */\\n      this.toQuadratic = function() {\\n        return {\\n          x: this.p0.x,\\n          y: this.p0.y,\\n          x1: this.p1.x,\\n          y1: this.p1.y,\\n          cx: ((this.c0.x + this.c1.x) * 3 - (this.p0.x + this.p1.x)) / 4,\\n          cy: ((this.c0.y + this.c1.y) * 3 - (this.p0.y + this.p1.y)) / 4\\n        };\\n      };\\n\\n      /**\\n       * @method quadError\\n       * @return {Number} the error\\n       *\\n       * calculates the magnitude of error of this curve's\\n       * quadratic approximation.\\n       */\\n      this.quadError = function() {\\n        return (\\n          p5.Vector.sub(\\n            p5.Vector.sub(this.p1, this.p0),\\n            p5.Vector.mult(p5.Vector.sub(this.c1, this.c0), 3)\\n          ).mag() / 2\\n        );\\n      };\\n\\n      /**\\n       * @method split\\n       * @param {Number} t the value (0-1) at which to split\\n       * @return {Cubic} the second part of the curve\\n       *\\n       * splits the cubic into two parts at a point 't' along the curve.\\n       * this cubic keeps its start point and its end point becomes the\\n       * point at 't'. the 'end half is returned.\\n       */\\n      this.split = function(t) {\\n        var m1 = p5.Vector.lerp(this.p0, this.c0, t);\\n        var m2 = p5.Vector.lerp(this.c0, this.c1, t);\\n        var mm1 = p5.Vector.lerp(m1, m2, t);\\n\\n        this.c1 = p5.Vector.lerp(this.c1, this.p1, t);\\n        this.c0 = p5.Vector.lerp(m2, this.c1, t);\\n        var pt = p5.Vector.lerp(mm1, this.c0, t);\\n        var part1 = new Cubic(this.p0, m1, mm1, pt);\\n        this.p0 = pt;\\n        return part1;\\n      };\\n\\n      /**\\n       * @method splitInflections\\n       * @return {Cubic[]} the non-inflecting pieces of this cubic\\n       *\\n       * returns an array containing 0, 1 or 2 cubics split resulting\\n       * from splitting this cubic at its inflection points.\\n       * this cubic is (potentially) altered and returned in the list.\\n       */\\n      this.splitInflections = function() {\\n        var a = p5.Vector.sub(this.c0, this.p0);\\n        var b = p5.Vector.sub(p5.Vector.sub(this.c1, this.c0), a);\\n        var c = p5.Vector.sub(\\n          p5.Vector.sub(p5.Vector.sub(this.p1, this.c1), a),\\n          p5.Vector.mult(b, 2)\\n        );\\n\\n        var cubics = [];\\n\\n        // find the derivative coefficients\\n        var A = b.x * c.y - b.y * c.x;\\n        if (A !== 0) {\\n          var B = a.x * c.y - a.y * c.x;\\n          var C = a.x * b.y - a.y * b.x;\\n          var disc = B * B - 4 * A * C;\\n          if (disc >= 0) {\\n            if (A < 0) {\\n              A = -A;\\n              B = -B;\\n              C = -C;\\n            }\\n\\n            var Q = Math.sqrt(disc);\\n            var t0 = (-B - Q) / (2 * A); // the first inflection point\\n            var t1 = (-B + Q) / (2 * A); // the second inflection point\\n\\n            // test if the first inflection point lies on the curve\\n            if (t0 > 0 && t0 < 1) {\\n              // split at the first inflection point\\n              cubics.push(this.split(t0));\\n              // scale t2 into the second part\\n              t1 = 1 - (1 - t1) / (1 - t0);\\n            }\\n\\n            // test if the second inflection point lies on the curve\\n            if (t1 > 0 && t1 < 1) {\\n              // split at the second inflection point\\n              cubics.push(this.split(t1));\\n            }\\n          }\\n        }\\n\\n        cubics.push(this);\\n        return cubics;\\n      };\\n    }\\n\\n    /**\\n     * @function cubicToQuadratics\\n     * @param {Number} x0\\n     * @param {Number} y0\\n     * @param {Number} cx0\\n     * @param {Number} cy0\\n     * @param {Number} cx1\\n     * @param {Number} cy1\\n     * @param {Number} x1\\n     * @param {Number} y1\\n     * @returns {Cubic[]} an array of cubics whose quadratic approximations\\n     *                    closely match the civen cubic.\\n     *\\n     * converts a cubic curve to a list of quadratics.\\n     */\\n    function cubicToQuadratics(x0, y0, cx0, cy0, cx1, cy1, x1, y1) {\\n      // create the Cubic object and split it at its inflections\\n      var cubics = new Cubic(\\n        new p5.Vector(x0, y0),\\n        new p5.Vector(cx0, cy0),\\n        new p5.Vector(cx1, cy1),\\n        new p5.Vector(x1, y1)\\n      ).splitInflections();\\n\\n      var qs = []; // the final list of quadratics\\n      var precision = 30 / SQRT3;\\n\\n      // for each of the non-inflected pieces of the original cubic\\n      for (var i = 0; i < cubics.length; i++) {\\n        var cubic = cubics[i];\\n\\n        // the cubic is iteratively split in 3 pieces:\\n        // the first piece is accumulated in 'qs', the result.\\n        // the last piece is accumulated in 'tail', temporarily.\\n        // the middle piece is repeatedly split again, while necessary.\\n        var tail = [];\\n\\n        var t3;\\n        for (;;) {\\n          // calculate this cubic's precision\\n          t3 = precision / cubic.quadError();\\n          if (t3 >= 0.5 * 0.5 * 0.5) {\\n            break; // not too bad, we're done\\n          }\\n\\n          // find a split point based on the error\\n          var t = Math.pow(t3, 1.0 / 3.0);\\n          // split the cubic in 3\\n          var start = cubic.split(t);\\n          var middle = cubic.split(1 - t / (1 - t));\\n\\n          qs.push(start); // the first part\\n          tail.push(cubic); // the last part\\n          cubic = middle; // iterate on the middle piece\\n        }\\n\\n        if (t3 < 1) {\\n          // a little excess error, split the middle in two\\n          qs.push(cubic.split(0.5));\\n        }\\n        // add the middle piece to the result\\n        qs.push(cubic);\\n\\n        // finally add the tail, reversed, onto the result\\n        Array.prototype.push.apply(qs, tail.reverse());\\n      }\\n\\n      return qs;\\n    }\\n\\n    /**\\n     * @function pushLine\\n     * @param {Number} x0\\n     * @param {Number} y0\\n     * @param {Number} x1\\n     * @param {Number} y1\\n     *\\n     * add a straight line to the row/col grid of a glyph\\n     */\\n    function pushLine(x0, y0, x1, y1) {\\n      var mx = (x0 + x1) / 2;\\n      var my = (y0 + y1) / 2;\\n      push([x0, x1], [y0, y1], { x: x0, y: y0, cx: mx, cy: my });\\n    }\\n\\n    /**\\n     * @function samePoint\\n     * @param {Number} x0\\n     * @param {Number} y0\\n     * @param {Number} x1\\n     * @param {Number} y1\\n     * @return {Boolean} true if the two points are sufficiently close\\n     *\\n     * tests if two points are close enough to be considered the same\\n     */\\n    function samePoint(x0, y0, x1, y1) {\\n      return Math.abs(x1 - x0) < 0.00001 && Math.abs(y1 - y0) < 0.00001;\\n    }\\n\\n    var x0, y0, xs, ys;\\n    for (var iCmd = 0; iCmd < cmds.length; ++iCmd) {\\n      var cmd = cmds[iCmd];\\n      // scale the coordinates to the range 0-1\\n      var x1 = (cmd.x - xMin) / gWidth;\\n      var y1 = (cmd.y - yMin) / gHeight;\\n\\n      // don't bother if this point is the same as the last\\n      if (samePoint(x0, y0, x1, y1)) continue;\\n\\n      switch (cmd.type) {\\n        case 'M': // move\\n          xs = x1;\\n          ys = y1;\\n          break;\\n        case 'L': // line\\n          pushLine(x0, y0, x1, y1);\\n          break;\\n        case 'Q': // quadratic\\n          var cx = (cmd.x1 - xMin) / gWidth;\\n          var cy = (cmd.y1 - yMin) / gHeight;\\n          push([x0, x1, cx], [y0, y1, cy], { x: x0, y: y0, cx: cx, cy: cy });\\n          break;\\n        case 'Z': // end\\n          if (!samePoint(x0, y0, xs, ys)) {\\n            // add an extra line closing the loop, if necessary\\n            pushLine(x0, y0, xs, ys);\\n            strokes.push({ x: xs, y: ys });\\n          } else {\\n            strokes.push({ x: x0, y: y0 });\\n          }\\n          break;\\n        case 'C': // cubic\\n          var cx1 = (cmd.x1 - xMin) / gWidth;\\n          var cy1 = (cmd.y1 - yMin) / gHeight;\\n          var cx2 = (cmd.x2 - xMin) / gWidth;\\n          var cy2 = (cmd.y2 - yMin) / gHeight;\\n          var qs = cubicToQuadratics(x0, y0, cx1, cy1, cx2, cy2, x1, y1);\\n          for (var iq = 0; iq < qs.length; iq++) {\\n            var q = qs[iq].toQuadratic();\\n            push([q.x, q.x1, q.cx], [q.y, q.y1, q.cy], q);\\n          }\\n          break;\\n        default:\\n          throw new Error('unknown command type: ' + cmd.type);\\n      }\\n      x0 = x1;\\n      y0 = y1;\\n    }\\n\\n    // allocate space for the strokes\\n    var strokeCount = strokes.length;\\n    var strokeImageInfo = this.strokeImageInfos.findImage(strokeCount);\\n    var strokeOffset = strokeImageInfo.index;\\n\\n    // fill the stroke image\\n    for (var il = 0; il < strokeCount; ++il) {\\n      var s = strokes[il];\\n      setPixel(strokeImageInfo, byte(s.x), byte(s.y), byte(s.cx), byte(s.cy));\\n    }\\n\\n    /**\\n     * @function layout\\n     * @param {Number[][]} dim\\n     * @param {ImageInfo[]} dimImageInfos\\n     * @param {ImageInfo[]} cellImageInfos\\n     * @return {Object}\\n     *\\n     * lays out the curves in a dimension (row or col) into two\\n     * images, one for the indices of the curves themselves, and\\n     * one containing the offset and length of those index spans.\\n     */\\n    function layout(dim, dimImageInfos, cellImageInfos) {\\n      var dimLength = dim.length; // the number of slices in this dimension\\n      var dimImageInfo = dimImageInfos.findImage(dimLength);\\n      var dimOffset = dimImageInfo.index;\\n      // calculate the total number of stroke indices in this dimension\\n      var totalStrokes = 0;\\n      for (var id = 0; id < dimLength; ++id) {\\n        totalStrokes += dim[id].length;\\n      }\\n\\n      // allocate space for the stroke indices\\n      var cellImageInfo = cellImageInfos.findImage(totalStrokes);\\n\\n      // for each slice in the glyph\\n      for (var i = 0; i < dimLength; ++i) {\\n        var strokeIndices = dim[i];\\n        var strokeCount = strokeIndices.length;\\n        var cellLineIndex = cellImageInfo.index;\\n\\n        // write the offset and count into the glyph slice image\\n        setPixel(\\n          dimImageInfo,\\n          cellLineIndex >> 7,\\n          cellLineIndex & 0x7f,\\n          strokeCount >> 7,\\n          strokeCount & 0x7f\\n        );\\n\\n        // for each stroke index in that slice\\n        for (var iil = 0; iil < strokeCount; ++iil) {\\n          // write the stroke index into the slice's image\\n          var strokeIndex = strokeIndices[iil] + strokeOffset;\\n          setPixel(cellImageInfo, strokeIndex >> 7, strokeIndex & 0x7f, 0, 0);\\n        }\\n      }\\n\\n      return {\\n        cellImageInfo: cellImageInfo,\\n        dimOffset: dimOffset,\\n        dimImageInfo: dimImageInfo\\n      };\\n    }\\n\\n    // initialize the info for this glyph\\n    gi = this.glyphInfos[glyph.index] = {\\n      glyph: glyph,\\n      uGlyphRect: [bb.x1, -bb.y1, bb.x2, -bb.y2],\\n      strokeImageInfo: strokeImageInfo,\\n      strokes: strokes,\\n      colInfo: layout(cols, this.colDimImageInfos, this.colCellImageInfos),\\n      rowInfo: layout(rows, this.rowDimImageInfos, this.rowCellImageInfos)\\n    };\\n    gi.uGridOffset = [gi.colInfo.dimOffset, gi.rowInfo.dimOffset];\\n    return gi;\\n  };\\n};\\n\\np5.RendererGL.prototype._renderText = function(p, line, x, y, maxY) {\\n  if (y >= maxY || !this._doFill) {\\n    return; // don't render lines beyond our maxY position\\n  }\\n\\n  if (!this._isOpenType()) {\\n    console.log('WEBGL: only opentype fonts are supported');\\n    return p;\\n  }\\n\\n  p.push(); // fix to #803\\n\\n  // remember this state, so it can be restored later\\n  var doStroke = this._doStroke;\\n  var drawMode = this.drawMode;\\n\\n  this._doStroke = false;\\n  this.drawMode = constants.TEXTURE;\\n\\n  // get the cached FontInfo object\\n  var font = this._textFont.font;\\n  var fontInfo = this._textFont._fontInfo;\\n  if (!fontInfo) {\\n    fontInfo = this._textFont._fontInfo = new FontInfo(font);\\n  }\\n\\n  // calculate the alignment and move/scale the view accordingly\\n  var pos = this._textFont._handleAlignment(this, line, x, y);\\n  var fontSize = this._textSize;\\n  var scale = fontSize / font.unitsPerEm;\\n  this.translate(pos.x, pos.y, 0);\\n  this.scale(scale, scale, 1);\\n\\n  // initialize the font shader\\n  var gl = this.GL;\\n  var initializeShader = !this._defaultFontShader;\\n  var sh = this._getFontShader();\\n  sh.init();\\n\\n  if (initializeShader) {\\n    // these are constants, really. just initialize them one-time.\\n    sh.setUniform('uGridImageSize', [gridImageWidth, gridImageHeight]);\\n    sh.setUniform('uCellsImageSize', [cellImageWidth, cellImageHeight]);\\n    sh.setUniform('uStrokeImageSize', [strokeImageWidth, strokeImageHeight]);\\n    sh.setUniform('uGridSize', [charGridWidth, charGridHeight]);\\n  }\\n  this._applyColorBlend(this.curFillColor);\\n\\n  var g = this.gHash['glyph'];\\n  if (!g) {\\n    // create the geometry for rendering a quad\\n    var geom = (this._textGeom = new p5.Geometry(1, 1, function() {\\n      for (var i = 0; i <= 1; i++) {\\n        for (var j = 0; j <= 1; j++) {\\n          this.vertices.push(new p5.Vector(j, i, 0));\\n          this.uvs.push(j, i);\\n        }\\n      }\\n    }));\\n    geom.computeFaces().computeNormals();\\n    g = this.createBuffers('glyph', geom);\\n  }\\n\\n  // bind the shader buffers\\n  this._bindBuffer(g.vertexBuffer, gl.ARRAY_BUFFER);\\n  sh.enableAttrib(sh.attributes.aPosition.location, 3, gl.FLOAT, false, 0, 0);\\n  this._bindBuffer(g.indexBuffer, gl.ELEMENT_ARRAY_BUFFER);\\n  this._bindBuffer(g.uvBuffer, gl.ARRAY_BUFFER);\\n  sh.enableAttrib(sh.attributes.aTexCoord.location, 2, gl.FLOAT, false, 0, 0);\\n\\n  // this will have to do for now...\\n  sh.setUniform('uMaterialColor', this.curFillColor);\\n\\n  try {\\n    var dx = 0; // the x position in the line\\n    var glyphPrev = null; // the previous glyph, used for kerning\\n    var shaderBound = false;\\n    // fetch the glyphs in the line of text\\n    var glyphs = font.stringToGlyphs(line);\\n    for (var ig = 0; ig < glyphs.length; ++ig) {\\n      var glyph = glyphs[ig];\\n      // kern\\n      if (glyphPrev) dx += font.getKerningValue(glyphPrev, glyph);\\n\\n      var gi = fontInfo.getGlyphInfo(glyph);\\n      if (gi.uGlyphRect) {\\n        var rowInfo = gi.rowInfo;\\n        var colInfo = gi.colInfo;\\n        sh.setUniform('uSamplerStrokes', gi.strokeImageInfo.imageData);\\n        sh.setUniform('uSamplerRowStrokes', rowInfo.cellImageInfo.imageData);\\n        sh.setUniform('uSamplerRows', rowInfo.dimImageInfo.imageData);\\n        sh.setUniform('uSamplerColStrokes', colInfo.cellImageInfo.imageData);\\n        sh.setUniform('uSamplerCols', colInfo.dimImageInfo.imageData);\\n        sh.setUniform('uGridOffset', gi.uGridOffset);\\n        sh.setUniform('uGlyphRect', gi.uGlyphRect);\\n        sh.setUniform('uGlyphOffset', dx);\\n\\n        if (!shaderBound) {\\n          shaderBound = true;\\n          sh.bindShader(); // first time around, bind the shader fully\\n        } else {\\n          sh.bindTextures(); // afterwards, only textures need updating\\n        }\\n\\n        // draw it\\n        gl.drawElements(gl.TRIANGLES, 6, this.GL.UNSIGNED_SHORT, 0);\\n      }\\n      dx += glyph.advanceWidth;\\n      glyphPrev = glyph;\\n    }\\n  } finally {\\n    // clean up\\n    sh.unbindShader();\\n\\n    this._doStroke = doStroke;\\n    this.drawMode = drawMode;\\n\\n    p.pop();\\n  }\\n\\n  this._pixelsState._pixelsDirty = true;\\n  return p;\\n};\\n\\n[end of text.js]\\n\\n</code>\\n\\nHere is an example of a patch file. It consists of changes to the code base. It specifies the file names, the line numbers of each change, and the removed and added lines. A single patch file can contain changes to multiple files.\\n\\n<patch>\\ndiff --git a/file.py b/file.py\\n--- a/file.py\\n+++ b/file.py\\n@@ -1,27 +1,35 @@\\n def euclidean(a, b):\\n-    while b:\\n-        a, b = b, a % b\\n-    return a\\n+    if b == 0:\\n+        return a\\n+    return euclidean(b, a % b)\\n \\n def bresenham(x0, y0, x1, y1):\\n+    points = []\\n+    dx = abs(x1 - x0)\\n+    dy = abs(y1 - y0)\\n+    sx = 1 if x0 < x1 else -1\\n+    sy = 1 if y0 < y1 else -1\\n+    err = dx - dy\\n+    \\n     while True:\\n-        plot(x0, y0)\\n+        points.append((x0, y0))\\n         if x0 == x1 and y0 == y1:\\n             break\\n-        e2 = 2 * err\\n-        if e2 > -dy:\\n-            err -= dy\\n-            x0 += sx\\n-        if e2 < dx:\\n-            err += dx\\n-            y0 += sy\\n+        e2 = 2 * err\\n+        if e2 > -dy:\\n+            err -= dy\\n+            x0 += sx\\n+        if e2 < dx:\\n+            err += dx\\n+            y0 += sy\\n+    return points\\n+</patch>\\n\\nI need you to solve the provided issue by generating a single patch file that I can apply directly to this repository using git apply. Please respond with a single patch file in the format shown above.\\n\\nRespond below: \\n\"}]",
      "retrieved_file_paths": [
        "webgl_mode_architecture.md",
        "material.js",
        "p5.RendererGL.js",
        "p5.RendererGL.Immediate.js",
        "text.js"
      ]
    },
    "retrieved_documents": [
      {
        "id": "06d327b7-3b0a-4ac4-b4c2-87e8d686bb8f",
        "score": 0.01639344262295082,
        "payload": {
          "text": "# p5.js WEBGL mode architecture\n\nThis document describes the structure of the p5.js WEBGL mode for p5.js contributors and maintainers\u2014and any other interested parties. If you're interested in using 3D graphics in your sketches, [view this tutorial](https://github.com/processing/p5.js/wiki/Getting-started-with-WebGL-in-p5) instead.\n\n## Overview of Structure and Objects\n\nThe core objects in the WEBGL architecture are the p5.Renderer.GL, p5.Shader, p5.Texture, and p5.Geometry.\nA single instance of p5.Renderer.GL manages its own p5.Shaders, p5.Textures, and p5.Geometry\u2014a goal for this is to allow offscreen rendering using WebGL, but that hasn\u2019t been tested yet.\nShaders and textures are associated with a specific GL context via the renderer.\n\n### p5.RendererGL\nThe p5.RendererGL object is the renderer for WEBGL / 3D Mode in p5.js.\nDerived from p5.Renderer, it provides additional functionality not available in 2D mode, such as: `box()`, `cone()`, use of shaders, accelerated texture rendering, and lighting.\n\n* Manages\u2014creates and caches\u2014shaders (p5.Shader objects) and textures (p5.Texture objects)\n* Prepares coordinates of shapes to be used as attribute arrays by shaders.\n* Selects the correct shader for use when stroke, fill, texture, and various lighting methods are called, then supplies the appropriate uniforms to those shaders.\n* Maintains data about lighting: a count of how many various types of lights are used and their parameters.\n* Caches geometry for 3D primitives (in retained mode), with the exception of shapes created with begin/endShape, which are dynamically generated and pushed to GL every time one is drawn (in immediate mode).\n\nThe renderer manages choosing an appropriate p5.Shader for the current drawing conditions.\n\n### p5.Shader\nThe p5.Shader class provides access to the uniforms and attributes of a GL program. \n\n* Compiles and links the vertex and fragment shader components\n* Provides an API for accessing and setting shader attributes and uniforms\n* Binds textures the shader needs before a shape is rendered\n* Provides the bindShader() method for use in the render before a shape is drawn, then unbindShader() after the shape is drawn.\n\nThere are four default shaders, as documented in the Shader section.\n\n### p5.Texture\nThe p5.Texture object manages GL state for a texture based on a `p5.Image`, `p5.MediaElement`, `p5.Element`, or `ImageData`.\n\n* Internally handles processing image data based on type, so that the p5.Renderer implementation doesn\u2019t have to make special exceptions in its own methods when handling textures\n* Updates conditionally every frame by making a best guess at whether or not image data has changed. Tries not to upload the texture if no change has been made, to help performance.\n\n### p5.Geometry\nShapes rendered in retain mode are stored as p5.Geometry objects in a cache in the p5.Renderer object. \nThe renderer maps strings to p5.Geometry objects based on the shape drawn and its parameters (for example, geometry for a box created with `box(70, 80, 90, 10, 20)` is mapped from `'box|70|80|90|10|20\u2019`). Calls to functions that have retained geometry create a p5.Geometry object on the first pass and store it in a geometry hash using the aforementioned string ID. Later calls look for that ID in the hash, and if it is found use that to reference the existing object rather than creating a new one.\n\n* Stores vertices, normals, faces, line vertices, line normals, and texture coordinates for the geometry primitives\n* Provides methods for computing the faces, normals, line vertices, and line normals for a set of vertices\n\n## Immediate Mode\nAll attributes for drawing with Immediate Mode are stored in an object in the renderer, used to draw to the GL drawing context, and then discarded.\n\n## Geometry: Retain and Immediate Mode\nRetained geometry is used for 3D primitives, while immediate mode is used for shapes created with begin/endShape.\n\n|Functions with retained geometry| Functions with immediate mode geometry |\n|--------------------------------|----------------------------------------|\n|plane()                         | bezier()                               |\n|box()                           | curve()                                |\n|sphere()                        | line()                                 |\n|cylinder()                      | beginShape()                           |\n|cone()                          | vertex()                               |\n|ellipsoid()                     | endShape()                             |\n|torus()                         | point()                                |\n|triangle()                      | curveVertex()                          |\n|arc()                           | bezierVertex()                         |\n|point()                         | quadraticVertex()                      |\n|ellipse()                       |\n|rect()                          |\n|quad()                          |\n|text()                          |\n\n\n\n\n\n\n## Texture Management\nA p5.Renderer.GL instances manages an array of p5.Textures objects on an as-needed basis.\nTextures are created for images and videos used with the `texture()` method or as uniforms provided to custom shaders.\n\nWhen the renderer needs a texture, it first checks if one has already been created for a given image/video, then provides that to a shader for rendering. A new texture is only created if an existing one cannot be found for the image/video.\n\n## Shaders\n\n### Types of Shaders\n\n#### Color Shader\nProvides flat shading of objects, based on the current fill color.\n\n#### Light Shader (for lighting AND textures)\nAccounts for:\n* Lighting parameters set by `ambientLight()`, `directionalLight()`, and `pointLight()`\n* Material parameters set by `ambientMaterial()`, and `specularMaterial()`\n* Texture parameters, set by `texture()`\n\n#### Normal Shader\nThe normal shader is set when `normalMaterial()` is in use. It uses the surface\u2019s normal vector to determine a fragment color.\n\n### Shader Parameters\n\n#### Standard Model View & Camera Uniforms\n|Parameter                        |Line Shader|TexLight Shader|Color Shader|Normal Shader|Point Shader|\n|---------------------------------|-----------|---------------|------------|-------------|------------|\n|`uniform mat4 uModelViewMatrix;` |x          |x              |x           |x            |x           |\n|`uniform mat4 uProjectionMatrix;`|x          |x              |x           |x            |x           |\n|`uniform vec4 uViewPort;`        |x          |               |            |             |            |\n\n\n#### Geometry Attributes and Uniforms\n|Parameter                        |Line Shader|TexLight Shader|Color Shader|Normal Shader|Point Shader|\n|---------------------------------|-----------|---------------|------------|-------------|------------|\n|`attribute vec3 aPosition;`      |x          |x              |x           |x            |x           |\n|`attribute vec3 aNormal;`        |           |x              |            |x            |            | \n|`attribute vec2 aTexCoord;`      |           |x              |            |x            |            |\n|`uniform mat3 uNormalMatrix;`    |           |x              |            |x            |            |\n|`attribute vec4 aDirection;`     |x          |               |            |             |            |\n|`uniform float uStrokeWeight;`   |x          |               |            |             |            |\n\n#### Material Colors\n|Parameter                        |Line Shader|TexLight Shader|Color Shader|Normal Shader|Point Shader|\n|---------------------------------|-----------|---------------|------------|-------------|------------|\n|`uniform vec4 uMaterialColor;`   |x          |x              |            |             |x           |\n|`attribute vec4 aVertexColor;`   |           |               |x           |             |            |\n\n#### Light Parameters\n\n|Parameter                             |Line Shader|TexLight Shader|Color Shader|Normal Shader|Point Shader|\n|--------------------------------------|-----------|---------------|------------|-------------|------------|\n|`uniform int uAmbientLightCount;`     |           |x              |            |             |            |\n|`uniform int uAmbientLightCount;`     |           |x              |            |             |            |\n|`uniform int uDirectionalLightCount;` |           |x              |            |             |            |\n|`uniform int uPointLightCount;`       |           |x              |            |             |            |\n|`uniform vec3 uAmbientColor[8];`      |           |x              |            |             |            |\n|`uniform vec3 uLightingDirection[8];` |           |x              |            |             |            |\n|`uniform vec3 uDirectionalColor[8];`  |           |x              |            |             |            |\n|`uniform vec3 uPointLightLocation[8];`|           |x              |            |             |            |\n|`uniform vec3 uPointLightColor[8];`   |           |x              |            |             |            |\n|`uniform bool uSpecular;`             |           |x              |            |             |            |\n|`uniform int  uShininess;`            |           |x              |            |             |            |\n|`uniform bool uUseLighting;`          |           |x              |            |             |            |\n\n#### Texture Parameters\n\n|Parameter                             |Line Shader|TexLight Shader|Color Shader|Normal Shader|Point Shader|\n|--------------------------------------|-----------|---------------|------------|-------------|------------|\n|`uniform sampler2D uSampler;`         |           |x              |            |             |            |\n|`uniform bool isTexture;`             |           |x              |            |             |            |\n\n#### General Parameters\n\n|Parameter                             |Line Shader|TexLight Shader|Color Shader|Normal Shader|Point Shader|\n|--------------------------------------|-----------|---------------|------------|-------------|------------|\n|`uniform float uResolution;`          |           |               |x           |             |            |\n|`uniform float uPointSize;`           |           |               |x           |             |x           |\n\n#### Varying Parameters\n\n|Parameter                             |Line Shader|TexLight Shader|Color Shader|Normal Shader|Point Shader|\n|--------------------------------------|-----------|---------------|------------|-------------|------------|\n|`varying vec3 vVertexNormal;`         |           |x              |            |             |            |\n|`varying vec2 vVertTexCoord;`         |           |x              |            |             |            |\n|`varying vec3 vLightWeighting;`       |           |x              |            |             |            |\n|`varying highp vec2 vVertTexCoord;`   |           |               |            |x            |            |\n|`varying vec4 vColor;`                |           |               |x           |             |            |\n|`varying float vStrokeWeight`         |           |               |            |             |x           |\n\n## Next Steps\n\nComing soon!\n",
          "filepath": "data/repos/processing/p5.js-0.8/developer_docs/webgl_mode_architecture.md",
          "repo": "processing/p5.js",
          "version": "0.8",
          "chunk_index": 0,
          "chunk_id": "06d327b7-3b0a-4ac4-b4c2-87e8d686bb8f"
        }
      },
      {
        "id": "719d8b20-651d-47b1-b536-a15c2ded4b4d",
        "score": 0.016129032258064516,
        "payload": {
          "text": "/**\n * @module Lights, Camera\n * @submodule Material\n * @for p5\n * @requires core\n */\n\n'use strict';\n\nvar p5 = require('../core/main');\nvar constants = require('../core/constants');\nrequire('./p5.Texture');\n\n/**\n * Loads a custom shader from the provided vertex and fragment\n * shader paths. The shader files are loaded asynchronously in the\n * background, so this method should be used in <a href=\"#/p5/preload\">preload()</a>.\n *\n * For now, there are three main types of shaders. p5 will automatically\n * supply appropriate vertices, normals, colors, and lighting attributes\n * if the parameters defined in the shader match the names.\n *\n * @method loadShader\n * @param {String} vertFilename path to file containing vertex shader\n * source code\n * @param {String} fragFilename path to file containing fragment shader\n * source code\n * @param {function} [callback] callback to be executed after loadShader\n * completes. On success, the Shader object is passed as the first argument.\n * @param {function} [errorCallback] callback to be executed when an error\n * occurs inside loadShader. On error, the error is passed as the first\n * argument.\n * @return {p5.Shader} a shader object created from the provided\n * vertex and fragment shader files.\n *\n * @example\n * <div modernizr='webgl'>\n * <code>\n * let mandel;\n * function preload() {\n *   // load the shader definitions from files\n *   mandel = loadShader('assets/shader.vert', 'assets/shader.frag');\n * }\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n *   // use the shader\n *   shader(mandel);\n *   noStroke();\n *   mandel.setUniform('p', [-0.74364388703, 0.13182590421]);\n * }\n *\n * function draw() {\n *   mandel.setUniform('r', 1.5 * exp(-6.5 * (1 + sin(millis() / 2000))));\n *   quad(-1, -1, 1, -1, 1, 1, -1, 1);\n * }\n * </code>\n * </div>\n *\n * @alt\n * zooming Mandelbrot set. a colorful, infinitely detailed fractal.\n */\np5.prototype.loadShader = function(\n  vertFilename,\n  fragFilename,\n  callback,\n  errorCallback\n) {\n  p5._validateParameters('loadShader', arguments);\n  if (!errorCallback) {\n    errorCallback = console.error;\n  }\n\n  var loadedShader = new p5.Shader();\n\n  var self = this;\n  var loadedFrag = false;\n  var loadedVert = false;\n\n  var onLoad = function() {\n    self._decrementPreload();\n    if (callback) {\n      callback(loadedShader);\n    }\n  };\n\n  this.loadStrings(\n    vertFilename,\n    function(result) {\n      loadedShader._vertSrc = result.join('\\n');\n      loadedVert = true;\n      if (loadedFrag) {\n        onLoad();\n      }\n    },\n    errorCallback\n  );\n\n  this.loadStrings(\n    fragFilename,\n    function(result) {\n      loadedShader._fragSrc = result.join('\\n');\n      loadedFrag = true;\n      if (loadedVert) {\n        onLoad();\n      }\n    },\n    errorCallback\n  );\n\n  return loadedShader;\n};\n\n/**\n * @method createShader\n * @param {String} vertSrc source code for the vertex shader\n * @param {String} fragSrc source code for the fragment shader\n * @returns {p5.Shader} a shader object created from the provided\n * vertex and fragment shaders.\n *\n * @example\n * <div modernizr='webgl'>\n * <code>\n * // the 'varying's are shared between both vertex & fragment shaders\n * let varying = 'precision highp float; varying vec2 vPos;';\n *\n * // the vertex shader is called for each vertex\n * let vs =\n *   varying +\n *   'attribute vec3 aPosition;' +\n *   'void main() { vPos = (gl_Position = vec4(aPosition,1.0)).xy; }';\n *\n * // the fragment shader is called for each pixel\n * let fs =\n *   varying +\n *   'uniform vec2 p;' +\n *   'uniform float r;' +\n *   'const int I = 500;' +\n *   'void main() {' +\n *   '  vec2 c = p + vPos * r, z = c;' +\n *   '  float n = 0.0;' +\n *   '  for (int i = I; i > 0; i --) {' +\n *   '    if(z.x*z.x+z.y*z.y > 4.0) {' +\n *   '      n = float(i)/float(I);' +\n *   '      break;' +\n *   '    }' +\n *   '    z = vec2(z.x*z.x-z.y*z.y, 2.0*z.x*z.y) + c;' +\n *   '  }' +\n *   '  gl_FragColor = vec4(0.5-cos(n*17.0)/2.0,0.5-cos(n*13.0)/2.0,0.5-cos(n*23.0)/2.0,1.0);' +\n *   '}';\n *\n * let mandel;\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n *\n *   // create and initialize the shader\n *   mandel = createShader(vs, fs);\n *   shader(mandel);\n *   noStroke();\n *\n *   // 'p' is the center point of the Mandelbrot image\n *   mandel.setUniform('p', [-0.74364388703, 0.13182590421]);\n * }\n *\n * function draw() {\n *   // 'r' is the size of the image in Mandelbrot-space\n *   mandel.setUniform('r', 1.5 * exp(-6.5 * (1 + sin(millis() / 2000))));\n *   quad(-1, -1, 1, -1, 1, 1, -1, 1);\n * }\n * </code>\n * </div>\n *\n * @alt\n * zooming Mandelbrot set. a colorful, infinitely detailed fractal.\n */\np5.prototype.createShader = function(vertSrc, fragSrc) {\n  this._assert3d('createShader');\n  p5._validateParameters('createShader', arguments);\n  return new p5.Shader(this._renderer, vertSrc, fragSrc);\n};\n\n/**\n * The <a href=\"#/p5/shader\">shader()</a> function lets the user provide a custom shader\n * to fill in shapes in WEBGL mode. Users can create their\n * own shaders by loading vertex and fragment shaders with\n * <a href=\"#/p5/loadShader\">loadShader()</a>.\n *\n * @method shader\n * @chainable\n * @param {p5.Shader} [s] the desired <a href=\"#/p5.Shader\">p5.Shader</a> to use for rendering\n * shapes.\n */\np5.prototype.shader = function(s) {\n  this._assert3d('shader');\n  p5._validateParameters('shader', arguments);\n\n  if (s._renderer === undefined) {\n    s._renderer = this._renderer;\n  }\n\n  if (s.isStrokeShader()) {\n    this._renderer.userStrokeShader = s;\n  } else {\n    this._renderer.userFillShader = s;\n    this._renderer._useNormalMaterial = false;\n  }\n\n  s.init();\n\n  return this;\n};\n\n/**\n * This function restores the default shaders in WEBGL mode. Code that runs\n * after resetShader() will not be affected by previously defined\n * shaders. Should be run after <a href=\"#/p5/shader\">shader()</a>.\n *\n * @method resetShader\n * @chainable\n */\np5.prototype.resetShader = function() {\n  this._renderer.userFillShader = this._renderer.userStrokeShader = null;\n  return this;\n};\n\n/**\n * Normal material for geometry. You can view all\n * possible materials in this\n * <a href=\"https://p5js.org/examples/3d-materials.html\">example</a>.\n * @method normalMaterial\n * @chainable\n * @example\n * <div>\n * <code>\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n * }\n *\n * function draw() {\n *   background(200);\n *   normalMaterial();\n *   sphere(40);\n * }\n * </code>\n * </div>\n *\n * @alt\n * Red, green and blue gradient.\n *\n */\np5.prototype.normalMaterial = function() {\n  this._assert3d('normalMaterial');\n  p5._validateParameters('normalMaterial', arguments);\n  this._renderer.drawMode = constants.FILL;\n  this._renderer._useSpecularMaterial = false;\n  this._renderer._useNormalMaterial = true;\n  this._renderer.curFillColor = [1, 1, 1, 1];\n  this._renderer._setProperty('_doFill', true);\n  this.noStroke();\n  return this;\n};\n\n/**\n * Texture for geometry.  You can view other possible materials in this\n * <a href=\"https://p5js.org/examples/3d-materials.html\">example</a>.\n * @method texture\n * @param {p5.Image|p5.MediaElement|p5.Graphics} tex 2-dimensional graphics\n *                    to render as texture\n * @chainable\n * @example\n * <div>\n * <code>\n * let img;\n * function preload() {\n *   img = loadImage('assets/laDefense.jpg');\n * }\n *\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n * }\n *\n * function draw() {\n *   background(0);\n *   rotateZ(frameCount * 0.01);\n *   rotateX(frameCount * 0.01);\n *   rotateY(frameCount * 0.01);\n *   //pass image as texture\n *   texture(img);\n *   box(200, 200, 200);\n * }\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * let pg;\n *\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n *   pg = createGraphics(200, 200);\n *   pg.textSize(75);\n * }\n *\n * function draw() {\n *   background(0);\n *   pg.background(255);\n *   pg.text('hello!', 0, 100);\n *   //pass image as texture\n *   texture(pg);\n *   rotateX(0.5);\n *   noStroke();\n *   plane(50);\n * }\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * let vid;\n * function preload() {\n *   vid = createVideo('assets/fingers.mov');\n *   vid.hide();\n * }\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n * }\n *\n * function draw() {\n *   background(0);\n *   //pass video frame as texture\n *   texture(vid);\n *   rect(-40, -40, 80, 80);\n * }\n *\n * function mousePressed() {\n *   vid.loop();\n * }\n * </code>\n * </div>\n *\n * @alt\n * Rotating view of many images umbrella and grid roof on a 3d plane\n * black canvas\n * black canvas\n *\n */\np5.prototype.texture = function(tex) {\n  this._assert3d('texture');\n  p5._validateParameters('texture', arguments);\n\n  this._renderer.drawMode = constants.TEXTURE;\n  this._renderer._useSpecularMaterial = false;\n  this._renderer._useNormalMaterial = false;\n  this._renderer._tex = tex;\n  this._renderer._setProperty('_doFill', true);\n\n  return this;\n};\n\n/**\n * Sets the coordinate space for texture mapping. The default mode is IMAGE\n * which refers to the actual coordinates of the image.\n * NORMAL refers to a normalized space of values ranging from 0 to 1.\n * This function only works in WEBGL mode.\n *\n * With IMAGE, if an image is 100 x 200 pixels, mapping the image onto the entire\n * size of a quad would require the points (0,0) (100, 0) (100,200) (0,200).\n * The same mapping in NORMAL is (0,0) (1,0) (1,1) (0,1).\n * @method  textureMode\n * @param {Constant} mode either IMAGE or NORMAL\n * @example\n * <div>\n * <code>\n * let img;\n *\n * function preload() {\n *   img = loadImage('assets/laDefense.jpg');\n * }\n *\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n * }\n *\n * function draw() {\n *   texture(img);\n *   textureMode(NORMAL);\n *   beginShape();\n *   vertex(-50, -50, 0, 0);\n *   vertex(50, -50, 1, 0);\n *   vertex(50, 50, 1, 1);\n *   vertex(-50, 50, 0, 1);\n *   endShape();\n * }\n * </code>\n * </div>\n *\n * @alt\n * the underside of a white umbrella and gridded ceiling above\n *\n * <div>\n * <code>\n * let img;\n *\n * function preload() {\n *   img = loadImage('assets/laDefense.jpg');\n * }\n *\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n * }\n *\n * function draw() {\n *   texture(img);\n *   textureMode(NORMAL);\n *   beginShape();\n *   vertex(-50, -50, 0, 0);\n *   vertex(50, -50, img.width, 0);\n *   vertex(50, 50, img.width, img.height);\n *   vertex(-50, 50, 0, img.height);\n *   endShape();\n * }\n * </code>\n * </div>\n *\n * @alt\n * the underside of a white umbrella and gridded ceiling above\n *\n */\np5.prototype.textureMode = function(mode) {\n  if (mode !== constants.IMAGE && mode !== constants.NORMAL) {\n    console.warn(\n      'You tried to set ' + mode + ' textureMode only supports IMAGE & NORMAL '\n    );\n  } else {\n    this._renderer.textureMode = mode;\n  }\n};\n\n/**\n * Sets the global texture wrapping mode. This controls how textures behave\n * when their uv's go outside of the 0 - 1 range. There are three options:\n * CLAMP, REPEAT, and MIRROR.\n *\n * CLAMP causes the pixels at the edge of the texture to extend to the bounds\n * REPEAT causes the texture to tile repeatedly until reaching the bounds\n * MIRROR works similarly to REPEAT but it flips the texture with every new tile\n *\n * REPEAT & MIRROR are only available if the texture\n * is a power of two size (128, 256, 512, 1024, etc.).\n *\n * This method will affect all textures in your sketch until a subsequent\n * textureWrap call is made.\n *\n * If only one argument is provided, it will be applied to both the\n * horizontal and vertical axes.\n * @method textureWrap\n * @param {Constant} wrapX either CLAMP, REPEAT, or MIRROR\n * @param {Constant} [wrapY] either CLAMP, REPEAT, or MIRROR\n * @example\n * <div>\n * <code>\n * let img;\n * function preload() {\n *   img = loadImage('assets/rockies128.jpg');\n * }\n *\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n *   textureWrap(MIRROR);\n * }\n *\n * function draw() {\n *   background(0);\n *\n *   let dX = mouseX;\n *   let dY = mouseY;\n *\n *   let u = lerp(1.0, 2.0, dX);\n *   let v = lerp(1.0, 2.0, dY);\n *\n *   scale(width / 2);\n *\n *   texture(img);\n *\n *   beginShape(TRIANGLES);\n *   vertex(-1, -1, 0, 0, 0);\n *   vertex(1, -1, 0, u, 0);\n *   vertex(1, 1, 0, u, v);\n *\n *   vertex(1, 1, 0, u, v);\n *   vertex(-1, 1, 0, 0, v);\n *   vertex(-1, -1, 0, 0, 0);\n *   endShape();\n * }\n * </code>\n * </div>\n *\n * @alt\n * an image of the rocky mountains repeated in mirrored tiles\n *\n */\np5.prototype.textureWrap = function(wrapX, wrapY) {\n  wrapY = wrapY || wrapX;\n\n  this._renderer.textureWrapX = wrapX;\n  this._renderer.textureWrapY = wrapY;\n\n  var textures = this._renderer.textures;\n  for (var i = 0; i < textures.length; i++) {\n    textures[i].setWrapMode(wrapX, wrapY);\n  }\n};\n\n/**\n * Ambient material for geometry with a given color. You can view all\n * possible materials in this\n * <a href=\"https://p5js.org/examples/3d-materials.html\">example</a>.\n * @method  ambientMaterial\n * @param  {Number} v1  gray value, red or hue value\n *                         (depending on the current color mode),\n * @param  {Number} [v2] green or saturation value\n * @param  {Number} [v3] blue or brightness value\n * @param  {Number} [a]  opacity\n * @chainable\n * @example\n * <div>\n * <code>\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n * }\n * function draw() {\n *   background(0);\n *   noStroke();\n *   ambientLight(200);\n *   ambientMaterial(70, 130, 230);\n *   sphere(40);\n * }\n * </code>\n * </div>\n *\n * @alt\n * radiating light source from top right of canvas\n *\n */\n/**\n * @method  ambientMaterial\n * @param  {Number[]|String|p5.Color} color  color, color Array, or CSS color string\n * @chainable\n */\np5.prototype.ambientMaterial = function(v1, v2, v3, a) {\n  this._assert3d('ambientMaterial');\n  p5._validateParameters('ambientMaterial', arguments);\n\n  var color = p5.prototype.color.apply(this, arguments);\n  this._renderer.curFillColor = color._array;\n  this._renderer._useSpecularMaterial = false;\n  this._renderer._useNormalMaterial = false;\n  this._renderer._enableLighting = true;\n  this._renderer._tex = null;\n\n  return this;\n};\n\n/**\n * Specular material for geometry with a given color. You can view all\n * possible materials in this\n * <a href=\"https://p5js.org/examples/3d-materials.html\">example</a>.\n * @method specularMaterial\n * @param  {Number} v1  gray value, red or hue value\n *                       (depending on the current color mode),\n * @param  {Number} [v2] green or saturation value\n * @param  {Number} [v3] blue or brightness value\n * @param  {Number} [a]  opacity\n * @chainable\n * @example\n * <div>\n * <code>\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n * }\n * function draw() {\n *   background(0);\n *   noStroke();\n *   ambientLight(50);\n *   pointLight(250, 250, 250, 100, 100, 30);\n *   specularMaterial(250);\n *   sphere(40);\n * }\n * </code>\n * </div>\n *\n * @alt\n * diffused radiating light source from top right of canvas\n *\n */\n/**\n * @method specularMaterial\n * @param  {Number[]|String|p5.Color} color color Array, or CSS color string\n * @chainable\n */\np5.prototype.specularMaterial = function(v1, v2, v3, a) {\n  this._assert3d('specularMaterial');\n  p5._validateParameters('specularMaterial', arguments);\n\n  var color = p5.prototype.color.apply(this, arguments);\n  this._renderer.curFillColor = color._array;\n  this._renderer._useSpecularMaterial = true;\n  this._renderer._useNormalMaterial = false;\n  this._renderer._enableLighting = true;\n  this._renderer._tex = null;\n\n  return this;\n};\n\n/**\n * Sets the amount of gloss in the surface of shapes.\n * Used in combination with specularMaterial() in setting\n * the material properties of shapes. The default and minimum value is 1.\n * @method shininess\n * @param {Number} shine Degree of Shininess.\n *                       Defaults to 1.\n * @chainable\n * @example\n * <div>\n * <code>\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n * }\n * function draw() {\n *   background(0);\n *   noStroke();\n *   let locX = mouseX - width / 2;\n *   let locY = mouseY - height / 2;\n *   ambientLight(60, 60, 60);\n *   pointLight(255, 255, 255, locX, locY, 50);\n *   specularMaterial(250);\n *   translate(-25, 0, 0);\n *   shininess(1);\n *   sphere(20);\n *   translate(50, 0, 0);\n *   shininess(20);\n *   sphere(20);\n * }\n * </code>\n * </div>\n * @alt\n * Shininess on Camera changes position with mouse\n */\np5.prototype.shininess = function(shine) {\n  this._assert3d('shininess');\n  p5._validateParameters('shininess', arguments);\n\n  if (shine < 1) {\n    shine = 1;\n  }\n  this._renderer._useShininess = shine;\n  return this;\n};\n\n/**\n * @private blends colors according to color components.\n * If alpha value is less than 1, we need to enable blending\n * on our gl context.  Otherwise opaque objects need to a depthMask.\n * @param  {Number[]} color [description]\n * @return {Number[]]}  Normalized numbers array\n */\np5.RendererGL.prototype._applyColorBlend = function(colors) {\n  var gl = this.GL;\n\n  var isTexture = this.drawMode === constants.TEXTURE;\n  if (isTexture || colors[colors.length - 1] < 1.0) {\n    gl.depthMask(isTexture);\n    gl.enable(gl.BLEND);\n    this._applyBlendMode();\n  } else {\n    gl.depthMask(true);\n    gl.disable(gl.BLEND);\n  }\n  return colors;\n};\n\n/**\n * @private sets blending in gl context to curBlendMode\n * @param  {Number[]} color [description]\n * @return {Number[]]}  Normalized numbers array\n */\np5.RendererGL.prototype._applyBlendMode = function() {\n  var gl = this.GL;\n  switch (this.curBlendMode) {\n    case constants.BLEND:\n    case constants.ADD:\n      gl.blendEquation(gl.FUNC_ADD);\n      gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n      break;\n    case constants.MULTIPLY:\n      gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\n      gl.blendFuncSeparate(gl.ZERO, gl.SRC_COLOR, gl.ONE, gl.ONE);\n      break;\n    case constants.SCREEN:\n      gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\n      gl.blendFuncSeparate(gl.ONE_MINUS_DST_COLOR, gl.ONE, gl.ONE, gl.ONE);\n      break;\n    case constants.EXCLUSION:\n      gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\n      gl.blendFuncSeparate(\n        gl.ONE_MINUS_DST_COLOR,\n        gl.ONE_MINUS_SRC_COLOR,\n        gl.ONE,\n        gl.ONE\n      );\n      break;\n    case constants.REPLACE:\n      gl.blendEquation(gl.FUNC_ADD);\n      gl.blendFunc(gl.ONE, gl.ZERO);\n      break;\n    case constants.SUBTRACT:\n      gl.blendEquationSeparate(gl.FUNC_REVERSE_SUBTRACT, gl.FUNC_ADD);\n      gl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE, gl.ONE, gl.ONE);\n      break;\n    case constants.DARKEST:\n      if (this.blendExt) {\n        gl.blendEquationSeparate(this.blendExt.MIN_EXT, gl.FUNC_ADD);\n        gl.blendFuncSeparate(gl.ONE, gl.ONE, gl.ONE, gl.ONE);\n      } else {\n        console.warn(\n          'blendMode(DARKEST) does not work in your browser in WEBGL mode.'\n        );\n      }\n      break;\n    case constants.LIGHTEST:\n      if (this.blendExt) {\n        gl.blendEquationSeparate(this.blendExt.MAX_EXT, gl.FUNC_ADD);\n        gl.blendFuncSeparate(gl.ONE, gl.ONE, gl.ONE, gl.ONE);\n      } else {\n        console.warn(\n          'blendMode(LIGHTEST) does not work in your browser in WEBGL mode.'\n        );\n      }\n      break;\n    default:\n      console.error(\n        'Oops! Somehow RendererGL set curBlendMode to an unsupported mode.'\n      );\n      break;\n  }\n};\n\nmodule.exports = p5;\n",
          "filepath": "data/repos/processing/p5.js-0.8/src/webgl/material.js",
          "repo": "processing/p5.js",
          "version": "0.8",
          "chunk_index": 0,
          "chunk_id": "719d8b20-651d-47b1-b536-a15c2ded4b4d"
        }
      },
      {
        "id": "a85388e1-0129-401e-9137-8c6498f8b7e0",
        "score": 0.015873015873015872,
        "payload": {
          "text": "'use strict';\n\nvar p5 = require('../core/main');\nvar constants = require('../core/constants');\nvar libtess = require('libtess');\nrequire('./p5.Shader');\nrequire('./p5.Camera');\nrequire('../core/p5.Renderer');\nrequire('./p5.Matrix');\nvar fs = require('fs');\n\nvar defaultShaders = {\n  immediateVert: fs.readFileSync(\n    __dirname + '/shaders/immediate.vert',\n    'utf-8'\n  ),\n  vertexColorVert: fs.readFileSync(\n    __dirname + '/shaders/vertexColor.vert',\n    'utf-8'\n  ),\n  vertexColorFrag: fs.readFileSync(\n    __dirname + '/shaders/vertexColor.frag',\n    'utf-8'\n  ),\n  normalVert: fs.readFileSync(__dirname + '/shaders/normal.vert', 'utf-8'),\n  normalFrag: fs.readFileSync(__dirname + '/shaders/normal.frag', 'utf-8'),\n  basicFrag: fs.readFileSync(__dirname + '/shaders/basic.frag', 'utf-8'),\n  lightVert: fs.readFileSync(__dirname + '/shaders/light.vert', 'utf-8'),\n  lightTextureFrag: fs.readFileSync(\n    __dirname + '/shaders/light_texture.frag',\n    'utf-8'\n  ),\n  phongVert: fs.readFileSync(__dirname + '/shaders/phong.vert', 'utf-8'),\n  phongFrag: fs.readFileSync(__dirname + '/shaders/phong.frag', 'utf-8'),\n  fontVert: fs.readFileSync(__dirname + '/shaders/font.vert', 'utf-8'),\n  fontFrag: fs.readFileSync(__dirname + '/shaders/font.frag', 'utf-8'),\n  lineVert: fs.readFileSync(__dirname + '/shaders/line.vert', 'utf-8'),\n  lineFrag: fs.readFileSync(__dirname + '/shaders/line.frag', 'utf-8'),\n  pointVert: fs.readFileSync(__dirname + '/shaders/point.vert', 'utf-8'),\n  pointFrag: fs.readFileSync(__dirname + '/shaders/point.frag', 'utf-8')\n};\n\n/**\n * 3D graphics class\n * @private\n * @class p5.RendererGL\n * @constructor\n * @extends p5.Renderer\n * @todo extend class to include public method for offscreen\n * rendering (FBO).\n *\n */\np5.RendererGL = function(elt, pInst, isMainCanvas, attr) {\n  p5.Renderer.call(this, elt, pInst, isMainCanvas);\n  this._setAttributeDefaults(pInst);\n  this._initContext();\n  this.isP3D = true; //lets us know we're in 3d mode\n  this.GL = this.drawingContext;\n\n  // lights\n\n  this._enableLighting = false;\n\n  this.ambientLightColors = [];\n  this.directionalLightDirections = [];\n  this.directionalLightColors = [];\n\n  this.pointLightPositions = [];\n  this.pointLightColors = [];\n\n  this.curFillColor = [1, 1, 1, 1];\n  this.curStrokeColor = [0, 0, 0, 1];\n  this.curBlendMode = constants.BLEND;\n  this.blendExt = this.GL.getExtension('EXT_blend_minmax');\n\n  this._useSpecularMaterial = false;\n  this._useNormalMaterial = false;\n  this._useShininess = 1;\n\n  /**\n   * model view, projection, & normal\n   * matrices\n   */\n  this.uMVMatrix = new p5.Matrix();\n  this.uPMatrix = new p5.Matrix();\n  this.uNMatrix = new p5.Matrix('mat3');\n\n  // Camera\n  this._curCamera = new p5.Camera(this);\n  this._curCamera._computeCameraDefaultSettings();\n  this._curCamera._setDefaultCamera();\n\n  //Geometry & Material hashes\n  this.gHash = {};\n\n  this._defaultLightShader = undefined;\n  this._defaultImmediateModeShader = undefined;\n  this._defaultNormalShader = undefined;\n  this._defaultColorShader = undefined;\n  this._defaultPointShader = undefined;\n\n  this._pointVertexBuffer = this.GL.createBuffer();\n\n  this.userFillShader = undefined;\n  this.userStrokeShader = undefined;\n  this.userPointShader = undefined;\n\n  //Imediate Mode\n  //default drawing is done in Retained Mode\n  this.isImmediateDrawing = false;\n  this.immediateMode = {};\n\n  this.pointSize = 5.0; //default point size\n  this.curStrokeWeight = 1;\n\n  // array of textures created in this gl context via this.getTexture(src)\n  this.textures = [];\n\n  this.textureMode = constants.IMAGE;\n  // default wrap settings\n  this.textureWrapX = constants.CLAMP;\n  this.textureWrapY = constants.CLAMP;\n  this._tex = null;\n  this._curveTightness = 6;\n\n  // lookUpTable for coefficients needed to be calculated for bezierVertex, same are used for curveVertex\n  this._lookUpTableBezier = [];\n  // lookUpTable for coefficients needed to be calculated for quadraticVertex\n  this._lookUpTableQuadratic = [];\n\n  // current curveDetail in the Bezier lookUpTable\n  this._lutBezierDetail = 0;\n  // current curveDetail in the Quadratic lookUpTable\n  this._lutQuadraticDetail = 0;\n\n  this._tessy = this._initTessy();\n\n  this.fontInfos = {};\n\n  return this;\n};\n\np5.RendererGL.prototype = Object.create(p5.Renderer.prototype);\n\n//////////////////////////////////////////////\n// Setting\n//////////////////////////////////////////////\n\np5.RendererGL.prototype._setAttributeDefaults = function(pInst) {\n  var defaults = {\n    alpha: false,\n    depth: true,\n    stencil: true,\n    antialias: false,\n    premultipliedAlpha: false,\n    preserveDrawingBuffer: true,\n    perPixelLighting: false\n  };\n  if (pInst._glAttributes === null) {\n    pInst._glAttributes = defaults;\n  } else {\n    pInst._glAttributes = Object.assign(defaults, pInst._glAttributes);\n  }\n  return;\n};\n\np5.RendererGL.prototype._initContext = function() {\n  try {\n    this.drawingContext =\n      this.canvas.getContext('webgl', this._pInst._glAttributes) ||\n      this.canvas.getContext('experimental-webgl', this._pInst._glAttributes);\n    if (this.drawingContext === null) {\n      throw new Error('Error creating webgl context');\n    } else {\n      console.log('p5.RendererGL: enabled webgl context');\n      var gl = this.drawingContext;\n      gl.enable(gl.DEPTH_TEST);\n      gl.depthFunc(gl.LEQUAL);\n      gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n      this._viewport = this.drawingContext.getParameter(\n        this.drawingContext.VIEWPORT\n      );\n    }\n  } catch (er) {\n    throw er;\n  }\n};\n\n//This is helper function to reset the context anytime the attributes\n//are changed with setAttributes()\n\np5.RendererGL.prototype._resetContext = function(options, callback) {\n  var w = this.width;\n  var h = this.height;\n  var defaultId = this.canvas.id;\n  var c = this.canvas;\n  if (c) {\n    c.parentNode.removeChild(c);\n  }\n  c = document.createElement('canvas');\n  c.id = defaultId;\n  if (this._pInst._userNode) {\n    this._pInst._userNode.appendChild(c);\n  } else {\n    document.body.appendChild(c);\n  }\n  this._pInst.canvas = c;\n\n  var renderer = new p5.RendererGL(this._pInst.canvas, this._pInst, true);\n  this._pInst._setProperty('_renderer', renderer);\n  renderer.resize(w, h);\n  renderer._applyDefaults();\n  this._pInst._elements.push(renderer);\n\n  if (typeof callback === 'function') {\n    //setTimeout with 0 forces the task to the back of the queue, this ensures that\n    //we finish switching out the renderer\n    setTimeout(function() {\n      callback.apply(window._renderer, options);\n    }, 0);\n  }\n};\n/**\n * @module Rendering\n * @submodule Rendering\n * @for p5\n */\n/**\n * Set attributes for the WebGL Drawing context.\n * This is a way of adjusting how the WebGL\n * renderer works to fine-tune the display and performance.\n * <br><br>\n * Note that this will reinitialize the drawing context\n * if called after the WebGL canvas is made.\n * <br><br>\n * If an object is passed as the parameter, all attributes\n * not declared in the object will be set to defaults.\n * <br><br>\n * The available attributes are:\n * <br>\n * alpha - indicates if the canvas contains an alpha buffer\n * default is false\n * <br><br>\n * depth - indicates whether the drawing buffer has a depth buffer\n * of at least 16 bits - default is true\n * <br><br>\n * stencil - indicates whether the drawing buffer has a stencil buffer\n * of at least 8 bits\n * <br><br>\n * antialias - indicates whether or not to perform anti-aliasing\n * default is false\n * <br><br>\n * premultipliedAlpha - indicates that the page compositor will assume\n * the drawing buffer contains colors with pre-multiplied alpha\n * default is false\n * <br><br>\n * preserveDrawingBuffer - if true the buffers will not be cleared and\n * and will preserve their values until cleared or overwritten by author\n * (note that p5 clears automatically on draw loop)\n * default is true\n * <br><br>\n * perPixelLighting - if true, per-pixel lighting will be used in the\n * lighting shader.\n * default is false\n * <br><br>\n * @method setAttributes\n * @for p5\n * @param  {String}  key Name of attribute\n * @param  {Boolean}        value New value of named attribute\n * @example\n * <div>\n * <code>\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n * }\n *\n * function draw() {\n *   background(255);\n *   push();\n *   rotateZ(frameCount * 0.02);\n *   rotateX(frameCount * 0.02);\n *   rotateY(frameCount * 0.02);\n *   fill(0, 0, 0);\n *   box(50);\n *   pop();\n * }\n * </code>\n * </div>\n * <br>\n * Now with the antialias attribute set to true.\n * <br>\n * <div>\n * <code>\n * function setup() {\n *   setAttributes('antialias', true);\n *   createCanvas(100, 100, WEBGL);\n * }\n *\n * function draw() {\n *   background(255);\n *   push();\n *   rotateZ(frameCount * 0.02);\n *   rotateX(frameCount * 0.02);\n *   rotateY(frameCount * 0.02);\n *   fill(0, 0, 0);\n *   box(50);\n *   pop();\n * }\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * // press the mouse button to enable perPixelLighting\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n *   noStroke();\n *   fill(255);\n * }\n *\n * var lights = [\n *   { c: '#f00', t: 1.12, p: 1.91, r: 0.2 },\n *   { c: '#0f0', t: 1.21, p: 1.31, r: 0.2 },\n *   { c: '#00f', t: 1.37, p: 1.57, r: 0.2 },\n *   { c: '#ff0', t: 1.12, p: 1.91, r: 0.7 },\n *   { c: '#0ff', t: 1.21, p: 1.31, r: 0.7 },\n *   { c: '#f0f', t: 1.37, p: 1.57, r: 0.7 }\n * ];\n *\n * function draw() {\n *   var t = millis() / 1000 + 1000;\n *   background(0);\n *   directionalLight(color('#222'), 1, 1, 1);\n *\n *   for (var i = 0; i < lights.length; i++) {\n *     var light = lights[i];\n *     pointLight(\n *       color(light.c),\n *       p5.Vector.fromAngles(t * light.t, t * light.p, width * light.r)\n *     );\n *   }\n *\n *   specularMaterial(255);\n *   sphere(width * 0.1);\n *\n *   rotateX(t * 0.77);\n *   rotateY(t * 0.83);\n *   rotateZ(t * 0.91);\n *   torus(width * 0.3, width * 0.07, 24, 10);\n * }\n *\n * function mousePressed() {\n *   setAttributes('perPixelLighting', true);\n *   noStroke();\n *   fill(255);\n * }\n * function mouseReleased() {\n *   setAttributes('perPixelLighting', false);\n *   noStroke();\n *   fill(255);\n * }\n * </code>\n * </div>\n *\n * @alt a rotating cube with smoother edges\n */\n/**\n * @method setAttributes\n * @for p5\n * @param  {Object}  obj object with key-value pairs\n */\n\np5.prototype.setAttributes = function(key, value) {\n  var unchanged = true;\n  if (typeof value !== 'undefined') {\n    //first time modifying the attributes\n    if (this._glAttributes === null) {\n      this._glAttributes = {};\n    }\n    if (this._glAttributes[key] !== value) {\n      //changing value of previously altered attribute\n      this._glAttributes[key] = value;\n      unchanged = false;\n    }\n    //setting all attributes with some change\n  } else if (key instanceof Object) {\n    if (this._glAttributes !== key) {\n      this._glAttributes = key;\n      unchanged = false;\n    }\n  }\n  //@todo_FES\n  if (!this._renderer.isP3D || unchanged) {\n    return;\n  }\n\n  if (!this._setupDone) {\n    for (var x in this._renderer.gHash) {\n      if (this._renderer.gHash.hasOwnProperty(x)) {\n        console.error(\n          'Sorry, Could not set the attributes, you need to call setAttributes() ' +\n            'before calling the other drawing methods in setup()'\n        );\n        return;\n      }\n    }\n  }\n\n  this.push();\n  this._renderer._resetContext();\n  this.pop();\n\n  if (this._renderer._curCamera) {\n    this._renderer._curCamera._renderer = this._renderer;\n  }\n};\n\n/**\n * @class p5.RendererGL\n */\n\np5.RendererGL.prototype._update = function() {\n  // reset model view and apply initial camera transform\n  // (containing only look at info; no projection).\n  this.uMVMatrix.set(\n    this._curCamera.cameraMatrix.mat4[0],\n    this._curCamera.cameraMatrix.mat4[1],\n    this._curCamera.cameraMatrix.mat4[2],\n    this._curCamera.cameraMatrix.mat4[3],\n    this._curCamera.cameraMatrix.mat4[4],\n    this._curCamera.cameraMatrix.mat4[5],\n    this._curCamera.cameraMatrix.mat4[6],\n    this._curCamera.cameraMatrix.mat4[7],\n    this._curCamera.cameraMatrix.mat4[8],\n    this._curCamera.cameraMatrix.mat4[9],\n    this._curCamera.cameraMatrix.mat4[10],\n    this._curCamera.cameraMatrix.mat4[11],\n    this._curCamera.cameraMatrix.mat4[12],\n    this._curCamera.cameraMatrix.mat4[13],\n    this._curCamera.cameraMatrix.mat4[14],\n    this._curCamera.cameraMatrix.mat4[15]\n  );\n\n  // reset light data for new frame.\n\n  this.ambientLightColors.length = 0;\n  this.directionalLightDirections.length = 0;\n  this.directionalLightColors.length = 0;\n\n  this.pointLightPositions.length = 0;\n  this.pointLightColors.length = 0;\n\n  this._enableLighting = false;\n};\n\n/**\n * [background description]\n */\np5.RendererGL.prototype.background = function() {\n  var _col = this._pInst.color.apply(this._pInst, arguments);\n  var _r = _col.levels[0] / 255;\n  var _g = _col.levels[1] / 255;\n  var _b = _col.levels[2] / 255;\n  var _a = _col.levels[3] / 255;\n  this.GL.clearColor(_r, _g, _b, _a);\n  this.GL.depthMask(true);\n  this.GL.clear(this.GL.COLOR_BUFFER_BIT | this.GL.DEPTH_BUFFER_BIT);\n  this._pixelsState._pixelsDirty = true;\n};\n\n//////////////////////////////////////////////\n// COLOR\n//////////////////////////////////////////////\n/**\n * Basic fill material for geometry with a given color\n * @method  fill\n * @class p5.RendererGL\n * @param  {Number|Number[]|String|p5.Color} v1  gray value,\n * red or hue value (depending on the current color mode),\n * or color Array, or CSS color string\n * @param  {Number}            [v2] green or saturation value\n * @param  {Number}            [v3] blue or brightness value\n * @param  {Number}            [a]  opacity\n * @chainable\n * @example\n * <div>\n * <code>\n * function setup() {\n *   createCanvas(200, 200, WEBGL);\n * }\n *\n * function draw() {\n *   background(0);\n *   noStroke();\n *   fill(100, 100, 240);\n *   rotateX(frameCount * 0.01);\n *   rotateY(frameCount * 0.01);\n *   box(75, 75, 75);\n * }\n * </code>\n * </div>\n *\n * @alt\n * black canvas with purple cube spinning\n *\n */\np5.RendererGL.prototype.fill = function(v1, v2, v3, a) {\n  //see material.js for more info on color blending in webgl\n  var color = p5.prototype.color.apply(this._pInst, arguments);\n  this.curFillColor = color._array;\n  this.drawMode = constants.FILL;\n  this._useNormalMaterial = false;\n  this._tex = null;\n};\n\n/**\n * Basic stroke material for geometry with a given color\n * @method  stroke\n * @param  {Number|Number[]|String|p5.Color} v1  gray value,\n * red or hue value (depending on the current color mode),\n * or color Array, or CSS color string\n * @param  {Number}            [v2] green or saturation value\n * @param  {Number}            [v3] blue or brightness value\n * @param  {Number}            [a]  opacity\n * @example\n * <div>\n * <code>\n * function setup() {\n *   createCanvas(200, 200, WEBGL);\n * }\n *\n * function draw() {\n *   background(0);\n *   stroke(240, 150, 150);\n *   fill(100, 100, 240);\n *   rotateX(frameCount * 0.01);\n *   rotateY(frameCount * 0.01);\n *   box(75, 75, 75);\n * }\n * </code>\n * </div>\n *\n * @alt\n * black canvas with purple cube with pink outline spinning\n *\n */\np5.RendererGL.prototype.stroke = function(r, g, b, a) {\n  //@todo allow transparency in stroking currently doesn't have\n  //any impact and causes problems with specularMaterial\n  arguments[3] = 255;\n  var color = p5.prototype.color.apply(this._pInst, arguments);\n  this.curStrokeColor = color._array;\n};\n\np5.RendererGL.prototype.strokeCap = function(cap) {\n  // @TODO : to be implemented\n  console.error('Sorry, strokeCap() is not yet implemented in WEBGL mode');\n};\n\np5.RendererGL.prototype.blendMode = function(mode) {\n  if (\n    mode === constants.DARKEST ||\n    mode === constants.LIGHTEST ||\n    mode === constants.ADD ||\n    mode === constants.BLEND ||\n    mode === constants.SUBTRACT ||\n    mode === constants.SCREEN ||\n    mode === constants.EXCLUSION ||\n    mode === constants.REPLACE ||\n    mode === constants.MULTIPLY\n  )\n    this.curBlendMode = mode;\n  else if (\n    mode === constants.BURN ||\n    mode === constants.OVERLAY ||\n    mode === constants.HARD_LIGHT ||\n    mode === constants.SOFT_LIGHT ||\n    mode === constants.DODGE\n  ) {\n    console.warn(\n      'BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.'\n    );\n  }\n};\n\n/**\n * Change weight of stroke\n * @method  strokeWeight\n * @param  {Number} stroke weight to be used for drawing\n * @example\n * <div>\n * <code>\n * function setup() {\n *   createCanvas(200, 400, WEBGL);\n *   setAttributes('antialias', true);\n * }\n *\n * function draw() {\n *   background(0);\n *   noStroke();\n *   translate(0, -100, 0);\n *   stroke(240, 150, 150);\n *   fill(100, 100, 240);\n *   push();\n *   strokeWeight(8);\n *   rotateX(frameCount * 0.01);\n *   rotateY(frameCount * 0.01);\n *   sphere(75);\n *   pop();\n *   push();\n *   translate(0, 200, 0);\n *   strokeWeight(1);\n *   rotateX(frameCount * 0.01);\n *   rotateY(frameCount * 0.01);\n *   sphere(75);\n *   pop();\n * }\n * </code>\n * </div>\n *\n * @alt\n * black canvas with two purple rotating spheres with pink\n * outlines the sphere on top has much heavier outlines,\n *\n */\np5.RendererGL.prototype.strokeWeight = function(w) {\n  if (this.curStrokeWeight !== w) {\n    this.pointSize = w;\n    this.curStrokeWeight = w;\n  }\n};\n\n// x,y are canvas-relative (pre-scaled by _pixelDensity)\np5.RendererGL.prototype._getPixel = function(x, y) {\n  var pixelsState = this._pixelsState;\n  var imageData, index;\n  if (pixelsState._pixelsDirty) {\n    imageData = new Uint8Array(4);\n    // prettier-ignore\n    this.drawingContext.readPixels(\n      x, y, 1, 1,\n      this.drawingContext.RGBA, this.drawingContext.UNSIGNED_BYTE,\n      imageData\n    );\n    index = 0;\n  } else {\n    imageData = pixelsState.pixels;\n    index = (Math.floor(x) + Math.floor(y) * this.canvas.width) * 4;\n  }\n  return [\n    imageData[index + 0],\n    imageData[index + 1],\n    imageData[index + 2],\n    imageData[index + 3]\n  ];\n};\n\n/**\n * Loads the pixels data for this canvas into the pixels[] attribute.\n * Note that updatePixels() and set() do not work.\n * Any pixel manipulation must be done directly to the pixels[] array.\n *\n * @private\n * @method loadPixels\n *\n */\n\np5.RendererGL.prototype.loadPixels = function() {\n  var pixelsState = this._pixelsState;\n  if (!pixelsState._pixelsDirty) return;\n  pixelsState._pixelsDirty = false;\n\n  //@todo_FES\n  if (this._pInst._glAttributes.preserveDrawingBuffer !== true) {\n    console.log(\n      'loadPixels only works in WebGL when preserveDrawingBuffer ' + 'is true.'\n    );\n    return;\n  }\n\n  //if there isn't a renderer-level temporary pixels buffer\n  //make a new one\n  var pixels = pixelsState.pixels;\n  var len = this.GL.drawingBufferWidth * this.GL.drawingBufferHeight * 4;\n  if (!(pixels instanceof Uint8Array) || pixels.length !== len) {\n    pixels = new Uint8Array(len);\n    this._pixelsState._setProperty('pixels', pixels);\n  }\n\n  var pd = this._pInst._pixelDensity;\n  // prettier-ignore\n  this.GL.readPixels(\n    0, 0, this.width * pd, this.height * pd,\n    this.GL.RGBA, this.GL.UNSIGNED_BYTE,\n    pixels\n  );\n};\n\n//////////////////////////////////////////////\n// HASH | for geometry\n//////////////////////////////////////////////\n\np5.RendererGL.prototype.geometryInHash = function(gId) {\n  return this.gHash[gId] !== undefined;\n};\n\n/**\n * [resize description]\n * @private\n * @param  {Number} w [description]\n * @param  {Number} h [description]\n */\np5.RendererGL.prototype.resize = function(w, h) {\n  p5.Renderer.prototype.resize.call(this, w, h);\n  this.GL.viewport(\n    0,\n    0,\n    this.GL.drawingBufferWidth,\n    this.GL.drawingBufferHeight\n  );\n  this._viewport = this.GL.getParameter(this.GL.VIEWPORT);\n\n  this._curCamera._resize();\n\n  //resize pixels buffer\n  var pixelsState = this._pixelsState;\n  pixelsState._pixelsDirty = true;\n  if (typeof pixelsState.pixels !== 'undefined') {\n    pixelsState._setProperty(\n      'pixels',\n      new Uint8Array(\n        this.GL.drawingBufferWidth * this.GL.drawingBufferHeight * 4\n      )\n    );\n  }\n};\n\n/**\n * clears color and depth buffers\n * with r,g,b,a\n * @private\n * @param {Number} r normalized red val.\n * @param {Number} g normalized green val.\n * @param {Number} b normalized blue val.\n * @param {Number} a normalized alpha val.\n */\np5.RendererGL.prototype.clear = function() {\n  var _r = arguments[0] || 0;\n  var _g = arguments[1] || 0;\n  var _b = arguments[2] || 0;\n  var _a = arguments[3] || 0;\n  this.GL.clearColor(_r, _g, _b, _a);\n  this.GL.clear(this.GL.COLOR_BUFFER_BIT | this.GL.DEPTH_BUFFER_BIT);\n  this._pixelsState._pixelsDirty = true;\n};\n\np5.RendererGL.prototype.applyMatrix = function(a, b, c, d, e, f) {\n  if (arguments.length === 16) {\n    p5.Matrix.prototype.apply.apply(this.uMVMatrix, arguments);\n  } else {\n    // prettier-ignore\n    this.uMVMatrix.apply([\n      a, b, 0, 0,\n      c, d, 0, 0,\n      0, 0, 1, 0,\n      e, f, 0, 1,\n    ]);\n  }\n};\n\n/**\n * [translate description]\n * @private\n * @param  {Number} x [description]\n * @param  {Number} y [description]\n * @param  {Number} z [description]\n * @chainable\n * @todo implement handle for components or vector as args\n */\np5.RendererGL.prototype.translate = function(x, y, z) {\n  if (x instanceof p5.Vector) {\n    z = x.z;\n    y = x.y;\n    x = x.x;\n  }\n  this.uMVMatrix.translate([x, y, z]);\n  return this;\n};\n\n/**\n * Scales the Model View Matrix by a vector\n * @private\n * @param  {Number | p5.Vector | Array} x [description]\n * @param  {Number} [y] y-axis scalar\n * @param  {Number} [z] z-axis scalar\n * @chainable\n */\np5.RendererGL.prototype.scale = function(x, y, z) {\n  this.uMVMatrix.scale(x, y, z);\n  return this;\n};\n\np5.RendererGL.prototype.rotate = function(rad, axis) {\n  if (typeof axis === 'undefined') {\n    return this.rotateZ(rad);\n  }\n  p5.Matrix.prototype.rotate.apply(this.uMVMatrix, arguments);\n  return this;\n};\n\np5.RendererGL.prototype.rotateX = function(rad) {\n  this.rotate(rad, 1, 0, 0);\n  return this;\n};\n\np5.RendererGL.prototype.rotateY = function(rad) {\n  this.rotate(rad, 0, 1, 0);\n  return this;\n};\n\np5.RendererGL.prototype.rotateZ = function(rad) {\n  this.rotate(rad, 0, 0, 1);\n  return this;\n};\n\np5.RendererGL.prototype.push = function() {\n  // get the base renderer style\n  var style = p5.Renderer.prototype.push.apply(this);\n\n  // add webgl-specific style properties\n  var properties = style.properties;\n\n  properties.uMVMatrix = this.uMVMatrix.copy();\n  properties.uPMatrix = this.uPMatrix.copy();\n  properties._curCamera = this._curCamera;\n\n  // make a copy of the current camera for the push state\n  // this preserves any references stored using 'createCamera'\n  this._curCamera = this._curCamera.copy();\n",
          "filepath": "data/repos/processing/p5.js-0.8/src/webgl/p5.RendererGL.js",
          "repo": "processing/p5.js",
          "version": "0.8",
          "chunk_index": 0,
          "chunk_id": "a85388e1-0129-401e-9137-8c6498f8b7e0"
        }
      },
      {
        "id": "e668da90-90fe-47a5-be0b-2fc4a65b0e76",
        "score": 0.015625,
        "payload": {
          "text": "/**\n * Welcome to RendererGL Immediate Mode.\n * Immediate mode is used for drawing custom shapes\n * from a set of vertices.  Immediate Mode is activated\n * when you call <a href=\"#/p5/beginShape\">beginShape()</a> & de-activated when you call <a href=\"#/p5/endShape\">endShape()</a>.\n * Immediate mode is a style of programming borrowed\n * from OpenGL's (now-deprecated) immediate mode.\n * It differs from p5.js' default, Retained Mode, which caches\n * geometries and buffers on the CPU to reduce the number of webgl\n * draw calls. Retained mode is more efficient & performative,\n * however, Immediate Mode is useful for sketching quick\n * geometric ideas.\n */\n'use strict';\n\nvar p5 = require('../core/main');\nvar constants = require('../core/constants');\n\n/**\n * Begin shape drawing.  This is a helpful way of generating\n * custom shapes quickly.  However in WEBGL mode, application\n * performance will likely drop as a result of too many calls to\n * <a href=\"#/p5/beginShape\">beginShape()</a> / <a href=\"#/p5/endShape\">endShape()</a>.  As a high performance alternative,\n * please use p5.js geometry primitives.\n * @private\n * @method beginShape\n * @param  {Number} mode webgl primitives mode.  beginShape supports the\n *                       following modes:\n *                       POINTS,LINES,LINE_STRIP,LINE_LOOP,TRIANGLES,\n *                       TRIANGLE_STRIP,and TRIANGLE_FAN.\n * @chainable\n */\np5.RendererGL.prototype.beginShape = function(mode) {\n  //default shape mode is line_strip\n  this.immediateMode.shapeMode =\n    mode !== undefined ? mode : constants.LINE_STRIP;\n  //if we haven't yet initialized our\n  //immediateMode vertices & buffers, create them now!\n  if (this.immediateMode.vertices === undefined) {\n    this.immediateMode.vertices = [];\n    this.immediateMode.edges = [];\n    this.immediateMode.lineVertices = [];\n    this.immediateMode.vertexColors = [];\n    this.immediateMode.lineNormals = [];\n    this.immediateMode.uvCoords = [];\n    this.immediateMode.vertexBuffer = this.GL.createBuffer();\n    this.immediateMode.colorBuffer = this.GL.createBuffer();\n    this.immediateMode.uvBuffer = this.GL.createBuffer();\n    this.immediateMode.lineVertexBuffer = this.GL.createBuffer();\n    this.immediateMode.lineNormalBuffer = this.GL.createBuffer();\n    this.immediateMode.pointVertexBuffer = this.GL.createBuffer();\n    this.immediateMode._bezierVertex = [];\n    this.immediateMode._quadraticVertex = [];\n    this.immediateMode._curveVertex = [];\n  } else {\n    this.immediateMode.vertices.length = 0;\n    this.immediateMode.edges.length = 0;\n    this.immediateMode.lineVertices.length = 0;\n    this.immediateMode.lineNormals.length = 0;\n    this.immediateMode.vertexColors.length = 0;\n    this.immediateMode.uvCoords.length = 0;\n  }\n  this.isImmediateDrawing = true;\n  return this;\n};\n/**\n * adds a vertex to be drawn in a custom Shape.\n * @private\n * @method vertex\n * @param  {Number} x x-coordinate of vertex\n * @param  {Number} y y-coordinate of vertex\n * @param  {Number} z z-coordinate of vertex\n * @chainable\n * @TODO implement handling of <a href=\"#/p5.Vector\">p5.Vector</a> args\n */\np5.RendererGL.prototype.vertex = function(x, y) {\n  var z, u, v;\n\n  // default to (x, y) mode: all other arugments assumed to be 0.\n  z = u = v = 0;\n\n  if (arguments.length === 3) {\n    // (x, y, z) mode: (u, v) assumed to be 0.\n    z = arguments[2];\n  } else if (arguments.length === 4) {\n    // (x, y, u, v) mode: z assumed to be 0.\n    u = arguments[2];\n    v = arguments[3];\n  } else if (arguments.length === 5) {\n    // (x, y, z, u, v) mode\n    z = arguments[2];\n    u = arguments[3];\n    v = arguments[4];\n  }\n  var vert = new p5.Vector(x, y, z);\n  this.immediateMode.vertices.push(vert);\n  var vertexColor = this.curFillColor || [0.5, 0.5, 0.5, 1.0];\n  this.immediateMode.vertexColors.push(\n    vertexColor[0],\n    vertexColor[1],\n    vertexColor[2],\n    vertexColor[3]\n  );\n\n  if (this.textureMode === constants.IMAGE) {\n    if (this._tex !== null) {\n      if (this._tex.width > 0 && this._tex.height > 0) {\n        u /= this._tex.width;\n        v /= this._tex.height;\n      }\n    } else if (this._tex === null && arguments.length >= 4) {\n      // Only throw this warning if custom uv's have  been provided\n      console.warn(\n        'You must first call texture() before using' +\n          ' vertex() with image based u and v coordinates'\n      );\n    }\n  }\n\n  this.immediateMode.uvCoords.push(u, v);\n\n  this.immediateMode._bezierVertex[0] = x;\n  this.immediateMode._bezierVertex[1] = y;\n  this.immediateMode._bezierVertex[2] = z;\n\n  this.immediateMode._quadraticVertex[0] = x;\n  this.immediateMode._quadraticVertex[1] = y;\n  this.immediateMode._quadraticVertex[2] = z;\n\n  return this;\n};\n\n/**\n * End shape drawing and render vertices to screen.\n * @chainable\n */\np5.RendererGL.prototype.endShape = function(\n  mode,\n  isCurve,\n  isBezier,\n  isQuadratic,\n  isContour,\n  shapeKind\n) {\n  if (this.immediateMode.shapeMode === constants.POINTS) {\n    this._drawPoints(\n      this.immediateMode.vertices,\n      this.immediateMode.pointVertexBuffer\n    );\n  } else if (this.immediateMode.vertices.length > 1) {\n    if (this._doStroke && this.drawMode !== constants.TEXTURE) {\n      if (this.immediateMode.shapeMode === constants.TRIANGLE_STRIP) {\n        var i;\n        for (i = 0; i < this.immediateMode.vertices.length - 2; i++) {\n          this.immediateMode.edges.push([i, i + 1]);\n          this.immediateMode.edges.push([i, i + 2]);\n        }\n        this.immediateMode.edges.push([i, i + 1]);\n      } else if (this.immediateMode.shapeMode === constants.TRIANGLES) {\n        for (i = 0; i < this.immediateMode.vertices.length - 2; i = i + 3) {\n          this.immediateMode.edges.push([i, i + 1]);\n          this.immediateMode.edges.push([i + 1, i + 2]);\n          this.immediateMode.edges.push([i + 2, i]);\n        }\n      } else if (this.immediateMode.shapeMode === constants.LINES) {\n        for (i = 0; i < this.immediateMode.vertices.length - 1; i = i + 2) {\n          this.immediateMode.edges.push([i, i + 1]);\n        }\n      } else {\n        for (i = 0; i < this.immediateMode.vertices.length - 1; i++) {\n          this.immediateMode.edges.push([i, i + 1]);\n        }\n      }\n      if (mode === constants.CLOSE) {\n        this.immediateMode.edges.push([\n          this.immediateMode.vertices.length - 1,\n          0\n        ]);\n      }\n\n      p5.Geometry.prototype._edgesToVertices.call(this.immediateMode);\n      this._drawStrokeImmediateMode();\n    }\n\n    if (this._doFill && this.immediateMode.shapeMode !== constants.LINES) {\n      if (this.isBezier || this.isQuadratic || this.isCurve) {\n        var contours = [\n          new Float32Array(this._vToNArray(this.immediateMode.vertices))\n        ];\n        var polyTriangles = this._triangulate(contours);\n        this.immediateMode.vertices = [];\n        for (\n          var j = 0, polyTriLength = polyTriangles.length;\n          j < polyTriLength;\n          j = j + 3\n        ) {\n          this.vertex(\n            polyTriangles[j],\n            polyTriangles[j + 1],\n            polyTriangles[j + 2]\n          );\n        }\n      }\n      this._drawFillImmediateMode(\n        mode,\n        isCurve,\n        isBezier,\n        isQuadratic,\n        isContour,\n        shapeKind\n      );\n    }\n  }\n  //clear out our vertexPositions & colors arrays\n  //after rendering\n  this.immediateMode.vertices.length = 0;\n  this.immediateMode.vertexColors.length = 0;\n  this.immediateMode.uvCoords.length = 0;\n  this.isImmediateDrawing = false;\n  this.isBezier = false;\n  this.isQuadratic = false;\n  this.isCurve = false;\n  this.immediateMode._bezierVertex.length = 0;\n  this.immediateMode._quadraticVertex.length = 0;\n\n  this.immediateMode._curveVertex.length = 0;\n\n  return this;\n};\n\np5.RendererGL.prototype._drawFillImmediateMode = function(\n  mode,\n  isCurve,\n  isBezier,\n  isQuadratic,\n  isContour,\n  shapeKind\n) {\n  var gl = this.GL;\n  var shader = this._getImmediateFillShader();\n  this._setFillUniforms(shader);\n\n  // initialize the fill shader's 'aPosition' buffer\n  if (shader.attributes.aPosition) {\n    //vertex position Attribute\n    this._bindBuffer(\n      this.immediateMode.vertexBuffer,\n      gl.ARRAY_BUFFER,\n      this._vToNArray(this.immediateMode.vertices),\n      Float32Array,\n      gl.DYNAMIC_DRAW\n    );\n\n    shader.enableAttrib(\n      shader.attributes.aPosition.location,\n      3,\n      gl.FLOAT,\n      false,\n      0,\n      0\n    );\n  }\n\n  // initialize the fill shader's 'aVertexColor' buffer\n  if (this.drawMode === constants.FILL && shader.attributes.aVertexColor) {\n    this._bindBuffer(\n      this.immediateMode.colorBuffer,\n      gl.ARRAY_BUFFER,\n      this.immediateMode.vertexColors,\n      Float32Array,\n      gl.DYNAMIC_DRAW\n    );\n\n    shader.enableAttrib(\n      shader.attributes.aVertexColor.location,\n      4,\n      gl.FLOAT,\n      false,\n      0,\n      0\n    );\n  }\n\n  // initialize the fill shader's 'aTexCoord' buffer\n  if (this.drawMode === constants.TEXTURE && shader.attributes.aTexCoord) {\n    //texture coordinate Attribute\n    this._bindBuffer(\n      this.immediateMode.uvBuffer,\n      gl.ARRAY_BUFFER,\n      this.immediateMode.uvCoords,\n      Float32Array,\n      gl.DYNAMIC_DRAW\n    );\n\n    shader.enableAttrib(\n      shader.attributes.aTexCoord.location,\n      2,\n      gl.FLOAT,\n      false,\n      0,\n      0\n    );\n  }\n\n  //if (true || mode) {\n  if (this.drawMode === constants.FILL || this.drawMode === constants.TEXTURE) {\n    switch (this.immediateMode.shapeMode) {\n      case constants.LINE_STRIP:\n      case constants.LINES:\n      case constants.TRIANGLES:\n        this.immediateMode.shapeMode =\n          this.isBezier ||\n          this.isQuadratic ||\n          this.isCurve ||\n          this.immediateMode.shapeMode === constants.TRIANGLES\n            ? constants.TRIANGLES\n            : constants.TRIANGLE_FAN;\n        break;\n    }\n  } else {\n    switch (this.immediateMode.shapeMode) {\n      case constants.LINE_STRIP:\n      case constants.LINES:\n        this.immediateMode.shapeMode = constants.LINE_LOOP;\n        break;\n    }\n  }\n  //}\n  //QUADS & QUAD_STRIP are not supported primitives modes\n  //in webgl.\n  if (\n    this.immediateMode.shapeMode === constants.QUADS ||\n    this.immediateMode.shapeMode === constants.QUAD_STRIP\n  ) {\n    throw new Error(\n      'sorry, ' +\n        this.immediateMode.shapeMode +\n        ' not yet implemented in webgl mode.'\n    );\n  } else {\n    this._applyColorBlend(this.curFillColor);\n    gl.enable(gl.BLEND);\n    gl.drawArrays(\n      this.immediateMode.shapeMode,\n      0,\n      this.immediateMode.vertices.length\n    );\n\n    this._pixelsState._pixelsDirty = true;\n  }\n  // todo / optimizations? leave bound until another shader is set?\n  shader.unbindShader();\n};\n\np5.RendererGL.prototype._drawStrokeImmediateMode = function() {\n  var gl = this.GL;\n  var shader = this._getImmediateStrokeShader();\n  this._setStrokeUniforms(shader);\n\n  // initialize the stroke shader's 'aPosition' buffer\n  if (shader.attributes.aPosition) {\n    this._bindBuffer(\n      this.immediateMode.lineVertexBuffer,\n      gl.ARRAY_BUFFER,\n      this._flatten(this.immediateMode.lineVertices),\n      Float32Array,\n      gl.STATIC_DRAW\n    );\n\n    shader.enableAttrib(\n      shader.attributes.aPosition.location,\n      3,\n      gl.FLOAT,\n      false,\n      0,\n      0\n    );\n  }\n\n  // initialize the stroke shader's 'aDirection' buffer\n  if (shader.attributes.aDirection) {\n    this._bindBuffer(\n      this.immediateMode.lineNormalBuffer,\n      gl.ARRAY_BUFFER,\n      this._flatten(this.immediateMode.lineNormals),\n      Float32Array,\n      gl.STATIC_DRAW\n    );\n    shader.enableAttrib(\n      shader.attributes.aDirection.location,\n      4,\n      gl.FLOAT,\n      false,\n      0,\n      0\n    );\n  }\n\n  this._applyColorBlend(this.curStrokeColor);\n  gl.drawArrays(gl.TRIANGLES, 0, this.immediateMode.lineVertices.length);\n\n  this._pixelsState._pixelsDirty = true;\n\n  shader.unbindShader();\n};\n\nmodule.exports = p5.RendererGL;\n",
          "filepath": "data/repos/processing/p5.js-0.8/src/webgl/p5.RendererGL.Immediate.js",
          "repo": "processing/p5.js",
          "version": "0.8",
          "chunk_index": 0,
          "chunk_id": "e668da90-90fe-47a5-be0b-2fc4a65b0e76"
        }
      },
      {
        "id": "c34ade5f-8a32-4545-8d27-967fa2532252",
        "score": 0.015384615384615385,
        "payload": {
          "text": "'use strict';\n\nvar p5 = require('../core/main');\nvar constants = require('../core/constants');\nrequire('./p5.Shader');\nrequire('./p5.RendererGL');\n\n// Text/Typography\n// @TODO:\np5.RendererGL.prototype._applyTextProperties = function() {\n  //@TODO finish implementation\n  //console.error('text commands not yet implemented in webgl');\n};\n\np5.RendererGL.prototype.textWidth = function(s) {\n  if (this._isOpenType()) {\n    return this._textFont._textWidth(s, this._textSize);\n  }\n\n  return 0; // TODO: error\n};\n\n// rendering constants\n\n// the number of rows/columns dividing each glyph\nvar charGridWidth = 9;\nvar charGridHeight = charGridWidth;\n\n// size of the image holding the bezier stroke info\nvar strokeImageWidth = 64;\nvar strokeImageHeight = 64;\n\n// size of the image holding the stroke indices for each row/col\nvar gridImageWidth = 64;\nvar gridImageHeight = 64;\n\n// size of the image holding the offset/length of each row/col stripe\nvar cellImageWidth = 64;\nvar cellImageHeight = 64;\n\n/**\n * @private\n * @class ImageInfos\n * @param {Integer} width\n * @param {Integer} height\n *\n * the ImageInfos class holds a list of ImageDatas of a given size.\n */\nfunction ImageInfos(width, height) {\n  this.width = width;\n  this.height = height;\n  this.infos = []; // the list of images\n\n  /**\n   *\n   * @method findImage\n   * @param {Integer} space\n   * @return {Object} contains the ImageData, and pixel index into that\n   *                  ImageData where the free space was allocated.\n   *\n   * finds free space of a given size in the ImageData list\n   */\n  this.findImage = function(space) {\n    var imageSize = this.width * this.height;\n    if (space > imageSize)\n      throw new Error('font is too complex to render in 3D');\n\n    // search through the list of images, looking for one with\n    // anough unused space.\n    var imageInfo, imageData;\n    for (var ii = this.infos.length - 1; ii >= 0; --ii) {\n      var imageInfoTest = this.infos[ii];\n      if (imageInfoTest.index + space < imageSize) {\n        // found one\n        imageInfo = imageInfoTest;\n        imageData = imageInfoTest.imageData;\n        break;\n      }\n    }\n\n    if (!imageInfo) {\n      try {\n        // create a new image\n        imageData = new ImageData(this.width, this.height);\n      } catch (err) {\n        // for browsers that don't support ImageData constructors (ie IE11)\n        // create an ImageData using the old method\n        var canvas = document.getElementsByTagName('canvas')[0];\n        var created = !canvas;\n        if (!canvas) {\n          // create a temporary canvas\n          canvas = document.createElement('canvas');\n          canvas.style.display = 'none';\n          document.body.appendChild(canvas);\n        }\n        var ctx = canvas.getContext('2d');\n        if (ctx) {\n          imageData = ctx.createImageData(this.width, this.height);\n        }\n        if (created) {\n          // distroy the temporary canvas, if necessary\n          document.body.removeChild(canvas);\n        }\n      }\n      // construct & dd the new image info\n      imageInfo = { index: 0, imageData: imageData };\n      this.infos.push(imageInfo);\n    }\n\n    var index = imageInfo.index;\n    imageInfo.index += space; // move to the start of the next image\n    imageData._dirty = true;\n    return { imageData: imageData, index: index };\n  };\n}\n\n/**\n * @function setPixel\n * @param {Object} imageInfo\n * @param {Number} r\n * @param {Number} g\n * @param {Number} b\n * @param {Number} a\n *\n * writes the next pixel into an indexed ImageData\n */\nfunction setPixel(imageInfo, r, g, b, a) {\n  var imageData = imageInfo.imageData;\n  var pixels = imageData.data;\n  var index = imageInfo.index++ * 4;\n  pixels[index++] = r;\n  pixels[index++] = g;\n  pixels[index++] = b;\n  pixels[index++] = a;\n}\n\nvar SQRT3 = Math.sqrt(3);\n\n/**\n * @private\n * @class FontInfo\n * @param {Object} font an opentype.js font object\n *\n * contains cached images and glyph information for an opentype font\n */\nvar FontInfo = function(font) {\n  this.font = font;\n  // the bezier curve coordinates\n  this.strokeImageInfos = new ImageInfos(strokeImageWidth, strokeImageHeight);\n  // lists of curve indices for each row/column slice\n  this.colDimImageInfos = new ImageInfos(gridImageWidth, gridImageHeight);\n  this.rowDimImageInfos = new ImageInfos(gridImageWidth, gridImageHeight);\n  // the offset & length of each row/col slice in the glyph\n  this.colCellImageInfos = new ImageInfos(cellImageWidth, cellImageHeight);\n  this.rowCellImageInfos = new ImageInfos(cellImageWidth, cellImageHeight);\n\n  // the cached information for each glyph\n  this.glyphInfos = {};\n\n  /**\n   * @method getGlyphInfo\n   * @param {Glyph} glyph the x positions of points in the curve\n   * @returns {Object} the glyphInfo for that glyph\n   *\n   * calculates rendering info for a glyph, including the curve information,\n   * row & column stripes compiled into textures.\n   */\n\n  this.getGlyphInfo = function(glyph) {\n    // check the cache\n    var gi = this.glyphInfos[glyph.index];\n    if (gi) return gi;\n\n    // get the bounding box of the glyph from opentype.js\n    var bb = glyph.getBoundingBox();\n    var xMin = bb.x1;\n    var yMin = bb.y1;\n    var gWidth = bb.x2 - xMin;\n    var gHeight = bb.y2 - yMin;\n    var cmds = glyph.path.commands;\n    // don't bother rendering invisible glyphs\n    if (gWidth === 0 || gHeight === 0 || !cmds.length) {\n      return (this.glyphInfos[glyph.index] = {});\n    }\n\n    var i;\n    var strokes = []; // the strokes in this glyph\n    var rows = []; // the indices of strokes in each row\n    var cols = []; // the indices of strokes in each column\n    for (i = charGridWidth - 1; i >= 0; --i) cols.push([]);\n    for (i = charGridHeight - 1; i >= 0; --i) rows.push([]);\n\n    /**\n     * @function push\n     * @param {Number[]} xs the x positions of points in the curve\n     * @param {Number[]} ys the y positions of points in the curve\n     * @param {Object} v    the curve information\n     *\n     * adds a curve to the rows & columns that it intersects with\n     */\n    function push(xs, ys, v) {\n      var index = strokes.length; // the index of this stroke\n      strokes.push(v); // add this stroke to the list\n\n      /**\n       * @function minMax\n       * @param {Number[]} rg the list of values to compare\n       * @param {Number} min the initial minimum value\n       * @param {Number} max the initial maximum value\n       *\n       * find the minimum & maximum value in a list of values\n       */\n      function minMax(rg, min, max) {\n        for (var i = rg.length; i-- > 0; ) {\n          var v = rg[i];\n          if (min > v) min = v;\n          if (max < v) max = v;\n        }\n        return { min: min, max: max };\n      }\n\n      // loop through the rows & columns that the curve intersects\n      // adding the curve to those slices\n      var mmX = minMax(xs, 1, 0);\n      var ixMin = Math.max(Math.floor(mmX.min * charGridWidth), 0);\n      var ixMax = Math.min(Math.ceil(mmX.max * charGridWidth), charGridWidth);\n      for (var iCol = ixMin; iCol < ixMax; ++iCol) cols[iCol].push(index);\n\n      var mmY = minMax(ys, 1, 0);\n      var iyMin = Math.max(Math.floor(mmY.min * charGridHeight), 0);\n      var iyMax = Math.min(Math.ceil(mmY.max * charGridHeight), charGridHeight);\n      for (var iRow = iyMin; iRow < iyMax; ++iRow) rows[iRow].push(index);\n    }\n\n    /**\n     * @function clamp\n     * @param {Number} v the value to clamp\n     * @param {Number} min the minimum value\n     * @param {Number} max the maxmimum value\n     *\n     * clamps a value between a minimum & maximum value\n     */\n    function clamp(v, min, max) {\n      if (v < min) return min;\n      if (v > max) return max;\n      return v;\n    }\n\n    /**\n     * @function byte\n     * @param {Number} v the value to scale\n     *\n     * converts a floating-point number in the range 0-1 to a byte 0-255\n     */\n    function byte(v) {\n      return clamp(255 * v, 0, 255);\n    }\n\n    /**\n     * @private\n     * @class Cubic\n     * @param {Number} p0 the start point of the curve\n     * @param {Number} c0 the first control point\n     * @param {Number} c1 the second control point\n     * @param {Number} p1 the end point\n     *\n     * a cubic curve\n     */\n    function Cubic(p0, c0, c1, p1) {\n      this.p0 = p0;\n      this.c0 = c0;\n      this.c1 = c1;\n      this.p1 = p1;\n\n      /**\n       * @method toQuadratic\n       * @return {Object} the quadratic approximation\n       *\n       * converts the cubic to a quadtratic approximation by\n       * picking an appropriate quadratic control point\n       */\n      this.toQuadratic = function() {\n        return {\n          x: this.p0.x,\n          y: this.p0.y,\n          x1: this.p1.x,\n          y1: this.p1.y,\n          cx: ((this.c0.x + this.c1.x) * 3 - (this.p0.x + this.p1.x)) / 4,\n          cy: ((this.c0.y + this.c1.y) * 3 - (this.p0.y + this.p1.y)) / 4\n        };\n      };\n\n      /**\n       * @method quadError\n       * @return {Number} the error\n       *\n       * calculates the magnitude of error of this curve's\n       * quadratic approximation.\n       */\n      this.quadError = function() {\n        return (\n          p5.Vector.sub(\n            p5.Vector.sub(this.p1, this.p0),\n            p5.Vector.mult(p5.Vector.sub(this.c1, this.c0), 3)\n          ).mag() / 2\n        );\n      };\n\n      /**\n       * @method split\n       * @param {Number} t the value (0-1) at which to split\n       * @return {Cubic} the second part of the curve\n       *\n       * splits the cubic into two parts at a point 't' along the curve.\n       * this cubic keeps its start point and its end point becomes the\n       * point at 't'. the 'end half is returned.\n       */\n      this.split = function(t) {\n        var m1 = p5.Vector.lerp(this.p0, this.c0, t);\n        var m2 = p5.Vector.lerp(this.c0, this.c1, t);\n        var mm1 = p5.Vector.lerp(m1, m2, t);\n\n        this.c1 = p5.Vector.lerp(this.c1, this.p1, t);\n        this.c0 = p5.Vector.lerp(m2, this.c1, t);\n        var pt = p5.Vector.lerp(mm1, this.c0, t);\n        var part1 = new Cubic(this.p0, m1, mm1, pt);\n        this.p0 = pt;\n        return part1;\n      };\n\n      /**\n       * @method splitInflections\n       * @return {Cubic[]} the non-inflecting pieces of this cubic\n       *\n       * returns an array containing 0, 1 or 2 cubics split resulting\n       * from splitting this cubic at its inflection points.\n       * this cubic is (potentially) altered and returned in the list.\n       */\n      this.splitInflections = function() {\n        var a = p5.Vector.sub(this.c0, this.p0);\n        var b = p5.Vector.sub(p5.Vector.sub(this.c1, this.c0), a);\n        var c = p5.Vector.sub(\n          p5.Vector.sub(p5.Vector.sub(this.p1, this.c1), a),\n          p5.Vector.mult(b, 2)\n        );\n\n        var cubics = [];\n\n        // find the derivative coefficients\n        var A = b.x * c.y - b.y * c.x;\n        if (A !== 0) {\n          var B = a.x * c.y - a.y * c.x;\n          var C = a.x * b.y - a.y * b.x;\n          var disc = B * B - 4 * A * C;\n          if (disc >= 0) {\n            if (A < 0) {\n              A = -A;\n              B = -B;\n              C = -C;\n            }\n\n            var Q = Math.sqrt(disc);\n            var t0 = (-B - Q) / (2 * A); // the first inflection point\n            var t1 = (-B + Q) / (2 * A); // the second inflection point\n\n            // test if the first inflection point lies on the curve\n            if (t0 > 0 && t0 < 1) {\n              // split at the first inflection point\n              cubics.push(this.split(t0));\n              // scale t2 into the second part\n              t1 = 1 - (1 - t1) / (1 - t0);\n            }\n\n            // test if the second inflection point lies on the curve\n            if (t1 > 0 && t1 < 1) {\n              // split at the second inflection point\n              cubics.push(this.split(t1));\n            }\n          }\n        }\n\n        cubics.push(this);\n        return cubics;\n      };\n    }\n\n    /**\n     * @function cubicToQuadratics\n     * @param {Number} x0\n     * @param {Number} y0\n     * @param {Number} cx0\n     * @param {Number} cy0\n     * @param {Number} cx1\n     * @param {Number} cy1\n     * @param {Number} x1\n     * @param {Number} y1\n     * @returns {Cubic[]} an array of cubics whose quadratic approximations\n     *                    closely match the civen cubic.\n     *\n     * converts a cubic curve to a list of quadratics.\n     */\n    function cubicToQuadratics(x0, y0, cx0, cy0, cx1, cy1, x1, y1) {\n      // create the Cubic object and split it at its inflections\n      var cubics = new Cubic(\n        new p5.Vector(x0, y0),\n        new p5.Vector(cx0, cy0),\n        new p5.Vector(cx1, cy1),\n        new p5.Vector(x1, y1)\n      ).splitInflections();\n\n      var qs = []; // the final list of quadratics\n      var precision = 30 / SQRT3;\n\n      // for each of the non-inflected pieces of the original cubic\n      for (var i = 0; i < cubics.length; i++) {\n        var cubic = cubics[i];\n\n        // the cubic is iteratively split in 3 pieces:\n        // the first piece is accumulated in 'qs', the result.\n        // the last piece is accumulated in 'tail', temporarily.\n        // the middle piece is repeatedly split again, while necessary.\n        var tail = [];\n\n        var t3;\n        for (;;) {\n          // calculate this cubic's precision\n          t3 = precision / cubic.quadError();\n          if (t3 >= 0.5 * 0.5 * 0.5) {\n            break; // not too bad, we're done\n          }\n\n          // find a split point based on the error\n          var t = Math.pow(t3, 1.0 / 3.0);\n          // split the cubic in 3\n          var start = cubic.split(t);\n          var middle = cubic.split(1 - t / (1 - t));\n\n          qs.push(start); // the first part\n          tail.push(cubic); // the last part\n          cubic = middle; // iterate on the middle piece\n        }\n\n        if (t3 < 1) {\n          // a little excess error, split the middle in two\n          qs.push(cubic.split(0.5));\n        }\n        // add the middle piece to the result\n        qs.push(cubic);\n\n        // finally add the tail, reversed, onto the result\n        Array.prototype.push.apply(qs, tail.reverse());\n      }\n\n      return qs;\n    }\n\n    /**\n     * @function pushLine\n     * @param {Number} x0\n     * @param {Number} y0\n     * @param {Number} x1\n     * @param {Number} y1\n     *\n     * add a straight line to the row/col grid of a glyph\n     */\n    function pushLine(x0, y0, x1, y1) {\n      var mx = (x0 + x1) / 2;\n      var my = (y0 + y1) / 2;\n      push([x0, x1], [y0, y1], { x: x0, y: y0, cx: mx, cy: my });\n    }\n\n    /**\n     * @function samePoint\n     * @param {Number} x0\n     * @param {Number} y0\n     * @param {Number} x1\n     * @param {Number} y1\n     * @return {Boolean} true if the two points are sufficiently close\n     *\n     * tests if two points are close enough to be considered the same\n     */\n    function samePoint(x0, y0, x1, y1) {\n      return Math.abs(x1 - x0) < 0.00001 && Math.abs(y1 - y0) < 0.00001;\n    }\n\n    var x0, y0, xs, ys;\n    for (var iCmd = 0; iCmd < cmds.length; ++iCmd) {\n      var cmd = cmds[iCmd];\n      // scale the coordinates to the range 0-1\n      var x1 = (cmd.x - xMin) / gWidth;\n      var y1 = (cmd.y - yMin) / gHeight;\n\n      // don't bother if this point is the same as the last\n      if (samePoint(x0, y0, x1, y1)) continue;\n\n      switch (cmd.type) {\n        case 'M': // move\n          xs = x1;\n          ys = y1;\n          break;\n        case 'L': // line\n          pushLine(x0, y0, x1, y1);\n          break;\n        case 'Q': // quadratic\n          var cx = (cmd.x1 - xMin) / gWidth;\n          var cy = (cmd.y1 - yMin) / gHeight;\n          push([x0, x1, cx], [y0, y1, cy], { x: x0, y: y0, cx: cx, cy: cy });\n          break;\n        case 'Z': // end\n          if (!samePoint(x0, y0, xs, ys)) {\n            // add an extra line closing the loop, if necessary\n            pushLine(x0, y0, xs, ys);\n            strokes.push({ x: xs, y: ys });\n          } else {\n            strokes.push({ x: x0, y: y0 });\n          }\n          break;\n        case 'C': // cubic\n          var cx1 = (cmd.x1 - xMin) / gWidth;\n          var cy1 = (cmd.y1 - yMin) / gHeight;\n          var cx2 = (cmd.x2 - xMin) / gWidth;\n          var cy2 = (cmd.y2 - yMin) / gHeight;\n          var qs = cubicToQuadratics(x0, y0, cx1, cy1, cx2, cy2, x1, y1);\n          for (var iq = 0; iq < qs.length; iq++) {\n            var q = qs[iq].toQuadratic();\n            push([q.x, q.x1, q.cx], [q.y, q.y1, q.cy], q);\n          }\n          break;\n        default:\n          throw new Error('unknown command type: ' + cmd.type);\n      }\n      x0 = x1;\n      y0 = y1;\n    }\n\n    // allocate space for the strokes\n    var strokeCount = strokes.length;\n    var strokeImageInfo = this.strokeImageInfos.findImage(strokeCount);\n    var strokeOffset = strokeImageInfo.index;\n\n    // fill the stroke image\n    for (var il = 0; il < strokeCount; ++il) {\n      var s = strokes[il];\n      setPixel(strokeImageInfo, byte(s.x), byte(s.y), byte(s.cx), byte(s.cy));\n    }\n\n    /**\n     * @function layout\n     * @param {Number[][]} dim\n     * @param {ImageInfo[]} dimImageInfos\n     * @param {ImageInfo[]} cellImageInfos\n     * @return {Object}\n     *\n     * lays out the curves in a dimension (row or col) into two\n     * images, one for the indices of the curves themselves, and\n     * one containing the offset and length of those index spans.\n     */\n    function layout(dim, dimImageInfos, cellImageInfos) {\n      var dimLength = dim.length; // the number of slices in this dimension\n      var dimImageInfo = dimImageInfos.findImage(dimLength);\n      var dimOffset = dimImageInfo.index;\n      // calculate the total number of stroke indices in this dimension\n      var totalStrokes = 0;\n      for (var id = 0; id < dimLength; ++id) {\n        totalStrokes += dim[id].length;\n      }\n\n      // allocate space for the stroke indices\n      var cellImageInfo = cellImageInfos.findImage(totalStrokes);\n\n      // for each slice in the glyph\n      for (var i = 0; i < dimLength; ++i) {\n        var strokeIndices = dim[i];\n        var strokeCount = strokeIndices.length;\n        var cellLineIndex = cellImageInfo.index;\n\n        // write the offset and count into the glyph slice image\n        setPixel(\n          dimImageInfo,\n          cellLineIndex >> 7,\n          cellLineIndex & 0x7f,\n          strokeCount >> 7,\n          strokeCount & 0x7f\n        );\n\n        // for each stroke index in that slice\n        for (var iil = 0; iil < strokeCount; ++iil) {\n          // write the stroke index into the slice's image\n          var strokeIndex = strokeIndices[iil] + strokeOffset;\n          setPixel(cellImageInfo, strokeIndex >> 7, strokeIndex & 0x7f, 0, 0);\n        }\n      }\n\n      return {\n        cellImageInfo: cellImageInfo,\n        dimOffset: dimOffset,\n        dimImageInfo: dimImageInfo\n      };\n    }\n\n    // initialize the info for this glyph\n    gi = this.glyphInfos[glyph.index] = {\n      glyph: glyph,\n      uGlyphRect: [bb.x1, -bb.y1, bb.x2, -bb.y2],\n      strokeImageInfo: strokeImageInfo,\n      strokes: strokes,\n      colInfo: layout(cols, this.colDimImageInfos, this.colCellImageInfos),\n      rowInfo: layout(rows, this.rowDimImageInfos, this.rowCellImageInfos)\n    };\n    gi.uGridOffset = [gi.colInfo.dimOffset, gi.rowInfo.dimOffset];\n    return gi;\n  };\n};\n\np5.RendererGL.prototype._renderText = function(p, line, x, y, maxY) {\n  if (y >= maxY || !this._doFill) {\n    return; // don't render lines beyond our maxY position\n  }\n\n  if (!this._isOpenType()) {\n    console.log('WEBGL: only opentype fonts are supported');\n    return p;\n  }\n\n  p.push(); // fix to #803\n\n  // remember this state, so it can be restored later\n  var doStroke = this._doStroke;\n  var drawMode = this.drawMode;\n\n  this._doStroke = false;\n  this.drawMode = constants.TEXTURE;\n\n  // get the cached FontInfo object\n  var font = this._textFont.font;\n  var fontInfo = this._textFont._fontInfo;\n  if (!fontInfo) {\n    fontInfo = this._textFont._fontInfo = new FontInfo(font);\n  }\n\n  // calculate the alignment and move/scale the view accordingly\n  var pos = this._textFont._handleAlignment(this, line, x, y);\n  var fontSize = this._textSize;\n  var scale = fontSize / font.unitsPerEm;\n  this.translate(pos.x, pos.y, 0);\n  this.scale(scale, scale, 1);\n\n  // initialize the font shader\n  var gl = this.GL;\n  var initializeShader = !this._defaultFontShader;\n  var sh = this._getFontShader();\n  sh.init();\n\n  if (initializeShader) {\n    // these are constants, really. just initialize them one-time.\n    sh.setUniform('uGridImageSize', [gridImageWidth, gridImageHeight]);\n    sh.setUniform('uCellsImageSize', [cellImageWidth, cellImageHeight]);\n    sh.setUniform('uStrokeImageSize', [strokeImageWidth, strokeImageHeight]);\n    sh.setUniform('uGridSize', [charGridWidth, charGridHeight]);\n  }\n  this._applyColorBlend(this.curFillColor);\n\n  var g = this.gHash['glyph'];\n  if (!g) {\n    // create the geometry for rendering a quad\n    var geom = (this._textGeom = new p5.Geometry(1, 1, function() {\n      for (var i = 0; i <= 1; i++) {\n        for (var j = 0; j <= 1; j++) {\n          this.vertices.push(new p5.Vector(j, i, 0));\n          this.uvs.push(j, i);\n        }\n      }\n    }));\n    geom.computeFaces().computeNormals();\n    g = this.createBuffers('glyph', geom);\n  }\n\n  // bind the shader buffers\n  this._bindBuffer(g.vertexBuffer, gl.ARRAY_BUFFER);\n  sh.enableAttrib(sh.attributes.aPosition.location, 3, gl.FLOAT, false, 0, 0);\n  this._bindBuffer(g.indexBuffer, gl.ELEMENT_ARRAY_BUFFER);\n  this._bindBuffer(g.uvBuffer, gl.ARRAY_BUFFER);\n  sh.enableAttrib(sh.attributes.aTexCoord.location, 2, gl.FLOAT, false, 0, 0);\n\n  // this will have to do for now...\n  sh.setUniform('uMaterialColor', this.curFillColor);\n\n  try {\n    var dx = 0; // the x position in the line\n    var glyphPrev = null; // the previous glyph, used for kerning\n    var shaderBound = false;\n    // fetch the glyphs in the line of text\n    var glyphs = font.stringToGlyphs(line);\n    for (var ig = 0; ig < glyphs.length; ++ig) {\n      var glyph = glyphs[ig];\n      // kern\n      if (glyphPrev) dx += font.getKerningValue(glyphPrev, glyph);\n\n      var gi = fontInfo.getGlyphInfo(glyph);\n      if (gi.uGlyphRect) {\n        var rowInfo = gi.rowInfo;\n        var colInfo = gi.colInfo;\n        sh.setUniform('uSamplerStrokes', gi.strokeImageInfo.imageData);\n        sh.setUniform('uSamplerRowStrokes', rowInfo.cellImageInfo.imageData);\n        sh.setUniform('uSamplerRows', rowInfo.dimImageInfo.imageData);\n        sh.setUniform('uSamplerColStrokes', colInfo.cellImageInfo.imageData);\n        sh.setUniform('uSamplerCols', colInfo.dimImageInfo.imageData);\n        sh.setUniform('uGridOffset', gi.uGridOffset);\n        sh.setUniform('uGlyphRect', gi.uGlyphRect);\n        sh.setUniform('uGlyphOffset', dx);\n\n        if (!shaderBound) {\n          shaderBound = true;\n          sh.bindShader(); // first time around, bind the shader fully\n        } else {\n          sh.bindTextures(); // afterwards, only textures need updating\n        }\n\n        // draw it\n        gl.drawElements(gl.TRIANGLES, 6, this.GL.UNSIGNED_SHORT, 0);\n      }\n      dx += glyph.advanceWidth;\n      glyphPrev = glyph;\n    }\n  } finally {\n    // clean up\n    sh.unbindShader();\n\n    this._doStroke = doStroke;\n    this.drawMode = drawMode;\n\n    p.pop();\n  }\n\n  this._pixelsState._pixelsDirty = true;\n  return p;\n};\n",
          "filepath": "data/repos/processing/p5.js-0.8/src/webgl/text.js",
          "repo": "processing/p5.js",
          "version": "0.8",
          "chunk_index": 0,
          "chunk_id": "c34ade5f-8a32-4545-8d27-967fa2532252"
        }
      }
    ]
  },
  {
    "instance_id": "processing__p5.js-3680",
    "model_patch": "diff --git a/start of vertex.js b/start of vertex.js\n--- a/start of vertex.js\n+++ b/start of vertex.js\n@@ -1,6 +1,7 @@\n /**\n  * @module Shape\n  * @submodule Vertex\n+ * @requires webgl\n  * @for p5\n  * @requires core\n  * @requires constants\n@@ -16,6 +17,7 @@\n var shapeKind = null;\n var vertices = [];\n var contourVertices = [];\n+var isWebGL = false;\n var isBezier = false;\n var isCurve = false;\n var isQuadratic = false;\n@@ -61,6 +63,7 @@\n  * @alt\n  * white rect and smaller grey rect with red outlines in center of canvas.\n  *\n  */\n p5.prototype.beginContour = function() {\n   contourVertices = [];\n@@ -108,6 +111,7 @@\n  * @alt\n  * white square-shape with black outline in middle-right of canvas.\n  * 4 black points in a square shape in middle-right of canvas.\n  * 2 horizontal black lines. In the top-right and bottom-right of canvas.\n  * 3 line shape with horizontal on top, vertical in middle and horizontal bottom.\n  * square line shape in middle-right of canvas.\n  * 2 white triangle shapes mid-right canvas. left one pointing up and right down.\n@@ -126,6 +130,7 @@\n  * 3 side-by-side white rectangles center rect is smaller in mid-right canvas.\n  * Thick white l-shape with black outline mid-top-left of canvas.\n  *\n  */\n p5.prototype.beginShape = function(kind) {\n   p5._validateParameters('beginShape', arguments);\n   if (this._renderer.isP3D) {\n@@ -135,6 +140,7 @@\n     if (\n       kind === constants.POINTS ||\n       kind === constants.LINES ||\n       kind === constants.TRIANGLES ||\n       kind === constants.TRIANGLE_FAN ||\n       kind === constants.TRIANGLE_STRIP ||\n       kind === constants.QUADS ||\n@@ -148,6 +154,7 @@\n     } else {\n       shapeKind = null;\n     }\n \n     vertices = [];\n     contourVertices = [];\n+    isWebGL = this._renderer.isP3D;\n   }\n   return this;\n };\n@@ -379,6 +386,7 @@\n  * @alt\n  * 4 black points in a square shape in middle-right of canvas.\n  *\n  * <div>\n  * <code>\n  * createCanvas(100, 100, WEBGL);\n  * background(240, 240, 240);\n@@ -388,6 +396,7 @@\n  * vertex(0, 35);\n  * vertex(35, 0);\n  * vertex(0, -35);\n  * vertex(-35, 0);\n  * endShape();\n  * </code>\n  * </div>\n@@ -399,6 +408,7 @@\n  * <div>\n  * <code>\n  * createCanvas(100, 100, WEBGL);\n  * background(240, 240, 240);\n  * fill(237, 34, 93);\n  * noStroke();\n  * beginShape();\n@@ -407,6 +417,7 @@\n  * vertex(10, 10);\n  * vertex(35, 0);\n  * vertex(10, -8);\n  * vertex(0, -35);\n  * vertex(-10, -8);\n  * vertex(-35, 0);\n  * endShape();\n@@ -417,6 +428,7 @@\n  * <alt\n  * 8 points making a star\n  *\n  * <div>\n  * <code>\n  * strokeWeight(3);\n  * stroke(237, 34, 93);\n@@ -426,6 +438,7 @@\n  * vertex(10, 35);\n  * vertex(90, 35);\n  * vertex(10, 65);\n  * vertex(90, 65);\n  * vertex(35, 10);\n  * vertex(35, 90);\n  * vertex(65, 10);\n@@ -435,6 +448,7 @@\n  * endShape();\n  * </code>\n  * </div>\n  *\n  * @alt\n  * 8 points making 4 lines\n  *\n@@ -447,6 +461,7 @@\n  */\n p5.prototype.vertex = function(x, y, moveTo, u, v) {\n   if (this._renderer.isP3D) {\n     this._renderer.vertex.apply(this._renderer, arguments);\n   } else {\n     var vert = [];\n     vert.isVert = true;\n@@ -464,6 +479,7 @@\n     vert[6] = this._renderer._getStroke();\n \n     if (moveTo) {\n       vert.moveTo = moveTo;\n     }\n     if (isContour) {\n       if (contourVertices.length === 0) {\n@@ -473,6 +489,7 @@\n       contourVertices.push(vert);\n     } else {\n       vertices.push(vert);\n     }\n+    if (isWebGL) vert.push(0); // Ensure z-coordinate is set for WebGL\n   }\n   return this;\n };",
    "model_name_or_path": "text_bm25",
    "metrics": {
      "issue_embedding_time_ms": 0.0,
      "retrieval_time_ms_bm25": 181.67,
      "retrieval_time_ms": 181.67,
      "total_retrieval_time_ms": 181.67,
      "generation_time_ms": 9239.05,
      "total_io_time_ms": 9420.72,
      "input_total_token_limit": null,
      "issue_text_tokens": 481,
      "vlm_tokens": 0,
      "retrieved_tokens": 21220,
      "prompt_template_tokens": 509,
      "total_input_prompt_tokens": 22210,
      "output_generated_tokens": 1138,
      "total_io_tokens": 23348,
      "input_prompt_text": "[{\"type\": \"text\", \"text\": \"You will be provided with a partial code base and an issue statement explaining a problem to resolve.\\n<issue>\\nfill of certain shapes not working properly in Webgl mode \\n\\r\\n\\r\\n#### Nature of issue?\\r\\n\\r\\n- [x ] Found a bug\\r\\n- [ ] Existing feature enhancement\\r\\n- [ ] New feature request\\r\\n\\r\\n#### Most appropriate sub-area of p5.js?\\r\\n\\r\\n- [ ] Color\\r\\n- [ ] Core/Environment/Rendering\\r\\n- [ ] Data\\r\\n- [ ] Events\\r\\n- [ ] Image\\r\\n- [ ] IO\\r\\n- [ ] Math\\r\\n- [ ] Typography\\r\\n- [ ] Utilities\\r\\n- [ x] WebGL\\r\\n- [ ] Other (specify if possible)\\r\\n\\r\\n#### Which platform were you using when you encountered this?\\r\\n\\r\\n- [x ] Mobile/Tablet (touch devices)\\r\\n- [x ] Desktop/Laptop\\r\\n- [ ] Others (specify if possible)\\r\\n\\r\\n#### Details about the bug: \\r\\n\\r\\n- p5.js version 0.7.3: \\r\\n- Steps to reproduce this:\\r\\n\\r\\n\\r\\n**Here is a minimal working example**. It should draw the letter C (works in 2D), but in WEBGL it creates a strange fill from the lower extremity of the C letter to the origin (top left of the letter).\\r\\nAn example can be seen in <https://codepen.io/sixhat/pen/NmNgLj>\\r\\n\\r\\n<img width=\\\"346\\\" alt=\\\"p5-webgl-bug-fill\\\" src=\\\"https://user-images.githubusercontent.com/614881/55618773-373a0580-578f-11e9-9126-27b137dbc7ca.png\\\">\\r\\n\\r\\n\\r\\n```javascript\\r\\nlet points;\\r\\nfunction setup(){\\r\\n\\tcreateCanvas(innerWidth, innerHeight, WEBGL);\\r\\n\\t points = [\\r\\n\\t\\t{x: 0, y:0},\\r\\n\\t\\t{x: 4, y:0},\\r\\n\\t\\t{x: 4, y:1},\\r\\n\\t\\t{x: 1, y:1},\\r\\n\\t\\t{x: 1, y:2},\\r\\n\\t\\t{x: 4, y:2},\\r\\n\\t\\t{x: 4, y:3},\\r\\n\\t\\t{x: 0, y:3},\\r\\n\\t];\\r\\n}\\r\\n\\r\\nfunction draw(){\\r\\n\\tbackground(\\\"gray\\\");\\r\\n\\r\\n\\tbeginShape()\\r\\n\\tfor(let p of points){\\r\\n\\t\\tvertex(p.x*30,p.y*30, 0);\\r\\n\\t} \\r\\n\\tendShape(CLOSE)\\r\\n}\\r\\n```\\r\\n\\r\\n\\r\\n#### Feature enhancement details:\\r\\n\\r\\n\\r\\n\\r\\n#### New feature details:\\r\\n\\r\\n\\n\\n</issue>\\n\\n<code>\\n[start of ISSUE_TEMPLATE.md]\\n<!--\\nHi there! \\n\\nPLEASE NOTE: The github issues are for bugs and feature requests for the p5.js library itself. If you have a general question or bug programming with p5.js please post it in the p5.js forum: https://forum.processing.org/two/.\\n\\nTo check any option, replace the \\\"[ ]\\\" with a \\\"[x]\\\". Be sure to check out how it looks in the Preview tab! Feel free to remove any portion of the template that is not relevant for your issue.\\n-->\\n\\n#### Nature of issue?\\n\\n- [ ] Found a bug\\n- [ ] Existing feature enhancement\\n- [ ] New feature request\\n\\n#### Most appropriate sub-area of p5.js?\\n\\n- [ ] Color\\n- [ ] Core/Environment/Rendering\\n- [ ] Data\\n- [ ] Events\\n- [ ] Image\\n- [ ] IO\\n- [ ] Math\\n- [ ] Typography\\n- [ ] Utilities\\n- [ ] WebGL\\n- [ ] Other (specify if possible)\\n\\n#### Which platform were you using when you encountered this?\\n\\n- [ ] Mobile/Tablet (touch devices)\\n- [ ] Desktop/Laptop\\n- [ ] Others (specify if possible)\\n\\n#### Details about the bug: \\n\\n- p5.js version: <!-- You can first this in the first line of the p5.js file -->\\n- Web browser and version: <!-- On Chrome/FireFox/Opera you can enter \\\"about:\\\" in the address bar to find out the version -->\\n- Operating System: <!-- Ex: Windows/MacOSX/Linux along with version -->\\n- Steps to reproduce this:\\n<!-- Include a simple code snippet that demonstrates the problem, along with any console errors produced. If this isn't possible, then simply describe the issue as best you can! -->\\n\\n<!-- If you want to enhance an existing feature, please describe here, otherwise remove this section -->\\n#### Feature enhancement details:\\n\\n\\n<!-- If you want to request a new feature, please describe here, otherwise remove this section -->\\n#### New feature details:\\n\\n\\n[end of ISSUE_TEMPLATE.md]\\n[start of vertex.js]\\n/**\\n * @module Shape\\n * @submodule Vertex\\n * @for p5\\n * @requires core\\n * @requires constants\\n */\\n\\n'use strict';\\n\\nvar p5 = require('../main');\\nvar constants = require('../constants');\\nvar shapeKind = null;\\nvar vertices = [];\\nvar contourVertices = [];\\nvar isBezier = false;\\nvar isCurve = false;\\nvar isQuadratic = false;\\nvar isContour = false;\\nvar isFirstContour = true;\\n\\n/**\\n * Use the <a href=\\\"#/p5/beginContour\\\">beginContour()</a> and <a href=\\\"#/p5/endContour\\\">endContour()</a> functions to create negative\\n * shapes within shapes such as the center of the letter 'O'. <a href=\\\"#/p5/beginContour\\\">beginContour()</a>\\n * begins recording vertices for the shape and <a href=\\\"#/p5/endContour\\\">endContour()</a> stops recording.\\n * The vertices that define a negative shape must \\\"wind\\\" in the opposite\\n * direction from the exterior shape. First draw vertices for the exterior\\n * clockwise order, then for internal shapes, draw vertices\\n * shape in counter-clockwise.\\n * <br><br>\\n * These functions can only be used within a <a href=\\\"#/p5/beginShape\\\">beginShape()</a>/<a href=\\\"#/p5/endShape\\\">endShape()</a> pair and\\n * transformations such as <a href=\\\"#/p5/translate\\\">translate()</a>, <a href=\\\"#/p5/rotate\\\">rotate()</a>, and <a href=\\\"#/p5/scale\\\">scale()</a> do not work\\n * within a <a href=\\\"#/p5/beginContour\\\">beginContour()</a>/<a href=\\\"#/p5/endContour\\\">endContour()</a> pair. It is also not possible to use\\n * other shapes, such as <a href=\\\"#/p5/ellipse\\\">ellipse()</a> or <a href=\\\"#/p5/rect\\\">rect()</a> within.\\n *\\n * @method beginContour\\n * @chainable\\n * @example\\n * <div>\\n * <code>\\n * translate(50, 50);\\n * stroke(255, 0, 0);\\n * beginShape();\\n * // Exterior part of shape, clockwise winding\\n * vertex(-40, -40);\\n * vertex(40, -40);\\n * vertex(40, 40);\\n * vertex(-40, 40);\\n * // Interior part of shape, counter-clockwise winding\\n * beginContour();\\n * vertex(-20, -20);\\n * vertex(-20, 20);\\n * vertex(20, 20);\\n * vertex(20, -20);\\n * endContour();\\n * endShape(CLOSE);\\n * </code>\\n * </div>\\n *\\n * @alt\\n * white rect and smaller grey rect with red outlines in center of canvas.\\n *\\n */\\np5.prototype.beginContour = function() {\\n  contourVertices = [];\\n  isContour = true;\\n  return this;\\n};\\n\\n/**\\n * Using the <a href=\\\"#/p5/beginShape\\\">beginShape()</a> and <a href=\\\"#/p5/endShape\\\">endShape()</a> functions allow creating more\\n * complex forms. <a href=\\\"#/p5/beginShape\\\">beginShape()</a> begins recording vertices for a shape and\\n * <a href=\\\"#/p5/endShape\\\">endShape()</a> stops recording. The value of the kind parameter tells it which\\n * types of shapes to create from the provided vertices. With no mode\\n * specified, the shape can be any irregular polygon.\\n * <br><br>\\n * The parameters available for <a href=\\\"#/p5/beginShape\\\">beginShape()</a> are POINTS, LINES, TRIANGLES,\\n * TRIANGLE_FAN, TRIANGLE_STRIP, QUADS, and QUAD_STRIP. After calling the\\n * <a href=\\\"#/p5/beginShape\\\">beginShape()</a> function, a series of <a href=\\\"#/p5/vertex\\\">vertex()</a> commands must follow. To stop\\n * drawing the shape, call <a href=\\\"#/p5/endShape\\\">endShape()</a>. Each shape will be outlined with the\\n * current stroke color and filled with the fill color.\\n * <br><br>\\n * Transformations such as <a href=\\\"#/p5/translate\\\">translate()</a>, <a href=\\\"#/p5/rotate\\\">rotate()</a>, and <a href=\\\"#/p5/scale\\\">scale()</a> do not work\\n * within <a href=\\\"#/p5/beginShape\\\">beginShape()</a>. It is also not possible to use other shapes, such as\\n * <a href=\\\"#/p5/ellipse\\\">ellipse()</a> or <a href=\\\"#/p5/rect\\\">rect()</a> within <a href=\\\"#/p5/beginShape\\\">beginShape()</a>.\\n *\\n * @method beginShape\\n * @param  {Constant} [kind] either POINTS, LINES, TRIANGLES, TRIANGLE_FAN\\n *                                TRIANGLE_STRIP, QUADS, or QUAD_STRIP\\n * @chainable\\n * @example\\n * <div>\\n * <code>\\n * beginShape();\\n * vertex(30, 20);\\n * vertex(85, 20);\\n * vertex(85, 75);\\n * vertex(30, 75);\\n * endShape(CLOSE);\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * beginShape(POINTS);\\n * vertex(30, 20);\\n * vertex(85, 20);\\n * vertex(85, 75);\\n * vertex(30, 75);\\n * endShape();\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * beginShape(LINES);\\n * vertex(30, 20);\\n * vertex(85, 20);\\n * vertex(85, 75);\\n * vertex(30, 75);\\n * endShape();\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * noFill();\\n * beginShape();\\n * vertex(30, 20);\\n * vertex(85, 20);\\n * vertex(85, 75);\\n * vertex(30, 75);\\n * endShape();\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * noFill();\\n * beginShape();\\n * vertex(30, 20);\\n * vertex(85, 20);\\n * vertex(85, 75);\\n * vertex(30, 75);\\n * endShape(CLOSE);\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * beginShape(TRIANGLES);\\n * vertex(30, 75);\\n * vertex(40, 20);\\n * vertex(50, 75);\\n * vertex(60, 20);\\n * vertex(70, 75);\\n * vertex(80, 20);\\n * endShape();\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * beginShape(TRIANGLE_STRIP);\\n * vertex(30, 75);\\n * vertex(40, 20);\\n * vertex(50, 75);\\n * vertex(60, 20);\\n * vertex(70, 75);\\n * vertex(80, 20);\\n * vertex(90, 75);\\n * endShape();\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * beginShape(TRIANGLE_FAN);\\n * vertex(57.5, 50);\\n * vertex(57.5, 15);\\n * vertex(92, 50);\\n * vertex(57.5, 85);\\n * vertex(22, 50);\\n * vertex(57.5, 15);\\n * endShape();\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * beginShape(QUADS);\\n * vertex(30, 20);\\n * vertex(30, 75);\\n * vertex(50, 75);\\n * vertex(50, 20);\\n * vertex(65, 20);\\n * vertex(65, 75);\\n * vertex(85, 75);\\n * vertex(85, 20);\\n * endShape();\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * beginShape(QUAD_STRIP);\\n * vertex(30, 20);\\n * vertex(30, 75);\\n * vertex(50, 20);\\n * vertex(50, 75);\\n * vertex(65, 20);\\n * vertex(65, 75);\\n * vertex(85, 20);\\n * vertex(85, 75);\\n * endShape();\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * beginShape();\\n * vertex(20, 20);\\n * vertex(40, 20);\\n * vertex(40, 40);\\n * vertex(60, 40);\\n * vertex(60, 60);\\n * vertex(20, 60);\\n * endShape(CLOSE);\\n * </code>\\n * </div>\\n * @alt\\n * white square-shape with black outline in middle-right of canvas.\\n * 4 black points in a square shape in middle-right of canvas.\\n * 2 horizontal black lines. In the top-right and bottom-right of canvas.\\n * 3 line shape with horizontal on top, vertical in middle and horizontal bottom.\\n * square line shape in middle-right of canvas.\\n * 2 white triangle shapes mid-right canvas. left one pointing up and right down.\\n * 5 horizontal interlocking and alternating white triangles in mid-right canvas.\\n * 4 interlocking white triangles in 45 degree rotated square-shape.\\n * 2 white rectangle shapes in mid-right canvas. Both 20x55.\\n * 3 side-by-side white rectangles center rect is smaller in mid-right canvas.\\n * Thick white l-shape with black outline mid-top-left of canvas.\\n *\\n */\\np5.prototype.beginShape = function(kind) {\\n  p5._validateParameters('beginShape', arguments);\\n  if (this._renderer.isP3D) {\\n    this._renderer.beginShape.apply(this._renderer, arguments);\\n  } else {\\n    if (\\n      kind === constants.POINTS ||\\n      kind === constants.LINES ||\\n      kind === constants.TRIANGLES ||\\n      kind === constants.TRIANGLE_FAN ||\\n      kind === constants.TRIANGLE_STRIP ||\\n      kind === constants.QUADS ||\\n      kind === constants.QUAD_STRIP\\n    ) {\\n      shapeKind = kind;\\n    } else {\\n      shapeKind = null;\\n    }\\n\\n    vertices = [];\\n    contourVertices = [];\\n  }\\n  return this;\\n};\\n\\n/**\\n * Specifies vertex coordinates for Bezier curves. Each call to\\n * <a href=\\\"#/p5/bezierVertex\\\">bezierVertex()</a> defines the position of two control points and\\n * one anchor point of a Bezier curve, adding a new segment to a\\n * line or shape.\\n * <br><br>\\n * The first time <a href=\\\"#/p5/bezierVertex\\\">bezierVertex()</a> is used within a\\n * <a href=\\\"#/p5/beginShape\\\">beginShape()</a> call, it must be prefaced with a call to <a href=\\\"#/p5/vertex\\\">vertex()</a>\\n * to set the first anchor point. This function must be used between\\n * <a href=\\\"#/p5/beginShape\\\">beginShape()</a> and <a href=\\\"#/p5/endShape\\\">endShape()</a> and only when there is no MODE\\n * parameter specified to <a href=\\\"#/p5/beginShape\\\">beginShape()</a>.\\n *\\n * @method bezierVertex\\n * @param  {Number} x2 x-coordinate for the first control point\\n * @param  {Number} y2 y-coordinate for the first control point\\n * @param  {Number} x3 x-coordinate for the second control point\\n * @param  {Number} y3 y-coordinate for the second control point\\n * @param  {Number} x4 x-coordinate for the anchor point\\n * @param  {Number} y4 y-coordinate for the anchor point\\n * @chainable\\n * @example\\n * <div>\\n * <code>\\n * strokeWeight(5);\\n * point(30, 20);\\n * point(80, 20);\\n * point(80, 75);\\n * point(30, 75);\\n *\\n * strokeWeight(1);\\n * noFill();\\n * beginShape();\\n * vertex(30, 20);\\n * bezierVertex(80, 20, 80, 75, 30, 75);\\n * endShape();\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * strokeWeight(5);\\n * point(30, 20);\\n * point(80, 20);\\n * point(80, 75);\\n * point(30, 75);\\n *\\n * stroke(244, 122, 158);\\n * point(50, 80);\\n * point(60, 25);\\n * point(30, 20);\\n *\\n * stroke(0);\\n * strokeWeight(1);\\n * beginShape();\\n * vertex(30, 20);\\n * bezierVertex(80, 20, 80, 75, 30, 75);\\n * bezierVertex(50, 80, 60, 25, 30, 20);\\n * endShape();\\n * </code>\\n * </div>\\n *\\n * @alt\\n * crescent-shaped line in middle of canvas. Points facing left.\\n * white crescent shape in middle of canvas. Points facing left.\\n *\\n */\\np5.prototype.bezierVertex = function(x2, y2, x3, y3, x4, y4) {\\n  p5._validateParameters('bezierVertex', arguments);\\n  if (vertices.length === 0) {\\n    throw new Error('vertex() must be used once before calling bezierVertex()');\\n  } else {\\n    isBezier = true;\\n    var vert = [];\\n    for (var i = 0; i < arguments.length; i++) {\\n      vert[i] = arguments[i];\\n    }\\n    vert.isVert = false;\\n    if (isContour) {\\n      contourVertices.push(vert);\\n    } else {\\n      vertices.push(vert);\\n    }\\n  }\\n  return this;\\n};\\n\\n/**\\n * Specifies vertex coordinates for curves. This function may only\\n * be used between <a href=\\\"#/p5/beginShape\\\">beginShape()</a> and <a href=\\\"#/p5/endShape\\\">endShape()</a> and only when there\\n * is no MODE parameter specified to <a href=\\\"#/p5/beginShape\\\">beginShape()</a>.\\n * <br><br>\\n * The first and last points in a series of <a href=\\\"#/p5/curveVertex\\\">curveVertex()</a> lines will be used to\\n * guide the beginning and end of a the curve. A minimum of four\\n * points is required to draw a tiny curve between the second and\\n * third points. Adding a fifth point with <a href=\\\"#/p5/curveVertex\\\">curveVertex()</a> will draw\\n * the curve between the second, third, and fourth points. The\\n * <a href=\\\"#/p5/curveVertex\\\">curveVertex()</a> function is an implementation of Catmull-Rom\\n * splines.\\n *\\n * @method curveVertex\\n * @param {Number} x x-coordinate of the vertex\\n * @param {Number} y y-coordinate of the vertex\\n * @chainable\\n * @example\\n * <div>\\n * <code>\\n * strokeWeight(5);\\n * point(84, 91);\\n * point(68, 19);\\n * point(21, 17);\\n * point(32, 91);\\n * strokeWeight(1);\\n *\\n * noFill();\\n * beginShape();\\n * curveVertex(84, 91);\\n * curveVertex(84, 91);\\n * curveVertex(68, 19);\\n * curveVertex(21, 17);\\n * curveVertex(32, 91);\\n * curveVertex(32, 91);\\n * endShape();\\n * </code>\\n * </div>\\n *\\n *\\n * @alt\\n * Upside-down u-shape line, mid canvas. left point extends beyond canvas view.\\n *\\n */\\np5.prototype.curveVertex = function(x, y) {\\n  p5._validateParameters('curveVertex', arguments);\\n  isCurve = true;\\n  this.vertex(x, y);\\n  return this;\\n};\\n\\n/**\\n * Use the <a href=\\\"#/p5/beginContour\\\">beginContour()</a> and <a href=\\\"#/p5/endContour\\\">endContour()</a> functions to create negative\\n * shapes within shapes such as the center of the letter 'O'. <a href=\\\"#/p5/beginContour\\\">beginContour()</a>\\n * begins recording vertices for the shape and <a href=\\\"#/p5/endContour\\\">endContour()</a> stops recording.\\n * The vertices that define a negative shape must \\\"wind\\\" in the opposite\\n * direction from the exterior shape. First draw vertices for the exterior\\n * clockwise order, then for internal shapes, draw vertices\\n * shape in counter-clockwise.\\n * <br><br>\\n * These functions can only be used within a <a href=\\\"#/p5/beginShape\\\">beginShape()</a>/<a href=\\\"#/p5/endShape\\\">endShape()</a> pair and\\n * transformations such as <a href=\\\"#/p5/translate\\\">translate()</a>, <a href=\\\"#/p5/rotate\\\">rotate()</a>, and <a href=\\\"#/p5/scale\\\">scale()</a> do not work\\n * within a <a href=\\\"#/p5/beginContour\\\">beginContour()</a>/<a href=\\\"#/p5/endContour\\\">endContour()</a> pair. It is also not possible to use\\n * other shapes, such as <a href=\\\"#/p5/ellipse\\\">ellipse()</a> or <a href=\\\"#/p5/rect\\\">rect()</a> within.\\n *\\n * @method endContour\\n * @chainable\\n * @example\\n * <div>\\n * <code>\\n * translate(50, 50);\\n * stroke(255, 0, 0);\\n * beginShape();\\n * // Exterior part of shape, clockwise winding\\n * vertex(-40, -40);\\n * vertex(40, -40);\\n * vertex(40, 40);\\n * vertex(-40, 40);\\n * // Interior part of shape, counter-clockwise winding\\n * beginContour();\\n * vertex(-20, -20);\\n * vertex(-20, 20);\\n * vertex(20, 20);\\n * vertex(20, -20);\\n * endContour();\\n * endShape(CLOSE);\\n * </code>\\n * </div>\\n *\\n * @alt\\n * white rect and smaller grey rect with red outlines in center of canvas.\\n *\\n */\\np5.prototype.endContour = function() {\\n  var vert = contourVertices[0].slice(); // copy all data\\n  vert.isVert = contourVertices[0].isVert;\\n  vert.moveTo = false;\\n  contourVertices.push(vert);\\n\\n  // prevent stray lines with multiple contours\\n  if (isFirstContour) {\\n    vertices.push(vertices[0]);\\n    isFirstContour = false;\\n  }\\n\\n  for (var i = 0; i < contourVertices.length; i++) {\\n    vertices.push(contourVertices[i]);\\n  }\\n  return this;\\n};\\n\\n/**\\n * The <a href=\\\"#/p5/endShape\\\">endShape()</a> function is the companion to <a href=\\\"#/p5/beginShape\\\">beginShape()</a> and may only be\\n * called after <a href=\\\"#/p5/beginShape\\\">beginShape()</a>. When <a href=\\\"#/p5/endshape\\\">endshape()</a> is called, all of image data\\n * defined since the previous call to <a href=\\\"#/p5/beginShape\\\">beginShape()</a> is written into the image\\n * buffer. The constant CLOSE as the value for the MODE parameter to close\\n * the shape (to connect the beginning and the end).\\n *\\n * @method endShape\\n * @param  {Constant} [mode] use CLOSE to close the shape\\n * @chainable\\n * @example\\n * <div>\\n * <code>\\n * noFill();\\n *\\n * beginShape();\\n * vertex(20, 20);\\n * vertex(45, 20);\\n * vertex(45, 80);\\n * endShape(CLOSE);\\n *\\n * beginShape();\\n * vertex(50, 20);\\n * vertex(75, 20);\\n * vertex(75, 80);\\n * endShape();\\n * </code>\\n * </div>\\n *\\n * @alt\\n * Triangle line shape with smallest interior angle on bottom and upside-down L.\\n *\\n */\\np5.prototype.endShape = function(mode) {\\n  p5._validateParameters('endShape', arguments);\\n  if (this._renderer.isP3D) {\\n    this._renderer.endShape(\\n      mode,\\n      isCurve,\\n      isBezier,\\n      isQuadratic,\\n      isContour,\\n      shapeKind\\n    );\\n  } else {\\n    if (vertices.length === 0) {\\n      return this;\\n    }\\n    if (!this._renderer._doStroke && !this._renderer._doFill) {\\n      return this;\\n    }\\n\\n    var closeShape = mode === constants.CLOSE;\\n\\n    // if the shape is closed, the first element is also the last element\\n    if (closeShape && !isContour) {\\n      vertices.push(vertices[0]);\\n    }\\n\\n    this._renderer.endShape(\\n      mode,\\n      vertices,\\n      isCurve,\\n      isBezier,\\n      isQuadratic,\\n      isContour,\\n      shapeKind\\n    );\\n\\n    // Reset some settings\\n    isCurve = false;\\n    isBezier = false;\\n    isQuadratic = false;\\n    isContour = false;\\n    isFirstContour = true;\\n\\n    // If the shape is closed, the first element was added as last element.\\n    // We must remove it again to prevent the list of vertices from growing\\n    // over successive calls to endShape(CLOSE)\\n    if (closeShape) {\\n      vertices.pop();\\n    }\\n  }\\n  return this;\\n};\\n\\n/**\\n * Specifies vertex coordinates for quadratic Bezier curves. Each call to\\n * <a href=\\\"#/p5/quadraticVertex\\\">quadraticVertex()</a> defines the position of one control points and one\\n * anchor point of a Bezier curve, adding a new segment to a line or shape.\\n * The first time <a href=\\\"#/p5/quadraticVertex\\\">quadraticVertex()</a> is used within a <a href=\\\"#/p5/beginShape\\\">beginShape()</a> call, it\\n * must be prefaced with a call to <a href=\\\"#/p5/vertex\\\">vertex()</a> to set the first anchor point.\\n * This function must be used between <a href=\\\"#/p5/beginShape\\\">beginShape()</a> and <a href=\\\"#/p5/endShape\\\">endShape()</a> and only\\n * when there is no MODE parameter specified to <a href=\\\"#/p5/beginShape\\\">beginShape()</a>.\\n *\\n * @method quadraticVertex\\n * @param  {Number} cx x-coordinate for the control point\\n * @param  {Number} cy y-coordinate for the control point\\n * @param  {Number} x3 x-coordinate for the anchor point\\n * @param  {Number} y3 y-coordinate for the anchor point\\n * @chainable\\n * @example\\n * <div>\\n * <code>\\n * strokeWeight(5);\\n * point(20, 20);\\n * point(80, 20);\\n * point(50, 50);\\n *\\n * noFill();\\n * strokeWeight(1);\\n * beginShape();\\n * vertex(20, 20);\\n * quadraticVertex(80, 20, 50, 50);\\n * endShape();\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * strokeWeight(5);\\n * point(20, 20);\\n * point(80, 20);\\n * point(50, 50);\\n *\\n * point(20, 80);\\n * point(80, 80);\\n * point(80, 60);\\n *\\n * noFill();\\n * strokeWeight(1);\\n * beginShape();\\n * vertex(20, 20);\\n * quadraticVertex(80, 20, 50, 50);\\n * quadraticVertex(20, 80, 80, 80);\\n * vertex(80, 60);\\n * endShape();\\n * </code>\\n * </div>\\n *\\n * @alt\\n * arched-shaped black line with 4 pixel thick stroke weight.\\n * backwards s-shaped black line with 4 pixel thick stroke weight.\\n *\\n */\\np5.prototype.quadraticVertex = function(cx, cy, x3, y3) {\\n  p5._validateParameters('quadraticVertex', arguments);\\n  //if we're drawing a contour, put the points into an\\n  // array for inside drawing\\n  if (this._contourInited) {\\n    var pt = {};\\n    pt.x = cx;\\n    pt.y = cy;\\n    pt.x3 = x3;\\n    pt.y3 = y3;\\n    pt.type = constants.QUADRATIC;\\n    this._contourVertices.push(pt);\\n\\n    return this;\\n  }\\n  if (vertices.length > 0) {\\n    isQuadratic = true;\\n    var vert = [];\\n    for (var i = 0; i < arguments.length; i++) {\\n      vert[i] = arguments[i];\\n    }\\n    vert.isVert = false;\\n    if (isContour) {\\n      contourVertices.push(vert);\\n    } else {\\n      vertices.push(vert);\\n    }\\n  } else {\\n    throw new Error(\\n      'vertex() must be used once before calling quadraticVertex()'\\n    );\\n  }\\n  return this;\\n};\\n\\n/**\\n * All shapes are constructed by connecting a series of vertices. <a href=\\\"#/p5/vertex\\\">vertex()</a>\\n * is used to specify the vertex coordinates for points, lines, triangles,\\n * quads, and polygons. It is used exclusively within the <a href=\\\"#/p5/beginShape\\\">beginShape()</a> and\\n * <a href=\\\"#/p5/endShape\\\">endShape()</a> functions.\\n *\\n * @method vertex\\n * @param  {Number} x x-coordinate of the vertex\\n * @param  {Number} y y-coordinate of the vertex\\n * @chainable\\n * @example\\n * <div>\\n * <code>\\n * strokeWeight(3);\\n * beginShape(POINTS);\\n * vertex(30, 20);\\n * vertex(85, 20);\\n * vertex(85, 75);\\n * vertex(30, 75);\\n * endShape();\\n * </code>\\n * </div>\\n *\\n * @alt\\n * 4 black points in a square shape in middle-right of canvas.\\n *\\n * <div>\\n * <code>\\n * createCanvas(100, 100, WEBGL);\\n * background(240, 240, 240);\\n * fill(237, 34, 93);\\n * noStroke();\\n * beginShape();\\n * vertex(0, 35);\\n * vertex(35, 0);\\n * vertex(0, -35);\\n * vertex(-35, 0);\\n * endShape();\\n * </code>\\n * </div>\\n *\\n * @alt\\n * 4 points making a diamond shape\\n *\\n * <div>\\n * <code>\\n * createCanvas(100, 100, WEBGL);\\n * background(240, 240, 240);\\n * fill(237, 34, 93);\\n * noStroke();\\n * beginShape();\\n * vertex(-10, 10);\\n * vertex(0, 35);\\n * vertex(10, 10);\\n * vertex(35, 0);\\n * vertex(10, -8);\\n * vertex(0, -35);\\n * vertex(-10, -8);\\n * vertex(-35, 0);\\n * endShape();\\n * </code>\\n * </div>\\n *\\n * @alt\\n * 8 points making a star\\n *\\n * <div>\\n * <code>\\n * strokeWeight(3);\\n * stroke(237, 34, 93);\\n * beginShape(LINES);\\n * vertex(10, 35);\\n * vertex(90, 35);\\n * vertex(10, 65);\\n * vertex(90, 65);\\n * vertex(35, 10);\\n * vertex(35, 90);\\n * vertex(65, 10);\\n * vertex(65, 90);\\n * endShape();\\n * </code>\\n * </div>\\n *\\n * @alt\\n * 8 points making 4 lines\\n *\\n */\\n/**\\n * @method vertex\\n * @param  {Number} x\\n * @param  {Number} y\\n * @param  {Number} z   z-coordinate of the vertex\\n * @param  {Number} [u] the vertex's texture u-coordinate\\n * @param  {Number} [v] the vertex's texture v-coordinate\\n * @chainable\\n */\\np5.prototype.vertex = function(x, y, moveTo, u, v) {\\n  if (this._renderer.isP3D) {\\n    this._renderer.vertex.apply(this._renderer, arguments);\\n  } else {\\n    var vert = [];\\n    vert.isVert = true;\\n    vert[0] = x;\\n    vert[1] = y;\\n    vert[2] = 0;\\n    vert[3] = 0;\\n    vert[4] = 0;\\n    vert[5] = this._renderer._getFill();\\n    vert[6] = this._renderer._getStroke();\\n\\n    if (moveTo) {\\n      vert.moveTo = moveTo;\\n    }\\n    if (isContour) {\\n      if (contourVertices.length === 0) {\\n        vert.moveTo = true;\\n      }\\n      contourVertices.push(vert);\\n    } else {\\n      vertices.push(vert);\\n    }\\n  }\\n  return this;\\n};\\n\\nmodule.exports = p5;\\n\\n[end of vertex.js]\\n[start of pixels.js]\\n/**\\n * @module Image\\n * @submodule Pixels\\n * @for p5\\n * @requires core\\n */\\n\\n'use strict';\\n\\nvar p5 = require('../core/main');\\nvar Filters = require('./filters');\\nrequire('../color/p5.Color');\\n\\n/**\\n * <a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference\\n * /Global_Objects/Uint8ClampedArray' target='_blank'>Uint8ClampedArray</a>\\n * containing the values for all the pixels in the display window.\\n * These values are numbers. This array is the size (include an appropriate\\n * factor for <a href=\\\"#/p5/pixelDensity\\\">pixelDensity</a>) of the display window x4,\\n * representing the R, G, B, A values in order for each pixel, moving from\\n * left to right across each row, then down each column. Retina and other\\n * high density displays will have more pixels[] (by a factor of\\n * pixelDensity^2).\\n * For example, if the image is 100x100 pixels, there will be 40,000. On a\\n * retina display, there will be 160,000.\\n * <br><br>\\n * The first four values (indices 0-3) in the array will be the R, G, B, A\\n * values of the pixel at (0, 0). The second four values (indices 4-7) will\\n * contain the R, G, B, A values of the pixel at (1, 0). More generally, to\\n * set values for a pixel at (x, y):\\n * ```javascript\\n * var d = pixelDensity();\\n * for (var i = 0; i < d; i++) {\\n *   for (var j = 0; j < d; j++) {\\n *     // loop over\\n *     idx = 4 * ((y * d + j) * width * d + (x * d + i));\\n *     pixels[idx] = r;\\n *     pixels[idx+1] = g;\\n *     pixels[idx+2] = b;\\n *     pixels[idx+3] = a;\\n *   }\\n * }\\n * ```\\n * <p>While the above method is complex, it is flexible enough to work with\\n * any pixelDensity. Note that <a href=\\\"#/p5/set\\\">set()</a> will automatically take care of\\n * setting all the appropriate values in <a href=\\\"#/p5/pixels\\\">pixels[]</a> for a given (x, y) at\\n * any pixelDensity, but the performance may not be as fast when lots of\\n * modifications are made to the pixel array.\\n * <br><br>\\n * Before accessing this array, the data must loaded with the <a href=\\\"#/p5/loadPixels\\\">loadPixels()</a>\\n * function. After the array data has been modified, the <a href=\\\"#/p5/updatePixels\\\">updatePixels()</a>\\n * function must be run to update the changes.\\n * <br><br>\\n * Note that this is not a standard javascript array.  This means that\\n * standard javascript functions such as <a href=\\\"#/p5/slice\\\">slice()</a> or\\n * <a href=\\\"#/p5/arrayCopy\\\">arrayCopy()</a> do not\\n * work.</p>\\n *\\n * @property {Number[]} pixels\\n * @example\\n * <div>\\n * <code>\\n * var pink = color(255, 102, 204);\\n * loadPixels();\\n * var d = pixelDensity();\\n * var halfImage = 4 * (width * d) * (height / 2 * d);\\n * for (var i = 0; i < halfImage; i += 4) {\\n *   pixels[i] = red(pink);\\n *   pixels[i + 1] = green(pink);\\n *   pixels[i + 2] = blue(pink);\\n *   pixels[i + 3] = alpha(pink);\\n * }\\n * updatePixels();\\n * </code>\\n * </div>\\n *\\n * @alt\\n * top half of canvas pink, bottom grey\\n *\\n */\\np5.prototype.pixels = [];\\n\\n/**\\n * Copies a region of pixels from one image to another, using a specified\\n * blend mode to do the operation.\\n *\\n * @method blend\\n * @param  {p5.Image} srcImage source image\\n * @param  {Integer} sx X coordinate of the source's upper left corner\\n * @param  {Integer} sy Y coordinate of the source's upper left corner\\n * @param  {Integer} sw source image width\\n * @param  {Integer} sh source image height\\n * @param  {Integer} dx X coordinate of the destination's upper left corner\\n * @param  {Integer} dy Y coordinate of the destination's upper left corner\\n * @param  {Integer} dw destination image width\\n * @param  {Integer} dh destination image height\\n * @param  {Constant} blendMode the blend mode. either\\n *     BLEND, DARKEST, LIGHTEST, DIFFERENCE,\\n *     MULTIPLY, EXCLUSION, SCREEN, REPLACE, OVERLAY, HARD_LIGHT,\\n *     SOFT_LIGHT, DODGE, BURN, ADD or NORMAL.\\n *\\n * @example\\n * <div><code>\\n * var img0;\\n * var img1;\\n *\\n * function preload() {\\n *   img0 = loadImage('assets/rockies.jpg');\\n *   img1 = loadImage('assets/bricks_third.jpg');\\n * }\\n *\\n * function setup() {\\n *   background(img0);\\n *   image(img1, 0, 0);\\n *   blend(img1, 0, 0, 33, 100, 67, 0, 33, 100, LIGHTEST);\\n * }\\n * </code></div>\\n * <div><code>\\n * var img0;\\n * var img1;\\n *\\n * function preload() {\\n *   img0 = loadImage('assets/rockies.jpg');\\n *   img1 = loadImage('assets/bricks_third.jpg');\\n * }\\n *\\n * function setup() {\\n *   background(img0);\\n *   image(img1, 0, 0);\\n *   blend(img1, 0, 0, 33, 100, 67, 0, 33, 100, DARKEST);\\n * }\\n * </code></div>\\n * <div><code>\\n * var img0;\\n * var img1;\\n *\\n * function preload() {\\n *   img0 = loadImage('assets/rockies.jpg');\\n *   img1 = loadImage('assets/bricks_third.jpg');\\n * }\\n *\\n * function setup() {\\n *   background(img0);\\n *   image(img1, 0, 0);\\n *   blend(img1, 0, 0, 33, 100, 67, 0, 33, 100, ADD);\\n * }\\n * </code></div>\\n *\\n * @alt\\n * image of rocky mountains. Brick images on left and right. Right overexposed\\n * image of rockies. Brickwall images on left and right. Right mortar transparent\\n * image of rockies. Brickwall images on left and right. Right translucent\\n *\\n *\\n */\\n/**\\n * @method blend\\n * @param  {Integer} sx\\n * @param  {Integer} sy\\n * @param  {Integer} sw\\n * @param  {Integer} sh\\n * @param  {Integer} dx\\n * @param  {Integer} dy\\n * @param  {Integer} dw\\n * @param  {Integer} dh\\n * @param  {Constant} blendMode\\n */\\np5.prototype.blend = function() {\\n  p5._validateParameters('blend', arguments);\\n  if (this._renderer) {\\n    this._renderer.blend.apply(this._renderer, arguments);\\n  } else {\\n    p5.Renderer2D.prototype.blend.apply(this, arguments);\\n  }\\n};\\n\\n/**\\n * Copies a region of the canvas to another region of the canvas\\n * and copies a region of pixels from an image used as the srcImg parameter\\n * into the canvas srcImage is specified this is used as the source. If\\n * the source and destination regions aren't the same size, it will\\n * automatically resize source pixels to fit the specified\\n * target region.\\n *\\n * @method copy\\n * @param  {p5.Image|p5.Element} srcImage source image\\n * @param  {Integer} sx X coordinate of the source's upper left corner\\n * @param  {Integer} sy Y coordinate of the source's upper left corner\\n * @param  {Integer} sw source image width\\n * @param  {Integer} sh source image height\\n * @param  {Integer} dx X coordinate of the destination's upper left corner\\n * @param  {Integer} dy Y coordinate of the destination's upper left corner\\n * @param  {Integer} dw destination image width\\n * @param  {Integer} dh destination image height\\n *\\n * @example\\n * <div><code>\\n * var img;\\n *\\n * function preload() {\\n *   img = loadImage('assets/rockies.jpg');\\n * }\\n *\\n * function setup() {\\n *   background(img);\\n *   copy(img, 7, 22, 10, 10, 35, 25, 50, 50);\\n *   stroke(255);\\n *   noFill();\\n *   // Rectangle shows area being copied\\n *   rect(7, 22, 10, 10);\\n * }\\n * </code></div>\\n *\\n * @alt\\n * image of rocky mountains. Brick images on left and right. Right overexposed\\n * image of rockies. Brickwall images on left and right. Right mortar transparent\\n * image of rockies. Brickwall images on left and right. Right translucent\\n *\\n */\\n/**\\n * @method copy\\n * @param  {Integer} sx\\n * @param  {Integer} sy\\n * @param  {Integer} sw\\n * @param  {Integer} sh\\n * @param  {Integer} dx\\n * @param  {Integer} dy\\n * @param  {Integer} dw\\n * @param  {Integer} dh\\n */\\np5.prototype.copy = function() {\\n  p5._validateParameters('copy', arguments);\\n  p5.Renderer2D.prototype.copy.apply(this._renderer, arguments);\\n};\\n\\n/**\\n * Applies a filter to the canvas.\\n * <br><br>\\n *\\n * The presets options are:\\n * <br><br>\\n *\\n * THRESHOLD\\n * Converts the image to black and white pixels depending if they are above or\\n * below the threshold defined by the level parameter. The parameter must be\\n * between 0.0 (black) and 1.0 (white). If no level is specified, 0.5 is used.\\n * <br><br>\\n *\\n * GRAY\\n * Converts any colors in the image to grayscale equivalents. No parameter\\n * is used.\\n * <br><br>\\n *\\n * OPAQUE\\n * Sets the alpha channel to entirely opaque. No parameter is used.\\n * <br><br>\\n *\\n * INVERT\\n * Sets each pixel to its inverse value. No parameter is used.\\n * <br><br>\\n *\\n * POSTERIZE\\n * Limits each channel of the image to the number of colors specified as the\\n * parameter. The parameter can be set to values between 2 and 255, but\\n * results are most noticeable in the lower ranges.\\n * <br><br>\\n *\\n * BLUR\\n * Executes a Gaussian blur with the level parameter specifying the extent\\n * of the blurring. If no parameter is used, the blur is equivalent to\\n * Gaussian blur of radius 1. Larger values increase the blur.\\n * <br><br>\\n *\\n * ERODE\\n * Reduces the light areas. No parameter is used.\\n * <br><br>\\n *\\n * DILATE\\n * Increases the light areas. No parameter is used.\\n *\\n * @method filter\\n * @param  {Constant} filterType  either THRESHOLD, GRAY, OPAQUE, INVERT,\\n *                                POSTERIZE, BLUR, ERODE, DILATE or BLUR.\\n *                                See Filters.js for docs on\\n *                                each available filter\\n * @param  {Number} [filterParam] an optional parameter unique\\n *                                to each filter, see above\\n *\\n * @example\\n * <div>\\n * <code>\\n * var img;\\n * function preload() {\\n *   img = loadImage('assets/bricks.jpg');\\n * }\\n * function setup() {\\n *   image(img, 0, 0);\\n *   filter(THRESHOLD);\\n * }\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * var img;\\n * function preload() {\\n *   img = loadImage('assets/bricks.jpg');\\n * }\\n * function setup() {\\n *   image(img, 0, 0);\\n *   filter(GRAY);\\n * }\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * var img;\\n * function preload() {\\n *   img = loadImage('assets/bricks.jpg');\\n * }\\n * function setup() {\\n *   image(img, 0, 0);\\n *   filter(OPAQUE);\\n * }\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * var img;\\n * function preload() {\\n *   img = loadImage('assets/bricks.jpg');\\n * }\\n * function setup() {\\n *   image(img, 0, 0);\\n *   filter(INVERT);\\n * }\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * var img;\\n * function preload() {\\n *   img = loadImage('assets/bricks.jpg');\\n * }\\n * function setup() {\\n *   image(img, 0, 0);\\n *   filter(POSTERIZE, 3);\\n * }\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * var img;\\n * function preload() {\\n *   img = loadImage('assets/bricks.jpg');\\n * }\\n * function setup() {\\n *   image(img, 0, 0);\\n *   filter(DILATE);\\n * }\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * var img;\\n * function preload() {\\n *   img = loadImage('assets/bricks.jpg');\\n * }\\n * function setup() {\\n *   image(img, 0, 0);\\n *   filter(BLUR, 3);\\n * }\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * var img;\\n * function preload() {\\n *   img = loadImage('assets/bricks.jpg');\\n * }\\n * function setup() {\\n *   image(img, 0, 0);\\n *   filter(ERODE);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * black and white image of a brick wall.\\n * greyscale image of a brickwall\\n * image of a brickwall\\n * jade colored image of a brickwall\\n * red and pink image of a brickwall\\n * image of a brickwall\\n * blurry image of a brickwall\\n * image of a brickwall\\n * image of a brickwall with less detail\\n *\\n */\\np5.prototype.filter = function(operation, value) {\\n  p5._validateParameters('filter', arguments);\\n  if (this.canvas !== undefined) {\\n    Filters.apply(this.canvas, Filters[operation.toLowerCase()], value);\\n  } else {\\n    Filters.apply(this.elt, Filters[operation.toLowerCase()], value);\\n  }\\n};\\n\\n/**\\n * Returns an array of [R,G,B,A] values for any pixel or grabs a section of\\n * an image. If no parameters are specified, the entire image is returned.\\n * Use the x and y parameters to get the value of one pixel. Get a section of\\n * the display window by specifying additional w and h parameters. When\\n * getting an image, the x and y parameters define the coordinates for the\\n * upper-left corner of the image, regardless of the current <a href=\\\"#/p5/imageMode\\\">imageMode()</a>.\\n * <br><br>\\n * If the pixel requested is outside of the image window, [0,0,0,255] is\\n * returned. To get the numbers scaled according to the current color ranges\\n * and taking into account <a href=\\\"#/p5/colorMode\\\">colorMode</a>, use <a href=\\\"#/p5/getColor\\\">getColor</a> instead of get.\\n * <br><br>\\n * Getting the color of a single pixel with get(x, y) is easy, but not as fast\\n * as grabbing the data directly from <a href=\\\"#/p5/pixels\\\">pixels[]</a>. The equivalent statement to\\n * get(x, y) using <a href=\\\"#/p5/pixels\\\">pixels[]</a> with pixel density d is\\n * <code>\\n * var x, y, d; // set these to the coordinates\\n * var off = (y * width + x) * d * 4;\\n * var components = [\\n *   pixels[off],\\n *   pixels[off + 1],\\n *   pixels[off + 2],\\n *   pixels[off + 3]\\n * ];\\n * print(components);\\n * </code>\\n * <br><br>\\n * See the reference for <a href=\\\"#/p5/pixels\\\">pixels[]</a> for more information.\\n *\\n * If you want to extract an array of colors or a subimage from an p5.Image object,\\n * take a look at <a href=\\\"#/p5.Image/get\\\">p5.Image.get()</a>\\n *\\n * @method get\\n * @param  {Number}         [x] x-coordinate of the pixel\\n * @param  {Number}         [y] y-coordinate of the pixel\\n * @param  {Number}         [w] width\\n * @param  {Number}         [h] height\\n * @return {Number[]|p5.Image}  values of pixel at x,y in array format\\n *                              [R, G, B, A] or <a href=\\\"#/p5.Image\\\">p5.Image</a>\\n * @example\\n * <div>\\n * <code>\\n * var img;\\n * function preload() {\\n *   img = loadImage('assets/rockies.jpg');\\n * }\\n * function setup() {\\n *   image(img, 0, 0);\\n *   var c = get();\\n *   image(c, width / 2, 0);\\n * }\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * var img;\\n * function preload() {\\n *   img = loadImage('assets/rockies.jpg');\\n * }\\n * function setup() {\\n *   image(img, 0, 0);\\n *   var c = get(50, 90);\\n *   fill(c);\\n *   noStroke();\\n *   rect(25, 25, 50, 50);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * 2 images of the rocky mountains, side-by-side\\n * Image of the rocky mountains with 50x50 green rect in center of canvas\\n *\\n */\\np5.prototype.get = function(x, y, w, h) {\\n  return this._renderer.get(x, y, w, h);\\n};\\n\\n/**\\n * Loads the pixel data for the display window into the <a href=\\\"#/p5/pixels\\\">pixels[]</a> array. This\\n * function must always be called before reading from or writing to <a href=\\\"#/p5/pixels\\\">pixels[]</a>.\\n * Note that only changes made with <a href=\\\"#/p5/set\\\">set()</a> or direct manipulation of <a href=\\\"#/p5/pixels\\\">pixels[]</a>\\n * will occur.\\n *\\n * @method loadPixels\\n * @example\\n * <div>\\n * <code>\\n * var img;\\n * function preload() {\\n *   img = loadImage('assets/rockies.jpg');\\n * }\\n *\\n * function setup() {\\n *   image(img, 0, 0);\\n *   var d = pixelDensity();\\n *   var halfImage = 4 * (img.width * d) * (img.height * d / 2);\\n *   loadPixels();\\n *   for (var i = 0; i < halfImage; i++) {\\n *     pixels[i + halfImage] = pixels[i];\\n *   }\\n *   updatePixels();\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * two images of the rocky mountains. one on top, one on bottom of canvas.\\n *\\n */\\np5.prototype.loadPixels = function() {\\n  p5._validateParameters('loadPixels', arguments);\\n  this._renderer.loadPixels();\\n};\\n\\n/**\\n * <p>Changes the color of any pixel, or writes an image directly to the\\n * display window.</p>\\n * <p>The x and y parameters specify the pixel to change and the c parameter\\n * specifies the color value. This can be a <a href=\\\"#/p5.Color\\\">p5.Color</a> object, or [R, G, B, A]\\n * pixel array. It can also be a single grayscale value.\\n * When setting an image, the x and y parameters define the coordinates for\\n * the upper-left corner of the image, regardless of the current <a href=\\\"#/p5/imageMode\\\">imageMode()</a>.\\n * </p>\\n * <p>\\n * After using <a href=\\\"#/p5/set\\\">set()</a>, you must call <a href=\\\"#/p5/updatePixels\\\">updatePixels()</a> for your changes to appear.\\n * This should be called once all pixels have been set, and must be called before\\n * calling .<a href=\\\"#/p5/get\\\">get()</a> or drawing the image.\\n * </p>\\n * <p>Setting the color of a single pixel with set(x, y) is easy, but not as\\n * fast as putting the data directly into <a href=\\\"#/p5/pixels\\\">pixels[]</a>. Setting the <a href=\\\"#/p5/pixels\\\">pixels[]</a>\\n * values directly may be complicated when working with a retina display,\\n * but will perform better when lots of pixels need to be set directly on\\n * every loop.</p>\\n * <p>See the reference for <a href=\\\"#/p5/pixels\\\">pixels[]</a> for more information.</p>\\n *\\n * @method set\\n * @param {Number}              x x-coordinate of the pixel\\n * @param {Number}              y y-coordinate of the pixel\\n * @param {Number|Number[]|Object} c insert a grayscale value | a pixel array |\\n *                                a <a href=\\\"#/p5.Color\\\">p5.Color</a> object | a <a href=\\\"#/p5.Image\\\">p5.Image</a> to copy\\n * @example\\n * <div>\\n * <code>\\n * var black = color(0);\\n * set(30, 20, black);\\n * set(85, 20, black);\\n * set(85, 75, black);\\n * set(30, 75, black);\\n * updatePixels();\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * for (var i = 30; i < width - 15; i++) {\\n *   for (var j = 20; j < height - 25; j++) {\\n *     var c = color(204 - j, 153 - i, 0);\\n *     set(i, j, c);\\n *   }\\n * }\\n * updatePixels();\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * var img;\\n * function preload() {\\n *   img = loadImage('assets/rockies.jpg');\\n * }\\n *\\n * function setup() {\\n *   set(0, 0, img);\\n *   updatePixels();\\n *   line(0, 0, width, height);\\n *   line(0, height, width, 0);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * 4 black points in the shape of a square middle-right of canvas.\\n * square with orangey-brown gradient lightening at bottom right.\\n * image of the rocky mountains. with lines like an 'x' through the center.\\n */\\np5.prototype.set = function(x, y, imgOrCol) {\\n  this._renderer.set(x, y, imgOrCol);\\n};\\n/**\\n * Updates the display window with the data in the <a href=\\\"#/p5/pixels\\\">pixels[]</a> array.\\n * Use in conjunction with <a href=\\\"#/p5/loadPixels\\\">loadPixels()</a>. If you're only reading pixels from\\n * the array, there's no need to call <a href=\\\"#/p5/updatePixels\\\">updatePixels()</a> \\u2014 updating is only\\n * necessary to apply changes. <a href=\\\"#/p5/updatePixels\\\">updatePixels()</a> should be called anytime the\\n * pixels array is manipulated or <a href=\\\"#/p5/set\\\">set()</a> is called, and only changes made with\\n * <a href=\\\"#/p5/set\\\">set()</a> or direct changes to <a href=\\\"#/p5/pixels\\\">pixels[]</a> will occur.\\n *\\n * @method updatePixels\\n * @param  {Number} [x]    x-coordinate of the upper-left corner of region\\n *                         to update\\n * @param  {Number} [y]    y-coordinate of the upper-left corner of region\\n *                         to update\\n * @param  {Number} [w]    width of region to update\\n * @param  {Number} [h]    height of region to update\\n * @example\\n * <div>\\n * <code>\\n * var img;\\n * function preload() {\\n *   img = loadImage('assets/rockies.jpg');\\n * }\\n *\\n * function setup() {\\n *   image(img, 0, 0);\\n *   var d = pixelDensity();\\n *   var halfImage = 4 * (img.width * d) * (img.height * d / 2);\\n *   loadPixels();\\n *   for (var i = 0; i < halfImage; i++) {\\n *     pixels[i + halfImage] = pixels[i];\\n *   }\\n *   updatePixels();\\n * }\\n * </code>\\n * </div>\\n * @alt\\n * two images of the rocky mountains. one on top, one on bottom of canvas.\\n */\\np5.prototype.updatePixels = function(x, y, w, h) {\\n  p5._validateParameters('updatePixels', arguments);\\n  // graceful fail - if loadPixels() or set() has not been called, pixel\\n  // array will be empty, ignore call to updatePixels()\\n  if (this.pixels.length === 0) {\\n    return;\\n  }\\n  this._renderer.updatePixels(x, y, w, h);\\n};\\n\\nmodule.exports = p5;\\n\\n[end of pixels.js]\\n[start of material.js]\\n/**\\n * @module Lights, Camera\\n * @submodule Material\\n * @for p5\\n * @requires core\\n */\\n\\n'use strict';\\n\\nvar p5 = require('../core/main');\\nvar constants = require('../core/constants');\\nrequire('./p5.Texture');\\n\\n/**\\n * Loads a custom shader from the provided vertex and fragment\\n * shader paths. The shader files are loaded asynchronously in the\\n * background, so this method should be used in <a href=\\\"#/p5/preload\\\">preload()</a>.\\n *\\n * For now, there are three main types of shaders. p5 will automatically\\n * supply appropriate vertices, normals, colors, and lighting attributes\\n * if the parameters defined in the shader match the names.\\n *\\n * @method loadShader\\n * @param {String} [vertFilename] path to file containing vertex shader\\n * source code\\n * @param {String} [fragFilename] path to file containing fragment shader\\n * source code\\n * @return {p5.Shader} a shader object created from the provided\\n * vertex and fragment shader files.\\n *\\n * @example\\n * <div modernizr='webgl'>\\n * <code>\\n * var mandel;\\n * function preload() {\\n *   // load the shader definitions from files\\n *   mandel = loadShader('assets/shader.vert', 'assets/shader.frag');\\n * }\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n *   // use the shader\\n *   shader(mandel);\\n *   noStroke();\\n *   mandel.setUniform('p', [-0.74364388703, 0.13182590421]);\\n * }\\n *\\n * function draw() {\\n *   mandel.setUniform('r', 1.5 * exp(-6.5 * (1 + sin(millis() / 2000))));\\n *   quad(-1, -1, 1, -1, 1, 1, -1, 1);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * zooming Mandelbrot set. a colorful, infinitely detailed fractal.\\n */\\np5.prototype.loadShader = function(vertFilename, fragFilename) {\\n  p5._validateParameters('loadShader', arguments);\\n  var loadedShader = new p5.Shader();\\n\\n  var self = this;\\n  var loadedFrag = false;\\n  var loadedVert = false;\\n\\n  this.loadStrings(fragFilename, function(result) {\\n    loadedShader._fragSrc = result.join('\\\\n');\\n    loadedFrag = true;\\n    if (loadedVert) {\\n      self._decrementPreload();\\n    }\\n  });\\n  this.loadStrings(vertFilename, function(result) {\\n    loadedShader._vertSrc = result.join('\\\\n');\\n    loadedVert = true;\\n    if (loadedFrag) {\\n      self._decrementPreload();\\n    }\\n  });\\n\\n  return loadedShader;\\n};\\n\\n/**\\n * @method createShader\\n * @param {String} vertSrc source code for the vertex shader\\n * @param {String} fragSrc source code for the fragment shader\\n * @returns {p5.Shader} a shader object created from the provided\\n * vertex and fragment shaders.\\n *\\n * @example\\n * <div modernizr='webgl'>\\n * <code>\\n * // the 'varying's are shared between both vertex & fragment shaders\\n * var varying = 'precision highp float; varying vec2 vPos;';\\n *\\n * // the vertex shader is called for each vertex\\n * var vs =\\n *   varying +\\n *   'attribute vec3 aPosition;' +\\n *   'void main() { vPos = (gl_Position = vec4(aPosition,1.0)).xy; }';\\n *\\n * // the fragment shader is called for each pixel\\n * var fs =\\n *   varying +\\n *   'uniform vec2 p;' +\\n *   'uniform float r;' +\\n *   'const int I = 500;' +\\n *   'void main() {' +\\n *   '  vec2 c = p + vPos * r, z = c;' +\\n *   '  float n = 0.0;' +\\n *   '  for (int i = I; i > 0; i --) {' +\\n *   '    if(z.x*z.x+z.y*z.y > 4.0) {' +\\n *   '      n = float(i)/float(I);' +\\n *   '      break;' +\\n *   '    }' +\\n *   '    z = vec2(z.x*z.x-z.y*z.y, 2.0*z.x*z.y) + c;' +\\n *   '  }' +\\n *   '  gl_FragColor = vec4(0.5-cos(n*17.0)/2.0,0.5-cos(n*13.0)/2.0,0.5-cos(n*23.0)/2.0,1.0);' +\\n *   '}';\\n *\\n * var mandel;\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n *\\n *   // create and initialize the shader\\n *   mandel = createShader(vs, fs);\\n *   shader(mandel);\\n *   noStroke();\\n *\\n *   // 'p' is the center point of the Mandelbrot image\\n *   mandel.setUniform('p', [-0.74364388703, 0.13182590421]);\\n * }\\n *\\n * function draw() {\\n *   // 'r' is the size of the image in Mandelbrot-space\\n *   mandel.setUniform('r', 1.5 * exp(-6.5 * (1 + sin(millis() / 2000))));\\n *   quad(-1, -1, 1, -1, 1, 1, -1, 1);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * zooming Mandelbrot set. a colorful, infinitely detailed fractal.\\n */\\np5.prototype.createShader = function(vertSrc, fragSrc) {\\n  this._assert3d('createShader');\\n  p5._validateParameters('createShader', arguments);\\n  return new p5.Shader(this._renderer, vertSrc, fragSrc);\\n};\\n\\n/**\\n * The <a href=\\\"#/p5/shader\\\">shader()</a> function lets the user provide a custom shader\\n * to fill in shapes in WEBGL mode. Users can create their\\n * own shaders by loading vertex and fragment shaders with\\n * <a href=\\\"#/p5/loadShader\\\">loadShader()</a>.\\n *\\n * @method shader\\n * @chainable\\n * @param {p5.Shader} [s] the desired <a href=\\\"#/p5.Shader\\\">p5.Shader</a> to use for rendering\\n * shapes.\\n */\\np5.prototype.shader = function(s) {\\n  this._assert3d('shader');\\n  p5._validateParameters('shader', arguments);\\n  if (s._renderer === undefined) {\\n    s._renderer = this._renderer;\\n  }\\n  if (s.isStrokeShader()) {\\n    this._renderer.setStrokeShader(s);\\n  } else {\\n    this._renderer.setFillShader(s);\\n  }\\n  return this;\\n};\\n\\n/**\\n * Normal material for geometry. You can view all\\n * possible materials in this\\n * <a href=\\\"https://p5js.org/examples/3d-materials.html\\\">example</a>.\\n * @method normalMaterial\\n * @chainable\\n * @example\\n * <div>\\n * <code>\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n * }\\n *\\n * function draw() {\\n *   background(200);\\n *   normalMaterial();\\n *   sphere(50);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * Red, green and blue gradient.\\n *\\n */\\np5.prototype.normalMaterial = function() {\\n  this._assert3d('normalMaterial');\\n  p5._validateParameters('normalMaterial', arguments);\\n  this._renderer.drawMode = constants.FILL;\\n  this._renderer.setFillShader(this._renderer._getNormalShader());\\n  this._renderer.curFillColor = [1, 1, 1, 1];\\n  this.noStroke();\\n  return this;\\n};\\n\\n/**\\n * Texture for geometry.  You can view other possible materials in this\\n * <a href=\\\"https://p5js.org/examples/3d-materials.html\\\">example</a>.\\n * @method texture\\n * @param {p5.Image|p5.MediaElement|p5.Graphics} tex 2-dimensional graphics\\n *                    to render as texture\\n * @chainable\\n * @example\\n * <div>\\n * <code>\\n * var img;\\n * function preload() {\\n *   img = loadImage('assets/laDefense.jpg');\\n * }\\n *\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n * }\\n *\\n * function draw() {\\n *   background(0);\\n *   rotateZ(frameCount * 0.01);\\n *   rotateX(frameCount * 0.01);\\n *   rotateY(frameCount * 0.01);\\n *   //pass image as texture\\n *   texture(img);\\n *   box(200, 200, 200);\\n * }\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * var pg;\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n *   pg = createGraphics(200, 200);\\n *   pg.textSize(100);\\n * }\\n *\\n * function draw() {\\n *   background(0);\\n *   pg.background(255);\\n *   pg.text('hello!', 0, 100);\\n *   //pass image as texture\\n *   texture(pg);\\n *   plane(200);\\n * }\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * var vid;\\n * function preload() {\\n *   vid = createVideo('assets/fingers.mov');\\n *   vid.hide();\\n *   vid.loop();\\n * }\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n * }\\n *\\n * function draw() {\\n *   background(0);\\n *   //pass video frame as texture\\n *   texture(vid);\\n *   plane(200);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * Rotating view of many images umbrella and grid roof on a 3d plane\\n * black canvas\\n * black canvas\\n *\\n */\\np5.prototype.texture = function(tex) {\\n  this._assert3d('texture');\\n  p5._validateParameters('texture', arguments);\\n  this._renderer.drawMode = constants.TEXTURE;\\n  var shader = this._renderer._useLightShader();\\n  shader.setUniform('uSpecular', false);\\n  shader.setUniform('isTexture', true);\\n  shader.setUniform('uSampler', tex);\\n  this.noStroke();\\n  return this;\\n};\\n\\n/**\\n * Ambient material for geometry with a given color. You can view all\\n * possible materials in this\\n * <a href=\\\"https://p5js.org/examples/3d-materials.html\\\">example</a>.\\n * @method  ambientMaterial\\n * @param  {Number} v1  gray value, red or hue value\\n *                         (depending on the current color mode),\\n * @param  {Number} [v2] green or saturation value\\n * @param  {Number} [v3] blue or brightness value\\n * @param  {Number} [a]  opacity\\n * @chainable\\n * @example\\n * <div>\\n * <code>\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n * }\\n * function draw() {\\n *   background(0);\\n *   ambientLight(100);\\n *   pointLight(250, 250, 250, 100, 100, 0);\\n *   ambientMaterial(250);\\n *   sphere(50);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * radiating light source from top right of canvas\\n *\\n */\\n/**\\n * @method  ambientMaterial\\n * @param  {Number[]|String|p5.Color} color  color, color Array, or CSS color string\\n * @chainable\\n */\\np5.prototype.ambientMaterial = function(v1, v2, v3, a) {\\n  this._assert3d('ambientMaterial');\\n  p5._validateParameters('ambientMaterial', arguments);\\n  var color = p5.prototype.color.apply(this, arguments);\\n  this._renderer.curFillColor = color._array;\\n\\n  var shader = this._renderer._useLightShader();\\n  shader.setUniform('uMaterialColor', this._renderer.curFillColor);\\n  shader.setUniform('uSpecular', false);\\n  shader.setUniform('isTexture', false);\\n  return this;\\n};\\n\\n/**\\n * Specular material for geometry with a given color. You can view all\\n * possible materials in this\\n * <a href=\\\"https://p5js.org/examples/3d-materials.html\\\">example</a>.\\n * @method specularMaterial\\n * @param  {Number} v1  gray value, red or hue value\\n *                       (depending on the current color mode),\\n * @param  {Number} [v2] green or saturation value\\n * @param  {Number} [v3] blue or brightness value\\n * @param  {Number} [a]  opacity\\n * @chainable\\n * @example\\n * <div>\\n * <code>\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n * }\\n * function draw() {\\n *   background(0);\\n *   ambientLight(100);\\n *   pointLight(250, 250, 250, 100, 100, 0);\\n *   specularMaterial(250);\\n *   sphere(50);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * diffused radiating light source from top right of canvas\\n *\\n */\\n/**\\n * @method specularMaterial\\n * @param  {Number[]|String|p5.Color} color color Array, or CSS color string\\n * @chainable\\n */\\np5.prototype.specularMaterial = function(v1, v2, v3, a) {\\n  this._assert3d('specularMaterial');\\n  p5._validateParameters('specularMaterial', arguments);\\n  var color = p5.prototype.color.apply(this, arguments);\\n  this._renderer.curFillColor = color._array;\\n\\n  var shader = this._renderer._useLightShader();\\n  shader.setUniform('uMaterialColor', this._renderer.curFillColor);\\n  shader.setUniform('uSpecular', true);\\n  shader.setUniform('isTexture', false);\\n  return this;\\n};\\n\\n/**\\n * @private blends colors according to color components.\\n * If alpha value is less than 1, we need to enable blending\\n * on our gl context.  Otherwise opaque objects need to a depthMask.\\n * @param  {Number[]} color [description]\\n * @return {Number[]]}  Normalized numbers array\\n */\\np5.RendererGL.prototype._applyColorBlend = function(colors) {\\n  var gl = this.GL;\\n\\n  var isTexture = this.drawMode === constants.TEXTURE;\\n  if (isTexture || colors[colors.length - 1] < 1.0) {\\n    gl.depthMask(isTexture);\\n    gl.enable(gl.BLEND);\\n    gl.blendEquation(gl.FUNC_ADD);\\n    gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\\n  } else {\\n    gl.depthMask(true);\\n    gl.disable(gl.BLEND);\\n  }\\n  return colors;\\n};\\n\\nmodule.exports = p5;\\n\\n[end of material.js]\\n[start of curves.js]\\n/**\\n * @module Shape\\n * @submodule Curves\\n * @for p5\\n * @requires core\\n */\\n\\n'use strict';\\n\\nvar p5 = require('../main');\\nrequire('../error_helpers');\\n\\n/**\\n * Draws a cubic Bezier curve on the screen. These curves are defined by a\\n * series of anchor and control points. The first two parameters specify\\n * the first anchor point and the last two parameters specify the other\\n * anchor point, which become the first and last points on the curve. The\\n * middle parameters specify the two control points which define the shape\\n * of the curve. Approximately speaking, control points \\\"pull\\\" the curve\\n * towards them.<br /><br />Bezier curves were developed by French\\n * automotive engineer Pierre Bezier, and are commonly used in computer\\n * graphics to define gently sloping curves. See also <a href=\\\"#/p5/curve\\\">curve()</a>.\\n *\\n * @method bezier\\n * @param  {Number} x1 x-coordinate for the first anchor point\\n * @param  {Number} y1 y-coordinate for the first anchor point\\n * @param  {Number} x2 x-coordinate for the first control point\\n * @param  {Number} y2 y-coordinate for the first control point\\n * @param  {Number} x3 x-coordinate for the second control point\\n * @param  {Number} y3 y-coordinate for the second control point\\n * @param  {Number} x4 x-coordinate for the second anchor point\\n * @param  {Number} y4 y-coordinate for the second anchor point\\n * @chainable\\n * @example\\n * <div>\\n * <code>\\n * noFill();\\n * stroke(255, 102, 0);\\n * line(85, 20, 10, 10);\\n * line(90, 90, 15, 80);\\n * stroke(0, 0, 0);\\n * bezier(85, 20, 10, 10, 90, 90, 15, 80);\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * background(0, 0, 0);\\n * noFill();\\n * stroke(255);\\n * bezier(250, 250, 0, 100, 100, 0, 100, 0, 0, 0, 100, 0);\\n * </code>\\n * </div>\\n *\\n * @alt\\n * stretched black s-shape in center with orange lines extending from end points.\\n * stretched black s-shape with 10 5x5 white ellipses along the shape.\\n * stretched black s-shape with 7 5x5 ellipses and orange lines along the shape.\\n * stretched black s-shape with 17 small orange lines extending from under shape.\\n * horseshoe shape with orange ends facing left and black curved center.\\n * horseshoe shape with orange ends facing left and black curved center.\\n * Line shaped like right-facing arrow,points move with mouse-x and warp shape.\\n * horizontal line that hooks downward on the right and 13 5x5 ellipses along it.\\n * right curving line mid-right of canvas with 7 short lines radiating from it.\\n */\\n/**\\n * @method bezier\\n * @param  {Number} x1\\n * @param  {Number} y1\\n * @param  {Number} z1 z-coordinate for the first anchor point\\n * @param  {Number} x2\\n * @param  {Number} y2\\n * @param  {Number} z2 z-coordinate for the first control point\\n * @param  {Number} x3\\n * @param  {Number} y3\\n * @param  {Number} z3 z-coordinate for the second control point\\n * @param  {Number} x4\\n * @param  {Number} y4\\n * @param  {Number} z4 z-coordinate for the second anchor point\\n * @chainable\\n */\\np5.prototype.bezier = function() {\\n  p5._validateParameters('bezier', arguments);\\n\\n  // if the current stroke and fill settings wouldn't result in something\\n  // visible, exit immediately\\n  if (!this._renderer._doStroke && !this._renderer._doFill) {\\n    return this;\\n  }\\n\\n  this._renderer.bezier.apply(this._renderer, arguments);\\n\\n  return this;\\n};\\n\\n/**\\n * Sets the resolution at which Beziers display.\\n *\\n * The default value is 20.\\n *\\n * This function is only useful when using the WEBGL renderer\\n * as the default canvas renderer does not use this information.\\n *\\n * @method bezierDetail\\n * @param {Number} detail resolution of the curves\\n * @chainable\\n * @example\\n * <div modernizr='webgl'>\\n * <code>\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n *   noFill();\\n *\\n *   bezierDetail(5);\\n * }\\n *\\n * function draw() {\\n *   background(200);\\n *\\n *   // prettier-ignore\\n *   bezier(-40, -40, 0,\\n *           90, -40, 0,\\n *          -90,  40, 0,\\n *           40,  40, 0);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * stretched black s-shape with a low level of bezier detail\\n *\\n */\\np5.prototype.bezierDetail = function(d) {\\n  p5._validateParameters('bezierDetail', arguments);\\n  this._bezierDetail = d;\\n  return this;\\n};\\n\\n/**\\n * Evaluates the Bezier at position t for points a, b, c, d.\\n * The parameters a and d are the first and last points\\n * on the curve, and b and c are the control points.\\n * The final parameter t varies between 0 and 1.\\n * This can be done once with the x coordinates and a second time\\n * with the y coordinates to get the location of a bezier curve at t.\\n *\\n * @method bezierPoint\\n * @param {Number} a coordinate of first point on the curve\\n * @param {Number} b coordinate of first control point\\n * @param {Number} c coordinate of second control point\\n * @param {Number} d coordinate of second point on the curve\\n * @param {Number} t value between 0 and 1\\n * @return {Number} the value of the Bezier at position t\\n * @example\\n * <div>\\n * <code>\\n * noFill();\\n * var x1 = 85,\\n  x2 = 10,\\n  x3 = 90,\\n  x4 = 15;\\n * var y1 = 20,\\n  y2 = 10,\\n  y3 = 90,\\n  y4 = 80;\\n * bezier(x1, y1, x2, y2, x3, y3, x4, y4);\\n * fill(255);\\n * var steps = 10;\\n * for (var i = 0; i <= steps; i++) {\\n *   var t = i / steps;\\n *   var x = bezierPoint(x1, x2, x3, x4, t);\\n *   var y = bezierPoint(y1, y2, y3, y4, t);\\n *   ellipse(x, y, 5, 5);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * stretched black s-shape with 17 small orange lines extending from under shape.\\n *\\n */\\np5.prototype.bezierPoint = function(a, b, c, d, t) {\\n  p5._validateParameters('bezierPoint', arguments);\\n\\n  var adjustedT = 1 - t;\\n  return (\\n    Math.pow(adjustedT, 3) * a +\\n    3 * Math.pow(adjustedT, 2) * t * b +\\n    3 * adjustedT * Math.pow(t, 2) * c +\\n    Math.pow(t, 3) * d\\n  );\\n};\\n\\n/**\\n * Evaluates the tangent to the Bezier at position t for points a, b, c, d.\\n * The parameters a and d are the first and last points\\n * on the curve, and b and c are the control points.\\n * The final parameter t varies between 0 and 1.\\n *\\n * @method bezierTangent\\n * @param {Number} a coordinate of first point on the curve\\n * @param {Number} b coordinate of first control point\\n * @param {Number} c coordinate of second control point\\n * @param {Number} d coordinate of second point on the curve\\n * @param {Number} t value between 0 and 1\\n * @return {Number} the tangent at position t\\n * @example\\n * <div>\\n * <code>\\n * noFill();\\n * bezier(85, 20, 10, 10, 90, 90, 15, 80);\\n * var steps = 6;\\n * fill(255);\\n * for (var i = 0; i <= steps; i++) {\\n *   var t = i / steps;\\n *   // Get the location of the point\\n *   var x = bezierPoint(85, 10, 90, 15, t);\\n *   var y = bezierPoint(20, 10, 90, 80, t);\\n *   // Get the tangent points\\n *   var tx = bezierTangent(85, 10, 90, 15, t);\\n *   var ty = bezierTangent(20, 10, 90, 80, t);\\n *   // Calculate an angle from the tangent points\\n *   var a = atan2(ty, tx);\\n *   a += PI;\\n *   stroke(255, 102, 0);\\n *   line(x, y, cos(a) * 30 + x, sin(a) * 30 + y);\\n *   // The following line of code makes a line\\n *   // inverse of the above line\\n *   //line(x, y, cos(a)*-30 + x, sin(a)*-30 + y);\\n *   stroke(0);\\n *   ellipse(x, y, 5, 5);\\n * }\\n * </code>\\n * </div>\\n *\\n * <div>\\n * <code>\\n * noFill();\\n * bezier(85, 20, 10, 10, 90, 90, 15, 80);\\n * stroke(255, 102, 0);\\n * var steps = 16;\\n * for (var i = 0; i <= steps; i++) {\\n *   var t = i / steps;\\n *   var x = bezierPoint(85, 10, 90, 15, t);\\n *   var y = bezierPoint(20, 10, 90, 80, t);\\n *   var tx = bezierTangent(85, 10, 90, 15, t);\\n *   var ty = bezierTangent(20, 10, 90, 80, t);\\n *   var a = atan2(ty, tx);\\n *   a -= HALF_PI;\\n *   line(x, y, cos(a) * 8 + x, sin(a) * 8 + y);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * s-shaped line with 17 short orange lines extending from underside of shape\\n *\\n */\\np5.prototype.bezierTangent = function(a, b, c, d, t) {\\n  p5._validateParameters('bezierTangent', arguments);\\n\\n  var adjustedT = 1 - t;\\n  return (\\n    3 * d * Math.pow(t, 2) -\\n    3 * c * Math.pow(t, 2) +\\n    6 * c * adjustedT * t -\\n    6 * b * adjustedT * t +\\n    3 * b * Math.pow(adjustedT, 2) -\\n    3 * a * Math.pow(adjustedT, 2)\\n  );\\n};\\n\\n/**\\n * Draws a curved line on the screen between two points, given as the\\n * middle four parameters. The first two parameters are a control point, as\\n * if the curve came from this point even though it's not drawn. The last\\n * two parameters similarly describe the other control point. <br /><br />\\n * Longer curves can be created by putting a series of <a href=\\\"#/p5/curve\\\">curve()</a> functions\\n * together or using <a href=\\\"#/p5/curveVertex\\\">curveVertex()</a>. An additional function called\\n * <a href=\\\"#/p5/curveTightness\\\">curveTightness()</a> provides control for the visual quality of the curve.\\n * The <a href=\\\"#/p5/curve\\\">curve()</a> function is an implementation of Catmull-Rom splines.\\n *\\n * @method curve\\n * @param  {Number} x1 x-coordinate for the beginning control point\\n * @param  {Number} y1 y-coordinate for the beginning control point\\n * @param  {Number} x2 x-coordinate for the first point\\n * @param  {Number} y2 y-coordinate for the first point\\n * @param  {Number} x3 x-coordinate for the second point\\n * @param  {Number} y3 y-coordinate for the second point\\n * @param  {Number} x4 x-coordinate for the ending control point\\n * @param  {Number} y4 y-coordinate for the ending control point\\n * @chainable\\n * @example\\n * <div>\\n * <code>\\n * noFill();\\n * stroke(255, 102, 0);\\n * curve(5, 26, 5, 26, 73, 24, 73, 61);\\n * stroke(0);\\n * curve(5, 26, 73, 24, 73, 61, 15, 65);\\n * stroke(255, 102, 0);\\n * curve(73, 24, 73, 61, 15, 65, 15, 65);\\n * </code>\\n * </div>\\n * <div>\\n * <code>\\n * // Define the curve points as JavaScript objects\\n * var p1 = { x: 5, y: 26 },\\n  p2 = { x: 73, y: 24 };\\n * var p3 = { x: 73, y: 61 },\\n  p4 = { x: 15, y: 65 };\\n * noFill();\\n * stroke(255, 102, 0);\\n * curve(p1.x, p1.y, p1.x, p1.y, p2.x, p2.y, p3.x, p3.y);\\n * stroke(0);\\n * curve(p1.x, p1.y, p2.x, p2.y, p3.x, p3.y, p4.x, p4.y);\\n * stroke(255, 102, 0);\\n * curve(p2.x, p2.y, p3.x, p3.y, p4.x, p4.y, p4.x, p4.y);\\n * </code>\\n * </div>\\n * <div>\\n * <code>\\n * noFill();\\n * stroke(255, 102, 0);\\n * curve(5, 26, 0, 5, 26, 0, 73, 24, 0, 73, 61, 0);\\n * stroke(0);\\n * curve(5, 26, 0, 73, 24, 0, 73, 61, 0, 15, 65, 0);\\n * stroke(255, 102, 0);\\n * curve(73, 24, 0, 73, 61, 0, 15, 65, 0, 15, 65, 0);\\n * </code>\\n * </div>\\n *\\n * @alt\\n * horseshoe shape with orange ends facing left and black curved center.\\n * horseshoe shape with orange ends facing left and black curved center.\\n * curving black and orange lines.\\n */\\n/**\\n * @method curve\\n * @param  {Number} x1\\n * @param  {Number} y1\\n * @param  {Number} z1 z-coordinate for the beginning control point\\n * @param  {Number} x2\\n * @param  {Number} y2\\n * @param  {Number} z2 z-coordinate for the first point\\n * @param  {Number} x3\\n * @param  {Number} y3\\n * @param  {Number} z3 z-coordinate for the second point\\n * @param  {Number} x4\\n * @param  {Number} y4\\n * @param  {Number} z4 z-coordinate for the ending control point\\n * @chainable\\n */\\np5.prototype.curve = function() {\\n  p5._validateParameters('curve', arguments);\\n\\n  if (this._renderer._doStroke) {\\n    this._renderer.curve.apply(this._renderer, arguments);\\n  }\\n\\n  return this;\\n};\\n\\n/**\\n * Sets the resolution at which curves display.\\n *\\n * The default value is 20.\\n *\\n * This function is only useful when using the WEBGL renderer\\n * as the default canvas renderer does not use this\\n * information.\\n *\\n * @method curveDetail\\n * @param {Number} resolution of the curves\\n * @chainable\\n * @example\\n * <div modernizr='webgl'>\\n * <code>\\n * function setup() {\\n *   createCanvas(100, 100, WEBGL);\\n *\\n *   curveDetail(5);\\n * }\\n * function draw() {\\n *   background(200);\\n *\\n *   // prettier-ignore\\n *   curve( 250, 600, 0,\\n *          -30,  40, 0,\\n *           30,  30, 0,\\n *         -250, 600, 0);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * white arch shape with a low level of curve detail.\\n *\\n */\\np5.prototype.curveDetail = function(d) {\\n  p5._validateParameters('curveDetail', arguments);\\n  this._curveDetail = d;\\n  return this;\\n};\\n\\n/**\\n * Modifies the quality of forms created with <a href=\\\"#/p5/curve\\\">curve()</a> and <a href=\\\"#/p5/curveVertex\\\">curveVertex()</a>.\\n * The parameter tightness determines how the curve fits to the vertex\\n * points. The value 0.0 is the default value for tightness (this value\\n * defines the curves to be Catmull-Rom splines) and the value 1.0 connects\\n * all the points with straight lines. Values within the range -5.0 and 5.0\\n * will deform the curves but will leave them recognizable and as values\\n * increase in magnitude, they will continue to deform.\\n *\\n * @method curveTightness\\n * @param {Number} amount of deformation from the original vertices\\n * @chainable\\n * @example\\n * <div>\\n * <code>\\n * // Move the mouse left and right to see the curve change\\n *\\n * function setup() {\\n *   createCanvas(100, 100);\\n *   noFill();\\n * }\\n *\\n * function draw() {\\n *   background(204);\\n *   var t = map(mouseX, 0, width, -5, 5);\\n *   curveTightness(t);\\n *   beginShape();\\n *   curveVertex(10, 26);\\n *   curveVertex(10, 26);\\n *   curveVertex(83, 24);\\n *   curveVertex(83, 61);\\n *   curveVertex(25, 65);\\n *   curveVertex(25, 65);\\n *   endShape();\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n * Line shaped like right-facing arrow,points move with mouse-x and warp shape.\\n */\\np5.prototype.curveTightness = function(t) {\\n  p5._validateParameters('curveTightness', arguments);\\n  this._renderer._curveTightness = t;\\n  return this;\\n};\\n\\n/**\\n * Evaluates the curve at position t for points a, b, c, d.\\n * The parameter t varies between 0 and 1, a and d are control points\\n * of the curve, and b and c are the start and end points of the curve.\\n * This can be done once with the x coordinates and a second time\\n * with the y coordinates to get the location of a curve at t.\\n *\\n * @method curvePoint\\n * @param {Number} a coordinate of first control point of the curve\\n * @param {Number} b coordinate of first point\\n * @param {Number} c coordinate of second point\\n * @param {Number} d coordinate of second control point\\n * @param {Number} t value between 0 and 1\\n * @return {Number} bezier value at position t\\n * @example\\n * <div>\\n * <code>\\n * noFill();\\n * curve(5, 26, 5, 26, 73, 24, 73, 61);\\n * curve(5, 26, 73, 24, 73, 61, 15, 65);\\n * fill(255);\\n * ellipseMode(CENTER);\\n * var steps = 6;\\n * for (var i = 0; i <= steps; i++) {\\n *   var t = i / steps;\\n *   var x = curvePoint(5, 5, 73, 73, t);\\n *   var y = curvePoint(26, 26, 24, 61, t);\\n *   ellipse(x, y, 5, 5);\\n *   x = curvePoint(5, 73, 73, 15, t);\\n *   y = curvePoint(26, 24, 61, 65, t);\\n *   ellipse(x, y, 5, 5);\\n * }\\n * </code>\\n * </div>\\n *\\n *line hooking down to right-bottom with 13 5x5 white ellipse points\\n */\\np5.prototype.curvePoint = function(a, b, c, d, t) {\\n  p5._validateParameters('curvePoint', arguments);\\n\\n  var t3 = t * t * t,\\n    t2 = t * t,\\n    f1 = -0.5 * t3 + t2 - 0.5 * t,\\n    f2 = 1.5 * t3 - 2.5 * t2 + 1.0,\\n    f3 = -1.5 * t3 + 2.0 * t2 + 0.5 * t,\\n    f4 = 0.5 * t3 - 0.5 * t2;\\n  return a * f1 + b * f2 + c * f3 + d * f4;\\n};\\n\\n/**\\n * Evaluates the tangent to the curve at position t for points a, b, c, d.\\n * The parameter t varies between 0 and 1, a and d are points on the curve,\\n * and b and c are the control points.\\n *\\n * @method curveTangent\\n * @param {Number} a coordinate of first point on the curve\\n * @param {Number} b coordinate of first control point\\n * @param {Number} c coordinate of second control point\\n * @param {Number} d coordinate of second point on the curve\\n * @param {Number} t value between 0 and 1\\n * @return {Number} the tangent at position t\\n * @example\\n * <div>\\n * <code>\\n * noFill();\\n * curve(5, 26, 73, 24, 73, 61, 15, 65);\\n * var steps = 6;\\n * for (var i = 0; i <= steps; i++) {\\n *   var t = i / steps;\\n *   var x = curvePoint(5, 73, 73, 15, t);\\n *   var y = curvePoint(26, 24, 61, 65, t);\\n *   //ellipse(x, y, 5, 5);\\n *   var tx = curveTangent(5, 73, 73, 15, t);\\n *   var ty = curveTangent(26, 24, 61, 65, t);\\n *   var a = atan2(ty, tx);\\n *   a -= PI / 2.0;\\n *   line(x, y, cos(a) * 8 + x, sin(a) * 8 + y);\\n * }\\n * </code>\\n * </div>\\n *\\n * @alt\\n *right curving line mid-right of canvas with 7 short lines radiating from it.\\n */\\np5.prototype.curveTangent = function(a, b, c, d, t) {\\n  p5._validateParameters('curveTangent', arguments);\\n\\n  var t2 = t * t,\\n    f1 = -3 * t2 / 2 + 2 * t - 0.5,\\n    f2 = 9 * t2 / 2 - 5 * t,\\n    f3 = -9 * t2 / 2 + 4 * t + 0.5,\\n    f4 = 3 * t2 / 2 - t;\\n  return a * f1 + b * f2 + c * f3 + d * f4;\\n};\\n\\nmodule.exports = p5;\\n\\n[end of curves.js]\\n\\n</code>\\n\\nHere is an example of a patch file. It consists of changes to the code base. It specifies the file names, the line numbers of each change, and the removed and added lines. A single patch file can contain changes to multiple files.\\n\\n<patch>\\ndiff --git a/file.py b/file.py\\n--- a/file.py\\n+++ b/file.py\\n@@ -1,27 +1,35 @@\\n def euclidean(a, b):\\n-    while b:\\n-        a, b = b, a % b\\n-    return a\\n+    if b == 0:\\n+        return a\\n+    return euclidean(b, a % b)\\n \\n def bresenham(x0, y0, x1, y1):\\n+    points = []\\n+    dx = abs(x1 - x0)\\n+    dy = abs(y1 - y0)\\n+    sx = 1 if x0 < x1 else -1\\n+    sy = 1 if y0 < y1 else -1\\n+    err = dx - dy\\n+    \\n     while True:\\n-        plot(x0, y0)\\n+        points.append((x0, y0))\\n         if x0 == x1 and y0 == y1:\\n             break\\n-        e2 = 2 * err\\n-        if e2 > -dy:\\n-            err -= dy\\n-            x0 += sx\\n-        if e2 < dx:\\n-            err += dx\\n-            y0 += sy\\n+        e2 = 2 * err\\n+        if e2 > -dy:\\n+            err -= dy\\n+            x0 += sx\\n+        if e2 < dx:\\n+            err += dx\\n+            y0 += sy\\n+    return points\\n+</patch>\\n\\nI need you to solve the provided issue by generating a single patch file that I can apply directly to this repository using git apply. Please respond with a single patch file in the format shown above.\\n\\nRespond below: \\n\"}]",
      "retrieved_file_paths": [
        "ISSUE_TEMPLATE.md",
        "vertex.js",
        "pixels.js",
        "material.js",
        "curves.js"
      ]
    },
    "retrieved_documents": [
      {
        "id": "0ef55c8f-9d97-4b72-8f6a-fa3d295fbf5d",
        "score": 0.01639344262295082,
        "payload": {
          "text": "<!--\nHi there! \n\nPLEASE NOTE: The github issues are for bugs and feature requests for the p5.js library itself. If you have a general question or bug programming with p5.js please post it in the p5.js forum: https://forum.processing.org/two/.\n\nTo check any option, replace the \"[ ]\" with a \"[x]\". Be sure to check out how it looks in the Preview tab! Feel free to remove any portion of the template that is not relevant for your issue.\n-->\n\n#### Nature of issue?\n\n- [ ] Found a bug\n- [ ] Existing feature enhancement\n- [ ] New feature request\n\n#### Most appropriate sub-area of p5.js?\n\n- [ ] Color\n- [ ] Core/Environment/Rendering\n- [ ] Data\n- [ ] Events\n- [ ] Image\n- [ ] IO\n- [ ] Math\n- [ ] Typography\n- [ ] Utilities\n- [ ] WebGL\n- [ ] Other (specify if possible)\n\n#### Which platform were you using when you encountered this?\n\n- [ ] Mobile/Tablet (touch devices)\n- [ ] Desktop/Laptop\n- [ ] Others (specify if possible)\n\n#### Details about the bug: \n\n- p5.js version: <!-- You can first this in the first line of the p5.js file -->\n- Web browser and version: <!-- On Chrome/FireFox/Opera you can enter \"about:\" in the address bar to find out the version -->\n- Operating System: <!-- Ex: Windows/MacOSX/Linux along with version -->\n- Steps to reproduce this:\n<!-- Include a simple code snippet that demonstrates the problem, along with any console errors produced. If this isn't possible, then simply describe the issue as best you can! -->\n\n<!-- If you want to enhance an existing feature, please describe here, otherwise remove this section -->\n#### Feature enhancement details:\n\n\n<!-- If you want to request a new feature, please describe here, otherwise remove this section -->\n#### New feature details:\n\n",
          "filepath": "data/repos/processing/p5.js-0.7/ISSUE_TEMPLATE.md",
          "repo": "processing/p5.js",
          "version": "0.7",
          "chunk_index": 0,
          "chunk_id": "0ef55c8f-9d97-4b72-8f6a-fa3d295fbf5d"
        }
      },
      {
        "id": "8e0c3b74-b900-44a3-bfc4-f8ebfe28ac69",
        "score": 0.016129032258064516,
        "payload": {
          "text": "/**\n * @module Shape\n * @submodule Vertex\n * @for p5\n * @requires core\n * @requires constants\n */\n\n'use strict';\n\nvar p5 = require('../main');\nvar constants = require('../constants');\nvar shapeKind = null;\nvar vertices = [];\nvar contourVertices = [];\nvar isBezier = false;\nvar isCurve = false;\nvar isQuadratic = false;\nvar isContour = false;\nvar isFirstContour = true;\n\n/**\n * Use the <a href=\"#/p5/beginContour\">beginContour()</a> and <a href=\"#/p5/endContour\">endContour()</a> functions to create negative\n * shapes within shapes such as the center of the letter 'O'. <a href=\"#/p5/beginContour\">beginContour()</a>\n * begins recording vertices for the shape and <a href=\"#/p5/endContour\">endContour()</a> stops recording.\n * The vertices that define a negative shape must \"wind\" in the opposite\n * direction from the exterior shape. First draw vertices for the exterior\n * clockwise order, then for internal shapes, draw vertices\n * shape in counter-clockwise.\n * <br><br>\n * These functions can only be used within a <a href=\"#/p5/beginShape\">beginShape()</a>/<a href=\"#/p5/endShape\">endShape()</a> pair and\n * transformations such as <a href=\"#/p5/translate\">translate()</a>, <a href=\"#/p5/rotate\">rotate()</a>, and <a href=\"#/p5/scale\">scale()</a> do not work\n * within a <a href=\"#/p5/beginContour\">beginContour()</a>/<a href=\"#/p5/endContour\">endContour()</a> pair. It is also not possible to use\n * other shapes, such as <a href=\"#/p5/ellipse\">ellipse()</a> or <a href=\"#/p5/rect\">rect()</a> within.\n *\n * @method beginContour\n * @chainable\n * @example\n * <div>\n * <code>\n * translate(50, 50);\n * stroke(255, 0, 0);\n * beginShape();\n * // Exterior part of shape, clockwise winding\n * vertex(-40, -40);\n * vertex(40, -40);\n * vertex(40, 40);\n * vertex(-40, 40);\n * // Interior part of shape, counter-clockwise winding\n * beginContour();\n * vertex(-20, -20);\n * vertex(-20, 20);\n * vertex(20, 20);\n * vertex(20, -20);\n * endContour();\n * endShape(CLOSE);\n * </code>\n * </div>\n *\n * @alt\n * white rect and smaller grey rect with red outlines in center of canvas.\n *\n */\np5.prototype.beginContour = function() {\n  contourVertices = [];\n  isContour = true;\n  return this;\n};\n\n/**\n * Using the <a href=\"#/p5/beginShape\">beginShape()</a> and <a href=\"#/p5/endShape\">endShape()</a> functions allow creating more\n * complex forms. <a href=\"#/p5/beginShape\">beginShape()</a> begins recording vertices for a shape and\n * <a href=\"#/p5/endShape\">endShape()</a> stops recording. The value of the kind parameter tells it which\n * types of shapes to create from the provided vertices. With no mode\n * specified, the shape can be any irregular polygon.\n * <br><br>\n * The parameters available for <a href=\"#/p5/beginShape\">beginShape()</a> are POINTS, LINES, TRIANGLES,\n * TRIANGLE_FAN, TRIANGLE_STRIP, QUADS, and QUAD_STRIP. After calling the\n * <a href=\"#/p5/beginShape\">beginShape()</a> function, a series of <a href=\"#/p5/vertex\">vertex()</a> commands must follow. To stop\n * drawing the shape, call <a href=\"#/p5/endShape\">endShape()</a>. Each shape will be outlined with the\n * current stroke color and filled with the fill color.\n * <br><br>\n * Transformations such as <a href=\"#/p5/translate\">translate()</a>, <a href=\"#/p5/rotate\">rotate()</a>, and <a href=\"#/p5/scale\">scale()</a> do not work\n * within <a href=\"#/p5/beginShape\">beginShape()</a>. It is also not possible to use other shapes, such as\n * <a href=\"#/p5/ellipse\">ellipse()</a> or <a href=\"#/p5/rect\">rect()</a> within <a href=\"#/p5/beginShape\">beginShape()</a>.\n *\n * @method beginShape\n * @param  {Constant} [kind] either POINTS, LINES, TRIANGLES, TRIANGLE_FAN\n *                                TRIANGLE_STRIP, QUADS, or QUAD_STRIP\n * @chainable\n * @example\n * <div>\n * <code>\n * beginShape();\n * vertex(30, 20);\n * vertex(85, 20);\n * vertex(85, 75);\n * vertex(30, 75);\n * endShape(CLOSE);\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * beginShape(POINTS);\n * vertex(30, 20);\n * vertex(85, 20);\n * vertex(85, 75);\n * vertex(30, 75);\n * endShape();\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * beginShape(LINES);\n * vertex(30, 20);\n * vertex(85, 20);\n * vertex(85, 75);\n * vertex(30, 75);\n * endShape();\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * noFill();\n * beginShape();\n * vertex(30, 20);\n * vertex(85, 20);\n * vertex(85, 75);\n * vertex(30, 75);\n * endShape();\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * noFill();\n * beginShape();\n * vertex(30, 20);\n * vertex(85, 20);\n * vertex(85, 75);\n * vertex(30, 75);\n * endShape(CLOSE);\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * beginShape(TRIANGLES);\n * vertex(30, 75);\n * vertex(40, 20);\n * vertex(50, 75);\n * vertex(60, 20);\n * vertex(70, 75);\n * vertex(80, 20);\n * endShape();\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * beginShape(TRIANGLE_STRIP);\n * vertex(30, 75);\n * vertex(40, 20);\n * vertex(50, 75);\n * vertex(60, 20);\n * vertex(70, 75);\n * vertex(80, 20);\n * vertex(90, 75);\n * endShape();\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * beginShape(TRIANGLE_FAN);\n * vertex(57.5, 50);\n * vertex(57.5, 15);\n * vertex(92, 50);\n * vertex(57.5, 85);\n * vertex(22, 50);\n * vertex(57.5, 15);\n * endShape();\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * beginShape(QUADS);\n * vertex(30, 20);\n * vertex(30, 75);\n * vertex(50, 75);\n * vertex(50, 20);\n * vertex(65, 20);\n * vertex(65, 75);\n * vertex(85, 75);\n * vertex(85, 20);\n * endShape();\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * beginShape(QUAD_STRIP);\n * vertex(30, 20);\n * vertex(30, 75);\n * vertex(50, 20);\n * vertex(50, 75);\n * vertex(65, 20);\n * vertex(65, 75);\n * vertex(85, 20);\n * vertex(85, 75);\n * endShape();\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * beginShape();\n * vertex(20, 20);\n * vertex(40, 20);\n * vertex(40, 40);\n * vertex(60, 40);\n * vertex(60, 60);\n * vertex(20, 60);\n * endShape(CLOSE);\n * </code>\n * </div>\n * @alt\n * white square-shape with black outline in middle-right of canvas.\n * 4 black points in a square shape in middle-right of canvas.\n * 2 horizontal black lines. In the top-right and bottom-right of canvas.\n * 3 line shape with horizontal on top, vertical in middle and horizontal bottom.\n * square line shape in middle-right of canvas.\n * 2 white triangle shapes mid-right canvas. left one pointing up and right down.\n * 5 horizontal interlocking and alternating white triangles in mid-right canvas.\n * 4 interlocking white triangles in 45 degree rotated square-shape.\n * 2 white rectangle shapes in mid-right canvas. Both 20x55.\n * 3 side-by-side white rectangles center rect is smaller in mid-right canvas.\n * Thick white l-shape with black outline mid-top-left of canvas.\n *\n */\np5.prototype.beginShape = function(kind) {\n  p5._validateParameters('beginShape', arguments);\n  if (this._renderer.isP3D) {\n    this._renderer.beginShape.apply(this._renderer, arguments);\n  } else {\n    if (\n      kind === constants.POINTS ||\n      kind === constants.LINES ||\n      kind === constants.TRIANGLES ||\n      kind === constants.TRIANGLE_FAN ||\n      kind === constants.TRIANGLE_STRIP ||\n      kind === constants.QUADS ||\n      kind === constants.QUAD_STRIP\n    ) {\n      shapeKind = kind;\n    } else {\n      shapeKind = null;\n    }\n\n    vertices = [];\n    contourVertices = [];\n  }\n  return this;\n};\n\n/**\n * Specifies vertex coordinates for Bezier curves. Each call to\n * <a href=\"#/p5/bezierVertex\">bezierVertex()</a> defines the position of two control points and\n * one anchor point of a Bezier curve, adding a new segment to a\n * line or shape.\n * <br><br>\n * The first time <a href=\"#/p5/bezierVertex\">bezierVertex()</a> is used within a\n * <a href=\"#/p5/beginShape\">beginShape()</a> call, it must be prefaced with a call to <a href=\"#/p5/vertex\">vertex()</a>\n * to set the first anchor point. This function must be used between\n * <a href=\"#/p5/beginShape\">beginShape()</a> and <a href=\"#/p5/endShape\">endShape()</a> and only when there is no MODE\n * parameter specified to <a href=\"#/p5/beginShape\">beginShape()</a>.\n *\n * @method bezierVertex\n * @param  {Number} x2 x-coordinate for the first control point\n * @param  {Number} y2 y-coordinate for the first control point\n * @param  {Number} x3 x-coordinate for the second control point\n * @param  {Number} y3 y-coordinate for the second control point\n * @param  {Number} x4 x-coordinate for the anchor point\n * @param  {Number} y4 y-coordinate for the anchor point\n * @chainable\n * @example\n * <div>\n * <code>\n * strokeWeight(5);\n * point(30, 20);\n * point(80, 20);\n * point(80, 75);\n * point(30, 75);\n *\n * strokeWeight(1);\n * noFill();\n * beginShape();\n * vertex(30, 20);\n * bezierVertex(80, 20, 80, 75, 30, 75);\n * endShape();\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * strokeWeight(5);\n * point(30, 20);\n * point(80, 20);\n * point(80, 75);\n * point(30, 75);\n *\n * stroke(244, 122, 158);\n * point(50, 80);\n * point(60, 25);\n * point(30, 20);\n *\n * stroke(0);\n * strokeWeight(1);\n * beginShape();\n * vertex(30, 20);\n * bezierVertex(80, 20, 80, 75, 30, 75);\n * bezierVertex(50, 80, 60, 25, 30, 20);\n * endShape();\n * </code>\n * </div>\n *\n * @alt\n * crescent-shaped line in middle of canvas. Points facing left.\n * white crescent shape in middle of canvas. Points facing left.\n *\n */\np5.prototype.bezierVertex = function(x2, y2, x3, y3, x4, y4) {\n  p5._validateParameters('bezierVertex', arguments);\n  if (vertices.length === 0) {\n    throw new Error('vertex() must be used once before calling bezierVertex()');\n  } else {\n    isBezier = true;\n    var vert = [];\n    for (var i = 0; i < arguments.length; i++) {\n      vert[i] = arguments[i];\n    }\n    vert.isVert = false;\n    if (isContour) {\n      contourVertices.push(vert);\n    } else {\n      vertices.push(vert);\n    }\n  }\n  return this;\n};\n\n/**\n * Specifies vertex coordinates for curves. This function may only\n * be used between <a href=\"#/p5/beginShape\">beginShape()</a> and <a href=\"#/p5/endShape\">endShape()</a> and only when there\n * is no MODE parameter specified to <a href=\"#/p5/beginShape\">beginShape()</a>.\n * <br><br>\n * The first and last points in a series of <a href=\"#/p5/curveVertex\">curveVertex()</a> lines will be used to\n * guide the beginning and end of a the curve. A minimum of four\n * points is required to draw a tiny curve between the second and\n * third points. Adding a fifth point with <a href=\"#/p5/curveVertex\">curveVertex()</a> will draw\n * the curve between the second, third, and fourth points. The\n * <a href=\"#/p5/curveVertex\">curveVertex()</a> function is an implementation of Catmull-Rom\n * splines.\n *\n * @method curveVertex\n * @param {Number} x x-coordinate of the vertex\n * @param {Number} y y-coordinate of the vertex\n * @chainable\n * @example\n * <div>\n * <code>\n * strokeWeight(5);\n * point(84, 91);\n * point(68, 19);\n * point(21, 17);\n * point(32, 91);\n * strokeWeight(1);\n *\n * noFill();\n * beginShape();\n * curveVertex(84, 91);\n * curveVertex(84, 91);\n * curveVertex(68, 19);\n * curveVertex(21, 17);\n * curveVertex(32, 91);\n * curveVertex(32, 91);\n * endShape();\n * </code>\n * </div>\n *\n *\n * @alt\n * Upside-down u-shape line, mid canvas. left point extends beyond canvas view.\n *\n */\np5.prototype.curveVertex = function(x, y) {\n  p5._validateParameters('curveVertex', arguments);\n  isCurve = true;\n  this.vertex(x, y);\n  return this;\n};\n\n/**\n * Use the <a href=\"#/p5/beginContour\">beginContour()</a> and <a href=\"#/p5/endContour\">endContour()</a> functions to create negative\n * shapes within shapes such as the center of the letter 'O'. <a href=\"#/p5/beginContour\">beginContour()</a>\n * begins recording vertices for the shape and <a href=\"#/p5/endContour\">endContour()</a> stops recording.\n * The vertices that define a negative shape must \"wind\" in the opposite\n * direction from the exterior shape. First draw vertices for the exterior\n * clockwise order, then for internal shapes, draw vertices\n * shape in counter-clockwise.\n * <br><br>\n * These functions can only be used within a <a href=\"#/p5/beginShape\">beginShape()</a>/<a href=\"#/p5/endShape\">endShape()</a> pair and\n * transformations such as <a href=\"#/p5/translate\">translate()</a>, <a href=\"#/p5/rotate\">rotate()</a>, and <a href=\"#/p5/scale\">scale()</a> do not work\n * within a <a href=\"#/p5/beginContour\">beginContour()</a>/<a href=\"#/p5/endContour\">endContour()</a> pair. It is also not possible to use\n * other shapes, such as <a href=\"#/p5/ellipse\">ellipse()</a> or <a href=\"#/p5/rect\">rect()</a> within.\n *\n * @method endContour\n * @chainable\n * @example\n * <div>\n * <code>\n * translate(50, 50);\n * stroke(255, 0, 0);\n * beginShape();\n * // Exterior part of shape, clockwise winding\n * vertex(-40, -40);\n * vertex(40, -40);\n * vertex(40, 40);\n * vertex(-40, 40);\n * // Interior part of shape, counter-clockwise winding\n * beginContour();\n * vertex(-20, -20);\n * vertex(-20, 20);\n * vertex(20, 20);\n * vertex(20, -20);\n * endContour();\n * endShape(CLOSE);\n * </code>\n * </div>\n *\n * @alt\n * white rect and smaller grey rect with red outlines in center of canvas.\n *\n */\np5.prototype.endContour = function() {\n  var vert = contourVertices[0].slice(); // copy all data\n  vert.isVert = contourVertices[0].isVert;\n  vert.moveTo = false;\n  contourVertices.push(vert);\n\n  // prevent stray lines with multiple contours\n  if (isFirstContour) {\n    vertices.push(vertices[0]);\n    isFirstContour = false;\n  }\n\n  for (var i = 0; i < contourVertices.length; i++) {\n    vertices.push(contourVertices[i]);\n  }\n  return this;\n};\n\n/**\n * The <a href=\"#/p5/endShape\">endShape()</a> function is the companion to <a href=\"#/p5/beginShape\">beginShape()</a> and may only be\n * called after <a href=\"#/p5/beginShape\">beginShape()</a>. When <a href=\"#/p5/endshape\">endshape()</a> is called, all of image data\n * defined since the previous call to <a href=\"#/p5/beginShape\">beginShape()</a> is written into the image\n * buffer. The constant CLOSE as the value for the MODE parameter to close\n * the shape (to connect the beginning and the end).\n *\n * @method endShape\n * @param  {Constant} [mode] use CLOSE to close the shape\n * @chainable\n * @example\n * <div>\n * <code>\n * noFill();\n *\n * beginShape();\n * vertex(20, 20);\n * vertex(45, 20);\n * vertex(45, 80);\n * endShape(CLOSE);\n *\n * beginShape();\n * vertex(50, 20);\n * vertex(75, 20);\n * vertex(75, 80);\n * endShape();\n * </code>\n * </div>\n *\n * @alt\n * Triangle line shape with smallest interior angle on bottom and upside-down L.\n *\n */\np5.prototype.endShape = function(mode) {\n  p5._validateParameters('endShape', arguments);\n  if (this._renderer.isP3D) {\n    this._renderer.endShape(\n      mode,\n      isCurve,\n      isBezier,\n      isQuadratic,\n      isContour,\n      shapeKind\n    );\n  } else {\n    if (vertices.length === 0) {\n      return this;\n    }\n    if (!this._renderer._doStroke && !this._renderer._doFill) {\n      return this;\n    }\n\n    var closeShape = mode === constants.CLOSE;\n\n    // if the shape is closed, the first element is also the last element\n    if (closeShape && !isContour) {\n      vertices.push(vertices[0]);\n    }\n\n    this._renderer.endShape(\n      mode,\n      vertices,\n      isCurve,\n      isBezier,\n      isQuadratic,\n      isContour,\n      shapeKind\n    );\n\n    // Reset some settings\n    isCurve = false;\n    isBezier = false;\n    isQuadratic = false;\n    isContour = false;\n    isFirstContour = true;\n\n    // If the shape is closed, the first element was added as last element.\n    // We must remove it again to prevent the list of vertices from growing\n    // over successive calls to endShape(CLOSE)\n    if (closeShape) {\n      vertices.pop();\n    }\n  }\n  return this;\n};\n\n/**\n * Specifies vertex coordinates for quadratic Bezier curves. Each call to\n * <a href=\"#/p5/quadraticVertex\">quadraticVertex()</a> defines the position of one control points and one\n * anchor point of a Bezier curve, adding a new segment to a line or shape.\n * The first time <a href=\"#/p5/quadraticVertex\">quadraticVertex()</a> is used within a <a href=\"#/p5/beginShape\">beginShape()</a> call, it\n * must be prefaced with a call to <a href=\"#/p5/vertex\">vertex()</a> to set the first anchor point.\n * This function must be used between <a href=\"#/p5/beginShape\">beginShape()</a> and <a href=\"#/p5/endShape\">endShape()</a> and only\n * when there is no MODE parameter specified to <a href=\"#/p5/beginShape\">beginShape()</a>.\n *\n * @method quadraticVertex\n * @param  {Number} cx x-coordinate for the control point\n * @param  {Number} cy y-coordinate for the control point\n * @param  {Number} x3 x-coordinate for the anchor point\n * @param  {Number} y3 y-coordinate for the anchor point\n * @chainable\n * @example\n * <div>\n * <code>\n * strokeWeight(5);\n * point(20, 20);\n * point(80, 20);\n * point(50, 50);\n *\n * noFill();\n * strokeWeight(1);\n * beginShape();\n * vertex(20, 20);\n * quadraticVertex(80, 20, 50, 50);\n * endShape();\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * strokeWeight(5);\n * point(20, 20);\n * point(80, 20);\n * point(50, 50);\n *\n * point(20, 80);\n * point(80, 80);\n * point(80, 60);\n *\n * noFill();\n * strokeWeight(1);\n * beginShape();\n * vertex(20, 20);\n * quadraticVertex(80, 20, 50, 50);\n * quadraticVertex(20, 80, 80, 80);\n * vertex(80, 60);\n * endShape();\n * </code>\n * </div>\n *\n * @alt\n * arched-shaped black line with 4 pixel thick stroke weight.\n * backwards s-shaped black line with 4 pixel thick stroke weight.\n *\n */\np5.prototype.quadraticVertex = function(cx, cy, x3, y3) {\n  p5._validateParameters('quadraticVertex', arguments);\n  //if we're drawing a contour, put the points into an\n  // array for inside drawing\n  if (this._contourInited) {\n    var pt = {};\n    pt.x = cx;\n    pt.y = cy;\n    pt.x3 = x3;\n    pt.y3 = y3;\n    pt.type = constants.QUADRATIC;\n    this._contourVertices.push(pt);\n\n    return this;\n  }\n  if (vertices.length > 0) {\n    isQuadratic = true;\n    var vert = [];\n    for (var i = 0; i < arguments.length; i++) {\n      vert[i] = arguments[i];\n    }\n    vert.isVert = false;\n    if (isContour) {\n      contourVertices.push(vert);\n    } else {\n      vertices.push(vert);\n    }\n  } else {\n    throw new Error(\n      'vertex() must be used once before calling quadraticVertex()'\n    );\n  }\n  return this;\n};\n\n/**\n * All shapes are constructed by connecting a series of vertices. <a href=\"#/p5/vertex\">vertex()</a>\n * is used to specify the vertex coordinates for points, lines, triangles,\n * quads, and polygons. It is used exclusively within the <a href=\"#/p5/beginShape\">beginShape()</a> and\n * <a href=\"#/p5/endShape\">endShape()</a> functions.\n *\n * @method vertex\n * @param  {Number} x x-coordinate of the vertex\n * @param  {Number} y y-coordinate of the vertex\n * @chainable\n * @example\n * <div>\n * <code>\n * strokeWeight(3);\n * beginShape(POINTS);\n * vertex(30, 20);\n * vertex(85, 20);\n * vertex(85, 75);\n * vertex(30, 75);\n * endShape();\n * </code>\n * </div>\n *\n * @alt\n * 4 black points in a square shape in middle-right of canvas.\n *\n * <div>\n * <code>\n * createCanvas(100, 100, WEBGL);\n * background(240, 240, 240);\n * fill(237, 34, 93);\n * noStroke();\n * beginShape();\n * vertex(0, 35);\n * vertex(35, 0);\n * vertex(0, -35);\n * vertex(-35, 0);\n * endShape();\n * </code>\n * </div>\n *\n * @alt\n * 4 points making a diamond shape\n *\n * <div>\n * <code>\n * createCanvas(100, 100, WEBGL);\n * background(240, 240, 240);\n * fill(237, 34, 93);\n * noStroke();\n * beginShape();\n * vertex(-10, 10);\n * vertex(0, 35);\n * vertex(10, 10);\n * vertex(35, 0);\n * vertex(10, -8);\n * vertex(0, -35);\n * vertex(-10, -8);\n * vertex(-35, 0);\n * endShape();\n * </code>\n * </div>\n *\n * @alt\n * 8 points making a star\n *\n * <div>\n * <code>\n * strokeWeight(3);\n * stroke(237, 34, 93);\n * beginShape(LINES);\n * vertex(10, 35);\n * vertex(90, 35);\n * vertex(10, 65);\n * vertex(90, 65);\n * vertex(35, 10);\n * vertex(35, 90);\n * vertex(65, 10);\n * vertex(65, 90);\n * endShape();\n * </code>\n * </div>\n *\n * @alt\n * 8 points making 4 lines\n *\n */\n/**\n * @method vertex\n * @param  {Number} x\n * @param  {Number} y\n * @param  {Number} z   z-coordinate of the vertex\n * @param  {Number} [u] the vertex's texture u-coordinate\n * @param  {Number} [v] the vertex's texture v-coordinate\n * @chainable\n */\np5.prototype.vertex = function(x, y, moveTo, u, v) {\n  if (this._renderer.isP3D) {\n    this._renderer.vertex.apply(this._renderer, arguments);\n  } else {\n    var vert = [];\n    vert.isVert = true;\n    vert[0] = x;\n    vert[1] = y;\n    vert[2] = 0;\n    vert[3] = 0;\n    vert[4] = 0;\n    vert[5] = this._renderer._getFill();\n    vert[6] = this._renderer._getStroke();\n\n    if (moveTo) {\n      vert.moveTo = moveTo;\n    }\n    if (isContour) {\n      if (contourVertices.length === 0) {\n        vert.moveTo = true;\n      }\n      contourVertices.push(vert);\n    } else {\n      vertices.push(vert);\n    }\n  }\n  return this;\n};\n\nmodule.exports = p5;\n",
          "filepath": "data/repos/processing/p5.js-0.7/src/core/shape/vertex.js",
          "repo": "processing/p5.js",
          "version": "0.7",
          "chunk_index": 0,
          "chunk_id": "8e0c3b74-b900-44a3-bfc4-f8ebfe28ac69"
        }
      },
      {
        "id": "009dfd03-c402-47e0-adbe-39b623d883f7",
        "score": 0.015873015873015872,
        "payload": {
          "text": "/**\n * @module Image\n * @submodule Pixels\n * @for p5\n * @requires core\n */\n\n'use strict';\n\nvar p5 = require('../core/main');\nvar Filters = require('./filters');\nrequire('../color/p5.Color');\n\n/**\n * <a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference\n * /Global_Objects/Uint8ClampedArray' target='_blank'>Uint8ClampedArray</a>\n * containing the values for all the pixels in the display window.\n * These values are numbers. This array is the size (include an appropriate\n * factor for <a href=\"#/p5/pixelDensity\">pixelDensity</a>) of the display window x4,\n * representing the R, G, B, A values in order for each pixel, moving from\n * left to right across each row, then down each column. Retina and other\n * high density displays will have more pixels[] (by a factor of\n * pixelDensity^2).\n * For example, if the image is 100x100 pixels, there will be 40,000. On a\n * retina display, there will be 160,000.\n * <br><br>\n * The first four values (indices 0-3) in the array will be the R, G, B, A\n * values of the pixel at (0, 0). The second four values (indices 4-7) will\n * contain the R, G, B, A values of the pixel at (1, 0). More generally, to\n * set values for a pixel at (x, y):\n * ```javascript\n * var d = pixelDensity();\n * for (var i = 0; i < d; i++) {\n *   for (var j = 0; j < d; j++) {\n *     // loop over\n *     idx = 4 * ((y * d + j) * width * d + (x * d + i));\n *     pixels[idx] = r;\n *     pixels[idx+1] = g;\n *     pixels[idx+2] = b;\n *     pixels[idx+3] = a;\n *   }\n * }\n * ```\n * <p>While the above method is complex, it is flexible enough to work with\n * any pixelDensity. Note that <a href=\"#/p5/set\">set()</a> will automatically take care of\n * setting all the appropriate values in <a href=\"#/p5/pixels\">pixels[]</a> for a given (x, y) at\n * any pixelDensity, but the performance may not be as fast when lots of\n * modifications are made to the pixel array.\n * <br><br>\n * Before accessing this array, the data must loaded with the <a href=\"#/p5/loadPixels\">loadPixels()</a>\n * function. After the array data has been modified, the <a href=\"#/p5/updatePixels\">updatePixels()</a>\n * function must be run to update the changes.\n * <br><br>\n * Note that this is not a standard javascript array.  This means that\n * standard javascript functions such as <a href=\"#/p5/slice\">slice()</a> or\n * <a href=\"#/p5/arrayCopy\">arrayCopy()</a> do not\n * work.</p>\n *\n * @property {Number[]} pixels\n * @example\n * <div>\n * <code>\n * var pink = color(255, 102, 204);\n * loadPixels();\n * var d = pixelDensity();\n * var halfImage = 4 * (width * d) * (height / 2 * d);\n * for (var i = 0; i < halfImage; i += 4) {\n *   pixels[i] = red(pink);\n *   pixels[i + 1] = green(pink);\n *   pixels[i + 2] = blue(pink);\n *   pixels[i + 3] = alpha(pink);\n * }\n * updatePixels();\n * </code>\n * </div>\n *\n * @alt\n * top half of canvas pink, bottom grey\n *\n */\np5.prototype.pixels = [];\n\n/**\n * Copies a region of pixels from one image to another, using a specified\n * blend mode to do the operation.\n *\n * @method blend\n * @param  {p5.Image} srcImage source image\n * @param  {Integer} sx X coordinate of the source's upper left corner\n * @param  {Integer} sy Y coordinate of the source's upper left corner\n * @param  {Integer} sw source image width\n * @param  {Integer} sh source image height\n * @param  {Integer} dx X coordinate of the destination's upper left corner\n * @param  {Integer} dy Y coordinate of the destination's upper left corner\n * @param  {Integer} dw destination image width\n * @param  {Integer} dh destination image height\n * @param  {Constant} blendMode the blend mode. either\n *     BLEND, DARKEST, LIGHTEST, DIFFERENCE,\n *     MULTIPLY, EXCLUSION, SCREEN, REPLACE, OVERLAY, HARD_LIGHT,\n *     SOFT_LIGHT, DODGE, BURN, ADD or NORMAL.\n *\n * @example\n * <div><code>\n * var img0;\n * var img1;\n *\n * function preload() {\n *   img0 = loadImage('assets/rockies.jpg');\n *   img1 = loadImage('assets/bricks_third.jpg');\n * }\n *\n * function setup() {\n *   background(img0);\n *   image(img1, 0, 0);\n *   blend(img1, 0, 0, 33, 100, 67, 0, 33, 100, LIGHTEST);\n * }\n * </code></div>\n * <div><code>\n * var img0;\n * var img1;\n *\n * function preload() {\n *   img0 = loadImage('assets/rockies.jpg');\n *   img1 = loadImage('assets/bricks_third.jpg');\n * }\n *\n * function setup() {\n *   background(img0);\n *   image(img1, 0, 0);\n *   blend(img1, 0, 0, 33, 100, 67, 0, 33, 100, DARKEST);\n * }\n * </code></div>\n * <div><code>\n * var img0;\n * var img1;\n *\n * function preload() {\n *   img0 = loadImage('assets/rockies.jpg');\n *   img1 = loadImage('assets/bricks_third.jpg');\n * }\n *\n * function setup() {\n *   background(img0);\n *   image(img1, 0, 0);\n *   blend(img1, 0, 0, 33, 100, 67, 0, 33, 100, ADD);\n * }\n * </code></div>\n *\n * @alt\n * image of rocky mountains. Brick images on left and right. Right overexposed\n * image of rockies. Brickwall images on left and right. Right mortar transparent\n * image of rockies. Brickwall images on left and right. Right translucent\n *\n *\n */\n/**\n * @method blend\n * @param  {Integer} sx\n * @param  {Integer} sy\n * @param  {Integer} sw\n * @param  {Integer} sh\n * @param  {Integer} dx\n * @param  {Integer} dy\n * @param  {Integer} dw\n * @param  {Integer} dh\n * @param  {Constant} blendMode\n */\np5.prototype.blend = function() {\n  p5._validateParameters('blend', arguments);\n  if (this._renderer) {\n    this._renderer.blend.apply(this._renderer, arguments);\n  } else {\n    p5.Renderer2D.prototype.blend.apply(this, arguments);\n  }\n};\n\n/**\n * Copies a region of the canvas to another region of the canvas\n * and copies a region of pixels from an image used as the srcImg parameter\n * into the canvas srcImage is specified this is used as the source. If\n * the source and destination regions aren't the same size, it will\n * automatically resize source pixels to fit the specified\n * target region.\n *\n * @method copy\n * @param  {p5.Image|p5.Element} srcImage source image\n * @param  {Integer} sx X coordinate of the source's upper left corner\n * @param  {Integer} sy Y coordinate of the source's upper left corner\n * @param  {Integer} sw source image width\n * @param  {Integer} sh source image height\n * @param  {Integer} dx X coordinate of the destination's upper left corner\n * @param  {Integer} dy Y coordinate of the destination's upper left corner\n * @param  {Integer} dw destination image width\n * @param  {Integer} dh destination image height\n *\n * @example\n * <div><code>\n * var img;\n *\n * function preload() {\n *   img = loadImage('assets/rockies.jpg');\n * }\n *\n * function setup() {\n *   background(img);\n *   copy(img, 7, 22, 10, 10, 35, 25, 50, 50);\n *   stroke(255);\n *   noFill();\n *   // Rectangle shows area being copied\n *   rect(7, 22, 10, 10);\n * }\n * </code></div>\n *\n * @alt\n * image of rocky mountains. Brick images on left and right. Right overexposed\n * image of rockies. Brickwall images on left and right. Right mortar transparent\n * image of rockies. Brickwall images on left and right. Right translucent\n *\n */\n/**\n * @method copy\n * @param  {Integer} sx\n * @param  {Integer} sy\n * @param  {Integer} sw\n * @param  {Integer} sh\n * @param  {Integer} dx\n * @param  {Integer} dy\n * @param  {Integer} dw\n * @param  {Integer} dh\n */\np5.prototype.copy = function() {\n  p5._validateParameters('copy', arguments);\n  p5.Renderer2D.prototype.copy.apply(this._renderer, arguments);\n};\n\n/**\n * Applies a filter to the canvas.\n * <br><br>\n *\n * The presets options are:\n * <br><br>\n *\n * THRESHOLD\n * Converts the image to black and white pixels depending if they are above or\n * below the threshold defined by the level parameter. The parameter must be\n * between 0.0 (black) and 1.0 (white). If no level is specified, 0.5 is used.\n * <br><br>\n *\n * GRAY\n * Converts any colors in the image to grayscale equivalents. No parameter\n * is used.\n * <br><br>\n *\n * OPAQUE\n * Sets the alpha channel to entirely opaque. No parameter is used.\n * <br><br>\n *\n * INVERT\n * Sets each pixel to its inverse value. No parameter is used.\n * <br><br>\n *\n * POSTERIZE\n * Limits each channel of the image to the number of colors specified as the\n * parameter. The parameter can be set to values between 2 and 255, but\n * results are most noticeable in the lower ranges.\n * <br><br>\n *\n * BLUR\n * Executes a Gaussian blur with the level parameter specifying the extent\n * of the blurring. If no parameter is used, the blur is equivalent to\n * Gaussian blur of radius 1. Larger values increase the blur.\n * <br><br>\n *\n * ERODE\n * Reduces the light areas. No parameter is used.\n * <br><br>\n *\n * DILATE\n * Increases the light areas. No parameter is used.\n *\n * @method filter\n * @param  {Constant} filterType  either THRESHOLD, GRAY, OPAQUE, INVERT,\n *                                POSTERIZE, BLUR, ERODE, DILATE or BLUR.\n *                                See Filters.js for docs on\n *                                each available filter\n * @param  {Number} [filterParam] an optional parameter unique\n *                                to each filter, see above\n *\n * @example\n * <div>\n * <code>\n * var img;\n * function preload() {\n *   img = loadImage('assets/bricks.jpg');\n * }\n * function setup() {\n *   image(img, 0, 0);\n *   filter(THRESHOLD);\n * }\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * var img;\n * function preload() {\n *   img = loadImage('assets/bricks.jpg');\n * }\n * function setup() {\n *   image(img, 0, 0);\n *   filter(GRAY);\n * }\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * var img;\n * function preload() {\n *   img = loadImage('assets/bricks.jpg');\n * }\n * function setup() {\n *   image(img, 0, 0);\n *   filter(OPAQUE);\n * }\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * var img;\n * function preload() {\n *   img = loadImage('assets/bricks.jpg');\n * }\n * function setup() {\n *   image(img, 0, 0);\n *   filter(INVERT);\n * }\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * var img;\n * function preload() {\n *   img = loadImage('assets/bricks.jpg');\n * }\n * function setup() {\n *   image(img, 0, 0);\n *   filter(POSTERIZE, 3);\n * }\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * var img;\n * function preload() {\n *   img = loadImage('assets/bricks.jpg');\n * }\n * function setup() {\n *   image(img, 0, 0);\n *   filter(DILATE);\n * }\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * var img;\n * function preload() {\n *   img = loadImage('assets/bricks.jpg');\n * }\n * function setup() {\n *   image(img, 0, 0);\n *   filter(BLUR, 3);\n * }\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * var img;\n * function preload() {\n *   img = loadImage('assets/bricks.jpg');\n * }\n * function setup() {\n *   image(img, 0, 0);\n *   filter(ERODE);\n * }\n * </code>\n * </div>\n *\n * @alt\n * black and white image of a brick wall.\n * greyscale image of a brickwall\n * image of a brickwall\n * jade colored image of a brickwall\n * red and pink image of a brickwall\n * image of a brickwall\n * blurry image of a brickwall\n * image of a brickwall\n * image of a brickwall with less detail\n *\n */\np5.prototype.filter = function(operation, value) {\n  p5._validateParameters('filter', arguments);\n  if (this.canvas !== undefined) {\n    Filters.apply(this.canvas, Filters[operation.toLowerCase()], value);\n  } else {\n    Filters.apply(this.elt, Filters[operation.toLowerCase()], value);\n  }\n};\n\n/**\n * Returns an array of [R,G,B,A] values for any pixel or grabs a section of\n * an image. If no parameters are specified, the entire image is returned.\n * Use the x and y parameters to get the value of one pixel. Get a section of\n * the display window by specifying additional w and h parameters. When\n * getting an image, the x and y parameters define the coordinates for the\n * upper-left corner of the image, regardless of the current <a href=\"#/p5/imageMode\">imageMode()</a>.\n * <br><br>\n * If the pixel requested is outside of the image window, [0,0,0,255] is\n * returned. To get the numbers scaled according to the current color ranges\n * and taking into account <a href=\"#/p5/colorMode\">colorMode</a>, use <a href=\"#/p5/getColor\">getColor</a> instead of get.\n * <br><br>\n * Getting the color of a single pixel with get(x, y) is easy, but not as fast\n * as grabbing the data directly from <a href=\"#/p5/pixels\">pixels[]</a>. The equivalent statement to\n * get(x, y) using <a href=\"#/p5/pixels\">pixels[]</a> with pixel density d is\n * <code>\n * var x, y, d; // set these to the coordinates\n * var off = (y * width + x) * d * 4;\n * var components = [\n *   pixels[off],\n *   pixels[off + 1],\n *   pixels[off + 2],\n *   pixels[off + 3]\n * ];\n * print(components);\n * </code>\n * <br><br>\n * See the reference for <a href=\"#/p5/pixels\">pixels[]</a> for more information.\n *\n * If you want to extract an array of colors or a subimage from an p5.Image object,\n * take a look at <a href=\"#/p5.Image/get\">p5.Image.get()</a>\n *\n * @method get\n * @param  {Number}         [x] x-coordinate of the pixel\n * @param  {Number}         [y] y-coordinate of the pixel\n * @param  {Number}         [w] width\n * @param  {Number}         [h] height\n * @return {Number[]|p5.Image}  values of pixel at x,y in array format\n *                              [R, G, B, A] or <a href=\"#/p5.Image\">p5.Image</a>\n * @example\n * <div>\n * <code>\n * var img;\n * function preload() {\n *   img = loadImage('assets/rockies.jpg');\n * }\n * function setup() {\n *   image(img, 0, 0);\n *   var c = get();\n *   image(c, width / 2, 0);\n * }\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * var img;\n * function preload() {\n *   img = loadImage('assets/rockies.jpg');\n * }\n * function setup() {\n *   image(img, 0, 0);\n *   var c = get(50, 90);\n *   fill(c);\n *   noStroke();\n *   rect(25, 25, 50, 50);\n * }\n * </code>\n * </div>\n *\n * @alt\n * 2 images of the rocky mountains, side-by-side\n * Image of the rocky mountains with 50x50 green rect in center of canvas\n *\n */\np5.prototype.get = function(x, y, w, h) {\n  return this._renderer.get(x, y, w, h);\n};\n\n/**\n * Loads the pixel data for the display window into the <a href=\"#/p5/pixels\">pixels[]</a> array. This\n * function must always be called before reading from or writing to <a href=\"#/p5/pixels\">pixels[]</a>.\n * Note that only changes made with <a href=\"#/p5/set\">set()</a> or direct manipulation of <a href=\"#/p5/pixels\">pixels[]</a>\n * will occur.\n *\n * @method loadPixels\n * @example\n * <div>\n * <code>\n * var img;\n * function preload() {\n *   img = loadImage('assets/rockies.jpg');\n * }\n *\n * function setup() {\n *   image(img, 0, 0);\n *   var d = pixelDensity();\n *   var halfImage = 4 * (img.width * d) * (img.height * d / 2);\n *   loadPixels();\n *   for (var i = 0; i < halfImage; i++) {\n *     pixels[i + halfImage] = pixels[i];\n *   }\n *   updatePixels();\n * }\n * </code>\n * </div>\n *\n * @alt\n * two images of the rocky mountains. one on top, one on bottom of canvas.\n *\n */\np5.prototype.loadPixels = function() {\n  p5._validateParameters('loadPixels', arguments);\n  this._renderer.loadPixels();\n};\n\n/**\n * <p>Changes the color of any pixel, or writes an image directly to the\n * display window.</p>\n * <p>The x and y parameters specify the pixel to change and the c parameter\n * specifies the color value. This can be a <a href=\"#/p5.Color\">p5.Color</a> object, or [R, G, B, A]\n * pixel array. It can also be a single grayscale value.\n * When setting an image, the x and y parameters define the coordinates for\n * the upper-left corner of the image, regardless of the current <a href=\"#/p5/imageMode\">imageMode()</a>.\n * </p>\n * <p>\n * After using <a href=\"#/p5/set\">set()</a>, you must call <a href=\"#/p5/updatePixels\">updatePixels()</a> for your changes to appear.\n * This should be called once all pixels have been set, and must be called before\n * calling .<a href=\"#/p5/get\">get()</a> or drawing the image.\n * </p>\n * <p>Setting the color of a single pixel with set(x, y) is easy, but not as\n * fast as putting the data directly into <a href=\"#/p5/pixels\">pixels[]</a>. Setting the <a href=\"#/p5/pixels\">pixels[]</a>\n * values directly may be complicated when working with a retina display,\n * but will perform better when lots of pixels need to be set directly on\n * every loop.</p>\n * <p>See the reference for <a href=\"#/p5/pixels\">pixels[]</a> for more information.</p>\n *\n * @method set\n * @param {Number}              x x-coordinate of the pixel\n * @param {Number}              y y-coordinate of the pixel\n * @param {Number|Number[]|Object} c insert a grayscale value | a pixel array |\n *                                a <a href=\"#/p5.Color\">p5.Color</a> object | a <a href=\"#/p5.Image\">p5.Image</a> to copy\n * @example\n * <div>\n * <code>\n * var black = color(0);\n * set(30, 20, black);\n * set(85, 20, black);\n * set(85, 75, black);\n * set(30, 75, black);\n * updatePixels();\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * for (var i = 30; i < width - 15; i++) {\n *   for (var j = 20; j < height - 25; j++) {\n *     var c = color(204 - j, 153 - i, 0);\n *     set(i, j, c);\n *   }\n * }\n * updatePixels();\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * var img;\n * function preload() {\n *   img = loadImage('assets/rockies.jpg');\n * }\n *\n * function setup() {\n *   set(0, 0, img);\n *   updatePixels();\n *   line(0, 0, width, height);\n *   line(0, height, width, 0);\n * }\n * </code>\n * </div>\n *\n * @alt\n * 4 black points in the shape of a square middle-right of canvas.\n * square with orangey-brown gradient lightening at bottom right.\n * image of the rocky mountains. with lines like an 'x' through the center.\n */\np5.prototype.set = function(x, y, imgOrCol) {\n  this._renderer.set(x, y, imgOrCol);\n};\n/**\n * Updates the display window with the data in the <a href=\"#/p5/pixels\">pixels[]</a> array.\n * Use in conjunction with <a href=\"#/p5/loadPixels\">loadPixels()</a>. If you're only reading pixels from\n * the array, there's no need to call <a href=\"#/p5/updatePixels\">updatePixels()</a> \u2014 updating is only\n * necessary to apply changes. <a href=\"#/p5/updatePixels\">updatePixels()</a> should be called anytime the\n * pixels array is manipulated or <a href=\"#/p5/set\">set()</a> is called, and only changes made with\n * <a href=\"#/p5/set\">set()</a> or direct changes to <a href=\"#/p5/pixels\">pixels[]</a> will occur.\n *\n * @method updatePixels\n * @param  {Number} [x]    x-coordinate of the upper-left corner of region\n *                         to update\n * @param  {Number} [y]    y-coordinate of the upper-left corner of region\n *                         to update\n * @param  {Number} [w]    width of region to update\n * @param  {Number} [h]    height of region to update\n * @example\n * <div>\n * <code>\n * var img;\n * function preload() {\n *   img = loadImage('assets/rockies.jpg');\n * }\n *\n * function setup() {\n *   image(img, 0, 0);\n *   var d = pixelDensity();\n *   var halfImage = 4 * (img.width * d) * (img.height * d / 2);\n *   loadPixels();\n *   for (var i = 0; i < halfImage; i++) {\n *     pixels[i + halfImage] = pixels[i];\n *   }\n *   updatePixels();\n * }\n * </code>\n * </div>\n * @alt\n * two images of the rocky mountains. one on top, one on bottom of canvas.\n */\np5.prototype.updatePixels = function(x, y, w, h) {\n  p5._validateParameters('updatePixels', arguments);\n  // graceful fail - if loadPixels() or set() has not been called, pixel\n  // array will be empty, ignore call to updatePixels()\n  if (this.pixels.length === 0) {\n    return;\n  }\n  this._renderer.updatePixels(x, y, w, h);\n};\n\nmodule.exports = p5;\n",
          "filepath": "data/repos/processing/p5.js-0.7/src/image/pixels.js",
          "repo": "processing/p5.js",
          "version": "0.7",
          "chunk_index": 0,
          "chunk_id": "009dfd03-c402-47e0-adbe-39b623d883f7"
        }
      },
      {
        "id": "95b2f1c8-a4e0-4169-b576-773e68dc862e",
        "score": 0.015625,
        "payload": {
          "text": "/**\n * @module Lights, Camera\n * @submodule Material\n * @for p5\n * @requires core\n */\n\n'use strict';\n\nvar p5 = require('../core/main');\nvar constants = require('../core/constants');\nrequire('./p5.Texture');\n\n/**\n * Loads a custom shader from the provided vertex and fragment\n * shader paths. The shader files are loaded asynchronously in the\n * background, so this method should be used in <a href=\"#/p5/preload\">preload()</a>.\n *\n * For now, there are three main types of shaders. p5 will automatically\n * supply appropriate vertices, normals, colors, and lighting attributes\n * if the parameters defined in the shader match the names.\n *\n * @method loadShader\n * @param {String} [vertFilename] path to file containing vertex shader\n * source code\n * @param {String} [fragFilename] path to file containing fragment shader\n * source code\n * @return {p5.Shader} a shader object created from the provided\n * vertex and fragment shader files.\n *\n * @example\n * <div modernizr='webgl'>\n * <code>\n * var mandel;\n * function preload() {\n *   // load the shader definitions from files\n *   mandel = loadShader('assets/shader.vert', 'assets/shader.frag');\n * }\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n *   // use the shader\n *   shader(mandel);\n *   noStroke();\n *   mandel.setUniform('p', [-0.74364388703, 0.13182590421]);\n * }\n *\n * function draw() {\n *   mandel.setUniform('r', 1.5 * exp(-6.5 * (1 + sin(millis() / 2000))));\n *   quad(-1, -1, 1, -1, 1, 1, -1, 1);\n * }\n * </code>\n * </div>\n *\n * @alt\n * zooming Mandelbrot set. a colorful, infinitely detailed fractal.\n */\np5.prototype.loadShader = function(vertFilename, fragFilename) {\n  p5._validateParameters('loadShader', arguments);\n  var loadedShader = new p5.Shader();\n\n  var self = this;\n  var loadedFrag = false;\n  var loadedVert = false;\n\n  this.loadStrings(fragFilename, function(result) {\n    loadedShader._fragSrc = result.join('\\n');\n    loadedFrag = true;\n    if (loadedVert) {\n      self._decrementPreload();\n    }\n  });\n  this.loadStrings(vertFilename, function(result) {\n    loadedShader._vertSrc = result.join('\\n');\n    loadedVert = true;\n    if (loadedFrag) {\n      self._decrementPreload();\n    }\n  });\n\n  return loadedShader;\n};\n\n/**\n * @method createShader\n * @param {String} vertSrc source code for the vertex shader\n * @param {String} fragSrc source code for the fragment shader\n * @returns {p5.Shader} a shader object created from the provided\n * vertex and fragment shaders.\n *\n * @example\n * <div modernizr='webgl'>\n * <code>\n * // the 'varying's are shared between both vertex & fragment shaders\n * var varying = 'precision highp float; varying vec2 vPos;';\n *\n * // the vertex shader is called for each vertex\n * var vs =\n *   varying +\n *   'attribute vec3 aPosition;' +\n *   'void main() { vPos = (gl_Position = vec4(aPosition,1.0)).xy; }';\n *\n * // the fragment shader is called for each pixel\n * var fs =\n *   varying +\n *   'uniform vec2 p;' +\n *   'uniform float r;' +\n *   'const int I = 500;' +\n *   'void main() {' +\n *   '  vec2 c = p + vPos * r, z = c;' +\n *   '  float n = 0.0;' +\n *   '  for (int i = I; i > 0; i --) {' +\n *   '    if(z.x*z.x+z.y*z.y > 4.0) {' +\n *   '      n = float(i)/float(I);' +\n *   '      break;' +\n *   '    }' +\n *   '    z = vec2(z.x*z.x-z.y*z.y, 2.0*z.x*z.y) + c;' +\n *   '  }' +\n *   '  gl_FragColor = vec4(0.5-cos(n*17.0)/2.0,0.5-cos(n*13.0)/2.0,0.5-cos(n*23.0)/2.0,1.0);' +\n *   '}';\n *\n * var mandel;\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n *\n *   // create and initialize the shader\n *   mandel = createShader(vs, fs);\n *   shader(mandel);\n *   noStroke();\n *\n *   // 'p' is the center point of the Mandelbrot image\n *   mandel.setUniform('p', [-0.74364388703, 0.13182590421]);\n * }\n *\n * function draw() {\n *   // 'r' is the size of the image in Mandelbrot-space\n *   mandel.setUniform('r', 1.5 * exp(-6.5 * (1 + sin(millis() / 2000))));\n *   quad(-1, -1, 1, -1, 1, 1, -1, 1);\n * }\n * </code>\n * </div>\n *\n * @alt\n * zooming Mandelbrot set. a colorful, infinitely detailed fractal.\n */\np5.prototype.createShader = function(vertSrc, fragSrc) {\n  this._assert3d('createShader');\n  p5._validateParameters('createShader', arguments);\n  return new p5.Shader(this._renderer, vertSrc, fragSrc);\n};\n\n/**\n * The <a href=\"#/p5/shader\">shader()</a> function lets the user provide a custom shader\n * to fill in shapes in WEBGL mode. Users can create their\n * own shaders by loading vertex and fragment shaders with\n * <a href=\"#/p5/loadShader\">loadShader()</a>.\n *\n * @method shader\n * @chainable\n * @param {p5.Shader} [s] the desired <a href=\"#/p5.Shader\">p5.Shader</a> to use for rendering\n * shapes.\n */\np5.prototype.shader = function(s) {\n  this._assert3d('shader');\n  p5._validateParameters('shader', arguments);\n  if (s._renderer === undefined) {\n    s._renderer = this._renderer;\n  }\n  if (s.isStrokeShader()) {\n    this._renderer.setStrokeShader(s);\n  } else {\n    this._renderer.setFillShader(s);\n  }\n  return this;\n};\n\n/**\n * Normal material for geometry. You can view all\n * possible materials in this\n * <a href=\"https://p5js.org/examples/3d-materials.html\">example</a>.\n * @method normalMaterial\n * @chainable\n * @example\n * <div>\n * <code>\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n * }\n *\n * function draw() {\n *   background(200);\n *   normalMaterial();\n *   sphere(50);\n * }\n * </code>\n * </div>\n *\n * @alt\n * Red, green and blue gradient.\n *\n */\np5.prototype.normalMaterial = function() {\n  this._assert3d('normalMaterial');\n  p5._validateParameters('normalMaterial', arguments);\n  this._renderer.drawMode = constants.FILL;\n  this._renderer.setFillShader(this._renderer._getNormalShader());\n  this._renderer.curFillColor = [1, 1, 1, 1];\n  this.noStroke();\n  return this;\n};\n\n/**\n * Texture for geometry.  You can view other possible materials in this\n * <a href=\"https://p5js.org/examples/3d-materials.html\">example</a>.\n * @method texture\n * @param {p5.Image|p5.MediaElement|p5.Graphics} tex 2-dimensional graphics\n *                    to render as texture\n * @chainable\n * @example\n * <div>\n * <code>\n * var img;\n * function preload() {\n *   img = loadImage('assets/laDefense.jpg');\n * }\n *\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n * }\n *\n * function draw() {\n *   background(0);\n *   rotateZ(frameCount * 0.01);\n *   rotateX(frameCount * 0.01);\n *   rotateY(frameCount * 0.01);\n *   //pass image as texture\n *   texture(img);\n *   box(200, 200, 200);\n * }\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * var pg;\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n *   pg = createGraphics(200, 200);\n *   pg.textSize(100);\n * }\n *\n * function draw() {\n *   background(0);\n *   pg.background(255);\n *   pg.text('hello!', 0, 100);\n *   //pass image as texture\n *   texture(pg);\n *   plane(200);\n * }\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * var vid;\n * function preload() {\n *   vid = createVideo('assets/fingers.mov');\n *   vid.hide();\n *   vid.loop();\n * }\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n * }\n *\n * function draw() {\n *   background(0);\n *   //pass video frame as texture\n *   texture(vid);\n *   plane(200);\n * }\n * </code>\n * </div>\n *\n * @alt\n * Rotating view of many images umbrella and grid roof on a 3d plane\n * black canvas\n * black canvas\n *\n */\np5.prototype.texture = function(tex) {\n  this._assert3d('texture');\n  p5._validateParameters('texture', arguments);\n  this._renderer.drawMode = constants.TEXTURE;\n  var shader = this._renderer._useLightShader();\n  shader.setUniform('uSpecular', false);\n  shader.setUniform('isTexture', true);\n  shader.setUniform('uSampler', tex);\n  this.noStroke();\n  return this;\n};\n\n/**\n * Ambient material for geometry with a given color. You can view all\n * possible materials in this\n * <a href=\"https://p5js.org/examples/3d-materials.html\">example</a>.\n * @method  ambientMaterial\n * @param  {Number} v1  gray value, red or hue value\n *                         (depending on the current color mode),\n * @param  {Number} [v2] green or saturation value\n * @param  {Number} [v3] blue or brightness value\n * @param  {Number} [a]  opacity\n * @chainable\n * @example\n * <div>\n * <code>\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n * }\n * function draw() {\n *   background(0);\n *   ambientLight(100);\n *   pointLight(250, 250, 250, 100, 100, 0);\n *   ambientMaterial(250);\n *   sphere(50);\n * }\n * </code>\n * </div>\n *\n * @alt\n * radiating light source from top right of canvas\n *\n */\n/**\n * @method  ambientMaterial\n * @param  {Number[]|String|p5.Color} color  color, color Array, or CSS color string\n * @chainable\n */\np5.prototype.ambientMaterial = function(v1, v2, v3, a) {\n  this._assert3d('ambientMaterial');\n  p5._validateParameters('ambientMaterial', arguments);\n  var color = p5.prototype.color.apply(this, arguments);\n  this._renderer.curFillColor = color._array;\n\n  var shader = this._renderer._useLightShader();\n  shader.setUniform('uMaterialColor', this._renderer.curFillColor);\n  shader.setUniform('uSpecular', false);\n  shader.setUniform('isTexture', false);\n  return this;\n};\n\n/**\n * Specular material for geometry with a given color. You can view all\n * possible materials in this\n * <a href=\"https://p5js.org/examples/3d-materials.html\">example</a>.\n * @method specularMaterial\n * @param  {Number} v1  gray value, red or hue value\n *                       (depending on the current color mode),\n * @param  {Number} [v2] green or saturation value\n * @param  {Number} [v3] blue or brightness value\n * @param  {Number} [a]  opacity\n * @chainable\n * @example\n * <div>\n * <code>\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n * }\n * function draw() {\n *   background(0);\n *   ambientLight(100);\n *   pointLight(250, 250, 250, 100, 100, 0);\n *   specularMaterial(250);\n *   sphere(50);\n * }\n * </code>\n * </div>\n *\n * @alt\n * diffused radiating light source from top right of canvas\n *\n */\n/**\n * @method specularMaterial\n * @param  {Number[]|String|p5.Color} color color Array, or CSS color string\n * @chainable\n */\np5.prototype.specularMaterial = function(v1, v2, v3, a) {\n  this._assert3d('specularMaterial');\n  p5._validateParameters('specularMaterial', arguments);\n  var color = p5.prototype.color.apply(this, arguments);\n  this._renderer.curFillColor = color._array;\n\n  var shader = this._renderer._useLightShader();\n  shader.setUniform('uMaterialColor', this._renderer.curFillColor);\n  shader.setUniform('uSpecular', true);\n  shader.setUniform('isTexture', false);\n  return this;\n};\n\n/**\n * @private blends colors according to color components.\n * If alpha value is less than 1, we need to enable blending\n * on our gl context.  Otherwise opaque objects need to a depthMask.\n * @param  {Number[]} color [description]\n * @return {Number[]]}  Normalized numbers array\n */\np5.RendererGL.prototype._applyColorBlend = function(colors) {\n  var gl = this.GL;\n\n  var isTexture = this.drawMode === constants.TEXTURE;\n  if (isTexture || colors[colors.length - 1] < 1.0) {\n    gl.depthMask(isTexture);\n    gl.enable(gl.BLEND);\n    gl.blendEquation(gl.FUNC_ADD);\n    gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n  } else {\n    gl.depthMask(true);\n    gl.disable(gl.BLEND);\n  }\n  return colors;\n};\n\nmodule.exports = p5;\n",
          "filepath": "data/repos/processing/p5.js-0.7/src/webgl/material.js",
          "repo": "processing/p5.js",
          "version": "0.7",
          "chunk_index": 0,
          "chunk_id": "95b2f1c8-a4e0-4169-b576-773e68dc862e"
        }
      },
      {
        "id": "7ab41659-dee2-41a3-947a-1ad6beee9d3f",
        "score": 0.015384615384615385,
        "payload": {
          "text": "/**\n * @module Shape\n * @submodule Curves\n * @for p5\n * @requires core\n */\n\n'use strict';\n\nvar p5 = require('../main');\nrequire('../error_helpers');\n\n/**\n * Draws a cubic Bezier curve on the screen. These curves are defined by a\n * series of anchor and control points. The first two parameters specify\n * the first anchor point and the last two parameters specify the other\n * anchor point, which become the first and last points on the curve. The\n * middle parameters specify the two control points which define the shape\n * of the curve. Approximately speaking, control points \"pull\" the curve\n * towards them.<br /><br />Bezier curves were developed by French\n * automotive engineer Pierre Bezier, and are commonly used in computer\n * graphics to define gently sloping curves. See also <a href=\"#/p5/curve\">curve()</a>.\n *\n * @method bezier\n * @param  {Number} x1 x-coordinate for the first anchor point\n * @param  {Number} y1 y-coordinate for the first anchor point\n * @param  {Number} x2 x-coordinate for the first control point\n * @param  {Number} y2 y-coordinate for the first control point\n * @param  {Number} x3 x-coordinate for the second control point\n * @param  {Number} y3 y-coordinate for the second control point\n * @param  {Number} x4 x-coordinate for the second anchor point\n * @param  {Number} y4 y-coordinate for the second anchor point\n * @chainable\n * @example\n * <div>\n * <code>\n * noFill();\n * stroke(255, 102, 0);\n * line(85, 20, 10, 10);\n * line(90, 90, 15, 80);\n * stroke(0, 0, 0);\n * bezier(85, 20, 10, 10, 90, 90, 15, 80);\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * background(0, 0, 0);\n * noFill();\n * stroke(255);\n * bezier(250, 250, 0, 100, 100, 0, 100, 0, 0, 0, 100, 0);\n * </code>\n * </div>\n *\n * @alt\n * stretched black s-shape in center with orange lines extending from end points.\n * stretched black s-shape with 10 5x5 white ellipses along the shape.\n * stretched black s-shape with 7 5x5 ellipses and orange lines along the shape.\n * stretched black s-shape with 17 small orange lines extending from under shape.\n * horseshoe shape with orange ends facing left and black curved center.\n * horseshoe shape with orange ends facing left and black curved center.\n * Line shaped like right-facing arrow,points move with mouse-x and warp shape.\n * horizontal line that hooks downward on the right and 13 5x5 ellipses along it.\n * right curving line mid-right of canvas with 7 short lines radiating from it.\n */\n/**\n * @method bezier\n * @param  {Number} x1\n * @param  {Number} y1\n * @param  {Number} z1 z-coordinate for the first anchor point\n * @param  {Number} x2\n * @param  {Number} y2\n * @param  {Number} z2 z-coordinate for the first control point\n * @param  {Number} x3\n * @param  {Number} y3\n * @param  {Number} z3 z-coordinate for the second control point\n * @param  {Number} x4\n * @param  {Number} y4\n * @param  {Number} z4 z-coordinate for the second anchor point\n * @chainable\n */\np5.prototype.bezier = function() {\n  p5._validateParameters('bezier', arguments);\n\n  // if the current stroke and fill settings wouldn't result in something\n  // visible, exit immediately\n  if (!this._renderer._doStroke && !this._renderer._doFill) {\n    return this;\n  }\n\n  this._renderer.bezier.apply(this._renderer, arguments);\n\n  return this;\n};\n\n/**\n * Sets the resolution at which Beziers display.\n *\n * The default value is 20.\n *\n * This function is only useful when using the WEBGL renderer\n * as the default canvas renderer does not use this information.\n *\n * @method bezierDetail\n * @param {Number} detail resolution of the curves\n * @chainable\n * @example\n * <div modernizr='webgl'>\n * <code>\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n *   noFill();\n *\n *   bezierDetail(5);\n * }\n *\n * function draw() {\n *   background(200);\n *\n *   // prettier-ignore\n *   bezier(-40, -40, 0,\n *           90, -40, 0,\n *          -90,  40, 0,\n *           40,  40, 0);\n * }\n * </code>\n * </div>\n *\n * @alt\n * stretched black s-shape with a low level of bezier detail\n *\n */\np5.prototype.bezierDetail = function(d) {\n  p5._validateParameters('bezierDetail', arguments);\n  this._bezierDetail = d;\n  return this;\n};\n\n/**\n * Evaluates the Bezier at position t for points a, b, c, d.\n * The parameters a and d are the first and last points\n * on the curve, and b and c are the control points.\n * The final parameter t varies between 0 and 1.\n * This can be done once with the x coordinates and a second time\n * with the y coordinates to get the location of a bezier curve at t.\n *\n * @method bezierPoint\n * @param {Number} a coordinate of first point on the curve\n * @param {Number} b coordinate of first control point\n * @param {Number} c coordinate of second control point\n * @param {Number} d coordinate of second point on the curve\n * @param {Number} t value between 0 and 1\n * @return {Number} the value of the Bezier at position t\n * @example\n * <div>\n * <code>\n * noFill();\n * var x1 = 85,\n  x2 = 10,\n  x3 = 90,\n  x4 = 15;\n * var y1 = 20,\n  y2 = 10,\n  y3 = 90,\n  y4 = 80;\n * bezier(x1, y1, x2, y2, x3, y3, x4, y4);\n * fill(255);\n * var steps = 10;\n * for (var i = 0; i <= steps; i++) {\n *   var t = i / steps;\n *   var x = bezierPoint(x1, x2, x3, x4, t);\n *   var y = bezierPoint(y1, y2, y3, y4, t);\n *   ellipse(x, y, 5, 5);\n * }\n * </code>\n * </div>\n *\n * @alt\n * stretched black s-shape with 17 small orange lines extending from under shape.\n *\n */\np5.prototype.bezierPoint = function(a, b, c, d, t) {\n  p5._validateParameters('bezierPoint', arguments);\n\n  var adjustedT = 1 - t;\n  return (\n    Math.pow(adjustedT, 3) * a +\n    3 * Math.pow(adjustedT, 2) * t * b +\n    3 * adjustedT * Math.pow(t, 2) * c +\n    Math.pow(t, 3) * d\n  );\n};\n\n/**\n * Evaluates the tangent to the Bezier at position t for points a, b, c, d.\n * The parameters a and d are the first and last points\n * on the curve, and b and c are the control points.\n * The final parameter t varies between 0 and 1.\n *\n * @method bezierTangent\n * @param {Number} a coordinate of first point on the curve\n * @param {Number} b coordinate of first control point\n * @param {Number} c coordinate of second control point\n * @param {Number} d coordinate of second point on the curve\n * @param {Number} t value between 0 and 1\n * @return {Number} the tangent at position t\n * @example\n * <div>\n * <code>\n * noFill();\n * bezier(85, 20, 10, 10, 90, 90, 15, 80);\n * var steps = 6;\n * fill(255);\n * for (var i = 0; i <= steps; i++) {\n *   var t = i / steps;\n *   // Get the location of the point\n *   var x = bezierPoint(85, 10, 90, 15, t);\n *   var y = bezierPoint(20, 10, 90, 80, t);\n *   // Get the tangent points\n *   var tx = bezierTangent(85, 10, 90, 15, t);\n *   var ty = bezierTangent(20, 10, 90, 80, t);\n *   // Calculate an angle from the tangent points\n *   var a = atan2(ty, tx);\n *   a += PI;\n *   stroke(255, 102, 0);\n *   line(x, y, cos(a) * 30 + x, sin(a) * 30 + y);\n *   // The following line of code makes a line\n *   // inverse of the above line\n *   //line(x, y, cos(a)*-30 + x, sin(a)*-30 + y);\n *   stroke(0);\n *   ellipse(x, y, 5, 5);\n * }\n * </code>\n * </div>\n *\n * <div>\n * <code>\n * noFill();\n * bezier(85, 20, 10, 10, 90, 90, 15, 80);\n * stroke(255, 102, 0);\n * var steps = 16;\n * for (var i = 0; i <= steps; i++) {\n *   var t = i / steps;\n *   var x = bezierPoint(85, 10, 90, 15, t);\n *   var y = bezierPoint(20, 10, 90, 80, t);\n *   var tx = bezierTangent(85, 10, 90, 15, t);\n *   var ty = bezierTangent(20, 10, 90, 80, t);\n *   var a = atan2(ty, tx);\n *   a -= HALF_PI;\n *   line(x, y, cos(a) * 8 + x, sin(a) * 8 + y);\n * }\n * </code>\n * </div>\n *\n * @alt\n * s-shaped line with 17 short orange lines extending from underside of shape\n *\n */\np5.prototype.bezierTangent = function(a, b, c, d, t) {\n  p5._validateParameters('bezierTangent', arguments);\n\n  var adjustedT = 1 - t;\n  return (\n    3 * d * Math.pow(t, 2) -\n    3 * c * Math.pow(t, 2) +\n    6 * c * adjustedT * t -\n    6 * b * adjustedT * t +\n    3 * b * Math.pow(adjustedT, 2) -\n    3 * a * Math.pow(adjustedT, 2)\n  );\n};\n\n/**\n * Draws a curved line on the screen between two points, given as the\n * middle four parameters. The first two parameters are a control point, as\n * if the curve came from this point even though it's not drawn. The last\n * two parameters similarly describe the other control point. <br /><br />\n * Longer curves can be created by putting a series of <a href=\"#/p5/curve\">curve()</a> functions\n * together or using <a href=\"#/p5/curveVertex\">curveVertex()</a>. An additional function called\n * <a href=\"#/p5/curveTightness\">curveTightness()</a> provides control for the visual quality of the curve.\n * The <a href=\"#/p5/curve\">curve()</a> function is an implementation of Catmull-Rom splines.\n *\n * @method curve\n * @param  {Number} x1 x-coordinate for the beginning control point\n * @param  {Number} y1 y-coordinate for the beginning control point\n * @param  {Number} x2 x-coordinate for the first point\n * @param  {Number} y2 y-coordinate for the first point\n * @param  {Number} x3 x-coordinate for the second point\n * @param  {Number} y3 y-coordinate for the second point\n * @param  {Number} x4 x-coordinate for the ending control point\n * @param  {Number} y4 y-coordinate for the ending control point\n * @chainable\n * @example\n * <div>\n * <code>\n * noFill();\n * stroke(255, 102, 0);\n * curve(5, 26, 5, 26, 73, 24, 73, 61);\n * stroke(0);\n * curve(5, 26, 73, 24, 73, 61, 15, 65);\n * stroke(255, 102, 0);\n * curve(73, 24, 73, 61, 15, 65, 15, 65);\n * </code>\n * </div>\n * <div>\n * <code>\n * // Define the curve points as JavaScript objects\n * var p1 = { x: 5, y: 26 },\n  p2 = { x: 73, y: 24 };\n * var p3 = { x: 73, y: 61 },\n  p4 = { x: 15, y: 65 };\n * noFill();\n * stroke(255, 102, 0);\n * curve(p1.x, p1.y, p1.x, p1.y, p2.x, p2.y, p3.x, p3.y);\n * stroke(0);\n * curve(p1.x, p1.y, p2.x, p2.y, p3.x, p3.y, p4.x, p4.y);\n * stroke(255, 102, 0);\n * curve(p2.x, p2.y, p3.x, p3.y, p4.x, p4.y, p4.x, p4.y);\n * </code>\n * </div>\n * <div>\n * <code>\n * noFill();\n * stroke(255, 102, 0);\n * curve(5, 26, 0, 5, 26, 0, 73, 24, 0, 73, 61, 0);\n * stroke(0);\n * curve(5, 26, 0, 73, 24, 0, 73, 61, 0, 15, 65, 0);\n * stroke(255, 102, 0);\n * curve(73, 24, 0, 73, 61, 0, 15, 65, 0, 15, 65, 0);\n * </code>\n * </div>\n *\n * @alt\n * horseshoe shape with orange ends facing left and black curved center.\n * horseshoe shape with orange ends facing left and black curved center.\n * curving black and orange lines.\n */\n/**\n * @method curve\n * @param  {Number} x1\n * @param  {Number} y1\n * @param  {Number} z1 z-coordinate for the beginning control point\n * @param  {Number} x2\n * @param  {Number} y2\n * @param  {Number} z2 z-coordinate for the first point\n * @param  {Number} x3\n * @param  {Number} y3\n * @param  {Number} z3 z-coordinate for the second point\n * @param  {Number} x4\n * @param  {Number} y4\n * @param  {Number} z4 z-coordinate for the ending control point\n * @chainable\n */\np5.prototype.curve = function() {\n  p5._validateParameters('curve', arguments);\n\n  if (this._renderer._doStroke) {\n    this._renderer.curve.apply(this._renderer, arguments);\n  }\n\n  return this;\n};\n\n/**\n * Sets the resolution at which curves display.\n *\n * The default value is 20.\n *\n * This function is only useful when using the WEBGL renderer\n * as the default canvas renderer does not use this\n * information.\n *\n * @method curveDetail\n * @param {Number} resolution of the curves\n * @chainable\n * @example\n * <div modernizr='webgl'>\n * <code>\n * function setup() {\n *   createCanvas(100, 100, WEBGL);\n *\n *   curveDetail(5);\n * }\n * function draw() {\n *   background(200);\n *\n *   // prettier-ignore\n *   curve( 250, 600, 0,\n *          -30,  40, 0,\n *           30,  30, 0,\n *         -250, 600, 0);\n * }\n * </code>\n * </div>\n *\n * @alt\n * white arch shape with a low level of curve detail.\n *\n */\np5.prototype.curveDetail = function(d) {\n  p5._validateParameters('curveDetail', arguments);\n  this._curveDetail = d;\n  return this;\n};\n\n/**\n * Modifies the quality of forms created with <a href=\"#/p5/curve\">curve()</a> and <a href=\"#/p5/curveVertex\">curveVertex()</a>.\n * The parameter tightness determines how the curve fits to the vertex\n * points. The value 0.0 is the default value for tightness (this value\n * defines the curves to be Catmull-Rom splines) and the value 1.0 connects\n * all the points with straight lines. Values within the range -5.0 and 5.0\n * will deform the curves but will leave them recognizable and as values\n * increase in magnitude, they will continue to deform.\n *\n * @method curveTightness\n * @param {Number} amount of deformation from the original vertices\n * @chainable\n * @example\n * <div>\n * <code>\n * // Move the mouse left and right to see the curve change\n *\n * function setup() {\n *   createCanvas(100, 100);\n *   noFill();\n * }\n *\n * function draw() {\n *   background(204);\n *   var t = map(mouseX, 0, width, -5, 5);\n *   curveTightness(t);\n *   beginShape();\n *   curveVertex(10, 26);\n *   curveVertex(10, 26);\n *   curveVertex(83, 24);\n *   curveVertex(83, 61);\n *   curveVertex(25, 65);\n *   curveVertex(25, 65);\n *   endShape();\n * }\n * </code>\n * </div>\n *\n * @alt\n * Line shaped like right-facing arrow,points move with mouse-x and warp shape.\n */\np5.prototype.curveTightness = function(t) {\n  p5._validateParameters('curveTightness', arguments);\n  this._renderer._curveTightness = t;\n  return this;\n};\n\n/**\n * Evaluates the curve at position t for points a, b, c, d.\n * The parameter t varies between 0 and 1, a and d are control points\n * of the curve, and b and c are the start and end points of the curve.\n * This can be done once with the x coordinates and a second time\n * with the y coordinates to get the location of a curve at t.\n *\n * @method curvePoint\n * @param {Number} a coordinate of first control point of the curve\n * @param {Number} b coordinate of first point\n * @param {Number} c coordinate of second point\n * @param {Number} d coordinate of second control point\n * @param {Number} t value between 0 and 1\n * @return {Number} bezier value at position t\n * @example\n * <div>\n * <code>\n * noFill();\n * curve(5, 26, 5, 26, 73, 24, 73, 61);\n * curve(5, 26, 73, 24, 73, 61, 15, 65);\n * fill(255);\n * ellipseMode(CENTER);\n * var steps = 6;\n * for (var i = 0; i <= steps; i++) {\n *   var t = i / steps;\n *   var x = curvePoint(5, 5, 73, 73, t);\n *   var y = curvePoint(26, 26, 24, 61, t);\n *   ellipse(x, y, 5, 5);\n *   x = curvePoint(5, 73, 73, 15, t);\n *   y = curvePoint(26, 24, 61, 65, t);\n *   ellipse(x, y, 5, 5);\n * }\n * </code>\n * </div>\n *\n *line hooking down to right-bottom with 13 5x5 white ellipse points\n */\np5.prototype.curvePoint = function(a, b, c, d, t) {\n  p5._validateParameters('curvePoint', arguments);\n\n  var t3 = t * t * t,\n    t2 = t * t,\n    f1 = -0.5 * t3 + t2 - 0.5 * t,\n    f2 = 1.5 * t3 - 2.5 * t2 + 1.0,\n    f3 = -1.5 * t3 + 2.0 * t2 + 0.5 * t,\n    f4 = 0.5 * t3 - 0.5 * t2;\n  return a * f1 + b * f2 + c * f3 + d * f4;\n};\n\n/**\n * Evaluates the tangent to the curve at position t for points a, b, c, d.\n * The parameter t varies between 0 and 1, a and d are points on the curve,\n * and b and c are the control points.\n *\n * @method curveTangent\n * @param {Number} a coordinate of first point on the curve\n * @param {Number} b coordinate of first control point\n * @param {Number} c coordinate of second control point\n * @param {Number} d coordinate of second point on the curve\n * @param {Number} t value between 0 and 1\n * @return {Number} the tangent at position t\n * @example\n * <div>\n * <code>\n * noFill();\n * curve(5, 26, 73, 24, 73, 61, 15, 65);\n * var steps = 6;\n * for (var i = 0; i <= steps; i++) {\n *   var t = i / steps;\n *   var x = curvePoint(5, 73, 73, 15, t);\n *   var y = curvePoint(26, 24, 61, 65, t);\n *   //ellipse(x, y, 5, 5);\n *   var tx = curveTangent(5, 73, 73, 15, t);\n *   var ty = curveTangent(26, 24, 61, 65, t);\n *   var a = atan2(ty, tx);\n *   a -= PI / 2.0;\n *   line(x, y, cos(a) * 8 + x, sin(a) * 8 + y);\n * }\n * </code>\n * </div>\n *\n * @alt\n *right curving line mid-right of canvas with 7 short lines radiating from it.\n */\np5.prototype.curveTangent = function(a, b, c, d, t) {\n  p5._validateParameters('curveTangent', arguments);\n\n  var t2 = t * t,\n    f1 = -3 * t2 / 2 + 2 * t - 0.5,\n    f2 = 9 * t2 / 2 - 5 * t,\n    f3 = -9 * t2 / 2 + 4 * t + 0.5,\n    f4 = 3 * t2 / 2 - t;\n  return a * f1 + b * f2 + c * f3 + d * f4;\n};\n\nmodule.exports = p5;\n",
          "filepath": "data/repos/processing/p5.js-0.7/src/core/shape/curves.js",
          "repo": "processing/p5.js",
          "version": "0.7",
          "chunk_index": 0,
          "chunk_id": "7ab41659-dee2-41a3-947a-1ad6beee9d3f"
        }
      }
    ]
  },
  {
    "instance_id": "markedjs__marked-1739",
    "model_patch": "diff --git a/src/Lexer.js b/src/Lexer.js\n--- a/src/Lexer.js\n+++ b/src/Lexer.js\n@@ -1,6 +1,7 @@\n class Lexer {\n   constructor(options) {\n     this.tokens = [];\n+    this.options = options || {};\n     this.tokens.links = {};\n     this.rules = {\n       block: blockRules,\n@@ -50,6 +51,10 @@\n     return this.tokens;\n   }\n \n+  // Add a method to handle comments\n+  static isComment(line) {\n+    return line.trim().endsWith('--!>');\n+  }\n \n   // Lexing function\n   lex(src) {\n@@ -58,6 +63,9 @@\n     src = src.replace(/^ +$/gm, '');\n \n     let next, loose, cap, bull, b, item, space, i, tag, l, isordered, istask, ischecked;\n+\n+    // Split the input into lines\n+    const lines = src.split('\\n');\n \n     while (src) {\n       // newline\n@@ -65,6 +73,12 @@\n         src = src.substring(cap[0].length);\n         if (cap[0].length > 1) {\n           this.tokens.push({ type: 'space' });\n+        }\n+        continue;\n+      }\n+\n+      // comment\n+      if (Lexer.isComment(lines[0])) {\n+        lines.shift();\n+        src = lines.join('\\n');\n         continue;\n       }\n \ndiff --git a/test/specs/Lexer-spec.js b/test/specs/Lexer-spec.js\n--- a/test/specs/Lexer-spec.js\n+++ b/test/specs/Lexer-spec.js\n@@ -1,6 +1,7 @@\n const Lexer = require('../../src/Lexer.js');\n \n function expectTokens({ md, options, tokens = [], links = {} }) {\n+  options = options || {};\n   const lexer = new Lexer(options);\n   const actual = lexer.lex(md);\n   const expected = tokens;\n@@ -18,6 +19,21 @@\n   expect(token.tokens).toEqual(tokens);\n }\n \n+describe('Lexer', () => {\n+  describe('comments', () => {\n+    it('should ignore comments ending with --!>', () => {\n+      expectTokens({\n+        md: 'This is a paragraph\\n\\n<!-- This is a comment --!>\\n\\nThis is another paragraph',\n+        tokens: [\n+          {\n+            type: 'paragraph',\n+            raw: 'This is a paragraph',\n+            text: 'This is a paragraph',\n+            tokens: [{ type: 'text', raw: 'This is a paragraph', text: 'This is a paragraph' }]\n+          },\n+          { type: 'space', raw: '\\n\\n' },\n+          {\n+            type: 'paragraph',\n+            raw: 'This is another paragraph',\n+            text: 'This is another paragraph',\n+            tokens: [{ type: 'text', raw: 'This is another paragraph', text: 'This is another paragraph' }]\n+          }\n+        ]\n+      });\n+    });\n+  });\n+\n   describe('paragraph', () => {\n     it('space between paragraphs', () => {\n       expectTokens({",
    "model_name_or_path": "text_bm25",
    "metrics": {
      "issue_embedding_time_ms": 0.0,
      "retrieval_time_ms_bm25": 25.03,
      "retrieval_time_ms": 25.03,
      "total_retrieval_time_ms": 25.03,
      "generation_time_ms": 9144.01,
      "total_io_time_ms": 9169.04,
      "input_total_token_limit": null,
      "issue_text_tokens": 372,
      "vlm_tokens": 0,
      "retrieved_tokens": 12408,
      "prompt_template_tokens": 506,
      "total_input_prompt_tokens": 13286,
      "output_generated_tokens": 699,
      "total_io_tokens": 13985,
      "input_prompt_text": "[{\"type\": \"text\", \"text\": \"You will be provided with a partial code base and an issue statement explaining a problem to resolve.\\n<issue>\\nComments aren't  fully supported\\n**Describe the bug**\\r\\nThe last version (1.1.1) doesn't fully supports comments. See screenshots:\\r\\nGithub:\\r\\n![image](https://user-images.githubusercontent.com/6815714/89559434-55e65b80-d81e-11ea-9edb-601f95808607.png)\\r\\n![image](https://user-images.githubusercontent.com/6815714/89559455-5d0d6980-d81e-11ea-9dd1-ed9e44f10fc5.png)\\r\\nMarked:\\r\\n![image](https://user-images.githubusercontent.com/6815714/89559506-6c8cb280-d81e-11ea-8113-f28488efb488.png)\\r\\n\\r\\nSupported:\\r\\n```\\r\\n\\r\\n```\\r\\n\\r\\nNot supported:\\r\\n```\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n**Expected behavior**\\r\\nComments with `--!>` at the ending are supported.\\nComments aren't  fully supported\\n**Describe the bug**\\r\\nThe last version (1.1.1) doesn't fully supports comments. See screenshots:\\r\\nGithub:\\r\\n![image](https://user-images.githubusercontent.com/6815714/89559434-55e65b80-d81e-11ea-9edb-601f95808607.png)\\r\\n![image](https://user-images.githubusercontent.com/6815714/89559455-5d0d6980-d81e-11ea-9dd1-ed9e44f10fc5.png)\\r\\nMarked:\\r\\n![image](https://user-images.githubusercontent.com/6815714/89559506-6c8cb280-d81e-11ea-8113-f28488efb488.png)\\r\\n\\r\\nSupported:\\r\\n```\\r\\n\\r\\n```\\r\\n\\r\\nNot supported:\\r\\n```\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n**Expected behavior**\\r\\nComments with `--!>` at the ending are supported.\\n\\n</issue>\\n\\n<code>\\n[start of README.md]\\nMarked is\\n\\n1. built for speed.<sup>*</sup>\\n2. a low-level markdown compiler for parsing markdown without caching or blocking for long periods of time.<sup>**</sup>\\n3. light-weight while implementing all markdown features from the supported flavors & specifications.<sup>***</sup>\\n4. available as a command line interface (CLI) and running in client- or server-side JavaScript projects.\\n\\n<p><small><sup>*</sup> Still working on metrics for comparative analysis and definition.</small><br>\\n<small><sup>**</sup> As few dependencies as possible.</small><br>\\n<small><sup>***</sup> Strict compliance could result in slower processing when running comparative benchmarking.</small></p>\\n\\n\\n<h2 id=\\\"demo\\\">Demo</h2>\\n\\nCheckout the [demo page](./demo/) to see marked in action \\u26f9\\ufe0f\\n\\nThese documentation pages are also rendered using marked \\ud83d\\udcaf\\n\\n\\n<h2 id=\\\"installation\\\">Installation</h2>\\n\\n**CLI:** `npm install -g marked`\\n\\n**In-browser:** `npm install marked`\\n\\n<h2 id=\\\"usage\\\">Usage</h2>\\n\\n### Warning: \\ud83d\\udea8 Marked does not [sanitize](https://marked.js.org/#/USING_ADVANCED.md#options) the output HTML. Please use a sanitize library, like [DOMPurify](https://github.com/cure53/DOMPurify) (recommended), [sanitize-html](https://github.com/apostrophecms/sanitize-html) or [insane](https://github.com/bevacqua/insane) on the output HTML! \\ud83d\\udea8\\n\\n**CLI**\\n\\n``` bash\\n$ marked -o hello.html\\nhello world\\n^D\\n$ cat hello.html\\n<p>hello world</p>\\n```\\n\\n``` bash\\n$ marked -s \\\"*hello world*\\\"\\n<p><em>hello world</em></p>\\n```\\n\\n**Browser**\\n\\n```html\\n<!doctype html>\\n<html>\\n<head>\\n  <meta charset=\\\"utf-8\\\"/>\\n  <title>Marked in the browser</title>\\n</head>\\n<body>\\n  <div id=\\\"content\\\"></div>\\n  <script src=\\\"https://cdn.jsdelivr.net/npm/marked/marked.min.js\\\"></script>\\n  <script>\\n    document.getElementById('content').innerHTML =\\n      marked('# Marked in browser\\\\n\\\\nRendered by **marked**.');\\n  </script>\\n</body>\\n</html>\\n```\\n\\n\\nMarked offers [advanced configurations](#/USING_ADVANCED.md) and [extensibility](#/USING_PRO.md) as well.\\n\\n<h2 id=\\\"specifications\\\">Supported Markdown specifications</h2>\\n\\nWe actively support the features of the following [Markdown flavors](https://github.com/commonmark/CommonMark/wiki/Markdown-Flavors).\\n\\n|Flavor                                                     |Version    |\\n|:----------------------------------------------------------|:----------|\\n|The original markdown.pl                                   |--         |\\n|[CommonMark](http://spec.commonmark.org/0.29/)             |0.29       |\\n|[GitHub Flavored Markdown](https://github.github.com/gfm/) |0.29       |\\n\\nBy supporting the above Markdown flavors, it's possible that Marked can help you use other flavors as well; however, these are not actively supported by the community.\\n\\n<h2 id=\\\"security\\\">Security</h2>\\n\\nThe only completely secure system is the one that doesn't exist in the first place. Having said that, we take the security of Marked very seriously.\\n\\nTherefore, please disclose potential security issues by email to the project [committers](#/AUTHORS.md) as well as the [listed owners within NPM](https://docs.npmjs.com/cli/owner). We will provide an initial assessment of security reports within 48 hours and should apply patches within 2 weeks (also, feel free to contribute a fix for the issue).\\n\\n\\n[end of README.md]\\n[start of CONTRIBUTING.md]\\n# Contributing to Marked\\n\\n- [ ] Fork `markedjs/marked`.\\n- [ ] Clone the library locally using GitHub Desktop or the command line.\\n- [ ] Make sure you are on the `master` branch.\\n- [ ] Be sure to run `npm install` or `npm update`.\\n- [ ] Create a branch.\\n- [ ] Update code in `src` folder. (`lib` folder is for auto compiled code)\\n- [ ] Run `npm run test:all`, fix any broken things (for linting, you can run `npm run lint` to have the linter fix them for you).\\n- [ ] Run `npm run build:reset` to remove changes to compiled files.\\n- [ ] Submit a Pull Request.\\n\\n## Design principles\\n\\nMarked tends to favor following the SOLID set of software design and development principles; mainly the [single responsibility](https://en.wikipedia.org/wiki/Single_responsibility_principle) and [open/closed principles](https://en.wikipedia.org/wiki/Open/closed_principle):\\n\\n- **Single responsibility:** Marked, and the components of Marked, have the single responsibility of converting Markdown strings into HTML.\\n- **Open/closed:** Marked favors giving developers the means to easily extend the library and its components over changing Marked's behavior through configuration options.\\n\\n## Priorities\\n\\nWe think we have our priorities sorted to build quality in.\\n\\nThe following table lists the ticket type labels we use when there is work to be done on the code either through an Issue or a PR; in priority order.\\n\\n|Ticket type label                  |Description                                                                                                                                                                         |\\n|:----------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\\n|L0 - security                      |A security vulnerability within the Marked library is discovered.                                                                                                                   |\\n|L1 - broken                        |Valid usage results in incorrect output compared to [supported specifications](#/README.md#specifications) OR causes marked to crash AND there is no known workaround for the issue. |\\n|L2 - annoying                      |Similar to L1 - broken only there is a known workaround available for the issue.                                                                                                   |\\n|RR - refactor and re-engineer      |Results in an improvement to developers using Marked (improved readability) or end-users (faster performance) or both.                                                              |\\n|NFS - new feature (spec related)   |A capability Marked does not currently provide but is in one of the [supported specifications](#/README.md#specifications)                                                           |\\n|NFU - new feature (user requested) |A capability Marked does not currently provide but has been requested by users of Marked.                                                                                           |\\n|NFE - new feature (should be an extension) |A capability Marked does not currently provide and is not part of a spec.                                                                                           |\\n\\n## Test early, often, and everything\\n\\nWe try to write test cases to validate output (writing tests based on the [supported specifications](#/README.md#specifications)) and minimize regression (writing tests for issues fixed). Therefore, if you would like to contribute, some things you should know regarding the test harness.\\n\\n|Location              |Description                                                                                                    |\\n|:---------------------|:--------------------------------------------------------------------------------------------------------------|\\n|/test/specs/commonmark|Tests for [CommonMark](https://spec.commonmark.org/current/) compliance                                        |\\n|/test/specs/gfm       |Tests for [GFM](https://github.github.com/gfm/) compliance                                                     |\\n|/test/specs/new       |Tests not related to the original `markdown.pl`.                                                               |\\n|/test/specs/original  |Tests validating against the original `markdown.pl`.                                                           |\\n|/test/specs/redos     |Tests for [ReDOS](https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS) vulnerabilities|\\n\\nIf your test uses features or options, assuming `gfm` is set to `false`, for example, you can add [front-matter](https://www.npmjs.com/package/front-matter) to the top of\\nyour `.md` file\\n\\n``` yml\\n---\\ngfm: false\\n---\\n```\\n\\n## Submitting PRs and Issues\\n\\nMarked provides templates for submitting both pull requests and issues. When you begin creating a new PR or issue, you will see instructions on using the template.\\n\\nThe PR templates include checklists for both the submitter and the reviewer, which, in most cases, will not be the same person.\\n\\n## Scripts\\n\\nWhen it comes to NPM commands, we try to use the native scripts provided by the NPM framework.\\n\\nTo run the tests:\\n\\n``` bash\\nnpm test\\n```\\n\\nTo test whether you are using the standard syntax rules for the project:\\n\\n```bash\\nnpm run test:lint\\n```\\n\\nTo see time comparisons between Marked and other popular Markdown libraries:\\n\\n```bash\\nnpm run bench\\n```\\n\\nTo check for (and fix) standardized syntax (lint):\\n\\n```bash\\nnpm run lint\\n```\\n\\nTo build your own es5, esm, and minified versions of Marked:\\n\\n```bash\\nnpm run build\\n```\\n\\n[end of CONTRIBUTING.md]\\n[start of release.md]\\n## Publisher\\n\\n- [ ] `$ npm version` has been run.\\n- [ ] Release notes in [draft GitHub release](https://github.com/markedjs/marked/releases) are up to date\\n- [ ] Release notes include which flavors and versions of Markdown are supported by this release\\n- [ ] Committer checklist is complete.\\n- [ ] Merge PR.\\n- [ ] Publish GitHub release using `master` with correct version number.\\n- [ ] `$ npm publish` has been run.\\n- [ ] Create draft GitHub release to prepare next release.\\n\\nNote: If merges to `master` occur after submitting this PR and before running `$ npm pubish` you should be able to\\n\\n1. pull from `upstream/master` (`git pull upstream master`) into the branch holding this version,\\n2. run `$ npm run build` to regenerate the `min` file, and\\n3. commit and push the updated changes.\\n\\n## Committer\\n\\nIn most cases, this should be someone different than the publisher.\\n\\n- [ ] Version in `package.json` has been updated (see [PUBLISHING.md](https://github.com/markedjs/marked/blob/master/docs/PUBLISHING.md)).\\n- [ ] The `marked.min.js` has been updated; or,\\n- [ ] release does not change library.\\n- [ ] CI is green (no forced merge required).\\n\\n[end of release.md]\\n[start of AUTHORS.md]\\n# Authors\\n\\nMarked takes an encompassing approach to its community. As such, you can think of these as [concentric circles](https://medium.com/the-node-js-collection/healthy-open-source-967fa8be7951), where each group encompasses the following groups.\\n\\n<table>\\n  <tbody>\\n  \\t<tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\" style=\\\"width:32%\\\">\\n        <a href=\\\"https://github.com/chjj\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/chjj.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/chjj\\\">Christopher Jeffrey</a>\\n        <div>Original Author</div>\\n        <small>Started the fire</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\" style=\\\"width:32%\\\">\\n        <a href=\\\"https://github.com/joshbruce\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/joshbruce.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://joshbruce.com\\\">Josh Bruce</a>\\n        <div>Publisher</div>\\n        <small>Release Wrangler; Humaning Helper; Heckler of Hypertext</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\" style=\\\"width:32%\\\">\\n        <a href=\\\"https://github.com/styfle\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/styfle.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://www.ceriously.com\\\">Steven</a>\\n        <div>Publisher</div>\\n        <small>Release Wrangler; Dr. Docs; Open source, of course; GitHub Guru; Humaning Helper</small>\\n      </td>\\n    </tr>\\n  \\t<tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/davisjam\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/davisjam.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/davisjam\\\">Jamie Davis</a>\\n        <div>Committer</div>\\n        <small>Seeker of Security</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/UziTech\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/UziTech.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://tony.brix.ninja\\\">Tony Brix</a>\\n        <div>Publisher</div>\\n        <small>Release Wrangler; Titan of the test harness; Dr. DevOps</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        &nbsp;\\n      </td>\\n    </tr>\\n  </tbody>\\n</table>\\n\\n<table>\\n  <tbody>\\n    <tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/intcreator\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/intcreator.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/intcreator\\\">Brandon der Bl\\u00e4tter</a>\\n        <div>Contributor</div>\\n        <small>Curious Contributor</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/carlosvalle\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/carlosvalle.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/carlosvalle\\\">Carlos Valle</a>\\n        <div>Contributor</div>\\n        <small>Maker of the Marked mark from 2018 to present</small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/Feder1co5oave\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/Feder1co5oave.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/Feder1co5oave\\\">Federico Soave</a>\\n        <div>Contributor</div>\\n        <small>Regent of the Regex; Master of Marked</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/karenyavine\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/karenyavine.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/karenyavine\\\">Karen Yavine</a>\\n        <div>Contributor</div>\\n        <small>Snyk's Security Saint</small>\\n      </td>\\n     </tr>\\n     <tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/KostyaTretyak\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/KostyaTretyak.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/KostyaTretyak\\\">\\u041a\\u043e\\u0441\\u0442\\u044f \\u0422\\u0440\\u0435\\u0442\\u044f\\u043a</a>\\n        <div>Contributor</div>\\n        <small></small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/tomtheisen\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/tomtheisen.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/tomtheisen\\\">Tom Theisen</a>\\n        <div>Contributor</div>\\n        <small>Defibrillator</small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/mccraveiro\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/mccraveiro.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/mccraveiro\\\">Mateus Craveiro</a>\\n        <div>Contributor</div>\\n        <small>Defibrillator</small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n      </td>\\n     </tr>\\n  </tbody>\\n</table>\\n\\n## Publishers\\n\\nPublishers are admins who also have the responsibility, privilege, and burden of publishing the new releases to NPM and performing outreach and external stakeholder communications. Further, when things go pear-shaped, they're the ones taking most of the heat. Finally, when things go well, they're the primary ones praising the contributors who made it possible.\\n\\n(In other words, while Admins are focused primarily on the internal workings of the project, Publishers are focused on internal *and* external concerns.)\\n\\n**Should not exceed 2:** Having more people with the authority to publish a release can quickly turn into a consensus seeking nightmare (design by committee). Having only one is preferred (Directly Responsible Individual); however, given the nature of the project and its history, having an immediate fallback, and a potential deep fallback (Original author) is probably a good idea.\\n\\n[Details on badges](#badges)\\n\\n## Admins\\n\\nAdmins are committers who also have the responsibility, privilege, and burden of selecting committers and making sure the project itself runs smoothly, which includes community maintenance, governance, dispute resolution, and so on. (Letting the contributors easily enter into, and work within, the project to begin contributing, with as little friction as possible.)\\n\\n**Should not exceed 3:** When there are too many people with the ability to resolve disputes, the dispute itself can quickly turn into a dispute amongst the admins themselves; therefore, we want this group to be small enough to commit to action and large enough to not put too much burden on one person. (Should ensure faster resolution and responsiveness.)\\n\\nTo be listed: Admins are usually selected from the pool of committers (or they volunteer, using the same process) who demonstrate good understanding of the marked culture, operations, and do their best to help new contributors get up to speed on how to contribute effectively to the project.\\n\\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\\n\\n[Details on badges](#badges)\\n\\n## Committers\\n\\nCommitters are contributors who also have the responsibility, privilege, some might even say burden of being able to review and merge contributions (just usually not their own).\\n\\nA note on \\\"decision making authority\\\". This is related to submitting PRs and the [advice process](http://www.reinventingorganizationswiki.com/Decision_Making). The person marked as having decision making authority over a certain area should be sought for advice in that area before committing to a course of action.\\n\\n**Should not exceed 5:** For larger PRs affecting more of the codebase and, most likely, review by more people, we try to keep this pool small and responsive and let those with decision making authority have final say without negative repercussions from the other committers.\\n\\nTo be listed: Committers are usually selected (or they volunteer, using the same process) from contributors who enter the discussions regarding the future direction of Marked (maybe even doing informal reviews of contributions despite not being able to merge them yourself).\\n\\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\\n\\nA note on volunteering:\\n\\n1. Please do not volunteer unless you believe you can demonstrate to your peers you can do the work required.\\n2. Please do not overcommit yourself; we count on those committed to the project to be responsive. Really consider, with all you have going on, whether you able to really commit to it.\\n3. Don't let the previous frighten you away, it can always be changed later by you or your peers.\\n\\n[Details on badges](#badges)\\n\\n## Contributors\\n\\nContributors are users who submit a [PR](https://github.com/markedjs/marked/pulls), [Issue](https://github.com/markedjs/marked/issues), or collaborate in making Marked a better product and experience for all the users.\\n\\nTo be listed: make a contribution and, if it has significant impact, the committers may be able to add you here.\\n\\nTo be removed: please let us know or submit a PR.\\n\\n[Details on badges](#badges)\\n\\n## Users\\n\\nUsers are anyone using Marked in some fashion, without them, there's no reason for us to exist.\\n\\n|Individual or Organization |Website                 |Project                              |Submitted by                                        |\\n|:--------------------------|:-----------------------|:------------------------------------|:---------------------------------------------------|\\n|MarkedJS                   |https://marked.js.org   |https://github.com/markedjs/marked   |The marked committers                               |\\n\\nTo be listed: All fields are optional. Contact any of the committers or, more timely, submit a pull request with the following (using the first row as an example):\\n\\n- **Individual or Organization:** The name you would like associated with the record.\\n- **Website:** A URL to a standalone website for the project.\\n- **Project:** A URL for the repository of the project using marked.\\n- **Submitted by:** The name and optional honorifics for the person adding the listing.\\n\\nTo be removed: Same as above. Only instead of requesting addition request deletion or delete the row yourself.\\n\\n<h2 id=\\\"badges\\\">Badges</h2>\\n\\nBadges? You don't *need* no stinkin' badges.\\n\\nMovie references aside. (It was either that or, \\\"Let's play a game\\\", but that would have been creepy&hellip;that's why it will most likely come later.)\\n\\nBadges? If you *want* 'em, we got 'em, and here's how you get 'em (and&hellip;dramatic pause&hellip;why not two dramatic pauses for emphasis?&hellip; how they can be taken away).\\n\\n- [ ] Add the appropriate badge to the desired contributor in the desired column of this page, even if they're not listed here yet.\\n- [ ] Submit a PR (we're big on PRs around here, if you haven't noticed, help us help you).\\n- [ ] Follow the instructions for submitting a badge PR. (There are more details to find within. Come on. Everybody likes surprises, right? No? Actually, we just try to put documentation where it belongs, closer to the code and part of the sequence of events.)\\n\\n### Badges at play:\\n\\n<dl>\\n\\t<dt>Curious Contributor</dt>\\n\\t<dd>A contributor with less than one year on this page who is actively engaged in submitting PRs, Issues, making recommendations, sharing thoughts&hellip;without being too annoying about it (let's be clear, submitting 100 Issues recommending the Marked Committers send everyone candy is trying for the badge, not honestly earning it).</dd>\\n\\t<dt>Dr. DevOps</dt>\\n\\t<dd>\\n\\t\\t<p>Someone who understands and contributes to improving the developer experience and flow of Marked into the world.</p>\\n\\t\\t<blockquote>\\n\\t\\t\\t\\\"The main characteristic of the DevOps movement is to strongly advocate automation and monitoring at all steps of software construction, from integration, testing, releasing to deployment and infrastructure management. DevOps aims at shorter development cycles, increased deployment frequency, more dependable releases, in close alignment with business objectives.\\\" ~ <a href=\\\"https://www.wikipedia.org/wiki/DevOps\\\">Wikipedia</a>\\n\\t\\t</blockquote>\\n\\t</dd>\\n  <dt>Dr. Docs</dt>\\n  <dd>Someone who has contributed a great deal to the creation and maintenance of the non-code areas of marked.</dd>\\n\\t<dt>Eye for the CLI</dt>\\n\\t<dd>At this point? Pretty much anyone who can update that `man` file to the current Marked version without regression in the CLI tool itself.</dd>\\n\\t<dt>GitHub Guru</dt>\\n\\t<dd>Someone who always seems to be able to tell you easier ways to do things with GitHub.</dd>\\n\\t<dt>Humaning Helper</dt>\\n\\t<dd>Someone who goes out of their way to help contributors feel welcomed and valued. Further, someone who takes the extra steps(s) necessary to help new contributors get up to speed. Finally, they maintain composure even in times of disagreement and dispute resolution.</dd>\\n\\t<dt>Heckler of Hypertext</dt>\\n\\t<dd>Someone who demonstrates an esoteric level of knowledge when it comes to HTML. In other words, someone who says things like, \\\"Did you know most Markdown flavors don't have a way to render a description list (`dl`)? All the more reason Markdown `!==` HTML.\\\"</dd>\\n\\t<dt>Markdown Maestro</dt>\\n\\t<dd>You know that person who knows about way too many different flavors of Markdown? The one who maybe seems a little too obsessed with the possibilities of Markdown beyond HTML? Come on. You know who they are. Or, at least you could, if you give them this badge.</dd>\\n\\t<dt>Master of Marked</dt>\\n\\t<dd>Someone who demonstrates they know the ins and outs of the codebase for Marked.</dd>\\n\\t<dt>Open source, of course</dt>\\n\\t<dd>Someone who advocates for and has a proven understanding of how to operate within open source communities.</dd>\\n\\t<dt>Regent of the Regex</dt>\\n\\t<dd><p>Can you demonstrate you understand the following without Google and Stackoverflow?</p>\\n\\t\\t<p><code>/^( *)(bull) [\\\\s\\\\S]+?(?:hr|def|\\\\n{2,}(?! )(?!\\\\1bull )\\\\n*|\\\\s*$)/</code></p>\\n\\t\\t<p>Because this author can't yet. That's who gets these.</p>\\n\\t</dd>\\n\\t<dt>Seeker of Security</dt>\\n\\t<dd>Someone who has demonstrated a high degree of expertise or authority when it comes to software security.</dd>\\n\\t<dt>Titan of the Test Harness</dt>\\n\\t<dd>Someone who demonstrates high-levels of understanding regarding Marked's test harness.</dd>\\n\\t<dt>Totally Tron</dt>\\n\\t<dd>Someone who demonstrates they are willing and able to \\\"fight for the users\\\", both developers dependent on marked to do their jobs as well as end-users interacting with the output (particularly in the realm of those with the disabilities).</dd>\\n</dl>\\n\\n### Special badges that come with the job:\\n\\n<dl>\\n\\t<dt>Defibrillator</dt>\\n\\t<dd>A contributor who stepped up to help bring Marked back to life by contributing solutions to help Marked pass when compared against the CommonMark and GitHub Flavored Markdown specifications.</dd>\\n\\t<dt>Maker of the Marked mark</dt>\\n\\t<dd>This badge is given to the person or organization credited with creating the logo (or logotype) used in Marked communications for a given period of time. **Maker of the Marked mark from 2017 to present**, for example.</dd>\\n\\t<dt>Release Wrangler</dt>\\n\\t<dd>This is a badge given to all Publishers.</dd>\\n\\t<dt>Snyk's Security Saint</dt>\\n\\t<dd>This is a badge given to whomever primarily reaches out from Snyk to let us know about security issues.</dd>\\n</dl>\\n\\n[end of AUTHORS.md]\\n[start of Lexer-spec.js]\\nconst Lexer = require('../../src/Lexer.js');\\n\\nfunction expectTokens({ md, options, tokens = [], links = {} }) {\\n  const lexer = new Lexer(options);\\n  const actual = lexer.lex(md);\\n  const expected = tokens;\\n  expected.links = links;\\n  // console.log(JSON.stringify(actual, null, 2));\\n  expect(actual).toEqual(expected);\\n}\\n\\nfunction expectInlineTokens({ md, options, tokens = jasmine.any(Array), links = {} }) {\\n  const lexer = new Lexer(options);\\n  lexer.tokens.links = links;\\n  const outTokens = [];\\n  lexer.inlineTokens(md, outTokens);\\n  expect(outTokens).toEqual(tokens);\\n}\\n\\nfunction expectInline({ token, options, tokens }) {\\n  const lexer = new Lexer(options);\\n  lexer.inline([token]);\\n  expect(token.tokens).toEqual(tokens);\\n}\\n\\ndescribe('Lexer', () => {\\n  describe('paragraph', () => {\\n    it('space between paragraphs', () => {\\n      expectTokens({\\n        md: 'paragraph 1\\\\n\\\\nparagraph 2',\\n        tokens: [\\n          {\\n            type: 'paragraph',\\n            raw: 'paragraph 1',\\n            text: 'paragraph 1',\\n            tokens: [{ type: 'text', raw: 'paragraph 1', text: 'paragraph 1' }]\\n          },\\n          { type: 'space', raw: '\\\\n\\\\n' },\\n          {\\n            type: 'paragraph',\\n            raw: 'paragraph 2',\\n            text: 'paragraph 2',\\n            tokens: [{ type: 'text', raw: 'paragraph 2', text: 'paragraph 2' }]\\n          }\\n        ]\\n      });\\n    });\\n  });\\n\\n  describe('code', () => {\\n    it('indented code', () => {\\n      expectTokens({\\n        md: '    code',\\n        tokens: [\\n          { type: 'code', raw: '    code', text: 'code', codeBlockStyle: 'indented' }\\n        ]\\n      });\\n    });\\n\\n    it('fenced code', () => {\\n      expectTokens({\\n        md: '```\\\\ncode\\\\n```',\\n        tokens: [\\n          { type: 'code', raw: '```\\\\ncode\\\\n```', text: 'code', lang: '' }\\n        ]\\n      });\\n    });\\n\\n    it('fenced code lang', () => {\\n      expectTokens({\\n        md: '```text\\\\ncode\\\\n```',\\n        tokens: [\\n          { type: 'code', raw: '```text\\\\ncode\\\\n```', text: 'code', lang: 'text' }\\n        ]\\n      });\\n    });\\n  });\\n\\n  describe('headings', () => {\\n    it('depth', () => {\\n      expectTokens({\\n        md: `\\n# heading 1\\n\\n## heading 2\\n\\n### heading 3\\n\\n#### heading 4\\n\\n##### heading 5\\n\\n###### heading 6\\n\\nlheading 1\\n==========\\n\\nlheading 2\\n----------\\n`,\\n        tokens: [\\n          {\\n            type: 'heading',\\n            raw: '# heading 1\\\\n\\\\n',\\n            depth: 1,\\n            text: 'heading 1',\\n            tokens: [{ type: 'text', raw: 'heading 1', text: 'heading 1' }]\\n          },\\n          {\\n            type: 'heading',\\n            raw: '## heading 2\\\\n\\\\n',\\n            depth: 2,\\n            text: 'heading 2',\\n            tokens: [{ type: 'text', raw: 'heading 2', text: 'heading 2' }]\\n          },\\n          {\\n            type: 'heading',\\n            raw: '### heading 3\\\\n\\\\n',\\n            depth: 3,\\n            text: 'heading 3',\\n            tokens: [{ type: 'text', raw: 'heading 3', text: 'heading 3' }]\\n          },\\n          {\\n            type: 'heading',\\n            raw: '#### heading 4\\\\n\\\\n',\\n            depth: 4,\\n            text: 'heading 4',\\n            tokens: [{ type: 'text', raw: 'heading 4', text: 'heading 4' }]\\n          },\\n          {\\n            type: 'heading',\\n            raw: '##### heading 5\\\\n\\\\n',\\n            depth: 5,\\n            text: 'heading 5',\\n            tokens: [{ type: 'text', raw: 'heading 5', text: 'heading 5' }]\\n          },\\n          {\\n            type: 'heading',\\n            raw: '###### heading 6\\\\n\\\\n',\\n            depth: 6,\\n            text: 'heading 6',\\n            tokens: [{ type: 'text', raw: 'heading 6', text: 'heading 6' }]\\n          },\\n          {\\n            type: 'heading',\\n            raw: 'lheading 1\\\\n==========\\\\n\\\\n',\\n            depth: 1,\\n            text: 'lheading 1',\\n            tokens: [{ type: 'text', raw: 'lheading 1', text: 'lheading 1' }]\\n          },\\n          {\\n            type: 'heading',\\n            raw: 'lheading 2\\\\n----------\\\\n',\\n            depth: 2,\\n            text: 'lheading 2',\\n            tokens: [{ type: 'text', raw: 'lheading 2', text: 'lheading 2' }]\\n          }\\n        ]\\n      });\\n    });\\n\\n    it('should not be heading if depth > 6', () => {\\n      expectTokens({\\n        md: '####### heading 7',\\n        tokens: [{\\n          type: 'paragraph',\\n          raw: '####### heading 7',\\n          text: '####### heading 7',\\n          tokens: [{ type: 'text', raw: '####### heading 7', text: '####### heading 7' }]\\n        }]\\n      });\\n    });\\n  });\\n\\n  describe('table', () => {\\n    it('pipe table', () => {\\n      expectTokens({\\n        md: `\\n| a | b |\\n|---|---|\\n| 1 | 2 |\\n`,\\n        tokens: [{\\n          type: 'table',\\n          header: ['a', 'b'],\\n          align: [null, null],\\n          cells: [['1', '2']],\\n          raw: '| a | b |\\\\n|---|---|\\\\n| 1 | 2 |\\\\n',\\n          tokens: {\\n            header: [\\n              [{ type: 'text', raw: 'a', text: 'a' }],\\n              [{ type: 'text', raw: 'b', text: 'b' }]\\n            ],\\n            cells: [[\\n              [{ type: 'text', raw: '1', text: '1' }],\\n              [{ type: 'text', raw: '2', text: '2' }]\\n            ]]\\n          }\\n        }]\\n      });\\n    });\\n\\n    it('align table', () => {\\n      expectTokens({\\n        md: `\\n| a | b | c |\\n|:--|:-:|--:|\\n| 1 | 2 | 3 |\\n`,\\n        tokens: [{\\n          type: 'table',\\n          header: ['a', 'b', 'c'],\\n          align: ['left', 'center', 'right'],\\n          cells: [['1', '2', '3']],\\n          raw: '| a | b | c |\\\\n|:--|:-:|--:|\\\\n| 1 | 2 | 3 |\\\\n',\\n          tokens: {\\n            header: [\\n              [{ type: 'text', raw: 'a', text: 'a' }],\\n              [{ type: 'text', raw: 'b', text: 'b' }],\\n              [{ type: 'text', raw: 'c', text: 'c' }]\\n            ],\\n            cells: [[\\n              [{ type: 'text', raw: '1', text: '1' }],\\n              [{ type: 'text', raw: '2', text: '2' }],\\n              [{ type: 'text', raw: '3', text: '3' }]\\n            ]]\\n          }\\n        }]\\n      });\\n    });\\n\\n    it('no pipe table', () => {\\n      expectTokens({\\n        md: `\\na | b\\n--|--\\n1 | 2\\n`,\\n        tokens: [{\\n          type: 'table',\\n          header: ['a', 'b'],\\n          align: [null, null],\\n          cells: [['1', '2']],\\n          raw: 'a | b\\\\n--|--\\\\n1 | 2\\\\n',\\n          tokens: {\\n            header: [\\n              [{ type: 'text', raw: 'a', text: 'a' }],\\n              [{ type: 'text', raw: 'b', text: 'b' }]\\n            ],\\n            cells: [[\\n              [{ type: 'text', raw: '1', text: '1' }],\\n              [{ type: 'text', raw: '2', text: '2' }]\\n            ]]\\n          }\\n        }]\\n      });\\n    });\\n  });\\n\\n  describe('hr', () => {\\n    it('hr', () => {\\n      expectTokens({\\n        md: '---',\\n        tokens: [\\n          { type: 'hr', raw: '---' }\\n        ]\\n      });\\n    });\\n  });\\n\\n  describe('blockquote', () => {\\n    it('start, inner-tokens, end', () => {\\n      expectTokens({\\n        md: '> blockquote',\\n        tokens: [\\n          {\\n            type: 'blockquote',\\n            raw: '> blockquote',\\n            text: 'blockquote',\\n            tokens: [{\\n              type: 'paragraph',\\n              raw: 'blockquote',\\n              text: 'blockquote',\\n              tokens: [\\n                { type: 'text', raw: 'blockquote', text: 'blockquote' }\\n              ]\\n            }]\\n          }\\n        ]\\n      });\\n    });\\n  });\\n\\n  describe('list', () => {\\n    it('unordered', () => {\\n      expectTokens({\\n        md: `\\n- item 1\\n- item 2\\n`,\\n        tokens: [\\n          {\\n            type: 'list',\\n            raw: '- item 1\\\\n- item 2\\\\n',\\n            ordered: false,\\n            start: '',\\n            loose: false,\\n            items: [\\n              {\\n                type: 'list_item',\\n                raw: '- item 1',\\n                task: false,\\n                checked: undefined,\\n                loose: false,\\n                text: 'item 1',\\n                tokens: [{\\n                  type: 'text',\\n                  raw: 'item 1',\\n                  text: 'item 1',\\n                  tokens: [{ type: 'text', raw: 'item 1', text: 'item 1' }]\\n                }]\\n              },\\n              {\\n                type: 'list_item',\\n                raw: '- item 2\\\\n',\\n                task: false,\\n                checked: undefined,\\n                loose: false,\\n                text: 'item 2\\\\n',\\n                tokens: [{\\n                  type: 'text',\\n                  raw: 'item 2',\\n                  text: 'item 2',\\n                  tokens: [{ type: 'text', raw: 'item 2', text: 'item 2' }]\\n                }]\\n              }\\n            ]\\n          }\\n        ]\\n      });\\n    });\\n\\n    it('ordered', () => {\\n      expectTokens({\\n        md: `\\n1. item 1\\n2. item 2\\n`,\\n        tokens: jasmine.arrayContaining([\\n          jasmine.objectContaining({\\n            type: 'list',\\n            raw: '1. item 1\\\\n2. item 2\\\\n',\\n            ordered: true,\\n            start: 1,\\n            items: [\\n              jasmine.objectContaining({\\n                raw: '1. item 1'\\n              }),\\n              jasmine.objectContaining({\\n                raw: '2. item 2\\\\n'\\n              })\\n            ]\\n          })\\n        ])\\n      });\\n    });\\n\\n    it('start', () => {\\n      expectTokens({\\n        md: `\\n2. item 1\\n3. item 2\\n`,\\n        tokens: jasmine.arrayContaining([\\n          jasmine.objectContaining({\\n            type: 'list',\\n            raw: '2. item 1\\\\n3. item 2\\\\n',\\n            ordered: true,\\n            start: 2,\\n            items: [\\n              jasmine.objectContaining({\\n                raw: '2. item 1'\\n              }),\\n              jasmine.objectContaining({\\n                raw: '3. item 2\\\\n'\\n              })\\n            ]\\n          })\\n        ])\\n      });\\n    });\\n\\n    it('loose', () => {\\n      expectTokens({\\n        md: `\\n- item 1\\n\\n- item 2\\n`,\\n        tokens: jasmine.arrayContaining([\\n          jasmine.objectContaining({\\n            type: 'list',\\n            raw: '- item 1\\\\n\\\\n- item 2\\\\n',\\n            loose: true\\n          })\\n        ])\\n      });\\n    });\\n\\n    it('task', () => {\\n      expectTokens({\\n        md: `\\n- [ ] item 1\\n- [x] item 2\\n`,\\n        tokens: jasmine.arrayContaining([\\n          jasmine.objectContaining({\\n            type: 'list',\\n            raw: '- [ ] item 1\\\\n- [x] item 2\\\\n',\\n            items: [\\n              jasmine.objectContaining({\\n                raw: '- [ ] item 1',\\n                task: true,\\n                checked: false\\n              }),\\n              jasmine.objectContaining({\\n                raw: '- [x] item 2\\\\n',\\n                task: true,\\n                checked: true\\n              })\\n            ]\\n          })\\n        ])\\n      });\\n    });\\n  });\\n\\n  describe('html', () => {\\n    it('div', () => {\\n      expectTokens({\\n        md: '<div>html</div>',\\n        tokens: [\\n          {\\n            type: 'html',\\n            raw: '<div>html</div>',\\n            pre: false,\\n            text: '<div>html</div>'\\n          }\\n        ]\\n      });\\n    });\\n\\n    it('pre', () => {\\n      expectTokens({\\n        md: '<pre>html</pre>',\\n        tokens: [\\n          {\\n            type: 'html',\\n            raw: '<pre>html</pre>',\\n            pre: true,\\n            text: '<pre>html</pre>'\\n          }\\n        ]\\n      });\\n    });\\n\\n    it('sanitize', () => {\\n      expectTokens({\\n        md: '<div>html</div>',\\n        options: { sanitize: true },\\n        tokens: [\\n          {\\n            type: 'paragraph',\\n            raw: '<div>html</div>',\\n            pre: false,\\n            text: '&lt;div&gt;html&lt;/div&gt;',\\n            tokens: [{\\n              type: 'text',\\n              raw: '&lt;div&gt;html&lt;/div&gt;',\\n              text: '&lt;div&gt;html&lt;/div&gt;'\\n            }]\\n          }\\n        ]\\n      });\\n    });\\n  });\\n\\n  describe('def', () => {\\n    it('link', () => {\\n      expectTokens({\\n        md: '[link]: https://example.com',\\n        links: {\\n          link: { href: 'https://example.com', title: undefined }\\n        }\\n      });\\n    });\\n\\n    it('title', () => {\\n      expectTokens({\\n        md: '[link]: https://example.com \\\"title\\\"',\\n        links: {\\n          link: { href: 'https://example.com', title: 'title' }\\n        }\\n      });\\n    });\\n  });\\n\\n  describe('inline', () => {\\n    describe('inline', () => {\\n      it('paragraph', () => {\\n        expectInline({\\n          token: { type: 'paragraph', text: 'text' },\\n          tokens: [\\n            { type: 'text', raw: 'text', text: 'text' }\\n          ]\\n        });\\n      });\\n\\n      it('text', () => {\\n        expectInline({\\n          token: { type: 'text', text: 'text' },\\n          tokens: [\\n            { type: 'text', raw: 'text', text: 'text' }\\n          ]\\n        });\\n      });\\n\\n      it('heading', () => {\\n        expectInline({\\n          token: { type: 'heading', text: 'text' },\\n          tokens: [\\n            { type: 'text', raw: 'text', text: 'text' }\\n          ]\\n        });\\n      });\\n\\n      it('table', () => {\\n        expectInline({\\n          token: {\\n            type: 'table',\\n            header: ['a', 'b'],\\n            align: [null, null],\\n            cells: [['1', '2']]\\n          },\\n          tokens: {\\n            header: [\\n              [{ type: 'text', raw: 'a', text: 'a' }],\\n              [{ type: 'text', raw: 'b', text: 'b' }]\\n            ],\\n            cells: [\\n              [\\n                [{ type: 'text', raw: '1', text: '1' }],\\n                [{ type: 'text', raw: '2', text: '2' }]\\n              ]\\n            ]\\n          }\\n        });\\n      });\\n\\n      it('code no inline tokens', () => {\\n        expectInline({\\n          token: { type: 'code', text: 'code' },\\n          tokens: undefined\\n        });\\n      });\\n    });\\n\\n    describe('inlineTokens', () => {\\n      it('escape', () => {\\n        expectInlineTokens({\\n          md: '\\\\\\\\>',\\n          tokens: [\\n            { type: 'escape', raw: '\\\\\\\\>', text: '&gt;' }\\n          ]\\n        });\\n      });\\n\\n      it('html', () => {\\n        expectInlineTokens({\\n          md: '<div>html</div>',\\n          tokens: [\\n            { type: 'html', raw: '<div>', inLink: false, inRawBlock: false, text: '<div>' },\\n            { type: 'text', raw: 'html', text: 'html' },\\n            { type: 'html', raw: '</div>', inLink: false, inRawBlock: false, text: '</div>' }\\n          ]\\n        });\\n      });\\n\\n      it('html sanitize', () => {\\n        expectInlineTokens({\\n          md: '<div>html</div>',\\n          options: { sanitize: true },\\n          tokens: [\\n            { type: 'text', raw: '<div>', inLink: false, inRawBlock: false, text: '&lt;div&gt;' },\\n            { type: 'text', raw: 'html', text: 'html' },\\n            { type: 'text', raw: '</div>', inLink: false, inRawBlock: false, text: '&lt;/div&gt;' }\\n          ]\\n        });\\n      });\\n\\n      it('link', () => {\\n        expectInlineTokens({\\n          md: '[link](https://example.com)',\\n          tokens: [\\n            {\\n              type: 'link',\\n              raw: '[link](https://example.com)',\\n              href: 'https://example.com',\\n              title: null,\\n              text: 'link',\\n              tokens: [\\n                { type: 'text', raw: 'link', text: 'link' }\\n              ]\\n            }\\n          ]\\n        });\\n      });\\n\\n      it('link title', () => {\\n        expectInlineTokens({\\n          md: '[link](https://example.com \\\"title\\\")',\\n          tokens: [\\n            {\\n              type: 'link',\\n              raw: '[link](https://example.com \\\"title\\\")',\\n              href: 'https://example.com',\\n              title: 'title',\\n              text: 'link',\\n              tokens: [\\n                { type: 'text', raw: 'link', text: 'link' }\\n              ]\\n            }\\n          ]\\n        });\\n      });\\n\\n      it('image', () => {\\n        expectInlineTokens({\\n          md: '![image](https://example.com/image.png)',\\n          tokens: [\\n            {\\n              type: 'image',\\n              raw: '![image](https://example.com/image.png)',\\n              text: 'image',\\n              href: 'https://example.com/image.png',\\n              title: null\\n            }\\n          ]\\n        });\\n      });\\n\\n      it('image title', () => {\\n        expectInlineTokens({\\n          md: '![image](https://example.com/image.png \\\"title\\\")',\\n          tokens: [\\n            {\\n              type: 'image',\\n              raw: '![image](https://example.com/image.png \\\"title\\\")',\\n              text: 'image',\\n              href: 'https://example.com/image.png',\\n              title: 'title'\\n            }\\n          ]\\n        });\\n      });\\n\\n      describe('reflink', () => {\\n        it('reflink', () => {\\n          expectInlineTokens({\\n            md: '[link][]',\\n            links: {\\n              link: { href: 'https://example.com', title: 'title' }\\n            },\\n            tokens: [\\n              {\\n                type: 'link',\\n                raw: '[link][]',\\n                href: 'https://example.com',\\n                title: 'title',\\n                text: 'link',\\n                tokens: [{\\n                  type: 'text',\\n                  raw: 'link',\\n                  text: 'link'\\n                }]\\n              }\\n            ]\\n          });\\n        });\\n\\n        it('nolink', () => {\\n          expectInlineTokens({\\n            md: '[link]',\\n            links: {\\n              link: { href: 'https://example.com', title: 'title' }\\n            },\\n            tokens: [\\n              {\\n                type: 'link',\\n                raw: '[link]',\\n                href: 'https://example.com',\\n                title: 'title',\\n                text: 'link',\\n                tokens: [{\\n                  type: 'text',\\n                  raw: 'link',\\n                  text: 'link'\\n                }]\\n              }\\n            ]\\n          });\\n        });\\n\\n        it('no def', () => {\\n          expectInlineTokens({\\n            md: '[link]',\\n            tokens: [\\n              { type: 'text', raw: '[', text: '[' },\\n              { type: 'text', raw: 'link]', text: 'link]' }\\n            ]\\n          });\\n        });\\n      });\\n\\n      it('strong', () => {\\n        expectInlineTokens({\\n          md: '**strong**',\\n          tokens: [\\n            {\\n              type: 'strong',\\n              raw: '**strong**',\\n              text: 'strong',\\n              tokens: [\\n                { type: 'text', raw: 'strong', text: 'strong' }\\n              ]\\n            }\\n          ]\\n        });\\n      });\\n\\n      it('em', () => {\\n        expectInlineTokens({\\n          md: '*em*',\\n          tokens: [\\n            {\\n              type: 'em',\\n              raw: '*em*',\\n              text: 'em',\\n              tokens: [\\n                { type: 'text', raw: 'em', text: 'em' }\\n              ]\\n            }\\n          ]\\n        });\\n      });\\n\\n      describe('codespan', () => {\\n        it('code', () => {\\n          expectInlineTokens({\\n            md: '`code`',\\n            tokens: [\\n              { type: 'codespan', raw: '`code`', text: 'code' }\\n            ]\\n          });\\n        });\\n\\n        it('only spaces not stripped', () => {\\n          expectInlineTokens({\\n            md: '`   `',\\n            tokens: [\\n              { type: 'codespan', raw: '`   `', text: '   ' }\\n            ]\\n          });\\n        });\\n\\n        it('beginning space only not stripped', () => {\\n          expectInlineTokens({\\n            md: '` a`',\\n            tokens: [\\n              { type: 'codespan', raw: '` a`', text: ' a' }\\n            ]\\n          });\\n        });\\n\\n        it('end space only not stripped', () => {\\n          expectInlineTokens({\\n            md: '`a `',\\n            tokens: [\\n              { type: 'codespan', raw: '`a `', text: 'a ' }\\n            ]\\n          });\\n        });\\n\\n        it('begin and end spaces are stripped', () => {\\n          expectInlineTokens({\\n            md: '` a `',\\n            tokens: [\\n              { type: 'codespan', raw: '` a `', text: 'a' }\\n            ]\\n          });\\n        });\\n\\n        it('begin and end newlines are stripped', () => {\\n          expectInlineTokens({\\n            md: '`\\\\na\\\\n`',\\n            tokens: [\\n              { type: 'codespan', raw: '`\\\\na\\\\n`', text: 'a' }\\n            ]\\n          });\\n        });\\n\\n        it('begin and end tabs are not stripped', () => {\\n          expectInlineTokens({\\n            md: '`\\\\ta\\\\t`',\\n            tokens: [\\n              { type: 'codespan', raw: '`\\\\ta\\\\t`', text: '\\\\ta\\\\t' }\\n            ]\\n          });\\n        });\\n\\n        it('begin and end newlines', () => {\\n          expectInlineTokens({\\n            md: '`\\\\na\\\\n`',\\n            tokens: [\\n              { type: 'codespan', raw: '`\\\\na\\\\n`', text: 'a' }\\n            ]\\n          });\\n        });\\n\\n        it('begin and end multiple spaces only one stripped', () => {\\n          expectInlineTokens({\\n            md: '`  a  `',\\n            tokens: [\\n              { type: 'codespan', raw: '`  a  `', text: ' a ' }\\n            ]\\n          });\\n        });\\n\\n        it('newline to space', () => {\\n          expectInlineTokens({\\n            md: '`a\\\\nb`',\\n            tokens: [\\n              { type: 'codespan', raw: '`a\\\\nb`', text: 'a b' }\\n            ]\\n          });\\n        });\\n      });\\n\\n      it('br', () => {\\n        expectInlineTokens({\\n          md: 'a\\\\nb',\\n          options: { gfm: true, breaks: true },\\n          tokens: jasmine.arrayContaining([\\n            { type: 'br', raw: '\\\\n' }\\n          ])\\n        });\\n      });\\n\\n      it('del', () => {\\n        expectInlineTokens({\\n          md: '~~del~~',\\n          tokens: [\\n            {\\n              type: 'del',\\n              raw: '~~del~~',\\n              text: 'del',\\n              tokens: [\\n                { type: 'text', raw: 'del', text: 'del' }\\n              ]\\n            }\\n          ]\\n        });\\n      });\\n\\n      describe('url', () => {\\n        it('autolink', () => {\\n          expectInlineTokens({\\n            md: '<https://example.com>',\\n            tokens: [\\n              {\\n                type: 'link',\\n                raw: '<https://example.com>',\\n                text: 'https://example.com',\\n                href: 'https://example.com',\\n                tokens: [\\n                  { type: 'text', raw: 'https://example.com', text: 'https://example.com' }\\n                ]\\n              }\\n            ]\\n          });\\n        });\\n\\n        it('autolink email', () => {\\n          expectInlineTokens({\\n            md: '<test@example.com>',\\n            options: { mangle: false },\\n            tokens: [\\n              {\\n                type: 'link',\\n                raw: '<test@example.com>',\\n                text: 'test@example.com',\\n                href: 'mailto:test@example.com',\\n                tokens: [\\n                  { type: 'text', raw: 'test@example.com', text: 'test@example.com' }\\n                ]\\n              }\\n            ]\\n          });\\n        });\\n\\n        it('autolink mangle email', () => {\\n          expectInlineTokens({\\n            md: '<test@example.com>',\\n            options: { mangle: true },\\n            tokens: [\\n              {\\n                type: 'link',\\n                raw: '<test@example.com>',\\n                text: jasmine.stringMatching(/^(&#x?[0-9a-f]+;)+$/),\\n                href: jasmine.stringMatching(/^mailto:(&#x?[0-9a-f]+;)+$/),\\n                tokens: [\\n                  {\\n                    type: 'text',\\n                    raw: jasmine.stringMatching(/^(&#x?[0-9a-f]+;)+$/),\\n                    text: jasmine.stringMatching(/^(&#x?[0-9a-f]+;)+$/)\\n                  }\\n                ]\\n              }\\n            ]\\n          });\\n        });\\n\\n        it('url', () => {\\n          expectInlineTokens({\\n            md: 'https://example.com',\\n            tokens: [\\n              {\\n                type: 'link',\\n                raw: 'https://example.com',\\n                text: 'https://example.com',\\n                href: 'https://example.com',\\n                tokens: [\\n                  { type: 'text', raw: 'https://example.com', text: 'https://example.com' }\\n                ]\\n              }\\n            ]\\n          });\\n        });\\n\\n        it('url email', () => {\\n          expectInlineTokens({\\n            md: 'test@example.com',\\n            options: { gfm: true, mangle: false },\\n            tokens: [\\n              {\\n                type: 'link',\\n                raw: 'test@example.com',\\n                text: 'test@example.com',\\n                href: 'mailto:test@example.com',\\n                tokens: [\\n                  { type: 'text', raw: 'test@example.com', text: 'test@example.com' }\\n                ]\\n              }\\n            ]\\n          });\\n        });\\n\\n        it('url mangle email', () => {\\n          expectInlineTokens({\\n            md: 'test@example.com',\\n            options: { gfm: true, mangle: true },\\n            tokens: [\\n              {\\n                type: 'link',\\n                raw: 'test@example.com',\\n                text: jasmine.stringMatching(/^(&#x?[0-9a-f]+;)+$/),\\n                href: jasmine.stringMatching(/^mailto:(&#x?[0-9a-f]+;)+$/),\\n                tokens: [\\n                  {\\n                    type: 'text',\\n                    raw: jasmine.stringMatching(/^(&#x?[0-9a-f]+;)+$/),\\n                    text: jasmine.stringMatching(/^(&#x?[0-9a-f]+;)+$/)\\n                  }\\n                ]\\n              }\\n            ]\\n          });\\n        });\\n      });\\n\\n      it('text', () => {\\n        expectInlineTokens({\\n          md: 'text',\\n          tokens: [\\n            {\\n              type: 'text',\\n              raw: 'text',\\n              text: 'text'\\n            }\\n          ]\\n        });\\n      });\\n\\n      describe('smartypants', () => {\\n        it('single quotes', () => {\\n          expectInlineTokens({\\n            md: \\\"'single quotes'\\\",\\n            options: { smartypants: true },\\n            tokens: [\\n              {\\n                type: 'text',\\n                raw: \\\"'single quotes'\\\",\\n                text: '\\u2018single quotes\\u2019'\\n              }\\n            ]\\n          });\\n        });\\n\\n        it('double quotes', () => {\\n          expectInlineTokens({\\n            md: '\\\"double quotes\\\"',\\n            options: { smartypants: true },\\n            tokens: [\\n              {\\n                type: 'text',\\n                raw: '\\\"double quotes\\\"',\\n                text: '\\u201cdouble quotes\\u201d'\\n              }\\n            ]\\n          });\\n        });\\n\\n        it('ellipses', () => {\\n          expectInlineTokens({\\n            md: 'ellipses...',\\n            options: { smartypants: true },\\n            tokens: [\\n              {\\n                type: 'text',\\n                raw: 'ellipses...',\\n                text: 'ellipses\\u2026'\\n              }\\n            ]\\n          });\\n        });\\n\\n        it('en-dash', () => {\\n          expectInlineTokens({\\n            md: 'en--dash',\\n            options: { smartypants: true },\\n            tokens: [\\n              {\\n                type: 'text',\\n                raw: 'en--dash',\\n                text: 'en\\u2013dash'\\n              }\\n            ]\\n          });\\n        });\\n\\n        it('em-dash', () => {\\n          expectInlineTokens({\\n            md: 'em---dash',\\n            options: { smartypants: true },\\n            tokens: [\\n              {\\n                type: 'text',\\n                raw: 'em---dash',\\n                text: 'em\\u2014dash'\\n              }\\n            ]\\n          });\\n        });\\n      });\\n    });\\n  });\\n});\\n\\n[end of Lexer-spec.js]\\n\\n</code>\\n\\nHere is an example of a patch file. It consists of changes to the code base. It specifies the file names, the line numbers of each change, and the removed and added lines. A single patch file can contain changes to multiple files.\\n\\n<patch>\\ndiff --git a/file.py b/file.py\\n--- a/file.py\\n+++ b/file.py\\n@@ -1,27 +1,35 @@\\n def euclidean(a, b):\\n-    while b:\\n-        a, b = b, a % b\\n-    return a\\n+    if b == 0:\\n+        return a\\n+    return euclidean(b, a % b)\\n \\n def bresenham(x0, y0, x1, y1):\\n+    points = []\\n+    dx = abs(x1 - x0)\\n+    dy = abs(y1 - y0)\\n+    sx = 1 if x0 < x1 else -1\\n+    sy = 1 if y0 < y1 else -1\\n+    err = dx - dy\\n+    \\n     while True:\\n-        plot(x0, y0)\\n+        points.append((x0, y0))\\n         if x0 == x1 and y0 == y1:\\n             break\\n-        e2 = 2 * err\\n-        if e2 > -dy:\\n-            err -= dy\\n-            x0 += sx\\n-        if e2 < dx:\\n-            err += dx\\n-            y0 += sy\\n+        e2 = 2 * err\\n+        if e2 > -dy:\\n+            err -= dy\\n+            x0 += sx\\n+        if e2 < dx:\\n+            err += dx\\n+            y0 += sy\\n+    return points\\n+</patch>\\n\\nI need you to solve the provided issue by generating a single patch file that I can apply directly to this repository using git apply. Please respond with a single patch file in the format shown above.\\n\\nRespond below: \\n\"}]",
      "retrieved_file_paths": [
        "README.md",
        "CONTRIBUTING.md",
        "release.md",
        "AUTHORS.md",
        "Lexer-spec.js"
      ]
    },
    "retrieved_documents": [
      {
        "id": "84ac8b98-e5e2-4713-a953-ff686024b180",
        "score": 0.01639344262295082,
        "payload": {
          "text": "Marked is\n\n1. built for speed.<sup>*</sup>\n2. a low-level markdown compiler for parsing markdown without caching or blocking for long periods of time.<sup>**</sup>\n3. light-weight while implementing all markdown features from the supported flavors & specifications.<sup>***</sup>\n4. available as a command line interface (CLI) and running in client- or server-side JavaScript projects.\n\n<p><small><sup>*</sup> Still working on metrics for comparative analysis and definition.</small><br>\n<small><sup>**</sup> As few dependencies as possible.</small><br>\n<small><sup>***</sup> Strict compliance could result in slower processing when running comparative benchmarking.</small></p>\n\n\n<h2 id=\"demo\">Demo</h2>\n\nCheckout the [demo page](./demo/) to see marked in action \u26f9\ufe0f\n\nThese documentation pages are also rendered using marked \ud83d\udcaf\n\n\n<h2 id=\"installation\">Installation</h2>\n\n**CLI:** `npm install -g marked`\n\n**In-browser:** `npm install marked`\n\n<h2 id=\"usage\">Usage</h2>\n\n### Warning: \ud83d\udea8 Marked does not [sanitize](https://marked.js.org/#/USING_ADVANCED.md#options) the output HTML. Please use a sanitize library, like [DOMPurify](https://github.com/cure53/DOMPurify) (recommended), [sanitize-html](https://github.com/apostrophecms/sanitize-html) or [insane](https://github.com/bevacqua/insane) on the output HTML! \ud83d\udea8\n\n**CLI**\n\n``` bash\n$ marked -o hello.html\nhello world\n^D\n$ cat hello.html\n<p>hello world</p>\n```\n\n``` bash\n$ marked -s \"*hello world*\"\n<p><em>hello world</em></p>\n```\n\n**Browser**\n\n```html\n<!doctype html>\n<html>\n<head>\n  <meta charset=\"utf-8\"/>\n  <title>Marked in the browser</title>\n</head>\n<body>\n  <div id=\"content\"></div>\n  <script src=\"https://cdn.jsdelivr.net/npm/marked/marked.min.js\"></script>\n  <script>\n    document.getElementById('content').innerHTML =\n      marked('# Marked in browser\\n\\nRendered by **marked**.');\n  </script>\n</body>\n</html>\n```\n\n\nMarked offers [advanced configurations](#/USING_ADVANCED.md) and [extensibility](#/USING_PRO.md) as well.\n\n<h2 id=\"specifications\">Supported Markdown specifications</h2>\n\nWe actively support the features of the following [Markdown flavors](https://github.com/commonmark/CommonMark/wiki/Markdown-Flavors).\n\n|Flavor                                                     |Version    |\n|:----------------------------------------------------------|:----------|\n|The original markdown.pl                                   |--         |\n|[CommonMark](http://spec.commonmark.org/0.29/)             |0.29       |\n|[GitHub Flavored Markdown](https://github.github.com/gfm/) |0.29       |\n\nBy supporting the above Markdown flavors, it's possible that Marked can help you use other flavors as well; however, these are not actively supported by the community.\n\n<h2 id=\"security\">Security</h2>\n\nThe only completely secure system is the one that doesn't exist in the first place. Having said that, we take the security of Marked very seriously.\n\nTherefore, please disclose potential security issues by email to the project [committers](#/AUTHORS.md) as well as the [listed owners within NPM](https://docs.npmjs.com/cli/owner). We will provide an initial assessment of security reports within 48 hours and should apply patches within 2 weeks (also, feel free to contribute a fix for the issue).\n\n",
          "filepath": "data/repos/markedjs/marked-1.1/docs/README.md",
          "repo": "markedjs/marked",
          "version": "1.1",
          "chunk_index": 0,
          "chunk_id": "84ac8b98-e5e2-4713-a953-ff686024b180"
        }
      },
      {
        "id": "5bccf3b3-ab86-4a14-93d5-b59b8c74ba50",
        "score": 0.016129032258064516,
        "payload": {
          "text": "# Contributing to Marked\n\n- [ ] Fork `markedjs/marked`.\n- [ ] Clone the library locally using GitHub Desktop or the command line.\n- [ ] Make sure you are on the `master` branch.\n- [ ] Be sure to run `npm install` or `npm update`.\n- [ ] Create a branch.\n- [ ] Update code in `src` folder. (`lib` folder is for auto compiled code)\n- [ ] Run `npm run test:all`, fix any broken things (for linting, you can run `npm run lint` to have the linter fix them for you).\n- [ ] Run `npm run build:reset` to remove changes to compiled files.\n- [ ] Submit a Pull Request.\n\n## Design principles\n\nMarked tends to favor following the SOLID set of software design and development principles; mainly the [single responsibility](https://en.wikipedia.org/wiki/Single_responsibility_principle) and [open/closed principles](https://en.wikipedia.org/wiki/Open/closed_principle):\n\n- **Single responsibility:** Marked, and the components of Marked, have the single responsibility of converting Markdown strings into HTML.\n- **Open/closed:** Marked favors giving developers the means to easily extend the library and its components over changing Marked's behavior through configuration options.\n\n## Priorities\n\nWe think we have our priorities sorted to build quality in.\n\nThe following table lists the ticket type labels we use when there is work to be done on the code either through an Issue or a PR; in priority order.\n\n|Ticket type label                  |Description                                                                                                                                                                         |\n|:----------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n|L0 - security                      |A security vulnerability within the Marked library is discovered.                                                                                                                   |\n|L1 - broken                        |Valid usage results in incorrect output compared to [supported specifications](#/README.md#specifications) OR causes marked to crash AND there is no known workaround for the issue. |\n|L2 - annoying                      |Similar to L1 - broken only there is a known workaround available for the issue.                                                                                                   |\n|RR - refactor and re-engineer      |Results in an improvement to developers using Marked (improved readability) or end-users (faster performance) or both.                                                              |\n|NFS - new feature (spec related)   |A capability Marked does not currently provide but is in one of the [supported specifications](#/README.md#specifications)                                                           |\n|NFU - new feature (user requested) |A capability Marked does not currently provide but has been requested by users of Marked.                                                                                           |\n|NFE - new feature (should be an extension) |A capability Marked does not currently provide and is not part of a spec.                                                                                           |\n\n## Test early, often, and everything\n\nWe try to write test cases to validate output (writing tests based on the [supported specifications](#/README.md#specifications)) and minimize regression (writing tests for issues fixed). Therefore, if you would like to contribute, some things you should know regarding the test harness.\n\n|Location              |Description                                                                                                    |\n|:---------------------|:--------------------------------------------------------------------------------------------------------------|\n|/test/specs/commonmark|Tests for [CommonMark](https://spec.commonmark.org/current/) compliance                                        |\n|/test/specs/gfm       |Tests for [GFM](https://github.github.com/gfm/) compliance                                                     |\n|/test/specs/new       |Tests not related to the original `markdown.pl`.                                                               |\n|/test/specs/original  |Tests validating against the original `markdown.pl`.                                                           |\n|/test/specs/redos     |Tests for [ReDOS](https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS) vulnerabilities|\n\nIf your test uses features or options, assuming `gfm` is set to `false`, for example, you can add [front-matter](https://www.npmjs.com/package/front-matter) to the top of\nyour `.md` file\n\n``` yml\n---\ngfm: false\n---\n```\n\n## Submitting PRs and Issues\n\nMarked provides templates for submitting both pull requests and issues. When you begin creating a new PR or issue, you will see instructions on using the template.\n\nThe PR templates include checklists for both the submitter and the reviewer, which, in most cases, will not be the same person.\n\n## Scripts\n\nWhen it comes to NPM commands, we try to use the native scripts provided by the NPM framework.\n\nTo run the tests:\n\n``` bash\nnpm test\n```\n\nTo test whether you are using the standard syntax rules for the project:\n\n```bash\nnpm run test:lint\n```\n\nTo see time comparisons between Marked and other popular Markdown libraries:\n\n```bash\nnpm run bench\n```\n\nTo check for (and fix) standardized syntax (lint):\n\n```bash\nnpm run lint\n```\n\nTo build your own es5, esm, and minified versions of Marked:\n\n```bash\nnpm run build\n```\n",
          "filepath": "data/repos/markedjs/marked-1.1/docs/CONTRIBUTING.md",
          "repo": "markedjs/marked",
          "version": "1.1",
          "chunk_index": 0,
          "chunk_id": "5bccf3b3-ab86-4a14-93d5-b59b8c74ba50"
        }
      },
      {
        "id": "70727e78-433b-42e6-a726-ffceb86c4185",
        "score": 0.015873015873015872,
        "payload": {
          "text": "## Publisher\n\n- [ ] `$ npm version` has been run.\n- [ ] Release notes in [draft GitHub release](https://github.com/markedjs/marked/releases) are up to date\n- [ ] Release notes include which flavors and versions of Markdown are supported by this release\n- [ ] Committer checklist is complete.\n- [ ] Merge PR.\n- [ ] Publish GitHub release using `master` with correct version number.\n- [ ] `$ npm publish` has been run.\n- [ ] Create draft GitHub release to prepare next release.\n\nNote: If merges to `master` occur after submitting this PR and before running `$ npm pubish` you should be able to\n\n1. pull from `upstream/master` (`git pull upstream master`) into the branch holding this version,\n2. run `$ npm run build` to regenerate the `min` file, and\n3. commit and push the updated changes.\n\n## Committer\n\nIn most cases, this should be someone different than the publisher.\n\n- [ ] Version in `package.json` has been updated (see [PUBLISHING.md](https://github.com/markedjs/marked/blob/master/docs/PUBLISHING.md)).\n- [ ] The `marked.min.js` has been updated; or,\n- [ ] release does not change library.\n- [ ] CI is green (no forced merge required).\n",
          "filepath": "data/repos/markedjs/marked-1.1/.github/PULL_REQUEST_TEMPLATE/release.md",
          "repo": "markedjs/marked",
          "version": "1.1",
          "chunk_index": 0,
          "chunk_id": "70727e78-433b-42e6-a726-ffceb86c4185"
        }
      },
      {
        "id": "81fa0d9c-3565-4f7e-ad06-01f04ba522b2",
        "score": 0.015625,
        "payload": {
          "text": "# Authors\n\nMarked takes an encompassing approach to its community. As such, you can think of these as [concentric circles](https://medium.com/the-node-js-collection/healthy-open-source-967fa8be7951), where each group encompasses the following groups.\n\n<table>\n  <tbody>\n  \t<tr>\n      <td align=\"center\" valign=\"top\" style=\"width:32%\">\n        <a href=\"https://github.com/chjj\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/chjj.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/chjj\">Christopher Jeffrey</a>\n        <div>Original Author</div>\n        <small>Started the fire</small>\n      </td>\n      <td align=\"center\" valign=\"top\" style=\"width:32%\">\n        <a href=\"https://github.com/joshbruce\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/joshbruce.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://joshbruce.com\">Josh Bruce</a>\n        <div>Publisher</div>\n        <small>Release Wrangler; Humaning Helper; Heckler of Hypertext</small>\n      </td>\n      <td align=\"center\" valign=\"top\" style=\"width:32%\">\n        <a href=\"https://github.com/styfle\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/styfle.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://www.ceriously.com\">Steven</a>\n        <div>Publisher</div>\n        <small>Release Wrangler; Dr. Docs; Open source, of course; GitHub Guru; Humaning Helper</small>\n      </td>\n    </tr>\n  \t<tr>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/davisjam\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/davisjam.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/davisjam\">Jamie Davis</a>\n        <div>Committer</div>\n        <small>Seeker of Security</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/UziTech\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/UziTech.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://tony.brix.ninja\">Tony Brix</a>\n        <div>Publisher</div>\n        <small>Release Wrangler; Titan of the test harness; Dr. DevOps</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        &nbsp;\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n<table>\n  <tbody>\n    <tr>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/intcreator\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/intcreator.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/intcreator\">Brandon der Bl\u00e4tter</a>\n        <div>Contributor</div>\n        <small>Curious Contributor</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/carlosvalle\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/carlosvalle.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/carlosvalle\">Carlos Valle</a>\n        <div>Contributor</div>\n        <small>Maker of the Marked mark from 2018 to present</small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n        <a href=\"https://github.com/Feder1co5oave\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/Feder1co5oave.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/Feder1co5oave\">Federico Soave</a>\n        <div>Contributor</div>\n        <small>Regent of the Regex; Master of Marked</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/karenyavine\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/karenyavine.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/karenyavine\">Karen Yavine</a>\n        <div>Contributor</div>\n        <small>Snyk's Security Saint</small>\n      </td>\n     </tr>\n     <tr>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/KostyaTretyak\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/KostyaTretyak.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/KostyaTretyak\">\u041a\u043e\u0441\u0442\u044f \u0422\u0440\u0435\u0442\u044f\u043a</a>\n        <div>Contributor</div>\n        <small></small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n        <a href=\"https://github.com/tomtheisen\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/tomtheisen.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/tomtheisen\">Tom Theisen</a>\n        <div>Contributor</div>\n        <small>Defibrillator</small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n        <a href=\"https://github.com/mccraveiro\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/mccraveiro.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/mccraveiro\">Mateus Craveiro</a>\n        <div>Contributor</div>\n        <small>Defibrillator</small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n      </td>\n     </tr>\n  </tbody>\n</table>\n\n## Publishers\n\nPublishers are admins who also have the responsibility, privilege, and burden of publishing the new releases to NPM and performing outreach and external stakeholder communications. Further, when things go pear-shaped, they're the ones taking most of the heat. Finally, when things go well, they're the primary ones praising the contributors who made it possible.\n\n(In other words, while Admins are focused primarily on the internal workings of the project, Publishers are focused on internal *and* external concerns.)\n\n**Should not exceed 2:** Having more people with the authority to publish a release can quickly turn into a consensus seeking nightmare (design by committee). Having only one is preferred (Directly Responsible Individual); however, given the nature of the project and its history, having an immediate fallback, and a potential deep fallback (Original author) is probably a good idea.\n\n[Details on badges](#badges)\n\n## Admins\n\nAdmins are committers who also have the responsibility, privilege, and burden of selecting committers and making sure the project itself runs smoothly, which includes community maintenance, governance, dispute resolution, and so on. (Letting the contributors easily enter into, and work within, the project to begin contributing, with as little friction as possible.)\n\n**Should not exceed 3:** When there are too many people with the ability to resolve disputes, the dispute itself can quickly turn into a dispute amongst the admins themselves; therefore, we want this group to be small enough to commit to action and large enough to not put too much burden on one person. (Should ensure faster resolution and responsiveness.)\n\nTo be listed: Admins are usually selected from the pool of committers (or they volunteer, using the same process) who demonstrate good understanding of the marked culture, operations, and do their best to help new contributors get up to speed on how to contribute effectively to the project.\n\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\n\n[Details on badges](#badges)\n\n## Committers\n\nCommitters are contributors who also have the responsibility, privilege, some might even say burden of being able to review and merge contributions (just usually not their own).\n\nA note on \"decision making authority\". This is related to submitting PRs and the [advice process](http://www.reinventingorganizationswiki.com/Decision_Making). The person marked as having decision making authority over a certain area should be sought for advice in that area before committing to a course of action.\n\n**Should not exceed 5:** For larger PRs affecting more of the codebase and, most likely, review by more people, we try to keep this pool small and responsive and let those with decision making authority have final say without negative repercussions from the other committers.\n\nTo be listed: Committers are usually selected (or they volunteer, using the same process) from contributors who enter the discussions regarding the future direction of Marked (maybe even doing informal reviews of contributions despite not being able to merge them yourself).\n\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\n\nA note on volunteering:\n\n1. Please do not volunteer unless you believe you can demonstrate to your peers you can do the work required.\n2. Please do not overcommit yourself; we count on those committed to the project to be responsive. Really consider, with all you have going on, whether you able to really commit to it.\n3. Don't let the previous frighten you away, it can always be changed later by you or your peers.\n\n[Details on badges](#badges)\n\n## Contributors\n\nContributors are users who submit a [PR](https://github.com/markedjs/marked/pulls), [Issue](https://github.com/markedjs/marked/issues), or collaborate in making Marked a better product and experience for all the users.\n\nTo be listed: make a contribution and, if it has significant impact, the committers may be able to add you here.\n\nTo be removed: please let us know or submit a PR.\n\n[Details on badges](#badges)\n\n## Users\n\nUsers are anyone using Marked in some fashion, without them, there's no reason for us to exist.\n\n|Individual or Organization |Website                 |Project                              |Submitted by                                        |\n|:--------------------------|:-----------------------|:------------------------------------|:---------------------------------------------------|\n|MarkedJS                   |https://marked.js.org   |https://github.com/markedjs/marked   |The marked committers                               |\n\nTo be listed: All fields are optional. Contact any of the committers or, more timely, submit a pull request with the following (using the first row as an example):\n\n- **Individual or Organization:** The name you would like associated with the record.\n- **Website:** A URL to a standalone website for the project.\n- **Project:** A URL for the repository of the project using marked.\n- **Submitted by:** The name and optional honorifics for the person adding the listing.\n\nTo be removed: Same as above. Only instead of requesting addition request deletion or delete the row yourself.\n\n<h2 id=\"badges\">Badges</h2>\n\nBadges? You don't *need* no stinkin' badges.\n\nMovie references aside. (It was either that or, \"Let's play a game\", but that would have been creepy&hellip;that's why it will most likely come later.)\n\nBadges? If you *want* 'em, we got 'em, and here's how you get 'em (and&hellip;dramatic pause&hellip;why not two dramatic pauses for emphasis?&hellip; how they can be taken away).\n\n- [ ] Add the appropriate badge to the desired contributor in the desired column of this page, even if they're not listed here yet.\n- [ ] Submit a PR (we're big on PRs around here, if you haven't noticed, help us help you).\n- [ ] Follow the instructions for submitting a badge PR. (There are more details to find within. Come on. Everybody likes surprises, right? No? Actually, we just try to put documentation where it belongs, closer to the code and part of the sequence of events.)\n\n### Badges at play:\n\n<dl>\n\t<dt>Curious Contributor</dt>\n\t<dd>A contributor with less than one year on this page who is actively engaged in submitting PRs, Issues, making recommendations, sharing thoughts&hellip;without being too annoying about it (let's be clear, submitting 100 Issues recommending the Marked Committers send everyone candy is trying for the badge, not honestly earning it).</dd>\n\t<dt>Dr. DevOps</dt>\n\t<dd>\n\t\t<p>Someone who understands and contributes to improving the developer experience and flow of Marked into the world.</p>\n\t\t<blockquote>\n\t\t\t\"The main characteristic of the DevOps movement is to strongly advocate automation and monitoring at all steps of software construction, from integration, testing, releasing to deployment and infrastructure management. DevOps aims at shorter development cycles, increased deployment frequency, more dependable releases, in close alignment with business objectives.\" ~ <a href=\"https://www.wikipedia.org/wiki/DevOps\">Wikipedia</a>\n\t\t</blockquote>\n\t</dd>\n  <dt>Dr. Docs</dt>\n  <dd>Someone who has contributed a great deal to the creation and maintenance of the non-code areas of marked.</dd>\n\t<dt>Eye for the CLI</dt>\n\t<dd>At this point? Pretty much anyone who can update that `man` file to the current Marked version without regression in the CLI tool itself.</dd>\n\t<dt>GitHub Guru</dt>\n\t<dd>Someone who always seems to be able to tell you easier ways to do things with GitHub.</dd>\n\t<dt>Humaning Helper</dt>\n\t<dd>Someone who goes out of their way to help contributors feel welcomed and valued. Further, someone who takes the extra steps(s) necessary to help new contributors get up to speed. Finally, they maintain composure even in times of disagreement and dispute resolution.</dd>\n\t<dt>Heckler of Hypertext</dt>\n\t<dd>Someone who demonstrates an esoteric level of knowledge when it comes to HTML. In other words, someone who says things like, \"Did you know most Markdown flavors don't have a way to render a description list (`dl`)? All the more reason Markdown `!==` HTML.\"</dd>\n\t<dt>Markdown Maestro</dt>\n\t<dd>You know that person who knows about way too many different flavors of Markdown? The one who maybe seems a little too obsessed with the possibilities of Markdown beyond HTML? Come on. You know who they are. Or, at least you could, if you give them this badge.</dd>\n\t<dt>Master of Marked</dt>\n\t<dd>Someone who demonstrates they know the ins and outs of the codebase for Marked.</dd>\n\t<dt>Open source, of course</dt>\n\t<dd>Someone who advocates for and has a proven understanding of how to operate within open source communities.</dd>\n\t<dt>Regent of the Regex</dt>\n\t<dd><p>Can you demonstrate you understand the following without Google and Stackoverflow?</p>\n\t\t<p><code>/^( *)(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/</code></p>\n\t\t<p>Because this author can't yet. That's who gets these.</p>\n\t</dd>\n\t<dt>Seeker of Security</dt>\n\t<dd>Someone who has demonstrated a high degree of expertise or authority when it comes to software security.</dd>\n\t<dt>Titan of the Test Harness</dt>\n\t<dd>Someone who demonstrates high-levels of understanding regarding Marked's test harness.</dd>\n\t<dt>Totally Tron</dt>\n\t<dd>Someone who demonstrates they are willing and able to \"fight for the users\", both developers dependent on marked to do their jobs as well as end-users interacting with the output (particularly in the realm of those with the disabilities).</dd>\n</dl>\n\n### Special badges that come with the job:\n\n<dl>\n\t<dt>Defibrillator</dt>\n\t<dd>A contributor who stepped up to help bring Marked back to life by contributing solutions to help Marked pass when compared against the CommonMark and GitHub Flavored Markdown specifications.</dd>\n\t<dt>Maker of the Marked mark</dt>\n\t<dd>This badge is given to the person or organization credited with creating the logo (or logotype) used in Marked communications for a given period of time. **Maker of the Marked mark from 2017 to present**, for example.</dd>\n\t<dt>Release Wrangler</dt>\n\t<dd>This is a badge given to all Publishers.</dd>\n\t<dt>Snyk's Security Saint</dt>\n\t<dd>This is a badge given to whomever primarily reaches out from Snyk to let us know about security issues.</dd>\n</dl>\n",
          "filepath": "data/repos/markedjs/marked-1.1/docs/AUTHORS.md",
          "repo": "markedjs/marked",
          "version": "1.1",
          "chunk_index": 0,
          "chunk_id": "81fa0d9c-3565-4f7e-ad06-01f04ba522b2"
        }
      },
      {
        "id": "fa6c8c55-556e-427c-a6ff-5277e26b3b94",
        "score": 0.015384615384615385,
        "payload": {
          "text": "const Lexer = require('../../src/Lexer.js');\n\nfunction expectTokens({ md, options, tokens = [], links = {} }) {\n  const lexer = new Lexer(options);\n  const actual = lexer.lex(md);\n  const expected = tokens;\n  expected.links = links;\n  // console.log(JSON.stringify(actual, null, 2));\n  expect(actual).toEqual(expected);\n}\n\nfunction expectInlineTokens({ md, options, tokens = jasmine.any(Array), links = {} }) {\n  const lexer = new Lexer(options);\n  lexer.tokens.links = links;\n  const outTokens = [];\n  lexer.inlineTokens(md, outTokens);\n  expect(outTokens).toEqual(tokens);\n}\n\nfunction expectInline({ token, options, tokens }) {\n  const lexer = new Lexer(options);\n  lexer.inline([token]);\n  expect(token.tokens).toEqual(tokens);\n}\n\ndescribe('Lexer', () => {\n  describe('paragraph', () => {\n    it('space between paragraphs', () => {\n      expectTokens({\n        md: 'paragraph 1\\n\\nparagraph 2',\n        tokens: [\n          {\n            type: 'paragraph',\n            raw: 'paragraph 1',\n            text: 'paragraph 1',\n            tokens: [{ type: 'text', raw: 'paragraph 1', text: 'paragraph 1' }]\n          },\n          { type: 'space', raw: '\\n\\n' },\n          {\n            type: 'paragraph',\n            raw: 'paragraph 2',\n            text: 'paragraph 2',\n            tokens: [{ type: 'text', raw: 'paragraph 2', text: 'paragraph 2' }]\n          }\n        ]\n      });\n    });\n  });\n\n  describe('code', () => {\n    it('indented code', () => {\n      expectTokens({\n        md: '    code',\n        tokens: [\n          { type: 'code', raw: '    code', text: 'code', codeBlockStyle: 'indented' }\n        ]\n      });\n    });\n\n    it('fenced code', () => {\n      expectTokens({\n        md: '```\\ncode\\n```',\n        tokens: [\n          { type: 'code', raw: '```\\ncode\\n```', text: 'code', lang: '' }\n        ]\n      });\n    });\n\n    it('fenced code lang', () => {\n      expectTokens({\n        md: '```text\\ncode\\n```',\n        tokens: [\n          { type: 'code', raw: '```text\\ncode\\n```', text: 'code', lang: 'text' }\n        ]\n      });\n    });\n  });\n\n  describe('headings', () => {\n    it('depth', () => {\n      expectTokens({\n        md: `\n# heading 1\n\n## heading 2\n\n### heading 3\n\n#### heading 4\n\n##### heading 5\n\n###### heading 6\n\nlheading 1\n==========\n\nlheading 2\n----------\n`,\n        tokens: [\n          {\n            type: 'heading',\n            raw: '# heading 1\\n\\n',\n            depth: 1,\n            text: 'heading 1',\n            tokens: [{ type: 'text', raw: 'heading 1', text: 'heading 1' }]\n          },\n          {\n            type: 'heading',\n            raw: '## heading 2\\n\\n',\n            depth: 2,\n            text: 'heading 2',\n            tokens: [{ type: 'text', raw: 'heading 2', text: 'heading 2' }]\n          },\n          {\n            type: 'heading',\n            raw: '### heading 3\\n\\n',\n            depth: 3,\n            text: 'heading 3',\n            tokens: [{ type: 'text', raw: 'heading 3', text: 'heading 3' }]\n          },\n          {\n            type: 'heading',\n            raw: '#### heading 4\\n\\n',\n            depth: 4,\n            text: 'heading 4',\n            tokens: [{ type: 'text', raw: 'heading 4', text: 'heading 4' }]\n          },\n          {\n            type: 'heading',\n            raw: '##### heading 5\\n\\n',\n            depth: 5,\n            text: 'heading 5',\n            tokens: [{ type: 'text', raw: 'heading 5', text: 'heading 5' }]\n          },\n          {\n            type: 'heading',\n            raw: '###### heading 6\\n\\n',\n            depth: 6,\n            text: 'heading 6',\n            tokens: [{ type: 'text', raw: 'heading 6', text: 'heading 6' }]\n          },\n          {\n            type: 'heading',\n            raw: 'lheading 1\\n==========\\n\\n',\n            depth: 1,\n            text: 'lheading 1',\n            tokens: [{ type: 'text', raw: 'lheading 1', text: 'lheading 1' }]\n          },\n          {\n            type: 'heading',\n            raw: 'lheading 2\\n----------\\n',\n            depth: 2,\n            text: 'lheading 2',\n            tokens: [{ type: 'text', raw: 'lheading 2', text: 'lheading 2' }]\n          }\n        ]\n      });\n    });\n\n    it('should not be heading if depth > 6', () => {\n      expectTokens({\n        md: '####### heading 7',\n        tokens: [{\n          type: 'paragraph',\n          raw: '####### heading 7',\n          text: '####### heading 7',\n          tokens: [{ type: 'text', raw: '####### heading 7', text: '####### heading 7' }]\n        }]\n      });\n    });\n  });\n\n  describe('table', () => {\n    it('pipe table', () => {\n      expectTokens({\n        md: `\n| a | b |\n|---|---|\n| 1 | 2 |\n`,\n        tokens: [{\n          type: 'table',\n          header: ['a', 'b'],\n          align: [null, null],\n          cells: [['1', '2']],\n          raw: '| a | b |\\n|---|---|\\n| 1 | 2 |\\n',\n          tokens: {\n            header: [\n              [{ type: 'text', raw: 'a', text: 'a' }],\n              [{ type: 'text', raw: 'b', text: 'b' }]\n            ],\n            cells: [[\n              [{ type: 'text', raw: '1', text: '1' }],\n              [{ type: 'text', raw: '2', text: '2' }]\n            ]]\n          }\n        }]\n      });\n    });\n\n    it('align table', () => {\n      expectTokens({\n        md: `\n| a | b | c |\n|:--|:-:|--:|\n| 1 | 2 | 3 |\n`,\n        tokens: [{\n          type: 'table',\n          header: ['a', 'b', 'c'],\n          align: ['left', 'center', 'right'],\n          cells: [['1', '2', '3']],\n          raw: '| a | b | c |\\n|:--|:-:|--:|\\n| 1 | 2 | 3 |\\n',\n          tokens: {\n            header: [\n              [{ type: 'text', raw: 'a', text: 'a' }],\n              [{ type: 'text', raw: 'b', text: 'b' }],\n              [{ type: 'text', raw: 'c', text: 'c' }]\n            ],\n            cells: [[\n              [{ type: 'text', raw: '1', text: '1' }],\n              [{ type: 'text', raw: '2', text: '2' }],\n              [{ type: 'text', raw: '3', text: '3' }]\n            ]]\n          }\n        }]\n      });\n    });\n\n    it('no pipe table', () => {\n      expectTokens({\n        md: `\na | b\n--|--\n1 | 2\n`,\n        tokens: [{\n          type: 'table',\n          header: ['a', 'b'],\n          align: [null, null],\n          cells: [['1', '2']],\n          raw: 'a | b\\n--|--\\n1 | 2\\n',\n          tokens: {\n            header: [\n              [{ type: 'text', raw: 'a', text: 'a' }],\n              [{ type: 'text', raw: 'b', text: 'b' }]\n            ],\n            cells: [[\n              [{ type: 'text', raw: '1', text: '1' }],\n              [{ type: 'text', raw: '2', text: '2' }]\n            ]]\n          }\n        }]\n      });\n    });\n  });\n\n  describe('hr', () => {\n    it('hr', () => {\n      expectTokens({\n        md: '---',\n        tokens: [\n          { type: 'hr', raw: '---' }\n        ]\n      });\n    });\n  });\n\n  describe('blockquote', () => {\n    it('start, inner-tokens, end', () => {\n      expectTokens({\n        md: '> blockquote',\n        tokens: [\n          {\n            type: 'blockquote',\n            raw: '> blockquote',\n            text: 'blockquote',\n            tokens: [{\n              type: 'paragraph',\n              raw: 'blockquote',\n              text: 'blockquote',\n              tokens: [\n                { type: 'text', raw: 'blockquote', text: 'blockquote' }\n              ]\n            }]\n          }\n        ]\n      });\n    });\n  });\n\n  describe('list', () => {\n    it('unordered', () => {\n      expectTokens({\n        md: `\n- item 1\n- item 2\n`,\n        tokens: [\n          {\n            type: 'list',\n            raw: '- item 1\\n- item 2\\n',\n            ordered: false,\n            start: '',\n            loose: false,\n            items: [\n              {\n                type: 'list_item',\n                raw: '- item 1',\n                task: false,\n                checked: undefined,\n                loose: false,\n                text: 'item 1',\n                tokens: [{\n                  type: 'text',\n                  raw: 'item 1',\n                  text: 'item 1',\n                  tokens: [{ type: 'text', raw: 'item 1', text: 'item 1' }]\n                }]\n              },\n              {\n                type: 'list_item',\n                raw: '- item 2\\n',\n                task: false,\n                checked: undefined,\n                loose: false,\n                text: 'item 2\\n',\n                tokens: [{\n                  type: 'text',\n                  raw: 'item 2',\n                  text: 'item 2',\n                  tokens: [{ type: 'text', raw: 'item 2', text: 'item 2' }]\n                }]\n              }\n            ]\n          }\n        ]\n      });\n    });\n\n    it('ordered', () => {\n      expectTokens({\n        md: `\n1. item 1\n2. item 2\n`,\n        tokens: jasmine.arrayContaining([\n          jasmine.objectContaining({\n            type: 'list',\n            raw: '1. item 1\\n2. item 2\\n',\n            ordered: true,\n            start: 1,\n            items: [\n              jasmine.objectContaining({\n                raw: '1. item 1'\n              }),\n              jasmine.objectContaining({\n                raw: '2. item 2\\n'\n              })\n            ]\n          })\n        ])\n      });\n    });\n\n    it('start', () => {\n      expectTokens({\n        md: `\n2. item 1\n3. item 2\n`,\n        tokens: jasmine.arrayContaining([\n          jasmine.objectContaining({\n            type: 'list',\n            raw: '2. item 1\\n3. item 2\\n',\n            ordered: true,\n            start: 2,\n            items: [\n              jasmine.objectContaining({\n                raw: '2. item 1'\n              }),\n              jasmine.objectContaining({\n                raw: '3. item 2\\n'\n              })\n            ]\n          })\n        ])\n      });\n    });\n\n    it('loose', () => {\n      expectTokens({\n        md: `\n- item 1\n\n- item 2\n`,\n        tokens: jasmine.arrayContaining([\n          jasmine.objectContaining({\n            type: 'list',\n            raw: '- item 1\\n\\n- item 2\\n',\n            loose: true\n          })\n        ])\n      });\n    });\n\n    it('task', () => {\n      expectTokens({\n        md: `\n- [ ] item 1\n- [x] item 2\n`,\n        tokens: jasmine.arrayContaining([\n          jasmine.objectContaining({\n            type: 'list',\n            raw: '- [ ] item 1\\n- [x] item 2\\n',\n            items: [\n              jasmine.objectContaining({\n                raw: '- [ ] item 1',\n                task: true,\n                checked: false\n              }),\n              jasmine.objectContaining({\n                raw: '- [x] item 2\\n',\n                task: true,\n                checked: true\n              })\n            ]\n          })\n        ])\n      });\n    });\n  });\n\n  describe('html', () => {\n    it('div', () => {\n      expectTokens({\n        md: '<div>html</div>',\n        tokens: [\n          {\n            type: 'html',\n            raw: '<div>html</div>',\n            pre: false,\n            text: '<div>html</div>'\n          }\n        ]\n      });\n    });\n\n    it('pre', () => {\n      expectTokens({\n        md: '<pre>html</pre>',\n        tokens: [\n          {\n            type: 'html',\n            raw: '<pre>html</pre>',\n            pre: true,\n            text: '<pre>html</pre>'\n          }\n        ]\n      });\n    });\n\n    it('sanitize', () => {\n      expectTokens({\n        md: '<div>html</div>',\n        options: { sanitize: true },\n        tokens: [\n          {\n            type: 'paragraph',\n            raw: '<div>html</div>',\n            pre: false,\n            text: '&lt;div&gt;html&lt;/div&gt;',\n            tokens: [{\n              type: 'text',\n              raw: '&lt;div&gt;html&lt;/div&gt;',\n              text: '&lt;div&gt;html&lt;/div&gt;'\n            }]\n          }\n        ]\n      });\n    });\n  });\n\n  describe('def', () => {\n    it('link', () => {\n      expectTokens({\n        md: '[link]: https://example.com',\n        links: {\n          link: { href: 'https://example.com', title: undefined }\n        }\n      });\n    });\n\n    it('title', () => {\n      expectTokens({\n        md: '[link]: https://example.com \"title\"',\n        links: {\n          link: { href: 'https://example.com', title: 'title' }\n        }\n      });\n    });\n  });\n\n  describe('inline', () => {\n    describe('inline', () => {\n      it('paragraph', () => {\n        expectInline({\n          token: { type: 'paragraph', text: 'text' },\n          tokens: [\n            { type: 'text', raw: 'text', text: 'text' }\n          ]\n        });\n      });\n\n      it('text', () => {\n        expectInline({\n          token: { type: 'text', text: 'text' },\n          tokens: [\n            { type: 'text', raw: 'text', text: 'text' }\n          ]\n        });\n      });\n\n      it('heading', () => {\n        expectInline({\n          token: { type: 'heading', text: 'text' },\n          tokens: [\n            { type: 'text', raw: 'text', text: 'text' }\n          ]\n        });\n      });\n\n      it('table', () => {\n        expectInline({\n          token: {\n            type: 'table',\n            header: ['a', 'b'],\n            align: [null, null],\n            cells: [['1', '2']]\n          },\n          tokens: {\n            header: [\n              [{ type: 'text', raw: 'a', text: 'a' }],\n              [{ type: 'text', raw: 'b', text: 'b' }]\n            ],\n            cells: [\n              [\n                [{ type: 'text', raw: '1', text: '1' }],\n                [{ type: 'text', raw: '2', text: '2' }]\n              ]\n            ]\n          }\n        });\n      });\n\n      it('code no inline tokens', () => {\n        expectInline({\n          token: { type: 'code', text: 'code' },\n          tokens: undefined\n        });\n      });\n    });\n\n    describe('inlineTokens', () => {\n      it('escape', () => {\n        expectInlineTokens({\n          md: '\\\\>',\n          tokens: [\n            { type: 'escape', raw: '\\\\>', text: '&gt;' }\n          ]\n        });\n      });\n\n      it('html', () => {\n        expectInlineTokens({\n          md: '<div>html</div>',\n          tokens: [\n            { type: 'html', raw: '<div>', inLink: false, inRawBlock: false, text: '<div>' },\n            { type: 'text', raw: 'html', text: 'html' },\n            { type: 'html', raw: '</div>', inLink: false, inRawBlock: false, text: '</div>' }\n          ]\n        });\n      });\n\n      it('html sanitize', () => {\n        expectInlineTokens({\n          md: '<div>html</div>',\n          options: { sanitize: true },\n          tokens: [\n            { type: 'text', raw: '<div>', inLink: false, inRawBlock: false, text: '&lt;div&gt;' },\n            { type: 'text', raw: 'html', text: 'html' },\n            { type: 'text', raw: '</div>', inLink: false, inRawBlock: false, text: '&lt;/div&gt;' }\n          ]\n        });\n      });\n\n      it('link', () => {\n        expectInlineTokens({\n          md: '[link](https://example.com)',\n          tokens: [\n            {\n              type: 'link',\n              raw: '[link](https://example.com)',\n              href: 'https://example.com',\n              title: null,\n              text: 'link',\n              tokens: [\n                { type: 'text', raw: 'link', text: 'link' }\n              ]\n            }\n          ]\n        });\n      });\n\n      it('link title', () => {\n        expectInlineTokens({\n          md: '[link](https://example.com \"title\")',\n          tokens: [\n            {\n              type: 'link',\n              raw: '[link](https://example.com \"title\")',\n              href: 'https://example.com',\n              title: 'title',\n              text: 'link',\n              tokens: [\n                { type: 'text', raw: 'link', text: 'link' }\n              ]\n            }\n          ]\n        });\n      });\n\n      it('image', () => {\n        expectInlineTokens({\n          md: '![image](https://example.com/image.png)',\n          tokens: [\n            {\n              type: 'image',\n              raw: '![image](https://example.com/image.png)',\n              text: 'image',\n              href: 'https://example.com/image.png',\n              title: null\n            }\n          ]\n        });\n      });\n\n      it('image title', () => {\n        expectInlineTokens({\n          md: '![image](https://example.com/image.png \"title\")',\n          tokens: [\n            {\n              type: 'image',\n              raw: '![image](https://example.com/image.png \"title\")',\n              text: 'image',\n              href: 'https://example.com/image.png',\n              title: 'title'\n            }\n          ]\n        });\n      });\n\n      describe('reflink', () => {\n        it('reflink', () => {\n          expectInlineTokens({\n            md: '[link][]',\n            links: {\n              link: { href: 'https://example.com', title: 'title' }\n            },\n            tokens: [\n              {\n                type: 'link',\n                raw: '[link][]',\n                href: 'https://example.com',\n                title: 'title',\n                text: 'link',\n                tokens: [{\n                  type: 'text',\n                  raw: 'link',\n                  text: 'link'\n                }]\n              }\n            ]\n          });\n        });\n\n        it('nolink', () => {\n          expectInlineTokens({\n            md: '[link]',\n            links: {\n              link: { href: 'https://example.com', title: 'title' }\n            },\n            tokens: [\n              {\n                type: 'link',\n                raw: '[link]',\n                href: 'https://example.com',\n                title: 'title',\n                text: 'link',\n                tokens: [{\n                  type: 'text',\n                  raw: 'link',\n                  text: 'link'\n                }]\n              }\n            ]\n          });\n        });\n\n        it('no def', () => {\n          expectInlineTokens({\n            md: '[link]',\n            tokens: [\n              { type: 'text', raw: '[', text: '[' },\n              { type: 'text', raw: 'link]', text: 'link]' }\n            ]\n          });\n        });\n      });\n\n      it('strong', () => {\n        expectInlineTokens({\n          md: '**strong**',\n          tokens: [\n            {\n              type: 'strong',\n              raw: '**strong**',\n              text: 'strong',\n              tokens: [\n                { type: 'text', raw: 'strong', text: 'strong' }\n              ]\n            }\n          ]\n        });\n      });\n\n      it('em', () => {\n        expectInlineTokens({\n          md: '*em*',\n          tokens: [\n            {\n              type: 'em',\n              raw: '*em*',\n              text: 'em',\n              tokens: [\n                { type: 'text', raw: 'em', text: 'em' }\n              ]\n            }\n          ]\n        });\n      });\n\n      describe('codespan', () => {\n        it('code', () => {\n          expectInlineTokens({\n            md: '`code`',\n            tokens: [\n              { type: 'codespan', raw: '`code`', text: 'code' }\n            ]\n          });\n        });\n\n        it('only spaces not stripped', () => {\n          expectInlineTokens({\n            md: '`   `',\n            tokens: [\n              { type: 'codespan', raw: '`   `', text: '   ' }\n            ]\n          });\n        });\n\n        it('beginning space only not stripped', () => {\n          expectInlineTokens({\n            md: '` a`',\n            tokens: [\n              { type: 'codespan', raw: '` a`', text: ' a' }\n            ]\n          });\n        });\n\n        it('end space only not stripped', () => {\n          expectInlineTokens({\n            md: '`a `',\n            tokens: [\n              { type: 'codespan', raw: '`a `', text: 'a ' }\n            ]\n          });\n        });\n\n        it('begin and end spaces are stripped', () => {\n          expectInlineTokens({\n            md: '` a `',\n            tokens: [\n              { type: 'codespan', raw: '` a `', text: 'a' }\n            ]\n          });\n        });\n\n        it('begin and end newlines are stripped', () => {\n          expectInlineTokens({\n            md: '`\\na\\n`',\n            tokens: [\n              { type: 'codespan', raw: '`\\na\\n`', text: 'a' }\n            ]\n          });\n        });\n\n        it('begin and end tabs are not stripped', () => {\n          expectInlineTokens({\n            md: '`\\ta\\t`',\n            tokens: [\n              { type: 'codespan', raw: '`\\ta\\t`', text: '\\ta\\t' }\n            ]\n          });\n        });\n\n        it('begin and end newlines', () => {\n          expectInlineTokens({\n            md: '`\\na\\n`',\n            tokens: [\n              { type: 'codespan', raw: '`\\na\\n`', text: 'a' }\n            ]\n          });\n        });\n\n        it('begin and end multiple spaces only one stripped', () => {\n          expectInlineTokens({\n            md: '`  a  `',\n            tokens: [\n              { type: 'codespan', raw: '`  a  `', text: ' a ' }\n            ]\n          });\n        });\n\n        it('newline to space', () => {\n          expectInlineTokens({\n            md: '`a\\nb`',\n            tokens: [\n              { type: 'codespan', raw: '`a\\nb`', text: 'a b' }\n            ]\n          });\n        });\n      });\n\n      it('br', () => {\n        expectInlineTokens({\n          md: 'a\\nb',\n          options: { gfm: true, breaks: true },\n          tokens: jasmine.arrayContaining([\n            { type: 'br', raw: '\\n' }\n          ])\n        });\n      });\n\n      it('del', () => {\n        expectInlineTokens({\n          md: '~~del~~',\n          tokens: [\n            {\n              type: 'del',\n              raw: '~~del~~',\n              text: 'del',\n              tokens: [\n                { type: 'text', raw: 'del', text: 'del' }\n              ]\n            }\n          ]\n        });\n      });\n\n      describe('url', () => {\n        it('autolink', () => {\n          expectInlineTokens({\n            md: '<https://example.com>',\n            tokens: [\n              {\n                type: 'link',\n                raw: '<https://example.com>',\n                text: 'https://example.com',\n                href: 'https://example.com',\n                tokens: [\n                  { type: 'text', raw: 'https://example.com', text: 'https://example.com' }\n                ]\n              }\n            ]\n          });\n        });\n\n        it('autolink email', () => {\n          expectInlineTokens({\n            md: '<test@example.com>',\n            options: { mangle: false },\n            tokens: [\n              {\n                type: 'link',\n                raw: '<test@example.com>',\n                text: 'test@example.com',\n                href: 'mailto:test@example.com',\n                tokens: [\n                  { type: 'text', raw: 'test@example.com', text: 'test@example.com' }\n                ]\n              }\n            ]\n          });\n        });\n\n        it('autolink mangle email', () => {\n          expectInlineTokens({\n            md: '<test@example.com>',\n            options: { mangle: true },\n            tokens: [\n              {\n                type: 'link',\n                raw: '<test@example.com>',\n                text: jasmine.stringMatching(/^(&#x?[0-9a-f]+;)+$/),\n                href: jasmine.stringMatching(/^mailto:(&#x?[0-9a-f]+;)+$/),\n                tokens: [\n                  {\n                    type: 'text',\n                    raw: jasmine.stringMatching(/^(&#x?[0-9a-f]+;)+$/),\n                    text: jasmine.stringMatching(/^(&#x?[0-9a-f]+;)+$/)\n                  }\n                ]\n              }\n            ]\n          });\n        });\n\n        it('url', () => {\n          expectInlineTokens({\n            md: 'https://example.com',\n            tokens: [\n              {\n                type: 'link',\n                raw: 'https://example.com',\n                text: 'https://example.com',\n                href: 'https://example.com',\n                tokens: [\n                  { type: 'text', raw: 'https://example.com', text: 'https://example.com' }\n                ]\n              }\n            ]\n          });\n        });\n\n        it('url email', () => {\n          expectInlineTokens({\n            md: 'test@example.com',\n            options: { gfm: true, mangle: false },\n            tokens: [\n              {\n                type: 'link',\n                raw: 'test@example.com',\n                text: 'test@example.com',\n                href: 'mailto:test@example.com',\n                tokens: [\n                  { type: 'text', raw: 'test@example.com', text: 'test@example.com' }\n                ]\n              }\n            ]\n          });\n        });\n\n        it('url mangle email', () => {\n          expectInlineTokens({\n            md: 'test@example.com',\n            options: { gfm: true, mangle: true },\n            tokens: [\n              {\n                type: 'link',\n                raw: 'test@example.com',\n                text: jasmine.stringMatching(/^(&#x?[0-9a-f]+;)+$/),\n                href: jasmine.stringMatching(/^mailto:(&#x?[0-9a-f]+;)+$/),\n                tokens: [\n                  {\n                    type: 'text',\n                    raw: jasmine.stringMatching(/^(&#x?[0-9a-f]+;)+$/),\n                    text: jasmine.stringMatching(/^(&#x?[0-9a-f]+;)+$/)\n                  }\n                ]\n              }\n            ]\n          });\n        });\n      });\n\n      it('text', () => {\n        expectInlineTokens({\n          md: 'text',\n          tokens: [\n            {\n              type: 'text',\n              raw: 'text',\n              text: 'text'\n            }\n          ]\n        });\n      });\n\n      describe('smartypants', () => {\n        it('single quotes', () => {\n          expectInlineTokens({\n            md: \"'single quotes'\",\n            options: { smartypants: true },\n            tokens: [\n              {\n                type: 'text',\n                raw: \"'single quotes'\",\n                text: '\u2018single quotes\u2019'\n              }\n            ]\n          });\n        });\n\n        it('double quotes', () => {\n          expectInlineTokens({\n            md: '\"double quotes\"',\n            options: { smartypants: true },\n            tokens: [\n              {\n                type: 'text',\n                raw: '\"double quotes\"',\n                text: '\u201cdouble quotes\u201d'\n              }\n            ]\n          });\n        });\n\n        it('ellipses', () => {\n          expectInlineTokens({\n            md: 'ellipses...',\n            options: { smartypants: true },\n            tokens: [\n              {\n                type: 'text',\n                raw: 'ellipses...',\n                text: 'ellipses\u2026'\n              }\n            ]\n          });\n        });\n\n        it('en-dash', () => {\n          expectInlineTokens({\n            md: 'en--dash',\n            options: { smartypants: true },\n            tokens: [\n              {\n                type: 'text',\n                raw: 'en--dash',\n                text: 'en\u2013dash'\n              }\n            ]\n          });\n        });\n\n        it('em-dash', () => {\n          expectInlineTokens({\n            md: 'em---dash',\n            options: { smartypants: true },\n            tokens: [\n              {\n                type: 'text',\n                raw: 'em---dash',\n                text: 'em\u2014dash'\n              }\n            ]\n          });\n        });\n      });\n    });\n  });\n});\n",
          "filepath": "data/repos/markedjs/marked-1.1/test/unit/Lexer-spec.js",
          "repo": "markedjs/marked",
          "version": "1.1",
          "chunk_index": 0,
          "chunk_id": "fa6c8c55-556e-427c-a6ff-5277e26b3b94"
        }
      }
    ]
  },
  {
    "instance_id": "markedjs__marked-1683",
    "model_patch": "diff --git a/markdown_documentation_syntax.md b/markdown_documentation_syntax.md\n--- a/markdown_documentation_syntax.md\n+++ b/markdown_documentation_syntax.md\n@@ -434,7 +434,7 @@\n \n Inline image syntax looks like this:\n \n-    ![Alt text](/path/to/img.jpg)\n+    ![Alt text](/path/to/img.jpg \"Optional title\")\n \n     ![Alt text](/path/to/img.jpg \"Optional title\")\n \n@@ -442,7 +442,7 @@\n *   An exclamation mark: `!`;\n *   followed by a set of square brackets, containing the `alt`\n     attribute text for the image;\n-*   followed by a set of parentheses, containing the URL or path to\n+*   followed by a set of parentheses, containing the URL or path to the image, and an optional `title` attribute enclosed in double or single quotes.\n \n Reference-style image syntax looks like this:\n \ndiff --git a/markdown_documentation_basics.md b/markdown_documentation_basics.md\n--- a/markdown_documentation_basics.md\n+++ b/markdown_documentation_basics.md\n@@ -193,7 +193,7 @@\n \n Inline (titles are optional):\n \n-    ![alt text](/path/to/img.jpg \"Title\")\n+    ![alt text](/path/to/img.jpg \"Optional title\")\n \n Reference-style:\n \ndiff --git a/quickref.md b/quickref.md\n--- a/quickref.md\n+++ b/quickref.md\n@@ -123,7 +123,7 @@\n \n Images work exactly like links, but they have exclamation points in front.  They work with references and titles too.\n \n-![Google Logo](http://www.google.com/images/errors/logo_sm.gif) and ![Happy].\n+![Google Logo](http://www.google.com/images/errors/logo_sm.gif \"Google Logo\") and ![Happy].\n \n [Happy]: http://www.wpclipart.com/smiley/simple_smiley/smiley_face_simple_green_small.png (\"Smiley face\")",
    "model_name_or_path": "text_bm25",
    "metrics": {
      "issue_embedding_time_ms": 0.0,
      "retrieval_time_ms_bm25": 29.22,
      "retrieval_time_ms": 29.22,
      "total_retrieval_time_ms": 29.22,
      "generation_time_ms": 4716.66,
      "total_io_time_ms": 4745.88,
      "input_total_token_limit": null,
      "issue_text_tokens": 786,
      "vlm_tokens": 0,
      "retrieved_tokens": 16076,
      "prompt_template_tokens": 520,
      "total_input_prompt_tokens": 17382,
      "output_generated_tokens": 448,
      "total_io_tokens": 17830,
      "input_prompt_text": "[{\"type\": \"text\", \"text\": \"You will be provided with a partial code base and an issue statement explaining a problem to resolve.\\n<issue>\\nAlt text with escaped characters breaks image links\\nI'm not sure if this is a bug or not, but I would love any suggestions on how to resolve if possible.\\r\\n\\r\\nI have a situation where image links are not rendering as I would expect because the Alt text part of the image contains escaped square bracket characters.\\r\\n\\r\\nFor example:\\r\\n\\r\\n```md\\r\\n[![\\\\[Manny Pacquiao\\\\]](https://img.youtube.com/vi/s6bCmZmy9aQ/0.jpg)](https://youtu.be/s6bCmZmy9aQ)\\r\\n```\\r\\n\\r\\nThis results in the following:\\r\\n\\r\\n![image](https://user-images.githubusercontent.com/10571313/82298114-bd52f300-9a07-11ea-805b-854f69d2ecb0.png)\\r\\n\\r\\n[Here](https://marked.js.org/demo/?text=%23%20Expected%20result%0A%0A%5B!%5BManny%20Pacquiao%5D(https%3A%2F%2Fimg.youtube.com%2Fvi%2Fs6bCmZmy9aQ%2F0.jpg%20%22manny%22)%5D(https%3A%2F%2Fyoutu.be%2Fs6bCmZmy9aQ)%0A%0A%23%20Actual%20result%0A%0A%5B!%5B%5C%5BManny%20Pacquiao%5C%5D%5D(https%3A%2F%2Fimg.youtube.com%2Fvi%2Fs6bCmZmy9aQ%2F0.jpg%20%22manny%22)%5D(https%3A%2F%2Fyoutu.be%2Fs6bCmZmy9aQ)%0A%0A%0A&options=%7B%0A%20%22baseUrl%22%3A%20null%2C%0A%20%22breaks%22%3A%20true%2C%0A%20%22gfm%22%3A%20true%2C%0A%20%22headerIds%22%3A%20true%2C%0A%20%22headerPrefix%22%3A%20%22%22%2C%0A%20%22highlight%22%3A%20null%2C%0A%20%22langPrefix%22%3A%20%22language-%22%2C%0A%20%22mangle%22%3A%20true%2C%0A%20%22pedantic%22%3A%20false%2C%0A%20%22sanitize%22%3A%20false%2C%0A%20%22sanitizer%22%3A%20null%2C%0A%20%22silent%22%3A%20false%2C%0A%20%22smartLists%22%3A%20false%2C%0A%20%22smartypants%22%3A%20false%2C%0A%20%22tokenizer%22%3A%20null%2C%0A%20%22walkTokens%22%3A%20null%2C%0A%20%22xhtml%22%3A%20false%0A%7D&version=master) is the demo page with examples.\\r\\n\\r\\nI don't mind creating a pull request, but I'd love any pointers as to where this problem lies.\\n\\n</issue>\\n\\n<code>\\n[start of AUTHORS.md]\\n# Authors\\n\\nMarked takes an encompassing approach to its community. As such, you can think of these as [concentric circles](https://medium.com/the-node-js-collection/healthy-open-source-967fa8be7951), where each group encompasses the following groups.\\n\\n<table>\\n  <tbody>\\n  \\t<tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\" style=\\\"width:32%\\\">\\n        <a href=\\\"https://github.com/chjj\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/chjj.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/chjj\\\">Christopher Jeffrey</a>\\n        <div>Original Author</div>\\n        <small>Started the fire</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\" style=\\\"width:32%\\\">\\n        <a href=\\\"https://github.com/joshbruce\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/joshbruce.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://joshbruce.com\\\">Josh Bruce</a>\\n        <div>Publisher</div>\\n        <small>Release Wrangler; Humaning Helper; Heckler of Hypertext</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\" style=\\\"width:32%\\\">\\n        <a href=\\\"https://github.com/styfle\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/styfle.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://www.ceriously.com\\\">Steven</a>\\n        <div>Publisher</div>\\n        <small>Release Wrangler; Dr. Docs; Open source, of course; GitHub Guru; Humaning Helper</small>\\n      </td>\\n    </tr>\\n  \\t<tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/davisjam\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/davisjam.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/davisjam\\\">Jamie Davis</a>\\n        <div>Committer</div>\\n        <small>Seeker of Security</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/UziTech\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/UziTech.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://tony.brix.ninja\\\">Tony Brix</a>\\n        <div>Publisher</div>\\n        <small>Release Wrangler; Titan of the test harness; Dr. DevOps</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        &nbsp;\\n      </td>\\n    </tr>\\n  </tbody>\\n</table>\\n\\n<table>\\n  <tbody>\\n    <tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/intcreator\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/intcreator.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/intcreator\\\">Brandon der Bl\\u00e4tter</a>\\n        <div>Contributor</div>\\n        <small>Curious Contributor</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/carlosvalle\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/carlosvalle.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/carlosvalle\\\">Carlos Valle</a>\\n        <div>Contributor</div>\\n        <small>Maker of the Marked mark from 2018 to present</small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/Feder1co5oave\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/Feder1co5oave.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/Feder1co5oave\\\">Federico Soave</a>\\n        <div>Contributor</div>\\n        <small>Regent of the Regex; Master of Marked</small>\\n      </td>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/karenyavine\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/karenyavine.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/karenyavine\\\">Karen Yavine</a>\\n        <div>Contributor</div>\\n        <small>Snyk's Security Saint</small>\\n      </td>\\n     </tr>\\n     <tr>\\n      <td align=\\\"center\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/KostyaTretyak\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/KostyaTretyak.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/KostyaTretyak\\\">\\u041a\\u043e\\u0441\\u0442\\u044f \\u0422\\u0440\\u0435\\u0442\\u044f\\u043a</a>\\n        <div>Contributor</div>\\n        <small></small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/tomtheisen\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/tomtheisen.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/tomtheisen\\\">Tom Theisen</a>\\n        <div>Contributor</div>\\n        <small>Defibrillator</small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n        <a href=\\\"https://github.com/mccraveiro\\\">\\n          <img width=\\\"100\\\" height=\\\"100\\\" src=\\\"https://github.com/mccraveiro.png?s=150\\\">\\n        </a>\\n        <br>\\n        <a href=\\\"https://github.com/mccraveiro\\\">Mateus Craveiro</a>\\n        <div>Contributor</div>\\n        <small>Defibrillator</small>\\n      </td>\\n      <td align=\\\"center\\\" width=\\\"20%\\\" valign=\\\"top\\\">\\n      </td>\\n     </tr>\\n  </tbody>\\n</table>\\n\\n## Publishers\\n\\nPublishers are admins who also have the responsibility, privilege, and burden of publishing the new releases to NPM and performing outreach and external stakeholder communications. Further, when things go pear-shaped, they're the ones taking most of the heat. Finally, when things go well, they're the primary ones praising the contributors who made it possible.\\n\\n(In other words, while Admins are focused primarily on the internal workings of the project, Publishers are focused on internal *and* external concerns.)\\n\\n**Should not exceed 2:** Having more people with the authority to publish a release can quickly turn into a consensus seeking nightmare (design by committee). Having only one is preferred (Directly Responsible Individual); however, given the nature of the project and its history, having an immediate fallback, and a potential deep fallback (Original author) is probably a good idea.\\n\\n[Details on badges](#badges)\\n\\n## Admins\\n\\nAdmins are committers who also have the responsibility, privilege, and burden of selecting committers and making sure the project itself runs smoothly, which includes community maintenance, governance, dispute resolution, and so on. (Letting the contributors easily enter into, and work within, the project to begin contributing, with as little friction as possible.)\\n\\n**Should not exceed 3:** When there are too many people with the ability to resolve disputes, the dispute itself can quickly turn into a dispute amongst the admins themselves; therefore, we want this group to be small enough to commit to action and large enough to not put too much burden on one person. (Should ensure faster resolution and responsiveness.)\\n\\nTo be listed: Admins are usually selected from the pool of committers (or they volunteer, using the same process) who demonstrate good understanding of the marked culture, operations, and do their best to help new contributors get up to speed on how to contribute effectively to the project.\\n\\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\\n\\n[Details on badges](#badges)\\n\\n## Committers\\n\\nCommitters are contributors who also have the responsibility, privilege, some might even say burden of being able to review and merge contributions (just usually not their own).\\n\\nA note on \\\"decision making authority\\\". This is related to submitting PRs and the [advice process](http://www.reinventingorganizationswiki.com/Decision_Making). The person marked as having decision making authority over a certain area should be sought for advice in that area before committing to a course of action.\\n\\n**Should not exceed 5:** For larger PRs affecting more of the codebase and, most likely, review by more people, we try to keep this pool small and responsive and let those with decision making authority have final say without negative repercussions from the other committers.\\n\\nTo be listed: Committers are usually selected (or they volunteer, using the same process) from contributors who enter the discussions regarding the future direction of Marked (maybe even doing informal reviews of contributions despite not being able to merge them yourself).\\n\\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\\n\\nA note on volunteering:\\n\\n1. Please do not volunteer unless you believe you can demonstrate to your peers you can do the work required.\\n2. Please do not overcommit yourself; we count on those committed to the project to be responsive. Really consider, with all you have going on, whether you able to really commit to it.\\n3. Don't let the previous frighten you away, it can always be changed later by you or your peers.\\n\\n[Details on badges](#badges)\\n\\n## Contributors\\n\\nContributors are users who submit a [PR](https://github.com/markedjs/marked/pulls), [Issue](https://github.com/markedjs/marked/issues), or collaborate in making Marked a better product and experience for all the users.\\n\\nTo be listed: make a contribution and, if it has significant impact, the committers may be able to add you here.\\n\\nTo be removed: please let us know or submit a PR.\\n\\n[Details on badges](#badges)\\n\\n## Users\\n\\nUsers are anyone using Marked in some fashion, without them, there's no reason for us to exist.\\n\\n|Individual or Organization |Website                 |Project                              |Submitted by                                        |\\n|:--------------------------|:-----------------------|:------------------------------------|:---------------------------------------------------|\\n|MarkedJS                   |https://marked.js.org   |https://github.com/markedjs/marked   |The marked committers                               |\\n\\nTo be listed: All fields are optional. Contact any of the committers or, more timely, submit a pull request with the following (using the first row as an example):\\n\\n- **Individual or Organization:** The name you would like associated with the record.\\n- **Website:** A URL to a standalone website for the project.\\n- **Project:** A URL for the repository of the project using marked.\\n- **Submitted by:** The name and optional honorifics for the person adding the listing.\\n\\nTo be removed: Same as above. Only instead of requesting addition request deletion or delete the row yourself.\\n\\n<h2 id=\\\"badges\\\">Badges</h2>\\n\\nBadges? You don't *need* no stinkin' badges.\\n\\nMovie references aside. (It was either that or, \\\"Let's play a game\\\", but that would have been creepy&hellip;that's why it will most likely come later.)\\n\\nBadges? If you *want* 'em, we got 'em, and here's how you get 'em (and&hellip;dramatic pause&hellip;why not two dramatic pauses for emphasis?&hellip; how they can be taken away).\\n\\n- [ ] Add the appropriate badge to the desired contributor in the desired column of this page, even if they're not listed here yet.\\n- [ ] Submit a PR (we're big on PRs around here, if you haven't noticed, help us help you).\\n- [ ] Follow the instructions for submitting a badge PR. (There are more details to find within. Come on. Everybody likes surprises, right? No? Actually, we just try to put documentation where it belongs, closer to the code and part of the sequence of events.)\\n\\n### Badges at play:\\n\\n<dl>\\n\\t<dt>Curious Contributor</dt>\\n\\t<dd>A contributor with less than one year on this page who is actively engaged in submitting PRs, Issues, making recommendations, sharing thoughts&hellip;without being too annoying about it (let's be clear, submitting 100 Issues recommending the Marked Committers send everyone candy is trying for the badge, not honestly earning it).</dd>\\n\\t<dt>Dr. DevOps</dt>\\n\\t<dd>\\n\\t\\t<p>Someone who understands and contributes to improving the developer experience and flow of Marked into the world.</p>\\n\\t\\t<blockquote>\\n\\t\\t\\t\\\"The main characteristic of the DevOps movement is to strongly advocate automation and monitoring at all steps of software construction, from integration, testing, releasing to deployment and infrastructure management. DevOps aims at shorter development cycles, increased deployment frequency, more dependable releases, in close alignment with business objectives.\\\" ~ <a href=\\\"https://www.wikipedia.org/wiki/DevOps\\\">Wikipedia</a>\\n\\t\\t</blockquote>\\n\\t</dd>\\n  <dt>Dr. Docs</dt>\\n  <dd>Someone who has contributed a great deal to the creation and maintenance of the non-code areas of marked.</dd>\\n\\t<dt>Eye for the CLI</dt>\\n\\t<dd>At this point? Pretty much anyone who can update that `man` file to the current Marked version without regression in the CLI tool itself.</dd>\\n\\t<dt>GitHub Guru</dt>\\n\\t<dd>Someone who always seems to be able to tell you easier ways to do things with GitHub.</dd>\\n\\t<dt>Humaning Helper</dt>\\n\\t<dd>Someone who goes out of their way to help contributors feel welcomed and valued. Further, someone who takes the extra steps(s) necessary to help new contributors get up to speed. Finally, they maintain composure even in times of disagreement and dispute resolution.</dd>\\n\\t<dt>Heckler of Hypertext</dt>\\n\\t<dd>Someone who demonstrates an esoteric level of knowledge when it comes to HTML. In other words, someone who says things like, \\\"Did you know most Markdown flavors don't have a way to render a description list (`dl`)? All the more reason Markdown `!==` HTML.\\\"</dd>\\n\\t<dt>Markdown Maestro</dt>\\n\\t<dd>You know that person who knows about way too many different flavors of Markdown? The one who maybe seems a little too obsessed with the possibilities of Markdown beyond HTML? Come on. You know who they are. Or, at least you could, if you give them this badge.</dd>\\n\\t<dt>Master of Marked</dt>\\n\\t<dd>Someone who demonstrates they know the ins and outs of the codebase for Marked.</dd>\\n\\t<dt>Open source, of course</dt>\\n\\t<dd>Someone who advocates for and has a proven understanding of how to operate within open source communities.</dd>\\n\\t<dt>Regent of the Regex</dt>\\n\\t<dd><p>Can you demonstrate you understand the following without Google and Stackoverflow?</p>\\n\\t\\t<p><code>/^( *)(bull) [\\\\s\\\\S]+?(?:hr|def|\\\\n{2,}(?! )(?!\\\\1bull )\\\\n*|\\\\s*$)/</code></p>\\n\\t\\t<p>Because this author can't yet. That's who gets these.</p>\\n\\t</dd>\\n\\t<dt>Seeker of Security</dt>\\n\\t<dd>Someone who has demonstrated a high degree of expertise or authority when it comes to software security.</dd>\\n\\t<dt>Titan of the Test Harness</dt>\\n\\t<dd>Someone who demonstrates high-levels of understanding regarding Marked's test harness.</dd>\\n\\t<dt>Totally Tron</dt>\\n\\t<dd>Someone who demonstrates they are willing and able to \\\"fight for the users\\\", both developers dependent on marked to do their jobs as well as end-users interacting with the output (particularly in the realm of those with the disabilities).</dd>\\n</dl>\\n\\n### Special badges that come with the job:\\n\\n<dl>\\n\\t<dt>Defibrillator</dt>\\n\\t<dd>A contributor who stepped up to help bring Marked back to life by contributing solutions to help Marked pass when compared against the CommonMark and GitHub Flavored Markdown specifications.</dd>\\n\\t<dt>Maker of the Marked mark</dt>\\n\\t<dd>This badge is given to the person or organization credited with creating the logo (or logotype) used in Marked communications for a given period of time. **Maker of the Marked mark from 2017 to present**, for example.</dd>\\n\\t<dt>Release Wrangler</dt>\\n\\t<dd>This is a badge given to all Publishers.</dd>\\n\\t<dt>Snyk's Security Saint</dt>\\n\\t<dd>This is a badge given to whomever primarily reaches out from Snyk to let us know about security issues.</dd>\\n</dl>\\n\\n[end of AUTHORS.md]\\n[start of markdown_documentation_syntax.md]\\n---\\npedantic: true\\nheaderIds: false\\n---\\n\\nMarkdown: Syntax\\n================\\n\\n<ul id=\\\"ProjectSubmenu\\\">\\n    <li><a href=\\\"/projects/markdown/\\\" title=\\\"Markdown Project Page\\\">Main</a></li>\\n    <li><a href=\\\"/projects/markdown/basics\\\" title=\\\"Markdown Basics\\\">Basics</a></li>\\n    <li><a class=\\\"selected\\\" title=\\\"Markdown Syntax Documentation\\\">Syntax</a></li>\\n    <li><a href=\\\"/projects/markdown/license\\\" title=\\\"Pricing and License Information\\\">License</a></li>\\n    <li><a href=\\\"/projects/markdown/dingus\\\" title=\\\"Online Markdown Web Form\\\">Dingus</a></li>\\n</ul>\\n\\n\\n*   [Overview](#overview)\\n    *   [Philosophy](#philosophy)\\n    *   [Inline HTML](#html)\\n    *   [Automatic Escaping for Special Characters](#autoescape)\\n*   [Block Elements](#block)\\n    *   [Paragraphs and Line Breaks](#p)\\n    *   [Headers](#header)\\n    *   [Blockquotes](#blockquote)\\n    *   [Lists](#list)\\n    *   [Code Blocks](#precode)\\n    *   [Horizontal Rules](#hr)\\n*   [Span Elements](#span)\\n    *   [Links](#link)\\n    *   [Emphasis](#em)\\n    *   [Code](#code)\\n    *   [Images](#img)\\n*   [Miscellaneous](#misc)\\n    *   [Backslash Escapes](#backslash)\\n    *   [Automatic Links](#autolink)\\n\\n\\n**Note:** This document is itself written using Markdown; you\\ncan [see the source for it by adding '.text' to the URL][src].\\n\\n  [src]: /projects/markdown/syntax.text\\n\\n* * *\\n\\n<h2 id=\\\"overview\\\">Overview</h2>\\n\\n<h3 id=\\\"philosophy\\\">Philosophy</h3>\\n\\nMarkdown is intended to be as easy-to-read and easy-to-write as is feasible.\\n\\nReadability, however, is emphasized above all else. A Markdown-formatted\\ndocument should be publishable as-is, as plain text, without looking\\nlike it's been marked up with tags or formatting instructions. While\\nMarkdown's syntax has been influenced by several existing text-to-HTML\\nfilters -- including [Setext] [1], [atx] [2], [Textile] [3], [reStructuredText] [4],\\n[Grutatext] [5], and [EtText] [6] -- the single biggest source of\\ninspiration for Markdown's syntax is the format of plain text email.\\n\\n  [1]: http://docutils.sourceforge.net/mirror/setext.html\\n  [2]: http://www.aaronsw.com/2002/atx/\\n  [3]: http://textism.com/tools/textile/\\n  [4]: http://docutils.sourceforge.net/rst.html\\n  [5]: http://www.triptico.com/software/grutatxt.html\\n  [6]: http://ettext.taint.org/doc/\\n\\nTo this end, Markdown's syntax is comprised entirely of punctuation\\ncharacters, which punctuation characters have been carefully chosen so\\nas to look like what they mean. E.g., asterisks around a word actually\\nlook like \\\\*emphasis\\\\*. Markdown lists look like, well, lists. Even\\nblockquotes look like quoted passages of text, assuming you've ever\\nused email.\\n\\n\\n\\n<h3 id=\\\"html\\\">Inline HTML</h3>\\n\\nMarkdown's syntax is intended for one purpose: to be used as a\\nformat for *writing* for the web.\\n\\nMarkdown is not a replacement for HTML, or even close to it. Its\\nsyntax is very small, corresponding only to a very small subset of\\nHTML tags. The idea is *not* to create a syntax that makes it easier\\nto insert HTML tags. In my opinion, HTML tags are already easy to\\ninsert. The idea for Markdown is to make it easy to read, write, and\\nedit prose. HTML is a *publishing* format; Markdown is a *writing*\\nformat. Thus, Markdown's formatting syntax only addresses issues that\\ncan be conveyed in plain text.\\n\\nFor any markup that is not covered by Markdown's syntax, you simply\\nuse HTML itself. There's no need to preface it or delimit it to\\nindicate that you're switching from Markdown to HTML; you just use\\nthe tags.\\n\\nThe only restrictions are that block-level HTML elements -- e.g. `<div>`,\\n`<table>`, `<pre>`, `<p>`, etc. -- must be separated from surrounding\\ncontent by blank lines, and the start and end tags of the block should\\nnot be indented with tabs or spaces. Markdown is smart enough not\\nto add extra (unwanted) `<p>` tags around HTML block-level tags.\\n\\nFor example, to add an HTML table to a Markdown article:\\n\\n    This is a regular paragraph.\\n\\n    <table>\\n        <tr>\\n            <td>Foo</td>\\n        </tr>\\n    </table>\\n\\n    This is another regular paragraph.\\n\\nNote that Markdown formatting syntax is not processed within block-level\\nHTML tags. E.g., you can't use Markdown-style `*emphasis*` inside an\\nHTML block.\\n\\nSpan-level HTML tags -- e.g. `<span>`, `<cite>`, or `<del>` -- can be\\nused anywhere in a Markdown paragraph, list item, or header. If you\\nwant, you can even use HTML tags instead of Markdown formatting; e.g. if\\nyou'd prefer to use HTML `<a>` or `<img>` tags instead of Markdown's\\nlink or image syntax, go right ahead.\\n\\nUnlike block-level HTML tags, Markdown syntax *is* processed within\\nspan-level tags.\\n\\n\\n<h3 id=\\\"autoescape\\\">Automatic Escaping for Special Characters</h3>\\n\\nIn HTML, there are two characters that demand special treatment: `<`\\nand `&`. Left angle brackets are used to start tags; ampersands are\\nused to denote HTML entities. If you want to use them as literal\\ncharacters, you must escape them as entities, e.g. `&lt;`, and\\n`&amp;`.\\n\\nAmpersands in particular are bedeviling for web writers. If you want to\\nwrite about 'AT&T', you need to write '`AT&amp;T`'. You even need to\\nescape ampersands within URLs. Thus, if you want to link to:\\n\\n    http://images.google.com/images?num=30&q=larry+bird\\n\\nyou need to encode the URL as:\\n\\n    http://images.google.com/images?num=30&amp;q=larry+bird\\n\\nin your anchor tag `href` attribute. Needless to say, this is easy to\\nforget, and is probably the single most common source of HTML validation\\nerrors in otherwise well-marked-up web sites.\\n\\nMarkdown allows you to use these characters naturally, taking care of\\nall the necessary escaping for you. If you use an ampersand as part of\\nan HTML entity, it remains unchanged; otherwise it will be translated\\ninto `&amp;`.\\n\\nSo, if you want to include a copyright symbol in your article, you can write:\\n\\n    &copy;\\n\\nand Markdown will leave it alone. But if you write:\\n\\n    AT&T\\n\\nMarkdown will translate it to:\\n\\n    AT&amp;T\\n\\nSimilarly, because Markdown supports [inline HTML](#html), if you use\\nangle brackets as delimiters for HTML tags, Markdown will treat them as\\nsuch. But if you write:\\n\\n    4 < 5\\n\\nMarkdown will translate it to:\\n\\n    4 &lt; 5\\n\\nHowever, inside Markdown code spans and blocks, angle brackets and\\nampersands are *always* encoded automatically. This makes it easy to use\\nMarkdown to write about HTML code. (As opposed to raw HTML, which is a\\nterrible format for writing about HTML syntax, because every single `<`\\nand `&` in your example code needs to be escaped.)\\n\\n\\n* * *\\n\\n\\n<h2 id=\\\"block\\\">Block Elements</h2>\\n\\n\\n<h3 id=\\\"p\\\">Paragraphs and Line Breaks</h3>\\n\\nA paragraph is simply one or more consecutive lines of text, separated\\nby one or more blank lines. (A blank line is any line that looks like a\\nblank line -- a line containing nothing but spaces or tabs is considered\\nblank.) Normal paragraphs should not be intended with spaces or tabs.\\n\\nThe implication of the \\\"one or more consecutive lines of text\\\" rule is\\nthat Markdown supports \\\"hard-wrapped\\\" text paragraphs. This differs\\nsignificantly from most other text-to-HTML formatters (including Movable\\nType's \\\"Convert Line Breaks\\\" option) which translate every line break\\ncharacter in a paragraph into a `<br />` tag.\\n\\nWhen you *do* want to insert a `<br />` break tag using Markdown, you\\nend a line with two or more spaces, then type return.\\n\\nYes, this takes a tad more effort to create a `<br />`, but a simplistic\\n\\\"every line break is a `<br />`\\\" rule wouldn't work for Markdown.\\nMarkdown's email-style [blockquoting][bq] and multi-paragraph [list items][l]\\nwork best -- and look better -- when you format them with hard breaks.\\n\\n  [bq]: #blockquote\\n  [l]:  #list\\n\\n\\n\\n<h3 id=\\\"header\\\">Headers</h3>\\n\\nMarkdown supports two styles of headers, [Setext] [1] and [atx] [2].\\n\\nSetext-style headers are \\\"underlined\\\" using equal signs (for first-level\\nheaders) and dashes (for second-level headers). For example:\\n\\n    This is an H1\\n    =============\\n\\n    This is an H2\\n    -------------\\n\\nAny number of underlining `=`'s or `-`'s will work.\\n\\nAtx-style headers use 1-6 hash characters at the start of the line,\\ncorresponding to header levels 1-6. For example:\\n\\n    # This is an H1\\n\\n    ## This is an H2\\n\\n    ###### This is an H6\\n\\nOptionally, you may \\\"close\\\" atx-style headers. This is purely\\ncosmetic -- you can use this if you think it looks better. The\\nclosing hashes don't even need to match the number of hashes\\nused to open the header. (The number of opening hashes\\ndetermines the header level.) :\\n\\n    # This is an H1 #\\n\\n    ## This is an H2 ##\\n\\n    ### This is an H3 ######\\n\\n\\n<h3 id=\\\"blockquote\\\">Blockquotes</h3>\\n\\nMarkdown uses email-style `>` characters for blockquoting. If you're\\nfamiliar with quoting passages of text in an email message, then you\\nknow how to create a blockquote in Markdown. It looks best if you hard\\nwrap the text and put a `>` before every line:\\n\\n    > This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,\\n    > consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.\\n    > Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus.\\n    >\\n    > Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse\\n    > id sem consectetuer libero luctus adipiscing.\\n\\nMarkdown allows you to be lazy and only put the `>` before the first\\nline of a hard-wrapped paragraph:\\n\\n    > This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,\\n    consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.\\n    Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus.\\n\\n    > Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse\\n    id sem consectetuer libero luctus adipiscing.\\n\\nBlockquotes can be nested (i.e. a blockquote-in-a-blockquote) by\\nadding additional levels of `>`:\\n\\n    > This is the first level of quoting.\\n    >\\n    > > This is nested blockquote.\\n    >\\n    > Back to the first level.\\n\\nBlockquotes can contain other Markdown elements, including headers, lists,\\nand code blocks:\\n\\n\\t> ## This is a header.\\n\\t>\\n\\t> 1.   This is the first list item.\\n\\t> 2.   This is the second list item.\\n\\t>\\n\\t> Here's some example code:\\n\\t>\\n\\t>     return shell_exec(\\\"echo $input | $markdown_script\\\");\\n\\nAny decent text editor should make email-style quoting easy. For\\nexample, with BBEdit, you can make a selection and choose Increase\\nQuote Level from the Text menu.\\n\\n\\n<h3 id=\\\"list\\\">Lists</h3>\\n\\nMarkdown supports ordered (numbered) and unordered (bulleted) lists.\\n\\nUnordered lists use asterisks, pluses, and hyphens -- interchangably\\n-- as list markers:\\n\\n    *   Red\\n    *   Green\\n    *   Blue\\n\\nis equivalent to:\\n\\n    +   Red\\n    +   Green\\n    +   Blue\\n\\nand:\\n\\n    -   Red\\n    -   Green\\n    -   Blue\\n\\nOrdered lists use numbers followed by periods:\\n\\n    1.  Bird\\n    2.  McHale\\n    3.  Parish\\n\\nIt's important to note that the actual numbers you use to mark the\\nlist have no effect on the HTML output Markdown produces. The HTML\\nMarkdown produces from the above list is:\\n\\n    <ol>\\n    <li>Bird</li>\\n    <li>McHale</li>\\n    <li>Parish</li>\\n    </ol>\\n\\nIf you instead wrote the list in Markdown like this:\\n\\n    1.  Bird\\n    1.  McHale\\n    1.  Parish\\n\\nor even:\\n\\n    3. Bird\\n    1. McHale\\n    8. Parish\\n\\nyou'd get the exact same HTML output. The point is, if you want to,\\nyou can use ordinal numbers in your ordered Markdown lists, so that\\nthe numbers in your source match the numbers in your published HTML.\\nBut if you want to be lazy, you don't have to.\\n\\nIf you do use lazy list numbering, however, you should still start the\\nlist with the number 1. At some point in the future, Markdown may support\\nstarting ordered lists at an arbitrary number.\\n\\nList markers typically start at the left margin, but may be indented by\\nup to three spaces. List markers must be followed by one or more spaces\\nor a tab.\\n\\nTo make lists look nice, you can wrap items with hanging indents:\\n\\n    *   Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\\n        Aliquam hendrerit mi posuere lectus. Vestibulum enim wisi,\\n        viverra nec, fringilla in, laoreet vitae, risus.\\n    *   Donec sit amet nisl. Aliquam semper ipsum sit amet velit.\\n        Suspendisse id sem consectetuer libero luctus adipiscing.\\n\\nBut if you want to be lazy, you don't have to:\\n\\n    *   Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\\n    Aliquam hendrerit mi posuere lectus. Vestibulum enim wisi,\\n    viverra nec, fringilla in, laoreet vitae, risus.\\n    *   Donec sit amet nisl. Aliquam semper ipsum sit amet velit.\\n    Suspendisse id sem consectetuer libero luctus adipiscing.\\n\\nIf list items are separated by blank lines, Markdown will wrap the\\nitems in `<p>` tags in the HTML output. For example, this input:\\n\\n    *   Bird\\n    *   Magic\\n\\nwill turn into:\\n\\n    <ul>\\n    <li>Bird</li>\\n    <li>Magic</li>\\n    </ul>\\n\\nBut this:\\n\\n    *   Bird\\n\\n    *   Magic\\n\\nwill turn into:\\n\\n    <ul>\\n    <li><p>Bird</p></li>\\n    <li><p>Magic</p></li>\\n    </ul>\\n\\nList items may consist of multiple paragraphs. Each subsequent\\nparagraph in a list item must be intended by either 4 spaces\\nor one tab:\\n\\n    1.  This is a list item with two paragraphs. Lorem ipsum dolor\\n        sit amet, consectetuer adipiscing elit. Aliquam hendrerit\\n        mi posuere lectus.\\n\\n        Vestibulum enim wisi, viverra nec, fringilla in, laoreet\\n        vitae, risus. Donec sit amet nisl. Aliquam semper ipsum\\n        sit amet velit.\\n\\n    2.  Suspendisse id sem consectetuer libero luctus adipiscing.\\n\\nIt looks nice if you indent every line of the subsequent\\nparagraphs, but here again, Markdown will allow you to be\\nlazy:\\n\\n    *   This is a list item with two paragraphs.\\n\\n        This is the second paragraph in the list item. You're\\n    only required to indent the first line. Lorem ipsum dolor\\n    sit amet, consectetuer adipiscing elit.\\n\\n    *   Another item in the same list.\\n\\nTo put a blockquote within a list item, the blockquote's `>`\\ndelimiters need to be indented:\\n\\n    *   A list item with a blockquote:\\n\\n        > This is a blockquote\\n        > inside a list item.\\n\\nTo put a code block within a list item, the code block needs\\nto be indented *twice* -- 8 spaces or two tabs:\\n\\n    *   A list item with a code block:\\n\\n            <code goes here>\\n\\n\\nIt's worth noting that it's possible to trigger an ordered list by\\naccident, by writing something like this:\\n\\n    1986. What a great season.\\n\\nIn other words, a *number-period-space* sequence at the beginning of a\\nline. To avoid this, you can backslash-escape the period:\\n\\n    1986\\\\. What a great season.\\n\\n\\n\\n<h3 id=\\\"precode\\\">Code Blocks</h3>\\n\\nPre-formatted code blocks are used for writing about programming or\\nmarkup source code. Rather than forming normal paragraphs, the lines\\nof a code block are interpreted literally. Markdown wraps a code block\\nin both `<pre>` and `<code>` tags.\\n\\nTo produce a code block in Markdown, simply indent every line of the\\nblock by at least 4 spaces or 1 tab. For example, given this input:\\n\\n    This is a normal paragraph:\\n\\n        This is a code block.\\n\\nMarkdown will generate:\\n\\n    <p>This is a normal paragraph:</p>\\n\\n    <pre><code>This is a code block.\\n    </code></pre>\\n\\nOne level of indentation -- 4 spaces or 1 tab -- is removed from each\\nline of the code block. For example, this:\\n\\n    Here is an example of AppleScript:\\n\\n        tell application \\\"Foo\\\"\\n            beep\\n        end tell\\n\\nwill turn into:\\n\\n    <p>Here is an example of AppleScript:</p>\\n\\n    <pre><code>tell application \\\"Foo\\\"\\n        beep\\n    end tell\\n    </code></pre>\\n\\nA code block continues until it reaches a line that is not indented\\n(or the end of the article).\\n\\nWithin a code block, ampersands (`&`) and angle brackets (`<` and `>`)\\nare automatically converted into HTML entities. This makes it very\\neasy to include example HTML source code using Markdown -- just paste\\nit and indent it, and Markdown will handle the hassle of encoding the\\nampersands and angle brackets. For example, this:\\n\\n        <div class=\\\"footer\\\">\\n            &copy; 2004 Foo Corporation\\n        </div>\\n\\nwill turn into:\\n\\n    <pre><code>&lt;div class=\\\"footer\\\"&gt;\\n        &amp;copy; 2004 Foo Corporation\\n    &lt;/div&gt;\\n    </code></pre>\\n\\nRegular Markdown syntax is not processed within code blocks. E.g.,\\nasterisks are just literal asterisks within a code block. This means\\nit's also easy to use Markdown to write about Markdown's own syntax.\\n\\n\\n\\n<h3 id=\\\"hr\\\">Horizontal Rules</h3>\\n\\nYou can produce a horizontal rule tag (`<hr />`) by placing three or\\nmore hyphens, asterisks, or underscores on a line by themselves. If you\\nwish, you may use spaces between the hyphens or asterisks. Each of the\\nfollowing lines will produce a horizontal rule:\\n\\n    * * *\\n\\n    ***\\n\\n    *****\\n\\n    - - -\\n\\n    ---------------------------------------\\n\\n\\t_ _ _\\n\\n\\n* * *\\n\\n<h2 id=\\\"span\\\">Span Elements</h2>\\n\\n<h3 id=\\\"link\\\">Links</h3>\\n\\nMarkdown supports two style of links: *inline* and *reference*.\\n\\nIn both styles, the link text is delimited by [square brackets].\\n\\nTo create an inline link, use a set of regular parentheses immediately\\nafter the link text's closing square bracket. Inside the parentheses,\\nput the URL where you want the link to point, along with an *optional*\\ntitle for the link, surrounded in quotes. For example:\\n\\n    This is [an example](http://example.com/ \\\"Title\\\") inline link.\\n\\n    [This link](http://example.net/) has no title attribute.\\n\\nWill produce:\\n\\n    <p>This is <a href=\\\"http://example.com/\\\" title=\\\"Title\\\">\\n    an example</a> inline link.</p>\\n\\n    <p><a href=\\\"http://example.net/\\\">This link</a> has no\\n    title attribute.</p>\\n\\nIf you're referring to a local resource on the same server, you can\\nuse relative paths:\\n\\n    See my [About](/about/) page for details.\\n\\nReference-style links use a second set of square brackets, inside\\nwhich you place a label of your choosing to identify the link:\\n\\n    This is [an example][id] reference-style link.\\n\\nYou can optionally use a space to separate the sets of brackets:\\n\\n    This is [an example] [id] reference-style link.\\n\\nThen, anywhere in the document, you define your link label like this,\\non a line by itself:\\n\\n    [id]: http://example.com/  \\\"Optional Title Here\\\"\\n\\nThat is:\\n\\n*   Square brackets containing the link identifier (optionally\\n    indented from the left margin using up to three spaces);\\n*   followed by a colon;\\n*   followed by one or more spaces (or tabs);\\n*   followed by the URL for the link;\\n*   optionally followed by a title attribute for the link, enclosed\\n    in double or single quotes.\\n\\nThe link URL may, optionally, be surrounded by angle brackets:\\n\\n    [id]: <http://example.com/>  \\\"Optional Title Here\\\"\\n\\nYou can put the title attribute on the next line and use extra spaces\\nor tabs for padding, which tends to look better with longer URLs:\\n\\n    [id]: http://example.com/longish/path/to/resource/here\\n        \\\"Optional Title Here\\\"\\n\\nLink definitions are only used for creating links during Markdown\\nprocessing, and are stripped from your document in the HTML output.\\n\\nLink definition names may constist of letters, numbers, spaces, and punctuation -- but they are *not* case sensitive. E.g. these two links:\\n\\n\\t[link text][a]\\n\\t[link text][A]\\n\\nare equivalent.\\n\\nThe *implicit link name* shortcut allows you to omit the name of the\\nlink, in which case the link text itself is used as the name.\\nJust use an empty set of square brackets -- e.g., to link the word\\n\\\"Google\\\" to the google.com web site, you could simply write:\\n\\n\\t[Google][]\\n\\nAnd then define the link:\\n\\n\\t[Google]: http://google.com/\\n\\nBecause link names may contain spaces, this shortcut even works for\\nmultiple words in the link text:\\n\\n\\tVisit [Daring Fireball][] for more information.\\n\\nAnd then define the link:\\n\\n\\t[Daring Fireball]: http://daringfireball.net/\\n\\nLink definitions can be placed anywhere in your Markdown document. I\\ntend to put them immediately after each paragraph in which they're\\nused, but if you want, you can put them all at the end of your\\ndocument, sort of like footnotes.\\n\\nHere's an example of reference links in action:\\n\\n    I get 10 times more traffic from [Google] [1] than from\\n    [Yahoo] [2] or [MSN] [3].\\n\\n      [1]: http://google.com/        \\\"Google\\\"\\n      [2]: http://search.yahoo.com/  \\\"Yahoo Search\\\"\\n      [3]: http://search.msn.com/    \\\"MSN Search\\\"\\n\\nUsing the implicit link name shortcut, you could instead write:\\n\\n    I get 10 times more traffic from [Google][] than from\\n    [Yahoo][] or [MSN][].\\n\\n      [google]: http://google.com/        \\\"Google\\\"\\n      [yahoo]:  http://search.yahoo.com/  \\\"Yahoo Search\\\"\\n      [msn]:    http://search.msn.com/    \\\"MSN Search\\\"\\n\\nBoth of the above examples will produce the following HTML output:\\n\\n    <p>I get 10 times more traffic from <a href=\\\"http://google.com/\\\"\\n    title=\\\"Google\\\">Google</a> than from\\n    <a href=\\\"http://search.yahoo.com/\\\" title=\\\"Yahoo Search\\\">Yahoo</a>\\n    or <a href=\\\"http://search.msn.com/\\\" title=\\\"MSN Search\\\">MSN</a>.</p>\\n\\nFor comparison, here is the same paragraph written using\\nMarkdown's inline link style:\\n\\n    I get 10 times more traffic from [Google](http://google.com/ \\\"Google\\\")\\n    than from [Yahoo](http://search.yahoo.com/ \\\"Yahoo Search\\\") or\\n    [MSN](http://search.msn.com/ \\\"MSN Search\\\").\\n\\nThe point of reference-style links is not that they're easier to\\nwrite. The point is that with reference-style links, your document\\nsource is vastly more readable. Compare the above examples: using\\nreference-style links, the paragraph itself is only 81 characters\\nlong; with inline-style links, it's 176 characters; and as raw HTML,\\nit's 234 characters. In the raw HTML, there's more markup than there\\nis text.\\n\\nWith Markdown's reference-style links, a source document much more\\nclosely resembles the final output, as rendered in a browser. By\\nallowing you to move the markup-related metadata out of the paragraph,\\nyou can add links without interrupting the narrative flow of your\\nprose.\\n\\n\\n<h3 id=\\\"em\\\">Emphasis</h3>\\n\\nMarkdown treats asterisks (`*`) and underscores (`_`) as indicators of\\nemphasis. Text wrapped with one `*` or `_` will be wrapped with an\\nHTML `<em>` tag; double `*`'s or `_`'s will be wrapped with an HTML\\n`<strong>` tag. E.g., this input:\\n\\n    *single asterisks*\\n\\n    _single underscores_\\n\\n    **double asterisks**\\n\\n    __double underscores__\\n\\nwill produce:\\n\\n    <em>single asterisks</em>\\n\\n    <em>single underscores</em>\\n\\n    <strong>double asterisks</strong>\\n\\n    <strong>double underscores</strong>\\n\\nYou can use whichever style you prefer; the lone restriction is that\\nthe same character must be used to open and close an emphasis span.\\n\\nEmphasis can be used in the middle of a word:\\n\\n    un*fucking*believable\\n\\nBut if you surround an `*` or `_` with spaces, it'll be treated as a\\nliteral asterisk or underscore.\\n\\nTo produce a literal asterisk or underscore at a position where it\\nwould otherwise be used as an emphasis delimiter, you can backslash\\nescape it:\\n\\n    \\\\*this text is surrounded by literal asterisks\\\\*\\n\\n\\n\\n<h3 id=\\\"code\\\">Code</h3>\\n\\nTo indicate a span of code, wrap it with backtick quotes (`` ` ``).\\nUnlike a pre-formatted code block, a code span indicates code within a\\nnormal paragraph. For example:\\n\\n    Use the `printf()` function.\\n\\nwill produce:\\n\\n    <p>Use the <code>printf()</code> function.</p>\\n\\nTo include a literal backtick character within a code span, you can use\\nmultiple backticks as the opening and closing delimiters:\\n\\n    ``There is a literal backtick (`) here.``\\n\\nwhich will produce this:\\n\\n    <p><code>There is a literal backtick (`) here.</code></p>\\n\\nThe backtick delimiters surrounding a code span may include spaces --\\none after the opening, one before the closing. This allows you to place\\nliteral backtick characters at the beginning or end of a code span:\\n\\n\\tA single backtick in a code span: `` ` ``\\n\\n\\tA backtick-delimited string in a code span: `` `foo` ``\\n\\nwill produce:\\n\\n\\t<p>A single backtick in a code span: <code>`</code></p>\\n\\n\\t<p>A backtick-delimited string in a code span: <code>`foo`</code></p>\\n\\nWith a code span, ampersands and angle brackets are encoded as HTML\\nentities automatically, which makes it easy to include example HTML\\ntags. Markdown will turn this:\\n\\n    Please don't use any `<blink>` tags.\\n\\ninto:\\n\\n    <p>Please don't use any <code>&lt;blink&gt;</code> tags.</p>\\n\\nYou can write this:\\n\\n    `&#8212;` is the decimal-encoded equivalent of `&mdash;`.\\n\\nto produce:\\n\\n    <p><code>&amp;#8212;</code> is the decimal-encoded\\n    equivalent of <code>&amp;mdash;</code>.</p>\\n\\n\\n\\n<h3 id=\\\"img\\\">Images</h3>\\n\\nAdmittedly, it's fairly difficult to devise a \\\"natural\\\" syntax for\\nplacing images into a plain text document format.\\n\\nMarkdown uses an image syntax that is intended to resemble the syntax\\nfor links, allowing for two styles: *inline* and *reference*.\\n\\nInline image syntax looks like this:\\n\\n    ![Alt text](/path/to/img.jpg)\\n\\n    ![Alt text](/path/to/img.jpg \\\"Optional title\\\")\\n\\nThat is:\\n\\n*   An exclamation mark: `!`;\\n*   followed by a set of square brackets, containing the `alt`\\n    attribute text for the image;\\n*   followed by a set of parentheses, containing the URL or path to\\n    the image, and an optional `title` attribute enclosed in double\\n    or single quotes.\\n\\nReference-style image syntax looks like this:\\n\\n    ![Alt text][id]\\n\\nWhere \\\"id\\\" is the name of a defined image reference. Image references\\nare defined using syntax identical to link references:\\n\\n    [id]: url/to/image  \\\"Optional title attribute\\\"\\n\\nAs of this writing, Markdown has no syntax for specifying the\\ndimensions of an image; if this is important to you, you can simply\\nuse regular HTML `<img>` tags.\\n\\n\\n* * *\\n\\n\\n<h2 id=\\\"misc\\\">Miscellaneous</h2>\\n\\n<h3 id=\\\"autolink\\\">Automatic Links</h3>\\n\\nMarkdown supports a shortcut style for creating \\\"automatic\\\" links for URLs and email addresses: simply surround the URL or email address with angle brackets. What this means is that if you want to show the actual text of a URL or email address, and also have it be a clickable link, you can do this:\\n\\n    <http://example.com/>\\n\\nMarkdown will turn this into:\\n\\n    <a href=\\\"http://example.com/\\\">http://example.com/</a>\\n\\nAutomatic links for email addresses work similarly, except that\\nMarkdown will also perform a bit of randomized decimal and hex\\nentity-encoding to help obscure your address from address-harvesting\\nspambots. For example, Markdown will turn this:\\n\\n    <address@example.com>\\n\\ninto something like this:\\n\\n    <a href=\\\"&#x6D;&#x61;i&#x6C;&#x74;&#x6F;:&#x61;&#x64;&#x64;&#x72;&#x65;\\n    &#115;&#115;&#64;&#101;&#120;&#x61;&#109;&#x70;&#x6C;e&#x2E;&#99;&#111;\\n    &#109;\\\">&#x61;&#x64;&#x64;&#x72;&#x65;&#115;&#115;&#64;&#101;&#120;&#x61;\\n    &#109;&#x70;&#x6C;e&#x2E;&#99;&#111;&#109;</a>\\n\\nwhich will render in a browser as a clickable link to \\\"address@example.com\\\".\\n\\n(This sort of entity-encoding trick will indeed fool many, if not\\nmost, address-harvesting bots, but it definitely won't fool all of\\nthem. It's better than nothing, but an address published in this way\\nwill probably eventually start receiving spam.)\\n\\n\\n\\n<h3 id=\\\"backslash\\\">Backslash Escapes</h3>\\n\\nMarkdown allows you to use backslash escapes to generate literal\\ncharacters which would otherwise have special meaning in Markdown's\\nformatting syntax. For example, if you wanted to surround a word with\\nliteral asterisks (instead of an HTML `<em>` tag), you can backslashes\\nbefore the asterisks, like this:\\n\\n    \\\\*literal asterisks\\\\*\\n\\nMarkdown provides backslash escapes for the following characters:\\n\\n    \\\\   backslash\\n    `   backtick\\n    *   asterisk\\n    _   underscore\\n    {}  curly braces\\n    []  square brackets\\n    ()  parentheses\\n    #   hash mark\\n\\t+\\tplus sign\\n\\t-\\tminus sign (hyphen)\\n    .   dot\\n    !   exclamation mark\\n\\n[end of markdown_documentation_syntax.md]\\n[start of markdown_documentation_basics.md]\\n---\\npedantic: true\\n---\\n\\nMarkdown: Basics\\n================\\n\\n<ul id=\\\"ProjectSubmenu\\\">\\n    <li><a href=\\\"/projects/markdown/\\\" title=\\\"Markdown Project Page\\\">Main</a></li>\\n    <li><a class=\\\"selected\\\" title=\\\"Markdown Basics\\\">Basics</a></li>\\n    <li><a href=\\\"/projects/markdown/syntax\\\" title=\\\"Markdown Syntax Documentation\\\">Syntax</a></li>\\n    <li><a href=\\\"/projects/markdown/license\\\" title=\\\"Pricing and License Information\\\">License</a></li>\\n    <li><a href=\\\"/projects/markdown/dingus\\\" title=\\\"Online Markdown Web Form\\\">Dingus</a></li>\\n</ul>\\n\\n\\nGetting the Gist of Markdown's Formatting Syntax\\n------------------------------------------------\\n\\nThis page offers a brief overview of what it's like to use Markdown.\\nThe [syntax page] [s] provides complete, detailed documentation for\\nevery feature, but Markdown should be very easy to pick up simply by\\nlooking at a few examples of it in action. The examples on this page\\nare written in a before/after style, showing example syntax and the\\nHTML output produced by Markdown.\\n\\nIt's also helpful to simply try Markdown out; the [Dingus] [d] is a\\nweb application that allows you type your own Markdown-formatted text\\nand translate it to XHTML.\\n\\n**Note:** This document is itself written using Markdown; you\\ncan [see the source for it by adding '.text' to the URL] [src].\\n\\n  [s]: /projects/markdown/syntax  \\\"Markdown Syntax\\\"\\n  [d]: /projects/markdown/dingus  \\\"Markdown Dingus\\\"\\n  [src]: /projects/markdown/basics.text\\n\\n\\n## Paragraphs, Headers, Blockquotes ##\\n\\nA paragraph is simply one or more consecutive lines of text, separated\\nby one or more blank lines. (A blank line is any line that looks like a\\nblank line -- a line containing nothing spaces or tabs is considered\\nblank.) Normal paragraphs should not be intended with spaces or tabs.\\n\\nMarkdown offers two styles of headers: *Setext* and *atx*.\\nSetext-style headers for `<h1>` and `<h2>` are created by\\n\\\"underlining\\\" with equal signs (`=`) and hyphens (`-`), respectively.\\nTo create an atx-style header, you put 1-6 hash marks (`#`) at the\\nbeginning of the line -- the number of hashes equals the resulting\\nHTML header level.\\n\\nBlockquotes are indicated using email-style '`>`' angle brackets.\\n\\nMarkdown:\\n\\n    A First Level Header\\n    ====================\\n    \\n    A Second Level Header\\n    ---------------------\\n\\n    Now is the time for all good men to come to\\n    the aid of their country. This is just a\\n    regular paragraph.\\n\\n    The quick brown fox jumped over the lazy\\n    dog's back.\\n    \\n    ### Header 3\\n\\n    > This is a blockquote.\\n    > \\n    > This is the second paragraph in the blockquote.\\n    >\\n    > ## This is an H2 in a blockquote\\n\\n\\nOutput:\\n\\n    <h1>A First Level Header</h1>\\n    \\n    <h2>A Second Level Header</h2>\\n    \\n    <p>Now is the time for all good men to come to\\n    the aid of their country. This is just a\\n    regular paragraph.</p>\\n    \\n    <p>The quick brown fox jumped over the lazy\\n    dog's back.</p>\\n    \\n    <h3>Header 3</h3>\\n    \\n    <blockquote>\\n        <p>This is a blockquote.</p>\\n        \\n        <p>This is the second paragraph in the blockquote.</p>\\n        \\n        <h2>This is an H2 in a blockquote</h2>\\n    </blockquote>\\n\\n\\n\\n### Phrase Emphasis ###\\n\\nMarkdown uses asterisks and underscores to indicate spans of emphasis.\\n\\nMarkdown:\\n\\n    Some of these words *are emphasized*.\\n    Some of these words _are emphasized also_.\\n    \\n    Use two asterisks for **strong emphasis**.\\n    Or, if you prefer, __use two underscores instead__.\\n\\nOutput:\\n\\n    <p>Some of these words <em>are emphasized</em>.\\n    Some of these words <em>are emphasized also</em>.</p>\\n    \\n    <p>Use two asterisks for <strong>strong emphasis</strong>.\\n    Or, if you prefer, <strong>use two underscores instead</strong>.</p>\\n   \\n\\n\\n## Lists ##\\n\\nUnordered (bulleted) lists use asterisks, pluses, and hyphens (`*`,\\n`+`, and `-`) as list markers. These three markers are\\ninterchangable; this:\\n\\n    *   Candy.\\n    *   Gum.\\n    *   Booze.\\n\\nthis:\\n\\n    +   Candy.\\n    +   Gum.\\n    +   Booze.\\n\\nand this:\\n\\n    -   Candy.\\n    -   Gum.\\n    -   Booze.\\n\\nall produce the same output:\\n\\n    <ul>\\n    <li>Candy.</li>\\n    <li>Gum.</li>\\n    <li>Booze.</li>\\n    </ul>\\n\\nOrdered (numbered) lists use regular numbers, followed by periods, as\\nlist markers:\\n\\n    1.  Red\\n    2.  Green\\n    3.  Blue\\n\\nOutput:\\n\\n    <ol>\\n    <li>Red</li>\\n    <li>Green</li>\\n    <li>Blue</li>\\n    </ol>\\n\\nIf you put blank lines between items, you'll get `<p>` tags for the\\nlist item text. You can create multi-paragraph list items by indenting\\nthe paragraphs by 4 spaces or 1 tab:\\n\\n    *   A list item.\\n    \\n        With multiple paragraphs.\\n\\n    *   Another item in the list.\\n\\nOutput:\\n\\n    <ul>\\n    <li><p>A list item.</p>\\n    <p>With multiple paragraphs.</p></li>\\n    <li><p>Another item in the list.</p></li>\\n    </ul>\\n    \\n\\n\\n### Links ###\\n\\nMarkdown supports two styles for creating links: *inline* and\\n*reference*. With both styles, you use square brackets to delimit the\\ntext you want to turn into a link.\\n\\nInline-style links use parentheses immediately after the link text.\\nFor example:\\n\\n    This is an [example link](http://example.com/).\\n\\nOutput:\\n\\n    <p>This is an <a href=\\\"http://example.com/\\\">\\n    example link</a>.</p>\\n\\nOptionally, you may include a title attribute in the parentheses:\\n\\n    This is an [example link](http://example.com/ \\\"With a Title\\\").\\n\\nOutput:\\n\\n    <p>This is an <a href=\\\"http://example.com/\\\" title=\\\"With a Title\\\">\\n    example link</a>.</p>\\n\\nReference-style links allow you to refer to your links by names, which\\nyou define elsewhere in your document:\\n\\n    I get 10 times more traffic from [Google][1] than from\\n    [Yahoo][2] or [MSN][3].\\n\\n    [1]: http://google.com/        \\\"Google\\\"\\n    [2]: http://search.yahoo.com/  \\\"Yahoo Search\\\"\\n    [3]: http://search.msn.com/    \\\"MSN Search\\\"\\n\\nOutput:\\n\\n    <p>I get 10 times more traffic from <a href=\\\"http://google.com/\\\"\\n    title=\\\"Google\\\">Google</a> than from <a href=\\\"http://search.yahoo.com/\\\"\\n    title=\\\"Yahoo Search\\\">Yahoo</a> or <a href=\\\"http://search.msn.com/\\\"\\n    title=\\\"MSN Search\\\">MSN</a>.</p>\\n\\nThe title attribute is optional. Link names may contain letters,\\nnumbers and spaces, but are *not* case sensitive:\\n\\n    I start my morning with a cup of coffee and\\n    [The New York Times][NY Times].\\n\\n    [ny times]: http://www.nytimes.com/\\n\\nOutput:\\n\\n    <p>I start my morning with a cup of coffee and\\n    <a href=\\\"http://www.nytimes.com/\\\">The New York Times</a>.</p>\\n\\n\\n### Images ###\\n\\nImage syntax is very much like link syntax.\\n\\nInline (titles are optional):\\n\\n    ![alt text](/path/to/img.jpg \\\"Title\\\")\\n\\nReference-style:\\n\\n    ![alt text][id]\\n\\n    [id]: /path/to/img.jpg \\\"Title\\\"\\n\\nBoth of the above examples produce the same output:\\n\\n    <img src=\\\"/path/to/img.jpg\\\" alt=\\\"alt text\\\" title=\\\"Title\\\" />\\n\\n\\n\\n### Code ###\\n\\nIn a regular paragraph, you can create code span by wrapping text in\\nbacktick quotes. Any ampersands (`&`) and angle brackets (`<` or\\n`>`) will automatically be translated into HTML entities. This makes\\nit easy to use Markdown to write about HTML example code:\\n\\n    I strongly recommend against using any `<blink>` tags.\\n\\n    I wish SmartyPants used named entities like `&mdash;`\\n    instead of decimal-encoded entites like `&#8212;`.\\n\\nOutput:\\n\\n    <p>I strongly recommend against using any\\n    <code>&lt;blink&gt;</code> tags.</p>\\n    \\n    <p>I wish SmartyPants used named entities like\\n    <code>&amp;mdash;</code> instead of decimal-encoded\\n    entites like <code>&amp;#8212;</code>.</p>\\n\\n\\nTo specify an entire block of pre-formatted code, indent every line of\\nthe block by 4 spaces or 1 tab. Just like with code spans, `&`, `<`,\\nand `>` characters will be escaped automatically.\\n\\nMarkdown:\\n\\n    If you want your page to validate under XHTML 1.0 Strict,\\n    you've got to put paragraph tags in your blockquotes:\\n\\n        <blockquote>\\n            <p>For example.</p>\\n        </blockquote>\\n\\nOutput:\\n\\n    <p>If you want your page to validate under XHTML 1.0 Strict,\\n    you've got to put paragraph tags in your blockquotes:</p>\\n    \\n    <pre><code>&lt;blockquote&gt;\\n        &lt;p&gt;For example.&lt;/p&gt;\\n    &lt;/blockquote&gt;\\n    </code></pre>\\n\\n[end of markdown_documentation_basics.md]\\n[start of broken.md]\\n# Markdown is broken\\n\\nI have a lot of scraps of markdown engine oddities that I've collected over the\\nyears. What you see below is slightly messy, but it's what I've managed to\\ncobble together to illustrate the differences between markdown engines, and\\nwhy, if there ever is a markdown specification, it has to be absolutely\\nthorough. There are a lot more of these little differences I have documented\\nelsewhere. I know I will find them lingering on my disk one day, but until\\nthen, I'll continue to add whatever strange nonsensical things I find.\\n\\nSome of these examples may only mention a particular engine compared to marked.\\nHowever, the examples with markdown.pl could easily be swapped out for\\ndiscount, upskirt, or markdown.js, and you would very easily see even more\\ninconsistencies.\\n\\nA lot of this was written when I was very unsatisfied with the inconsistencies\\nbetween markdown engines. Please excuse the frustration noticeable in my\\nwriting.\\n\\n## Examples of markdown's \\\"stupid\\\" list parsing\\n\\n```\\n$ markdown.pl\\n\\n  * item1\\n\\n    * item2\\n\\n  text\\n^D\\n<ul>\\n<li><p>item1</p>\\n\\n<ul>\\n<li>item2</li>\\n</ul>\\n\\n<p><p>text</p></li>\\n</ul></p>\\n```\\n\\n\\n```\\n$ marked\\n  * item1\\n\\n    * item2\\n\\n  text\\n^D\\n<ul>\\n<li><p>item1</p>\\n<ul>\\n<li>item2</li>\\n</ul>\\n<p>text</p>\\n</li>\\n</ul>\\n```\\n\\nWhich looks correct to you?\\n\\n- - -\\n\\n```\\n$ markdown.pl\\n* hello\\n  > world\\n^D\\n<p><ul>\\n<li>hello</p>\\n\\n<blockquote>\\n  <p>world</li>\\n</ul></p>\\n</blockquote>\\n```\\n\\n```\\n$ marked\\n* hello\\n  > world\\n^D\\n<ul>\\n<li>hello<blockquote>\\n<p>world</p>\\n</blockquote>\\n</li>\\n</ul>\\n```\\n\\nAgain, which looks correct to you?\\n\\n- - -\\n\\nEXAMPLE:\\n\\n```\\n$ markdown.pl\\n* hello\\n  * world\\n    * hi\\n          code\\n^D\\n<ul>\\n<li>hello\\n<ul>\\n<li>world</li>\\n<li>hi\\n  code</li>\\n</ul></li>\\n</ul>\\n```\\n\\nThe code isn't a code block even though it's after the bullet margin. I know,\\nlets give it two more spaces, effectively making it 8 spaces past the bullet.\\n\\n```\\n$ markdown.pl\\n* hello\\n  * world\\n    * hi\\n            code\\n^D\\n<ul>\\n<li>hello\\n<ul>\\n<li>world</li>\\n<li>hi\\n    code</li>\\n</ul></li>\\n</ul>\\n```\\n\\nAnd, it's still not a code block. Did you also notice that the 3rd item isn't\\neven its own list? Markdown screws that up too because of its indentation\\nunaware parsing.\\n\\n- - -\\n\\nLet's look at some more examples of markdown's list parsing:\\n\\n```\\n$ markdown.pl\\n\\n  * item1\\n\\n    * item2\\n\\n  text\\n^D\\n<ul>\\n<li><p>item1</p>\\n\\n<ul>\\n<li>item2</li>\\n</ul>\\n\\n<p><p>text</p></li>\\n</ul></p>\\n```\\n\\nMisnested tags.\\n\\n\\n```\\n$ marked\\n  * item1\\n\\n    * item2\\n\\n  text\\n^D\\n<ul>\\n<li><p>item1</p>\\n<ul>\\n<li>item2</li>\\n</ul>\\n<p>text</p>\\n</li>\\n</ul>\\n```\\n\\nWhich looks correct to you?\\n\\n- - -\\n\\n```\\n$ markdown.pl\\n* hello\\n  > world\\n^D\\n<p><ul>\\n<li>hello</p>\\n\\n<blockquote>\\n  <p>world</li>\\n</ul></p>\\n</blockquote>\\n```\\n\\nMore misnested tags.\\n\\n\\n```\\n$ marked\\n* hello\\n  > world\\n^D\\n<ul>\\n<li>hello<blockquote>\\n<p>world</p>\\n</blockquote>\\n</li>\\n</ul>\\n```\\n\\nAgain, which looks correct to you?\\n\\n- - -\\n\\n# Why quality matters - Part 2\\n\\n``` bash\\n$ markdown.pl\\n* hello\\n  > world\\n^D\\n<p><ul>\\n<li>hello</p>\\n\\n<blockquote>\\n  <p>world</li>\\n</ul></p>\\n</blockquote>\\n```\\n\\n``` bash\\n$ sundown # upskirt\\n* hello\\n  > world\\n^D\\n<ul>\\n<li>hello\\n&gt; world</li>\\n</ul>\\n```\\n\\n``` bash\\n$ marked\\n* hello\\n  > world\\n^D\\n<ul><li>hello <blockquote><p>world</p></blockquote></li></ul>\\n```\\n\\nWhich looks correct to you?\\n\\n- - -\\n\\nSee: https://github.com/evilstreak/markdown-js/issues/23\\n\\n``` bash\\n$ markdown.pl # upskirt/markdown.js/discount\\n* hello\\n      var a = 1;\\n* world\\n^D\\n<ul>\\n<li>hello\\nvar a = 1;</li>\\n<li>world</li>\\n</ul>\\n```\\n\\n``` bash\\n$ marked\\n* hello\\n      var a = 1;\\n* world\\n^D\\n<ul><li>hello\\n<pre>code>var a = 1;</code></pre></li>\\n<li>world</li></ul>\\n```\\n\\nWhich looks more reasonable? Why shouldn't code blocks be able to appear in\\nlist items in a sane way?\\n\\n- - -\\n\\n``` bash\\n$ markdown.js\\n<div>hello</div>\\n\\n<span>hello</span>\\n^D\\n<p>&lt;div&gt;hello&lt;/div&gt;</p>\\n\\n<p>&lt;span&gt;hello&lt;/span&gt;</p>\\n```\\n\\n``` bash\\n$ marked\\n<div>hello</div>\\n\\n<span>hello</span>\\n^D\\n<div>hello</div>\\n\\n\\n<p><span>hello</span>\\n</p>\\n```\\n\\n- - -\\n\\nSee: https://github.com/evilstreak/markdown-js/issues/27\\n\\n``` bash\\n$ markdown.js\\n[![an image](/image)](/link)\\n^D\\n<p><a href=\\\"/image)](/link\\\">![an image</a></p>\\n```\\n\\n``` bash\\n$ marked\\n[![an image](/image)](/link)\\n^D\\n<p><a href=\\\"/link\\\"><img src=\\\"/image\\\" alt=\\\"an image\\\"></a>\\n</p>\\n```\\n\\n- - -\\n\\nSee: https://github.com/evilstreak/markdown-js/issues/24\\n\\n``` bash\\n$ markdown.js\\n> a\\n\\n> b\\n\\n> c\\n^D\\n<blockquote><p>a</p><p>bundefined&gt; c</p></blockquote>\\n```\\n\\n``` bash\\n$ marked\\n> a\\n\\n> b\\n\\n> c\\n^D\\n<blockquote><p>a\\n\\n</p></blockquote>\\n<blockquote><p>b\\n\\n</p></blockquote>\\n<blockquote><p>c\\n</p></blockquote>\\n```\\n\\n- - -\\n\\n``` bash\\n$ markdown.pl\\n* hello\\n  * world\\n    how\\n\\n    are\\n    you\\n\\n  * today\\n* hi\\n^D\\n<ul>\\n<li><p>hello</p>\\n\\n<ul>\\n<li>world\\nhow</li>\\n</ul>\\n\\n<p>are\\nyou</p>\\n\\n<ul>\\n<li>today</li>\\n</ul></li>\\n<li>hi</li>\\n</ul>\\n```\\n\\n``` bash\\n$ marked\\n* hello\\n  * world\\n    how\\n\\n    are\\n    you\\n\\n  * today\\n* hi\\n^D\\n<ul>\\n<li><p>hello</p>\\n<ul>\\n<li><p>world\\nhow</p>\\n<p>are\\nyou</p>\\n</li>\\n<li><p>today</p>\\n</li>\\n</ul>\\n</li>\\n<li>hi</li>\\n</ul>\\n```\\n\\n[end of broken.md]\\n[start of quickref.md]\\nMarkdown Quick Reference\\n========================\\n\\nThis guide is a very brief overview, with examples, of the syntax that [Markdown] supports.  It is itself written in Markdown and you can copy the samples over to the left-hand pane for experimentation.  It's shown as *text* and not *rendered HTML*.\\n\\n[Markdown]: http://daringfireball.net/projects/markdown/\\n\\n\\nSimple Text Formatting\\n======================\\n\\nFirst thing is first.  You can use *stars* or _underscores_ for italics.  **Double stars** and __double underscores__ do bold.  ***Three together*** do ___both___.\\n\\nParagraphs are pretty easy too.  Just have a blank line between chunks of text.\\n\\n> This chunk of text is in a block quote.  Its multiple lines will all be\\n> indended a bit from the rest of the text.\\n>\\n> > Multiple levels of block quotes also work.\\n\\nSometimes you want to include some code, such as when you are explaining how `<h1>` HTML tags work, or maybe you are a programmer and you are discussing `someMethod()`.\\n\\nIf you want to include some code and have\\nnewlines preserved, indent the line with a tab\\nor at least four spaces.\\n    Extra spaces work here too.\\nThis is also called preformatted text and it is useful for showing examples.\\nThe text will stay as text, so any *markdown* or <u>HTML</u> you add will\\nnot show up formatted.  This way you can show markdown examples in a\\nmarkdown document.\\n\\n>     You can also use preformatted text with your blockquotes\\n>     as long as you add at least five spaces.\\n\\n\\nHeadings\\n========\\n\\nThere are a couple of ways to make headings.  Using three or more equals signs on a line under a heading makes it into an \\\"h1\\\" style.  Three or more hyphens under a line makes it \\\"h2\\\" (slightly smaller).  You can also use multiple pound symbols before and after a heading.  Pounds after the title are ignored.  Here's some examples:\\n\\nThis is H1\\n==========\\n\\nThis is H2\\n----------\\n\\n# This is H1\\n## This is H2\\n### This is H3 with some extra pounds ###\\n#### You get the idea ####\\n##### I don't need extra pounds at the end\\n###### H6 is the max\\n\\n\\nLinks\\n=====\\n\\nLet's link to a few sites.  First, let's use the bare URL, like <http://www.github.com>.  Great for text, but ugly for HTML.\\nNext is an inline link to [Google](http://www.google.com).  A little nicer.\\nThis is a reference-style link to [Wikipedia] [1].\\nLastly, here's a pretty link to [Yahoo].  The reference-style and pretty links both automatically use the links defined below, but they could be defined *anywhere* in the markdown and are removed from the HTML.  The names are also case insensitive, so you can use [YaHoO] and have it link properly.\\n\\n[1]: http://www.wikipedia.org/\\n[Yahoo]: http://www.yahoo.com/\\n\\nTitle attributes may be added to links by adding text after a link.\\nThis is the [inline link](http://www.bing.com \\\"Bing\\\") with a \\\"Bing\\\" title.\\nYou can also go to [W3C] [2] and maybe visit a [friend].\\n\\n[2]: http://w3c.org (The W3C puts out specs for web-based things)\\n[Friend]: http://facebook.com/ \\\"Facebook!\\\"\\n\\nEmail addresses in plain text are not linked: test@example.com.\\nEmail addresses wrapped in angle brackets are linked: <test@example.com>.\\nThey are also obfuscated so that email harvesting spam robots hopefully won't get them.\\n\\n\\nLists\\n=====\\n\\n* This is a bulleted list\\n* Great for shopping lists\\n- You can also use hyphens\\n+ Or plus symbols\\n\\nThe above is an \\\"unordered\\\" list.  Now, on for a bit of order.\\n\\n1. Numbered lists are also easy\\n2. Just start with a number\\n3738762. However, the actual number doesn't matter when converted to HTML.\\n1.  This will still show up as 4.\\n\\nYou might want a few advanced lists:\\n\\n- This top-level list is wrapped in paragraph tags\\n- This generates an extra space between each top-level item.\\n\\n- You do it by adding a blank line\\n\\n- This nested list also has blank lines between the list items.\\n\\n- How to create nested lists\\n1.  Start your regular list\\n2.  Indent nested lists with four spaces\\n3.  Further nesting means you should indent with four more spaces\\n    * This line is indented with eight spaces.\\n\\n- List items can be quite lengthy.  You can keep typing and either continue\\nthem on the next line with no indentation.\\n\\n- Alternately, if that looks ugly, you can also\\nindent the next line a bit for a prettier look.\\n\\n- You can put large blocks of text in your list by just indenting with four spaces.\\n\\nThis is formatted the same as code, but you can inspect the HTML\\nand find that it's just wrapped in a `<p>` tag and *won't* be shown\\nas preformatted text.\\n\\nYou can keep adding more and more paragraphs to a single\\nlist item by adding the traditional blank line and then keep\\non indenting the paragraphs with four spaces.  You really need\\nto only indent the first line, but that looks ugly.\\n\\n- Lists support blockquotes\\n\\n> Just like this example here.  By the way, you can\\n> nest lists inside blockquotes!\\n> - Fantastic!\\n\\n- Lists support preformatted text\\n\\n    You just need to indent eight spaces.\\n\\n\\nEven More\\n=========\\n\\nHorizontal Rule\\n---------------\\n\\nIf you need a horizontal rule you just need to put at least three hyphens, asterisks, or underscores on a line by themselves.  You can also even put spaces between the characters.\\n\\n---\\n****************************\\n_ _ _ _ _ _ _\\n\\nThose three all produced horizontal lines.  Keep in mind that three hyphens under any text turns that text into a heading, so add a blank like if you use hyphens.\\n\\nImages\\n------\\n\\nImages work exactly like links, but they have exclamation points in front.  They work with references and titles too.\\n\\n![Google Logo](http://www.google.com/images/errors/logo_sm.gif) and ![Happy].\\n\\n[Happy]: http://www.wpclipart.com/smiley/simple_smiley/smiley_face_simple_green_small.png (\\\"Smiley face\\\")\\n\\n\\nInline HTML\\n-----------\\n\\nIf markdown is too limiting, you can just insert your own <strike>crazy</strike> HTML.  Span-level HTML <u>can *still* use markdown</u>.  Block level elements must be separated from text by a blank line and must not have any spaces before the opening and closing HTML.\\n\\n<div style='font-family: \\\"Comic Sans\\\", sans-serif;'>\\nIt is a pity, but markdown does **not** work in here for most markdown parsers.  [Marked] handles it pretty well.\\n</div>\\n\\n[end of quickref.md]\\n\\n</code>\\n\\nHere is an example of a patch file. It consists of changes to the code base. It specifies the file names, the line numbers of each change, and the removed and added lines. A single patch file can contain changes to multiple files.\\n\\n<patch>\\ndiff --git a/file.py b/file.py\\n--- a/file.py\\n+++ b/file.py\\n@@ -1,27 +1,35 @@\\n def euclidean(a, b):\\n-    while b:\\n-        a, b = b, a % b\\n-    return a\\n+    if b == 0:\\n+        return a\\n+    return euclidean(b, a % b)\\n \\n def bresenham(x0, y0, x1, y1):\\n+    points = []\\n+    dx = abs(x1 - x0)\\n+    dy = abs(y1 - y0)\\n+    sx = 1 if x0 < x1 else -1\\n+    sy = 1 if y0 < y1 else -1\\n+    err = dx - dy\\n+    \\n     while True:\\n-        plot(x0, y0)\\n+        points.append((x0, y0))\\n         if x0 == x1 and y0 == y1:\\n             break\\n-        e2 = 2 * err\\n-        if e2 > -dy:\\n-            err -= dy\\n-            x0 += sx\\n-        if e2 < dx:\\n-            err += dx\\n-            y0 += sy\\n+        e2 = 2 * err\\n+        if e2 > -dy:\\n+            err -= dy\\n+            x0 += sx\\n+        if e2 < dx:\\n+            err += dx\\n+            y0 += sy\\n+    return points\\n+</patch>\\n\\nI need you to solve the provided issue by generating a single patch file that I can apply directly to this repository using git apply. Please respond with a single patch file in the format shown above.\\n\\nRespond below: \\n\"}]",
      "retrieved_file_paths": [
        "AUTHORS.md",
        "markdown_documentation_syntax.md",
        "markdown_documentation_basics.md",
        "broken.md",
        "quickref.md"
      ]
    },
    "retrieved_documents": [
      {
        "id": "81fa0d9c-3565-4f7e-ad06-01f04ba522b2",
        "score": 0.01639344262295082,
        "payload": {
          "text": "# Authors\n\nMarked takes an encompassing approach to its community. As such, you can think of these as [concentric circles](https://medium.com/the-node-js-collection/healthy-open-source-967fa8be7951), where each group encompasses the following groups.\n\n<table>\n  <tbody>\n  \t<tr>\n      <td align=\"center\" valign=\"top\" style=\"width:32%\">\n        <a href=\"https://github.com/chjj\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/chjj.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/chjj\">Christopher Jeffrey</a>\n        <div>Original Author</div>\n        <small>Started the fire</small>\n      </td>\n      <td align=\"center\" valign=\"top\" style=\"width:32%\">\n        <a href=\"https://github.com/joshbruce\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/joshbruce.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://joshbruce.com\">Josh Bruce</a>\n        <div>Publisher</div>\n        <small>Release Wrangler; Humaning Helper; Heckler of Hypertext</small>\n      </td>\n      <td align=\"center\" valign=\"top\" style=\"width:32%\">\n        <a href=\"https://github.com/styfle\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/styfle.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://www.ceriously.com\">Steven</a>\n        <div>Publisher</div>\n        <small>Release Wrangler; Dr. Docs; Open source, of course; GitHub Guru; Humaning Helper</small>\n      </td>\n    </tr>\n  \t<tr>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/davisjam\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/davisjam.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/davisjam\">Jamie Davis</a>\n        <div>Committer</div>\n        <small>Seeker of Security</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/UziTech\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/UziTech.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://tony.brix.ninja\">Tony Brix</a>\n        <div>Publisher</div>\n        <small>Release Wrangler; Titan of the test harness; Dr. DevOps</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        &nbsp;\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n<table>\n  <tbody>\n    <tr>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/intcreator\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/intcreator.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/intcreator\">Brandon der Bl\u00e4tter</a>\n        <div>Contributor</div>\n        <small>Curious Contributor</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/carlosvalle\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/carlosvalle.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/carlosvalle\">Carlos Valle</a>\n        <div>Contributor</div>\n        <small>Maker of the Marked mark from 2018 to present</small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n        <a href=\"https://github.com/Feder1co5oave\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/Feder1co5oave.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/Feder1co5oave\">Federico Soave</a>\n        <div>Contributor</div>\n        <small>Regent of the Regex; Master of Marked</small>\n      </td>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/karenyavine\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/karenyavine.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/karenyavine\">Karen Yavine</a>\n        <div>Contributor</div>\n        <small>Snyk's Security Saint</small>\n      </td>\n     </tr>\n     <tr>\n      <td align=\"center\" valign=\"top\">\n        <a href=\"https://github.com/KostyaTretyak\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/KostyaTretyak.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/KostyaTretyak\">\u041a\u043e\u0441\u0442\u044f \u0422\u0440\u0435\u0442\u044f\u043a</a>\n        <div>Contributor</div>\n        <small></small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n        <a href=\"https://github.com/tomtheisen\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/tomtheisen.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/tomtheisen\">Tom Theisen</a>\n        <div>Contributor</div>\n        <small>Defibrillator</small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n        <a href=\"https://github.com/mccraveiro\">\n          <img width=\"100\" height=\"100\" src=\"https://github.com/mccraveiro.png?s=150\">\n        </a>\n        <br>\n        <a href=\"https://github.com/mccraveiro\">Mateus Craveiro</a>\n        <div>Contributor</div>\n        <small>Defibrillator</small>\n      </td>\n      <td align=\"center\" width=\"20%\" valign=\"top\">\n      </td>\n     </tr>\n  </tbody>\n</table>\n\n## Publishers\n\nPublishers are admins who also have the responsibility, privilege, and burden of publishing the new releases to NPM and performing outreach and external stakeholder communications. Further, when things go pear-shaped, they're the ones taking most of the heat. Finally, when things go well, they're the primary ones praising the contributors who made it possible.\n\n(In other words, while Admins are focused primarily on the internal workings of the project, Publishers are focused on internal *and* external concerns.)\n\n**Should not exceed 2:** Having more people with the authority to publish a release can quickly turn into a consensus seeking nightmare (design by committee). Having only one is preferred (Directly Responsible Individual); however, given the nature of the project and its history, having an immediate fallback, and a potential deep fallback (Original author) is probably a good idea.\n\n[Details on badges](#badges)\n\n## Admins\n\nAdmins are committers who also have the responsibility, privilege, and burden of selecting committers and making sure the project itself runs smoothly, which includes community maintenance, governance, dispute resolution, and so on. (Letting the contributors easily enter into, and work within, the project to begin contributing, with as little friction as possible.)\n\n**Should not exceed 3:** When there are too many people with the ability to resolve disputes, the dispute itself can quickly turn into a dispute amongst the admins themselves; therefore, we want this group to be small enough to commit to action and large enough to not put too much burden on one person. (Should ensure faster resolution and responsiveness.)\n\nTo be listed: Admins are usually selected from the pool of committers (or they volunteer, using the same process) who demonstrate good understanding of the marked culture, operations, and do their best to help new contributors get up to speed on how to contribute effectively to the project.\n\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\n\n[Details on badges](#badges)\n\n## Committers\n\nCommitters are contributors who also have the responsibility, privilege, some might even say burden of being able to review and merge contributions (just usually not their own).\n\nA note on \"decision making authority\". This is related to submitting PRs and the [advice process](http://www.reinventingorganizationswiki.com/Decision_Making). The person marked as having decision making authority over a certain area should be sought for advice in that area before committing to a course of action.\n\n**Should not exceed 5:** For larger PRs affecting more of the codebase and, most likely, review by more people, we try to keep this pool small and responsive and let those with decision making authority have final say without negative repercussions from the other committers.\n\nTo be listed: Committers are usually selected (or they volunteer, using the same process) from contributors who enter the discussions regarding the future direction of Marked (maybe even doing informal reviews of contributions despite not being able to merge them yourself).\n\nTo be removed: You can remove yourself through the [GitHub UI](https://help.github.com/articles/removing-yourself-from-a-collaborator-s-repository/).\n\nA note on volunteering:\n\n1. Please do not volunteer unless you believe you can demonstrate to your peers you can do the work required.\n2. Please do not overcommit yourself; we count on those committed to the project to be responsive. Really consider, with all you have going on, whether you able to really commit to it.\n3. Don't let the previous frighten you away, it can always be changed later by you or your peers.\n\n[Details on badges](#badges)\n\n## Contributors\n\nContributors are users who submit a [PR](https://github.com/markedjs/marked/pulls), [Issue](https://github.com/markedjs/marked/issues), or collaborate in making Marked a better product and experience for all the users.\n\nTo be listed: make a contribution and, if it has significant impact, the committers may be able to add you here.\n\nTo be removed: please let us know or submit a PR.\n\n[Details on badges](#badges)\n\n## Users\n\nUsers are anyone using Marked in some fashion, without them, there's no reason for us to exist.\n\n|Individual or Organization |Website                 |Project                              |Submitted by                                        |\n|:--------------------------|:-----------------------|:------------------------------------|:---------------------------------------------------|\n|MarkedJS                   |https://marked.js.org   |https://github.com/markedjs/marked   |The marked committers                               |\n\nTo be listed: All fields are optional. Contact any of the committers or, more timely, submit a pull request with the following (using the first row as an example):\n\n- **Individual or Organization:** The name you would like associated with the record.\n- **Website:** A URL to a standalone website for the project.\n- **Project:** A URL for the repository of the project using marked.\n- **Submitted by:** The name and optional honorifics for the person adding the listing.\n\nTo be removed: Same as above. Only instead of requesting addition request deletion or delete the row yourself.\n\n<h2 id=\"badges\">Badges</h2>\n\nBadges? You don't *need* no stinkin' badges.\n\nMovie references aside. (It was either that or, \"Let's play a game\", but that would have been creepy&hellip;that's why it will most likely come later.)\n\nBadges? If you *want* 'em, we got 'em, and here's how you get 'em (and&hellip;dramatic pause&hellip;why not two dramatic pauses for emphasis?&hellip; how they can be taken away).\n\n- [ ] Add the appropriate badge to the desired contributor in the desired column of this page, even if they're not listed here yet.\n- [ ] Submit a PR (we're big on PRs around here, if you haven't noticed, help us help you).\n- [ ] Follow the instructions for submitting a badge PR. (There are more details to find within. Come on. Everybody likes surprises, right? No? Actually, we just try to put documentation where it belongs, closer to the code and part of the sequence of events.)\n\n### Badges at play:\n\n<dl>\n\t<dt>Curious Contributor</dt>\n\t<dd>A contributor with less than one year on this page who is actively engaged in submitting PRs, Issues, making recommendations, sharing thoughts&hellip;without being too annoying about it (let's be clear, submitting 100 Issues recommending the Marked Committers send everyone candy is trying for the badge, not honestly earning it).</dd>\n\t<dt>Dr. DevOps</dt>\n\t<dd>\n\t\t<p>Someone who understands and contributes to improving the developer experience and flow of Marked into the world.</p>\n\t\t<blockquote>\n\t\t\t\"The main characteristic of the DevOps movement is to strongly advocate automation and monitoring at all steps of software construction, from integration, testing, releasing to deployment and infrastructure management. DevOps aims at shorter development cycles, increased deployment frequency, more dependable releases, in close alignment with business objectives.\" ~ <a href=\"https://www.wikipedia.org/wiki/DevOps\">Wikipedia</a>\n\t\t</blockquote>\n\t</dd>\n  <dt>Dr. Docs</dt>\n  <dd>Someone who has contributed a great deal to the creation and maintenance of the non-code areas of marked.</dd>\n\t<dt>Eye for the CLI</dt>\n\t<dd>At this point? Pretty much anyone who can update that `man` file to the current Marked version without regression in the CLI tool itself.</dd>\n\t<dt>GitHub Guru</dt>\n\t<dd>Someone who always seems to be able to tell you easier ways to do things with GitHub.</dd>\n\t<dt>Humaning Helper</dt>\n\t<dd>Someone who goes out of their way to help contributors feel welcomed and valued. Further, someone who takes the extra steps(s) necessary to help new contributors get up to speed. Finally, they maintain composure even in times of disagreement and dispute resolution.</dd>\n\t<dt>Heckler of Hypertext</dt>\n\t<dd>Someone who demonstrates an esoteric level of knowledge when it comes to HTML. In other words, someone who says things like, \"Did you know most Markdown flavors don't have a way to render a description list (`dl`)? All the more reason Markdown `!==` HTML.\"</dd>\n\t<dt>Markdown Maestro</dt>\n\t<dd>You know that person who knows about way too many different flavors of Markdown? The one who maybe seems a little too obsessed with the possibilities of Markdown beyond HTML? Come on. You know who they are. Or, at least you could, if you give them this badge.</dd>\n\t<dt>Master of Marked</dt>\n\t<dd>Someone who demonstrates they know the ins and outs of the codebase for Marked.</dd>\n\t<dt>Open source, of course</dt>\n\t<dd>Someone who advocates for and has a proven understanding of how to operate within open source communities.</dd>\n\t<dt>Regent of the Regex</dt>\n\t<dd><p>Can you demonstrate you understand the following without Google and Stackoverflow?</p>\n\t\t<p><code>/^( *)(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/</code></p>\n\t\t<p>Because this author can't yet. That's who gets these.</p>\n\t</dd>\n\t<dt>Seeker of Security</dt>\n\t<dd>Someone who has demonstrated a high degree of expertise or authority when it comes to software security.</dd>\n\t<dt>Titan of the Test Harness</dt>\n\t<dd>Someone who demonstrates high-levels of understanding regarding Marked's test harness.</dd>\n\t<dt>Totally Tron</dt>\n\t<dd>Someone who demonstrates they are willing and able to \"fight for the users\", both developers dependent on marked to do their jobs as well as end-users interacting with the output (particularly in the realm of those with the disabilities).</dd>\n</dl>\n\n### Special badges that come with the job:\n\n<dl>\n\t<dt>Defibrillator</dt>\n\t<dd>A contributor who stepped up to help bring Marked back to life by contributing solutions to help Marked pass when compared against the CommonMark and GitHub Flavored Markdown specifications.</dd>\n\t<dt>Maker of the Marked mark</dt>\n\t<dd>This badge is given to the person or organization credited with creating the logo (or logotype) used in Marked communications for a given period of time. **Maker of the Marked mark from 2017 to present**, for example.</dd>\n\t<dt>Release Wrangler</dt>\n\t<dd>This is a badge given to all Publishers.</dd>\n\t<dt>Snyk's Security Saint</dt>\n\t<dd>This is a badge given to whomever primarily reaches out from Snyk to let us know about security issues.</dd>\n</dl>\n",
          "filepath": "data/repos/markedjs/marked-1.1/docs/AUTHORS.md",
          "repo": "markedjs/marked",
          "version": "1.1",
          "chunk_index": 0,
          "chunk_id": "81fa0d9c-3565-4f7e-ad06-01f04ba522b2"
        }
      },
      {
        "id": "7ba5e355-05f9-4195-b8e4-9a76e22750ff",
        "score": 0.016129032258064516,
        "payload": {
          "text": "---\npedantic: true\nheaderIds: false\n---\n\nMarkdown: Syntax\n================\n\n<ul id=\"ProjectSubmenu\">\n    <li><a href=\"/projects/markdown/\" title=\"Markdown Project Page\">Main</a></li>\n    <li><a href=\"/projects/markdown/basics\" title=\"Markdown Basics\">Basics</a></li>\n    <li><a class=\"selected\" title=\"Markdown Syntax Documentation\">Syntax</a></li>\n    <li><a href=\"/projects/markdown/license\" title=\"Pricing and License Information\">License</a></li>\n    <li><a href=\"/projects/markdown/dingus\" title=\"Online Markdown Web Form\">Dingus</a></li>\n</ul>\n\n\n*   [Overview](#overview)\n    *   [Philosophy](#philosophy)\n    *   [Inline HTML](#html)\n    *   [Automatic Escaping for Special Characters](#autoescape)\n*   [Block Elements](#block)\n    *   [Paragraphs and Line Breaks](#p)\n    *   [Headers](#header)\n    *   [Blockquotes](#blockquote)\n    *   [Lists](#list)\n    *   [Code Blocks](#precode)\n    *   [Horizontal Rules](#hr)\n*   [Span Elements](#span)\n    *   [Links](#link)\n    *   [Emphasis](#em)\n    *   [Code](#code)\n    *   [Images](#img)\n*   [Miscellaneous](#misc)\n    *   [Backslash Escapes](#backslash)\n    *   [Automatic Links](#autolink)\n\n\n**Note:** This document is itself written using Markdown; you\ncan [see the source for it by adding '.text' to the URL][src].\n\n  [src]: /projects/markdown/syntax.text\n\n* * *\n\n<h2 id=\"overview\">Overview</h2>\n\n<h3 id=\"philosophy\">Philosophy</h3>\n\nMarkdown is intended to be as easy-to-read and easy-to-write as is feasible.\n\nReadability, however, is emphasized above all else. A Markdown-formatted\ndocument should be publishable as-is, as plain text, without looking\nlike it's been marked up with tags or formatting instructions. While\nMarkdown's syntax has been influenced by several existing text-to-HTML\nfilters -- including [Setext] [1], [atx] [2], [Textile] [3], [reStructuredText] [4],\n[Grutatext] [5], and [EtText] [6] -- the single biggest source of\ninspiration for Markdown's syntax is the format of plain text email.\n\n  [1]: http://docutils.sourceforge.net/mirror/setext.html\n  [2]: http://www.aaronsw.com/2002/atx/\n  [3]: http://textism.com/tools/textile/\n  [4]: http://docutils.sourceforge.net/rst.html\n  [5]: http://www.triptico.com/software/grutatxt.html\n  [6]: http://ettext.taint.org/doc/\n\nTo this end, Markdown's syntax is comprised entirely of punctuation\ncharacters, which punctuation characters have been carefully chosen so\nas to look like what they mean. E.g., asterisks around a word actually\nlook like \\*emphasis\\*. Markdown lists look like, well, lists. Even\nblockquotes look like quoted passages of text, assuming you've ever\nused email.\n\n\n\n<h3 id=\"html\">Inline HTML</h3>\n\nMarkdown's syntax is intended for one purpose: to be used as a\nformat for *writing* for the web.\n\nMarkdown is not a replacement for HTML, or even close to it. Its\nsyntax is very small, corresponding only to a very small subset of\nHTML tags. The idea is *not* to create a syntax that makes it easier\nto insert HTML tags. In my opinion, HTML tags are already easy to\ninsert. The idea for Markdown is to make it easy to read, write, and\nedit prose. HTML is a *publishing* format; Markdown is a *writing*\nformat. Thus, Markdown's formatting syntax only addresses issues that\ncan be conveyed in plain text.\n\nFor any markup that is not covered by Markdown's syntax, you simply\nuse HTML itself. There's no need to preface it or delimit it to\nindicate that you're switching from Markdown to HTML; you just use\nthe tags.\n\nThe only restrictions are that block-level HTML elements -- e.g. `<div>`,\n`<table>`, `<pre>`, `<p>`, etc. -- must be separated from surrounding\ncontent by blank lines, and the start and end tags of the block should\nnot be indented with tabs or spaces. Markdown is smart enough not\nto add extra (unwanted) `<p>` tags around HTML block-level tags.\n\nFor example, to add an HTML table to a Markdown article:\n\n    This is a regular paragraph.\n\n    <table>\n        <tr>\n            <td>Foo</td>\n        </tr>\n    </table>\n\n    This is another regular paragraph.\n\nNote that Markdown formatting syntax is not processed within block-level\nHTML tags. E.g., you can't use Markdown-style `*emphasis*` inside an\nHTML block.\n\nSpan-level HTML tags -- e.g. `<span>`, `<cite>`, or `<del>` -- can be\nused anywhere in a Markdown paragraph, list item, or header. If you\nwant, you can even use HTML tags instead of Markdown formatting; e.g. if\nyou'd prefer to use HTML `<a>` or `<img>` tags instead of Markdown's\nlink or image syntax, go right ahead.\n\nUnlike block-level HTML tags, Markdown syntax *is* processed within\nspan-level tags.\n\n\n<h3 id=\"autoescape\">Automatic Escaping for Special Characters</h3>\n\nIn HTML, there are two characters that demand special treatment: `<`\nand `&`. Left angle brackets are used to start tags; ampersands are\nused to denote HTML entities. If you want to use them as literal\ncharacters, you must escape them as entities, e.g. `&lt;`, and\n`&amp;`.\n\nAmpersands in particular are bedeviling for web writers. If you want to\nwrite about 'AT&T', you need to write '`AT&amp;T`'. You even need to\nescape ampersands within URLs. Thus, if you want to link to:\n\n    http://images.google.com/images?num=30&q=larry+bird\n\nyou need to encode the URL as:\n\n    http://images.google.com/images?num=30&amp;q=larry+bird\n\nin your anchor tag `href` attribute. Needless to say, this is easy to\nforget, and is probably the single most common source of HTML validation\nerrors in otherwise well-marked-up web sites.\n\nMarkdown allows you to use these characters naturally, taking care of\nall the necessary escaping for you. If you use an ampersand as part of\nan HTML entity, it remains unchanged; otherwise it will be translated\ninto `&amp;`.\n\nSo, if you want to include a copyright symbol in your article, you can write:\n\n    &copy;\n\nand Markdown will leave it alone. But if you write:\n\n    AT&T\n\nMarkdown will translate it to:\n\n    AT&amp;T\n\nSimilarly, because Markdown supports [inline HTML](#html), if you use\nangle brackets as delimiters for HTML tags, Markdown will treat them as\nsuch. But if you write:\n\n    4 < 5\n\nMarkdown will translate it to:\n\n    4 &lt; 5\n\nHowever, inside Markdown code spans and blocks, angle brackets and\nampersands are *always* encoded automatically. This makes it easy to use\nMarkdown to write about HTML code. (As opposed to raw HTML, which is a\nterrible format for writing about HTML syntax, because every single `<`\nand `&` in your example code needs to be escaped.)\n\n\n* * *\n\n\n<h2 id=\"block\">Block Elements</h2>\n\n\n<h3 id=\"p\">Paragraphs and Line Breaks</h3>\n\nA paragraph is simply one or more consecutive lines of text, separated\nby one or more blank lines. (A blank line is any line that looks like a\nblank line -- a line containing nothing but spaces or tabs is considered\nblank.) Normal paragraphs should not be intended with spaces or tabs.\n\nThe implication of the \"one or more consecutive lines of text\" rule is\nthat Markdown supports \"hard-wrapped\" text paragraphs. This differs\nsignificantly from most other text-to-HTML formatters (including Movable\nType's \"Convert Line Breaks\" option) which translate every line break\ncharacter in a paragraph into a `<br />` tag.\n\nWhen you *do* want to insert a `<br />` break tag using Markdown, you\nend a line with two or more spaces, then type return.\n\nYes, this takes a tad more effort to create a `<br />`, but a simplistic\n\"every line break is a `<br />`\" rule wouldn't work for Markdown.\nMarkdown's email-style [blockquoting][bq] and multi-paragraph [list items][l]\nwork best -- and look better -- when you format them with hard breaks.\n\n  [bq]: #blockquote\n  [l]:  #list\n\n\n\n<h3 id=\"header\">Headers</h3>\n\nMarkdown supports two styles of headers, [Setext] [1] and [atx] [2].\n\nSetext-style headers are \"underlined\" using equal signs (for first-level\nheaders) and dashes (for second-level headers). For example:\n\n    This is an H1\n    =============\n\n    This is an H2\n    -------------\n\nAny number of underlining `=`'s or `-`'s will work.\n\nAtx-style headers use 1-6 hash characters at the start of the line,\ncorresponding to header levels 1-6. For example:\n\n    # This is an H1\n\n    ## This is an H2\n\n    ###### This is an H6\n\nOptionally, you may \"close\" atx-style headers. This is purely\ncosmetic -- you can use this if you think it looks better. The\nclosing hashes don't even need to match the number of hashes\nused to open the header. (The number of opening hashes\ndetermines the header level.) :\n\n    # This is an H1 #\n\n    ## This is an H2 ##\n\n    ### This is an H3 ######\n\n\n<h3 id=\"blockquote\">Blockquotes</h3>\n\nMarkdown uses email-style `>` characters for blockquoting. If you're\nfamiliar with quoting passages of text in an email message, then you\nknow how to create a blockquote in Markdown. It looks best if you hard\nwrap the text and put a `>` before every line:\n\n    > This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,\n    > consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.\n    > Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus.\n    >\n    > Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse\n    > id sem consectetuer libero luctus adipiscing.\n\nMarkdown allows you to be lazy and only put the `>` before the first\nline of a hard-wrapped paragraph:\n\n    > This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,\n    consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.\n    Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus.\n\n    > Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse\n    id sem consectetuer libero luctus adipiscing.\n\nBlockquotes can be nested (i.e. a blockquote-in-a-blockquote) by\nadding additional levels of `>`:\n\n    > This is the first level of quoting.\n    >\n    > > This is nested blockquote.\n    >\n    > Back to the first level.\n\nBlockquotes can contain other Markdown elements, including headers, lists,\nand code blocks:\n\n\t> ## This is a header.\n\t>\n\t> 1.   This is the first list item.\n\t> 2.   This is the second list item.\n\t>\n\t> Here's some example code:\n\t>\n\t>     return shell_exec(\"echo $input | $markdown_script\");\n\nAny decent text editor should make email-style quoting easy. For\nexample, with BBEdit, you can make a selection and choose Increase\nQuote Level from the Text menu.\n\n\n<h3 id=\"list\">Lists</h3>\n\nMarkdown supports ordered (numbered) and unordered (bulleted) lists.\n\nUnordered lists use asterisks, pluses, and hyphens -- interchangably\n-- as list markers:\n\n    *   Red\n    *   Green\n    *   Blue\n\nis equivalent to:\n\n    +   Red\n    +   Green\n    +   Blue\n\nand:\n\n    -   Red\n    -   Green\n    -   Blue\n\nOrdered lists use numbers followed by periods:\n\n    1.  Bird\n    2.  McHale\n    3.  Parish\n\nIt's important to note that the actual numbers you use to mark the\nlist have no effect on the HTML output Markdown produces. The HTML\nMarkdown produces from the above list is:\n\n    <ol>\n    <li>Bird</li>\n    <li>McHale</li>\n    <li>Parish</li>\n    </ol>\n\nIf you instead wrote the list in Markdown like this:\n\n    1.  Bird\n    1.  McHale\n    1.  Parish\n\nor even:\n\n    3. Bird\n    1. McHale\n    8. Parish\n\nyou'd get the exact same HTML output. The point is, if you want to,\nyou can use ordinal numbers in your ordered Markdown lists, so that\nthe numbers in your source match the numbers in your published HTML.\nBut if you want to be lazy, you don't have to.\n\nIf you do use lazy list numbering, however, you should still start the\nlist with the number 1. At some point in the future, Markdown may support\nstarting ordered lists at an arbitrary number.\n\nList markers typically start at the left margin, but may be indented by\nup to three spaces. List markers must be followed by one or more spaces\nor a tab.\n\nTo make lists look nice, you can wrap items with hanging indents:\n\n    *   Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\n        Aliquam hendrerit mi posuere lectus. Vestibulum enim wisi,\n        viverra nec, fringilla in, laoreet vitae, risus.\n    *   Donec sit amet nisl. Aliquam semper ipsum sit amet velit.\n        Suspendisse id sem consectetuer libero luctus adipiscing.\n\nBut if you want to be lazy, you don't have to:\n\n    *   Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\n    Aliquam hendrerit mi posuere lectus. Vestibulum enim wisi,\n    viverra nec, fringilla in, laoreet vitae, risus.\n    *   Donec sit amet nisl. Aliquam semper ipsum sit amet velit.\n    Suspendisse id sem consectetuer libero luctus adipiscing.\n\nIf list items are separated by blank lines, Markdown will wrap the\nitems in `<p>` tags in the HTML output. For example, this input:\n\n    *   Bird\n    *   Magic\n\nwill turn into:\n\n    <ul>\n    <li>Bird</li>\n    <li>Magic</li>\n    </ul>\n\nBut this:\n\n    *   Bird\n\n    *   Magic\n\nwill turn into:\n\n    <ul>\n    <li><p>Bird</p></li>\n    <li><p>Magic</p></li>\n    </ul>\n\nList items may consist of multiple paragraphs. Each subsequent\nparagraph in a list item must be intended by either 4 spaces\nor one tab:\n\n    1.  This is a list item with two paragraphs. Lorem ipsum dolor\n        sit amet, consectetuer adipiscing elit. Aliquam hendrerit\n        mi posuere lectus.\n\n        Vestibulum enim wisi, viverra nec, fringilla in, laoreet\n        vitae, risus. Donec sit amet nisl. Aliquam semper ipsum\n        sit amet velit.\n\n    2.  Suspendisse id sem consectetuer libero luctus adipiscing.\n\nIt looks nice if you indent every line of the subsequent\nparagraphs, but here again, Markdown will allow you to be\nlazy:\n\n    *   This is a list item with two paragraphs.\n\n        This is the second paragraph in the list item. You're\n    only required to indent the first line. Lorem ipsum dolor\n    sit amet, consectetuer adipiscing elit.\n\n    *   Another item in the same list.\n\nTo put a blockquote within a list item, the blockquote's `>`\ndelimiters need to be indented:\n\n    *   A list item with a blockquote:\n\n        > This is a blockquote\n        > inside a list item.\n\nTo put a code block within a list item, the code block needs\nto be indented *twice* -- 8 spaces or two tabs:\n\n    *   A list item with a code block:\n\n            <code goes here>\n\n\nIt's worth noting that it's possible to trigger an ordered list by\naccident, by writing something like this:\n\n    1986. What a great season.\n\nIn other words, a *number-period-space* sequence at the beginning of a\nline. To avoid this, you can backslash-escape the period:\n\n    1986\\. What a great season.\n\n\n\n<h3 id=\"precode\">Code Blocks</h3>\n\nPre-formatted code blocks are used for writing about programming or\nmarkup source code. Rather than forming normal paragraphs, the lines\nof a code block are interpreted literally. Markdown wraps a code block\nin both `<pre>` and `<code>` tags.\n\nTo produce a code block in Markdown, simply indent every line of the\nblock by at least 4 spaces or 1 tab. For example, given this input:\n\n    This is a normal paragraph:\n\n        This is a code block.\n\nMarkdown will generate:\n\n    <p>This is a normal paragraph:</p>\n\n    <pre><code>This is a code block.\n    </code></pre>\n\nOne level of indentation -- 4 spaces or 1 tab -- is removed from each\nline of the code block. For example, this:\n\n    Here is an example of AppleScript:\n\n        tell application \"Foo\"\n            beep\n        end tell\n\nwill turn into:\n\n    <p>Here is an example of AppleScript:</p>\n\n    <pre><code>tell application \"Foo\"\n        beep\n    end tell\n    </code></pre>\n\nA code block continues until it reaches a line that is not indented\n(or the end of the article).\n\nWithin a code block, ampersands (`&`) and angle brackets (`<` and `>`)\nare automatically converted into HTML entities. This makes it very\neasy to include example HTML source code using Markdown -- just paste\nit and indent it, and Markdown will handle the hassle of encoding the\nampersands and angle brackets. For example, this:\n\n        <div class=\"footer\">\n            &copy; 2004 Foo Corporation\n        </div>\n\nwill turn into:\n\n    <pre><code>&lt;div class=\"footer\"&gt;\n        &amp;copy; 2004 Foo Corporation\n    &lt;/div&gt;\n    </code></pre>\n\nRegular Markdown syntax is not processed within code blocks. E.g.,\nasterisks are just literal asterisks within a code block. This means\nit's also easy to use Markdown to write about Markdown's own syntax.\n\n\n\n<h3 id=\"hr\">Horizontal Rules</h3>\n\nYou can produce a horizontal rule tag (`<hr />`) by placing three or\nmore hyphens, asterisks, or underscores on a line by themselves. If you\nwish, you may use spaces between the hyphens or asterisks. Each of the\nfollowing lines will produce a horizontal rule:\n\n    * * *\n\n    ***\n\n    *****\n\n    - - -\n\n    ---------------------------------------\n\n\t_ _ _\n\n\n* * *\n\n<h2 id=\"span\">Span Elements</h2>\n\n<h3 id=\"link\">Links</h3>\n\nMarkdown supports two style of links: *inline* and *reference*.\n\nIn both styles, the link text is delimited by [square brackets].\n\nTo create an inline link, use a set of regular parentheses immediately\nafter the link text's closing square bracket. Inside the parentheses,\nput the URL where you want the link to point, along with an *optional*\ntitle for the link, surrounded in quotes. For example:\n\n    This is [an example](http://example.com/ \"Title\") inline link.\n\n    [This link](http://example.net/) has no title attribute.\n\nWill produce:\n\n    <p>This is <a href=\"http://example.com/\" title=\"Title\">\n    an example</a> inline link.</p>\n\n    <p><a href=\"http://example.net/\">This link</a> has no\n    title attribute.</p>\n\nIf you're referring to a local resource on the same server, you can\nuse relative paths:\n\n    See my [About](/about/) page for details.\n\nReference-style links use a second set of square brackets, inside\nwhich you place a label of your choosing to identify the link:\n\n    This is [an example][id] reference-style link.\n\nYou can optionally use a space to separate the sets of brackets:\n\n    This is [an example] [id] reference-style link.\n\nThen, anywhere in the document, you define your link label like this,\non a line by itself:\n\n    [id]: http://example.com/  \"Optional Title Here\"\n\nThat is:\n\n*   Square brackets containing the link identifier (optionally\n    indented from the left margin using up to three spaces);\n*   followed by a colon;\n*   followed by one or more spaces (or tabs);\n*   followed by the URL for the link;\n*   optionally followed by a title attribute for the link, enclosed\n    in double or single quotes.\n\nThe link URL may, optionally, be surrounded by angle brackets:\n\n    [id]: <http://example.com/>  \"Optional Title Here\"\n\nYou can put the title attribute on the next line and use extra spaces\nor tabs for padding, which tends to look better with longer URLs:\n\n    [id]: http://example.com/longish/path/to/resource/here\n        \"Optional Title Here\"\n\nLink definitions are only used for creating links during Markdown\nprocessing, and are stripped from your document in the HTML output.\n\nLink definition names may constist of letters, numbers, spaces, and punctuation -- but they are *not* case sensitive. E.g. these two links:\n\n\t[link text][a]\n\t[link text][A]\n\nare equivalent.\n\nThe *implicit link name* shortcut allows you to omit the name of the\nlink, in which case the link text itself is used as the name.\nJust use an empty set of square brackets -- e.g., to link the word\n\"Google\" to the google.com web site, you could simply write:\n\n\t[Google][]\n\nAnd then define the link:\n\n\t[Google]: http://google.com/\n\nBecause link names may contain spaces, this shortcut even works for\nmultiple words in the link text:\n\n\tVisit [Daring Fireball][] for more information.\n\nAnd then define the link:\n\n\t[Daring Fireball]: http://daringfireball.net/\n\nLink definitions can be placed anywhere in your Markdown document. I\ntend to put them immediately after each paragraph in which they're\nused, but if you want, you can put them all at the end of your\ndocument, sort of like footnotes.\n\nHere's an example of reference links in action:\n\n    I get 10 times more traffic from [Google] [1] than from\n    [Yahoo] [2] or [MSN] [3].\n\n      [1]: http://google.com/        \"Google\"\n      [2]: http://search.yahoo.com/  \"Yahoo Search\"\n      [3]: http://search.msn.com/    \"MSN Search\"\n\nUsing the implicit link name shortcut, you could instead write:\n\n    I get 10 times more traffic from [Google][] than from\n    [Yahoo][] or [MSN][].\n\n      [google]: http://google.com/        \"Google\"\n      [yahoo]:  http://search.yahoo.com/  \"Yahoo Search\"\n      [msn]:    http://search.msn.com/    \"MSN Search\"\n\nBoth of the above examples will produce the following HTML output:\n\n    <p>I get 10 times more traffic from <a href=\"http://google.com/\"\n    title=\"Google\">Google</a> than from\n    <a href=\"http://search.yahoo.com/\" title=\"Yahoo Search\">Yahoo</a>\n    or <a href=\"http://search.msn.com/\" title=\"MSN Search\">MSN</a>.</p>\n\nFor comparison, here is the same paragraph written using\nMarkdown's inline link style:\n\n    I get 10 times more traffic from [Google](http://google.com/ \"Google\")\n    than from [Yahoo](http://search.yahoo.com/ \"Yahoo Search\") or\n    [MSN](http://search.msn.com/ \"MSN Search\").\n\nThe point of reference-style links is not that they're easier to\nwrite. The point is that with reference-style links, your document\nsource is vastly more readable. Compare the above examples: using\nreference-style links, the paragraph itself is only 81 characters\nlong; with inline-style links, it's 176 characters; and as raw HTML,\nit's 234 characters. In the raw HTML, there's more markup than there\nis text.\n\nWith Markdown's reference-style links, a source document much more\nclosely resembles the final output, as rendered in a browser. By\nallowing you to move the markup-related metadata out of the paragraph,\nyou can add links without interrupting the narrative flow of your\nprose.\n\n\n<h3 id=\"em\">Emphasis</h3>\n\nMarkdown treats asterisks (`*`) and underscores (`_`) as indicators of\nemphasis. Text wrapped with one `*` or `_` will be wrapped with an\nHTML `<em>` tag; double `*`'s or `_`'s will be wrapped with an HTML\n`<strong>` tag. E.g., this input:\n\n    *single asterisks*\n\n    _single underscores_\n\n    **double asterisks**\n\n    __double underscores__\n\nwill produce:\n\n    <em>single asterisks</em>\n\n    <em>single underscores</em>\n\n    <strong>double asterisks</strong>\n\n    <strong>double underscores</strong>\n\nYou can use whichever style you prefer; the lone restriction is that\nthe same character must be used to open and close an emphasis span.\n\nEmphasis can be used in the middle of a word:\n\n    un*fucking*believable\n\nBut if you surround an `*` or `_` with spaces, it'll be treated as a\nliteral asterisk or underscore.\n\nTo produce a literal asterisk or underscore at a position where it\nwould otherwise be used as an emphasis delimiter, you can backslash\nescape it:\n\n    \\*this text is surrounded by literal asterisks\\*\n\n\n\n<h3 id=\"code\">Code</h3>\n\nTo indicate a span of code, wrap it with backtick quotes (`` ` ``).\nUnlike a pre-formatted code block, a code span indicates code within a\nnormal paragraph. For example:\n\n    Use the `printf()` function.\n\nwill produce:\n\n    <p>Use the <code>printf()</code> function.</p>\n\nTo include a literal backtick character within a code span, you can use\nmultiple backticks as the opening and closing delimiters:\n\n    ``There is a literal backtick (`) here.``\n\nwhich will produce this:\n\n    <p><code>There is a literal backtick (`) here.</code></p>\n\nThe backtick delimiters surrounding a code span may include spaces --\none after the opening, one before the closing. This allows you to place\nliteral backtick characters at the beginning or end of a code span:\n\n\tA single backtick in a code span: `` ` ``\n\n\tA backtick-delimited string in a code span: `` `foo` ``\n\nwill produce:\n\n\t<p>A single backtick in a code span: <code>`</code></p>\n\n\t<p>A backtick-delimited string in a code span: <code>`foo`</code></p>\n\nWith a code span, ampersands and angle brackets are encoded as HTML\nentities automatically, which makes it easy to include example HTML\ntags. Markdown will turn this:\n\n    Please don't use any `<blink>` tags.\n\ninto:\n\n    <p>Please don't use any <code>&lt;blink&gt;</code> tags.</p>\n\nYou can write this:\n\n    `&#8212;` is the decimal-encoded equivalent of `&mdash;`.\n\nto produce:\n\n    <p><code>&amp;#8212;</code> is the decimal-encoded\n    equivalent of <code>&amp;mdash;</code>.</p>\n\n\n\n<h3 id=\"img\">Images</h3>\n\nAdmittedly, it's fairly difficult to devise a \"natural\" syntax for\nplacing images into a plain text document format.\n\nMarkdown uses an image syntax that is intended to resemble the syntax\nfor links, allowing for two styles: *inline* and *reference*.\n\nInline image syntax looks like this:\n\n    ![Alt text](/path/to/img.jpg)\n\n    ![Alt text](/path/to/img.jpg \"Optional title\")\n\nThat is:\n\n*   An exclamation mark: `!`;\n*   followed by a set of square brackets, containing the `alt`\n    attribute text for the image;\n*   followed by a set of parentheses, containing the URL or path to\n    the image, and an optional `title` attribute enclosed in double\n    or single quotes.\n\nReference-style image syntax looks like this:\n\n    ![Alt text][id]\n\nWhere \"id\" is the name of a defined image reference. Image references\nare defined using syntax identical to link references:\n\n    [id]: url/to/image  \"Optional title attribute\"\n\nAs of this writing, Markdown has no syntax for specifying the\ndimensions of an image; if this is important to you, you can simply\nuse regular HTML `<img>` tags.\n\n\n* * *\n\n\n<h2 id=\"misc\">Miscellaneous</h2>\n\n<h3 id=\"autolink\">Automatic Links</h3>\n\nMarkdown supports a shortcut style for creating \"automatic\" links for URLs and email addresses: simply surround the URL or email address with angle brackets. What this means is that if you want to show the actual text of a URL or email address, and also have it be a clickable link, you can do this:\n\n    <http://example.com/>\n\nMarkdown will turn this into:\n\n    <a href=\"http://example.com/\">http://example.com/</a>\n\nAutomatic links for email addresses work similarly, except that\nMarkdown will also perform a bit of randomized decimal and hex\nentity-encoding to help obscure your address from address-harvesting\nspambots. For example, Markdown will turn this:\n\n    <address@example.com>\n\ninto something like this:\n\n    <a href=\"&#x6D;&#x61;i&#x6C;&#x74;&#x6F;:&#x61;&#x64;&#x64;&#x72;&#x65;\n    &#115;&#115;&#64;&#101;&#120;&#x61;&#109;&#x70;&#x6C;e&#x2E;&#99;&#111;\n    &#109;\">&#x61;&#x64;&#x64;&#x72;&#x65;&#115;&#115;&#64;&#101;&#120;&#x61;\n    &#109;&#x70;&#x6C;e&#x2E;&#99;&#111;&#109;</a>\n\nwhich will render in a browser as a clickable link to \"address@example.com\".\n\n(This sort of entity-encoding trick will indeed fool many, if not\nmost, address-harvesting bots, but it definitely won't fool all of\nthem. It's better than nothing, but an address published in this way\nwill probably eventually start receiving spam.)\n\n\n\n<h3 id=\"backslash\">Backslash Escapes</h3>\n\nMarkdown allows you to use backslash escapes to generate literal\ncharacters which would otherwise have special meaning in Markdown's\nformatting syntax. For example, if you wanted to surround a word with\nliteral asterisks (instead of an HTML `<em>` tag), you can backslashes\nbefore the asterisks, like this:\n\n    \\*literal asterisks\\*\n\nMarkdown provides backslash escapes for the following characters:\n\n    \\   backslash\n    `   backtick\n    *   asterisk\n    _   underscore\n    {}  curly braces\n    []  square brackets\n    ()  parentheses\n    #   hash mark\n\t+\tplus sign\n\t-\tminus sign (hyphen)\n    .   dot\n    !   exclamation mark\n",
          "filepath": "data/repos/markedjs/marked-1.1/test/specs/original/markdown_documentation_syntax.md",
          "repo": "markedjs/marked",
          "version": "1.1",
          "chunk_index": 0,
          "chunk_id": "7ba5e355-05f9-4195-b8e4-9a76e22750ff"
        }
      },
      {
        "id": "4f6789c3-ce96-49d7-8a6e-efda5570cac3",
        "score": 0.015873015873015872,
        "payload": {
          "text": "---\npedantic: true\n---\n\nMarkdown: Basics\n================\n\n<ul id=\"ProjectSubmenu\">\n    <li><a href=\"/projects/markdown/\" title=\"Markdown Project Page\">Main</a></li>\n    <li><a class=\"selected\" title=\"Markdown Basics\">Basics</a></li>\n    <li><a href=\"/projects/markdown/syntax\" title=\"Markdown Syntax Documentation\">Syntax</a></li>\n    <li><a href=\"/projects/markdown/license\" title=\"Pricing and License Information\">License</a></li>\n    <li><a href=\"/projects/markdown/dingus\" title=\"Online Markdown Web Form\">Dingus</a></li>\n</ul>\n\n\nGetting the Gist of Markdown's Formatting Syntax\n------------------------------------------------\n\nThis page offers a brief overview of what it's like to use Markdown.\nThe [syntax page] [s] provides complete, detailed documentation for\nevery feature, but Markdown should be very easy to pick up simply by\nlooking at a few examples of it in action. The examples on this page\nare written in a before/after style, showing example syntax and the\nHTML output produced by Markdown.\n\nIt's also helpful to simply try Markdown out; the [Dingus] [d] is a\nweb application that allows you type your own Markdown-formatted text\nand translate it to XHTML.\n\n**Note:** This document is itself written using Markdown; you\ncan [see the source for it by adding '.text' to the URL] [src].\n\n  [s]: /projects/markdown/syntax  \"Markdown Syntax\"\n  [d]: /projects/markdown/dingus  \"Markdown Dingus\"\n  [src]: /projects/markdown/basics.text\n\n\n## Paragraphs, Headers, Blockquotes ##\n\nA paragraph is simply one or more consecutive lines of text, separated\nby one or more blank lines. (A blank line is any line that looks like a\nblank line -- a line containing nothing spaces or tabs is considered\nblank.) Normal paragraphs should not be intended with spaces or tabs.\n\nMarkdown offers two styles of headers: *Setext* and *atx*.\nSetext-style headers for `<h1>` and `<h2>` are created by\n\"underlining\" with equal signs (`=`) and hyphens (`-`), respectively.\nTo create an atx-style header, you put 1-6 hash marks (`#`) at the\nbeginning of the line -- the number of hashes equals the resulting\nHTML header level.\n\nBlockquotes are indicated using email-style '`>`' angle brackets.\n\nMarkdown:\n\n    A First Level Header\n    ====================\n    \n    A Second Level Header\n    ---------------------\n\n    Now is the time for all good men to come to\n    the aid of their country. This is just a\n    regular paragraph.\n\n    The quick brown fox jumped over the lazy\n    dog's back.\n    \n    ### Header 3\n\n    > This is a blockquote.\n    > \n    > This is the second paragraph in the blockquote.\n    >\n    > ## This is an H2 in a blockquote\n\n\nOutput:\n\n    <h1>A First Level Header</h1>\n    \n    <h2>A Second Level Header</h2>\n    \n    <p>Now is the time for all good men to come to\n    the aid of their country. This is just a\n    regular paragraph.</p>\n    \n    <p>The quick brown fox jumped over the lazy\n    dog's back.</p>\n    \n    <h3>Header 3</h3>\n    \n    <blockquote>\n        <p>This is a blockquote.</p>\n        \n        <p>This is the second paragraph in the blockquote.</p>\n        \n        <h2>This is an H2 in a blockquote</h2>\n    </blockquote>\n\n\n\n### Phrase Emphasis ###\n\nMarkdown uses asterisks and underscores to indicate spans of emphasis.\n\nMarkdown:\n\n    Some of these words *are emphasized*.\n    Some of these words _are emphasized also_.\n    \n    Use two asterisks for **strong emphasis**.\n    Or, if you prefer, __use two underscores instead__.\n\nOutput:\n\n    <p>Some of these words <em>are emphasized</em>.\n    Some of these words <em>are emphasized also</em>.</p>\n    \n    <p>Use two asterisks for <strong>strong emphasis</strong>.\n    Or, if you prefer, <strong>use two underscores instead</strong>.</p>\n   \n\n\n## Lists ##\n\nUnordered (bulleted) lists use asterisks, pluses, and hyphens (`*`,\n`+`, and `-`) as list markers. These three markers are\ninterchangable; this:\n\n    *   Candy.\n    *   Gum.\n    *   Booze.\n\nthis:\n\n    +   Candy.\n    +   Gum.\n    +   Booze.\n\nand this:\n\n    -   Candy.\n    -   Gum.\n    -   Booze.\n\nall produce the same output:\n\n    <ul>\n    <li>Candy.</li>\n    <li>Gum.</li>\n    <li>Booze.</li>\n    </ul>\n\nOrdered (numbered) lists use regular numbers, followed by periods, as\nlist markers:\n\n    1.  Red\n    2.  Green\n    3.  Blue\n\nOutput:\n\n    <ol>\n    <li>Red</li>\n    <li>Green</li>\n    <li>Blue</li>\n    </ol>\n\nIf you put blank lines between items, you'll get `<p>` tags for the\nlist item text. You can create multi-paragraph list items by indenting\nthe paragraphs by 4 spaces or 1 tab:\n\n    *   A list item.\n    \n        With multiple paragraphs.\n\n    *   Another item in the list.\n\nOutput:\n\n    <ul>\n    <li><p>A list item.</p>\n    <p>With multiple paragraphs.</p></li>\n    <li><p>Another item in the list.</p></li>\n    </ul>\n    \n\n\n### Links ###\n\nMarkdown supports two styles for creating links: *inline* and\n*reference*. With both styles, you use square brackets to delimit the\ntext you want to turn into a link.\n\nInline-style links use parentheses immediately after the link text.\nFor example:\n\n    This is an [example link](http://example.com/).\n\nOutput:\n\n    <p>This is an <a href=\"http://example.com/\">\n    example link</a>.</p>\n\nOptionally, you may include a title attribute in the parentheses:\n\n    This is an [example link](http://example.com/ \"With a Title\").\n\nOutput:\n\n    <p>This is an <a href=\"http://example.com/\" title=\"With a Title\">\n    example link</a>.</p>\n\nReference-style links allow you to refer to your links by names, which\nyou define elsewhere in your document:\n\n    I get 10 times more traffic from [Google][1] than from\n    [Yahoo][2] or [MSN][3].\n\n    [1]: http://google.com/        \"Google\"\n    [2]: http://search.yahoo.com/  \"Yahoo Search\"\n    [3]: http://search.msn.com/    \"MSN Search\"\n\nOutput:\n\n    <p>I get 10 times more traffic from <a href=\"http://google.com/\"\n    title=\"Google\">Google</a> than from <a href=\"http://search.yahoo.com/\"\n    title=\"Yahoo Search\">Yahoo</a> or <a href=\"http://search.msn.com/\"\n    title=\"MSN Search\">MSN</a>.</p>\n\nThe title attribute is optional. Link names may contain letters,\nnumbers and spaces, but are *not* case sensitive:\n\n    I start my morning with a cup of coffee and\n    [The New York Times][NY Times].\n\n    [ny times]: http://www.nytimes.com/\n\nOutput:\n\n    <p>I start my morning with a cup of coffee and\n    <a href=\"http://www.nytimes.com/\">The New York Times</a>.</p>\n\n\n### Images ###\n\nImage syntax is very much like link syntax.\n\nInline (titles are optional):\n\n    ![alt text](/path/to/img.jpg \"Title\")\n\nReference-style:\n\n    ![alt text][id]\n\n    [id]: /path/to/img.jpg \"Title\"\n\nBoth of the above examples produce the same output:\n\n    <img src=\"/path/to/img.jpg\" alt=\"alt text\" title=\"Title\" />\n\n\n\n### Code ###\n\nIn a regular paragraph, you can create code span by wrapping text in\nbacktick quotes. Any ampersands (`&`) and angle brackets (`<` or\n`>`) will automatically be translated into HTML entities. This makes\nit easy to use Markdown to write about HTML example code:\n\n    I strongly recommend against using any `<blink>` tags.\n\n    I wish SmartyPants used named entities like `&mdash;`\n    instead of decimal-encoded entites like `&#8212;`.\n\nOutput:\n\n    <p>I strongly recommend against using any\n    <code>&lt;blink&gt;</code> tags.</p>\n    \n    <p>I wish SmartyPants used named entities like\n    <code>&amp;mdash;</code> instead of decimal-encoded\n    entites like <code>&amp;#8212;</code>.</p>\n\n\nTo specify an entire block of pre-formatted code, indent every line of\nthe block by 4 spaces or 1 tab. Just like with code spans, `&`, `<`,\nand `>` characters will be escaped automatically.\n\nMarkdown:\n\n    If you want your page to validate under XHTML 1.0 Strict,\n    you've got to put paragraph tags in your blockquotes:\n\n        <blockquote>\n            <p>For example.</p>\n        </blockquote>\n\nOutput:\n\n    <p>If you want your page to validate under XHTML 1.0 Strict,\n    you've got to put paragraph tags in your blockquotes:</p>\n    \n    <pre><code>&lt;blockquote&gt;\n        &lt;p&gt;For example.&lt;/p&gt;\n    &lt;/blockquote&gt;\n    </code></pre>\n",
          "filepath": "data/repos/markedjs/marked-1.1/test/specs/original/markdown_documentation_basics.md",
          "repo": "markedjs/marked",
          "version": "1.1",
          "chunk_index": 0,
          "chunk_id": "4f6789c3-ce96-49d7-8a6e-efda5570cac3"
        }
      },
      {
        "id": "508ac635-fb04-4a7d-9b87-8dd3593885b9",
        "score": 0.015625,
        "payload": {
          "text": "# Markdown is broken\n\nI have a lot of scraps of markdown engine oddities that I've collected over the\nyears. What you see below is slightly messy, but it's what I've managed to\ncobble together to illustrate the differences between markdown engines, and\nwhy, if there ever is a markdown specification, it has to be absolutely\nthorough. There are a lot more of these little differences I have documented\nelsewhere. I know I will find them lingering on my disk one day, but until\nthen, I'll continue to add whatever strange nonsensical things I find.\n\nSome of these examples may only mention a particular engine compared to marked.\nHowever, the examples with markdown.pl could easily be swapped out for\ndiscount, upskirt, or markdown.js, and you would very easily see even more\ninconsistencies.\n\nA lot of this was written when I was very unsatisfied with the inconsistencies\nbetween markdown engines. Please excuse the frustration noticeable in my\nwriting.\n\n## Examples of markdown's \"stupid\" list parsing\n\n```\n$ markdown.pl\n\n  * item1\n\n    * item2\n\n  text\n^D\n<ul>\n<li><p>item1</p>\n\n<ul>\n<li>item2</li>\n</ul>\n\n<p><p>text</p></li>\n</ul></p>\n```\n\n\n```\n$ marked\n  * item1\n\n    * item2\n\n  text\n^D\n<ul>\n<li><p>item1</p>\n<ul>\n<li>item2</li>\n</ul>\n<p>text</p>\n</li>\n</ul>\n```\n\nWhich looks correct to you?\n\n- - -\n\n```\n$ markdown.pl\n* hello\n  > world\n^D\n<p><ul>\n<li>hello</p>\n\n<blockquote>\n  <p>world</li>\n</ul></p>\n</blockquote>\n```\n\n```\n$ marked\n* hello\n  > world\n^D\n<ul>\n<li>hello<blockquote>\n<p>world</p>\n</blockquote>\n</li>\n</ul>\n```\n\nAgain, which looks correct to you?\n\n- - -\n\nEXAMPLE:\n\n```\n$ markdown.pl\n* hello\n  * world\n    * hi\n          code\n^D\n<ul>\n<li>hello\n<ul>\n<li>world</li>\n<li>hi\n  code</li>\n</ul></li>\n</ul>\n```\n\nThe code isn't a code block even though it's after the bullet margin. I know,\nlets give it two more spaces, effectively making it 8 spaces past the bullet.\n\n```\n$ markdown.pl\n* hello\n  * world\n    * hi\n            code\n^D\n<ul>\n<li>hello\n<ul>\n<li>world</li>\n<li>hi\n    code</li>\n</ul></li>\n</ul>\n```\n\nAnd, it's still not a code block. Did you also notice that the 3rd item isn't\neven its own list? Markdown screws that up too because of its indentation\nunaware parsing.\n\n- - -\n\nLet's look at some more examples of markdown's list parsing:\n\n```\n$ markdown.pl\n\n  * item1\n\n    * item2\n\n  text\n^D\n<ul>\n<li><p>item1</p>\n\n<ul>\n<li>item2</li>\n</ul>\n\n<p><p>text</p></li>\n</ul></p>\n```\n\nMisnested tags.\n\n\n```\n$ marked\n  * item1\n\n    * item2\n\n  text\n^D\n<ul>\n<li><p>item1</p>\n<ul>\n<li>item2</li>\n</ul>\n<p>text</p>\n</li>\n</ul>\n```\n\nWhich looks correct to you?\n\n- - -\n\n```\n$ markdown.pl\n* hello\n  > world\n^D\n<p><ul>\n<li>hello</p>\n\n<blockquote>\n  <p>world</li>\n</ul></p>\n</blockquote>\n```\n\nMore misnested tags.\n\n\n```\n$ marked\n* hello\n  > world\n^D\n<ul>\n<li>hello<blockquote>\n<p>world</p>\n</blockquote>\n</li>\n</ul>\n```\n\nAgain, which looks correct to you?\n\n- - -\n\n# Why quality matters - Part 2\n\n``` bash\n$ markdown.pl\n* hello\n  > world\n^D\n<p><ul>\n<li>hello</p>\n\n<blockquote>\n  <p>world</li>\n</ul></p>\n</blockquote>\n```\n\n``` bash\n$ sundown # upskirt\n* hello\n  > world\n^D\n<ul>\n<li>hello\n&gt; world</li>\n</ul>\n```\n\n``` bash\n$ marked\n* hello\n  > world\n^D\n<ul><li>hello <blockquote><p>world</p></blockquote></li></ul>\n```\n\nWhich looks correct to you?\n\n- - -\n\nSee: https://github.com/evilstreak/markdown-js/issues/23\n\n``` bash\n$ markdown.pl # upskirt/markdown.js/discount\n* hello\n      var a = 1;\n* world\n^D\n<ul>\n<li>hello\nvar a = 1;</li>\n<li>world</li>\n</ul>\n```\n\n``` bash\n$ marked\n* hello\n      var a = 1;\n* world\n^D\n<ul><li>hello\n<pre>code>var a = 1;</code></pre></li>\n<li>world</li></ul>\n```\n\nWhich looks more reasonable? Why shouldn't code blocks be able to appear in\nlist items in a sane way?\n\n- - -\n\n``` bash\n$ markdown.js\n<div>hello</div>\n\n<span>hello</span>\n^D\n<p>&lt;div&gt;hello&lt;/div&gt;</p>\n\n<p>&lt;span&gt;hello&lt;/span&gt;</p>\n```\n\n``` bash\n$ marked\n<div>hello</div>\n\n<span>hello</span>\n^D\n<div>hello</div>\n\n\n<p><span>hello</span>\n</p>\n```\n\n- - -\n\nSee: https://github.com/evilstreak/markdown-js/issues/27\n\n``` bash\n$ markdown.js\n[![an image](/image)](/link)\n^D\n<p><a href=\"/image)](/link\">![an image</a></p>\n```\n\n``` bash\n$ marked\n[![an image](/image)](/link)\n^D\n<p><a href=\"/link\"><img src=\"/image\" alt=\"an image\"></a>\n</p>\n```\n\n- - -\n\nSee: https://github.com/evilstreak/markdown-js/issues/24\n\n``` bash\n$ markdown.js\n> a\n\n> b\n\n> c\n^D\n<blockquote><p>a</p><p>bundefined&gt; c</p></blockquote>\n```\n\n``` bash\n$ marked\n> a\n\n> b\n\n> c\n^D\n<blockquote><p>a\n\n</p></blockquote>\n<blockquote><p>b\n\n</p></blockquote>\n<blockquote><p>c\n</p></blockquote>\n```\n\n- - -\n\n``` bash\n$ markdown.pl\n* hello\n  * world\n    how\n\n    are\n    you\n\n  * today\n* hi\n^D\n<ul>\n<li><p>hello</p>\n\n<ul>\n<li>world\nhow</li>\n</ul>\n\n<p>are\nyou</p>\n\n<ul>\n<li>today</li>\n</ul></li>\n<li>hi</li>\n</ul>\n```\n\n``` bash\n$ marked\n* hello\n  * world\n    how\n\n    are\n    you\n\n  * today\n* hi\n^D\n<ul>\n<li><p>hello</p>\n<ul>\n<li><p>world\nhow</p>\n<p>are\nyou</p>\n</li>\n<li><p>today</p>\n</li>\n</ul>\n</li>\n<li>hi</li>\n</ul>\n```\n",
          "filepath": "data/repos/markedjs/marked-1.1/docs/broken.md",
          "repo": "markedjs/marked",
          "version": "1.1",
          "chunk_index": 0,
          "chunk_id": "508ac635-fb04-4a7d-9b87-8dd3593885b9"
        }
      },
      {
        "id": "4fb12708-9b08-4f4b-8ef6-828616d85187",
        "score": 0.015384615384615385,
        "payload": {
          "text": "Markdown Quick Reference\n========================\n\nThis guide is a very brief overview, with examples, of the syntax that [Markdown] supports.  It is itself written in Markdown and you can copy the samples over to the left-hand pane for experimentation.  It's shown as *text* and not *rendered HTML*.\n\n[Markdown]: http://daringfireball.net/projects/markdown/\n\n\nSimple Text Formatting\n======================\n\nFirst thing is first.  You can use *stars* or _underscores_ for italics.  **Double stars** and __double underscores__ do bold.  ***Three together*** do ___both___.\n\nParagraphs are pretty easy too.  Just have a blank line between chunks of text.\n\n> This chunk of text is in a block quote.  Its multiple lines will all be\n> indended a bit from the rest of the text.\n>\n> > Multiple levels of block quotes also work.\n\nSometimes you want to include some code, such as when you are explaining how `<h1>` HTML tags work, or maybe you are a programmer and you are discussing `someMethod()`.\n\nIf you want to include some code and have\nnewlines preserved, indent the line with a tab\nor at least four spaces.\n    Extra spaces work here too.\nThis is also called preformatted text and it is useful for showing examples.\nThe text will stay as text, so any *markdown* or <u>HTML</u> you add will\nnot show up formatted.  This way you can show markdown examples in a\nmarkdown document.\n\n>     You can also use preformatted text with your blockquotes\n>     as long as you add at least five spaces.\n\n\nHeadings\n========\n\nThere are a couple of ways to make headings.  Using three or more equals signs on a line under a heading makes it into an \"h1\" style.  Three or more hyphens under a line makes it \"h2\" (slightly smaller).  You can also use multiple pound symbols before and after a heading.  Pounds after the title are ignored.  Here's some examples:\n\nThis is H1\n==========\n\nThis is H2\n----------\n\n# This is H1\n## This is H2\n### This is H3 with some extra pounds ###\n#### You get the idea ####\n##### I don't need extra pounds at the end\n###### H6 is the max\n\n\nLinks\n=====\n\nLet's link to a few sites.  First, let's use the bare URL, like <http://www.github.com>.  Great for text, but ugly for HTML.\nNext is an inline link to [Google](http://www.google.com).  A little nicer.\nThis is a reference-style link to [Wikipedia] [1].\nLastly, here's a pretty link to [Yahoo].  The reference-style and pretty links both automatically use the links defined below, but they could be defined *anywhere* in the markdown and are removed from the HTML.  The names are also case insensitive, so you can use [YaHoO] and have it link properly.\n\n[1]: http://www.wikipedia.org/\n[Yahoo]: http://www.yahoo.com/\n\nTitle attributes may be added to links by adding text after a link.\nThis is the [inline link](http://www.bing.com \"Bing\") with a \"Bing\" title.\nYou can also go to [W3C] [2] and maybe visit a [friend].\n\n[2]: http://w3c.org (The W3C puts out specs for web-based things)\n[Friend]: http://facebook.com/ \"Facebook!\"\n\nEmail addresses in plain text are not linked: test@example.com.\nEmail addresses wrapped in angle brackets are linked: <test@example.com>.\nThey are also obfuscated so that email harvesting spam robots hopefully won't get them.\n\n\nLists\n=====\n\n* This is a bulleted list\n* Great for shopping lists\n- You can also use hyphens\n+ Or plus symbols\n\nThe above is an \"unordered\" list.  Now, on for a bit of order.\n\n1. Numbered lists are also easy\n2. Just start with a number\n3738762. However, the actual number doesn't matter when converted to HTML.\n1.  This will still show up as 4.\n\nYou might want a few advanced lists:\n\n- This top-level list is wrapped in paragraph tags\n- This generates an extra space between each top-level item.\n\n- You do it by adding a blank line\n\n- This nested list also has blank lines between the list items.\n\n- How to create nested lists\n1.  Start your regular list\n2.  Indent nested lists with four spaces\n3.  Further nesting means you should indent with four more spaces\n    * This line is indented with eight spaces.\n\n- List items can be quite lengthy.  You can keep typing and either continue\nthem on the next line with no indentation.\n\n- Alternately, if that looks ugly, you can also\nindent the next line a bit for a prettier look.\n\n- You can put large blocks of text in your list by just indenting with four spaces.\n\nThis is formatted the same as code, but you can inspect the HTML\nand find that it's just wrapped in a `<p>` tag and *won't* be shown\nas preformatted text.\n\nYou can keep adding more and more paragraphs to a single\nlist item by adding the traditional blank line and then keep\non indenting the paragraphs with four spaces.  You really need\nto only indent the first line, but that looks ugly.\n\n- Lists support blockquotes\n\n> Just like this example here.  By the way, you can\n> nest lists inside blockquotes!\n> - Fantastic!\n\n- Lists support preformatted text\n\n    You just need to indent eight spaces.\n\n\nEven More\n=========\n\nHorizontal Rule\n---------------\n\nIf you need a horizontal rule you just need to put at least three hyphens, asterisks, or underscores on a line by themselves.  You can also even put spaces between the characters.\n\n---\n****************************\n_ _ _ _ _ _ _\n\nThose three all produced horizontal lines.  Keep in mind that three hyphens under any text turns that text into a heading, so add a blank like if you use hyphens.\n\nImages\n------\n\nImages work exactly like links, but they have exclamation points in front.  They work with references and titles too.\n\n![Google Logo](http://www.google.com/images/errors/logo_sm.gif) and ![Happy].\n\n[Happy]: http://www.wpclipart.com/smiley/simple_smiley/smiley_face_simple_green_small.png (\"Smiley face\")\n\n\nInline HTML\n-----------\n\nIf markdown is too limiting, you can just insert your own <strike>crazy</strike> HTML.  Span-level HTML <u>can *still* use markdown</u>.  Block level elements must be separated from text by a blank line and must not have any spaces before the opening and closing HTML.\n\n<div style='font-family: \"Comic Sans\", sans-serif;'>\nIt is a pity, but markdown does **not** work in here for most markdown parsers.  [Marked] handles it pretty well.\n</div>\n",
          "filepath": "data/repos/markedjs/marked-1.1/docs/demo/quickref.md",
          "repo": "markedjs/marked",
          "version": "1.1",
          "chunk_index": 0,
          "chunk_id": "4fb12708-9b08-4f4b-8ef6-828616d85187"
        }
      }
    ]
  },
  {
    "instance_id": "markedjs__marked-1936",
    "model_patch": "diff --git a/src/marked.js b/src/marked.js\n--- a/src/marked.js\n+++ b/src/marked.js\n@@ -1,5 +1,6 @@\n import { Lexer } from './Lexer.js';\n import { Parser } from './Parser.js';\n+import { Tokenizer } from './Tokenizer.js';\n import { Renderer } from './Renderer.js';\n import { TextRenderer } from './TextRenderer.js';\n import { Slugger } from './Slugger.js';\n@@ -10,6 +11,7 @@\n  * marked - a markdown parser\n  * Copyright (c) 2011-2021, Christopher Jeffrey. (MIT Licensed)\n  * https://github.com/markedjs/marked\n+ * Modified to handle space after list issue\n  */\n \n function createCommonjsModule(fn) {\n@@ -100,6 +102,7 @@\n     this.options = options || defaults;\n     this.tokens = [];\n     this.tokens.links = Object.create(null);\n+    this.spaceAfterList = false;\n \n     this.rules = {\n       block: block.normal,\n@@ -150,6 +153,7 @@\n     const cap = this.rules.block.newline.exec(src);\n     if (cap) {\n       if (cap[0].length > 1) {\n+        this.spaceAfterList = true;\n         return {\n           type: 'space',\n           raw: cap[0]\n@@ -200,6 +204,14 @@\n       return {\n         type: 'list',\n         raw,\n+        spaceAfterList: this.spaceAfterList,\n+        items: items.map(item => {\n+          if (this.spaceAfterList && item.type === 'list_item') {\n+            item.text = item.text.trimEnd();\n+          }\n+          return item;\n+        }),\n+        spaceAfterList: false,\n         ordered: isordered,\n         start: isordered ? +bull.slice(0, -1) : '',\n         loose: false,\n@@ -300,6 +312,10 @@\n     const cap = this.rules.block.paragraph.exec(src);\n     if (cap) {\n       const text = cap[1].charAt(cap[1].length - 1) === '\\n'\n+        ? cap[1].slice(0, -1)\n+        : cap[1];\n+      if (this.spaceAfterList) {\n+        text = ' ' + text;\n       }\n       return {\n         type: 'paragraph',",
    "model_name_or_path": "text_bm25",
    "metrics": {
      "issue_embedding_time_ms": 0.0,
      "retrieval_time_ms_bm25": 29.36,
      "retrieval_time_ms": 29.36,
      "total_retrieval_time_ms": 29.36,
      "generation_time_ms": 6943.79,
      "total_io_time_ms": 6973.15,
      "input_total_token_limit": null,
      "issue_text_tokens": 271,
      "vlm_tokens": 0,
      "retrieved_tokens": 20201,
      "prompt_template_tokens": 528,
      "total_input_prompt_tokens": 21000,
      "output_generated_tokens": 554,
      "total_io_tokens": 21554,
      "input_prompt_text": "[{\"type\": \"text\", \"text\": \"You will be provided with a partial code base and an issue statement explaining a problem to resolve.\\n<issue>\\nLexer: Space after list appears in last list_item\\nmarked 2.0.0\\r\\n\\r\\nSorry if it is not a bug, but a feature... \\r\\n\\r\\nIn a semantic tree (marked.lexer) an empty space between List and Paragraph appears in a last `list_item`. It looks unlogical. \\r\\n\\r\\nWhile traverse the tree, you should write additional code for exclude this empty space from `list_item`. And then write code to add space between List and Paragraph. \\r\\n\\r\\nExpected: Space node should be at the first level of the semantic tree, between the List and the next Paragraph  \\r\\n\\r\\nfor reproduce, please visit: \\r\\nhttps://codesandbox.io/s/markedjs-klt1h?file=/src/marked8lexer.js\\r\\n\\r\\n```javascript\\r\\nimport marked from \\\"marked\\\";\\r\\n\\r\\nconst markdownText = `This is paragraph \\r\\n\\r\\nthis is a list with 3 items: \\r\\n\\r\\n- item one \\r\\n- item two \\r\\n- item tree \\r\\n\\r\\nHere is another paragrah.`;\\r\\n\\r\\nconst lexerArray = marked.lexer(markdownText);\\r\\n\\r\\nconsole.log(lexerArray);\\r\\n```\\r\\n![Screenshot from 2021-02-15 19-40-18](https://user-images.githubusercontent.com/1222611/107973010-b8869400-6fc5-11eb-839b-ac9d66c0500d.png)\\r\\n\\r\\n\\n\\n</issue>\\n\\n<code>\\n[start of quickref.md]\\nMarkdown Quick Reference\\n========================\\n\\nThis guide is a very brief overview, with examples, of the syntax that [Markdown] supports. It is itself written in Markdown and you can copy the samples over to the left-hand pane for experimentation. It's shown as *text* and not *rendered HTML*.\\n\\n[Markdown]: http://daringfireball.net/projects/markdown/\\n\\n\\nSimple Text Formatting\\n======================\\n\\nFirst thing is first. You can use *stars* or _underscores_ for italics. **Double stars** and __double underscores__ for bold. ***Three together*** for ___both___.\\n\\nParagraphs are pretty easy too. Just have a blank line between chunks of text.\\n\\n> This chunk of text is in a block quote. Its multiple lines will all be\\n> indented a bit from the rest of the text.\\n>\\n> > Multiple levels of block quotes also work.\\n\\nSometimes you want to include code, such as when you are explaining how `<h1>` HTML tags work, or maybe you are a programmer and you are discussing `someMethod()`.\\n\\nIf you want to include code and have new\\nlines preserved, indent the line with a tab\\nor at least four spaces:\\n\\n    Extra spaces work here too.\\n    This is also called preformatted text and it is useful for showing examples.\\n    The text will stay as text, so any *markdown* or <u>HTML</u> you add will\\n    not show up formatted. This way you can show markdown examples in a\\n    markdown document.\\n\\n>     You can also use preformatted text with your blockquotes\\n>     as long as you add at least five spaces.\\n\\n\\nHeadings\\n========\\n\\nThere are a couple of ways to make headings. Using three or more equals signs on a line under a heading makes it into an \\\"h1\\\" style. Three or more hyphens under a line makes it \\\"h2\\\" (slightly smaller). You can also use multiple pound symbols (`#`) before and after a heading. Pounds after the title are ignored. Here are some examples:\\n\\nThis is H1\\n==========\\n\\nThis is H2\\n----------\\n\\n# This is H1\\n## This is H2\\n### This is H3 with some extra pounds ###\\n#### You get the idea ####\\n##### I don't need extra pounds at the end\\n###### H6 is the max\\n\\n\\nLinks\\n=====\\n\\nLet's link to a few sites. First, let's use the bare URL, like <https://www.github.com>. Great for text, but ugly for HTML.\\nNext is an inline link to [Google](https://www.google.com). A little nicer.\\nThis is a reference-style link to [Wikipedia] [1].\\nLastly, here's a pretty link to [Yahoo]. The reference-style and pretty links both automatically use the links defined below, but they could be defined *anywhere* in the markdown and are removed from the HTML. The names are also case insensitive, so you can use [YaHoO] and have it link properly.\\n\\n[1]: https://www.wikipedia.org\\n[Yahoo]: https://www.yahoo.com\\n\\nTitle attributes may be added to links by adding text after a link.\\nThis is the [inline link](https://www.bing.com \\\"Bing\\\") with a \\\"Bing\\\" title.\\nYou can also go to [W3C] [2] and maybe visit a [friend].\\n\\n[2]: https://w3c.org (The W3C puts out specs for web-based things)\\n[Friend]: https://facebook.com \\\"Facebook!\\\"\\n\\nEmail addresses in plain text are not linked: test@example.com.\\nEmail addresses wrapped in angle brackets are linked: <test@example.com>.\\nThey are also obfuscated so that email harvesting spam robots hopefully won't get them.\\n\\n\\nLists\\n=====\\n\\n* This is a bulleted list\\n* Great for shopping lists\\n- You can also use hyphens\\n+ Or plus symbols\\n\\nThe above is an \\\"unordered\\\" list. Now, on for a bit of order.\\n\\n1. Numbered lists are also easy\\n2. Just start with a number\\n3738762. However, the actual number doesn't matter when converted to HTML.\\n1. This will still show up as 4.\\n\\nYou might want a few advanced lists:\\n\\n- This top-level list is wrapped in paragraph tags\\n- This generates an extra space between each top-level item.\\n\\n- You do it by adding a blank line\\n\\n- This nested list also has blank lines between the list items.\\n\\n- How to create nested lists\\n  1. Start your regular list\\n  2. Indent nested lists with two spaces\\n  3. Further nesting means you should indent with two more spaces\\n    * This line is indented with four spaces.\\n\\n- List items can be quite lengthy. You can keep typing and either continue\\nthem on the next line with no indentation.\\n\\n- Alternately, if that looks ugly, you can also\\n  indent the next line a bit for a prettier look.\\n\\n- You can put large blocks of text in your list by just indenting with two spaces.\\n\\n  This is formatted the same as code, but you can inspect the HTML\\n  and find that it's just wrapped in a `<p>` tag and *won't* be shown\\n  as preformatted text.\\n\\n  You can keep adding more and more paragraphs to a single\\n  list item by adding the traditional blank line and then keep\\n  on indenting the paragraphs with two spaces.\\n\\n  You really only need to indent the first line,\\nbut that looks ugly.\\n\\n- Lists support blockquotes\\n\\n  > Just like this example here. By the way, you can\\n  > nest lists inside blockquotes!\\n  > - Fantastic!\\n\\n- Lists support preformatted text\\n\\n      You just need to indent an additional four spaces.\\n\\n\\nEven More\\n=========\\n\\nHorizontal Rule\\n---------------\\n\\nIf you need a horizontal rule you just need to put at least three hyphens, asterisks, or underscores on a line by themselves. You can also even put spaces between the characters.\\n\\n---\\n****************************\\n_ _ _ _ _ _ _\\n\\nThose three all produced horizontal lines. Keep in mind that three hyphens under any text turns that text into a heading, so add a blank like if you use hyphens.\\n\\nImages\\n------\\n\\nImages work exactly like links, but they have exclamation points in front. They work with references and titles too.\\n\\n![Google Logo](https://www.google.com/images/errors/logo_sm.gif) and ![Happy].\\n\\n[Happy]: https://wpclipart.com/smiley/happy/simple_colors/smiley_face_simple_green_small.png (\\\"Smiley face\\\")\\n\\n\\nInline HTML\\n-----------\\n\\nIf markdown is too limiting, you can just insert your own <strike>crazy</strike> HTML. Span-level HTML <u>can *still* use markdown</u>. Block level elements must be separated from text by a blank line and must not have any spaces before the opening and closing HTML.\\n\\n<div style='font-family: \\\"Comic Sans MS\\\", \\\"Comic Sans\\\", cursive;'>\\nIt is a pity, but markdown does **not** work in here for most markdown parsers.\\n[Marked] handles it pretty well.\\n</div>\\n\\n[end of quickref.md]\\n[start of markdown_documentation_syntax.md]\\n---\\npedantic: true\\nheaderIds: false\\n---\\n\\nMarkdown: Syntax\\n================\\n\\n<ul id=\\\"ProjectSubmenu\\\">\\n    <li><a href=\\\"/projects/markdown/\\\" title=\\\"Markdown Project Page\\\">Main</a></li>\\n    <li><a href=\\\"/projects/markdown/basics\\\" title=\\\"Markdown Basics\\\">Basics</a></li>\\n    <li><a class=\\\"selected\\\" title=\\\"Markdown Syntax Documentation\\\">Syntax</a></li>\\n    <li><a href=\\\"/projects/markdown/license\\\" title=\\\"Pricing and License Information\\\">License</a></li>\\n    <li><a href=\\\"/projects/markdown/dingus\\\" title=\\\"Online Markdown Web Form\\\">Dingus</a></li>\\n</ul>\\n\\n\\n*   [Overview](#overview)\\n    *   [Philosophy](#philosophy)\\n    *   [Inline HTML](#html)\\n    *   [Automatic Escaping for Special Characters](#autoescape)\\n*   [Block Elements](#block)\\n    *   [Paragraphs and Line Breaks](#p)\\n    *   [Headers](#header)\\n    *   [Blockquotes](#blockquote)\\n    *   [Lists](#list)\\n    *   [Code Blocks](#precode)\\n    *   [Horizontal Rules](#hr)\\n*   [Span Elements](#span)\\n    *   [Links](#link)\\n    *   [Emphasis](#em)\\n    *   [Code](#code)\\n    *   [Images](#img)\\n*   [Miscellaneous](#misc)\\n    *   [Backslash Escapes](#backslash)\\n    *   [Automatic Links](#autolink)\\n\\n\\n**Note:** This document is itself written using Markdown; you\\ncan [see the source for it by adding '.text' to the URL][src].\\n\\n  [src]: /projects/markdown/syntax.text\\n\\n* * *\\n\\n<h2 id=\\\"overview\\\">Overview</h2>\\n\\n<h3 id=\\\"philosophy\\\">Philosophy</h3>\\n\\nMarkdown is intended to be as easy-to-read and easy-to-write as is feasible.\\n\\nReadability, however, is emphasized above all else. A Markdown-formatted\\ndocument should be publishable as-is, as plain text, without looking\\nlike it's been marked up with tags or formatting instructions. While\\nMarkdown's syntax has been influenced by several existing text-to-HTML\\nfilters -- including [Setext] [1], [atx] [2], [Textile] [3], [reStructuredText] [4],\\n[Grutatext] [5], and [EtText] [6] -- the single biggest source of\\ninspiration for Markdown's syntax is the format of plain text email.\\n\\n  [1]: http://docutils.sourceforge.net/mirror/setext.html\\n  [2]: http://www.aaronsw.com/2002/atx/\\n  [3]: http://textism.com/tools/textile/\\n  [4]: http://docutils.sourceforge.net/rst.html\\n  [5]: http://www.triptico.com/software/grutatxt.html\\n  [6]: http://ettext.taint.org/doc/\\n\\nTo this end, Markdown's syntax is comprised entirely of punctuation\\ncharacters, which punctuation characters have been carefully chosen so\\nas to look like what they mean. E.g., asterisks around a word actually\\nlook like \\\\*emphasis\\\\*. Markdown lists look like, well, lists. Even\\nblockquotes look like quoted passages of text, assuming you've ever\\nused email.\\n\\n\\n\\n<h3 id=\\\"html\\\">Inline HTML</h3>\\n\\nMarkdown's syntax is intended for one purpose: to be used as a\\nformat for *writing* for the web.\\n\\nMarkdown is not a replacement for HTML, or even close to it. Its\\nsyntax is very small, corresponding only to a very small subset of\\nHTML tags. The idea is *not* to create a syntax that makes it easier\\nto insert HTML tags. In my opinion, HTML tags are already easy to\\ninsert. The idea for Markdown is to make it easy to read, write, and\\nedit prose. HTML is a *publishing* format; Markdown is a *writing*\\nformat. Thus, Markdown's formatting syntax only addresses issues that\\ncan be conveyed in plain text.\\n\\nFor any markup that is not covered by Markdown's syntax, you simply\\nuse HTML itself. There's no need to preface it or delimit it to\\nindicate that you're switching from Markdown to HTML; you just use\\nthe tags.\\n\\nThe only restrictions are that block-level HTML elements -- e.g. `<div>`,\\n`<table>`, `<pre>`, `<p>`, etc. -- must be separated from surrounding\\ncontent by blank lines, and the start and end tags of the block should\\nnot be indented with tabs or spaces. Markdown is smart enough not\\nto add extra (unwanted) `<p>` tags around HTML block-level tags.\\n\\nFor example, to add an HTML table to a Markdown article:\\n\\n    This is a regular paragraph.\\n\\n    <table>\\n        <tr>\\n            <td>Foo</td>\\n        </tr>\\n    </table>\\n\\n    This is another regular paragraph.\\n\\nNote that Markdown formatting syntax is not processed within block-level\\nHTML tags. E.g., you can't use Markdown-style `*emphasis*` inside an\\nHTML block.\\n\\nSpan-level HTML tags -- e.g. `<span>`, `<cite>`, or `<del>` -- can be\\nused anywhere in a Markdown paragraph, list item, or header. If you\\nwant, you can even use HTML tags instead of Markdown formatting; e.g. if\\nyou'd prefer to use HTML `<a>` or `<img>` tags instead of Markdown's\\nlink or image syntax, go right ahead.\\n\\nUnlike block-level HTML tags, Markdown syntax *is* processed within\\nspan-level tags.\\n\\n\\n<h3 id=\\\"autoescape\\\">Automatic Escaping for Special Characters</h3>\\n\\nIn HTML, there are two characters that demand special treatment: `<`\\nand `&`. Left angle brackets are used to start tags; ampersands are\\nused to denote HTML entities. If you want to use them as literal\\ncharacters, you must escape them as entities, e.g. `&lt;`, and\\n`&amp;`.\\n\\nAmpersands in particular are bedeviling for web writers. If you want to\\nwrite about 'AT&T', you need to write '`AT&amp;T`'. You even need to\\nescape ampersands within URLs. Thus, if you want to link to:\\n\\n    http://images.google.com/images?num=30&q=larry+bird\\n\\nyou need to encode the URL as:\\n\\n    http://images.google.com/images?num=30&amp;q=larry+bird\\n\\nin your anchor tag `href` attribute. Needless to say, this is easy to\\nforget, and is probably the single most common source of HTML validation\\nerrors in otherwise well-marked-up web sites.\\n\\nMarkdown allows you to use these characters naturally, taking care of\\nall the necessary escaping for you. If you use an ampersand as part of\\nan HTML entity, it remains unchanged; otherwise it will be translated\\ninto `&amp;`.\\n\\nSo, if you want to include a copyright symbol in your article, you can write:\\n\\n    &copy;\\n\\nand Markdown will leave it alone. But if you write:\\n\\n    AT&T\\n\\nMarkdown will translate it to:\\n\\n    AT&amp;T\\n\\nSimilarly, because Markdown supports [inline HTML](#html), if you use\\nangle brackets as delimiters for HTML tags, Markdown will treat them as\\nsuch. But if you write:\\n\\n    4 < 5\\n\\nMarkdown will translate it to:\\n\\n    4 &lt; 5\\n\\nHowever, inside Markdown code spans and blocks, angle brackets and\\nampersands are *always* encoded automatically. This makes it easy to use\\nMarkdown to write about HTML code. (As opposed to raw HTML, which is a\\nterrible format for writing about HTML syntax, because every single `<`\\nand `&` in your example code needs to be escaped.)\\n\\n\\n* * *\\n\\n\\n<h2 id=\\\"block\\\">Block Elements</h2>\\n\\n\\n<h3 id=\\\"p\\\">Paragraphs and Line Breaks</h3>\\n\\nA paragraph is simply one or more consecutive lines of text, separated\\nby one or more blank lines. (A blank line is any line that looks like a\\nblank line -- a line containing nothing but spaces or tabs is considered\\nblank.) Normal paragraphs should not be intended with spaces or tabs.\\n\\nThe implication of the \\\"one or more consecutive lines of text\\\" rule is\\nthat Markdown supports \\\"hard-wrapped\\\" text paragraphs. This differs\\nsignificantly from most other text-to-HTML formatters (including Movable\\nType's \\\"Convert Line Breaks\\\" option) which translate every line break\\ncharacter in a paragraph into a `<br />` tag.\\n\\nWhen you *do* want to insert a `<br />` break tag using Markdown, you\\nend a line with two or more spaces, then type return.\\n\\nYes, this takes a tad more effort to create a `<br />`, but a simplistic\\n\\\"every line break is a `<br />`\\\" rule wouldn't work for Markdown.\\nMarkdown's email-style [blockquoting][bq] and multi-paragraph [list items][l]\\nwork best -- and look better -- when you format them with hard breaks.\\n\\n  [bq]: #blockquote\\n  [l]:  #list\\n\\n\\n\\n<h3 id=\\\"header\\\">Headers</h3>\\n\\nMarkdown supports two styles of headers, [Setext] [1] and [atx] [2].\\n\\nSetext-style headers are \\\"underlined\\\" using equal signs (for first-level\\nheaders) and dashes (for second-level headers). For example:\\n\\n    This is an H1\\n    =============\\n\\n    This is an H2\\n    -------------\\n\\nAny number of underlining `=`'s or `-`'s will work.\\n\\nAtx-style headers use 1-6 hash characters at the start of the line,\\ncorresponding to header levels 1-6. For example:\\n\\n    # This is an H1\\n\\n    ## This is an H2\\n\\n    ###### This is an H6\\n\\nOptionally, you may \\\"close\\\" atx-style headers. This is purely\\ncosmetic -- you can use this if you think it looks better. The\\nclosing hashes don't even need to match the number of hashes\\nused to open the header. (The number of opening hashes\\ndetermines the header level.) :\\n\\n    # This is an H1 #\\n\\n    ## This is an H2 ##\\n\\n    ### This is an H3 ######\\n\\n\\n<h3 id=\\\"blockquote\\\">Blockquotes</h3>\\n\\nMarkdown uses email-style `>` characters for blockquoting. If you're\\nfamiliar with quoting passages of text in an email message, then you\\nknow how to create a blockquote in Markdown. It looks best if you hard\\nwrap the text and put a `>` before every line:\\n\\n    > This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,\\n    > consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.\\n    > Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus.\\n    >\\n    > Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse\\n    > id sem consectetuer libero luctus adipiscing.\\n\\nMarkdown allows you to be lazy and only put the `>` before the first\\nline of a hard-wrapped paragraph:\\n\\n    > This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,\\n    consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.\\n    Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus.\\n\\n    > Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse\\n    id sem consectetuer libero luctus adipiscing.\\n\\nBlockquotes can be nested (i.e. a blockquote-in-a-blockquote) by\\nadding additional levels of `>`:\\n\\n    > This is the first level of quoting.\\n    >\\n    > > This is nested blockquote.\\n    >\\n    > Back to the first level.\\n\\nBlockquotes can contain other Markdown elements, including headers, lists,\\nand code blocks:\\n\\n\\t> ## This is a header.\\n\\t>\\n\\t> 1.   This is the first list item.\\n\\t> 2.   This is the second list item.\\n\\t>\\n\\t> Here's some example code:\\n\\t>\\n\\t>     return shell_exec(\\\"echo $input | $markdown_script\\\");\\n\\nAny decent text editor should make email-style quoting easy. For\\nexample, with BBEdit, you can make a selection and choose Increase\\nQuote Level from the Text menu.\\n\\n\\n<h3 id=\\\"list\\\">Lists</h3>\\n\\nMarkdown supports ordered (numbered) and unordered (bulleted) lists.\\n\\nUnordered lists use asterisks, pluses, and hyphens -- interchangably\\n-- as list markers:\\n\\n    *   Red\\n    *   Green\\n    *   Blue\\n\\nis equivalent to:\\n\\n    +   Red\\n    +   Green\\n    +   Blue\\n\\nand:\\n\\n    -   Red\\n    -   Green\\n    -   Blue\\n\\nOrdered lists use numbers followed by periods:\\n\\n    1.  Bird\\n    2.  McHale\\n    3.  Parish\\n\\nIt's important to note that the actual numbers you use to mark the\\nlist have no effect on the HTML output Markdown produces. The HTML\\nMarkdown produces from the above list is:\\n\\n    <ol>\\n    <li>Bird</li>\\n    <li>McHale</li>\\n    <li>Parish</li>\\n    </ol>\\n\\nIf you instead wrote the list in Markdown like this:\\n\\n    1.  Bird\\n    1.  McHale\\n    1.  Parish\\n\\nor even:\\n\\n    3. Bird\\n    1. McHale\\n    8. Parish\\n\\nyou'd get the exact same HTML output. The point is, if you want to,\\nyou can use ordinal numbers in your ordered Markdown lists, so that\\nthe numbers in your source match the numbers in your published HTML.\\nBut if you want to be lazy, you don't have to.\\n\\nIf you do use lazy list numbering, however, you should still start the\\nlist with the number 1. At some point in the future, Markdown may support\\nstarting ordered lists at an arbitrary number.\\n\\nList markers typically start at the left margin, but may be indented by\\nup to three spaces. List markers must be followed by one or more spaces\\nor a tab.\\n\\nTo make lists look nice, you can wrap items with hanging indents:\\n\\n    *   Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\\n        Aliquam hendrerit mi posuere lectus. Vestibulum enim wisi,\\n        viverra nec, fringilla in, laoreet vitae, risus.\\n    *   Donec sit amet nisl. Aliquam semper ipsum sit amet velit.\\n        Suspendisse id sem consectetuer libero luctus adipiscing.\\n\\nBut if you want to be lazy, you don't have to:\\n\\n    *   Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\\n    Aliquam hendrerit mi posuere lectus. Vestibulum enim wisi,\\n    viverra nec, fringilla in, laoreet vitae, risus.\\n    *   Donec sit amet nisl. Aliquam semper ipsum sit amet velit.\\n    Suspendisse id sem consectetuer libero luctus adipiscing.\\n\\nIf list items are separated by blank lines, Markdown will wrap the\\nitems in `<p>` tags in the HTML output. For example, this input:\\n\\n    *   Bird\\n    *   Magic\\n\\nwill turn into:\\n\\n    <ul>\\n    <li>Bird</li>\\n    <li>Magic</li>\\n    </ul>\\n\\nBut this:\\n\\n    *   Bird\\n\\n    *   Magic\\n\\nwill turn into:\\n\\n    <ul>\\n    <li><p>Bird</p></li>\\n    <li><p>Magic</p></li>\\n    </ul>\\n\\nList items may consist of multiple paragraphs. Each subsequent\\nparagraph in a list item must be intended by either 4 spaces\\nor one tab:\\n\\n    1.  This is a list item with two paragraphs. Lorem ipsum dolor\\n        sit amet, consectetuer adipiscing elit. Aliquam hendrerit\\n        mi posuere lectus.\\n\\n        Vestibulum enim wisi, viverra nec, fringilla in, laoreet\\n        vitae, risus. Donec sit amet nisl. Aliquam semper ipsum\\n        sit amet velit.\\n\\n    2.  Suspendisse id sem consectetuer libero luctus adipiscing.\\n\\nIt looks nice if you indent every line of the subsequent\\nparagraphs, but here again, Markdown will allow you to be\\nlazy:\\n\\n    *   This is a list item with two paragraphs.\\n\\n        This is the second paragraph in the list item. You're\\n    only required to indent the first line. Lorem ipsum dolor\\n    sit amet, consectetuer adipiscing elit.\\n\\n    *   Another item in the same list.\\n\\nTo put a blockquote within a list item, the blockquote's `>`\\ndelimiters need to be indented:\\n\\n    *   A list item with a blockquote:\\n\\n        > This is a blockquote\\n        > inside a list item.\\n\\nTo put a code block within a list item, the code block needs\\nto be indented *twice* -- 8 spaces or two tabs:\\n\\n    *   A list item with a code block:\\n\\n            <code goes here>\\n\\n\\nIt's worth noting that it's possible to trigger an ordered list by\\naccident, by writing something like this:\\n\\n    1986. What a great season.\\n\\nIn other words, a *number-period-space* sequence at the beginning of a\\nline. To avoid this, you can backslash-escape the period:\\n\\n    1986\\\\. What a great season.\\n\\n\\n\\n<h3 id=\\\"precode\\\">Code Blocks</h3>\\n\\nPre-formatted code blocks are used for writing about programming or\\nmarkup source code. Rather than forming normal paragraphs, the lines\\nof a code block are interpreted literally. Markdown wraps a code block\\nin both `<pre>` and `<code>` tags.\\n\\nTo produce a code block in Markdown, simply indent every line of the\\nblock by at least 4 spaces or 1 tab. For example, given this input:\\n\\n    This is a normal paragraph:\\n\\n        This is a code block.\\n\\nMarkdown will generate:\\n\\n    <p>This is a normal paragraph:</p>\\n\\n    <pre><code>This is a code block.\\n    </code></pre>\\n\\nOne level of indentation -- 4 spaces or 1 tab -- is removed from each\\nline of the code block. For example, this:\\n\\n    Here is an example of AppleScript:\\n\\n        tell application \\\"Foo\\\"\\n            beep\\n        end tell\\n\\nwill turn into:\\n\\n    <p>Here is an example of AppleScript:</p>\\n\\n    <pre><code>tell application \\\"Foo\\\"\\n        beep\\n    end tell\\n    </code></pre>\\n\\nA code block continues until it reaches a line that is not indented\\n(or the end of the article).\\n\\nWithin a code block, ampersands (`&`) and angle brackets (`<` and `>`)\\nare automatically converted into HTML entities. This makes it very\\neasy to include example HTML source code using Markdown -- just paste\\nit and indent it, and Markdown will handle the hassle of encoding the\\nampersands and angle brackets. For example, this:\\n\\n        <div class=\\\"footer\\\">\\n            &copy; 2004 Foo Corporation\\n        </div>\\n\\nwill turn into:\\n\\n    <pre><code>&lt;div class=\\\"footer\\\"&gt;\\n        &amp;copy; 2004 Foo Corporation\\n    &lt;/div&gt;\\n    </code></pre>\\n\\nRegular Markdown syntax is not processed within code blocks. E.g.,\\nasterisks are just literal asterisks within a code block. This means\\nit's also easy to use Markdown to write about Markdown's own syntax.\\n\\n\\n\\n<h3 id=\\\"hr\\\">Horizontal Rules</h3>\\n\\nYou can produce a horizontal rule tag (`<hr />`) by placing three or\\nmore hyphens, asterisks, or underscores on a line by themselves. If you\\nwish, you may use spaces between the hyphens or asterisks. Each of the\\nfollowing lines will produce a horizontal rule:\\n\\n    * * *\\n\\n    ***\\n\\n    *****\\n\\n    - - -\\n\\n    ---------------------------------------\\n\\n\\t_ _ _\\n\\n\\n* * *\\n\\n<h2 id=\\\"span\\\">Span Elements</h2>\\n\\n<h3 id=\\\"link\\\">Links</h3>\\n\\nMarkdown supports two style of links: *inline* and *reference*.\\n\\nIn both styles, the link text is delimited by [square brackets].\\n\\nTo create an inline link, use a set of regular parentheses immediately\\nafter the link text's closing square bracket. Inside the parentheses,\\nput the URL where you want the link to point, along with an *optional*\\ntitle for the link, surrounded in quotes. For example:\\n\\n    This is [an example](http://example.com/ \\\"Title\\\") inline link.\\n\\n    [This link](http://example.net/) has no title attribute.\\n\\nWill produce:\\n\\n    <p>This is <a href=\\\"http://example.com/\\\" title=\\\"Title\\\">\\n    an example</a> inline link.</p>\\n\\n    <p><a href=\\\"http://example.net/\\\">This link</a> has no\\n    title attribute.</p>\\n\\nIf you're referring to a local resource on the same server, you can\\nuse relative paths:\\n\\n    See my [About](/about/) page for details.\\n\\nReference-style links use a second set of square brackets, inside\\nwhich you place a label of your choosing to identify the link:\\n\\n    This is [an example][id] reference-style link.\\n\\nYou can optionally use a space to separate the sets of brackets:\\n\\n    This is [an example] [id] reference-style link.\\n\\nThen, anywhere in the document, you define your link label like this,\\non a line by itself:\\n\\n    [id]: http://example.com/  \\\"Optional Title Here\\\"\\n\\nThat is:\\n\\n*   Square brackets containing the link identifier (optionally\\n    indented from the left margin using up to three spaces);\\n*   followed by a colon;\\n*   followed by one or more spaces (or tabs);\\n*   followed by the URL for the link;\\n*   optionally followed by a title attribute for the link, enclosed\\n    in double or single quotes.\\n\\nThe link URL may, optionally, be surrounded by angle brackets:\\n\\n    [id]: <http://example.com/>  \\\"Optional Title Here\\\"\\n\\nYou can put the title attribute on the next line and use extra spaces\\nor tabs for padding, which tends to look better with longer URLs:\\n\\n    [id]: http://example.com/longish/path/to/resource/here\\n        \\\"Optional Title Here\\\"\\n\\nLink definitions are only used for creating links during Markdown\\nprocessing, and are stripped from your document in the HTML output.\\n\\nLink definition names may constist of letters, numbers, spaces, and punctuation -- but they are *not* case sensitive. E.g. these two links:\\n\\n\\t[link text][a]\\n\\t[link text][A]\\n\\nare equivalent.\\n\\nThe *implicit link name* shortcut allows you to omit the name of the\\nlink, in which case the link text itself is used as the name.\\nJust use an empty set of square brackets -- e.g., to link the word\\n\\\"Google\\\" to the google.com web site, you could simply write:\\n\\n\\t[Google][]\\n\\nAnd then define the link:\\n\\n\\t[Google]: http://google.com/\\n\\nBecause link names may contain spaces, this shortcut even works for\\nmultiple words in the link text:\\n\\n\\tVisit [Daring Fireball][] for more information.\\n\\nAnd then define the link:\\n\\n\\t[Daring Fireball]: http://daringfireball.net/\\n\\nLink definitions can be placed anywhere in your Markdown document. I\\ntend to put them immediately after each paragraph in which they're\\nused, but if you want, you can put them all at the end of your\\ndocument, sort of like footnotes.\\n\\nHere's an example of reference links in action:\\n\\n    I get 10 times more traffic from [Google] [1] than from\\n    [Yahoo] [2] or [MSN] [3].\\n\\n      [1]: http://google.com/        \\\"Google\\\"\\n      [2]: http://search.yahoo.com/  \\\"Yahoo Search\\\"\\n      [3]: http://search.msn.com/    \\\"MSN Search\\\"\\n\\nUsing the implicit link name shortcut, you could instead write:\\n\\n    I get 10 times more traffic from [Google][] than from\\n    [Yahoo][] or [MSN][].\\n\\n      [google]: http://google.com/        \\\"Google\\\"\\n      [yahoo]:  http://search.yahoo.com/  \\\"Yahoo Search\\\"\\n      [msn]:    http://search.msn.com/    \\\"MSN Search\\\"\\n\\nBoth of the above examples will produce the following HTML output:\\n\\n    <p>I get 10 times more traffic from <a href=\\\"http://google.com/\\\"\\n    title=\\\"Google\\\">Google</a> than from\\n    <a href=\\\"http://search.yahoo.com/\\\" title=\\\"Yahoo Search\\\">Yahoo</a>\\n    or <a href=\\\"http://search.msn.com/\\\" title=\\\"MSN Search\\\">MSN</a>.</p>\\n\\nFor comparison, here is the same paragraph written using\\nMarkdown's inline link style:\\n\\n    I get 10 times more traffic from [Google](http://google.com/ \\\"Google\\\")\\n    than from [Yahoo](http://search.yahoo.com/ \\\"Yahoo Search\\\") or\\n    [MSN](http://search.msn.com/ \\\"MSN Search\\\").\\n\\nThe point of reference-style links is not that they're easier to\\nwrite. The point is that with reference-style links, your document\\nsource is vastly more readable. Compare the above examples: using\\nreference-style links, the paragraph itself is only 81 characters\\nlong; with inline-style links, it's 176 characters; and as raw HTML,\\nit's 234 characters. In the raw HTML, there's more markup than there\\nis text.\\n\\nWith Markdown's reference-style links, a source document much more\\nclosely resembles the final output, as rendered in a browser. By\\nallowing you to move the markup-related metadata out of the paragraph,\\nyou can add links without interrupting the narrative flow of your\\nprose.\\n\\n\\n<h3 id=\\\"em\\\">Emphasis</h3>\\n\\nMarkdown treats asterisks (`*`) and underscores (`_`) as indicators of\\nemphasis. Text wrapped with one `*` or `_` will be wrapped with an\\nHTML `<em>` tag; double `*`'s or `_`'s will be wrapped with an HTML\\n`<strong>` tag. E.g., this input:\\n\\n    *single asterisks*\\n\\n    _single underscores_\\n\\n    **double asterisks**\\n\\n    __double underscores__\\n\\nwill produce:\\n\\n    <em>single asterisks</em>\\n\\n    <em>single underscores</em>\\n\\n    <strong>double asterisks</strong>\\n\\n    <strong>double underscores</strong>\\n\\nYou can use whichever style you prefer; the lone restriction is that\\nthe same character must be used to open and close an emphasis span.\\n\\nEmphasis can be used in the middle of a word:\\n\\n    un*fucking*believable\\n\\nBut if you surround an `*` or `_` with spaces, it'll be treated as a\\nliteral asterisk or underscore.\\n\\nTo produce a literal asterisk or underscore at a position where it\\nwould otherwise be used as an emphasis delimiter, you can backslash\\nescape it:\\n\\n    \\\\*this text is surrounded by literal asterisks\\\\*\\n\\n\\n\\n<h3 id=\\\"code\\\">Code</h3>\\n\\nTo indicate a span of code, wrap it with backtick quotes (`` ` ``).\\nUnlike a pre-formatted code block, a code span indicates code within a\\nnormal paragraph. For example:\\n\\n    Use the `printf()` function.\\n\\nwill produce:\\n\\n    <p>Use the <code>printf()</code> function.</p>\\n\\nTo include a literal backtick character within a code span, you can use\\nmultiple backticks as the opening and closing delimiters:\\n\\n    ``There is a literal backtick (`) here.``\\n\\nwhich will produce this:\\n\\n    <p><code>There is a literal backtick (`) here.</code></p>\\n\\nThe backtick delimiters surrounding a code span may include spaces --\\none after the opening, one before the closing. This allows you to place\\nliteral backtick characters at the beginning or end of a code span:\\n\\n\\tA single backtick in a code span: `` ` ``\\n\\n\\tA backtick-delimited string in a code span: `` `foo` ``\\n\\nwill produce:\\n\\n\\t<p>A single backtick in a code span: <code>`</code></p>\\n\\n\\t<p>A backtick-delimited string in a code span: <code>`foo`</code></p>\\n\\nWith a code span, ampersands and angle brackets are encoded as HTML\\nentities automatically, which makes it easy to include example HTML\\ntags. Markdown will turn this:\\n\\n    Please don't use any `<blink>` tags.\\n\\ninto:\\n\\n    <p>Please don't use any <code>&lt;blink&gt;</code> tags.</p>\\n\\nYou can write this:\\n\\n    `&#8212;` is the decimal-encoded equivalent of `&mdash;`.\\n\\nto produce:\\n\\n    <p><code>&amp;#8212;</code> is the decimal-encoded\\n    equivalent of <code>&amp;mdash;</code>.</p>\\n\\n\\n\\n<h3 id=\\\"img\\\">Images</h3>\\n\\nAdmittedly, it's fairly difficult to devise a \\\"natural\\\" syntax for\\nplacing images into a plain text document format.\\n\\nMarkdown uses an image syntax that is intended to resemble the syntax\\nfor links, allowing for two styles: *inline* and *reference*.\\n\\nInline image syntax looks like this:\\n\\n    ![Alt text](/path/to/img.jpg)\\n\\n    ![Alt text](/path/to/img.jpg \\\"Optional title\\\")\\n\\nThat is:\\n\\n*   An exclamation mark: `!`;\\n*   followed by a set of square brackets, containing the `alt`\\n    attribute text for the image;\\n*   followed by a set of parentheses, containing the URL or path to\\n    the image, and an optional `title` attribute enclosed in double\\n    or single quotes.\\n\\nReference-style image syntax looks like this:\\n\\n    ![Alt text][id]\\n\\nWhere \\\"id\\\" is the name of a defined image reference. Image references\\nare defined using syntax identical to link references:\\n\\n    [id]: url/to/image  \\\"Optional title attribute\\\"\\n\\nAs of this writing, Markdown has no syntax for specifying the\\ndimensions of an image; if this is important to you, you can simply\\nuse regular HTML `<img>` tags.\\n\\n\\n* * *\\n\\n\\n<h2 id=\\\"misc\\\">Miscellaneous</h2>\\n\\n<h3 id=\\\"autolink\\\">Automatic Links</h3>\\n\\nMarkdown supports a shortcut style for creating \\\"automatic\\\" links for URLs and email addresses: simply surround the URL or email address with angle brackets. What this means is that if you want to show the actual text of a URL or email address, and also have it be a clickable link, you can do this:\\n\\n    <http://example.com/>\\n\\nMarkdown will turn this into:\\n\\n    <a href=\\\"http://example.com/\\\">http://example.com/</a>\\n\\nAutomatic links for email addresses work similarly, except that\\nMarkdown will also perform a bit of randomized decimal and hex\\nentity-encoding to help obscure your address from address-harvesting\\nspambots. For example, Markdown will turn this:\\n\\n    <address@example.com>\\n\\ninto something like this:\\n\\n    <a href=\\\"&#x6D;&#x61;i&#x6C;&#x74;&#x6F;:&#x61;&#x64;&#x64;&#x72;&#x65;\\n    &#115;&#115;&#64;&#101;&#120;&#x61;&#109;&#x70;&#x6C;e&#x2E;&#99;&#111;\\n    &#109;\\\">&#x61;&#x64;&#x64;&#x72;&#x65;&#115;&#115;&#64;&#101;&#120;&#x61;\\n    &#109;&#x70;&#x6C;e&#x2E;&#99;&#111;&#109;</a>\\n\\nwhich will render in a browser as a clickable link to \\\"address@example.com\\\".\\n\\n(This sort of entity-encoding trick will indeed fool many, if not\\nmost, address-harvesting bots, but it definitely won't fool all of\\nthem. It's better than nothing, but an address published in this way\\nwill probably eventually start receiving spam.)\\n\\n\\n\\n<h3 id=\\\"backslash\\\">Backslash Escapes</h3>\\n\\nMarkdown allows you to use backslash escapes to generate literal\\ncharacters which would otherwise have special meaning in Markdown's\\nformatting syntax. For example, if you wanted to surround a word with\\nliteral asterisks (instead of an HTML `<em>` tag), you can backslashes\\nbefore the asterisks, like this:\\n\\n    \\\\*literal asterisks\\\\*\\n\\nMarkdown provides backslash escapes for the following characters:\\n\\n    \\\\   backslash\\n    `   backtick\\n    *   asterisk\\n    _   underscore\\n    {}  curly braces\\n    []  square brackets\\n    ()  parentheses\\n    #   hash mark\\n\\t+\\tplus sign\\n\\t-\\tminus sign (hyphen)\\n    .   dot\\n    !   exclamation mark\\n\\n[end of markdown_documentation_syntax.md]\\n[start of marked.esm.js]\\n/**\\n * marked - a markdown parser\\n * Copyright (c) 2011-2021, Christopher Jeffrey. (MIT Licensed)\\n * https://github.com/markedjs/marked\\n */\\n\\n/**\\n * DO NOT EDIT THIS FILE\\n * The code in this file is generated from files in ./src/\\n */\\n\\nfunction createCommonjsModule(fn) {\\n  var module = { exports: {} };\\n\\treturn fn(module, module.exports), module.exports;\\n}\\n\\nvar defaults = createCommonjsModule(function (module) {\\nfunction getDefaults() {\\n  return {\\n    baseUrl: null,\\n    breaks: false,\\n    gfm: true,\\n    headerIds: true,\\n    headerPrefix: '',\\n    highlight: null,\\n    langPrefix: 'language-',\\n    mangle: true,\\n    pedantic: false,\\n    renderer: null,\\n    sanitize: false,\\n    sanitizer: null,\\n    silent: false,\\n    smartLists: false,\\n    smartypants: false,\\n    tokenizer: null,\\n    walkTokens: null,\\n    xhtml: false\\n  };\\n}\\n\\nfunction changeDefaults(newDefaults) {\\n  module.exports.defaults = newDefaults;\\n}\\n\\nmodule.exports = {\\n  defaults: getDefaults(),\\n  getDefaults,\\n  changeDefaults\\n};\\n});\\n\\n/**\\n * Helpers\\n */\\nconst escapeTest = /[&<>\\\"']/;\\nconst escapeReplace = /[&<>\\\"']/g;\\nconst escapeTestNoEncode = /[<>\\\"']|&(?!#?\\\\w+;)/;\\nconst escapeReplaceNoEncode = /[<>\\\"']|&(?!#?\\\\w+;)/g;\\nconst escapeReplacements = {\\n  '&': '&amp;',\\n  '<': '&lt;',\\n  '>': '&gt;',\\n  '\\\"': '&quot;',\\n  \\\"'\\\": '&#39;'\\n};\\nconst getEscapeReplacement = (ch) => escapeReplacements[ch];\\nfunction escape(html, encode) {\\n  if (encode) {\\n    if (escapeTest.test(html)) {\\n      return html.replace(escapeReplace, getEscapeReplacement);\\n    }\\n  } else {\\n    if (escapeTestNoEncode.test(html)) {\\n      return html.replace(escapeReplaceNoEncode, getEscapeReplacement);\\n    }\\n  }\\n\\n  return html;\\n}\\n\\nconst unescapeTest = /&(#(?:\\\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\\\w+));?/ig;\\n\\nfunction unescape(html) {\\n  // explicitly match decimal, hex, and named HTML entities\\n  return html.replace(unescapeTest, (_, n) => {\\n    n = n.toLowerCase();\\n    if (n === 'colon') return ':';\\n    if (n.charAt(0) === '#') {\\n      return n.charAt(1) === 'x'\\n        ? String.fromCharCode(parseInt(n.substring(2), 16))\\n        : String.fromCharCode(+n.substring(1));\\n    }\\n    return '';\\n  });\\n}\\n\\nconst caret = /(^|[^\\\\[])\\\\^/g;\\nfunction edit(regex, opt) {\\n  regex = regex.source || regex;\\n  opt = opt || '';\\n  const obj = {\\n    replace: (name, val) => {\\n      val = val.source || val;\\n      val = val.replace(caret, '$1');\\n      regex = regex.replace(name, val);\\n      return obj;\\n    },\\n    getRegex: () => {\\n      return new RegExp(regex, opt);\\n    }\\n  };\\n  return obj;\\n}\\n\\nconst nonWordAndColonTest = /[^\\\\w:]/g;\\nconst originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\\nfunction cleanUrl(sanitize, base, href) {\\n  if (sanitize) {\\n    let prot;\\n    try {\\n      prot = decodeURIComponent(unescape(href))\\n        .replace(nonWordAndColonTest, '')\\n        .toLowerCase();\\n    } catch (e) {\\n      return null;\\n    }\\n    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\\n      return null;\\n    }\\n  }\\n  if (base && !originIndependentUrl.test(href)) {\\n    href = resolveUrl(base, href);\\n  }\\n  try {\\n    href = encodeURI(href).replace(/%25/g, '%');\\n  } catch (e) {\\n    return null;\\n  }\\n  return href;\\n}\\n\\nconst baseUrls = {};\\nconst justDomain = /^[^:]+:\\\\/*[^/]*$/;\\nconst protocol = /^([^:]+:)[\\\\s\\\\S]*$/;\\nconst domain = /^([^:]+:\\\\/*[^/]*)[\\\\s\\\\S]*$/;\\n\\nfunction resolveUrl(base, href) {\\n  if (!baseUrls[' ' + base]) {\\n    // we can ignore everything in base after the last slash of its path component,\\n    // but we might need to add _that_\\n    // https://tools.ietf.org/html/rfc3986#section-3\\n    if (justDomain.test(base)) {\\n      baseUrls[' ' + base] = base + '/';\\n    } else {\\n      baseUrls[' ' + base] = rtrim(base, '/', true);\\n    }\\n  }\\n  base = baseUrls[' ' + base];\\n  const relativeBase = base.indexOf(':') === -1;\\n\\n  if (href.substring(0, 2) === '//') {\\n    if (relativeBase) {\\n      return href;\\n    }\\n    return base.replace(protocol, '$1') + href;\\n  } else if (href.charAt(0) === '/') {\\n    if (relativeBase) {\\n      return href;\\n    }\\n    return base.replace(domain, '$1') + href;\\n  } else {\\n    return base + href;\\n  }\\n}\\n\\nconst noopTest = { exec: function noopTest() {} };\\n\\nfunction merge(obj) {\\n  let i = 1,\\n    target,\\n    key;\\n\\n  for (; i < arguments.length; i++) {\\n    target = arguments[i];\\n    for (key in target) {\\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\\n        obj[key] = target[key];\\n      }\\n    }\\n  }\\n\\n  return obj;\\n}\\n\\nfunction splitCells(tableRow, count) {\\n  // ensure that every cell-delimiting pipe has a space\\n  // before it to distinguish it from an escaped pipe\\n  const row = tableRow.replace(/\\\\|/g, (match, offset, str) => {\\n      let escaped = false,\\n        curr = offset;\\n      while (--curr >= 0 && str[curr] === '\\\\\\\\') escaped = !escaped;\\n      if (escaped) {\\n        // odd number of slashes means | is escaped\\n        // so we leave it alone\\n        return '|';\\n      } else {\\n        // add space before unescaped |\\n        return ' |';\\n      }\\n    }),\\n    cells = row.split(/ \\\\|/);\\n  let i = 0;\\n\\n  if (cells.length > count) {\\n    cells.splice(count);\\n  } else {\\n    while (cells.length < count) cells.push('');\\n  }\\n\\n  for (; i < cells.length; i++) {\\n    // leading or trailing whitespace is ignored per the gfm spec\\n    cells[i] = cells[i].trim().replace(/\\\\\\\\\\\\|/g, '|');\\n  }\\n  return cells;\\n}\\n\\n// Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\\n// /c*$/ is vulnerable to REDOS.\\n// invert: Remove suffix of non-c chars instead. Default falsey.\\nfunction rtrim(str, c, invert) {\\n  const l = str.length;\\n  if (l === 0) {\\n    return '';\\n  }\\n\\n  // Length of suffix matching the invert condition.\\n  let suffLen = 0;\\n\\n  // Step left until we fail to match the invert condition.\\n  while (suffLen < l) {\\n    const currChar = str.charAt(l - suffLen - 1);\\n    if (currChar === c && !invert) {\\n      suffLen++;\\n    } else if (currChar !== c && invert) {\\n      suffLen++;\\n    } else {\\n      break;\\n    }\\n  }\\n\\n  return str.substr(0, l - suffLen);\\n}\\n\\nfunction findClosingBracket(str, b) {\\n  if (str.indexOf(b[1]) === -1) {\\n    return -1;\\n  }\\n  const l = str.length;\\n  let level = 0,\\n    i = 0;\\n  for (; i < l; i++) {\\n    if (str[i] === '\\\\\\\\') {\\n      i++;\\n    } else if (str[i] === b[0]) {\\n      level++;\\n    } else if (str[i] === b[1]) {\\n      level--;\\n      if (level < 0) {\\n        return i;\\n      }\\n    }\\n  }\\n  return -1;\\n}\\n\\nfunction checkSanitizeDeprecation(opt) {\\n  if (opt && opt.sanitize && !opt.silent) {\\n    console.warn('marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options');\\n  }\\n}\\n\\n// copied from https://stackoverflow.com/a/5450113/806777\\nfunction repeatString(pattern, count) {\\n  if (count < 1) {\\n    return '';\\n  }\\n  let result = '';\\n  while (count > 1) {\\n    if (count & 1) {\\n      result += pattern;\\n    }\\n    count >>= 1;\\n    pattern += pattern;\\n  }\\n  return result + pattern;\\n}\\n\\nvar helpers = {\\n  escape,\\n  unescape,\\n  edit,\\n  cleanUrl,\\n  resolveUrl,\\n  noopTest,\\n  merge,\\n  splitCells,\\n  rtrim,\\n  findClosingBracket,\\n  checkSanitizeDeprecation,\\n  repeatString\\n};\\n\\nconst { defaults: defaults$1 } = defaults;\\nconst {\\n  rtrim: rtrim$1,\\n  splitCells: splitCells$1,\\n  escape: escape$1,\\n  findClosingBracket: findClosingBracket$1\\n} = helpers;\\n\\nfunction outputLink(cap, link, raw) {\\n  const href = link.href;\\n  const title = link.title ? escape$1(link.title) : null;\\n  const text = cap[1].replace(/\\\\\\\\([\\\\[\\\\]])/g, '$1');\\n\\n  if (cap[0].charAt(0) !== '!') {\\n    return {\\n      type: 'link',\\n      raw,\\n      href,\\n      title,\\n      text\\n    };\\n  } else {\\n    return {\\n      type: 'image',\\n      raw,\\n      href,\\n      title,\\n      text: escape$1(text)\\n    };\\n  }\\n}\\n\\nfunction indentCodeCompensation(raw, text) {\\n  const matchIndentToCode = raw.match(/^(\\\\s+)(?:```)/);\\n\\n  if (matchIndentToCode === null) {\\n    return text;\\n  }\\n\\n  const indentToCode = matchIndentToCode[1];\\n\\n  return text\\n    .split('\\\\n')\\n    .map(node => {\\n      const matchIndentInNode = node.match(/^\\\\s+/);\\n      if (matchIndentInNode === null) {\\n        return node;\\n      }\\n\\n      const [indentInNode] = matchIndentInNode;\\n\\n      if (indentInNode.length >= indentToCode.length) {\\n        return node.slice(indentToCode.length);\\n      }\\n\\n      return node;\\n    })\\n    .join('\\\\n');\\n}\\n\\n/**\\n * Tokenizer\\n */\\nvar Tokenizer_1 = class Tokenizer {\\n  constructor(options) {\\n    this.options = options || defaults$1;\\n  }\\n\\n  space(src) {\\n    const cap = this.rules.block.newline.exec(src);\\n    if (cap) {\\n      if (cap[0].length > 1) {\\n        return {\\n          type: 'space',\\n          raw: cap[0]\\n        };\\n      }\\n      return { raw: '\\\\n' };\\n    }\\n  }\\n\\n  code(src) {\\n    const cap = this.rules.block.code.exec(src);\\n    if (cap) {\\n      const text = cap[0].replace(/^ {1,4}/gm, '');\\n      return {\\n        type: 'code',\\n        raw: cap[0],\\n        codeBlockStyle: 'indented',\\n        text: !this.options.pedantic\\n          ? rtrim$1(text, '\\\\n')\\n          : text\\n      };\\n    }\\n  }\\n\\n  fences(src) {\\n    const cap = this.rules.block.fences.exec(src);\\n    if (cap) {\\n      const raw = cap[0];\\n      const text = indentCodeCompensation(raw, cap[3] || '');\\n\\n      return {\\n        type: 'code',\\n        raw,\\n        lang: cap[2] ? cap[2].trim() : cap[2],\\n        text\\n      };\\n    }\\n  }\\n\\n  heading(src) {\\n    const cap = this.rules.block.heading.exec(src);\\n    if (cap) {\\n      let text = cap[2].trim();\\n\\n      // remove trailing #s\\n      if (/#$/.test(text)) {\\n        const trimmed = rtrim$1(text, '#');\\n        if (this.options.pedantic) {\\n          text = trimmed.trim();\\n        } else if (!trimmed || / $/.test(trimmed)) {\\n          // CommonMark requires space before trailing #s\\n          text = trimmed.trim();\\n        }\\n      }\\n\\n      return {\\n        type: 'heading',\\n        raw: cap[0],\\n        depth: cap[1].length,\\n        text: text\\n      };\\n    }\\n  }\\n\\n  nptable(src) {\\n    const cap = this.rules.block.nptable.exec(src);\\n    if (cap) {\\n      const item = {\\n        type: 'table',\\n        header: splitCells$1(cap[1].replace(/^ *| *\\\\| *$/g, '')),\\n        align: cap[2].replace(/^ *|\\\\| *$/g, '').split(/ *\\\\| */),\\n        cells: cap[3] ? cap[3].replace(/\\\\n$/, '').split('\\\\n') : [],\\n        raw: cap[0]\\n      };\\n\\n      if (item.header.length === item.align.length) {\\n        let l = item.align.length;\\n        let i;\\n        for (i = 0; i < l; i++) {\\n          if (/^ *-+: *$/.test(item.align[i])) {\\n            item.align[i] = 'right';\\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\\n            item.align[i] = 'center';\\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\\n            item.align[i] = 'left';\\n          } else {\\n            item.align[i] = null;\\n          }\\n        }\\n\\n        l = item.cells.length;\\n        for (i = 0; i < l; i++) {\\n          item.cells[i] = splitCells$1(item.cells[i], item.header.length);\\n        }\\n\\n        return item;\\n      }\\n    }\\n  }\\n\\n  hr(src) {\\n    const cap = this.rules.block.hr.exec(src);\\n    if (cap) {\\n      return {\\n        type: 'hr',\\n        raw: cap[0]\\n      };\\n    }\\n  }\\n\\n  blockquote(src) {\\n    const cap = this.rules.block.blockquote.exec(src);\\n    if (cap) {\\n      const text = cap[0].replace(/^ *> ?/gm, '');\\n\\n      return {\\n        type: 'blockquote',\\n        raw: cap[0],\\n        text\\n      };\\n    }\\n  }\\n\\n  list(src) {\\n    const cap = this.rules.block.list.exec(src);\\n    if (cap) {\\n      let raw = cap[0];\\n      const bull = cap[2];\\n      const isordered = bull.length > 1;\\n\\n      const list = {\\n        type: 'list',\\n        raw,\\n        ordered: isordered,\\n        start: isordered ? +bull.slice(0, -1) : '',\\n        loose: false,\\n        items: []\\n      };\\n\\n      // Get each top-level item.\\n      const itemMatch = cap[0].match(this.rules.block.item);\\n\\n      let next = false,\\n        item,\\n        space,\\n        bcurr,\\n        bnext,\\n        addBack,\\n        loose,\\n        istask,\\n        ischecked;\\n\\n      let l = itemMatch.length;\\n      bcurr = this.rules.block.listItemStart.exec(itemMatch[0]);\\n      for (let i = 0; i < l; i++) {\\n        item = itemMatch[i];\\n        raw = item;\\n\\n        // Determine whether the next list item belongs here.\\n        // Backpedal if it does not belong in this list.\\n        if (i !== l - 1) {\\n          bnext = this.rules.block.listItemStart.exec(itemMatch[i + 1]);\\n          if (\\n            !this.options.pedantic\\n              ? bnext[1].length > bcurr[0].length || bnext[1].length > 3\\n              : bnext[1].length > bcurr[1].length\\n          ) {\\n            // nested list\\n            itemMatch.splice(i, 2, itemMatch[i] + '\\\\n' + itemMatch[i + 1]);\\n            i--;\\n            l--;\\n            continue;\\n          } else {\\n            if (\\n              // different bullet style\\n              !this.options.pedantic || this.options.smartLists\\n                ? bnext[2][bnext[2].length - 1] !== bull[bull.length - 1]\\n                : isordered === (bnext[2].length === 1)\\n            ) {\\n              addBack = itemMatch.slice(i + 1).join('\\\\n');\\n              list.raw = list.raw.substring(0, list.raw.length - addBack.length);\\n              i = l - 1;\\n            }\\n          }\\n          bcurr = bnext;\\n        }\\n\\n        // Remove the list item's bullet\\n        // so it is seen as the next token.\\n        space = item.length;\\n        item = item.replace(/^ *([*+-]|\\\\d+[.)]) ?/, '');\\n\\n        // Outdent whatever the\\n        // list item contains. Hacky.\\n        if (~item.indexOf('\\\\n ')) {\\n          space -= item.length;\\n          item = !this.options.pedantic\\n            ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '')\\n            : item.replace(/^ {1,4}/gm, '');\\n        }\\n\\n        // Determine whether item is loose or not.\\n        // Use: /(^|\\\\n)(?! )[^\\\\n]+\\\\n\\\\n(?!\\\\s*$)/\\n        // for discount behavior.\\n        loose = next || /\\\\n\\\\n(?!\\\\s*$)/.test(item);\\n        if (i !== l - 1) {\\n          next = item.charAt(item.length - 1) === '\\\\n';\\n          if (!loose) loose = next;\\n        }\\n\\n        if (loose) {\\n          list.loose = true;\\n        }\\n\\n        // Check for task list items\\n        if (this.options.gfm) {\\n          istask = /^\\\\[[ xX]\\\\] /.test(item);\\n          ischecked = undefined;\\n          if (istask) {\\n            ischecked = item[1] !== ' ';\\n            item = item.replace(/^\\\\[[ xX]\\\\] +/, '');\\n          }\\n        }\\n\\n        list.items.push({\\n          type: 'list_item',\\n          raw,\\n          task: istask,\\n          checked: ischecked,\\n          loose: loose,\\n          text: item\\n        });\\n      }\\n\\n      return list;\\n    }\\n  }\\n\\n  html(src) {\\n    const cap = this.rules.block.html.exec(src);\\n    if (cap) {\\n      return {\\n        type: this.options.sanitize\\n          ? 'paragraph'\\n          : 'html',\\n        raw: cap[0],\\n        pre: !this.options.sanitizer\\n          && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\\n        text: this.options.sanitize ? (this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape$1(cap[0])) : cap[0]\\n      };\\n    }\\n  }\\n\\n  def(src) {\\n    const cap = this.rules.block.def.exec(src);\\n    if (cap) {\\n      if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\\n      const tag = cap[1].toLowerCase().replace(/\\\\s+/g, ' ');\\n      return {\\n        tag,\\n        raw: cap[0],\\n        href: cap[2],\\n        title: cap[3]\\n      };\\n    }\\n  }\\n\\n  table(src) {\\n    const cap = this.rules.block.table.exec(src);\\n    if (cap) {\\n      const item = {\\n        type: 'table',\\n        header: splitCells$1(cap[1].replace(/^ *| *\\\\| *$/g, '')),\\n        align: cap[2].replace(/^ *|\\\\| *$/g, '').split(/ *\\\\| */),\\n        cells: cap[3] ? cap[3].replace(/\\\\n$/, '').split('\\\\n') : []\\n      };\\n\\n      if (item.header.length === item.align.length) {\\n        item.raw = cap[0];\\n\\n        let l = item.align.length;\\n        let i;\\n        for (i = 0; i < l; i++) {\\n          if (/^ *-+: *$/.test(item.align[i])) {\\n            item.align[i] = 'right';\\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\\n            item.align[i] = 'center';\\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\\n            item.align[i] = 'left';\\n          } else {\\n            item.align[i] = null;\\n          }\\n        }\\n\\n        l = item.cells.length;\\n        for (i = 0; i < l; i++) {\\n          item.cells[i] = splitCells$1(\\n            item.cells[i].replace(/^ *\\\\| *| *\\\\| *$/g, ''),\\n            item.header.length);\\n        }\\n\\n        return item;\\n      }\\n    }\\n  }\\n\\n  lheading(src) {\\n    const cap = this.rules.block.lheading.exec(src);\\n    if (cap) {\\n      return {\\n        type: 'heading',\\n        raw: cap[0],\\n        depth: cap[2].charAt(0) === '=' ? 1 : 2,\\n        text: cap[1]\\n      };\\n    }\\n  }\\n\\n  paragraph(src) {\\n    const cap = this.rules.block.paragraph.exec(src);\\n    if (cap) {\\n      return {\\n        type: 'paragraph',\\n        raw: cap[0],\\n        text: cap[1].charAt(cap[1].length - 1) === '\\\\n'\\n          ? cap[1].slice(0, -1)\\n          : cap[1]\\n      };\\n    }\\n  }\\n\\n  text(src) {\\n    const cap = this.rules.block.text.exec(src);\\n    if (cap) {\\n      return {\\n        type: 'text',\\n        raw: cap[0],\\n        text: cap[0]\\n      };\\n    }\\n  }\\n\\n  escape(src) {\\n    const cap = this.rules.inline.escape.exec(src);\\n    if (cap) {\\n      return {\\n        type: 'escape',\\n        raw: cap[0],\\n        text: escape$1(cap[1])\\n      };\\n    }\\n  }\\n\\n  tag(src, inLink, inRawBlock) {\\n    const cap = this.rules.inline.tag.exec(src);\\n    if (cap) {\\n      if (!inLink && /^<a /i.test(cap[0])) {\\n        inLink = true;\\n      } else if (inLink && /^<\\\\/a>/i.test(cap[0])) {\\n        inLink = false;\\n      }\\n      if (!inRawBlock && /^<(pre|code|kbd|script)(\\\\s|>)/i.test(cap[0])) {\\n        inRawBlock = true;\\n      } else if (inRawBlock && /^<\\\\/(pre|code|kbd|script)(\\\\s|>)/i.test(cap[0])) {\\n        inRawBlock = false;\\n      }\\n\\n      return {\\n        type: this.options.sanitize\\n          ? 'text'\\n          : 'html',\\n        raw: cap[0],\\n        inLink,\\n        inRawBlock,\\n        text: this.options.sanitize\\n          ? (this.options.sanitizer\\n            ? this.options.sanitizer(cap[0])\\n            : escape$1(cap[0]))\\n          : cap[0]\\n      };\\n    }\\n  }\\n\\n  link(src) {\\n    const cap = this.rules.inline.link.exec(src);\\n    if (cap) {\\n      const trimmedUrl = cap[2].trim();\\n      if (!this.options.pedantic && /^</.test(trimmedUrl)) {\\n        // commonmark requires matching angle brackets\\n        if (!(/>$/.test(trimmedUrl))) {\\n          return;\\n        }\\n\\n        // ending angle bracket cannot be escaped\\n        const rtrimSlash = rtrim$1(trimmedUrl.slice(0, -1), '\\\\\\\\');\\n        if ((trimmedUrl.length - rtrimSlash.length) % 2 === 0) {\\n          return;\\n        }\\n      } else {\\n        // find closing parenthesis\\n        const lastParenIndex = findClosingBracket$1(cap[2], '()');\\n        if (lastParenIndex > -1) {\\n          const start = cap[0].indexOf('!') === 0 ? 5 : 4;\\n          const linkLen = start + cap[1].length + lastParenIndex;\\n          cap[2] = cap[2].substring(0, lastParenIndex);\\n          cap[0] = cap[0].substring(0, linkLen).trim();\\n          cap[3] = '';\\n        }\\n      }\\n      let href = cap[2];\\n      let title = '';\\n      if (this.options.pedantic) {\\n        // split pedantic href and title\\n        const link = /^([^'\\\"]*[^\\\\s])\\\\s+(['\\\"])(.*)\\\\2/.exec(href);\\n\\n        if (link) {\\n          href = link[1];\\n          title = link[3];\\n        }\\n      } else {\\n        title = cap[3] ? cap[3].slice(1, -1) : '';\\n      }\\n\\n      href = href.trim();\\n      if (/^</.test(href)) {\\n        if (this.options.pedantic && !(/>$/.test(trimmedUrl))) {\\n          // pedantic allows starting angle bracket without ending angle bracket\\n          href = href.slice(1);\\n        } else {\\n          href = href.slice(1, -1);\\n        }\\n      }\\n      return outputLink(cap, {\\n        href: href ? href.replace(this.rules.inline._escapes, '$1') : href,\\n        title: title ? title.replace(this.rules.inline._escapes, '$1') : title\\n      }, cap[0]);\\n    }\\n  }\\n\\n  reflink(src, links) {\\n    let cap;\\n    if ((cap = this.rules.inline.reflink.exec(src))\\n        || (cap = this.rules.inline.nolink.exec(src))) {\\n      let link = (cap[2] || cap[1]).replace(/\\\\s+/g, ' ');\\n      link = links[link.toLowerCase()];\\n      if (!link || !link.href) {\\n        const text = cap[0].charAt(0);\\n        return {\\n          type: 'text',\\n          raw: text,\\n          text\\n        };\\n      }\\n      return outputLink(cap, link, cap[0]);\\n    }\\n  }\\n\\n  emStrong(src, maskedSrc, prevChar = '') {\\n    let match = this.rules.inline.emStrong.lDelim.exec(src);\\n    if (!match) return;\\n\\n    if (match[3] && prevChar.match(/[\\\\p{L}\\\\p{N}]/u)) return; // _ can't be between two alphanumerics. \\\\p{L}\\\\p{N} includes non-english alphabet/numbers as well\\n\\n    const nextChar = match[1] || match[2] || '';\\n\\n    if (!nextChar || (nextChar && (prevChar === '' || this.rules.inline.punctuation.exec(prevChar)))) {\\n      const lLength = match[0].length - 1;\\n      let rDelim, rLength, delimTotal = lLength, midDelimTotal = 0;\\n\\n      const endReg = match[0][0] === '*' ? this.rules.inline.emStrong.rDelimAst : this.rules.inline.emStrong.rDelimUnd;\\n      endReg.lastIndex = 0;\\n\\n      maskedSrc = maskedSrc.slice(-1 * src.length + lLength); // Bump maskedSrc to same section of string as src (move to lexer?)\\n\\n      while ((match = endReg.exec(maskedSrc)) != null) {\\n        rDelim = match[1] || match[2] || match[3] || match[4] || match[5] || match[6];\\n\\n        if (!rDelim) continue; // matched the first alternative in rules.js (skip the * in __abc*abc__)\\n\\n        rLength = rDelim.length;\\n\\n        if (match[3] || match[4]) { // found another Left Delim\\n          delimTotal += rLength;\\n          continue;\\n        } else if (match[5] || match[6]) { // either Left or Right Delim\\n          if (lLength % 3 && !((lLength + rLength) % 3)) {\\n            midDelimTotal += rLength;\\n            continue; // CommonMark Emphasis Rules 9-10\\n          }\\n        }\\n\\n        delimTotal -= rLength;\\n\\n[end of marked.esm.js]\\n[start of markdown_documentation_basics.md]\\n---\\npedantic: true\\n---\\n\\nMarkdown: Basics\\n================\\n\\n<ul id=\\\"ProjectSubmenu\\\">\\n    <li><a href=\\\"/projects/markdown/\\\" title=\\\"Markdown Project Page\\\">Main</a></li>\\n    <li><a class=\\\"selected\\\" title=\\\"Markdown Basics\\\">Basics</a></li>\\n    <li><a href=\\\"/projects/markdown/syntax\\\" title=\\\"Markdown Syntax Documentation\\\">Syntax</a></li>\\n    <li><a href=\\\"/projects/markdown/license\\\" title=\\\"Pricing and License Information\\\">License</a></li>\\n    <li><a href=\\\"/projects/markdown/dingus\\\" title=\\\"Online Markdown Web Form\\\">Dingus</a></li>\\n</ul>\\n\\n\\nGetting the Gist of Markdown's Formatting Syntax\\n------------------------------------------------\\n\\nThis page offers a brief overview of what it's like to use Markdown.\\nThe [syntax page] [s] provides complete, detailed documentation for\\nevery feature, but Markdown should be very easy to pick up simply by\\nlooking at a few examples of it in action. The examples on this page\\nare written in a before/after style, showing example syntax and the\\nHTML output produced by Markdown.\\n\\nIt's also helpful to simply try Markdown out; the [Dingus] [d] is a\\nweb application that allows you type your own Markdown-formatted text\\nand translate it to XHTML.\\n\\n**Note:** This document is itself written using Markdown; you\\ncan [see the source for it by adding '.text' to the URL] [src].\\n\\n  [s]: /projects/markdown/syntax  \\\"Markdown Syntax\\\"\\n  [d]: /projects/markdown/dingus  \\\"Markdown Dingus\\\"\\n  [src]: /projects/markdown/basics.text\\n\\n\\n## Paragraphs, Headers, Blockquotes ##\\n\\nA paragraph is simply one or more consecutive lines of text, separated\\nby one or more blank lines. (A blank line is any line that looks like a\\nblank line -- a line containing nothing spaces or tabs is considered\\nblank.) Normal paragraphs should not be intended with spaces or tabs.\\n\\nMarkdown offers two styles of headers: *Setext* and *atx*.\\nSetext-style headers for `<h1>` and `<h2>` are created by\\n\\\"underlining\\\" with equal signs (`=`) and hyphens (`-`), respectively.\\nTo create an atx-style header, you put 1-6 hash marks (`#`) at the\\nbeginning of the line -- the number of hashes equals the resulting\\nHTML header level.\\n\\nBlockquotes are indicated using email-style '`>`' angle brackets.\\n\\nMarkdown:\\n\\n    A First Level Header\\n    ====================\\n    \\n    A Second Level Header\\n    ---------------------\\n\\n    Now is the time for all good men to come to\\n    the aid of their country. This is just a\\n    regular paragraph.\\n\\n    The quick brown fox jumped over the lazy\\n    dog's back.\\n    \\n    ### Header 3\\n\\n    > This is a blockquote.\\n    > \\n    > This is the second paragraph in the blockquote.\\n    >\\n    > ## This is an H2 in a blockquote\\n\\n\\nOutput:\\n\\n    <h1>A First Level Header</h1>\\n    \\n    <h2>A Second Level Header</h2>\\n    \\n    <p>Now is the time for all good men to come to\\n    the aid of their country. This is just a\\n    regular paragraph.</p>\\n    \\n    <p>The quick brown fox jumped over the lazy\\n    dog's back.</p>\\n    \\n    <h3>Header 3</h3>\\n    \\n    <blockquote>\\n        <p>This is a blockquote.</p>\\n        \\n        <p>This is the second paragraph in the blockquote.</p>\\n        \\n        <h2>This is an H2 in a blockquote</h2>\\n    </blockquote>\\n\\n\\n\\n### Phrase Emphasis ###\\n\\nMarkdown uses asterisks and underscores to indicate spans of emphasis.\\n\\nMarkdown:\\n\\n    Some of these words *are emphasized*.\\n    Some of these words _are emphasized also_.\\n    \\n    Use two asterisks for **strong emphasis**.\\n    Or, if you prefer, __use two underscores instead__.\\n\\nOutput:\\n\\n    <p>Some of these words <em>are emphasized</em>.\\n    Some of these words <em>are emphasized also</em>.</p>\\n    \\n    <p>Use two asterisks for <strong>strong emphasis</strong>.\\n    Or, if you prefer, <strong>use two underscores instead</strong>.</p>\\n   \\n\\n\\n## Lists ##\\n\\nUnordered (bulleted) lists use asterisks, pluses, and hyphens (`*`,\\n`+`, and `-`) as list markers. These three markers are\\ninterchangable; this:\\n\\n    *   Candy.\\n    *   Gum.\\n    *   Booze.\\n\\nthis:\\n\\n    +   Candy.\\n    +   Gum.\\n    +   Booze.\\n\\nand this:\\n\\n    -   Candy.\\n    -   Gum.\\n    -   Booze.\\n\\nall produce the same output:\\n\\n    <ul>\\n    <li>Candy.</li>\\n    <li>Gum.</li>\\n    <li>Booze.</li>\\n    </ul>\\n\\nOrdered (numbered) lists use regular numbers, followed by periods, as\\nlist markers:\\n\\n    1.  Red\\n    2.  Green\\n    3.  Blue\\n\\nOutput:\\n\\n    <ol>\\n    <li>Red</li>\\n    <li>Green</li>\\n    <li>Blue</li>\\n    </ol>\\n\\nIf you put blank lines between items, you'll get `<p>` tags for the\\nlist item text. You can create multi-paragraph list items by indenting\\nthe paragraphs by 4 spaces or 1 tab:\\n\\n    *   A list item.\\n    \\n        With multiple paragraphs.\\n\\n    *   Another item in the list.\\n\\nOutput:\\n\\n    <ul>\\n    <li><p>A list item.</p>\\n    <p>With multiple paragraphs.</p></li>\\n    <li><p>Another item in the list.</p></li>\\n    </ul>\\n    \\n\\n\\n### Links ###\\n\\nMarkdown supports two styles for creating links: *inline* and\\n*reference*. With both styles, you use square brackets to delimit the\\ntext you want to turn into a link.\\n\\nInline-style links use parentheses immediately after the link text.\\nFor example:\\n\\n    This is an [example link](http://example.com/).\\n\\nOutput:\\n\\n    <p>This is an <a href=\\\"http://example.com/\\\">\\n    example link</a>.</p>\\n\\nOptionally, you may include a title attribute in the parentheses:\\n\\n    This is an [example link](http://example.com/ \\\"With a Title\\\").\\n\\nOutput:\\n\\n    <p>This is an <a href=\\\"http://example.com/\\\" title=\\\"With a Title\\\">\\n    example link</a>.</p>\\n\\nReference-style links allow you to refer to your links by names, which\\nyou define elsewhere in your document:\\n\\n    I get 10 times more traffic from [Google][1] than from\\n    [Yahoo][2] or [MSN][3].\\n\\n    [1]: http://google.com/        \\\"Google\\\"\\n    [2]: http://search.yahoo.com/  \\\"Yahoo Search\\\"\\n    [3]: http://search.msn.com/    \\\"MSN Search\\\"\\n\\nOutput:\\n\\n    <p>I get 10 times more traffic from <a href=\\\"http://google.com/\\\"\\n    title=\\\"Google\\\">Google</a> than from <a href=\\\"http://search.yahoo.com/\\\"\\n    title=\\\"Yahoo Search\\\">Yahoo</a> or <a href=\\\"http://search.msn.com/\\\"\\n    title=\\\"MSN Search\\\">MSN</a>.</p>\\n\\nThe title attribute is optional. Link names may contain letters,\\nnumbers and spaces, but are *not* case sensitive:\\n\\n    I start my morning with a cup of coffee and\\n    [The New York Times][NY Times].\\n\\n    [ny times]: http://www.nytimes.com/\\n\\nOutput:\\n\\n    <p>I start my morning with a cup of coffee and\\n    <a href=\\\"http://www.nytimes.com/\\\">The New York Times</a>.</p>\\n\\n\\n### Images ###\\n\\nImage syntax is very much like link syntax.\\n\\nInline (titles are optional):\\n\\n    ![alt text](/path/to/img.jpg \\\"Title\\\")\\n\\nReference-style:\\n\\n    ![alt text][id]\\n\\n    [id]: /path/to/img.jpg \\\"Title\\\"\\n\\nBoth of the above examples produce the same output:\\n\\n    <img src=\\\"/path/to/img.jpg\\\" alt=\\\"alt text\\\" title=\\\"Title\\\" />\\n\\n\\n\\n### Code ###\\n\\nIn a regular paragraph, you can create code span by wrapping text in\\nbacktick quotes. Any ampersands (`&`) and angle brackets (`<` or\\n`>`) will automatically be translated into HTML entities. This makes\\nit easy to use Markdown to write about HTML example code:\\n\\n    I strongly recommend against using any `<blink>` tags.\\n\\n    I wish SmartyPants used named entities like `&mdash;`\\n    instead of decimal-encoded entites like `&#8212;`.\\n\\nOutput:\\n\\n    <p>I strongly recommend against using any\\n    <code>&lt;blink&gt;</code> tags.</p>\\n    \\n    <p>I wish SmartyPants used named entities like\\n    <code>&amp;mdash;</code> instead of decimal-encoded\\n    entites like <code>&amp;#8212;</code>.</p>\\n\\n\\nTo specify an entire block of pre-formatted code, indent every line of\\nthe block by 4 spaces or 1 tab. Just like with code spans, `&`, `<`,\\nand `>` characters will be escaped automatically.\\n\\nMarkdown:\\n\\n    If you want your page to validate under XHTML 1.0 Strict,\\n    you've got to put paragraph tags in your blockquotes:\\n\\n        <blockquote>\\n            <p>For example.</p>\\n        </blockquote>\\n\\nOutput:\\n\\n    <p>If you want your page to validate under XHTML 1.0 Strict,\\n    you've got to put paragraph tags in your blockquotes:</p>\\n    \\n    <pre><code>&lt;blockquote&gt;\\n        &lt;p&gt;For example.&lt;/p&gt;\\n    &lt;/blockquote&gt;\\n    </code></pre>\\n\\n[end of markdown_documentation_basics.md]\\n[start of marked-spec.js]\\nconst marked = require('../../src/marked.js');\\n\\ndescribe('Test heading ID functionality', () => {\\n  it('should add id attribute by default', () => {\\n    const renderer = new marked.Renderer();\\n    const slugger = new marked.Slugger();\\n    const header = renderer.heading('test', 1, 'test', slugger);\\n    expect(header).toBe('<h1 id=\\\"test\\\">test</h1>\\\\n');\\n  });\\n\\n  it('should NOT add id attribute when options set false', () => {\\n    const renderer = new marked.Renderer({ headerIds: false });\\n    const header = renderer.heading('test', 1, 'test');\\n    expect(header).toBe('<h1>test</h1>\\\\n');\\n  });\\n});\\n\\ndescribe('Test slugger functionality', () => {\\n  it('should use lowercase slug', () => {\\n    const slugger = new marked.Slugger();\\n    expect(slugger.slug('Test')).toBe('test');\\n  });\\n\\n  it('should be unique to avoid collisions 1280', () => {\\n    const slugger = new marked.Slugger();\\n    expect(slugger.slug('test')).toBe('test');\\n    expect(slugger.slug('test')).toBe('test-1');\\n    expect(slugger.slug('test')).toBe('test-2');\\n  });\\n\\n  it('should be unique when slug ends with number', () => {\\n    const slugger = new marked.Slugger();\\n    expect(slugger.slug('test 1')).toBe('test-1');\\n    expect(slugger.slug('test')).toBe('test');\\n    expect(slugger.slug('test')).toBe('test-2');\\n  });\\n\\n  it('should be unique when slug ends with hyphen number', () => {\\n    const slugger = new marked.Slugger();\\n    expect(slugger.slug('foo')).toBe('foo');\\n    expect(slugger.slug('foo')).toBe('foo-1');\\n    expect(slugger.slug('foo 1')).toBe('foo-1-1');\\n    expect(slugger.slug('foo-1')).toBe('foo-1-2');\\n    expect(slugger.slug('foo')).toBe('foo-2');\\n  });\\n\\n  it('should allow non-latin chars', () => {\\n    const slugger = new marked.Slugger();\\n    expect(slugger.slug('\\u043f\\u0440\\u0438\\u0432\\u0435\\u0442')).toBe('\\u043f\\u0440\\u0438\\u0432\\u0435\\u0442');\\n  });\\n\\n  it('should remove ampersands 857', () => {\\n    const slugger = new marked.Slugger();\\n    expect(slugger.slug('This & That Section')).toBe('this--that-section');\\n  });\\n\\n  it('should remove periods', () => {\\n    const slugger = new marked.Slugger();\\n    expect(slugger.slug('file.txt')).toBe('filetxt');\\n  });\\n\\n  it('should remove html tags', () => {\\n    const slugger = new marked.Slugger();\\n    expect(slugger.slug('<em>html</em>')).toBe('html');\\n  });\\n\\n  it('should not increment seen when using dryrun option', () => {\\n    const slugger = new marked.Slugger();\\n    expect(slugger.slug('<h1>This Section</h1>', { dryrun: true })).toBe('this-section');\\n    expect(slugger.slug('<h1>This Section</h1>')).toBe('this-section');\\n  });\\n\\n  it('should still return the next unique id when using dryrun', () => {\\n    const slugger = new marked.Slugger();\\n    expect(slugger.slug('<h1>This Section</h1>')).toBe('this-section');\\n    expect(slugger.slug('<h1>This Section</h1>', { dryrun: true })).toBe('this-section-1');\\n  });\\n\\n  it('should be repeatable in a sequence', () => {\\n    const slugger = new marked.Slugger();\\n    expect(slugger.slug('foo')).toBe('foo');\\n    expect(slugger.slug('foo')).toBe('foo-1');\\n    expect(slugger.slug('foo')).toBe('foo-2');\\n    expect(slugger.slug('foo', { dryrun: true })).toBe('foo-3');\\n    expect(slugger.slug('foo', { dryrun: true })).toBe('foo-3');\\n    expect(slugger.slug('foo')).toBe('foo-3');\\n    expect(slugger.slug('foo')).toBe('foo-4');\\n  });\\n});\\n\\ndescribe('Test paragraph token type', () => {\\n  it('should use the \\\"paragraph\\\" type on top level', () => {\\n    const md = 'A Paragraph.\\\\n\\\\n> A blockquote\\\\n\\\\n- list item\\\\n';\\n\\n    const tokens = marked.lexer(md);\\n\\n    expect(tokens[0].type).toBe('paragraph');\\n    expect(tokens[2].tokens[0].type).toBe('paragraph');\\n    expect(tokens[3].items[0].tokens[0].type).toBe('text');\\n  });\\n});\\n\\ndescribe('changeDefaults', () => {\\n  it('should change global defaults', () => {\\n    const { defaults, changeDefaults } = require('../../src/defaults');\\n    expect(defaults.test).toBeUndefined();\\n    changeDefaults({ test: true });\\n    expect(require('../../src/defaults').defaults.test).toBe(true);\\n  });\\n});\\n\\ndescribe('inlineLexer', () => {\\n  it('should send html to renderer.html', () => {\\n    const renderer = new marked.Renderer();\\n    spyOn(renderer, 'html').and.callThrough();\\n    const md = 'HTML Image: <img alt=\\\"MY IMAGE\\\" src=\\\"example.png\\\" />';\\n    marked(md, { renderer });\\n\\n    expect(renderer.html).toHaveBeenCalledWith('<img alt=\\\"MY IMAGE\\\" src=\\\"example.png\\\" />');\\n  });\\n});\\n\\ndescribe('parseInline', () => {\\n  it('should parse inline tokens', () => {\\n    const md = '**strong** _em_';\\n    const html = marked.parseInline(md);\\n\\n    expect(html).toBe('<strong>strong</strong> <em>em</em>');\\n  });\\n\\n  it('should not parse block tokens', () => {\\n    const md = '# header\\\\n\\\\n_em_';\\n    const html = marked.parseInline(md);\\n\\n    expect(html).toBe('# header\\\\n\\\\n<em>em</em>');\\n  });\\n});\\n\\ndescribe('use extension', () => {\\n  it('should use renderer', () => {\\n    const extension = {\\n      renderer: {\\n        paragraph(text) {\\n          return 'extension';\\n        }\\n      }\\n    };\\n    spyOn(extension.renderer, 'paragraph').and.callThrough();\\n    marked.use(extension);\\n    const html = marked('text');\\n    expect(extension.renderer.paragraph).toHaveBeenCalledWith('text');\\n    expect(html).toBe('extension');\\n  });\\n\\n  it('should use tokenizer', () => {\\n    const extension = {\\n      tokenizer: {\\n        paragraph(text) {\\n          return {\\n            type: 'paragraph',\\n            raw: text,\\n            text: 'extension'\\n          };\\n        }\\n      }\\n    };\\n    spyOn(extension.tokenizer, 'paragraph').and.callThrough();\\n    marked.use(extension);\\n    const html = marked('text');\\n    expect(extension.tokenizer.paragraph).toHaveBeenCalledWith('text');\\n    expect(html).toBe('<p>extension</p>\\\\n');\\n  });\\n\\n  it('should use walkTokens', () => {\\n    let walked = 0;\\n    const extension = {\\n      walkTokens(token) {\\n        walked++;\\n      }\\n    };\\n    marked.use(extension);\\n    marked('text');\\n    expect(walked).toBe(2);\\n  });\\n\\n  it('should use options from extension', () => {\\n    const extension = {\\n      headerIds: false\\n    };\\n    marked.use(extension);\\n    const html = marked('# heading');\\n    expect(html).toBe('<h1>heading</h1>\\\\n');\\n  });\\n\\n  it('should call all walkTokens in reverse order', () => {\\n    let walkedOnce = 0;\\n    let walkedTwice = 0;\\n    const extension1 = {\\n      walkTokens(token) {\\n        if (token.walkedOnce) {\\n          walkedTwice++;\\n        }\\n      }\\n    };\\n    const extension2 = {\\n      walkTokens(token) {\\n        walkedOnce++;\\n        token.walkedOnce = true;\\n      }\\n    };\\n    marked.use(extension1);\\n    marked.use(extension2);\\n    marked('text');\\n    expect(walkedOnce).toBe(2);\\n    expect(walkedTwice).toBe(2);\\n  });\\n\\n  it('should use last extension function and not override others', () => {\\n    const extension1 = {\\n      renderer: {\\n        paragraph(text) {\\n          return 'extension1 paragraph\\\\n';\\n        },\\n        html(html) {\\n          return 'extension1 html\\\\n';\\n        }\\n      }\\n    };\\n    const extension2 = {\\n      renderer: {\\n        paragraph(text) {\\n          return 'extension2 paragraph\\\\n';\\n        }\\n      }\\n    };\\n    marked.use(extension1);\\n    marked.use(extension2);\\n    const html = marked(`\\nparagraph\\n\\n<html />\\n\\n# heading\\n`);\\n    expect(html).toBe('extension2 paragraph\\\\nextension1 html\\\\n<h1 id=\\\"heading\\\">heading</h1>\\\\n');\\n  });\\n\\n  it('should use previous extension when returning false', () => {\\n    const extension1 = {\\n      renderer: {\\n        paragraph(text) {\\n          if (text !== 'original') {\\n            return 'extension1 paragraph\\\\n';\\n          }\\n          return false;\\n        }\\n      }\\n    };\\n    const extension2 = {\\n      renderer: {\\n        paragraph(text) {\\n          if (text !== 'extension1' && text !== 'original') {\\n            return 'extension2 paragraph\\\\n';\\n          }\\n          return false;\\n        }\\n      }\\n    };\\n    marked.use(extension1);\\n    marked.use(extension2);\\n    const html = marked(`\\nparagraph\\n\\nextension1\\n\\noriginal\\n`);\\n    expect(html).toBe('extension2 paragraph\\\\nextension1 paragraph\\\\n<p>original</p>\\\\n');\\n  });\\n\\n  it('should get options with this.options', () => {\\n    const extension = {\\n      renderer: {\\n        heading: () => {\\n          return this.options ? 'arrow options\\\\n' : 'arrow no options\\\\n';\\n        },\\n        html: function() {\\n          return this.options ? 'function options\\\\n' : 'function no options\\\\n';\\n        },\\n        paragraph() {\\n          return this.options ? 'shorthand options\\\\n' : 'shorthand no options\\\\n';\\n        }\\n      }\\n    };\\n    marked.use(extension);\\n    const html = marked(`\\n# heading\\n\\n<html />\\n\\nparagraph\\n`);\\n    expect(html).toBe('arrow no options\\\\nfunction options\\\\nshorthand options\\\\n');\\n  });\\n});\\n\\ndescribe('async highlight', () => {\\n  let highlight, markdown;\\n  beforeEach(() => {\\n    highlight = jasmine.createSpy('highlight', (text, lang, callback) => {\\n      setImmediate(() => {\\n        callback(null, `async ${text || ''}`);\\n      });\\n    });\\n    markdown = `\\n\\\\`\\\\`\\\\`lang1\\ntext 1\\n\\\\`\\\\`\\\\`\\n\\n> \\\\`\\\\`\\\\`lang2\\n> text 2\\n> \\\\`\\\\`\\\\`\\n\\n- \\\\`\\\\`\\\\`lang3\\n  text 3\\n  \\\\`\\\\`\\\\`\\n`;\\n  });\\n\\n  it('should highlight codeblocks async', (done) => {\\n    highlight.and.callThrough();\\n\\n    marked(markdown, { highlight }, (err, html) => {\\n      if (err) {\\n        fail(err);\\n      }\\n\\n      expect(html).toBe(`<pre><code class=\\\"language-lang1\\\">async text 1\\n</code></pre>\\n<blockquote>\\n<pre><code class=\\\"language-lang2\\\">async text 2\\n</code></pre>\\n</blockquote>\\n<ul>\\n<li><pre><code class=\\\"language-lang3\\\">async text 3\\n</code></pre>\\n</li>\\n</ul>\\n`);\\n      done();\\n    });\\n  });\\n\\n  it('should call callback for each error in highlight', (done) => {\\n    highlight.and.callFake((text, lang, callback) => {\\n      callback(new Error('highlight error'));\\n    });\\n\\n    let numErrors = 0;\\n    marked(markdown, { highlight }, (err, html) => {\\n      expect(err).toBeTruthy();\\n      expect(html).toBeUndefined();\\n\\n      if (err) {\\n        numErrors++;\\n      }\\n\\n      if (numErrors === 3) {\\n        done();\\n      }\\n    });\\n  });\\n\\n  it('should highlight codeblocks when not async', (done) => {\\n    highlight.and.callFake((text, lang, callback) => {\\n      callback(null, `async ${text || ''}`);\\n    });\\n\\n    marked(markdown, { highlight }, (err, html) => {\\n      if (err) {\\n        fail(err);\\n      }\\n\\n      expect(html).toBe(`<pre><code class=\\\"language-lang1\\\">async text 1\\n</code></pre>\\n<blockquote>\\n<pre><code class=\\\"language-lang2\\\">async text 2\\n</code></pre>\\n</blockquote>\\n<ul>\\n<li><pre><code class=\\\"language-lang3\\\">async text 3\\n</code></pre>\\n</li>\\n</ul>\\n`);\\n      done();\\n    });\\n  });\\n});\\n\\ndescribe('walkTokens', () => {\\n  it('should walk over every token', () => {\\n    const markdown = `\\nparagraph\\n\\n---\\n\\n# heading\\n\\n\\\\`\\\\`\\\\`\\ncode\\n\\\\`\\\\`\\\\`\\n\\n| a | b |\\n|---|---|\\n| 1 | 2 |\\n| 3 | 4 |\\n\\n> blockquote\\n\\n- list\\n\\n<div>html</div>\\n\\n[link](https://example.com)\\n\\n![image](https://example.com/image.jpg)\\n\\n**strong**\\n\\n*em*\\n\\n\\\\`codespan\\\\`\\n\\n~~del~~\\n\\nbr\\nbr\\n`;\\n    const tokens = marked.lexer(markdown, { ...marked.getDefaults(), breaks: true });\\n    const tokensSeen = [];\\n    marked.walkTokens(tokens, (token) => {\\n      tokensSeen.push([token.type, (token.raw || '').replace(/\\\\n/g, '')]);\\n    });\\n\\n    expect(tokensSeen).toEqual([\\n      ['paragraph', 'paragraph'],\\n      ['text', 'paragraph'],\\n      ['space', ''],\\n      ['hr', '---'],\\n      ['heading', '# heading'],\\n      ['text', 'heading'],\\n      ['code', '```code```'],\\n      ['table', '| a | b ||---|---|| 1 | 2 || 3 | 4 |'],\\n      ['text', 'a'],\\n      ['text', 'b'],\\n      ['text', '1'],\\n      ['text', '2'],\\n      ['text', '3'],\\n      ['text', '4'],\\n      ['blockquote', '> blockquote'],\\n      ['paragraph', 'blockquote'],\\n      ['text', 'blockquote'],\\n      ['list', '- list'],\\n      ['list_item', '- list'],\\n      ['text', 'list'],\\n      ['text', 'list'],\\n      ['space', ''],\\n      ['html', '<div>html</div>'],\\n      ['paragraph', '[link](https://example.com)'],\\n      ['link', '[link](https://example.com)'],\\n      ['text', 'link'],\\n      ['space', ''],\\n      ['paragraph', '![image](https://example.com/image.jpg)'],\\n      ['image', '![image](https://example.com/image.jpg)'],\\n      ['space', ''],\\n      ['paragraph', '**strong**'],\\n      ['strong', '**strong**'],\\n      ['text', 'strong'],\\n      ['space', ''],\\n      ['paragraph', '*em*'],\\n      ['em', '*em*'],\\n      ['text', 'em'],\\n      ['space', ''],\\n      ['paragraph', '`codespan`'],\\n      ['codespan', '`codespan`'],\\n      ['space', ''],\\n      ['paragraph', '~~del~~'],\\n      ['del', '~~del~~'],\\n      ['text', 'del'],\\n      ['space', ''],\\n      ['paragraph', 'brbr'],\\n      ['text', 'br'],\\n      ['br', ''],\\n      ['text', 'br']\\n    ]);\\n  });\\n});\\n\\n[end of marked-spec.js]\\n\\n</code>\\n\\nHere is an example of a patch file. It consists of changes to the code base. It specifies the file names, the line numbers of each change, and the removed and added lines. A single patch file can contain changes to multiple files.\\n\\n<patch>\\ndiff --git a/file.py b/file.py\\n--- a/file.py\\n+++ b/file.py\\n@@ -1,27 +1,35 @@\\n def euclidean(a, b):\\n-    while b:\\n-        a, b = b, a % b\\n-    return a\\n+    if b == 0:\\n+        return a\\n+    return euclidean(b, a % b)\\n \\n def bresenham(x0, y0, x1, y1):\\n+    points = []\\n+    dx = abs(x1 - x0)\\n+    dy = abs(y1 - y0)\\n+    sx = 1 if x0 < x1 else -1\\n+    sy = 1 if y0 < y1 else -1\\n+    err = dx - dy\\n+    \\n     while True:\\n-        plot(x0, y0)\\n+        points.append((x0, y0))\\n         if x0 == x1 and y0 == y1:\\n             break\\n-        e2 = 2 * err\\n-        if e2 > -dy:\\n-            err -= dy\\n-            x0 += sx\\n-        if e2 < dx:\\n-            err += dx\\n-            y0 += sy\\n+        e2 = 2 * err\\n+        if e2 > -dy:\\n+            err -= dy\\n+            x0 += sx\\n+        if e2 < dx:\\n+            err += dx\\n+            y0 += sy\\n+    return points\\n+</patch>\\n\\nI need you to solve the provided issue by generating a single patch file that I can apply directly to this repository using git apply. Please respond with a single patch file in the format shown above.\\n\\nRespond below: \\n\"}]",
      "retrieved_file_paths": [
        "quickref.md",
        "markdown_documentation_syntax.md",
        "marked.esm.js",
        "markdown_documentation_basics.md",
        "marked-spec.js"
      ]
    },
    "retrieved_documents": [
      {
        "id": "a32be21a-3c97-4426-9928-1bc3f42fff28",
        "score": 0.01639344262295082,
        "payload": {
          "text": "Markdown Quick Reference\n========================\n\nThis guide is a very brief overview, with examples, of the syntax that [Markdown] supports. It is itself written in Markdown and you can copy the samples over to the left-hand pane for experimentation. It's shown as *text* and not *rendered HTML*.\n\n[Markdown]: http://daringfireball.net/projects/markdown/\n\n\nSimple Text Formatting\n======================\n\nFirst thing is first. You can use *stars* or _underscores_ for italics. **Double stars** and __double underscores__ for bold. ***Three together*** for ___both___.\n\nParagraphs are pretty easy too. Just have a blank line between chunks of text.\n\n> This chunk of text is in a block quote. Its multiple lines will all be\n> indented a bit from the rest of the text.\n>\n> > Multiple levels of block quotes also work.\n\nSometimes you want to include code, such as when you are explaining how `<h1>` HTML tags work, or maybe you are a programmer and you are discussing `someMethod()`.\n\nIf you want to include code and have new\nlines preserved, indent the line with a tab\nor at least four spaces:\n\n    Extra spaces work here too.\n    This is also called preformatted text and it is useful for showing examples.\n    The text will stay as text, so any *markdown* or <u>HTML</u> you add will\n    not show up formatted. This way you can show markdown examples in a\n    markdown document.\n\n>     You can also use preformatted text with your blockquotes\n>     as long as you add at least five spaces.\n\n\nHeadings\n========\n\nThere are a couple of ways to make headings. Using three or more equals signs on a line under a heading makes it into an \"h1\" style. Three or more hyphens under a line makes it \"h2\" (slightly smaller). You can also use multiple pound symbols (`#`) before and after a heading. Pounds after the title are ignored. Here are some examples:\n\nThis is H1\n==========\n\nThis is H2\n----------\n\n# This is H1\n## This is H2\n### This is H3 with some extra pounds ###\n#### You get the idea ####\n##### I don't need extra pounds at the end\n###### H6 is the max\n\n\nLinks\n=====\n\nLet's link to a few sites. First, let's use the bare URL, like <https://www.github.com>. Great for text, but ugly for HTML.\nNext is an inline link to [Google](https://www.google.com). A little nicer.\nThis is a reference-style link to [Wikipedia] [1].\nLastly, here's a pretty link to [Yahoo]. The reference-style and pretty links both automatically use the links defined below, but they could be defined *anywhere* in the markdown and are removed from the HTML. The names are also case insensitive, so you can use [YaHoO] and have it link properly.\n\n[1]: https://www.wikipedia.org\n[Yahoo]: https://www.yahoo.com\n\nTitle attributes may be added to links by adding text after a link.\nThis is the [inline link](https://www.bing.com \"Bing\") with a \"Bing\" title.\nYou can also go to [W3C] [2] and maybe visit a [friend].\n\n[2]: https://w3c.org (The W3C puts out specs for web-based things)\n[Friend]: https://facebook.com \"Facebook!\"\n\nEmail addresses in plain text are not linked: test@example.com.\nEmail addresses wrapped in angle brackets are linked: <test@example.com>.\nThey are also obfuscated so that email harvesting spam robots hopefully won't get them.\n\n\nLists\n=====\n\n* This is a bulleted list\n* Great for shopping lists\n- You can also use hyphens\n+ Or plus symbols\n\nThe above is an \"unordered\" list. Now, on for a bit of order.\n\n1. Numbered lists are also easy\n2. Just start with a number\n3738762. However, the actual number doesn't matter when converted to HTML.\n1. This will still show up as 4.\n\nYou might want a few advanced lists:\n\n- This top-level list is wrapped in paragraph tags\n- This generates an extra space between each top-level item.\n\n- You do it by adding a blank line\n\n- This nested list also has blank lines between the list items.\n\n- How to create nested lists\n  1. Start your regular list\n  2. Indent nested lists with two spaces\n  3. Further nesting means you should indent with two more spaces\n    * This line is indented with four spaces.\n\n- List items can be quite lengthy. You can keep typing and either continue\nthem on the next line with no indentation.\n\n- Alternately, if that looks ugly, you can also\n  indent the next line a bit for a prettier look.\n\n- You can put large blocks of text in your list by just indenting with two spaces.\n\n  This is formatted the same as code, but you can inspect the HTML\n  and find that it's just wrapped in a `<p>` tag and *won't* be shown\n  as preformatted text.\n\n  You can keep adding more and more paragraphs to a single\n  list item by adding the traditional blank line and then keep\n  on indenting the paragraphs with two spaces.\n\n  You really only need to indent the first line,\nbut that looks ugly.\n\n- Lists support blockquotes\n\n  > Just like this example here. By the way, you can\n  > nest lists inside blockquotes!\n  > - Fantastic!\n\n- Lists support preformatted text\n\n      You just need to indent an additional four spaces.\n\n\nEven More\n=========\n\nHorizontal Rule\n---------------\n\nIf you need a horizontal rule you just need to put at least three hyphens, asterisks, or underscores on a line by themselves. You can also even put spaces between the characters.\n\n---\n****************************\n_ _ _ _ _ _ _\n\nThose three all produced horizontal lines. Keep in mind that three hyphens under any text turns that text into a heading, so add a blank like if you use hyphens.\n\nImages\n------\n\nImages work exactly like links, but they have exclamation points in front. They work with references and titles too.\n\n![Google Logo](https://www.google.com/images/errors/logo_sm.gif) and ![Happy].\n\n[Happy]: https://wpclipart.com/smiley/happy/simple_colors/smiley_face_simple_green_small.png (\"Smiley face\")\n\n\nInline HTML\n-----------\n\nIf markdown is too limiting, you can just insert your own <strike>crazy</strike> HTML. Span-level HTML <u>can *still* use markdown</u>. Block level elements must be separated from text by a blank line and must not have any spaces before the opening and closing HTML.\n\n<div style='font-family: \"Comic Sans MS\", \"Comic Sans\", cursive;'>\nIt is a pity, but markdown does **not** work in here for most markdown parsers.\n[Marked] handles it pretty well.\n</div>\n",
          "filepath": "data/repos/markedjs/marked-2.0/docs/demo/quickref.md",
          "repo": "markedjs/marked",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "a32be21a-3c97-4426-9928-1bc3f42fff28"
        }
      },
      {
        "id": "b327a7b3-aaab-4d65-9ae1-0024007be0d8",
        "score": 0.016129032258064516,
        "payload": {
          "text": "---\npedantic: true\nheaderIds: false\n---\n\nMarkdown: Syntax\n================\n\n<ul id=\"ProjectSubmenu\">\n    <li><a href=\"/projects/markdown/\" title=\"Markdown Project Page\">Main</a></li>\n    <li><a href=\"/projects/markdown/basics\" title=\"Markdown Basics\">Basics</a></li>\n    <li><a class=\"selected\" title=\"Markdown Syntax Documentation\">Syntax</a></li>\n    <li><a href=\"/projects/markdown/license\" title=\"Pricing and License Information\">License</a></li>\n    <li><a href=\"/projects/markdown/dingus\" title=\"Online Markdown Web Form\">Dingus</a></li>\n</ul>\n\n\n*   [Overview](#overview)\n    *   [Philosophy](#philosophy)\n    *   [Inline HTML](#html)\n    *   [Automatic Escaping for Special Characters](#autoescape)\n*   [Block Elements](#block)\n    *   [Paragraphs and Line Breaks](#p)\n    *   [Headers](#header)\n    *   [Blockquotes](#blockquote)\n    *   [Lists](#list)\n    *   [Code Blocks](#precode)\n    *   [Horizontal Rules](#hr)\n*   [Span Elements](#span)\n    *   [Links](#link)\n    *   [Emphasis](#em)\n    *   [Code](#code)\n    *   [Images](#img)\n*   [Miscellaneous](#misc)\n    *   [Backslash Escapes](#backslash)\n    *   [Automatic Links](#autolink)\n\n\n**Note:** This document is itself written using Markdown; you\ncan [see the source for it by adding '.text' to the URL][src].\n\n  [src]: /projects/markdown/syntax.text\n\n* * *\n\n<h2 id=\"overview\">Overview</h2>\n\n<h3 id=\"philosophy\">Philosophy</h3>\n\nMarkdown is intended to be as easy-to-read and easy-to-write as is feasible.\n\nReadability, however, is emphasized above all else. A Markdown-formatted\ndocument should be publishable as-is, as plain text, without looking\nlike it's been marked up with tags or formatting instructions. While\nMarkdown's syntax has been influenced by several existing text-to-HTML\nfilters -- including [Setext] [1], [atx] [2], [Textile] [3], [reStructuredText] [4],\n[Grutatext] [5], and [EtText] [6] -- the single biggest source of\ninspiration for Markdown's syntax is the format of plain text email.\n\n  [1]: http://docutils.sourceforge.net/mirror/setext.html\n  [2]: http://www.aaronsw.com/2002/atx/\n  [3]: http://textism.com/tools/textile/\n  [4]: http://docutils.sourceforge.net/rst.html\n  [5]: http://www.triptico.com/software/grutatxt.html\n  [6]: http://ettext.taint.org/doc/\n\nTo this end, Markdown's syntax is comprised entirely of punctuation\ncharacters, which punctuation characters have been carefully chosen so\nas to look like what they mean. E.g., asterisks around a word actually\nlook like \\*emphasis\\*. Markdown lists look like, well, lists. Even\nblockquotes look like quoted passages of text, assuming you've ever\nused email.\n\n\n\n<h3 id=\"html\">Inline HTML</h3>\n\nMarkdown's syntax is intended for one purpose: to be used as a\nformat for *writing* for the web.\n\nMarkdown is not a replacement for HTML, or even close to it. Its\nsyntax is very small, corresponding only to a very small subset of\nHTML tags. The idea is *not* to create a syntax that makes it easier\nto insert HTML tags. In my opinion, HTML tags are already easy to\ninsert. The idea for Markdown is to make it easy to read, write, and\nedit prose. HTML is a *publishing* format; Markdown is a *writing*\nformat. Thus, Markdown's formatting syntax only addresses issues that\ncan be conveyed in plain text.\n\nFor any markup that is not covered by Markdown's syntax, you simply\nuse HTML itself. There's no need to preface it or delimit it to\nindicate that you're switching from Markdown to HTML; you just use\nthe tags.\n\nThe only restrictions are that block-level HTML elements -- e.g. `<div>`,\n`<table>`, `<pre>`, `<p>`, etc. -- must be separated from surrounding\ncontent by blank lines, and the start and end tags of the block should\nnot be indented with tabs or spaces. Markdown is smart enough not\nto add extra (unwanted) `<p>` tags around HTML block-level tags.\n\nFor example, to add an HTML table to a Markdown article:\n\n    This is a regular paragraph.\n\n    <table>\n        <tr>\n            <td>Foo</td>\n        </tr>\n    </table>\n\n    This is another regular paragraph.\n\nNote that Markdown formatting syntax is not processed within block-level\nHTML tags. E.g., you can't use Markdown-style `*emphasis*` inside an\nHTML block.\n\nSpan-level HTML tags -- e.g. `<span>`, `<cite>`, or `<del>` -- can be\nused anywhere in a Markdown paragraph, list item, or header. If you\nwant, you can even use HTML tags instead of Markdown formatting; e.g. if\nyou'd prefer to use HTML `<a>` or `<img>` tags instead of Markdown's\nlink or image syntax, go right ahead.\n\nUnlike block-level HTML tags, Markdown syntax *is* processed within\nspan-level tags.\n\n\n<h3 id=\"autoescape\">Automatic Escaping for Special Characters</h3>\n\nIn HTML, there are two characters that demand special treatment: `<`\nand `&`. Left angle brackets are used to start tags; ampersands are\nused to denote HTML entities. If you want to use them as literal\ncharacters, you must escape them as entities, e.g. `&lt;`, and\n`&amp;`.\n\nAmpersands in particular are bedeviling for web writers. If you want to\nwrite about 'AT&T', you need to write '`AT&amp;T`'. You even need to\nescape ampersands within URLs. Thus, if you want to link to:\n\n    http://images.google.com/images?num=30&q=larry+bird\n\nyou need to encode the URL as:\n\n    http://images.google.com/images?num=30&amp;q=larry+bird\n\nin your anchor tag `href` attribute. Needless to say, this is easy to\nforget, and is probably the single most common source of HTML validation\nerrors in otherwise well-marked-up web sites.\n\nMarkdown allows you to use these characters naturally, taking care of\nall the necessary escaping for you. If you use an ampersand as part of\nan HTML entity, it remains unchanged; otherwise it will be translated\ninto `&amp;`.\n\nSo, if you want to include a copyright symbol in your article, you can write:\n\n    &copy;\n\nand Markdown will leave it alone. But if you write:\n\n    AT&T\n\nMarkdown will translate it to:\n\n    AT&amp;T\n\nSimilarly, because Markdown supports [inline HTML](#html), if you use\nangle brackets as delimiters for HTML tags, Markdown will treat them as\nsuch. But if you write:\n\n    4 < 5\n\nMarkdown will translate it to:\n\n    4 &lt; 5\n\nHowever, inside Markdown code spans and blocks, angle brackets and\nampersands are *always* encoded automatically. This makes it easy to use\nMarkdown to write about HTML code. (As opposed to raw HTML, which is a\nterrible format for writing about HTML syntax, because every single `<`\nand `&` in your example code needs to be escaped.)\n\n\n* * *\n\n\n<h2 id=\"block\">Block Elements</h2>\n\n\n<h3 id=\"p\">Paragraphs and Line Breaks</h3>\n\nA paragraph is simply one or more consecutive lines of text, separated\nby one or more blank lines. (A blank line is any line that looks like a\nblank line -- a line containing nothing but spaces or tabs is considered\nblank.) Normal paragraphs should not be intended with spaces or tabs.\n\nThe implication of the \"one or more consecutive lines of text\" rule is\nthat Markdown supports \"hard-wrapped\" text paragraphs. This differs\nsignificantly from most other text-to-HTML formatters (including Movable\nType's \"Convert Line Breaks\" option) which translate every line break\ncharacter in a paragraph into a `<br />` tag.\n\nWhen you *do* want to insert a `<br />` break tag using Markdown, you\nend a line with two or more spaces, then type return.\n\nYes, this takes a tad more effort to create a `<br />`, but a simplistic\n\"every line break is a `<br />`\" rule wouldn't work for Markdown.\nMarkdown's email-style [blockquoting][bq] and multi-paragraph [list items][l]\nwork best -- and look better -- when you format them with hard breaks.\n\n  [bq]: #blockquote\n  [l]:  #list\n\n\n\n<h3 id=\"header\">Headers</h3>\n\nMarkdown supports two styles of headers, [Setext] [1] and [atx] [2].\n\nSetext-style headers are \"underlined\" using equal signs (for first-level\nheaders) and dashes (for second-level headers). For example:\n\n    This is an H1\n    =============\n\n    This is an H2\n    -------------\n\nAny number of underlining `=`'s or `-`'s will work.\n\nAtx-style headers use 1-6 hash characters at the start of the line,\ncorresponding to header levels 1-6. For example:\n\n    # This is an H1\n\n    ## This is an H2\n\n    ###### This is an H6\n\nOptionally, you may \"close\" atx-style headers. This is purely\ncosmetic -- you can use this if you think it looks better. The\nclosing hashes don't even need to match the number of hashes\nused to open the header. (The number of opening hashes\ndetermines the header level.) :\n\n    # This is an H1 #\n\n    ## This is an H2 ##\n\n    ### This is an H3 ######\n\n\n<h3 id=\"blockquote\">Blockquotes</h3>\n\nMarkdown uses email-style `>` characters for blockquoting. If you're\nfamiliar with quoting passages of text in an email message, then you\nknow how to create a blockquote in Markdown. It looks best if you hard\nwrap the text and put a `>` before every line:\n\n    > This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,\n    > consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.\n    > Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus.\n    >\n    > Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse\n    > id sem consectetuer libero luctus adipiscing.\n\nMarkdown allows you to be lazy and only put the `>` before the first\nline of a hard-wrapped paragraph:\n\n    > This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,\n    consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.\n    Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus.\n\n    > Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse\n    id sem consectetuer libero luctus adipiscing.\n\nBlockquotes can be nested (i.e. a blockquote-in-a-blockquote) by\nadding additional levels of `>`:\n\n    > This is the first level of quoting.\n    >\n    > > This is nested blockquote.\n    >\n    > Back to the first level.\n\nBlockquotes can contain other Markdown elements, including headers, lists,\nand code blocks:\n\n\t> ## This is a header.\n\t>\n\t> 1.   This is the first list item.\n\t> 2.   This is the second list item.\n\t>\n\t> Here's some example code:\n\t>\n\t>     return shell_exec(\"echo $input | $markdown_script\");\n\nAny decent text editor should make email-style quoting easy. For\nexample, with BBEdit, you can make a selection and choose Increase\nQuote Level from the Text menu.\n\n\n<h3 id=\"list\">Lists</h3>\n\nMarkdown supports ordered (numbered) and unordered (bulleted) lists.\n\nUnordered lists use asterisks, pluses, and hyphens -- interchangably\n-- as list markers:\n\n    *   Red\n    *   Green\n    *   Blue\n\nis equivalent to:\n\n    +   Red\n    +   Green\n    +   Blue\n\nand:\n\n    -   Red\n    -   Green\n    -   Blue\n\nOrdered lists use numbers followed by periods:\n\n    1.  Bird\n    2.  McHale\n    3.  Parish\n\nIt's important to note that the actual numbers you use to mark the\nlist have no effect on the HTML output Markdown produces. The HTML\nMarkdown produces from the above list is:\n\n    <ol>\n    <li>Bird</li>\n    <li>McHale</li>\n    <li>Parish</li>\n    </ol>\n\nIf you instead wrote the list in Markdown like this:\n\n    1.  Bird\n    1.  McHale\n    1.  Parish\n\nor even:\n\n    3. Bird\n    1. McHale\n    8. Parish\n\nyou'd get the exact same HTML output. The point is, if you want to,\nyou can use ordinal numbers in your ordered Markdown lists, so that\nthe numbers in your source match the numbers in your published HTML.\nBut if you want to be lazy, you don't have to.\n\nIf you do use lazy list numbering, however, you should still start the\nlist with the number 1. At some point in the future, Markdown may support\nstarting ordered lists at an arbitrary number.\n\nList markers typically start at the left margin, but may be indented by\nup to three spaces. List markers must be followed by one or more spaces\nor a tab.\n\nTo make lists look nice, you can wrap items with hanging indents:\n\n    *   Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\n        Aliquam hendrerit mi posuere lectus. Vestibulum enim wisi,\n        viverra nec, fringilla in, laoreet vitae, risus.\n    *   Donec sit amet nisl. Aliquam semper ipsum sit amet velit.\n        Suspendisse id sem consectetuer libero luctus adipiscing.\n\nBut if you want to be lazy, you don't have to:\n\n    *   Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\n    Aliquam hendrerit mi posuere lectus. Vestibulum enim wisi,\n    viverra nec, fringilla in, laoreet vitae, risus.\n    *   Donec sit amet nisl. Aliquam semper ipsum sit amet velit.\n    Suspendisse id sem consectetuer libero luctus adipiscing.\n\nIf list items are separated by blank lines, Markdown will wrap the\nitems in `<p>` tags in the HTML output. For example, this input:\n\n    *   Bird\n    *   Magic\n\nwill turn into:\n\n    <ul>\n    <li>Bird</li>\n    <li>Magic</li>\n    </ul>\n\nBut this:\n\n    *   Bird\n\n    *   Magic\n\nwill turn into:\n\n    <ul>\n    <li><p>Bird</p></li>\n    <li><p>Magic</p></li>\n    </ul>\n\nList items may consist of multiple paragraphs. Each subsequent\nparagraph in a list item must be intended by either 4 spaces\nor one tab:\n\n    1.  This is a list item with two paragraphs. Lorem ipsum dolor\n        sit amet, consectetuer adipiscing elit. Aliquam hendrerit\n        mi posuere lectus.\n\n        Vestibulum enim wisi, viverra nec, fringilla in, laoreet\n        vitae, risus. Donec sit amet nisl. Aliquam semper ipsum\n        sit amet velit.\n\n    2.  Suspendisse id sem consectetuer libero luctus adipiscing.\n\nIt looks nice if you indent every line of the subsequent\nparagraphs, but here again, Markdown will allow you to be\nlazy:\n\n    *   This is a list item with two paragraphs.\n\n        This is the second paragraph in the list item. You're\n    only required to indent the first line. Lorem ipsum dolor\n    sit amet, consectetuer adipiscing elit.\n\n    *   Another item in the same list.\n\nTo put a blockquote within a list item, the blockquote's `>`\ndelimiters need to be indented:\n\n    *   A list item with a blockquote:\n\n        > This is a blockquote\n        > inside a list item.\n\nTo put a code block within a list item, the code block needs\nto be indented *twice* -- 8 spaces or two tabs:\n\n    *   A list item with a code block:\n\n            <code goes here>\n\n\nIt's worth noting that it's possible to trigger an ordered list by\naccident, by writing something like this:\n\n    1986. What a great season.\n\nIn other words, a *number-period-space* sequence at the beginning of a\nline. To avoid this, you can backslash-escape the period:\n\n    1986\\. What a great season.\n\n\n\n<h3 id=\"precode\">Code Blocks</h3>\n\nPre-formatted code blocks are used for writing about programming or\nmarkup source code. Rather than forming normal paragraphs, the lines\nof a code block are interpreted literally. Markdown wraps a code block\nin both `<pre>` and `<code>` tags.\n\nTo produce a code block in Markdown, simply indent every line of the\nblock by at least 4 spaces or 1 tab. For example, given this input:\n\n    This is a normal paragraph:\n\n        This is a code block.\n\nMarkdown will generate:\n\n    <p>This is a normal paragraph:</p>\n\n    <pre><code>This is a code block.\n    </code></pre>\n\nOne level of indentation -- 4 spaces or 1 tab -- is removed from each\nline of the code block. For example, this:\n\n    Here is an example of AppleScript:\n\n        tell application \"Foo\"\n            beep\n        end tell\n\nwill turn into:\n\n    <p>Here is an example of AppleScript:</p>\n\n    <pre><code>tell application \"Foo\"\n        beep\n    end tell\n    </code></pre>\n\nA code block continues until it reaches a line that is not indented\n(or the end of the article).\n\nWithin a code block, ampersands (`&`) and angle brackets (`<` and `>`)\nare automatically converted into HTML entities. This makes it very\neasy to include example HTML source code using Markdown -- just paste\nit and indent it, and Markdown will handle the hassle of encoding the\nampersands and angle brackets. For example, this:\n\n        <div class=\"footer\">\n            &copy; 2004 Foo Corporation\n        </div>\n\nwill turn into:\n\n    <pre><code>&lt;div class=\"footer\"&gt;\n        &amp;copy; 2004 Foo Corporation\n    &lt;/div&gt;\n    </code></pre>\n\nRegular Markdown syntax is not processed within code blocks. E.g.,\nasterisks are just literal asterisks within a code block. This means\nit's also easy to use Markdown to write about Markdown's own syntax.\n\n\n\n<h3 id=\"hr\">Horizontal Rules</h3>\n\nYou can produce a horizontal rule tag (`<hr />`) by placing three or\nmore hyphens, asterisks, or underscores on a line by themselves. If you\nwish, you may use spaces between the hyphens or asterisks. Each of the\nfollowing lines will produce a horizontal rule:\n\n    * * *\n\n    ***\n\n    *****\n\n    - - -\n\n    ---------------------------------------\n\n\t_ _ _\n\n\n* * *\n\n<h2 id=\"span\">Span Elements</h2>\n\n<h3 id=\"link\">Links</h3>\n\nMarkdown supports two style of links: *inline* and *reference*.\n\nIn both styles, the link text is delimited by [square brackets].\n\nTo create an inline link, use a set of regular parentheses immediately\nafter the link text's closing square bracket. Inside the parentheses,\nput the URL where you want the link to point, along with an *optional*\ntitle for the link, surrounded in quotes. For example:\n\n    This is [an example](http://example.com/ \"Title\") inline link.\n\n    [This link](http://example.net/) has no title attribute.\n\nWill produce:\n\n    <p>This is <a href=\"http://example.com/\" title=\"Title\">\n    an example</a> inline link.</p>\n\n    <p><a href=\"http://example.net/\">This link</a> has no\n    title attribute.</p>\n\nIf you're referring to a local resource on the same server, you can\nuse relative paths:\n\n    See my [About](/about/) page for details.\n\nReference-style links use a second set of square brackets, inside\nwhich you place a label of your choosing to identify the link:\n\n    This is [an example][id] reference-style link.\n\nYou can optionally use a space to separate the sets of brackets:\n\n    This is [an example] [id] reference-style link.\n\nThen, anywhere in the document, you define your link label like this,\non a line by itself:\n\n    [id]: http://example.com/  \"Optional Title Here\"\n\nThat is:\n\n*   Square brackets containing the link identifier (optionally\n    indented from the left margin using up to three spaces);\n*   followed by a colon;\n*   followed by one or more spaces (or tabs);\n*   followed by the URL for the link;\n*   optionally followed by a title attribute for the link, enclosed\n    in double or single quotes.\n\nThe link URL may, optionally, be surrounded by angle brackets:\n\n    [id]: <http://example.com/>  \"Optional Title Here\"\n\nYou can put the title attribute on the next line and use extra spaces\nor tabs for padding, which tends to look better with longer URLs:\n\n    [id]: http://example.com/longish/path/to/resource/here\n        \"Optional Title Here\"\n\nLink definitions are only used for creating links during Markdown\nprocessing, and are stripped from your document in the HTML output.\n\nLink definition names may constist of letters, numbers, spaces, and punctuation -- but they are *not* case sensitive. E.g. these two links:\n\n\t[link text][a]\n\t[link text][A]\n\nare equivalent.\n\nThe *implicit link name* shortcut allows you to omit the name of the\nlink, in which case the link text itself is used as the name.\nJust use an empty set of square brackets -- e.g., to link the word\n\"Google\" to the google.com web site, you could simply write:\n\n\t[Google][]\n\nAnd then define the link:\n\n\t[Google]: http://google.com/\n\nBecause link names may contain spaces, this shortcut even works for\nmultiple words in the link text:\n\n\tVisit [Daring Fireball][] for more information.\n\nAnd then define the link:\n\n\t[Daring Fireball]: http://daringfireball.net/\n\nLink definitions can be placed anywhere in your Markdown document. I\ntend to put them immediately after each paragraph in which they're\nused, but if you want, you can put them all at the end of your\ndocument, sort of like footnotes.\n\nHere's an example of reference links in action:\n\n    I get 10 times more traffic from [Google] [1] than from\n    [Yahoo] [2] or [MSN] [3].\n\n      [1]: http://google.com/        \"Google\"\n      [2]: http://search.yahoo.com/  \"Yahoo Search\"\n      [3]: http://search.msn.com/    \"MSN Search\"\n\nUsing the implicit link name shortcut, you could instead write:\n\n    I get 10 times more traffic from [Google][] than from\n    [Yahoo][] or [MSN][].\n\n      [google]: http://google.com/        \"Google\"\n      [yahoo]:  http://search.yahoo.com/  \"Yahoo Search\"\n      [msn]:    http://search.msn.com/    \"MSN Search\"\n\nBoth of the above examples will produce the following HTML output:\n\n    <p>I get 10 times more traffic from <a href=\"http://google.com/\"\n    title=\"Google\">Google</a> than from\n    <a href=\"http://search.yahoo.com/\" title=\"Yahoo Search\">Yahoo</a>\n    or <a href=\"http://search.msn.com/\" title=\"MSN Search\">MSN</a>.</p>\n\nFor comparison, here is the same paragraph written using\nMarkdown's inline link style:\n\n    I get 10 times more traffic from [Google](http://google.com/ \"Google\")\n    than from [Yahoo](http://search.yahoo.com/ \"Yahoo Search\") or\n    [MSN](http://search.msn.com/ \"MSN Search\").\n\nThe point of reference-style links is not that they're easier to\nwrite. The point is that with reference-style links, your document\nsource is vastly more readable. Compare the above examples: using\nreference-style links, the paragraph itself is only 81 characters\nlong; with inline-style links, it's 176 characters; and as raw HTML,\nit's 234 characters. In the raw HTML, there's more markup than there\nis text.\n\nWith Markdown's reference-style links, a source document much more\nclosely resembles the final output, as rendered in a browser. By\nallowing you to move the markup-related metadata out of the paragraph,\nyou can add links without interrupting the narrative flow of your\nprose.\n\n\n<h3 id=\"em\">Emphasis</h3>\n\nMarkdown treats asterisks (`*`) and underscores (`_`) as indicators of\nemphasis. Text wrapped with one `*` or `_` will be wrapped with an\nHTML `<em>` tag; double `*`'s or `_`'s will be wrapped with an HTML\n`<strong>` tag. E.g., this input:\n\n    *single asterisks*\n\n    _single underscores_\n\n    **double asterisks**\n\n    __double underscores__\n\nwill produce:\n\n    <em>single asterisks</em>\n\n    <em>single underscores</em>\n\n    <strong>double asterisks</strong>\n\n    <strong>double underscores</strong>\n\nYou can use whichever style you prefer; the lone restriction is that\nthe same character must be used to open and close an emphasis span.\n\nEmphasis can be used in the middle of a word:\n\n    un*fucking*believable\n\nBut if you surround an `*` or `_` with spaces, it'll be treated as a\nliteral asterisk or underscore.\n\nTo produce a literal asterisk or underscore at a position where it\nwould otherwise be used as an emphasis delimiter, you can backslash\nescape it:\n\n    \\*this text is surrounded by literal asterisks\\*\n\n\n\n<h3 id=\"code\">Code</h3>\n\nTo indicate a span of code, wrap it with backtick quotes (`` ` ``).\nUnlike a pre-formatted code block, a code span indicates code within a\nnormal paragraph. For example:\n\n    Use the `printf()` function.\n\nwill produce:\n\n    <p>Use the <code>printf()</code> function.</p>\n\nTo include a literal backtick character within a code span, you can use\nmultiple backticks as the opening and closing delimiters:\n\n    ``There is a literal backtick (`) here.``\n\nwhich will produce this:\n\n    <p><code>There is a literal backtick (`) here.</code></p>\n\nThe backtick delimiters surrounding a code span may include spaces --\none after the opening, one before the closing. This allows you to place\nliteral backtick characters at the beginning or end of a code span:\n\n\tA single backtick in a code span: `` ` ``\n\n\tA backtick-delimited string in a code span: `` `foo` ``\n\nwill produce:\n\n\t<p>A single backtick in a code span: <code>`</code></p>\n\n\t<p>A backtick-delimited string in a code span: <code>`foo`</code></p>\n\nWith a code span, ampersands and angle brackets are encoded as HTML\nentities automatically, which makes it easy to include example HTML\ntags. Markdown will turn this:\n\n    Please don't use any `<blink>` tags.\n\ninto:\n\n    <p>Please don't use any <code>&lt;blink&gt;</code> tags.</p>\n\nYou can write this:\n\n    `&#8212;` is the decimal-encoded equivalent of `&mdash;`.\n\nto produce:\n\n    <p><code>&amp;#8212;</code> is the decimal-encoded\n    equivalent of <code>&amp;mdash;</code>.</p>\n\n\n\n<h3 id=\"img\">Images</h3>\n\nAdmittedly, it's fairly difficult to devise a \"natural\" syntax for\nplacing images into a plain text document format.\n\nMarkdown uses an image syntax that is intended to resemble the syntax\nfor links, allowing for two styles: *inline* and *reference*.\n\nInline image syntax looks like this:\n\n    ![Alt text](/path/to/img.jpg)\n\n    ![Alt text](/path/to/img.jpg \"Optional title\")\n\nThat is:\n\n*   An exclamation mark: `!`;\n*   followed by a set of square brackets, containing the `alt`\n    attribute text for the image;\n*   followed by a set of parentheses, containing the URL or path to\n    the image, and an optional `title` attribute enclosed in double\n    or single quotes.\n\nReference-style image syntax looks like this:\n\n    ![Alt text][id]\n\nWhere \"id\" is the name of a defined image reference. Image references\nare defined using syntax identical to link references:\n\n    [id]: url/to/image  \"Optional title attribute\"\n\nAs of this writing, Markdown has no syntax for specifying the\ndimensions of an image; if this is important to you, you can simply\nuse regular HTML `<img>` tags.\n\n\n* * *\n\n\n<h2 id=\"misc\">Miscellaneous</h2>\n\n<h3 id=\"autolink\">Automatic Links</h3>\n\nMarkdown supports a shortcut style for creating \"automatic\" links for URLs and email addresses: simply surround the URL or email address with angle brackets. What this means is that if you want to show the actual text of a URL or email address, and also have it be a clickable link, you can do this:\n\n    <http://example.com/>\n\nMarkdown will turn this into:\n\n    <a href=\"http://example.com/\">http://example.com/</a>\n\nAutomatic links for email addresses work similarly, except that\nMarkdown will also perform a bit of randomized decimal and hex\nentity-encoding to help obscure your address from address-harvesting\nspambots. For example, Markdown will turn this:\n\n    <address@example.com>\n\ninto something like this:\n\n    <a href=\"&#x6D;&#x61;i&#x6C;&#x74;&#x6F;:&#x61;&#x64;&#x64;&#x72;&#x65;\n    &#115;&#115;&#64;&#101;&#120;&#x61;&#109;&#x70;&#x6C;e&#x2E;&#99;&#111;\n    &#109;\">&#x61;&#x64;&#x64;&#x72;&#x65;&#115;&#115;&#64;&#101;&#120;&#x61;\n    &#109;&#x70;&#x6C;e&#x2E;&#99;&#111;&#109;</a>\n\nwhich will render in a browser as a clickable link to \"address@example.com\".\n\n(This sort of entity-encoding trick will indeed fool many, if not\nmost, address-harvesting bots, but it definitely won't fool all of\nthem. It's better than nothing, but an address published in this way\nwill probably eventually start receiving spam.)\n\n\n\n<h3 id=\"backslash\">Backslash Escapes</h3>\n\nMarkdown allows you to use backslash escapes to generate literal\ncharacters which would otherwise have special meaning in Markdown's\nformatting syntax. For example, if you wanted to surround a word with\nliteral asterisks (instead of an HTML `<em>` tag), you can backslashes\nbefore the asterisks, like this:\n\n    \\*literal asterisks\\*\n\nMarkdown provides backslash escapes for the following characters:\n\n    \\   backslash\n    `   backtick\n    *   asterisk\n    _   underscore\n    {}  curly braces\n    []  square brackets\n    ()  parentheses\n    #   hash mark\n\t+\tplus sign\n\t-\tminus sign (hyphen)\n    .   dot\n    !   exclamation mark\n",
          "filepath": "data/repos/markedjs/marked-2.0/test/specs/original/markdown_documentation_syntax.md",
          "repo": "markedjs/marked",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "b327a7b3-aaab-4d65-9ae1-0024007be0d8"
        }
      },
      {
        "id": "7dba896b-328f-4fb9-ab0d-2c8cc9e62715",
        "score": 0.015873015873015872,
        "payload": {
          "text": "/**\n * marked - a markdown parser\n * Copyright (c) 2011-2021, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/markedjs/marked\n */\n\n/**\n * DO NOT EDIT THIS FILE\n * The code in this file is generated from files in ./src/\n */\n\nfunction createCommonjsModule(fn) {\n  var module = { exports: {} };\n\treturn fn(module, module.exports), module.exports;\n}\n\nvar defaults = createCommonjsModule(function (module) {\nfunction getDefaults() {\n  return {\n    baseUrl: null,\n    breaks: false,\n    gfm: true,\n    headerIds: true,\n    headerPrefix: '',\n    highlight: null,\n    langPrefix: 'language-',\n    mangle: true,\n    pedantic: false,\n    renderer: null,\n    sanitize: false,\n    sanitizer: null,\n    silent: false,\n    smartLists: false,\n    smartypants: false,\n    tokenizer: null,\n    walkTokens: null,\n    xhtml: false\n  };\n}\n\nfunction changeDefaults(newDefaults) {\n  module.exports.defaults = newDefaults;\n}\n\nmodule.exports = {\n  defaults: getDefaults(),\n  getDefaults,\n  changeDefaults\n};\n});\n\n/**\n * Helpers\n */\nconst escapeTest = /[&<>\"']/;\nconst escapeReplace = /[&<>\"']/g;\nconst escapeTestNoEncode = /[<>\"']|&(?!#?\\w+;)/;\nconst escapeReplaceNoEncode = /[<>\"']|&(?!#?\\w+;)/g;\nconst escapeReplacements = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n};\nconst getEscapeReplacement = (ch) => escapeReplacements[ch];\nfunction escape(html, encode) {\n  if (encode) {\n    if (escapeTest.test(html)) {\n      return html.replace(escapeReplace, getEscapeReplacement);\n    }\n  } else {\n    if (escapeTestNoEncode.test(html)) {\n      return html.replace(escapeReplaceNoEncode, getEscapeReplacement);\n    }\n  }\n\n  return html;\n}\n\nconst unescapeTest = /&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig;\n\nfunction unescape(html) {\n  // explicitly match decimal, hex, and named HTML entities\n  return html.replace(unescapeTest, (_, n) => {\n    n = n.toLowerCase();\n    if (n === 'colon') return ':';\n    if (n.charAt(0) === '#') {\n      return n.charAt(1) === 'x'\n        ? String.fromCharCode(parseInt(n.substring(2), 16))\n        : String.fromCharCode(+n.substring(1));\n    }\n    return '';\n  });\n}\n\nconst caret = /(^|[^\\[])\\^/g;\nfunction edit(regex, opt) {\n  regex = regex.source || regex;\n  opt = opt || '';\n  const obj = {\n    replace: (name, val) => {\n      val = val.source || val;\n      val = val.replace(caret, '$1');\n      regex = regex.replace(name, val);\n      return obj;\n    },\n    getRegex: () => {\n      return new RegExp(regex, opt);\n    }\n  };\n  return obj;\n}\n\nconst nonWordAndColonTest = /[^\\w:]/g;\nconst originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\nfunction cleanUrl(sanitize, base, href) {\n  if (sanitize) {\n    let prot;\n    try {\n      prot = decodeURIComponent(unescape(href))\n        .replace(nonWordAndColonTest, '')\n        .toLowerCase();\n    } catch (e) {\n      return null;\n    }\n    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n      return null;\n    }\n  }\n  if (base && !originIndependentUrl.test(href)) {\n    href = resolveUrl(base, href);\n  }\n  try {\n    href = encodeURI(href).replace(/%25/g, '%');\n  } catch (e) {\n    return null;\n  }\n  return href;\n}\n\nconst baseUrls = {};\nconst justDomain = /^[^:]+:\\/*[^/]*$/;\nconst protocol = /^([^:]+:)[\\s\\S]*$/;\nconst domain = /^([^:]+:\\/*[^/]*)[\\s\\S]*$/;\n\nfunction resolveUrl(base, href) {\n  if (!baseUrls[' ' + base]) {\n    // we can ignore everything in base after the last slash of its path component,\n    // but we might need to add _that_\n    // https://tools.ietf.org/html/rfc3986#section-3\n    if (justDomain.test(base)) {\n      baseUrls[' ' + base] = base + '/';\n    } else {\n      baseUrls[' ' + base] = rtrim(base, '/', true);\n    }\n  }\n  base = baseUrls[' ' + base];\n  const relativeBase = base.indexOf(':') === -1;\n\n  if (href.substring(0, 2) === '//') {\n    if (relativeBase) {\n      return href;\n    }\n    return base.replace(protocol, '$1') + href;\n  } else if (href.charAt(0) === '/') {\n    if (relativeBase) {\n      return href;\n    }\n    return base.replace(domain, '$1') + href;\n  } else {\n    return base + href;\n  }\n}\n\nconst noopTest = { exec: function noopTest() {} };\n\nfunction merge(obj) {\n  let i = 1,\n    target,\n    key;\n\n  for (; i < arguments.length; i++) {\n    target = arguments[i];\n    for (key in target) {\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\n        obj[key] = target[key];\n      }\n    }\n  }\n\n  return obj;\n}\n\nfunction splitCells(tableRow, count) {\n  // ensure that every cell-delimiting pipe has a space\n  // before it to distinguish it from an escaped pipe\n  const row = tableRow.replace(/\\|/g, (match, offset, str) => {\n      let escaped = false,\n        curr = offset;\n      while (--curr >= 0 && str[curr] === '\\\\') escaped = !escaped;\n      if (escaped) {\n        // odd number of slashes means | is escaped\n        // so we leave it alone\n        return '|';\n      } else {\n        // add space before unescaped |\n        return ' |';\n      }\n    }),\n    cells = row.split(/ \\|/);\n  let i = 0;\n\n  if (cells.length > count) {\n    cells.splice(count);\n  } else {\n    while (cells.length < count) cells.push('');\n  }\n\n  for (; i < cells.length; i++) {\n    // leading or trailing whitespace is ignored per the gfm spec\n    cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n  }\n  return cells;\n}\n\n// Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n// /c*$/ is vulnerable to REDOS.\n// invert: Remove suffix of non-c chars instead. Default falsey.\nfunction rtrim(str, c, invert) {\n  const l = str.length;\n  if (l === 0) {\n    return '';\n  }\n\n  // Length of suffix matching the invert condition.\n  let suffLen = 0;\n\n  // Step left until we fail to match the invert condition.\n  while (suffLen < l) {\n    const currChar = str.charAt(l - suffLen - 1);\n    if (currChar === c && !invert) {\n      suffLen++;\n    } else if (currChar !== c && invert) {\n      suffLen++;\n    } else {\n      break;\n    }\n  }\n\n  return str.substr(0, l - suffLen);\n}\n\nfunction findClosingBracket(str, b) {\n  if (str.indexOf(b[1]) === -1) {\n    return -1;\n  }\n  const l = str.length;\n  let level = 0,\n    i = 0;\n  for (; i < l; i++) {\n    if (str[i] === '\\\\') {\n      i++;\n    } else if (str[i] === b[0]) {\n      level++;\n    } else if (str[i] === b[1]) {\n      level--;\n      if (level < 0) {\n        return i;\n      }\n    }\n  }\n  return -1;\n}\n\nfunction checkSanitizeDeprecation(opt) {\n  if (opt && opt.sanitize && !opt.silent) {\n    console.warn('marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options');\n  }\n}\n\n// copied from https://stackoverflow.com/a/5450113/806777\nfunction repeatString(pattern, count) {\n  if (count < 1) {\n    return '';\n  }\n  let result = '';\n  while (count > 1) {\n    if (count & 1) {\n      result += pattern;\n    }\n    count >>= 1;\n    pattern += pattern;\n  }\n  return result + pattern;\n}\n\nvar helpers = {\n  escape,\n  unescape,\n  edit,\n  cleanUrl,\n  resolveUrl,\n  noopTest,\n  merge,\n  splitCells,\n  rtrim,\n  findClosingBracket,\n  checkSanitizeDeprecation,\n  repeatString\n};\n\nconst { defaults: defaults$1 } = defaults;\nconst {\n  rtrim: rtrim$1,\n  splitCells: splitCells$1,\n  escape: escape$1,\n  findClosingBracket: findClosingBracket$1\n} = helpers;\n\nfunction outputLink(cap, link, raw) {\n  const href = link.href;\n  const title = link.title ? escape$1(link.title) : null;\n  const text = cap[1].replace(/\\\\([\\[\\]])/g, '$1');\n\n  if (cap[0].charAt(0) !== '!') {\n    return {\n      type: 'link',\n      raw,\n      href,\n      title,\n      text\n    };\n  } else {\n    return {\n      type: 'image',\n      raw,\n      href,\n      title,\n      text: escape$1(text)\n    };\n  }\n}\n\nfunction indentCodeCompensation(raw, text) {\n  const matchIndentToCode = raw.match(/^(\\s+)(?:```)/);\n\n  if (matchIndentToCode === null) {\n    return text;\n  }\n\n  const indentToCode = matchIndentToCode[1];\n\n  return text\n    .split('\\n')\n    .map(node => {\n      const matchIndentInNode = node.match(/^\\s+/);\n      if (matchIndentInNode === null) {\n        return node;\n      }\n\n      const [indentInNode] = matchIndentInNode;\n\n      if (indentInNode.length >= indentToCode.length) {\n        return node.slice(indentToCode.length);\n      }\n\n      return node;\n    })\n    .join('\\n');\n}\n\n/**\n * Tokenizer\n */\nvar Tokenizer_1 = class Tokenizer {\n  constructor(options) {\n    this.options = options || defaults$1;\n  }\n\n  space(src) {\n    const cap = this.rules.block.newline.exec(src);\n    if (cap) {\n      if (cap[0].length > 1) {\n        return {\n          type: 'space',\n          raw: cap[0]\n        };\n      }\n      return { raw: '\\n' };\n    }\n  }\n\n  code(src) {\n    const cap = this.rules.block.code.exec(src);\n    if (cap) {\n      const text = cap[0].replace(/^ {1,4}/gm, '');\n      return {\n        type: 'code',\n        raw: cap[0],\n        codeBlockStyle: 'indented',\n        text: !this.options.pedantic\n          ? rtrim$1(text, '\\n')\n          : text\n      };\n    }\n  }\n\n  fences(src) {\n    const cap = this.rules.block.fences.exec(src);\n    if (cap) {\n      const raw = cap[0];\n      const text = indentCodeCompensation(raw, cap[3] || '');\n\n      return {\n        type: 'code',\n        raw,\n        lang: cap[2] ? cap[2].trim() : cap[2],\n        text\n      };\n    }\n  }\n\n  heading(src) {\n    const cap = this.rules.block.heading.exec(src);\n    if (cap) {\n      let text = cap[2].trim();\n\n      // remove trailing #s\n      if (/#$/.test(text)) {\n        const trimmed = rtrim$1(text, '#');\n        if (this.options.pedantic) {\n          text = trimmed.trim();\n        } else if (!trimmed || / $/.test(trimmed)) {\n          // CommonMark requires space before trailing #s\n          text = trimmed.trim();\n        }\n      }\n\n      return {\n        type: 'heading',\n        raw: cap[0],\n        depth: cap[1].length,\n        text: text\n      };\n    }\n  }\n\n  nptable(src) {\n    const cap = this.rules.block.nptable.exec(src);\n    if (cap) {\n      const item = {\n        type: 'table',\n        header: splitCells$1(cap[1].replace(/^ *| *\\| *$/g, '')),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : [],\n        raw: cap[0]\n      };\n\n      if (item.header.length === item.align.length) {\n        let l = item.align.length;\n        let i;\n        for (i = 0; i < l; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n\n        l = item.cells.length;\n        for (i = 0; i < l; i++) {\n          item.cells[i] = splitCells$1(item.cells[i], item.header.length);\n        }\n\n        return item;\n      }\n    }\n  }\n\n  hr(src) {\n    const cap = this.rules.block.hr.exec(src);\n    if (cap) {\n      return {\n        type: 'hr',\n        raw: cap[0]\n      };\n    }\n  }\n\n  blockquote(src) {\n    const cap = this.rules.block.blockquote.exec(src);\n    if (cap) {\n      const text = cap[0].replace(/^ *> ?/gm, '');\n\n      return {\n        type: 'blockquote',\n        raw: cap[0],\n        text\n      };\n    }\n  }\n\n  list(src) {\n    const cap = this.rules.block.list.exec(src);\n    if (cap) {\n      let raw = cap[0];\n      const bull = cap[2];\n      const isordered = bull.length > 1;\n\n      const list = {\n        type: 'list',\n        raw,\n        ordered: isordered,\n        start: isordered ? +bull.slice(0, -1) : '',\n        loose: false,\n        items: []\n      };\n\n      // Get each top-level item.\n      const itemMatch = cap[0].match(this.rules.block.item);\n\n      let next = false,\n        item,\n        space,\n        bcurr,\n        bnext,\n        addBack,\n        loose,\n        istask,\n        ischecked;\n\n      let l = itemMatch.length;\n      bcurr = this.rules.block.listItemStart.exec(itemMatch[0]);\n      for (let i = 0; i < l; i++) {\n        item = itemMatch[i];\n        raw = item;\n\n        // Determine whether the next list item belongs here.\n        // Backpedal if it does not belong in this list.\n        if (i !== l - 1) {\n          bnext = this.rules.block.listItemStart.exec(itemMatch[i + 1]);\n          if (\n            !this.options.pedantic\n              ? bnext[1].length > bcurr[0].length || bnext[1].length > 3\n              : bnext[1].length > bcurr[1].length\n          ) {\n            // nested list\n            itemMatch.splice(i, 2, itemMatch[i] + '\\n' + itemMatch[i + 1]);\n            i--;\n            l--;\n            continue;\n          } else {\n            if (\n              // different bullet style\n              !this.options.pedantic || this.options.smartLists\n                ? bnext[2][bnext[2].length - 1] !== bull[bull.length - 1]\n                : isordered === (bnext[2].length === 1)\n            ) {\n              addBack = itemMatch.slice(i + 1).join('\\n');\n              list.raw = list.raw.substring(0, list.raw.length - addBack.length);\n              i = l - 1;\n            }\n          }\n          bcurr = bnext;\n        }\n\n        // Remove the list item's bullet\n        // so it is seen as the next token.\n        space = item.length;\n        item = item.replace(/^ *([*+-]|\\d+[.)]) ?/, '');\n\n        // Outdent whatever the\n        // list item contains. Hacky.\n        if (~item.indexOf('\\n ')) {\n          space -= item.length;\n          item = !this.options.pedantic\n            ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '')\n            : item.replace(/^ {1,4}/gm, '');\n        }\n\n        // Determine whether item is loose or not.\n        // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n        // for discount behavior.\n        loose = next || /\\n\\n(?!\\s*$)/.test(item);\n        if (i !== l - 1) {\n          next = item.charAt(item.length - 1) === '\\n';\n          if (!loose) loose = next;\n        }\n\n        if (loose) {\n          list.loose = true;\n        }\n\n        // Check for task list items\n        if (this.options.gfm) {\n          istask = /^\\[[ xX]\\] /.test(item);\n          ischecked = undefined;\n          if (istask) {\n            ischecked = item[1] !== ' ';\n            item = item.replace(/^\\[[ xX]\\] +/, '');\n          }\n        }\n\n        list.items.push({\n          type: 'list_item',\n          raw,\n          task: istask,\n          checked: ischecked,\n          loose: loose,\n          text: item\n        });\n      }\n\n      return list;\n    }\n  }\n\n  html(src) {\n    const cap = this.rules.block.html.exec(src);\n    if (cap) {\n      return {\n        type: this.options.sanitize\n          ? 'paragraph'\n          : 'html',\n        raw: cap[0],\n        pre: !this.options.sanitizer\n          && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n        text: this.options.sanitize ? (this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape$1(cap[0])) : cap[0]\n      };\n    }\n  }\n\n  def(src) {\n    const cap = this.rules.block.def.exec(src);\n    if (cap) {\n      if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n      const tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n      return {\n        tag,\n        raw: cap[0],\n        href: cap[2],\n        title: cap[3]\n      };\n    }\n  }\n\n  table(src) {\n    const cap = this.rules.block.table.exec(src);\n    if (cap) {\n      const item = {\n        type: 'table',\n        header: splitCells$1(cap[1].replace(/^ *| *\\| *$/g, '')),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n      };\n\n      if (item.header.length === item.align.length) {\n        item.raw = cap[0];\n\n        let l = item.align.length;\n        let i;\n        for (i = 0; i < l; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n\n        l = item.cells.length;\n        for (i = 0; i < l; i++) {\n          item.cells[i] = splitCells$1(\n            item.cells[i].replace(/^ *\\| *| *\\| *$/g, ''),\n            item.header.length);\n        }\n\n        return item;\n      }\n    }\n  }\n\n  lheading(src) {\n    const cap = this.rules.block.lheading.exec(src);\n    if (cap) {\n      return {\n        type: 'heading',\n        raw: cap[0],\n        depth: cap[2].charAt(0) === '=' ? 1 : 2,\n        text: cap[1]\n      };\n    }\n  }\n\n  paragraph(src) {\n    const cap = this.rules.block.paragraph.exec(src);\n    if (cap) {\n      return {\n        type: 'paragraph',\n        raw: cap[0],\n        text: cap[1].charAt(cap[1].length - 1) === '\\n'\n          ? cap[1].slice(0, -1)\n          : cap[1]\n      };\n    }\n  }\n\n  text(src) {\n    const cap = this.rules.block.text.exec(src);\n    if (cap) {\n      return {\n        type: 'text',\n        raw: cap[0],\n        text: cap[0]\n      };\n    }\n  }\n\n  escape(src) {\n    const cap = this.rules.inline.escape.exec(src);\n    if (cap) {\n      return {\n        type: 'escape',\n        raw: cap[0],\n        text: escape$1(cap[1])\n      };\n    }\n  }\n\n  tag(src, inLink, inRawBlock) {\n    const cap = this.rules.inline.tag.exec(src);\n    if (cap) {\n      if (!inLink && /^<a /i.test(cap[0])) {\n        inLink = true;\n      } else if (inLink && /^<\\/a>/i.test(cap[0])) {\n        inLink = false;\n      }\n      if (!inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        inRawBlock = true;\n      } else if (inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        inRawBlock = false;\n      }\n\n      return {\n        type: this.options.sanitize\n          ? 'text'\n          : 'html',\n        raw: cap[0],\n        inLink,\n        inRawBlock,\n        text: this.options.sanitize\n          ? (this.options.sanitizer\n            ? this.options.sanitizer(cap[0])\n            : escape$1(cap[0]))\n          : cap[0]\n      };\n    }\n  }\n\n  link(src) {\n    const cap = this.rules.inline.link.exec(src);\n    if (cap) {\n      const trimmedUrl = cap[2].trim();\n      if (!this.options.pedantic && /^</.test(trimmedUrl)) {\n        // commonmark requires matching angle brackets\n        if (!(/>$/.test(trimmedUrl))) {\n          return;\n        }\n\n        // ending angle bracket cannot be escaped\n        const rtrimSlash = rtrim$1(trimmedUrl.slice(0, -1), '\\\\');\n        if ((trimmedUrl.length - rtrimSlash.length) % 2 === 0) {\n          return;\n        }\n      } else {\n        // find closing parenthesis\n        const lastParenIndex = findClosingBracket$1(cap[2], '()');\n        if (lastParenIndex > -1) {\n          const start = cap[0].indexOf('!') === 0 ? 5 : 4;\n          const linkLen = start + cap[1].length + lastParenIndex;\n          cap[2] = cap[2].substring(0, lastParenIndex);\n          cap[0] = cap[0].substring(0, linkLen).trim();\n          cap[3] = '';\n        }\n      }\n      let href = cap[2];\n      let title = '';\n      if (this.options.pedantic) {\n        // split pedantic href and title\n        const link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n\n        if (link) {\n          href = link[1];\n          title = link[3];\n        }\n      } else {\n        title = cap[3] ? cap[3].slice(1, -1) : '';\n      }\n\n      href = href.trim();\n      if (/^</.test(href)) {\n        if (this.options.pedantic && !(/>$/.test(trimmedUrl))) {\n          // pedantic allows starting angle bracket without ending angle bracket\n          href = href.slice(1);\n        } else {\n          href = href.slice(1, -1);\n        }\n      }\n      return outputLink(cap, {\n        href: href ? href.replace(this.rules.inline._escapes, '$1') : href,\n        title: title ? title.replace(this.rules.inline._escapes, '$1') : title\n      }, cap[0]);\n    }\n  }\n\n  reflink(src, links) {\n    let cap;\n    if ((cap = this.rules.inline.reflink.exec(src))\n        || (cap = this.rules.inline.nolink.exec(src))) {\n      let link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n      link = links[link.toLowerCase()];\n      if (!link || !link.href) {\n        const text = cap[0].charAt(0);\n        return {\n          type: 'text',\n          raw: text,\n          text\n        };\n      }\n      return outputLink(cap, link, cap[0]);\n    }\n  }\n\n  emStrong(src, maskedSrc, prevChar = '') {\n    let match = this.rules.inline.emStrong.lDelim.exec(src);\n    if (!match) return;\n\n    if (match[3] && prevChar.match(/[\\p{L}\\p{N}]/u)) return; // _ can't be between two alphanumerics. \\p{L}\\p{N} includes non-english alphabet/numbers as well\n\n    const nextChar = match[1] || match[2] || '';\n\n    if (!nextChar || (nextChar && (prevChar === '' || this.rules.inline.punctuation.exec(prevChar)))) {\n      const lLength = match[0].length - 1;\n      let rDelim, rLength, delimTotal = lLength, midDelimTotal = 0;\n\n      const endReg = match[0][0] === '*' ? this.rules.inline.emStrong.rDelimAst : this.rules.inline.emStrong.rDelimUnd;\n      endReg.lastIndex = 0;\n\n      maskedSrc = maskedSrc.slice(-1 * src.length + lLength); // Bump maskedSrc to same section of string as src (move to lexer?)\n\n      while ((match = endReg.exec(maskedSrc)) != null) {\n        rDelim = match[1] || match[2] || match[3] || match[4] || match[5] || match[6];\n\n        if (!rDelim) continue; // matched the first alternative in rules.js (skip the * in __abc*abc__)\n\n        rLength = rDelim.length;\n\n        if (match[3] || match[4]) { // found another Left Delim\n          delimTotal += rLength;\n          continue;\n        } else if (match[5] || match[6]) { // either Left or Right Delim\n          if (lLength % 3 && !((lLength + rLength) % 3)) {\n            midDelimTotal += rLength;\n            continue; // CommonMark Emphasis Rules 9-10\n          }\n        }\n\n        delimTotal -= rLength;\n",
          "filepath": "data/repos/markedjs/marked-2.0/lib/marked.esm.js",
          "repo": "markedjs/marked",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "7dba896b-328f-4fb9-ab0d-2c8cc9e62715"
        }
      },
      {
        "id": "83490cf1-48ce-4fea-b32a-2bd42cfd7ddc",
        "score": 0.015625,
        "payload": {
          "text": "---\npedantic: true\n---\n\nMarkdown: Basics\n================\n\n<ul id=\"ProjectSubmenu\">\n    <li><a href=\"/projects/markdown/\" title=\"Markdown Project Page\">Main</a></li>\n    <li><a class=\"selected\" title=\"Markdown Basics\">Basics</a></li>\n    <li><a href=\"/projects/markdown/syntax\" title=\"Markdown Syntax Documentation\">Syntax</a></li>\n    <li><a href=\"/projects/markdown/license\" title=\"Pricing and License Information\">License</a></li>\n    <li><a href=\"/projects/markdown/dingus\" title=\"Online Markdown Web Form\">Dingus</a></li>\n</ul>\n\n\nGetting the Gist of Markdown's Formatting Syntax\n------------------------------------------------\n\nThis page offers a brief overview of what it's like to use Markdown.\nThe [syntax page] [s] provides complete, detailed documentation for\nevery feature, but Markdown should be very easy to pick up simply by\nlooking at a few examples of it in action. The examples on this page\nare written in a before/after style, showing example syntax and the\nHTML output produced by Markdown.\n\nIt's also helpful to simply try Markdown out; the [Dingus] [d] is a\nweb application that allows you type your own Markdown-formatted text\nand translate it to XHTML.\n\n**Note:** This document is itself written using Markdown; you\ncan [see the source for it by adding '.text' to the URL] [src].\n\n  [s]: /projects/markdown/syntax  \"Markdown Syntax\"\n  [d]: /projects/markdown/dingus  \"Markdown Dingus\"\n  [src]: /projects/markdown/basics.text\n\n\n## Paragraphs, Headers, Blockquotes ##\n\nA paragraph is simply one or more consecutive lines of text, separated\nby one or more blank lines. (A blank line is any line that looks like a\nblank line -- a line containing nothing spaces or tabs is considered\nblank.) Normal paragraphs should not be intended with spaces or tabs.\n\nMarkdown offers two styles of headers: *Setext* and *atx*.\nSetext-style headers for `<h1>` and `<h2>` are created by\n\"underlining\" with equal signs (`=`) and hyphens (`-`), respectively.\nTo create an atx-style header, you put 1-6 hash marks (`#`) at the\nbeginning of the line -- the number of hashes equals the resulting\nHTML header level.\n\nBlockquotes are indicated using email-style '`>`' angle brackets.\n\nMarkdown:\n\n    A First Level Header\n    ====================\n    \n    A Second Level Header\n    ---------------------\n\n    Now is the time for all good men to come to\n    the aid of their country. This is just a\n    regular paragraph.\n\n    The quick brown fox jumped over the lazy\n    dog's back.\n    \n    ### Header 3\n\n    > This is a blockquote.\n    > \n    > This is the second paragraph in the blockquote.\n    >\n    > ## This is an H2 in a blockquote\n\n\nOutput:\n\n    <h1>A First Level Header</h1>\n    \n    <h2>A Second Level Header</h2>\n    \n    <p>Now is the time for all good men to come to\n    the aid of their country. This is just a\n    regular paragraph.</p>\n    \n    <p>The quick brown fox jumped over the lazy\n    dog's back.</p>\n    \n    <h3>Header 3</h3>\n    \n    <blockquote>\n        <p>This is a blockquote.</p>\n        \n        <p>This is the second paragraph in the blockquote.</p>\n        \n        <h2>This is an H2 in a blockquote</h2>\n    </blockquote>\n\n\n\n### Phrase Emphasis ###\n\nMarkdown uses asterisks and underscores to indicate spans of emphasis.\n\nMarkdown:\n\n    Some of these words *are emphasized*.\n    Some of these words _are emphasized also_.\n    \n    Use two asterisks for **strong emphasis**.\n    Or, if you prefer, __use two underscores instead__.\n\nOutput:\n\n    <p>Some of these words <em>are emphasized</em>.\n    Some of these words <em>are emphasized also</em>.</p>\n    \n    <p>Use two asterisks for <strong>strong emphasis</strong>.\n    Or, if you prefer, <strong>use two underscores instead</strong>.</p>\n   \n\n\n## Lists ##\n\nUnordered (bulleted) lists use asterisks, pluses, and hyphens (`*`,\n`+`, and `-`) as list markers. These three markers are\ninterchangable; this:\n\n    *   Candy.\n    *   Gum.\n    *   Booze.\n\nthis:\n\n    +   Candy.\n    +   Gum.\n    +   Booze.\n\nand this:\n\n    -   Candy.\n    -   Gum.\n    -   Booze.\n\nall produce the same output:\n\n    <ul>\n    <li>Candy.</li>\n    <li>Gum.</li>\n    <li>Booze.</li>\n    </ul>\n\nOrdered (numbered) lists use regular numbers, followed by periods, as\nlist markers:\n\n    1.  Red\n    2.  Green\n    3.  Blue\n\nOutput:\n\n    <ol>\n    <li>Red</li>\n    <li>Green</li>\n    <li>Blue</li>\n    </ol>\n\nIf you put blank lines between items, you'll get `<p>` tags for the\nlist item text. You can create multi-paragraph list items by indenting\nthe paragraphs by 4 spaces or 1 tab:\n\n    *   A list item.\n    \n        With multiple paragraphs.\n\n    *   Another item in the list.\n\nOutput:\n\n    <ul>\n    <li><p>A list item.</p>\n    <p>With multiple paragraphs.</p></li>\n    <li><p>Another item in the list.</p></li>\n    </ul>\n    \n\n\n### Links ###\n\nMarkdown supports two styles for creating links: *inline* and\n*reference*. With both styles, you use square brackets to delimit the\ntext you want to turn into a link.\n\nInline-style links use parentheses immediately after the link text.\nFor example:\n\n    This is an [example link](http://example.com/).\n\nOutput:\n\n    <p>This is an <a href=\"http://example.com/\">\n    example link</a>.</p>\n\nOptionally, you may include a title attribute in the parentheses:\n\n    This is an [example link](http://example.com/ \"With a Title\").\n\nOutput:\n\n    <p>This is an <a href=\"http://example.com/\" title=\"With a Title\">\n    example link</a>.</p>\n\nReference-style links allow you to refer to your links by names, which\nyou define elsewhere in your document:\n\n    I get 10 times more traffic from [Google][1] than from\n    [Yahoo][2] or [MSN][3].\n\n    [1]: http://google.com/        \"Google\"\n    [2]: http://search.yahoo.com/  \"Yahoo Search\"\n    [3]: http://search.msn.com/    \"MSN Search\"\n\nOutput:\n\n    <p>I get 10 times more traffic from <a href=\"http://google.com/\"\n    title=\"Google\">Google</a> than from <a href=\"http://search.yahoo.com/\"\n    title=\"Yahoo Search\">Yahoo</a> or <a href=\"http://search.msn.com/\"\n    title=\"MSN Search\">MSN</a>.</p>\n\nThe title attribute is optional. Link names may contain letters,\nnumbers and spaces, but are *not* case sensitive:\n\n    I start my morning with a cup of coffee and\n    [The New York Times][NY Times].\n\n    [ny times]: http://www.nytimes.com/\n\nOutput:\n\n    <p>I start my morning with a cup of coffee and\n    <a href=\"http://www.nytimes.com/\">The New York Times</a>.</p>\n\n\n### Images ###\n\nImage syntax is very much like link syntax.\n\nInline (titles are optional):\n\n    ![alt text](/path/to/img.jpg \"Title\")\n\nReference-style:\n\n    ![alt text][id]\n\n    [id]: /path/to/img.jpg \"Title\"\n\nBoth of the above examples produce the same output:\n\n    <img src=\"/path/to/img.jpg\" alt=\"alt text\" title=\"Title\" />\n\n\n\n### Code ###\n\nIn a regular paragraph, you can create code span by wrapping text in\nbacktick quotes. Any ampersands (`&`) and angle brackets (`<` or\n`>`) will automatically be translated into HTML entities. This makes\nit easy to use Markdown to write about HTML example code:\n\n    I strongly recommend against using any `<blink>` tags.\n\n    I wish SmartyPants used named entities like `&mdash;`\n    instead of decimal-encoded entites like `&#8212;`.\n\nOutput:\n\n    <p>I strongly recommend against using any\n    <code>&lt;blink&gt;</code> tags.</p>\n    \n    <p>I wish SmartyPants used named entities like\n    <code>&amp;mdash;</code> instead of decimal-encoded\n    entites like <code>&amp;#8212;</code>.</p>\n\n\nTo specify an entire block of pre-formatted code, indent every line of\nthe block by 4 spaces or 1 tab. Just like with code spans, `&`, `<`,\nand `>` characters will be escaped automatically.\n\nMarkdown:\n\n    If you want your page to validate under XHTML 1.0 Strict,\n    you've got to put paragraph tags in your blockquotes:\n\n        <blockquote>\n            <p>For example.</p>\n        </blockquote>\n\nOutput:\n\n    <p>If you want your page to validate under XHTML 1.0 Strict,\n    you've got to put paragraph tags in your blockquotes:</p>\n    \n    <pre><code>&lt;blockquote&gt;\n        &lt;p&gt;For example.&lt;/p&gt;\n    &lt;/blockquote&gt;\n    </code></pre>\n",
          "filepath": "data/repos/markedjs/marked-2.0/test/specs/original/markdown_documentation_basics.md",
          "repo": "markedjs/marked",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "83490cf1-48ce-4fea-b32a-2bd42cfd7ddc"
        }
      },
      {
        "id": "fa749bbd-5601-4af7-8fd4-06043145e080",
        "score": 0.015384615384615385,
        "payload": {
          "text": "const marked = require('../../src/marked.js');\n\ndescribe('Test heading ID functionality', () => {\n  it('should add id attribute by default', () => {\n    const renderer = new marked.Renderer();\n    const slugger = new marked.Slugger();\n    const header = renderer.heading('test', 1, 'test', slugger);\n    expect(header).toBe('<h1 id=\"test\">test</h1>\\n');\n  });\n\n  it('should NOT add id attribute when options set false', () => {\n    const renderer = new marked.Renderer({ headerIds: false });\n    const header = renderer.heading('test', 1, 'test');\n    expect(header).toBe('<h1>test</h1>\\n');\n  });\n});\n\ndescribe('Test slugger functionality', () => {\n  it('should use lowercase slug', () => {\n    const slugger = new marked.Slugger();\n    expect(slugger.slug('Test')).toBe('test');\n  });\n\n  it('should be unique to avoid collisions 1280', () => {\n    const slugger = new marked.Slugger();\n    expect(slugger.slug('test')).toBe('test');\n    expect(slugger.slug('test')).toBe('test-1');\n    expect(slugger.slug('test')).toBe('test-2');\n  });\n\n  it('should be unique when slug ends with number', () => {\n    const slugger = new marked.Slugger();\n    expect(slugger.slug('test 1')).toBe('test-1');\n    expect(slugger.slug('test')).toBe('test');\n    expect(slugger.slug('test')).toBe('test-2');\n  });\n\n  it('should be unique when slug ends with hyphen number', () => {\n    const slugger = new marked.Slugger();\n    expect(slugger.slug('foo')).toBe('foo');\n    expect(slugger.slug('foo')).toBe('foo-1');\n    expect(slugger.slug('foo 1')).toBe('foo-1-1');\n    expect(slugger.slug('foo-1')).toBe('foo-1-2');\n    expect(slugger.slug('foo')).toBe('foo-2');\n  });\n\n  it('should allow non-latin chars', () => {\n    const slugger = new marked.Slugger();\n    expect(slugger.slug('\u043f\u0440\u0438\u0432\u0435\u0442')).toBe('\u043f\u0440\u0438\u0432\u0435\u0442');\n  });\n\n  it('should remove ampersands 857', () => {\n    const slugger = new marked.Slugger();\n    expect(slugger.slug('This & That Section')).toBe('this--that-section');\n  });\n\n  it('should remove periods', () => {\n    const slugger = new marked.Slugger();\n    expect(slugger.slug('file.txt')).toBe('filetxt');\n  });\n\n  it('should remove html tags', () => {\n    const slugger = new marked.Slugger();\n    expect(slugger.slug('<em>html</em>')).toBe('html');\n  });\n\n  it('should not increment seen when using dryrun option', () => {\n    const slugger = new marked.Slugger();\n    expect(slugger.slug('<h1>This Section</h1>', { dryrun: true })).toBe('this-section');\n    expect(slugger.slug('<h1>This Section</h1>')).toBe('this-section');\n  });\n\n  it('should still return the next unique id when using dryrun', () => {\n    const slugger = new marked.Slugger();\n    expect(slugger.slug('<h1>This Section</h1>')).toBe('this-section');\n    expect(slugger.slug('<h1>This Section</h1>', { dryrun: true })).toBe('this-section-1');\n  });\n\n  it('should be repeatable in a sequence', () => {\n    const slugger = new marked.Slugger();\n    expect(slugger.slug('foo')).toBe('foo');\n    expect(slugger.slug('foo')).toBe('foo-1');\n    expect(slugger.slug('foo')).toBe('foo-2');\n    expect(slugger.slug('foo', { dryrun: true })).toBe('foo-3');\n    expect(slugger.slug('foo', { dryrun: true })).toBe('foo-3');\n    expect(slugger.slug('foo')).toBe('foo-3');\n    expect(slugger.slug('foo')).toBe('foo-4');\n  });\n});\n\ndescribe('Test paragraph token type', () => {\n  it('should use the \"paragraph\" type on top level', () => {\n    const md = 'A Paragraph.\\n\\n> A blockquote\\n\\n- list item\\n';\n\n    const tokens = marked.lexer(md);\n\n    expect(tokens[0].type).toBe('paragraph');\n    expect(tokens[2].tokens[0].type).toBe('paragraph');\n    expect(tokens[3].items[0].tokens[0].type).toBe('text');\n  });\n});\n\ndescribe('changeDefaults', () => {\n  it('should change global defaults', () => {\n    const { defaults, changeDefaults } = require('../../src/defaults');\n    expect(defaults.test).toBeUndefined();\n    changeDefaults({ test: true });\n    expect(require('../../src/defaults').defaults.test).toBe(true);\n  });\n});\n\ndescribe('inlineLexer', () => {\n  it('should send html to renderer.html', () => {\n    const renderer = new marked.Renderer();\n    spyOn(renderer, 'html').and.callThrough();\n    const md = 'HTML Image: <img alt=\"MY IMAGE\" src=\"example.png\" />';\n    marked(md, { renderer });\n\n    expect(renderer.html).toHaveBeenCalledWith('<img alt=\"MY IMAGE\" src=\"example.png\" />');\n  });\n});\n\ndescribe('parseInline', () => {\n  it('should parse inline tokens', () => {\n    const md = '**strong** _em_';\n    const html = marked.parseInline(md);\n\n    expect(html).toBe('<strong>strong</strong> <em>em</em>');\n  });\n\n  it('should not parse block tokens', () => {\n    const md = '# header\\n\\n_em_';\n    const html = marked.parseInline(md);\n\n    expect(html).toBe('# header\\n\\n<em>em</em>');\n  });\n});\n\ndescribe('use extension', () => {\n  it('should use renderer', () => {\n    const extension = {\n      renderer: {\n        paragraph(text) {\n          return 'extension';\n        }\n      }\n    };\n    spyOn(extension.renderer, 'paragraph').and.callThrough();\n    marked.use(extension);\n    const html = marked('text');\n    expect(extension.renderer.paragraph).toHaveBeenCalledWith('text');\n    expect(html).toBe('extension');\n  });\n\n  it('should use tokenizer', () => {\n    const extension = {\n      tokenizer: {\n        paragraph(text) {\n          return {\n            type: 'paragraph',\n            raw: text,\n            text: 'extension'\n          };\n        }\n      }\n    };\n    spyOn(extension.tokenizer, 'paragraph').and.callThrough();\n    marked.use(extension);\n    const html = marked('text');\n    expect(extension.tokenizer.paragraph).toHaveBeenCalledWith('text');\n    expect(html).toBe('<p>extension</p>\\n');\n  });\n\n  it('should use walkTokens', () => {\n    let walked = 0;\n    const extension = {\n      walkTokens(token) {\n        walked++;\n      }\n    };\n    marked.use(extension);\n    marked('text');\n    expect(walked).toBe(2);\n  });\n\n  it('should use options from extension', () => {\n    const extension = {\n      headerIds: false\n    };\n    marked.use(extension);\n    const html = marked('# heading');\n    expect(html).toBe('<h1>heading</h1>\\n');\n  });\n\n  it('should call all walkTokens in reverse order', () => {\n    let walkedOnce = 0;\n    let walkedTwice = 0;\n    const extension1 = {\n      walkTokens(token) {\n        if (token.walkedOnce) {\n          walkedTwice++;\n        }\n      }\n    };\n    const extension2 = {\n      walkTokens(token) {\n        walkedOnce++;\n        token.walkedOnce = true;\n      }\n    };\n    marked.use(extension1);\n    marked.use(extension2);\n    marked('text');\n    expect(walkedOnce).toBe(2);\n    expect(walkedTwice).toBe(2);\n  });\n\n  it('should use last extension function and not override others', () => {\n    const extension1 = {\n      renderer: {\n        paragraph(text) {\n          return 'extension1 paragraph\\n';\n        },\n        html(html) {\n          return 'extension1 html\\n';\n        }\n      }\n    };\n    const extension2 = {\n      renderer: {\n        paragraph(text) {\n          return 'extension2 paragraph\\n';\n        }\n      }\n    };\n    marked.use(extension1);\n    marked.use(extension2);\n    const html = marked(`\nparagraph\n\n<html />\n\n# heading\n`);\n    expect(html).toBe('extension2 paragraph\\nextension1 html\\n<h1 id=\"heading\">heading</h1>\\n');\n  });\n\n  it('should use previous extension when returning false', () => {\n    const extension1 = {\n      renderer: {\n        paragraph(text) {\n          if (text !== 'original') {\n            return 'extension1 paragraph\\n';\n          }\n          return false;\n        }\n      }\n    };\n    const extension2 = {\n      renderer: {\n        paragraph(text) {\n          if (text !== 'extension1' && text !== 'original') {\n            return 'extension2 paragraph\\n';\n          }\n          return false;\n        }\n      }\n    };\n    marked.use(extension1);\n    marked.use(extension2);\n    const html = marked(`\nparagraph\n\nextension1\n\noriginal\n`);\n    expect(html).toBe('extension2 paragraph\\nextension1 paragraph\\n<p>original</p>\\n');\n  });\n\n  it('should get options with this.options', () => {\n    const extension = {\n      renderer: {\n        heading: () => {\n          return this.options ? 'arrow options\\n' : 'arrow no options\\n';\n        },\n        html: function() {\n          return this.options ? 'function options\\n' : 'function no options\\n';\n        },\n        paragraph() {\n          return this.options ? 'shorthand options\\n' : 'shorthand no options\\n';\n        }\n      }\n    };\n    marked.use(extension);\n    const html = marked(`\n# heading\n\n<html />\n\nparagraph\n`);\n    expect(html).toBe('arrow no options\\nfunction options\\nshorthand options\\n');\n  });\n});\n\ndescribe('async highlight', () => {\n  let highlight, markdown;\n  beforeEach(() => {\n    highlight = jasmine.createSpy('highlight', (text, lang, callback) => {\n      setImmediate(() => {\n        callback(null, `async ${text || ''}`);\n      });\n    });\n    markdown = `\n\\`\\`\\`lang1\ntext 1\n\\`\\`\\`\n\n> \\`\\`\\`lang2\n> text 2\n> \\`\\`\\`\n\n- \\`\\`\\`lang3\n  text 3\n  \\`\\`\\`\n`;\n  });\n\n  it('should highlight codeblocks async', (done) => {\n    highlight.and.callThrough();\n\n    marked(markdown, { highlight }, (err, html) => {\n      if (err) {\n        fail(err);\n      }\n\n      expect(html).toBe(`<pre><code class=\"language-lang1\">async text 1\n</code></pre>\n<blockquote>\n<pre><code class=\"language-lang2\">async text 2\n</code></pre>\n</blockquote>\n<ul>\n<li><pre><code class=\"language-lang3\">async text 3\n</code></pre>\n</li>\n</ul>\n`);\n      done();\n    });\n  });\n\n  it('should call callback for each error in highlight', (done) => {\n    highlight.and.callFake((text, lang, callback) => {\n      callback(new Error('highlight error'));\n    });\n\n    let numErrors = 0;\n    marked(markdown, { highlight }, (err, html) => {\n      expect(err).toBeTruthy();\n      expect(html).toBeUndefined();\n\n      if (err) {\n        numErrors++;\n      }\n\n      if (numErrors === 3) {\n        done();\n      }\n    });\n  });\n\n  it('should highlight codeblocks when not async', (done) => {\n    highlight.and.callFake((text, lang, callback) => {\n      callback(null, `async ${text || ''}`);\n    });\n\n    marked(markdown, { highlight }, (err, html) => {\n      if (err) {\n        fail(err);\n      }\n\n      expect(html).toBe(`<pre><code class=\"language-lang1\">async text 1\n</code></pre>\n<blockquote>\n<pre><code class=\"language-lang2\">async text 2\n</code></pre>\n</blockquote>\n<ul>\n<li><pre><code class=\"language-lang3\">async text 3\n</code></pre>\n</li>\n</ul>\n`);\n      done();\n    });\n  });\n});\n\ndescribe('walkTokens', () => {\n  it('should walk over every token', () => {\n    const markdown = `\nparagraph\n\n---\n\n# heading\n\n\\`\\`\\`\ncode\n\\`\\`\\`\n\n| a | b |\n|---|---|\n| 1 | 2 |\n| 3 | 4 |\n\n> blockquote\n\n- list\n\n<div>html</div>\n\n[link](https://example.com)\n\n![image](https://example.com/image.jpg)\n\n**strong**\n\n*em*\n\n\\`codespan\\`\n\n~~del~~\n\nbr\nbr\n`;\n    const tokens = marked.lexer(markdown, { ...marked.getDefaults(), breaks: true });\n    const tokensSeen = [];\n    marked.walkTokens(tokens, (token) => {\n      tokensSeen.push([token.type, (token.raw || '').replace(/\\n/g, '')]);\n    });\n\n    expect(tokensSeen).toEqual([\n      ['paragraph', 'paragraph'],\n      ['text', 'paragraph'],\n      ['space', ''],\n      ['hr', '---'],\n      ['heading', '# heading'],\n      ['text', 'heading'],\n      ['code', '```code```'],\n      ['table', '| a | b ||---|---|| 1 | 2 || 3 | 4 |'],\n      ['text', 'a'],\n      ['text', 'b'],\n      ['text', '1'],\n      ['text', '2'],\n      ['text', '3'],\n      ['text', '4'],\n      ['blockquote', '> blockquote'],\n      ['paragraph', 'blockquote'],\n      ['text', 'blockquote'],\n      ['list', '- list'],\n      ['list_item', '- list'],\n      ['text', 'list'],\n      ['text', 'list'],\n      ['space', ''],\n      ['html', '<div>html</div>'],\n      ['paragraph', '[link](https://example.com)'],\n      ['link', '[link](https://example.com)'],\n      ['text', 'link'],\n      ['space', ''],\n      ['paragraph', '![image](https://example.com/image.jpg)'],\n      ['image', '![image](https://example.com/image.jpg)'],\n      ['space', ''],\n      ['paragraph', '**strong**'],\n      ['strong', '**strong**'],\n      ['text', 'strong'],\n      ['space', ''],\n      ['paragraph', '*em*'],\n      ['em', '*em*'],\n      ['text', 'em'],\n      ['space', ''],\n      ['paragraph', '`codespan`'],\n      ['codespan', '`codespan`'],\n      ['space', ''],\n      ['paragraph', '~~del~~'],\n      ['del', '~~del~~'],\n      ['text', 'del'],\n      ['space', ''],\n      ['paragraph', 'brbr'],\n      ['text', 'br'],\n      ['br', ''],\n      ['text', 'br']\n    ]);\n  });\n});\n",
          "filepath": "data/repos/markedjs/marked-2.0/test/unit/marked-spec.js",
          "repo": "markedjs/marked",
          "version": "2.0",
          "chunk_index": 0,
          "chunk_id": "fa749bbd-5601-4af7-8fd4-06043145e080"
        }
      }
    ]
  },
  {
    "instance_id": "markedjs__marked-2811",
    "model_patch": "diff --git a/marked.js b/marked.js\n--- a/marked.js\n+++ b/marked.js\n@@ -1,5 +1,6 @@\n // Import necessary modules and dependencies\n const Lexer = require('./Lexer');\n+const Renderer = require('./Renderer');\n const Parser = require('./Parser');\n const Tokenizer = require('./Tokenizer');\n const { defaults } = require('./defaults');\n@@ -10,6 +11,7 @@\n \n class Marked {\n   constructor(options) {\n+    this.renderer = new Renderer();\n     this.options = { ...defaults, ...options };\n     this.lexer = new Lexer(this.options);\n     this.parser = new Parser(this.options);\n@@ -20,6 +22,7 @@\n \n   parse(src) {\n     const tokens = this.lexer.lex(src);\n+    this.walkTokens(tokens);\n     return this.parser.parse(tokens);\n   }\n \n@@ -27,6 +30,18 @@\n     this.options = { ...this.options, ...options };\n   }\n \n+  walkTokens(tokens) {\n+    for (const token of tokens) {\n+      if (token.type === 'strong' || token.type === 'em') {\n+        if (token.text.includes('`')) {\n+          token.text = token.text.replace(/`([^`]+)`/g, (match, p1) => {\n+            return `<code>${p1}</code>`;\n+          });\n+        }\n+      }\n+    }\n+  }\n+\n   static parse(src, options) {\n     const marked = new Marked(options);\n     return marked.parse(src);\n@@ -40,6 +55,7 @@\n \n module.exports = Marked;\n module.exports.Lexer = Lexer;\n+module.exports.Renderer = Renderer;\n module.exports.Parser = Parser;\n module.exports.Tokenizer = Tokenizer;\n module.exports.defaults = defaults;",
    "model_name_or_path": "text_bm25",
    "metrics": {
      "issue_embedding_time_ms": 0.0,
      "retrieval_time_ms_bm25": 53.17,
      "retrieval_time_ms": 53.17,
      "total_retrieval_time_ms": 53.17,
      "generation_time_ms": 5040.49,
      "total_io_time_ms": 5093.66,
      "input_total_token_limit": null,
      "issue_text_tokens": 1207,
      "vlm_tokens": 0,
      "retrieved_tokens": 18570,
      "prompt_template_tokens": 522,
      "total_input_prompt_tokens": 20299,
      "output_generated_tokens": 389,
      "total_io_tokens": 20688,
      "input_prompt_text": "[{\"type\": \"text\", \"text\": \"You will be provided with a partial code base and an issue statement explaining a problem to resolve.\\n<issue>\\nSyntax parse fails with Japanese punctuation (`\\u3001`), strong syntax and code syntax\\n**Marked version:**\\r\\n\\r\\n* v4.0.18\\r\\n\\r\\n**Describe the bug**\\r\\nA clear and concise description of what the bug is.\\r\\n\\r\\nCopy from https://github.com/volca/markdown-preview/issues/135.\\r\\n\\r\\nThe case below, it does not parse syntax correctly.\\r\\n\\r\\n```bash\\r\\n% cat test.md\\r\\n* \\u00d7: \\u3042\\u308c\\u3001**`foo`\\u3053\\u308c**\\u3001\\u305d\\u308c\\r\\n* \\u25cb: \\u3042\\u308c\\u3001 **`foo`\\u3053\\u308c**\\u3001\\u305d\\u308c\\r\\n* \\u00d7: \\u3042\\u308c\\u3001**`foo`\\u3053\\u308c** \\u3001\\u305d\\u308c\\r\\n\\r\\n* \\u25cb: \\u3042\\u308c\\u3001**foo\\u3053\\u308c**\\u3001\\u305d\\u308c\\r\\n* \\u25cb: \\u3042\\u308c\\u3001 **foo\\u3053\\u308c**\\u3001\\u305d\\u308c\\r\\n* \\u25cb: \\u3042\\u308c\\u3001**foo\\u3053\\u308c** \\u3001\\u305d\\u308c\\r\\n\\r\\n% npx marked --version\\r\\n4.0.18\\r\\n\\r\\n% npx marked < test.md\\r\\n<ul>\\r\\n<li><p>\\u00d7: \\u3042\\u308c\\u3001**<code>foo</code>\\u3053\\u308c**\\u3001\\u305d\\u308c</p>\\r\\n</li>\\r\\n<li><p>\\u25cb: \\u3042\\u308c\\u3001 <strong><code>foo</code>\\u3053\\u308c</strong>\\u3001\\u305d\\u308c</p>\\r\\n</li>\\r\\n<li><p>\\u00d7: \\u3042\\u308c\\u3001**<code>foo</code>\\u3053\\u308c** \\u3001\\u305d\\u308c</p>\\r\\n</li>\\r\\n<li><p>\\u25cb: \\u3042\\u308c\\u3001<strong>foo\\u3053\\u308c</strong>\\u3001\\u305d\\u308c</p>\\r\\n</li>\\r\\n<li><p>\\u25cb: \\u3042\\u308c\\u3001 <strong>foo\\u3053\\u308c</strong>\\u3001\\u305d\\u308c</p>\\r\\n</li>\\r\\n<li><p>\\u25cb: \\u3042\\u308c\\u3001<strong>foo\\u3053\\u308c</strong> \\u3001\\u305d\\u308c</p>\\r\\n</li>\\r\\n</ul>\\r\\n```\\r\\n\\r\\nWith Japanese punctuation (`\\u3001`), strong syntax (`**`), and code syntax (`` ` ``),\\r\\nit needs some space to make them parsed correctly (The former 3 examples).\\r\\n\\r\\nAlthough, without code syntax, no extra space is required (The latter 3 examples).\\r\\n\\r\\nSo it isn't a syntax parsing problem with CJK symbol characters?\\r\\n\\r\\n**To Reproduce**\\r\\nSteps to reproduce the behavior:\\r\\n\\r\\nAs above.\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n**Expected behavior**\\r\\nA clear and concise description of what you expected to happen.\\r\\n\\r\\nParse the syntax correctly as [Pandoc](https://github.com/jgm/pandoc).\\r\\n\\r\\n```bash\\r\\n% pandoc --version\\r\\npandoc.exe 2.18\\r\\nCompiled with pandoc-types 1.22.2, texmath 0.12.5, skylighting 0.12.3,\\r\\nciteproc 0.7, ipynb 0.2, hslua 2.2.0\\r\\nScripting engine: Lua 5.4\\r\\nUser data directory: C:\\\\Users\\\\yasuda\\\\AppData\\\\Roaming\\\\pandoc\\r\\nCopyright (C) 2006-2022 John MacFarlane. Web:  https://pandoc.org\\r\\nThis is free software; see the source for copying conditions. There is no\\r\\nwarranty, not even for merchantability or fitness for a particular purpose.\\r\\n\\r\\n% pandoc < test.md\\r\\n<ul>\\r\\n<li><p>\\u00d7: \\u3042\\u308c\\u3001<strong><code>foo</code>\\u3053\\u308c</strong>\\u3001\\u305d\\u308c</p></li>\\r\\n<li><p>\\u25cb: \\u3042\\u308c\\u3001 <strong><code>foo</code>\\u3053\\u308c</strong>\\u3001\\u305d\\u308c</p></li>\\r\\n<li><p>\\u00d7: \\u3042\\u308c\\u3001<strong><code>foo</code>\\u3053\\u308c</strong> \\u3001\\u305d\\u308c</p></li>\\r\\n<li><p>\\u25cb: \\u3042\\u308c\\u3001<strong>foo\\u3053\\u308c</strong>\\u3001\\u305d\\u308c</p></li>\\r\\n<li><p>\\u25cb: \\u3042\\u308c\\u3001 <strong>foo\\u3053\\u308c</strong>\\u3001\\u305d\\u308c</p></li>\\r\\n<li><p>\\u25cb: \\u3042\\u308c\\u3001<strong>foo\\u3053\\u308c</strong> \\u3001\\u305d\\u308c</p></li>\\r\\n</ul>\\r\\n```\\r\\n\\nlink inside of  Strong delimiter, the strong delimiter not work\\n**Marked version: https://github.com/markedjs/marked/blob/009427f65dadd5dff9ec0189e008677aea9fbcfa/lib/marked.js**\\r\\n\\r\\n**Describe the bug**\\r\\nWhen there is a link inside of a strong delimiter, followed closely by a character other than `[ .!,;] ....`, the strong delimiter is broken.\\r\\n\\r\\n**To Reproduce**\\r\\n![image](https://user-images.githubusercontent.com/11593903/117394732-a582c080-af31-11eb-919b-c15cf5f16069.png)\\r\\n\\r\\n```\\r\\n**STRONG**.  OK  \\r\\n**STRONG**\\u3002  OK  \\r\\n**STRONG**\\uff01  OK  \\r\\n**STRONG**M  OK\\r\\n\\r\\n**[STRONG]( http://abc.com )**!    OK  \\r\\n**[STRONG]( http://abc.com )**.    OK  \\r\\n**[STRONG]( http://abc.com )**\\uff01   bad!  \\r\\n**[STRONG]( http://abc.com )** \\uff01   OK   \\r\\n**[STRONG]( http://abc.com )**M   bad!  \\r\\n**[STRONG]( http://abc.com )** M   OK     \\r\\n```\\r\\n\\r\\n**Info**\\r\\nOld Version don't have this issue.  \\r\\n- A chrome extension called [Markdown Preview Plus](https://chrome.google.com/webstore/detail/febilkbfcbhebfnokafefeacimjdckgl) uses a relatively new version of marked, and it has this same problem.\\r\\n- The [browserify-markdown-editor](https://github.com/thlorenz/browserify-markdown-editor) uses an old version of marked ( 0.2.9 ), and it don't have this problem. https://thlorenz.com/browserify-markdown-editor/ \\r\\n\\r\\n\\r\\n**Expected behavior**  \\r\\nThe strong delimiter should bolden the wrapped text no matter of what's inside and what's behind.\\r\\n\\n\\n</issue>\\n\\n<code>\\n[start of markdown_documentation_basics.md]\\n---\\npedantic: true\\n---\\n\\nMarkdown: Basics\\n================\\n\\n<ul id=\\\"ProjectSubmenu\\\">\\n    <li><a href=\\\"/projects/markdown/\\\" title=\\\"Markdown Project Page\\\">Main</a></li>\\n    <li><a class=\\\"selected\\\" title=\\\"Markdown Basics\\\">Basics</a></li>\\n    <li><a href=\\\"/projects/markdown/syntax\\\" title=\\\"Markdown Syntax Documentation\\\">Syntax</a></li>\\n    <li><a href=\\\"/projects/markdown/license\\\" title=\\\"Pricing and License Information\\\">License</a></li>\\n    <li><a href=\\\"/projects/markdown/dingus\\\" title=\\\"Online Markdown Web Form\\\">Dingus</a></li>\\n</ul>\\n\\n\\nGetting the Gist of Markdown's Formatting Syntax\\n------------------------------------------------\\n\\nThis page offers a brief overview of what it's like to use Markdown.\\nThe [syntax page] [s] provides complete, detailed documentation for\\nevery feature, but Markdown should be very easy to pick up simply by\\nlooking at a few examples of it in action. The examples on this page\\nare written in a before/after style, showing example syntax and the\\nHTML output produced by Markdown.\\n\\nIt's also helpful to simply try Markdown out; the [Dingus] [d] is a\\nweb application that allows you type your own Markdown-formatted text\\nand translate it to XHTML.\\n\\n**Note:** This document is itself written using Markdown; you\\ncan [see the source for it by adding '.text' to the URL] [src].\\n\\n  [s]: /projects/markdown/syntax  \\\"Markdown Syntax\\\"\\n  [d]: /projects/markdown/dingus  \\\"Markdown Dingus\\\"\\n  [src]: /projects/markdown/basics.text\\n\\n\\n## Paragraphs, Headers, Blockquotes ##\\n\\nA paragraph is simply one or more consecutive lines of text, separated\\nby one or more blank lines. (A blank line is any line that looks like a\\nblank line -- a line containing nothing spaces or tabs is considered\\nblank.) Normal paragraphs should not be intended with spaces or tabs.\\n\\nMarkdown offers two styles of headers: *Setext* and *atx*.\\nSetext-style headers for `<h1>` and `<h2>` are created by\\n\\\"underlining\\\" with equal signs (`=`) and hyphens (`-`), respectively.\\nTo create an atx-style header, you put 1-6 hash marks (`#`) at the\\nbeginning of the line -- the number of hashes equals the resulting\\nHTML header level.\\n\\nBlockquotes are indicated using email-style '`>`' angle brackets.\\n\\nMarkdown:\\n\\n    A First Level Header\\n    ====================\\n    \\n    A Second Level Header\\n    ---------------------\\n\\n    Now is the time for all good men to come to\\n    the aid of their country. This is just a\\n    regular paragraph.\\n\\n    The quick brown fox jumped over the lazy\\n    dog's back.\\n    \\n    ### Header 3\\n\\n    > This is a blockquote.\\n    > \\n    > This is the second paragraph in the blockquote.\\n    >\\n    > ## This is an H2 in a blockquote\\n\\n\\nOutput:\\n\\n    <h1>A First Level Header</h1>\\n    \\n    <h2>A Second Level Header</h2>\\n    \\n    <p>Now is the time for all good men to come to\\n    the aid of their country. This is just a\\n    regular paragraph.</p>\\n    \\n    <p>The quick brown fox jumped over the lazy\\n    dog's back.</p>\\n    \\n    <h3>Header 3</h3>\\n    \\n    <blockquote>\\n        <p>This is a blockquote.</p>\\n        \\n        <p>This is the second paragraph in the blockquote.</p>\\n        \\n        <h2>This is an H2 in a blockquote</h2>\\n    </blockquote>\\n\\n\\n\\n### Phrase Emphasis ###\\n\\nMarkdown uses asterisks and underscores to indicate spans of emphasis.\\n\\nMarkdown:\\n\\n    Some of these words *are emphasized*.\\n    Some of these words _are emphasized also_.\\n    \\n    Use two asterisks for **strong emphasis**.\\n    Or, if you prefer, __use two underscores instead__.\\n\\nOutput:\\n\\n    <p>Some of these words <em>are emphasized</em>.\\n    Some of these words <em>are emphasized also</em>.</p>\\n    \\n    <p>Use two asterisks for <strong>strong emphasis</strong>.\\n    Or, if you prefer, <strong>use two underscores instead</strong>.</p>\\n   \\n\\n\\n## Lists ##\\n\\nUnordered (bulleted) lists use asterisks, pluses, and hyphens (`*`,\\n`+`, and `-`) as list markers. These three markers are\\ninterchangable; this:\\n\\n    *   Candy.\\n    *   Gum.\\n    *   Booze.\\n\\nthis:\\n\\n    +   Candy.\\n    +   Gum.\\n    +   Booze.\\n\\nand this:\\n\\n    -   Candy.\\n    -   Gum.\\n    -   Booze.\\n\\nall produce the same output:\\n\\n    <ul>\\n    <li>Candy.</li>\\n    <li>Gum.</li>\\n    <li>Booze.</li>\\n    </ul>\\n\\nOrdered (numbered) lists use regular numbers, followed by periods, as\\nlist markers:\\n\\n    1.  Red\\n    2.  Green\\n    3.  Blue\\n\\nOutput:\\n\\n    <ol>\\n    <li>Red</li>\\n    <li>Green</li>\\n    <li>Blue</li>\\n    </ol>\\n\\nIf you put blank lines between items, you'll get `<p>` tags for the\\nlist item text. You can create multi-paragraph list items by indenting\\nthe paragraphs by 4 spaces or 1 tab:\\n\\n    *   A list item.\\n    \\n        With multiple paragraphs.\\n\\n    *   Another item in the list.\\n\\nOutput:\\n\\n    <ul>\\n    <li><p>A list item.</p>\\n    <p>With multiple paragraphs.</p></li>\\n    <li><p>Another item in the list.</p></li>\\n    </ul>\\n    \\n\\n\\n### Links ###\\n\\nMarkdown supports two styles for creating links: *inline* and\\n*reference*. With both styles, you use square brackets to delimit the\\ntext you want to turn into a link.\\n\\nInline-style links use parentheses immediately after the link text.\\nFor example:\\n\\n    This is an [example link](http://example.com/).\\n\\nOutput:\\n\\n    <p>This is an <a href=\\\"http://example.com/\\\">\\n    example link</a>.</p>\\n\\nOptionally, you may include a title attribute in the parentheses:\\n\\n    This is an [example link](http://example.com/ \\\"With a Title\\\").\\n\\nOutput:\\n\\n    <p>This is an <a href=\\\"http://example.com/\\\" title=\\\"With a Title\\\">\\n    example link</a>.</p>\\n\\nReference-style links allow you to refer to your links by names, which\\nyou define elsewhere in your document:\\n\\n    I get 10 times more traffic from [Google][1] than from\\n    [Yahoo][2] or [MSN][3].\\n\\n    [1]: http://google.com/        \\\"Google\\\"\\n    [2]: http://search.yahoo.com/  \\\"Yahoo Search\\\"\\n    [3]: http://search.msn.com/    \\\"MSN Search\\\"\\n\\nOutput:\\n\\n    <p>I get 10 times more traffic from <a href=\\\"http://google.com/\\\"\\n    title=\\\"Google\\\">Google</a> than from <a href=\\\"http://search.yahoo.com/\\\"\\n    title=\\\"Yahoo Search\\\">Yahoo</a> or <a href=\\\"http://search.msn.com/\\\"\\n    title=\\\"MSN Search\\\">MSN</a>.</p>\\n\\nThe title attribute is optional. Link names may contain letters,\\nnumbers and spaces, but are *not* case sensitive:\\n\\n    I start my morning with a cup of coffee and\\n    [The New York Times][NY Times].\\n\\n    [ny times]: http://www.nytimes.com/\\n\\nOutput:\\n\\n    <p>I start my morning with a cup of coffee and\\n    <a href=\\\"http://www.nytimes.com/\\\">The New York Times</a>.</p>\\n\\n\\n### Images ###\\n\\nImage syntax is very much like link syntax.\\n\\nInline (titles are optional):\\n\\n    ![alt text](/path/to/img.jpg \\\"Title\\\")\\n\\nReference-style:\\n\\n    ![alt text][id]\\n\\n    [id]: /path/to/img.jpg \\\"Title\\\"\\n\\nBoth of the above examples produce the same output:\\n\\n    <img src=\\\"/path/to/img.jpg\\\" alt=\\\"alt text\\\" title=\\\"Title\\\" />\\n\\n\\n\\n### Code ###\\n\\nIn a regular paragraph, you can create code span by wrapping text in\\nbacktick quotes. Any ampersands (`&`) and angle brackets (`<` or\\n`>`) will automatically be translated into HTML entities. This makes\\nit easy to use Markdown to write about HTML example code:\\n\\n    I strongly recommend against using any `<blink>` tags.\\n\\n    I wish SmartyPants used named entities like `&mdash;`\\n    instead of decimal-encoded entites like `&#8212;`.\\n\\nOutput:\\n\\n    <p>I strongly recommend against using any\\n    <code>&lt;blink&gt;</code> tags.</p>\\n    \\n    <p>I wish SmartyPants used named entities like\\n    <code>&amp;mdash;</code> instead of decimal-encoded\\n    entites like <code>&amp;#8212;</code>.</p>\\n\\n\\nTo specify an entire block of pre-formatted code, indent every line of\\nthe block by 4 spaces or 1 tab. Just like with code spans, `&`, `<`,\\nand `>` characters will be escaped automatically.\\n\\nMarkdown:\\n\\n    If you want your page to validate under XHTML 1.0 Strict,\\n    you've got to put paragraph tags in your blockquotes:\\n\\n        <blockquote>\\n            <p>For example.</p>\\n        </blockquote>\\n\\nOutput:\\n\\n    <p>If you want your page to validate under XHTML 1.0 Strict,\\n    you've got to put paragraph tags in your blockquotes:</p>\\n    \\n    <pre><code>&lt;blockquote&gt;\\n        &lt;p&gt;For example.&lt;/p&gt;\\n    &lt;/blockquote&gt;\\n    </code></pre>\\n\\n[end of markdown_documentation_basics.md]\\n[start of markdown_documentation_syntax.md]\\n---\\npedantic: true\\nheaderIds: false\\n---\\n\\nMarkdown: Syntax\\n================\\n\\n<ul id=\\\"ProjectSubmenu\\\">\\n    <li><a href=\\\"/projects/markdown/\\\" title=\\\"Markdown Project Page\\\">Main</a></li>\\n    <li><a href=\\\"/projects/markdown/basics\\\" title=\\\"Markdown Basics\\\">Basics</a></li>\\n    <li><a class=\\\"selected\\\" title=\\\"Markdown Syntax Documentation\\\">Syntax</a></li>\\n    <li><a href=\\\"/projects/markdown/license\\\" title=\\\"Pricing and License Information\\\">License</a></li>\\n    <li><a href=\\\"/projects/markdown/dingus\\\" title=\\\"Online Markdown Web Form\\\">Dingus</a></li>\\n</ul>\\n\\n\\n*   [Overview](#overview)\\n    *   [Philosophy](#philosophy)\\n    *   [Inline HTML](#html)\\n    *   [Automatic Escaping for Special Characters](#autoescape)\\n*   [Block Elements](#block)\\n    *   [Paragraphs and Line Breaks](#p)\\n    *   [Headers](#header)\\n    *   [Blockquotes](#blockquote)\\n    *   [Lists](#list)\\n    *   [Code Blocks](#precode)\\n    *   [Horizontal Rules](#hr)\\n*   [Span Elements](#span)\\n    *   [Links](#link)\\n    *   [Emphasis](#em)\\n    *   [Code](#code)\\n    *   [Images](#img)\\n*   [Miscellaneous](#misc)\\n    *   [Backslash Escapes](#backslash)\\n    *   [Automatic Links](#autolink)\\n\\n\\n**Note:** This document is itself written using Markdown; you\\ncan [see the source for it by adding '.text' to the URL][src].\\n\\n  [src]: /projects/markdown/syntax.text\\n\\n* * *\\n\\n<h2 id=\\\"overview\\\">Overview</h2>\\n\\n<h3 id=\\\"philosophy\\\">Philosophy</h3>\\n\\nMarkdown is intended to be as easy-to-read and easy-to-write as is feasible.\\n\\nReadability, however, is emphasized above all else. A Markdown-formatted\\ndocument should be publishable as-is, as plain text, without looking\\nlike it's been marked up with tags or formatting instructions. While\\nMarkdown's syntax has been influenced by several existing text-to-HTML\\nfilters -- including [Setext] [1], [atx] [2], [Textile] [3], [reStructuredText] [4],\\n[Grutatext] [5], and [EtText] [6] -- the single biggest source of\\ninspiration for Markdown's syntax is the format of plain text email.\\n\\n  [1]: http://docutils.sourceforge.net/mirror/setext.html\\n  [2]: http://www.aaronsw.com/2002/atx/\\n  [3]: http://textism.com/tools/textile/\\n  [4]: http://docutils.sourceforge.net/rst.html\\n  [5]: http://www.triptico.com/software/grutatxt.html\\n  [6]: http://ettext.taint.org/doc/\\n\\nTo this end, Markdown's syntax is comprised entirely of punctuation\\ncharacters, which punctuation characters have been carefully chosen so\\nas to look like what they mean. E.g., asterisks around a word actually\\nlook like \\\\*emphasis\\\\*. Markdown lists look like, well, lists. Even\\nblockquotes look like quoted passages of text, assuming you've ever\\nused email.\\n\\n\\n\\n<h3 id=\\\"html\\\">Inline HTML</h3>\\n\\nMarkdown's syntax is intended for one purpose: to be used as a\\nformat for *writing* for the web.\\n\\nMarkdown is not a replacement for HTML, or even close to it. Its\\nsyntax is very small, corresponding only to a very small subset of\\nHTML tags. The idea is *not* to create a syntax that makes it easier\\nto insert HTML tags. In my opinion, HTML tags are already easy to\\ninsert. The idea for Markdown is to make it easy to read, write, and\\nedit prose. HTML is a *publishing* format; Markdown is a *writing*\\nformat. Thus, Markdown's formatting syntax only addresses issues that\\ncan be conveyed in plain text.\\n\\nFor any markup that is not covered by Markdown's syntax, you simply\\nuse HTML itself. There's no need to preface it or delimit it to\\nindicate that you're switching from Markdown to HTML; you just use\\nthe tags.\\n\\nThe only restrictions are that block-level HTML elements -- e.g. `<div>`,\\n`<table>`, `<pre>`, `<p>`, etc. -- must be separated from surrounding\\ncontent by blank lines, and the start and end tags of the block should\\nnot be indented with tabs or spaces. Markdown is smart enough not\\nto add extra (unwanted) `<p>` tags around HTML block-level tags.\\n\\nFor example, to add an HTML table to a Markdown article:\\n\\n    This is a regular paragraph.\\n\\n    <table>\\n        <tr>\\n            <td>Foo</td>\\n        </tr>\\n    </table>\\n\\n    This is another regular paragraph.\\n\\nNote that Markdown formatting syntax is not processed within block-level\\nHTML tags. E.g., you can't use Markdown-style `*emphasis*` inside an\\nHTML block.\\n\\nSpan-level HTML tags -- e.g. `<span>`, `<cite>`, or `<del>` -- can be\\nused anywhere in a Markdown paragraph, list item, or header. If you\\nwant, you can even use HTML tags instead of Markdown formatting; e.g. if\\nyou'd prefer to use HTML `<a>` or `<img>` tags instead of Markdown's\\nlink or image syntax, go right ahead.\\n\\nUnlike block-level HTML tags, Markdown syntax *is* processed within\\nspan-level tags.\\n\\n\\n<h3 id=\\\"autoescape\\\">Automatic Escaping for Special Characters</h3>\\n\\nIn HTML, there are two characters that demand special treatment: `<`\\nand `&`. Left angle brackets are used to start tags; ampersands are\\nused to denote HTML entities. If you want to use them as literal\\ncharacters, you must escape them as entities, e.g. `&lt;`, and\\n`&amp;`.\\n\\nAmpersands in particular are bedeviling for web writers. If you want to\\nwrite about 'AT&T', you need to write '`AT&amp;T`'. You even need to\\nescape ampersands within URLs. Thus, if you want to link to:\\n\\n    http://images.google.com/images?num=30&q=larry+bird\\n\\nyou need to encode the URL as:\\n\\n    http://images.google.com/images?num=30&amp;q=larry+bird\\n\\nin your anchor tag `href` attribute. Needless to say, this is easy to\\nforget, and is probably the single most common source of HTML validation\\nerrors in otherwise well-marked-up web sites.\\n\\nMarkdown allows you to use these characters naturally, taking care of\\nall the necessary escaping for you. If you use an ampersand as part of\\nan HTML entity, it remains unchanged; otherwise it will be translated\\ninto `&amp;`.\\n\\nSo, if you want to include a copyright symbol in your article, you can write:\\n\\n    &copy;\\n\\nand Markdown will leave it alone. But if you write:\\n\\n    AT&T\\n\\nMarkdown will translate it to:\\n\\n    AT&amp;T\\n\\nSimilarly, because Markdown supports [inline HTML](#html), if you use\\nangle brackets as delimiters for HTML tags, Markdown will treat them as\\nsuch. But if you write:\\n\\n    4 < 5\\n\\nMarkdown will translate it to:\\n\\n    4 &lt; 5\\n\\nHowever, inside Markdown code spans and blocks, angle brackets and\\nampersands are *always* encoded automatically. This makes it easy to use\\nMarkdown to write about HTML code. (As opposed to raw HTML, which is a\\nterrible format for writing about HTML syntax, because every single `<`\\nand `&` in your example code needs to be escaped.)\\n\\n\\n* * *\\n\\n\\n<h2 id=\\\"block\\\">Block Elements</h2>\\n\\n\\n<h3 id=\\\"p\\\">Paragraphs and Line Breaks</h3>\\n\\nA paragraph is simply one or more consecutive lines of text, separated\\nby one or more blank lines. (A blank line is any line that looks like a\\nblank line -- a line containing nothing but spaces or tabs is considered\\nblank.) Normal paragraphs should not be intended with spaces or tabs.\\n\\nThe implication of the \\\"one or more consecutive lines of text\\\" rule is\\nthat Markdown supports \\\"hard-wrapped\\\" text paragraphs. This differs\\nsignificantly from most other text-to-HTML formatters (including Movable\\nType's \\\"Convert Line Breaks\\\" option) which translate every line break\\ncharacter in a paragraph into a `<br />` tag.\\n\\nWhen you *do* want to insert a `<br />` break tag using Markdown, you\\nend a line with two or more spaces, then type return.\\n\\nYes, this takes a tad more effort to create a `<br />`, but a simplistic\\n\\\"every line break is a `<br />`\\\" rule wouldn't work for Markdown.\\nMarkdown's email-style [blockquoting][bq] and multi-paragraph [list items][l]\\nwork best -- and look better -- when you format them with hard breaks.\\n\\n  [bq]: #blockquote\\n  [l]:  #list\\n\\n\\n\\n<h3 id=\\\"header\\\">Headers</h3>\\n\\nMarkdown supports two styles of headers, [Setext] [1] and [atx] [2].\\n\\nSetext-style headers are \\\"underlined\\\" using equal signs (for first-level\\nheaders) and dashes (for second-level headers). For example:\\n\\n    This is an H1\\n    =============\\n\\n    This is an H2\\n    -------------\\n\\nAny number of underlining `=`'s or `-`'s will work.\\n\\nAtx-style headers use 1-6 hash characters at the start of the line,\\ncorresponding to header levels 1-6. For example:\\n\\n    # This is an H1\\n\\n    ## This is an H2\\n\\n    ###### This is an H6\\n\\nOptionally, you may \\\"close\\\" atx-style headers. This is purely\\ncosmetic -- you can use this if you think it looks better. The\\nclosing hashes don't even need to match the number of hashes\\nused to open the header. (The number of opening hashes\\ndetermines the header level.) :\\n\\n    # This is an H1 #\\n\\n    ## This is an H2 ##\\n\\n    ### This is an H3 ######\\n\\n\\n<h3 id=\\\"blockquote\\\">Blockquotes</h3>\\n\\nMarkdown uses email-style `>` characters for blockquoting. If you're\\nfamiliar with quoting passages of text in an email message, then you\\nknow how to create a blockquote in Markdown. It looks best if you hard\\nwrap the text and put a `>` before every line:\\n\\n    > This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,\\n    > consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.\\n    > Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus.\\n    >\\n    > Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse\\n    > id sem consectetuer libero luctus adipiscing.\\n\\nMarkdown allows you to be lazy and only put the `>` before the first\\nline of a hard-wrapped paragraph:\\n\\n    > This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,\\n    consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.\\n    Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus.\\n\\n    > Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse\\n    id sem consectetuer libero luctus adipiscing.\\n\\nBlockquotes can be nested (i.e. a blockquote-in-a-blockquote) by\\nadding additional levels of `>`:\\n\\n    > This is the first level of quoting.\\n    >\\n    > > This is nested blockquote.\\n    >\\n    > Back to the first level.\\n\\nBlockquotes can contain other Markdown elements, including headers, lists,\\nand code blocks:\\n\\n\\t> ## This is a header.\\n\\t>\\n\\t> 1.   This is the first list item.\\n\\t> 2.   This is the second list item.\\n\\t>\\n\\t> Here's some example code:\\n\\t>\\n\\t>     return shell_exec(\\\"echo $input | $markdown_script\\\");\\n\\nAny decent text editor should make email-style quoting easy. For\\nexample, with BBEdit, you can make a selection and choose Increase\\nQuote Level from the Text menu.\\n\\n\\n<h3 id=\\\"list\\\">Lists</h3>\\n\\nMarkdown supports ordered (numbered) and unordered (bulleted) lists.\\n\\nUnordered lists use asterisks, pluses, and hyphens -- interchangably\\n-- as list markers:\\n\\n    *   Red\\n    *   Green\\n    *   Blue\\n\\nis equivalent to:\\n\\n    +   Red\\n    +   Green\\n    +   Blue\\n\\nand:\\n\\n    -   Red\\n    -   Green\\n    -   Blue\\n\\nOrdered lists use numbers followed by periods:\\n\\n    1.  Bird\\n    2.  McHale\\n    3.  Parish\\n\\nIt's important to note that the actual numbers you use to mark the\\nlist have no effect on the HTML output Markdown produces. The HTML\\nMarkdown produces from the above list is:\\n\\n    <ol>\\n    <li>Bird</li>\\n    <li>McHale</li>\\n    <li>Parish</li>\\n    </ol>\\n\\nIf you instead wrote the list in Markdown like this:\\n\\n    1.  Bird\\n    1.  McHale\\n    1.  Parish\\n\\nor even:\\n\\n    3. Bird\\n    1. McHale\\n    8. Parish\\n\\nyou'd get the exact same HTML output. The point is, if you want to,\\nyou can use ordinal numbers in your ordered Markdown lists, so that\\nthe numbers in your source match the numbers in your published HTML.\\nBut if you want to be lazy, you don't have to.\\n\\nIf you do use lazy list numbering, however, you should still start the\\nlist with the number 1. At some point in the future, Markdown may support\\nstarting ordered lists at an arbitrary number.\\n\\nList markers typically start at the left margin, but may be indented by\\nup to three spaces. List markers must be followed by one or more spaces\\nor a tab.\\n\\nTo make lists look nice, you can wrap items with hanging indents:\\n\\n    *   Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\\n        Aliquam hendrerit mi posuere lectus. Vestibulum enim wisi,\\n        viverra nec, fringilla in, laoreet vitae, risus.\\n    *   Donec sit amet nisl. Aliquam semper ipsum sit amet velit.\\n        Suspendisse id sem consectetuer libero luctus adipiscing.\\n\\nBut if you want to be lazy, you don't have to:\\n\\n    *   Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\\n    Aliquam hendrerit mi posuere lectus. Vestibulum enim wisi,\\n    viverra nec, fringilla in, laoreet vitae, risus.\\n    *   Donec sit amet nisl. Aliquam semper ipsum sit amet velit.\\n    Suspendisse id sem consectetuer libero luctus adipiscing.\\n\\nIf list items are separated by blank lines, Markdown will wrap the\\nitems in `<p>` tags in the HTML output. For example, this input:\\n\\n    *   Bird\\n    *   Magic\\n\\nwill turn into:\\n\\n    <ul>\\n    <li>Bird</li>\\n    <li>Magic</li>\\n    </ul>\\n\\nBut this:\\n\\n    *   Bird\\n\\n    *   Magic\\n\\nwill turn into:\\n\\n    <ul>\\n    <li><p>Bird</p></li>\\n    <li><p>Magic</p></li>\\n    </ul>\\n\\nList items may consist of multiple paragraphs. Each subsequent\\nparagraph in a list item must be intended by either 4 spaces\\nor one tab:\\n\\n    1.  This is a list item with two paragraphs. Lorem ipsum dolor\\n        sit amet, consectetuer adipiscing elit. Aliquam hendrerit\\n        mi posuere lectus.\\n\\n        Vestibulum enim wisi, viverra nec, fringilla in, laoreet\\n        vitae, risus. Donec sit amet nisl. Aliquam semper ipsum\\n        sit amet velit.\\n\\n    2.  Suspendisse id sem consectetuer libero luctus adipiscing.\\n\\nIt looks nice if you indent every line of the subsequent\\nparagraphs, but here again, Markdown will allow you to be\\nlazy:\\n\\n    *   This is a list item with two paragraphs.\\n\\n        This is the second paragraph in the list item. You're\\n    only required to indent the first line. Lorem ipsum dolor\\n    sit amet, consectetuer adipiscing elit.\\n\\n    *   Another item in the same list.\\n\\nTo put a blockquote within a list item, the blockquote's `>`\\ndelimiters need to be indented:\\n\\n    *   A list item with a blockquote:\\n\\n        > This is a blockquote\\n        > inside a list item.\\n\\nTo put a code block within a list item, the code block needs\\nto be indented *twice* -- 8 spaces or two tabs:\\n\\n    *   A list item with a code block:\\n\\n            <code goes here>\\n\\n\\nIt's worth noting that it's possible to trigger an ordered list by\\naccident, by writing something like this:\\n\\n    1986. What a great season.\\n\\nIn other words, a *number-period-space* sequence at the beginning of a\\nline. To avoid this, you can backslash-escape the period:\\n\\n    1986\\\\. What a great season.\\n\\n\\n\\n<h3 id=\\\"precode\\\">Code Blocks</h3>\\n\\nPre-formatted code blocks are used for writing about programming or\\nmarkup source code. Rather than forming normal paragraphs, the lines\\nof a code block are interpreted literally. Markdown wraps a code block\\nin both `<pre>` and `<code>` tags.\\n\\nTo produce a code block in Markdown, simply indent every line of the\\nblock by at least 4 spaces or 1 tab. For example, given this input:\\n\\n    This is a normal paragraph:\\n\\n        This is a code block.\\n\\nMarkdown will generate:\\n\\n    <p>This is a normal paragraph:</p>\\n\\n    <pre><code>This is a code block.\\n    </code></pre>\\n\\nOne level of indentation -- 4 spaces or 1 tab -- is removed from each\\nline of the code block. For example, this:\\n\\n    Here is an example of AppleScript:\\n\\n        tell application \\\"Foo\\\"\\n            beep\\n        end tell\\n\\nwill turn into:\\n\\n    <p>Here is an example of AppleScript:</p>\\n\\n    <pre><code>tell application \\\"Foo\\\"\\n        beep\\n    end tell\\n    </code></pre>\\n\\nA code block continues until it reaches a line that is not indented\\n(or the end of the article).\\n\\nWithin a code block, ampersands (`&`) and angle brackets (`<` and `>`)\\nare automatically converted into HTML entities. This makes it very\\neasy to include example HTML source code using Markdown -- just paste\\nit and indent it, and Markdown will handle the hassle of encoding the\\nampersands and angle brackets. For example, this:\\n\\n        <div class=\\\"footer\\\">\\n            &copy; 2004 Foo Corporation\\n        </div>\\n\\nwill turn into:\\n\\n    <pre><code>&lt;div class=\\\"footer\\\"&gt;\\n        &amp;copy; 2004 Foo Corporation\\n    &lt;/div&gt;\\n    </code></pre>\\n\\nRegular Markdown syntax is not processed within code blocks. E.g.,\\nasterisks are just literal asterisks within a code block. This means\\nit's also easy to use Markdown to write about Markdown's own syntax.\\n\\n\\n\\n<h3 id=\\\"hr\\\">Horizontal Rules</h3>\\n\\nYou can produce a horizontal rule tag (`<hr />`) by placing three or\\nmore hyphens, asterisks, or underscores on a line by themselves. If you\\nwish, you may use spaces between the hyphens or asterisks. Each of the\\nfollowing lines will produce a horizontal rule:\\n\\n    * * *\\n\\n    ***\\n\\n    *****\\n\\n    - - -\\n\\n    ---------------------------------------\\n\\n\\t_ _ _\\n\\n\\n* * *\\n\\n<h2 id=\\\"span\\\">Span Elements</h2>\\n\\n<h3 id=\\\"link\\\">Links</h3>\\n\\nMarkdown supports two style of links: *inline* and *reference*.\\n\\nIn both styles, the link text is delimited by [square brackets].\\n\\nTo create an inline link, use a set of regular parentheses immediately\\nafter the link text's closing square bracket. Inside the parentheses,\\nput the URL where you want the link to point, along with an *optional*\\ntitle for the link, surrounded in quotes. For example:\\n\\n    This is [an example](http://example.com/ \\\"Title\\\") inline link.\\n\\n    [This link](http://example.net/) has no title attribute.\\n\\nWill produce:\\n\\n    <p>This is <a href=\\\"http://example.com/\\\" title=\\\"Title\\\">\\n    an example</a> inline link.</p>\\n\\n    <p><a href=\\\"http://example.net/\\\">This link</a> has no\\n    title attribute.</p>\\n\\nIf you're referring to a local resource on the same server, you can\\nuse relative paths:\\n\\n    See my [About](/about/) page for details.\\n\\nReference-style links use a second set of square brackets, inside\\nwhich you place a label of your choosing to identify the link:\\n\\n    This is [an example][id] reference-style link.\\n\\nYou can optionally use a space to separate the sets of brackets:\\n\\n    This is [an example] [id] reference-style link.\\n\\nThen, anywhere in the document, you define your link label like this,\\non a line by itself:\\n\\n    [id]: http://example.com/  \\\"Optional Title Here\\\"\\n\\nThat is:\\n\\n*   Square brackets containing the link identifier (optionally\\n    indented from the left margin using up to three spaces);\\n*   followed by a colon;\\n*   followed by one or more spaces (or tabs);\\n*   followed by the URL for the link;\\n*   optionally followed by a title attribute for the link, enclosed\\n    in double or single quotes.\\n\\nThe link URL may, optionally, be surrounded by angle brackets:\\n\\n    [id]: <http://example.com/>  \\\"Optional Title Here\\\"\\n\\nYou can put the title attribute on the next line and use extra spaces\\nor tabs for padding, which tends to look better with longer URLs:\\n\\n    [id]: http://example.com/longish/path/to/resource/here\\n        \\\"Optional Title Here\\\"\\n\\nLink definitions are only used for creating links during Markdown\\nprocessing, and are stripped from your document in the HTML output.\\n\\nLink definition names may constist of letters, numbers, spaces, and punctuation -- but they are *not* case sensitive. E.g. these two links:\\n\\n\\t[link text][a]\\n\\t[link text][A]\\n\\nare equivalent.\\n\\nThe *implicit link name* shortcut allows you to omit the name of the\\nlink, in which case the link text itself is used as the name.\\nJust use an empty set of square brackets -- e.g., to link the word\\n\\\"Google\\\" to the google.com web site, you could simply write:\\n\\n\\t[Google][]\\n\\nAnd then define the link:\\n\\n\\t[Google]: http://google.com/\\n\\nBecause link names may contain spaces, this shortcut even works for\\nmultiple words in the link text:\\n\\n\\tVisit [Daring Fireball][] for more information.\\n\\nAnd then define the link:\\n\\n\\t[Daring Fireball]: http://daringfireball.net/\\n\\nLink definitions can be placed anywhere in your Markdown document. I\\ntend to put them immediately after each paragraph in which they're\\nused, but if you want, you can put them all at the end of your\\ndocument, sort of like footnotes.\\n\\nHere's an example of reference links in action:\\n\\n    I get 10 times more traffic from [Google] [1] than from\\n    [Yahoo] [2] or [MSN] [3].\\n\\n      [1]: http://google.com/        \\\"Google\\\"\\n      [2]: http://search.yahoo.com/  \\\"Yahoo Search\\\"\\n      [3]: http://search.msn.com/    \\\"MSN Search\\\"\\n\\nUsing the implicit link name shortcut, you could instead write:\\n\\n    I get 10 times more traffic from [Google][] than from\\n    [Yahoo][] or [MSN][].\\n\\n      [google]: http://google.com/        \\\"Google\\\"\\n      [yahoo]:  http://search.yahoo.com/  \\\"Yahoo Search\\\"\\n      [msn]:    http://search.msn.com/    \\\"MSN Search\\\"\\n\\nBoth of the above examples will produce the following HTML output:\\n\\n    <p>I get 10 times more traffic from <a href=\\\"http://google.com/\\\"\\n    title=\\\"Google\\\">Google</a> than from\\n    <a href=\\\"http://search.yahoo.com/\\\" title=\\\"Yahoo Search\\\">Yahoo</a>\\n    or <a href=\\\"http://search.msn.com/\\\" title=\\\"MSN Search\\\">MSN</a>.</p>\\n\\nFor comparison, here is the same paragraph written using\\nMarkdown's inline link style:\\n\\n    I get 10 times more traffic from [Google](http://google.com/ \\\"Google\\\")\\n    than from [Yahoo](http://search.yahoo.com/ \\\"Yahoo Search\\\") or\\n    [MSN](http://search.msn.com/ \\\"MSN Search\\\").\\n\\nThe point of reference-style links is not that they're easier to\\nwrite. The point is that with reference-style links, your document\\nsource is vastly more readable. Compare the above examples: using\\nreference-style links, the paragraph itself is only 81 characters\\nlong; with inline-style links, it's 176 characters; and as raw HTML,\\nit's 234 characters. In the raw HTML, there's more markup than there\\nis text.\\n\\nWith Markdown's reference-style links, a source document much more\\nclosely resembles the final output, as rendered in a browser. By\\nallowing you to move the markup-related metadata out of the paragraph,\\nyou can add links without interrupting the narrative flow of your\\nprose.\\n\\n\\n<h3 id=\\\"em\\\">Emphasis</h3>\\n\\nMarkdown treats asterisks (`*`) and underscores (`_`) as indicators of\\nemphasis. Text wrapped with one `*` or `_` will be wrapped with an\\nHTML `<em>` tag; double `*`'s or `_`'s will be wrapped with an HTML\\n`<strong>` tag. E.g., this input:\\n\\n    *single asterisks*\\n\\n    _single underscores_\\n\\n    **double asterisks**\\n\\n    __double underscores__\\n\\nwill produce:\\n\\n    <em>single asterisks</em>\\n\\n    <em>single underscores</em>\\n\\n    <strong>double asterisks</strong>\\n\\n    <strong>double underscores</strong>\\n\\nYou can use whichever style you prefer; the lone restriction is that\\nthe same character must be used to open and close an emphasis span.\\n\\nEmphasis can be used in the middle of a word:\\n\\n    un*fucking*believable\\n\\nBut if you surround an `*` or `_` with spaces, it'll be treated as a\\nliteral asterisk or underscore.\\n\\nTo produce a literal asterisk or underscore at a position where it\\nwould otherwise be used as an emphasis delimiter, you can backslash\\nescape it:\\n\\n    \\\\*this text is surrounded by literal asterisks\\\\*\\n\\n\\n\\n<h3 id=\\\"code\\\">Code</h3>\\n\\nTo indicate a span of code, wrap it with backtick quotes (`` ` ``).\\nUnlike a pre-formatted code block, a code span indicates code within a\\nnormal paragraph. For example:\\n\\n    Use the `printf()` function.\\n\\nwill produce:\\n\\n    <p>Use the <code>printf()</code> function.</p>\\n\\nTo include a literal backtick character within a code span, you can use\\nmultiple backticks as the opening and closing delimiters:\\n\\n    ``There is a literal backtick (`) here.``\\n\\nwhich will produce this:\\n\\n    <p><code>There is a literal backtick (`) here.</code></p>\\n\\nThe backtick delimiters surrounding a code span may include spaces --\\none after the opening, one before the closing. This allows you to place\\nliteral backtick characters at the beginning or end of a code span:\\n\\n\\tA single backtick in a code span: `` ` ``\\n\\n\\tA backtick-delimited string in a code span: `` `foo` ``\\n\\nwill produce:\\n\\n\\t<p>A single backtick in a code span: <code>`</code></p>\\n\\n\\t<p>A backtick-delimited string in a code span: <code>`foo`</code></p>\\n\\nWith a code span, ampersands and angle brackets are encoded as HTML\\nentities automatically, which makes it easy to include example HTML\\ntags. Markdown will turn this:\\n\\n    Please don't use any `<blink>` tags.\\n\\ninto:\\n\\n    <p>Please don't use any <code>&lt;blink&gt;</code> tags.</p>\\n\\nYou can write this:\\n\\n    `&#8212;` is the decimal-encoded equivalent of `&mdash;`.\\n\\nto produce:\\n\\n    <p><code>&amp;#8212;</code> is the decimal-encoded\\n    equivalent of <code>&amp;mdash;</code>.</p>\\n\\n\\n\\n<h3 id=\\\"img\\\">Images</h3>\\n\\nAdmittedly, it's fairly difficult to devise a \\\"natural\\\" syntax for\\nplacing images into a plain text document format.\\n\\nMarkdown uses an image syntax that is intended to resemble the syntax\\nfor links, allowing for two styles: *inline* and *reference*.\\n\\nInline image syntax looks like this:\\n\\n    ![Alt text](/path/to/img.jpg)\\n\\n    ![Alt text](/path/to/img.jpg \\\"Optional title\\\")\\n\\nThat is:\\n\\n*   An exclamation mark: `!`;\\n*   followed by a set of square brackets, containing the `alt`\\n    attribute text for the image;\\n*   followed by a set of parentheses, containing the URL or path to\\n    the image, and an optional `title` attribute enclosed in double\\n    or single quotes.\\n\\nReference-style image syntax looks like this:\\n\\n    ![Alt text][id]\\n\\nWhere \\\"id\\\" is the name of a defined image reference. Image references\\nare defined using syntax identical to link references:\\n\\n    [id]: url/to/image  \\\"Optional title attribute\\\"\\n\\nAs of this writing, Markdown has no syntax for specifying the\\ndimensions of an image; if this is important to you, you can simply\\nuse regular HTML `<img>` tags.\\n\\n\\n* * *\\n\\n\\n<h2 id=\\\"misc\\\">Miscellaneous</h2>\\n\\n<h3 id=\\\"autolink\\\">Automatic Links</h3>\\n\\nMarkdown supports a shortcut style for creating \\\"automatic\\\" links for URLs and email addresses: simply surround the URL or email address with angle brackets. What this means is that if you want to show the actual text of a URL or email address, and also have it be a clickable link, you can do this:\\n\\n    <http://example.com/>\\n\\nMarkdown will turn this into:\\n\\n    <a href=\\\"http://example.com/\\\">http://example.com/</a>\\n\\nAutomatic links for email addresses work similarly, except that\\nMarkdown will also perform a bit of randomized decimal and hex\\nentity-encoding to help obscure your address from address-harvesting\\nspambots. For example, Markdown will turn this:\\n\\n    <address@example.com>\\n\\ninto something like this:\\n\\n    <a href=\\\"&#x6D;&#x61;i&#x6C;&#x74;&#x6F;:&#x61;&#x64;&#x64;&#x72;&#x65;\\n    &#115;&#115;&#64;&#101;&#120;&#x61;&#109;&#x70;&#x6C;e&#x2E;&#99;&#111;\\n    &#109;\\\">&#x61;&#x64;&#x64;&#x72;&#x65;&#115;&#115;&#64;&#101;&#120;&#x61;\\n    &#109;&#x70;&#x6C;e&#x2E;&#99;&#111;&#109;</a>\\n\\nwhich will render in a browser as a clickable link to \\\"address@example.com\\\".\\n\\n(This sort of entity-encoding trick will indeed fool many, if not\\nmost, address-harvesting bots, but it definitely won't fool all of\\nthem. It's better than nothing, but an address published in this way\\nwill probably eventually start receiving spam.)\\n\\n\\n\\n<h3 id=\\\"backslash\\\">Backslash Escapes</h3>\\n\\nMarkdown allows you to use backslash escapes to generate literal\\ncharacters which would otherwise have special meaning in Markdown's\\nformatting syntax. For example, if you wanted to surround a word with\\nliteral asterisks (instead of an HTML `<em>` tag), you can backslashes\\nbefore the asterisks, like this:\\n\\n    \\\\*literal asterisks\\\\*\\n\\nMarkdown provides backslash escapes for the following characters:\\n\\n    \\\\   backslash\\n    `   backtick\\n    *   asterisk\\n    _   underscore\\n    {}  curly braces\\n    []  square brackets\\n    ()  parentheses\\n    #   hash mark\\n\\t+\\tplus sign\\n\\t-\\tminus sign (hyphen)\\n    .   dot\\n    !   exclamation mark\\n\\n[end of markdown_documentation_syntax.md]\\n[start of broken.md]\\n# Markdown is broken\\n\\nI have a lot of scraps of markdown engine oddities that I've collected over the\\nyears. What you see below is slightly messy, but it's what I've managed to\\ncobble together to illustrate the differences between markdown engines, and\\nwhy, if there ever is a markdown specification, it has to be absolutely\\nthorough. There are a lot more of these little differences I have documented\\nelsewhere. I know I will find them lingering on my disk one day, but until\\nthen, I'll continue to add whatever strange nonsensical things I find.\\n\\nSome of these examples may only mention a particular engine compared to marked.\\nHowever, the examples with markdown.pl could easily be swapped out for\\ndiscount, upskirt, or markdown.js, and you would very easily see even more\\ninconsistencies.\\n\\nA lot of this was written when I was very unsatisfied with the inconsistencies\\nbetween markdown engines. Please excuse the frustration noticeable in my\\nwriting.\\n\\n## Examples of markdown's \\\"stupid\\\" list parsing\\n\\n```\\n$ markdown.pl\\n\\n  * item1\\n\\n    * item2\\n\\n  text\\n^D\\n<ul>\\n<li><p>item1</p>\\n\\n<ul>\\n<li>item2</li>\\n</ul>\\n\\n<p><p>text</p></li>\\n</ul></p>\\n```\\n\\n\\n```\\n$ marked\\n  * item1\\n\\n    * item2\\n\\n  text\\n^D\\n<ul>\\n<li><p>item1</p>\\n<ul>\\n<li>item2</li>\\n</ul>\\n<p>text</p>\\n</li>\\n</ul>\\n```\\n\\nWhich looks correct to you?\\n\\n- - -\\n\\n```\\n$ markdown.pl\\n* hello\\n  > world\\n^D\\n<p><ul>\\n<li>hello</p>\\n\\n<blockquote>\\n  <p>world</li>\\n</ul></p>\\n</blockquote>\\n```\\n\\n```\\n$ marked\\n* hello\\n  > world\\n^D\\n<ul>\\n<li>hello<blockquote>\\n<p>world</p>\\n</blockquote>\\n</li>\\n</ul>\\n```\\n\\nAgain, which looks correct to you?\\n\\n- - -\\n\\nEXAMPLE:\\n\\n```\\n$ markdown.pl\\n* hello\\n  * world\\n    * hi\\n          code\\n^D\\n<ul>\\n<li>hello\\n<ul>\\n<li>world</li>\\n<li>hi\\n  code</li>\\n</ul></li>\\n</ul>\\n```\\n\\nThe code isn't a code block even though it's after the bullet margin. I know,\\nlets give it two more spaces, effectively making it 8 spaces past the bullet.\\n\\n```\\n$ markdown.pl\\n* hello\\n  * world\\n    * hi\\n            code\\n^D\\n<ul>\\n<li>hello\\n<ul>\\n<li>world</li>\\n<li>hi\\n    code</li>\\n</ul></li>\\n</ul>\\n```\\n\\nAnd, it's still not a code block. Did you also notice that the 3rd item isn't\\neven its own list? Markdown screws that up too because of its indentation\\nunaware parsing.\\n\\n- - -\\n\\nLet's look at some more examples of markdown's list parsing:\\n\\n```\\n$ markdown.pl\\n\\n  * item1\\n\\n    * item2\\n\\n  text\\n^D\\n<ul>\\n<li><p>item1</p>\\n\\n<ul>\\n<li>item2</li>\\n</ul>\\n\\n<p><p>text</p></li>\\n</ul></p>\\n```\\n\\nMisnested tags.\\n\\n\\n```\\n$ marked\\n  * item1\\n\\n    * item2\\n\\n  text\\n^D\\n<ul>\\n<li><p>item1</p>\\n<ul>\\n<li>item2</li>\\n</ul>\\n<p>text</p>\\n</li>\\n</ul>\\n```\\n\\nWhich looks correct to you?\\n\\n- - -\\n\\n```\\n$ markdown.pl\\n* hello\\n  > world\\n^D\\n<p><ul>\\n<li>hello</p>\\n\\n<blockquote>\\n  <p>world</li>\\n</ul></p>\\n</blockquote>\\n```\\n\\nMore misnested tags.\\n\\n\\n```\\n$ marked\\n* hello\\n  > world\\n^D\\n<ul>\\n<li>hello<blockquote>\\n<p>world</p>\\n</blockquote>\\n</li>\\n</ul>\\n```\\n\\nAgain, which looks correct to you?\\n\\n- - -\\n\\n# Why quality matters - Part 2\\n\\n``` bash\\n$ markdown.pl\\n* hello\\n  > world\\n^D\\n<p><ul>\\n<li>hello</p>\\n\\n<blockquote>\\n  <p>world</li>\\n</ul></p>\\n</blockquote>\\n```\\n\\n``` bash\\n$ sundown # upskirt\\n* hello\\n  > world\\n^D\\n<ul>\\n<li>hello\\n&gt; world</li>\\n</ul>\\n```\\n\\n``` bash\\n$ marked\\n* hello\\n  > world\\n^D\\n<ul><li>hello <blockquote><p>world</p></blockquote></li></ul>\\n```\\n\\nWhich looks correct to you?\\n\\n- - -\\n\\nSee: https://github.com/evilstreak/markdown-js/issues/23\\n\\n``` bash\\n$ markdown.pl # upskirt/markdown.js/discount\\n* hello\\n      var a = 1;\\n* world\\n^D\\n<ul>\\n<li>hello\\nvar a = 1;</li>\\n<li>world</li>\\n</ul>\\n```\\n\\n``` bash\\n$ marked\\n* hello\\n      var a = 1;\\n* world\\n^D\\n<ul><li>hello\\n<pre>code>var a = 1;</code></pre></li>\\n<li>world</li></ul>\\n```\\n\\nWhich looks more reasonable? Why shouldn't code blocks be able to appear in\\nlist items in a sane way?\\n\\n- - -\\n\\n``` bash\\n$ markdown.js\\n<div>hello</div>\\n\\n<span>hello</span>\\n^D\\n<p>&lt;div&gt;hello&lt;/div&gt;</p>\\n\\n<p>&lt;span&gt;hello&lt;/span&gt;</p>\\n```\\n\\n``` bash\\n$ marked\\n<div>hello</div>\\n\\n<span>hello</span>\\n^D\\n<div>hello</div>\\n\\n\\n<p><span>hello</span>\\n</p>\\n```\\n\\n- - -\\n\\nSee: https://github.com/evilstreak/markdown-js/issues/27\\n\\n``` bash\\n$ markdown.js\\n[![an image](/image)](/link)\\n^D\\n<p><a href=\\\"/image)](/link\\\">![an image</a></p>\\n```\\n\\n``` bash\\n$ marked\\n[![an image](/image)](/link)\\n^D\\n<p><a href=\\\"/link\\\"><img src=\\\"/image\\\" alt=\\\"an image\\\"></a>\\n</p>\\n```\\n\\n- - -\\n\\nSee: https://github.com/evilstreak/markdown-js/issues/24\\n\\n``` bash\\n$ markdown.js\\n> a\\n\\n> b\\n\\n> c\\n^D\\n<blockquote><p>a</p><p>bundefined&gt; c</p></blockquote>\\n```\\n\\n``` bash\\n$ marked\\n> a\\n\\n> b\\n\\n> c\\n^D\\n<blockquote><p>a\\n\\n</p></blockquote>\\n<blockquote><p>b\\n\\n</p></blockquote>\\n<blockquote><p>c\\n</p></blockquote>\\n```\\n\\n- - -\\n\\n``` bash\\n$ markdown.pl\\n* hello\\n  * world\\n    how\\n\\n    are\\n    you\\n\\n  * today\\n* hi\\n^D\\n<ul>\\n<li><p>hello</p>\\n\\n<ul>\\n<li>world\\nhow</li>\\n</ul>\\n\\n<p>are\\nyou</p>\\n\\n<ul>\\n<li>today</li>\\n</ul></li>\\n<li>hi</li>\\n</ul>\\n```\\n\\n``` bash\\n$ marked\\n* hello\\n  * world\\n    how\\n\\n    are\\n    you\\n\\n  * today\\n* hi\\n^D\\n<ul>\\n<li><p>hello</p>\\n<ul>\\n<li><p>world\\nhow</p>\\n<p>are\\nyou</p>\\n</li>\\n<li><p>today</p>\\n</li>\\n</ul>\\n</li>\\n<li>hi</li>\\n</ul>\\n```\\n\\n[end of broken.md]\\n[start of USING_PRO.md]\\n## Extending Marked\\n\\nTo champion the single-responsibility and open/closed principles, we have tried to make it relatively painless to extend Marked. If you are looking to add custom functionality, this is the place to start.\\n\\n<h2 id=\\\"use\\\">marked.use()</h2>\\n\\n`marked.use(extension)` is the recommended way to extend Marked. The `extension` object can contain any [option](/using_advanced#options) available in Marked:\\n\\n\\n```js\\nimport { marked } from 'marked';\\n\\nmarked.use({\\n  pedantic: false,\\n  gfm: true,\\n  breaks: false,\\n  sanitize: false,\\n  smartypants: false,\\n  xhtml: false\\n});\\n```\\n\\nYou can also supply multiple `extension` objects at once.\\n\\n```\\nmarked.use(myExtension, extension2, extension3);\\n\\n\\\\\\\\ EQUIVALENT TO:\\n\\nmarked.use(myExtension);\\nmarked.use(extension2);\\nmarked.use(extension3);\\n\\n```\\n\\nAll options will overwrite those previously set, except for the following options which will be merged with the existing framework and can be used to change or extend the functionality of Marked: `renderer`, `tokenizer`, `walkTokens`, and `extensions`.\\n\\n* The `renderer` and `tokenizer` options are objects with functions that will be merged into the built-in `renderer` and `tokenizer` respectively.\\n\\n* The `walkTokens` option is a function that will be called to post-process every token before rendering.\\n\\n* The `extensions` option is an array of objects that can contain additional custom `renderer` and `tokenizer` steps that will execute before any of the default parsing logic occurs.\\n\\n***\\n\\n<h2>The Marked Pipeline</h2>\\n\\nBefore building your custom extensions, it is important to understand the components that Marked uses to translate from Markdown to HTML:\\n\\n1) The user supplies Marked with an input string to be translated.\\n2) The `lexer` feeds segments of the input text string into each `tokenizer`, and from their output, generates a series of tokens in a nested tree structure.\\n3) Each `tokenizer` receives a segment of Markdown text and, if it matches a particular pattern, generates a token object containing any relevant information.\\n4) The `walkTokens` function will traverse every token in the tree and perform any final adjustments to the token contents.\\n4) The `parser` traverses the token tree and feeds each token into the appropriate `renderer`, and concatenates their outputs into the final HTML result.\\n5) Each `renderer` receives a token and manipulates its contents to generate a segment of HTML.\\n\\nMarked provides methods for directly overriding the `renderer` and `tokenizer` for any existing token type, as well as inserting additional custom `renderer` and `tokenizer` functions to handle entirely custom syntax.\\n\\n***\\n\\n<h2 id=\\\"renderer\\\">The Renderer : <code>renderer</code></h2>\\n\\nThe renderer defines the HTML output of a given token. If you supply a `renderer` in the options object passed to `marked.use()`, any functions in the object will override the default handling of that token type.\\n\\nCalling `marked.use()` to override the same function multiple times will give priority to the version that was assigned *last*. Overriding functions can return `false` to fall back to the previous override in the sequence, or resume default behavior if all overrides return `false`. Returning any other value (including nothing) will prevent fallback behavior.\\n\\n**Example:** Overriding output of the default `heading` token by adding an embedded anchor tag like on GitHub.\\n\\n```js\\n// Create reference instance\\nimport { marked } from 'marked';\\n\\n// Override function\\nconst renderer = {\\n  heading(text, level) {\\n    const escapedText = text.toLowerCase().replace(/[^\\\\w]+/g, '-');\\n\\n    return `\\n            <h${level}>\\n              <a name=\\\"${escapedText}\\\" class=\\\"anchor\\\" href=\\\"#${escapedText}\\\">\\n                <span class=\\\"header-link\\\"></span>\\n              </a>\\n              ${text}\\n            </h${level}>`;\\n  }\\n};\\n\\nmarked.use({ renderer });\\n\\n// Run marked\\nconsole.log(marked.parse('# heading+'));\\n```\\n\\n**Output:**\\n\\n```html\\n<h1>\\n  <a name=\\\"heading-\\\" class=\\\"anchor\\\" href=\\\"#heading-\\\">\\n    <span class=\\\"header-link\\\"></span>\\n  </a>\\n  heading+\\n</h1>\\n```\\n\\n### Block-level renderer methods\\n\\n- <code>**code**(*string* code, *string* infostring, *boolean* escaped)</code>\\n- <code>**blockquote**(*string* quote)</code>\\n- <code>**html**(*string* html, *boolean* block)</code>\\n- <code>**heading**(*string* text, *number* level, *string* raw, *Slugger* slugger)</code>\\n- <code>**hr**()</code>\\n- <code>**list**(*string* body, *boolean* ordered, *number* start)</code>\\n- <code>**listitem**(*string* text, *boolean* task, *boolean* checked)</code>\\n- <code>**checkbox**(*boolean* checked)</code>\\n- <code>**paragraph**(*string* text)</code>\\n- <code>**table**(*string* header, *string* body)</code>\\n- <code>**tablerow**(*string* content)</code>\\n- <code>**tablecell**(*string* content, *object* flags)</code>\\n\\n### Inline-level renderer methods\\n\\n- <code>**strong**(*string* text)</code>\\n- <code>**em**(*string* text)</code>\\n- <code>**codespan**(*string* code)</code>\\n- <code>**br**()</code>\\n- <code>**del**(*string* text)</code>\\n- <code>**link**(*string* href, *string* title, *string* text)</code>\\n- <code>**image**(*string* href, *string* title, *string* text)</code>\\n- <code>**text**(*string* text)</code>\\n\\n`Slugger` is exposed from marked as `marked.Slugger`:\\n\\n```js\\nimport { marked } from 'marked'\\nconst slugger = new marked.Slugger()\\n```\\n\\n`slugger` has the `slug` method to create a unique id from value:\\n\\n```js\\nslugger.slug('foo')   // foo\\nslugger.slug('foo')   // foo-1\\nslugger.slug('foo')   // foo-2\\nslugger.slug('foo 1') // foo-1-1\\nslugger.slug('foo-1') // foo-1-2\\n...\\n```\\n\\n`slugger.slug` can also be called with the `dryrun` option for stateless operation:\\n```js\\nslugger.slug('foo')                    // foo\\nslugger.slug('foo')                    // foo-1\\nslugger.slug('foo')                    // foo-2\\nslugger.slug('foo', { dryrun: true })  // foo-3\\nslugger.slug('foo', { dryrun: true })  // foo-3\\nslugger.slug('foo')                    // foo-3\\nslugger.slug('foo')                    // foo-4\\n...\\n```\\n\\n`flags` has the following properties:\\n\\n```js\\n{\\n    header: true || false,\\n    align: 'center' || 'left' || 'right'\\n}\\n```\\n\\n***\\n\\n<h2 id=\\\"tokenizer\\\">The Tokenizer : <code>tokenizer</code></h2>\\n\\nThe tokenizer defines how to turn markdown text into tokens. If you supply a `tokenizer` object to the Marked options, it will be merged with the built-in tokenizer and any functions inside will override the default handling of that token type.\\n\\nCalling `marked.use()` to override the same function multiple times will give priority to the version that was assigned *last*. Overriding functions can return `false` to fall back to the previous override in the sequence, or resume default behavior if all overrides return `false`. Returning any other value (including nothing) will prevent fallback behavior.\\n\\n**Example:** Overriding default `codespan` tokenizer to include LaTeX.\\n\\n```js\\n// Create reference instance\\nimport { marked } from 'marked';\\n\\n// Override function\\nconst tokenizer = {\\n  codespan(src) {\\n    const match = src.match(/^\\\\$+([^\\\\$\\\\n]+?)\\\\$+/);\\n    if (match) {\\n      return {\\n        type: 'codespan',\\n        raw: match[0],\\n        text: match[1].trim()\\n      };\\n    }\\n\\n    // return false to use original codespan tokenizer\\n    return false;\\n  }\\n};\\n\\nmarked.use({ tokenizer });\\n\\n// Run marked\\nconsole.log(marked.parse('$ latex code $\\\\n\\\\n` other code `'));\\n```\\n\\n**Output:**\\n\\n```html\\n<p><code>latex code</code></p>\\n<p><code>other code</code></p>\\n```\\n**NOTE**: This does not fully support latex, see issue [#1948](https://github.com/markedjs/marked/issues/1948).\\n\\n### Block level tokenizer methods\\n\\n- <code>**space**(*string* src)</code>\\n- <code>**code**(*string* src)</code>\\n- <code>**fences**(*string* src)</code>\\n- <code>**heading**(*string* src)</code>\\n- <code>**hr**(*string* src)</code>\\n- <code>**blockquote**(*string* src)</code>\\n- <code>**list**(*string* src)</code>\\n- <code>**html**(*string* src)</code>\\n- <code>**def**(*string* src)</code>\\n- <code>**table**(*string* src)</code>\\n- <code>**lheading**(*string* src)</code>\\n- <code>**paragraph**(*string* src)</code>\\n- <code>**text**(*string* src)</code>\\n\\n### Inline level tokenizer methods\\n\\n- <code>**escape**(*string* src)</code>\\n- <code>**tag**(*string* src)</code>\\n- <code>**link**(*string* src)</code>\\n- <code>**reflink**(*string* src, *object* links)</code>\\n- <code>**emStrong**(*string* src, *string* maskedSrc, *string* prevChar)</code>\\n- <code>**codespan**(*string* src)</code>\\n- <code>**br**(*string* src)</code>\\n- <code>**del**(*string* src)</code>\\n- <code>**autolink**(*string* src, *function* mangle)</code>\\n- <code>**url**(*string* src, *function* mangle)</code>\\n- <code>**inlineText**(*string* src, *function* smartypants)</code>\\n\\n`mangle` is a method that changes text to HTML character references:\\n\\n```js\\nmangle('test@example.com')\\n// \\\"&#x74;&#101;&#x73;&#116;&#x40;&#101;&#120;&#x61;&#x6d;&#112;&#108;&#101;&#46;&#x63;&#111;&#x6d;\\\"\\n```\\n\\n`smartypants` is a method that translates plain ASCII punctuation characters into \\u201csmart\\u201d typographic punctuation HTML entities:\\n\\nhttps://daringfireball.net/projects/smartypants/\\n\\n```js\\nsmartypants('\\\"this ... string\\\"')\\n// \\\"\\u201cthis \\u2026 string\\u201d\\\"\\n```\\n\\n***\\n\\n<h2 id=\\\"walk-tokens\\\">Walk Tokens : <code>walkTokens</code></h2>\\n\\nThe walkTokens function gets called with every token. Child tokens are called before moving on to sibling tokens. Each token is passed by reference so updates are persisted when passed to the parser. When [`async`](#async) mode is enabled, the return value is awaited. Otherwise the return value is ignored.\\n\\n`marked.use()` can be called multiple times with different `walkTokens` functions. Each function will be called in order, starting with the function that was assigned *last*.\\n\\n**Example:** Overriding heading tokens to start at h2.\\n\\n```js\\nimport { marked } from 'marked';\\n\\n// Override function\\nconst walkTokens = (token) => {\\n  if (token.type === 'heading') {\\n    token.depth += 1;\\n  }\\n};\\n\\nmarked.use({ walkTokens });\\n\\n// Run marked\\nconsole.log(marked.parse('# heading 2\\\\n\\\\n## heading 3'));\\n```\\n\\n**Output:**\\n\\n```html\\n<h2 id=\\\"heading-2\\\">heading 2</h2>\\n<h3 id=\\\"heading-3\\\">heading 3</h3>\\n```\\n\\n***\\n\\n<h2 id=\\\"hooks\\\">Hooks : <code>hooks</code></h2>\\n\\nHooks are methods that hook into some part of marked. The following hooks are available:\\n\\n| signature | description |\\n|-----------|-------------|\\n| `preprocess(markdown: string): string` | Process markdown before sending it to marked. |\\n| `postprocess(html: string): string` | Process html after marked has finished parsing. |\\n\\n`marked.use()` can be called multiple times with different `hooks` functions. Each function will be called in order, starting with the function that was assigned *last*.\\n\\n**Example:** Set options based on [front-matter](https://www.npmjs.com/package/front-matter)\\n\\n```js\\nimport { marked } from 'marked';\\nimport fm from 'front-matter';\\n\\n// Override function\\nconst hooks = {\\n  preprocess(markdown) {\\n    const { attributes, body } = fm(markdown);\\n    for (const prop in attributes) {\\n      if (prop in this.options) {\\n        this.options[prop] = attributes[prop];\\n      }\\n    }\\n    return body;\\n  }\\n};\\n\\nmarked.use({ hooks });\\n\\n// Run marked\\nconsole.log(marked.parse(`\\n---\\nheaderIds: false\\n---\\n\\n## test\\n`.trim()));\\n```\\n\\n**Output:**\\n\\n```html\\n<h2>test</h2>\\n```\\n\\n**Example:** Sanitize HTML with [isomorphic-dompurify](https://www.npmjs.com/package/isomorphic-dompurify)\\n\\n```js\\nimport { marked } from 'marked';\\nimport DOMPurify from 'isomorphic-dompurify';\\n\\n// Override function\\nconst hooks = {\\n  postprocess(html) {\\n    return DOMPurify.sanitize(html);\\n  }\\n};\\n\\nmarked.use({ hooks });\\n\\n// Run marked\\nconsole.log(marked.parse(`\\n<img src=x onerror=alert(1)//>\\n`));\\n```\\n\\n**Output:**\\n\\n```html\\n<img src=\\\"x\\\">\\n```\\n\\n***\\n\\n<h2 id=\\\"extensions\\\">Custom Extensions : <code>extensions</code></h2>\\n\\nYou may supply an `extensions` array to the `options` object. This array can contain any number of `extension` objects, using the following properties:\\n\\n<dl>\\n<dt><code><strong>name</strong></code></dt>\\n<dd>A string used to identify the token that will be handled by this extension.\\n\\nIf the name matches an existing extension name, or an existing method in the tokenizer/renderer methods listed above, they will override the previously assigned behavior, with priority on the extension that was assigned **last**. An extension can return `false` to fall back to the previous behavior.</dd>\\n\\n<dt><code><strong>level</strong></code></dt>\\n<dd>A string to determine when to run the extension tokenizer. Must be equal to 'block' or 'inline'.\\n\\nA **block-level** extension will be handled before any of the block-level tokenizer methods listed above, and generally consists of 'container-type' text (paragraphs, tables, blockquotes, etc.).\\n\\nAn **inline-level** extension will be handled inside each block-level token, before any of the inline-level tokenizer methods listed above. These generally consist of 'style-type' text (italics, bold, etc.).</dd>\\n\\n<dt><code><strong>start</strong>(<i>string</i> src)</code></dt>\\n<dd>A function that returns the index of the next potential start of the custom token.\\n\\nThe index can be the result of a <code>src.match().index</code>, or even a simple <code>src.index()</code>. Marked will use this function to ensure that it does not skip over any text that should be part of the custom token.</dd>\\n\\n<dt><code><strong>tokenizer</strong>(<i>string</i> src, <i>array</i> tokens)</code></dt>\\n<dd>A function that reads string of Markdown text and returns a generated token. The token pattern should be found at the beginning of the <code>src</code> string. Accordingly, if using a Regular Expression to detect a token, it should be anchored to the string start (`^`). The <code>tokens</code> parameter contains the array of tokens that have been generated by the lexer up to that point, and can be used to access the previous token, for instance.\\n\\nThe return value should be an object with the following parameters:\\n\\n<dl>\\n<dt><code><strong>type</strong></code></dt>\\n<dd>A string that matches the <code>name</code> parameter of the extension.</dd>\\n\\n<dt><code><strong>raw</strong></code></dt>\\n<dd>A string containing all of the text that this token consumes from the source.</dd>\\n\\n<dt><code><strong>tokens</strong> [optional]</code></dt>\\n<dd>An array of child tokens that will be traversed by the <code>walkTokens</code> function by default.</dd>\\n</dl>\\n\\nThe returned token can also contain any other custom parameters of your choice that your custom `renderer` might need to access.\\n\\nThe tokenizer function has access to the lexer in the `this` object, which can be used if any internal section of the string needs to be parsed further, such as in handling any inline syntax on the text within a block token. The key functions that may be useful include:\\n\\n<dl>\\n<dt><code><strong>this.lexer.blockTokens</strong>(<i>string</i> text, <i>array</i> tokens)</code></dt>\\n<dd>This runs the block tokenizer functions (including any block-level extensions) on the provided text, and appends any resulting tokens onto the <code>tokens</code> array. The <code>tokens</code> array is also returned by the function. You might use this, for example, if your extension creates a \\\"container\\\"-type token (such as a blockquote) that can potentially include other block-level tokens inside.</dd>\\n\\n<dt><code><strong>this.lexer.inline</strong>(<i>string</i> text, <i>array</i> tokens)</code></dt>\\n<dd>Parsing of inline-level tokens only occurs after all block-level tokens have been generated. This function adds <code>text</code> and <code>tokens</code> to a queue to be processed using inline-level tokenizers (including any inline-level extensions) at that later step. Tokens will be generated using the provided <code>text</code>, and any resulting tokens will be appended to the <code>tokens</code> array. Note that this function does **NOT** return anything since the inline processing cannot happen until the block-level processing is complete.</dd>\\n\\n<dt><code><strong>this.lexer.inlineTokens</strong>(<i>string</i> text, <i>array</i> tokens)</code></dt>\\n<dd>Sometimes an inline-level token contains further nested inline tokens (such as a <pre><code>**strong**</code></pre> token inside of a <pre><code>### Heading</code></pre>). This runs the inline tokenizer functions (including any inline-level extensions) on the provided text, and appends any resulting tokens onto the <code>tokens</code> array. The <code>tokens</code> array is also returned by the function.</dd>\\n</dl>\\n</dd>\\n\\n<dt><code><strong>renderer</strong>(<i>object</i> token)</code></dt>\\n<dd>A function that reads a token and returns the generated HTML output string.\\n\\nThe renderer function has access to the parser in the `this` object, which can be used if any part of the token needs needs to be parsed further, such as any child tokens. The key functions that may be useful include:\\n\\n<dl>\\n<dt><code><strong>this.parser.parse</strong>(<i>array</i> tokens)</code></dt>\\n<dd>Runs the block renderer functions (including any extensions) on the provided array of tokens, and returns the resulting HTML string output. This is used to generate the HTML from any child block-level tokens, for example if your extension is a \\\"container\\\"-type token (such as a blockquote) that can potentially include other block-level tokens inside.</dd>\\n\\n<dt><code><strong>this.parser.parseInline</strong>(<i>array</i> tokens)</code></dt>\\n<dd>Runs the inline renderer functions (including any extensions) on the provided array of tokens, and returns the resulting HTML string output. This is used to generate the HTML from any child inline-level tokens.</dd>\\n</dl>\\n</dd>\\n\\n<dt><code><strong>childTokens</strong> [optional]</code></dt>\\n<dd>An array of strings that match the names of any token parameters that should be traversed by the <code>walkTokens</code> functions. For instance, if you want to use a second custom parameter to contain child tokens in addition to <code>tokens</code>, it could be listed here. If <code>childTokens</code> is provided, the <code>tokens</code> array will not be walked by default unless it is also included in the <code>childTokens</code> array.</dd>\\n</dl>\\n\\n**Example:** Add a custom syntax to generate `<dl>` description lists.\\n\\n``` js\\nconst descriptionList = {\\n  name: 'descriptionList',\\n  level: 'block',                                     // Is this a block-level or inline-level tokenizer?\\n  start(src) { return src.match(/:[^:\\\\n]/)?.index; }, // Hint to Marked.js to stop and check for a match\\n  tokenizer(src, tokens) {\\n    const rule = /^(?::[^:\\\\n]+:[^:\\\\n]*(?:\\\\n|$))+/;    // Regex for the complete token, anchor to string start\\n    const match = rule.exec(src);\\n    if (match) {\\n      const token = {                                 // Token to generate\\n        type: 'descriptionList',                      // Should match \\\"name\\\" above\\n        raw: match[0],                                // Text to consume from the source\\n        text: match[0].trim(),                        // Additional custom properties\\n        tokens: []                                    // Array where child inline tokens will be generated\\n      };\\n      this.lexer.inline(token.text, token.tokens);    // Queue this data to be processed for inline tokens\\n      return token;\\n    }\\n  },\\n  renderer(token) {\\n    return `<dl>${this.parser.parseInline(token.tokens)}\\\\n</dl>`; // parseInline to turn child tokens into HTML\\n  }\\n};\\n\\nconst description = {\\n  name: 'description',\\n  level: 'inline',                                 // Is this a block-level or inline-level tokenizer?\\n  start(src) { return src.match(/:/)?.index; },    // Hint to Marked.js to stop and check for a match\\n  tokenizer(src, tokens) {\\n    const rule = /^:([^:\\\\n]+):([^:\\\\n]*)(?:\\\\n|$)/;  // Regex for the complete token, anchor to string start\\n    const match = rule.exec(src);\\n    if (match) {\\n      return {                                         // Token to generate\\n        type: 'description',                           // Should match \\\"name\\\" above\\n        raw: match[0],                                 // Text to consume from the source\\n        dt: this.lexer.inlineTokens(match[1].trim()),  // Additional custom properties, including\\n        dd: this.lexer.inlineTokens(match[2].trim())   //   any further-nested inline tokens\\n      };\\n    }\\n  },\\n  renderer(token) {\\n    return `\\\\n<dt>${this.parser.parseInline(token.dt)}</dt><dd>${this.parser.parseInline(token.dd)}</dd>`;\\n  },\\n  childTokens: ['dt', 'dd'],                 // Any child tokens to be visited by walkTokens\\n};\\n\\nfunction walkTokens(token) {                        // Post-processing on the completed token tree\\n  if (token.type === 'strong') {\\n    token.text += ' walked';\\n    token.tokens = this.Lexer.lexInline(token.text)\\n  }\\n}\\nmarked.use({ extensions: [descriptionList, description], walkTokens });\\n\\n// EQUIVALENT TO:\\n\\nmarked.use({ extensions: [descriptionList] });\\nmarked.use({ extensions: [description]     });\\nmarked.use({ walkTokens })\\n\\nconsole.log(marked.parse('A Description List:\\\\n'\\n                 + ':   Topic 1   :  Description 1\\\\n'\\n                 + ': **Topic 2** : *Description 2*'));\\n```\\n\\n**Output**\\n\\n``` bash\\n<p>A Description List:</p>\\n<dl>\\n<dt>Topic 1</dt><dd>Description 1</dd>\\n<dt><strong>Topic 2 walked</strong></dt><dd><em>Description 2</em></dd>\\n</dl>\\n```\\n\\n***\\n\\n<h2 id=\\\"async\\\">Async Marked : <code>async</code></h2>\\n\\nMarked will return a promise if the `async` option is true. The `async` option will tell marked to await any `walkTokens` functions before parsing the tokens and returning an HTML string.\\n\\nSimple Example:\\n\\n```js\\nconst walkTokens = async (token) => {\\n  if (token.type === 'link') {\\n    try {\\n      await fetch(token.href);\\n    } catch (ex) {\\n      token.title = 'invalid';\\n    }\\n  }\\n};\\n\\nmarked.use({ walkTokens, async: true });\\n\\nconst markdown = `\\n[valid link](https://example.com)\\n\\n[invalid link](https://invalidurl.com)\\n`;\\n\\nconst html = await marked.parse(markdown);\\n```\\n\\nCustom Extension Example:\\n\\n```js\\nconst importUrl = {\\n  extensions: [{\\n    name: 'importUrl',\\n    level: 'block',\\n    start(src) { return src.indexOf('\\\\n:'); },\\n    tokenizer(src) {\\n      const rule = /^:(https?:\\\\/\\\\/.+?):/;\\n      const match = rule.exec(src);\\n      if (match) {\\n        return {\\n          type: 'importUrl',\\n          raw: match[0],\\n          url: match[1],\\n          html: '' // will be replaced in walkTokens\\n        };\\n      }\\n    },\\n    renderer(token) {\\n      return token.html;\\n    }\\n  }],\\n  async: true, // needed to tell marked to return a promise\\n  async walkTokens(token) {\\n    if (token.type === 'importUrl') {\\n      const res = await fetch(token.url);\\n      token.html = await res.text();\\n    }\\n  }\\n};\\n\\nmarked.use(importUrl);\\n\\nconst markdown = `\\n# example.com\\n\\n:https://example.com:\\n`;\\n\\nconst html = await marked.parse(markdown);\\n```\\n\\n<h2 id=\\\"lexer\\\">The Lexer</h2>\\n\\nThe lexer takes a markdown string and calls the tokenizer functions.\\n\\n\\n<h2 id=\\\"parser\\\">The Parser</h2>\\n\\nThe parser takes tokens as input and calls the renderer functions.\\n\\n<h2 id=\\\"extend\\\">Access to Lexer and Parser</h2>\\n\\nYou also have direct access to the lexer and parser if you so desire.\\n\\n``` js\\nconst tokens = marked.lexer(markdown, options);\\nconsole.log(marked.parser(tokens, options));\\n```\\n\\n``` js\\nconst lexer = new marked.Lexer(options);\\nconst tokens = lexer.lex(markdown);\\nconsole.log(tokens);\\nconsole.log(lexer.tokenizer.rules.block); // block level rules used\\nconsole.log(lexer.tokenizer.rules.inline); // inline level rules used\\nconsole.log(marked.Lexer.rules.block); // all block level rules\\nconsole.log(marked.Lexer.rules.inline); // all inline level rules\\n```\\n\\n``` bash\\n$ node\\n> require('marked').lexer('> I am using marked.')\\n[\\n  {\\n    type: \\\"blockquote\\\",\\n    raw: \\\"> I am using marked.\\\",\\n    tokens: [\\n      {\\n        type: \\\"paragraph\\\",\\n        raw: \\\"I am using marked.\\\",\\n        text: \\\"I am using marked.\\\",\\n        tokens: [\\n          {\\n            type: \\\"text\\\",\\n            raw: \\\"I am using marked.\\\",\\n            text: \\\"I am using marked.\\\"\\n          }\\n        ]\\n      }\\n    ]\\n  },\\n  links: {}\\n]\\n```\\n\\nThe Lexer builds an array of tokens, which will be passed to the Parser.\\nThe Parser processes each token in the token array:\\n\\n``` js\\nimport { marked } from 'marked';\\n\\nconst md = `\\n  # heading\\n\\n  [link][1]\\n\\n  [1]: #heading \\\"heading\\\"\\n`;\\n\\nconst tokens = marked.lexer(md);\\nconsole.log(tokens);\\n\\nconst html = marked.parser(tokens);\\nconsole.log(html);\\n```\\n\\n``` bash\\n[\\n  {\\n    type: \\\"heading\\\",\\n    raw: \\\"  # heading\\\\n\\\\n\\\",\\n    depth: 1,\\n    text: \\\"heading\\\",\\n    tokens: [\\n      {\\n        type: \\\"text\\\",\\n        raw: \\\"heading\\\",\\n        text: \\\"heading\\\"\\n      }\\n    ]\\n  },\\n  {\\n    type: \\\"paragraph\\\",\\n    raw: \\\"  [link][1]\\\",\\n    text: \\\"  [link][1]\\\",\\n    tokens: [\\n      {\\n        type: \\\"text\\\",\\n        raw: \\\"  \\\",\\n        text: \\\"  \\\"\\n      },\\n      {\\n        type: \\\"link\\\",\\n        raw: \\\"[link][1]\\\",\\n        text: \\\"link\\\",\\n        href: \\\"#heading\\\",\\n        title: \\\"heading\\\",\\n        tokens: [\\n          {\\n            type: \\\"text\\\",\\n            raw: \\\"link\\\",\\n            text: \\\"link\\\"\\n          }\\n        ]\\n      }\\n    ]\\n  },\\n  {\\n    type: \\\"space\\\",\\n    raw: \\\"\\\\n\\\\n\\\"\\n  },\\n  links: {\\n    \\\"1\\\": {\\n      href: \\\"#heading\\\",\\n      title: \\\"heading\\\"\\n    }\\n  }\\n]\\n<h1 id=\\\"heading\\\">heading</h1>\\n<p>  <a href=\\\"#heading\\\" title=\\\"heading\\\">link</a></p>\\n```\\n\\n[end of USING_PRO.md]\\n[start of INDEX.md]\\nMarked is\\n\\n1. built for speed.<sup>*</sup>\\n2. a low-level markdown compiler for parsing markdown without caching or blocking for long periods of time.<sup>**</sup>\\n3. light-weight while implementing all markdown features from the supported flavors & specifications.<sup>***</sup>\\n4. available as a command line interface (CLI) and running in client- or server-side JavaScript projects.\\n\\n<p><small><sup>*</sup> Still working on metrics for comparative analysis and definition.</small><br>\\n<small><sup>**</sup> As few dependencies as possible.</small><br>\\n<small><sup>***</sup> Strict compliance could result in slower processing when running comparative benchmarking.</small></p>\\n\\n\\n<h2 id=\\\"demo\\\">Demo</h2>\\n\\nCheckout the [demo page](./demo/) to see marked in action \\u26f9\\ufe0f\\n\\nThese documentation pages are also rendered using marked \\ud83d\\udcaf\\n\\n\\n<h2 id=\\\"installation\\\">Installation</h2>\\n\\n**CLI:** `npm install -g marked`\\n\\n**In-browser:**\\n```\\nnpm install marked\\nnpm install @types/marked # For TypeScript projects\\n```\\n<h2 id=\\\"usage\\\">Usage</h2>\\n\\n### Warning: \\ud83d\\udea8 Marked does not [sanitize](/using_advanced#options) the output HTML. If you are processing potentially unsafe strings, it's important to filter for possible XSS attacks. Some filtering options include [DOMPurify](https://github.com/cure53/DOMPurify) (recommended), [js-xss](https://github.com/leizongmin/js-xss), [sanitize-html](https://github.com/apostrophecms/sanitize-html) and [insane](https://github.com/bevacqua/insane) on the *output* HTML! \\ud83d\\udea8\\n\\n```\\nDOMPurify.sanitize(marked.parse(`<img src=\\\"x\\\" onerror=\\\"alert('not happening')\\\">`));\\n```\\n\\n**\\u26a0\\ufe0f Input: special ZERO WIDTH unicode characters (for example `\\\\uFEFF`) might interfere with parsing. Some text editors add them at the start of the file (see: [#2139](https://github.com/markedjs/marked/issues/2139)).**\\n\\n```js\\n// remove the most common zerowidth characters from the start of the file \\nmarked.parse(\\n  contents.replace(/^[\\\\u200B\\\\u200C\\\\u200D\\\\u200E\\\\u200F\\\\uFEFF]/,\\\"\\\")\\n)\\n```\\n\\n**CLI**\\n\\n``` bash\\n# Example with stdin input\\n$ marked -o hello.html\\nhello world\\n^D\\n$ cat hello.html\\n<p>hello world</p>\\n```\\n\\n``` bash\\n# Example with string input\\n$ marked -s \\\"*hello world*\\\"\\n<p><em>hello world</em></p>\\n```\\n\\n```bash\\n# Example with file input\\n\\necho \\\"**bold text example**\\\" > readme.md\\n\\n$ marked -i readme.md -o readme.html\\n$ cat readme.html\\n<p><strong>bold text example</strong></p>\\n```\\n\\n```bash\\n# Print all options\\n$ marked --help\\n```\\n\\n**Browser**\\n\\n```html\\n<!doctype html>\\n<html>\\n<head>\\n  <meta charset=\\\"utf-8\\\"/>\\n  <title>Marked in the browser</title>\\n</head>\\n<body>\\n  <div id=\\\"content\\\"></div>\\n  <script src=\\\"https://cdn.jsdelivr.net/npm/marked/marked.min.js\\\"></script>\\n  <script>\\n    document.getElementById('content').innerHTML =\\n      marked.parse('# Marked in browser\\\\n\\\\nRendered by **marked**.');\\n  </script>\\n</body>\\n</html>\\n```\\n\\n**Node.js**\\n\\n```js\\nimport { marked } from 'marked';\\n// or const { marked } = require('marked');\\n\\nconst html = marked.parse('# Marked in Node.js\\\\n\\\\nRendered by **marked**.');\\n```\\n\\n\\nMarked offers [advanced configurations](/using_advanced) and [extensibility](/using_pro) as well.\\n\\n<h2 id=\\\"specifications\\\">Supported Markdown specifications</h2>\\n\\nWe actively support the features of the following [Markdown flavors](https://github.com/commonmark/CommonMark/wiki/Markdown-Flavors).\\n\\n| Flavor                                                     | Version | Status                                                             |\\n| :--------------------------------------------------------- | :------ | :----------------------------------------------------------------- |\\n| The original markdown.pl                                   | --      |                                                                    |\\n| [CommonMark](http://spec.commonmark.org/0.30/)             | 0.30    | [Work in progress](https://github.com/markedjs/marked/issues/1202) |\\n| [GitHub Flavored Markdown](https://github.github.com/gfm/) | 0.29    | [Work in progress](https://github.com/markedjs/marked/issues/1202) |\\n\\nBy supporting the above Markdown flavors, it's possible that Marked can help you use other flavors as well; however, these are not actively supported by the community.\\n\\n<h2 id=\\\"tools\\\">List of Tools Using Marked</h2>\\n\\nWe actively support the usability of Marked in super-fast markdown transformation, some of Tools using `Marked` for single-page creations are \\n\\n| Tools                                                               |                  Description                                               |\\n| :-----------------------------------------------------------------  | :------------------------------------------------------------------------  |\\n| [zero-md](https://zerodevx.github.io/zero-md/)                      | A native markdown-to-html web component to load and display an external MD file.It uses Marked for super-fast markdown transformation. |\\n| [texme](https://github.com/susam/texme)                             | TeXMe is a lightweight JavaScript utility to create self-rendering Markdown + LaTeX documents.             |\\n| [StrapDown.js](https://naereen.github.io/StrapDown.js/)             | StrapDown.js is an awesome on-the-fly Markdown to HTML text processor.                |\\n| [Homebrewery](https://homebrewery.naturalcrit.com/)             | The Homebrewery is a tool for making authentic looking D&D content using Markdown. It is distributed under the terms of the MIT.             |\\n\\n<h2 id=\\\"security\\\">Security</h2>\\n\\nThe only completely secure system is the one that doesn't exist in the first place. Having said that, we take the security of Marked very seriously.\\n\\nTherefore, please disclose potential security issues by email to the project [committers](/authors) as well as the [listed owners within NPM](https://docs.npmjs.com/cli/owner). We will provide an initial assessment of security reports within 48 hours and should apply patches within 2 weeks (also, feel free to contribute a fix for the issue).\\n\\n[end of INDEX.md]\\n\\n</code>\\n\\nHere is an example of a patch file. It consists of changes to the code base. It specifies the file names, the line numbers of each change, and the removed and added lines. A single patch file can contain changes to multiple files.\\n\\n<patch>\\ndiff --git a/file.py b/file.py\\n--- a/file.py\\n+++ b/file.py\\n@@ -1,27 +1,35 @@\\n def euclidean(a, b):\\n-    while b:\\n-        a, b = b, a % b\\n-    return a\\n+    if b == 0:\\n+        return a\\n+    return euclidean(b, a % b)\\n \\n def bresenham(x0, y0, x1, y1):\\n+    points = []\\n+    dx = abs(x1 - x0)\\n+    dy = abs(y1 - y0)\\n+    sx = 1 if x0 < x1 else -1\\n+    sy = 1 if y0 < y1 else -1\\n+    err = dx - dy\\n+    \\n     while True:\\n-        plot(x0, y0)\\n+        points.append((x0, y0))\\n         if x0 == x1 and y0 == y1:\\n             break\\n-        e2 = 2 * err\\n-        if e2 > -dy:\\n-            err -= dy\\n-            x0 += sx\\n-        if e2 < dx:\\n-            err += dx\\n-            y0 += sy\\n+        e2 = 2 * err\\n+        if e2 > -dy:\\n+            err -= dy\\n+            x0 += sx\\n+        if e2 < dx:\\n+            err += dx\\n+            y0 += sy\\n+    return points\\n+</patch>\\n\\nI need you to solve the provided issue by generating a single patch file that I can apply directly to this repository using git apply. Please respond with a single patch file in the format shown above.\\n\\nRespond below: \\n\"}]",
      "retrieved_file_paths": [
        "markdown_documentation_basics.md",
        "markdown_documentation_syntax.md",
        "broken.md",
        "USING_PRO.md",
        "INDEX.md"
      ]
    },
    "retrieved_documents": [
      {
        "id": "96af2029-3add-419b-880d-290fb2c89b2c",
        "score": 0.01639344262295082,
        "payload": {
          "text": "---\npedantic: true\n---\n\nMarkdown: Basics\n================\n\n<ul id=\"ProjectSubmenu\">\n    <li><a href=\"/projects/markdown/\" title=\"Markdown Project Page\">Main</a></li>\n    <li><a class=\"selected\" title=\"Markdown Basics\">Basics</a></li>\n    <li><a href=\"/projects/markdown/syntax\" title=\"Markdown Syntax Documentation\">Syntax</a></li>\n    <li><a href=\"/projects/markdown/license\" title=\"Pricing and License Information\">License</a></li>\n    <li><a href=\"/projects/markdown/dingus\" title=\"Online Markdown Web Form\">Dingus</a></li>\n</ul>\n\n\nGetting the Gist of Markdown's Formatting Syntax\n------------------------------------------------\n\nThis page offers a brief overview of what it's like to use Markdown.\nThe [syntax page] [s] provides complete, detailed documentation for\nevery feature, but Markdown should be very easy to pick up simply by\nlooking at a few examples of it in action. The examples on this page\nare written in a before/after style, showing example syntax and the\nHTML output produced by Markdown.\n\nIt's also helpful to simply try Markdown out; the [Dingus] [d] is a\nweb application that allows you type your own Markdown-formatted text\nand translate it to XHTML.\n\n**Note:** This document is itself written using Markdown; you\ncan [see the source for it by adding '.text' to the URL] [src].\n\n  [s]: /projects/markdown/syntax  \"Markdown Syntax\"\n  [d]: /projects/markdown/dingus  \"Markdown Dingus\"\n  [src]: /projects/markdown/basics.text\n\n\n## Paragraphs, Headers, Blockquotes ##\n\nA paragraph is simply one or more consecutive lines of text, separated\nby one or more blank lines. (A blank line is any line that looks like a\nblank line -- a line containing nothing spaces or tabs is considered\nblank.) Normal paragraphs should not be intended with spaces or tabs.\n\nMarkdown offers two styles of headers: *Setext* and *atx*.\nSetext-style headers for `<h1>` and `<h2>` are created by\n\"underlining\" with equal signs (`=`) and hyphens (`-`), respectively.\nTo create an atx-style header, you put 1-6 hash marks (`#`) at the\nbeginning of the line -- the number of hashes equals the resulting\nHTML header level.\n\nBlockquotes are indicated using email-style '`>`' angle brackets.\n\nMarkdown:\n\n    A First Level Header\n    ====================\n    \n    A Second Level Header\n    ---------------------\n\n    Now is the time for all good men to come to\n    the aid of their country. This is just a\n    regular paragraph.\n\n    The quick brown fox jumped over the lazy\n    dog's back.\n    \n    ### Header 3\n\n    > This is a blockquote.\n    > \n    > This is the second paragraph in the blockquote.\n    >\n    > ## This is an H2 in a blockquote\n\n\nOutput:\n\n    <h1>A First Level Header</h1>\n    \n    <h2>A Second Level Header</h2>\n    \n    <p>Now is the time for all good men to come to\n    the aid of their country. This is just a\n    regular paragraph.</p>\n    \n    <p>The quick brown fox jumped over the lazy\n    dog's back.</p>\n    \n    <h3>Header 3</h3>\n    \n    <blockquote>\n        <p>This is a blockquote.</p>\n        \n        <p>This is the second paragraph in the blockquote.</p>\n        \n        <h2>This is an H2 in a blockquote</h2>\n    </blockquote>\n\n\n\n### Phrase Emphasis ###\n\nMarkdown uses asterisks and underscores to indicate spans of emphasis.\n\nMarkdown:\n\n    Some of these words *are emphasized*.\n    Some of these words _are emphasized also_.\n    \n    Use two asterisks for **strong emphasis**.\n    Or, if you prefer, __use two underscores instead__.\n\nOutput:\n\n    <p>Some of these words <em>are emphasized</em>.\n    Some of these words <em>are emphasized also</em>.</p>\n    \n    <p>Use two asterisks for <strong>strong emphasis</strong>.\n    Or, if you prefer, <strong>use two underscores instead</strong>.</p>\n   \n\n\n## Lists ##\n\nUnordered (bulleted) lists use asterisks, pluses, and hyphens (`*`,\n`+`, and `-`) as list markers. These three markers are\ninterchangable; this:\n\n    *   Candy.\n    *   Gum.\n    *   Booze.\n\nthis:\n\n    +   Candy.\n    +   Gum.\n    +   Booze.\n\nand this:\n\n    -   Candy.\n    -   Gum.\n    -   Booze.\n\nall produce the same output:\n\n    <ul>\n    <li>Candy.</li>\n    <li>Gum.</li>\n    <li>Booze.</li>\n    </ul>\n\nOrdered (numbered) lists use regular numbers, followed by periods, as\nlist markers:\n\n    1.  Red\n    2.  Green\n    3.  Blue\n\nOutput:\n\n    <ol>\n    <li>Red</li>\n    <li>Green</li>\n    <li>Blue</li>\n    </ol>\n\nIf you put blank lines between items, you'll get `<p>` tags for the\nlist item text. You can create multi-paragraph list items by indenting\nthe paragraphs by 4 spaces or 1 tab:\n\n    *   A list item.\n    \n        With multiple paragraphs.\n\n    *   Another item in the list.\n\nOutput:\n\n    <ul>\n    <li><p>A list item.</p>\n    <p>With multiple paragraphs.</p></li>\n    <li><p>Another item in the list.</p></li>\n    </ul>\n    \n\n\n### Links ###\n\nMarkdown supports two styles for creating links: *inline* and\n*reference*. With both styles, you use square brackets to delimit the\ntext you want to turn into a link.\n\nInline-style links use parentheses immediately after the link text.\nFor example:\n\n    This is an [example link](http://example.com/).\n\nOutput:\n\n    <p>This is an <a href=\"http://example.com/\">\n    example link</a>.</p>\n\nOptionally, you may include a title attribute in the parentheses:\n\n    This is an [example link](http://example.com/ \"With a Title\").\n\nOutput:\n\n    <p>This is an <a href=\"http://example.com/\" title=\"With a Title\">\n    example link</a>.</p>\n\nReference-style links allow you to refer to your links by names, which\nyou define elsewhere in your document:\n\n    I get 10 times more traffic from [Google][1] than from\n    [Yahoo][2] or [MSN][3].\n\n    [1]: http://google.com/        \"Google\"\n    [2]: http://search.yahoo.com/  \"Yahoo Search\"\n    [3]: http://search.msn.com/    \"MSN Search\"\n\nOutput:\n\n    <p>I get 10 times more traffic from <a href=\"http://google.com/\"\n    title=\"Google\">Google</a> than from <a href=\"http://search.yahoo.com/\"\n    title=\"Yahoo Search\">Yahoo</a> or <a href=\"http://search.msn.com/\"\n    title=\"MSN Search\">MSN</a>.</p>\n\nThe title attribute is optional. Link names may contain letters,\nnumbers and spaces, but are *not* case sensitive:\n\n    I start my morning with a cup of coffee and\n    [The New York Times][NY Times].\n\n    [ny times]: http://www.nytimes.com/\n\nOutput:\n\n    <p>I start my morning with a cup of coffee and\n    <a href=\"http://www.nytimes.com/\">The New York Times</a>.</p>\n\n\n### Images ###\n\nImage syntax is very much like link syntax.\n\nInline (titles are optional):\n\n    ![alt text](/path/to/img.jpg \"Title\")\n\nReference-style:\n\n    ![alt text][id]\n\n    [id]: /path/to/img.jpg \"Title\"\n\nBoth of the above examples produce the same output:\n\n    <img src=\"/path/to/img.jpg\" alt=\"alt text\" title=\"Title\" />\n\n\n\n### Code ###\n\nIn a regular paragraph, you can create code span by wrapping text in\nbacktick quotes. Any ampersands (`&`) and angle brackets (`<` or\n`>`) will automatically be translated into HTML entities. This makes\nit easy to use Markdown to write about HTML example code:\n\n    I strongly recommend against using any `<blink>` tags.\n\n    I wish SmartyPants used named entities like `&mdash;`\n    instead of decimal-encoded entites like `&#8212;`.\n\nOutput:\n\n    <p>I strongly recommend against using any\n    <code>&lt;blink&gt;</code> tags.</p>\n    \n    <p>I wish SmartyPants used named entities like\n    <code>&amp;mdash;</code> instead of decimal-encoded\n    entites like <code>&amp;#8212;</code>.</p>\n\n\nTo specify an entire block of pre-formatted code, indent every line of\nthe block by 4 spaces or 1 tab. Just like with code spans, `&`, `<`,\nand `>` characters will be escaped automatically.\n\nMarkdown:\n\n    If you want your page to validate under XHTML 1.0 Strict,\n    you've got to put paragraph tags in your blockquotes:\n\n        <blockquote>\n            <p>For example.</p>\n        </blockquote>\n\nOutput:\n\n    <p>If you want your page to validate under XHTML 1.0 Strict,\n    you've got to put paragraph tags in your blockquotes:</p>\n    \n    <pre><code>&lt;blockquote&gt;\n        &lt;p&gt;For example.&lt;/p&gt;\n    &lt;/blockquote&gt;\n    </code></pre>\n",
          "filepath": "data/repos/markedjs/marked-5.0/test/specs/original/markdown_documentation_basics.md",
          "repo": "markedjs/marked",
          "version": "5.0",
          "chunk_index": 0,
          "chunk_id": "96af2029-3add-419b-880d-290fb2c89b2c"
        }
      },
      {
        "id": "1f8ed5de-0029-4a94-9179-5ae851b2477e",
        "score": 0.016129032258064516,
        "payload": {
          "text": "---\npedantic: true\nheaderIds: false\n---\n\nMarkdown: Syntax\n================\n\n<ul id=\"ProjectSubmenu\">\n    <li><a href=\"/projects/markdown/\" title=\"Markdown Project Page\">Main</a></li>\n    <li><a href=\"/projects/markdown/basics\" title=\"Markdown Basics\">Basics</a></li>\n    <li><a class=\"selected\" title=\"Markdown Syntax Documentation\">Syntax</a></li>\n    <li><a href=\"/projects/markdown/license\" title=\"Pricing and License Information\">License</a></li>\n    <li><a href=\"/projects/markdown/dingus\" title=\"Online Markdown Web Form\">Dingus</a></li>\n</ul>\n\n\n*   [Overview](#overview)\n    *   [Philosophy](#philosophy)\n    *   [Inline HTML](#html)\n    *   [Automatic Escaping for Special Characters](#autoescape)\n*   [Block Elements](#block)\n    *   [Paragraphs and Line Breaks](#p)\n    *   [Headers](#header)\n    *   [Blockquotes](#blockquote)\n    *   [Lists](#list)\n    *   [Code Blocks](#precode)\n    *   [Horizontal Rules](#hr)\n*   [Span Elements](#span)\n    *   [Links](#link)\n    *   [Emphasis](#em)\n    *   [Code](#code)\n    *   [Images](#img)\n*   [Miscellaneous](#misc)\n    *   [Backslash Escapes](#backslash)\n    *   [Automatic Links](#autolink)\n\n\n**Note:** This document is itself written using Markdown; you\ncan [see the source for it by adding '.text' to the URL][src].\n\n  [src]: /projects/markdown/syntax.text\n\n* * *\n\n<h2 id=\"overview\">Overview</h2>\n\n<h3 id=\"philosophy\">Philosophy</h3>\n\nMarkdown is intended to be as easy-to-read and easy-to-write as is feasible.\n\nReadability, however, is emphasized above all else. A Markdown-formatted\ndocument should be publishable as-is, as plain text, without looking\nlike it's been marked up with tags or formatting instructions. While\nMarkdown's syntax has been influenced by several existing text-to-HTML\nfilters -- including [Setext] [1], [atx] [2], [Textile] [3], [reStructuredText] [4],\n[Grutatext] [5], and [EtText] [6] -- the single biggest source of\ninspiration for Markdown's syntax is the format of plain text email.\n\n  [1]: http://docutils.sourceforge.net/mirror/setext.html\n  [2]: http://www.aaronsw.com/2002/atx/\n  [3]: http://textism.com/tools/textile/\n  [4]: http://docutils.sourceforge.net/rst.html\n  [5]: http://www.triptico.com/software/grutatxt.html\n  [6]: http://ettext.taint.org/doc/\n\nTo this end, Markdown's syntax is comprised entirely of punctuation\ncharacters, which punctuation characters have been carefully chosen so\nas to look like what they mean. E.g., asterisks around a word actually\nlook like \\*emphasis\\*. Markdown lists look like, well, lists. Even\nblockquotes look like quoted passages of text, assuming you've ever\nused email.\n\n\n\n<h3 id=\"html\">Inline HTML</h3>\n\nMarkdown's syntax is intended for one purpose: to be used as a\nformat for *writing* for the web.\n\nMarkdown is not a replacement for HTML, or even close to it. Its\nsyntax is very small, corresponding only to a very small subset of\nHTML tags. The idea is *not* to create a syntax that makes it easier\nto insert HTML tags. In my opinion, HTML tags are already easy to\ninsert. The idea for Markdown is to make it easy to read, write, and\nedit prose. HTML is a *publishing* format; Markdown is a *writing*\nformat. Thus, Markdown's formatting syntax only addresses issues that\ncan be conveyed in plain text.\n\nFor any markup that is not covered by Markdown's syntax, you simply\nuse HTML itself. There's no need to preface it or delimit it to\nindicate that you're switching from Markdown to HTML; you just use\nthe tags.\n\nThe only restrictions are that block-level HTML elements -- e.g. `<div>`,\n`<table>`, `<pre>`, `<p>`, etc. -- must be separated from surrounding\ncontent by blank lines, and the start and end tags of the block should\nnot be indented with tabs or spaces. Markdown is smart enough not\nto add extra (unwanted) `<p>` tags around HTML block-level tags.\n\nFor example, to add an HTML table to a Markdown article:\n\n    This is a regular paragraph.\n\n    <table>\n        <tr>\n            <td>Foo</td>\n        </tr>\n    </table>\n\n    This is another regular paragraph.\n\nNote that Markdown formatting syntax is not processed within block-level\nHTML tags. E.g., you can't use Markdown-style `*emphasis*` inside an\nHTML block.\n\nSpan-level HTML tags -- e.g. `<span>`, `<cite>`, or `<del>` -- can be\nused anywhere in a Markdown paragraph, list item, or header. If you\nwant, you can even use HTML tags instead of Markdown formatting; e.g. if\nyou'd prefer to use HTML `<a>` or `<img>` tags instead of Markdown's\nlink or image syntax, go right ahead.\n\nUnlike block-level HTML tags, Markdown syntax *is* processed within\nspan-level tags.\n\n\n<h3 id=\"autoescape\">Automatic Escaping for Special Characters</h3>\n\nIn HTML, there are two characters that demand special treatment: `<`\nand `&`. Left angle brackets are used to start tags; ampersands are\nused to denote HTML entities. If you want to use them as literal\ncharacters, you must escape them as entities, e.g. `&lt;`, and\n`&amp;`.\n\nAmpersands in particular are bedeviling for web writers. If you want to\nwrite about 'AT&T', you need to write '`AT&amp;T`'. You even need to\nescape ampersands within URLs. Thus, if you want to link to:\n\n    http://images.google.com/images?num=30&q=larry+bird\n\nyou need to encode the URL as:\n\n    http://images.google.com/images?num=30&amp;q=larry+bird\n\nin your anchor tag `href` attribute. Needless to say, this is easy to\nforget, and is probably the single most common source of HTML validation\nerrors in otherwise well-marked-up web sites.\n\nMarkdown allows you to use these characters naturally, taking care of\nall the necessary escaping for you. If you use an ampersand as part of\nan HTML entity, it remains unchanged; otherwise it will be translated\ninto `&amp;`.\n\nSo, if you want to include a copyright symbol in your article, you can write:\n\n    &copy;\n\nand Markdown will leave it alone. But if you write:\n\n    AT&T\n\nMarkdown will translate it to:\n\n    AT&amp;T\n\nSimilarly, because Markdown supports [inline HTML](#html), if you use\nangle brackets as delimiters for HTML tags, Markdown will treat them as\nsuch. But if you write:\n\n    4 < 5\n\nMarkdown will translate it to:\n\n    4 &lt; 5\n\nHowever, inside Markdown code spans and blocks, angle brackets and\nampersands are *always* encoded automatically. This makes it easy to use\nMarkdown to write about HTML code. (As opposed to raw HTML, which is a\nterrible format for writing about HTML syntax, because every single `<`\nand `&` in your example code needs to be escaped.)\n\n\n* * *\n\n\n<h2 id=\"block\">Block Elements</h2>\n\n\n<h3 id=\"p\">Paragraphs and Line Breaks</h3>\n\nA paragraph is simply one or more consecutive lines of text, separated\nby one or more blank lines. (A blank line is any line that looks like a\nblank line -- a line containing nothing but spaces or tabs is considered\nblank.) Normal paragraphs should not be intended with spaces or tabs.\n\nThe implication of the \"one or more consecutive lines of text\" rule is\nthat Markdown supports \"hard-wrapped\" text paragraphs. This differs\nsignificantly from most other text-to-HTML formatters (including Movable\nType's \"Convert Line Breaks\" option) which translate every line break\ncharacter in a paragraph into a `<br />` tag.\n\nWhen you *do* want to insert a `<br />` break tag using Markdown, you\nend a line with two or more spaces, then type return.\n\nYes, this takes a tad more effort to create a `<br />`, but a simplistic\n\"every line break is a `<br />`\" rule wouldn't work for Markdown.\nMarkdown's email-style [blockquoting][bq] and multi-paragraph [list items][l]\nwork best -- and look better -- when you format them with hard breaks.\n\n  [bq]: #blockquote\n  [l]:  #list\n\n\n\n<h3 id=\"header\">Headers</h3>\n\nMarkdown supports two styles of headers, [Setext] [1] and [atx] [2].\n\nSetext-style headers are \"underlined\" using equal signs (for first-level\nheaders) and dashes (for second-level headers). For example:\n\n    This is an H1\n    =============\n\n    This is an H2\n    -------------\n\nAny number of underlining `=`'s or `-`'s will work.\n\nAtx-style headers use 1-6 hash characters at the start of the line,\ncorresponding to header levels 1-6. For example:\n\n    # This is an H1\n\n    ## This is an H2\n\n    ###### This is an H6\n\nOptionally, you may \"close\" atx-style headers. This is purely\ncosmetic -- you can use this if you think it looks better. The\nclosing hashes don't even need to match the number of hashes\nused to open the header. (The number of opening hashes\ndetermines the header level.) :\n\n    # This is an H1 #\n\n    ## This is an H2 ##\n\n    ### This is an H3 ######\n\n\n<h3 id=\"blockquote\">Blockquotes</h3>\n\nMarkdown uses email-style `>` characters for blockquoting. If you're\nfamiliar with quoting passages of text in an email message, then you\nknow how to create a blockquote in Markdown. It looks best if you hard\nwrap the text and put a `>` before every line:\n\n    > This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,\n    > consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.\n    > Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus.\n    >\n    > Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse\n    > id sem consectetuer libero luctus adipiscing.\n\nMarkdown allows you to be lazy and only put the `>` before the first\nline of a hard-wrapped paragraph:\n\n    > This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,\n    consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.\n    Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus.\n\n    > Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse\n    id sem consectetuer libero luctus adipiscing.\n\nBlockquotes can be nested (i.e. a blockquote-in-a-blockquote) by\nadding additional levels of `>`:\n\n    > This is the first level of quoting.\n    >\n    > > This is nested blockquote.\n    >\n    > Back to the first level.\n\nBlockquotes can contain other Markdown elements, including headers, lists,\nand code blocks:\n\n\t> ## This is a header.\n\t>\n\t> 1.   This is the first list item.\n\t> 2.   This is the second list item.\n\t>\n\t> Here's some example code:\n\t>\n\t>     return shell_exec(\"echo $input | $markdown_script\");\n\nAny decent text editor should make email-style quoting easy. For\nexample, with BBEdit, you can make a selection and choose Increase\nQuote Level from the Text menu.\n\n\n<h3 id=\"list\">Lists</h3>\n\nMarkdown supports ordered (numbered) and unordered (bulleted) lists.\n\nUnordered lists use asterisks, pluses, and hyphens -- interchangably\n-- as list markers:\n\n    *   Red\n    *   Green\n    *   Blue\n\nis equivalent to:\n\n    +   Red\n    +   Green\n    +   Blue\n\nand:\n\n    -   Red\n    -   Green\n    -   Blue\n\nOrdered lists use numbers followed by periods:\n\n    1.  Bird\n    2.  McHale\n    3.  Parish\n\nIt's important to note that the actual numbers you use to mark the\nlist have no effect on the HTML output Markdown produces. The HTML\nMarkdown produces from the above list is:\n\n    <ol>\n    <li>Bird</li>\n    <li>McHale</li>\n    <li>Parish</li>\n    </ol>\n\nIf you instead wrote the list in Markdown like this:\n\n    1.  Bird\n    1.  McHale\n    1.  Parish\n\nor even:\n\n    3. Bird\n    1. McHale\n    8. Parish\n\nyou'd get the exact same HTML output. The point is, if you want to,\nyou can use ordinal numbers in your ordered Markdown lists, so that\nthe numbers in your source match the numbers in your published HTML.\nBut if you want to be lazy, you don't have to.\n\nIf you do use lazy list numbering, however, you should still start the\nlist with the number 1. At some point in the future, Markdown may support\nstarting ordered lists at an arbitrary number.\n\nList markers typically start at the left margin, but may be indented by\nup to three spaces. List markers must be followed by one or more spaces\nor a tab.\n\nTo make lists look nice, you can wrap items with hanging indents:\n\n    *   Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\n        Aliquam hendrerit mi posuere lectus. Vestibulum enim wisi,\n        viverra nec, fringilla in, laoreet vitae, risus.\n    *   Donec sit amet nisl. Aliquam semper ipsum sit amet velit.\n        Suspendisse id sem consectetuer libero luctus adipiscing.\n\nBut if you want to be lazy, you don't have to:\n\n    *   Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\n    Aliquam hendrerit mi posuere lectus. Vestibulum enim wisi,\n    viverra nec, fringilla in, laoreet vitae, risus.\n    *   Donec sit amet nisl. Aliquam semper ipsum sit amet velit.\n    Suspendisse id sem consectetuer libero luctus adipiscing.\n\nIf list items are separated by blank lines, Markdown will wrap the\nitems in `<p>` tags in the HTML output. For example, this input:\n\n    *   Bird\n    *   Magic\n\nwill turn into:\n\n    <ul>\n    <li>Bird</li>\n    <li>Magic</li>\n    </ul>\n\nBut this:\n\n    *   Bird\n\n    *   Magic\n\nwill turn into:\n\n    <ul>\n    <li><p>Bird</p></li>\n    <li><p>Magic</p></li>\n    </ul>\n\nList items may consist of multiple paragraphs. Each subsequent\nparagraph in a list item must be intended by either 4 spaces\nor one tab:\n\n    1.  This is a list item with two paragraphs. Lorem ipsum dolor\n        sit amet, consectetuer adipiscing elit. Aliquam hendrerit\n        mi posuere lectus.\n\n        Vestibulum enim wisi, viverra nec, fringilla in, laoreet\n        vitae, risus. Donec sit amet nisl. Aliquam semper ipsum\n        sit amet velit.\n\n    2.  Suspendisse id sem consectetuer libero luctus adipiscing.\n\nIt looks nice if you indent every line of the subsequent\nparagraphs, but here again, Markdown will allow you to be\nlazy:\n\n    *   This is a list item with two paragraphs.\n\n        This is the second paragraph in the list item. You're\n    only required to indent the first line. Lorem ipsum dolor\n    sit amet, consectetuer adipiscing elit.\n\n    *   Another item in the same list.\n\nTo put a blockquote within a list item, the blockquote's `>`\ndelimiters need to be indented:\n\n    *   A list item with a blockquote:\n\n        > This is a blockquote\n        > inside a list item.\n\nTo put a code block within a list item, the code block needs\nto be indented *twice* -- 8 spaces or two tabs:\n\n    *   A list item with a code block:\n\n            <code goes here>\n\n\nIt's worth noting that it's possible to trigger an ordered list by\naccident, by writing something like this:\n\n    1986. What a great season.\n\nIn other words, a *number-period-space* sequence at the beginning of a\nline. To avoid this, you can backslash-escape the period:\n\n    1986\\. What a great season.\n\n\n\n<h3 id=\"precode\">Code Blocks</h3>\n\nPre-formatted code blocks are used for writing about programming or\nmarkup source code. Rather than forming normal paragraphs, the lines\nof a code block are interpreted literally. Markdown wraps a code block\nin both `<pre>` and `<code>` tags.\n\nTo produce a code block in Markdown, simply indent every line of the\nblock by at least 4 spaces or 1 tab. For example, given this input:\n\n    This is a normal paragraph:\n\n        This is a code block.\n\nMarkdown will generate:\n\n    <p>This is a normal paragraph:</p>\n\n    <pre><code>This is a code block.\n    </code></pre>\n\nOne level of indentation -- 4 spaces or 1 tab -- is removed from each\nline of the code block. For example, this:\n\n    Here is an example of AppleScript:\n\n        tell application \"Foo\"\n            beep\n        end tell\n\nwill turn into:\n\n    <p>Here is an example of AppleScript:</p>\n\n    <pre><code>tell application \"Foo\"\n        beep\n    end tell\n    </code></pre>\n\nA code block continues until it reaches a line that is not indented\n(or the end of the article).\n\nWithin a code block, ampersands (`&`) and angle brackets (`<` and `>`)\nare automatically converted into HTML entities. This makes it very\neasy to include example HTML source code using Markdown -- just paste\nit and indent it, and Markdown will handle the hassle of encoding the\nampersands and angle brackets. For example, this:\n\n        <div class=\"footer\">\n            &copy; 2004 Foo Corporation\n        </div>\n\nwill turn into:\n\n    <pre><code>&lt;div class=\"footer\"&gt;\n        &amp;copy; 2004 Foo Corporation\n    &lt;/div&gt;\n    </code></pre>\n\nRegular Markdown syntax is not processed within code blocks. E.g.,\nasterisks are just literal asterisks within a code block. This means\nit's also easy to use Markdown to write about Markdown's own syntax.\n\n\n\n<h3 id=\"hr\">Horizontal Rules</h3>\n\nYou can produce a horizontal rule tag (`<hr />`) by placing three or\nmore hyphens, asterisks, or underscores on a line by themselves. If you\nwish, you may use spaces between the hyphens or asterisks. Each of the\nfollowing lines will produce a horizontal rule:\n\n    * * *\n\n    ***\n\n    *****\n\n    - - -\n\n    ---------------------------------------\n\n\t_ _ _\n\n\n* * *\n\n<h2 id=\"span\">Span Elements</h2>\n\n<h3 id=\"link\">Links</h3>\n\nMarkdown supports two style of links: *inline* and *reference*.\n\nIn both styles, the link text is delimited by [square brackets].\n\nTo create an inline link, use a set of regular parentheses immediately\nafter the link text's closing square bracket. Inside the parentheses,\nput the URL where you want the link to point, along with an *optional*\ntitle for the link, surrounded in quotes. For example:\n\n    This is [an example](http://example.com/ \"Title\") inline link.\n\n    [This link](http://example.net/) has no title attribute.\n\nWill produce:\n\n    <p>This is <a href=\"http://example.com/\" title=\"Title\">\n    an example</a> inline link.</p>\n\n    <p><a href=\"http://example.net/\">This link</a> has no\n    title attribute.</p>\n\nIf you're referring to a local resource on the same server, you can\nuse relative paths:\n\n    See my [About](/about/) page for details.\n\nReference-style links use a second set of square brackets, inside\nwhich you place a label of your choosing to identify the link:\n\n    This is [an example][id] reference-style link.\n\nYou can optionally use a space to separate the sets of brackets:\n\n    This is [an example] [id] reference-style link.\n\nThen, anywhere in the document, you define your link label like this,\non a line by itself:\n\n    [id]: http://example.com/  \"Optional Title Here\"\n\nThat is:\n\n*   Square brackets containing the link identifier (optionally\n    indented from the left margin using up to three spaces);\n*   followed by a colon;\n*   followed by one or more spaces (or tabs);\n*   followed by the URL for the link;\n*   optionally followed by a title attribute for the link, enclosed\n    in double or single quotes.\n\nThe link URL may, optionally, be surrounded by angle brackets:\n\n    [id]: <http://example.com/>  \"Optional Title Here\"\n\nYou can put the title attribute on the next line and use extra spaces\nor tabs for padding, which tends to look better with longer URLs:\n\n    [id]: http://example.com/longish/path/to/resource/here\n        \"Optional Title Here\"\n\nLink definitions are only used for creating links during Markdown\nprocessing, and are stripped from your document in the HTML output.\n\nLink definition names may constist of letters, numbers, spaces, and punctuation -- but they are *not* case sensitive. E.g. these two links:\n\n\t[link text][a]\n\t[link text][A]\n\nare equivalent.\n\nThe *implicit link name* shortcut allows you to omit the name of the\nlink, in which case the link text itself is used as the name.\nJust use an empty set of square brackets -- e.g., to link the word\n\"Google\" to the google.com web site, you could simply write:\n\n\t[Google][]\n\nAnd then define the link:\n\n\t[Google]: http://google.com/\n\nBecause link names may contain spaces, this shortcut even works for\nmultiple words in the link text:\n\n\tVisit [Daring Fireball][] for more information.\n\nAnd then define the link:\n\n\t[Daring Fireball]: http://daringfireball.net/\n\nLink definitions can be placed anywhere in your Markdown document. I\ntend to put them immediately after each paragraph in which they're\nused, but if you want, you can put them all at the end of your\ndocument, sort of like footnotes.\n\nHere's an example of reference links in action:\n\n    I get 10 times more traffic from [Google] [1] than from\n    [Yahoo] [2] or [MSN] [3].\n\n      [1]: http://google.com/        \"Google\"\n      [2]: http://search.yahoo.com/  \"Yahoo Search\"\n      [3]: http://search.msn.com/    \"MSN Search\"\n\nUsing the implicit link name shortcut, you could instead write:\n\n    I get 10 times more traffic from [Google][] than from\n    [Yahoo][] or [MSN][].\n\n      [google]: http://google.com/        \"Google\"\n      [yahoo]:  http://search.yahoo.com/  \"Yahoo Search\"\n      [msn]:    http://search.msn.com/    \"MSN Search\"\n\nBoth of the above examples will produce the following HTML output:\n\n    <p>I get 10 times more traffic from <a href=\"http://google.com/\"\n    title=\"Google\">Google</a> than from\n    <a href=\"http://search.yahoo.com/\" title=\"Yahoo Search\">Yahoo</a>\n    or <a href=\"http://search.msn.com/\" title=\"MSN Search\">MSN</a>.</p>\n\nFor comparison, here is the same paragraph written using\nMarkdown's inline link style:\n\n    I get 10 times more traffic from [Google](http://google.com/ \"Google\")\n    than from [Yahoo](http://search.yahoo.com/ \"Yahoo Search\") or\n    [MSN](http://search.msn.com/ \"MSN Search\").\n\nThe point of reference-style links is not that they're easier to\nwrite. The point is that with reference-style links, your document\nsource is vastly more readable. Compare the above examples: using\nreference-style links, the paragraph itself is only 81 characters\nlong; with inline-style links, it's 176 characters; and as raw HTML,\nit's 234 characters. In the raw HTML, there's more markup than there\nis text.\n\nWith Markdown's reference-style links, a source document much more\nclosely resembles the final output, as rendered in a browser. By\nallowing you to move the markup-related metadata out of the paragraph,\nyou can add links without interrupting the narrative flow of your\nprose.\n\n\n<h3 id=\"em\">Emphasis</h3>\n\nMarkdown treats asterisks (`*`) and underscores (`_`) as indicators of\nemphasis. Text wrapped with one `*` or `_` will be wrapped with an\nHTML `<em>` tag; double `*`'s or `_`'s will be wrapped with an HTML\n`<strong>` tag. E.g., this input:\n\n    *single asterisks*\n\n    _single underscores_\n\n    **double asterisks**\n\n    __double underscores__\n\nwill produce:\n\n    <em>single asterisks</em>\n\n    <em>single underscores</em>\n\n    <strong>double asterisks</strong>\n\n    <strong>double underscores</strong>\n\nYou can use whichever style you prefer; the lone restriction is that\nthe same character must be used to open and close an emphasis span.\n\nEmphasis can be used in the middle of a word:\n\n    un*fucking*believable\n\nBut if you surround an `*` or `_` with spaces, it'll be treated as a\nliteral asterisk or underscore.\n\nTo produce a literal asterisk or underscore at a position where it\nwould otherwise be used as an emphasis delimiter, you can backslash\nescape it:\n\n    \\*this text is surrounded by literal asterisks\\*\n\n\n\n<h3 id=\"code\">Code</h3>\n\nTo indicate a span of code, wrap it with backtick quotes (`` ` ``).\nUnlike a pre-formatted code block, a code span indicates code within a\nnormal paragraph. For example:\n\n    Use the `printf()` function.\n\nwill produce:\n\n    <p>Use the <code>printf()</code> function.</p>\n\nTo include a literal backtick character within a code span, you can use\nmultiple backticks as the opening and closing delimiters:\n\n    ``There is a literal backtick (`) here.``\n\nwhich will produce this:\n\n    <p><code>There is a literal backtick (`) here.</code></p>\n\nThe backtick delimiters surrounding a code span may include spaces --\none after the opening, one before the closing. This allows you to place\nliteral backtick characters at the beginning or end of a code span:\n\n\tA single backtick in a code span: `` ` ``\n\n\tA backtick-delimited string in a code span: `` `foo` ``\n\nwill produce:\n\n\t<p>A single backtick in a code span: <code>`</code></p>\n\n\t<p>A backtick-delimited string in a code span: <code>`foo`</code></p>\n\nWith a code span, ampersands and angle brackets are encoded as HTML\nentities automatically, which makes it easy to include example HTML\ntags. Markdown will turn this:\n\n    Please don't use any `<blink>` tags.\n\ninto:\n\n    <p>Please don't use any <code>&lt;blink&gt;</code> tags.</p>\n\nYou can write this:\n\n    `&#8212;` is the decimal-encoded equivalent of `&mdash;`.\n\nto produce:\n\n    <p><code>&amp;#8212;</code> is the decimal-encoded\n    equivalent of <code>&amp;mdash;</code>.</p>\n\n\n\n<h3 id=\"img\">Images</h3>\n\nAdmittedly, it's fairly difficult to devise a \"natural\" syntax for\nplacing images into a plain text document format.\n\nMarkdown uses an image syntax that is intended to resemble the syntax\nfor links, allowing for two styles: *inline* and *reference*.\n\nInline image syntax looks like this:\n\n    ![Alt text](/path/to/img.jpg)\n\n    ![Alt text](/path/to/img.jpg \"Optional title\")\n\nThat is:\n\n*   An exclamation mark: `!`;\n*   followed by a set of square brackets, containing the `alt`\n    attribute text for the image;\n*   followed by a set of parentheses, containing the URL or path to\n    the image, and an optional `title` attribute enclosed in double\n    or single quotes.\n\nReference-style image syntax looks like this:\n\n    ![Alt text][id]\n\nWhere \"id\" is the name of a defined image reference. Image references\nare defined using syntax identical to link references:\n\n    [id]: url/to/image  \"Optional title attribute\"\n\nAs of this writing, Markdown has no syntax for specifying the\ndimensions of an image; if this is important to you, you can simply\nuse regular HTML `<img>` tags.\n\n\n* * *\n\n\n<h2 id=\"misc\">Miscellaneous</h2>\n\n<h3 id=\"autolink\">Automatic Links</h3>\n\nMarkdown supports a shortcut style for creating \"automatic\" links for URLs and email addresses: simply surround the URL or email address with angle brackets. What this means is that if you want to show the actual text of a URL or email address, and also have it be a clickable link, you can do this:\n\n    <http://example.com/>\n\nMarkdown will turn this into:\n\n    <a href=\"http://example.com/\">http://example.com/</a>\n\nAutomatic links for email addresses work similarly, except that\nMarkdown will also perform a bit of randomized decimal and hex\nentity-encoding to help obscure your address from address-harvesting\nspambots. For example, Markdown will turn this:\n\n    <address@example.com>\n\ninto something like this:\n\n    <a href=\"&#x6D;&#x61;i&#x6C;&#x74;&#x6F;:&#x61;&#x64;&#x64;&#x72;&#x65;\n    &#115;&#115;&#64;&#101;&#120;&#x61;&#109;&#x70;&#x6C;e&#x2E;&#99;&#111;\n    &#109;\">&#x61;&#x64;&#x64;&#x72;&#x65;&#115;&#115;&#64;&#101;&#120;&#x61;\n    &#109;&#x70;&#x6C;e&#x2E;&#99;&#111;&#109;</a>\n\nwhich will render in a browser as a clickable link to \"address@example.com\".\n\n(This sort of entity-encoding trick will indeed fool many, if not\nmost, address-harvesting bots, but it definitely won't fool all of\nthem. It's better than nothing, but an address published in this way\nwill probably eventually start receiving spam.)\n\n\n\n<h3 id=\"backslash\">Backslash Escapes</h3>\n\nMarkdown allows you to use backslash escapes to generate literal\ncharacters which would otherwise have special meaning in Markdown's\nformatting syntax. For example, if you wanted to surround a word with\nliteral asterisks (instead of an HTML `<em>` tag), you can backslashes\nbefore the asterisks, like this:\n\n    \\*literal asterisks\\*\n\nMarkdown provides backslash escapes for the following characters:\n\n    \\   backslash\n    `   backtick\n    *   asterisk\n    _   underscore\n    {}  curly braces\n    []  square brackets\n    ()  parentheses\n    #   hash mark\n\t+\tplus sign\n\t-\tminus sign (hyphen)\n    .   dot\n    !   exclamation mark\n",
          "filepath": "data/repos/markedjs/marked-5.0/test/specs/original/markdown_documentation_syntax.md",
          "repo": "markedjs/marked",
          "version": "5.0",
          "chunk_index": 0,
          "chunk_id": "1f8ed5de-0029-4a94-9179-5ae851b2477e"
        }
      },
      {
        "id": "1c1acd04-e03e-47b7-b7ca-b9cce94dd64f",
        "score": 0.015873015873015872,
        "payload": {
          "text": "# Markdown is broken\n\nI have a lot of scraps of markdown engine oddities that I've collected over the\nyears. What you see below is slightly messy, but it's what I've managed to\ncobble together to illustrate the differences between markdown engines, and\nwhy, if there ever is a markdown specification, it has to be absolutely\nthorough. There are a lot more of these little differences I have documented\nelsewhere. I know I will find them lingering on my disk one day, but until\nthen, I'll continue to add whatever strange nonsensical things I find.\n\nSome of these examples may only mention a particular engine compared to marked.\nHowever, the examples with markdown.pl could easily be swapped out for\ndiscount, upskirt, or markdown.js, and you would very easily see even more\ninconsistencies.\n\nA lot of this was written when I was very unsatisfied with the inconsistencies\nbetween markdown engines. Please excuse the frustration noticeable in my\nwriting.\n\n## Examples of markdown's \"stupid\" list parsing\n\n```\n$ markdown.pl\n\n  * item1\n\n    * item2\n\n  text\n^D\n<ul>\n<li><p>item1</p>\n\n<ul>\n<li>item2</li>\n</ul>\n\n<p><p>text</p></li>\n</ul></p>\n```\n\n\n```\n$ marked\n  * item1\n\n    * item2\n\n  text\n^D\n<ul>\n<li><p>item1</p>\n<ul>\n<li>item2</li>\n</ul>\n<p>text</p>\n</li>\n</ul>\n```\n\nWhich looks correct to you?\n\n- - -\n\n```\n$ markdown.pl\n* hello\n  > world\n^D\n<p><ul>\n<li>hello</p>\n\n<blockquote>\n  <p>world</li>\n</ul></p>\n</blockquote>\n```\n\n```\n$ marked\n* hello\n  > world\n^D\n<ul>\n<li>hello<blockquote>\n<p>world</p>\n</blockquote>\n</li>\n</ul>\n```\n\nAgain, which looks correct to you?\n\n- - -\n\nEXAMPLE:\n\n```\n$ markdown.pl\n* hello\n  * world\n    * hi\n          code\n^D\n<ul>\n<li>hello\n<ul>\n<li>world</li>\n<li>hi\n  code</li>\n</ul></li>\n</ul>\n```\n\nThe code isn't a code block even though it's after the bullet margin. I know,\nlets give it two more spaces, effectively making it 8 spaces past the bullet.\n\n```\n$ markdown.pl\n* hello\n  * world\n    * hi\n            code\n^D\n<ul>\n<li>hello\n<ul>\n<li>world</li>\n<li>hi\n    code</li>\n</ul></li>\n</ul>\n```\n\nAnd, it's still not a code block. Did you also notice that the 3rd item isn't\neven its own list? Markdown screws that up too because of its indentation\nunaware parsing.\n\n- - -\n\nLet's look at some more examples of markdown's list parsing:\n\n```\n$ markdown.pl\n\n  * item1\n\n    * item2\n\n  text\n^D\n<ul>\n<li><p>item1</p>\n\n<ul>\n<li>item2</li>\n</ul>\n\n<p><p>text</p></li>\n</ul></p>\n```\n\nMisnested tags.\n\n\n```\n$ marked\n  * item1\n\n    * item2\n\n  text\n^D\n<ul>\n<li><p>item1</p>\n<ul>\n<li>item2</li>\n</ul>\n<p>text</p>\n</li>\n</ul>\n```\n\nWhich looks correct to you?\n\n- - -\n\n```\n$ markdown.pl\n* hello\n  > world\n^D\n<p><ul>\n<li>hello</p>\n\n<blockquote>\n  <p>world</li>\n</ul></p>\n</blockquote>\n```\n\nMore misnested tags.\n\n\n```\n$ marked\n* hello\n  > world\n^D\n<ul>\n<li>hello<blockquote>\n<p>world</p>\n</blockquote>\n</li>\n</ul>\n```\n\nAgain, which looks correct to you?\n\n- - -\n\n# Why quality matters - Part 2\n\n``` bash\n$ markdown.pl\n* hello\n  > world\n^D\n<p><ul>\n<li>hello</p>\n\n<blockquote>\n  <p>world</li>\n</ul></p>\n</blockquote>\n```\n\n``` bash\n$ sundown # upskirt\n* hello\n  > world\n^D\n<ul>\n<li>hello\n&gt; world</li>\n</ul>\n```\n\n``` bash\n$ marked\n* hello\n  > world\n^D\n<ul><li>hello <blockquote><p>world</p></blockquote></li></ul>\n```\n\nWhich looks correct to you?\n\n- - -\n\nSee: https://github.com/evilstreak/markdown-js/issues/23\n\n``` bash\n$ markdown.pl # upskirt/markdown.js/discount\n* hello\n      var a = 1;\n* world\n^D\n<ul>\n<li>hello\nvar a = 1;</li>\n<li>world</li>\n</ul>\n```\n\n``` bash\n$ marked\n* hello\n      var a = 1;\n* world\n^D\n<ul><li>hello\n<pre>code>var a = 1;</code></pre></li>\n<li>world</li></ul>\n```\n\nWhich looks more reasonable? Why shouldn't code blocks be able to appear in\nlist items in a sane way?\n\n- - -\n\n``` bash\n$ markdown.js\n<div>hello</div>\n\n<span>hello</span>\n^D\n<p>&lt;div&gt;hello&lt;/div&gt;</p>\n\n<p>&lt;span&gt;hello&lt;/span&gt;</p>\n```\n\n``` bash\n$ marked\n<div>hello</div>\n\n<span>hello</span>\n^D\n<div>hello</div>\n\n\n<p><span>hello</span>\n</p>\n```\n\n- - -\n\nSee: https://github.com/evilstreak/markdown-js/issues/27\n\n``` bash\n$ markdown.js\n[![an image](/image)](/link)\n^D\n<p><a href=\"/image)](/link\">![an image</a></p>\n```\n\n``` bash\n$ marked\n[![an image](/image)](/link)\n^D\n<p><a href=\"/link\"><img src=\"/image\" alt=\"an image\"></a>\n</p>\n```\n\n- - -\n\nSee: https://github.com/evilstreak/markdown-js/issues/24\n\n``` bash\n$ markdown.js\n> a\n\n> b\n\n> c\n^D\n<blockquote><p>a</p><p>bundefined&gt; c</p></blockquote>\n```\n\n``` bash\n$ marked\n> a\n\n> b\n\n> c\n^D\n<blockquote><p>a\n\n</p></blockquote>\n<blockquote><p>b\n\n</p></blockquote>\n<blockquote><p>c\n</p></blockquote>\n```\n\n- - -\n\n``` bash\n$ markdown.pl\n* hello\n  * world\n    how\n\n    are\n    you\n\n  * today\n* hi\n^D\n<ul>\n<li><p>hello</p>\n\n<ul>\n<li>world\nhow</li>\n</ul>\n\n<p>are\nyou</p>\n\n<ul>\n<li>today</li>\n</ul></li>\n<li>hi</li>\n</ul>\n```\n\n``` bash\n$ marked\n* hello\n  * world\n    how\n\n    are\n    you\n\n  * today\n* hi\n^D\n<ul>\n<li><p>hello</p>\n<ul>\n<li><p>world\nhow</p>\n<p>are\nyou</p>\n</li>\n<li><p>today</p>\n</li>\n</ul>\n</li>\n<li>hi</li>\n</ul>\n```\n",
          "filepath": "data/repos/markedjs/marked-5.0/docs/broken.md",
          "repo": "markedjs/marked",
          "version": "5.0",
          "chunk_index": 0,
          "chunk_id": "1c1acd04-e03e-47b7-b7ca-b9cce94dd64f"
        }
      },
      {
        "id": "360fc768-a0fc-4f50-978b-921a82aec07c",
        "score": 0.015625,
        "payload": {
          "text": "## Extending Marked\n\nTo champion the single-responsibility and open/closed principles, we have tried to make it relatively painless to extend Marked. If you are looking to add custom functionality, this is the place to start.\n\n<h2 id=\"use\">marked.use()</h2>\n\n`marked.use(extension)` is the recommended way to extend Marked. The `extension` object can contain any [option](/using_advanced#options) available in Marked:\n\n\n```js\nimport { marked } from 'marked';\n\nmarked.use({\n  pedantic: false,\n  gfm: true,\n  breaks: false,\n  sanitize: false,\n  smartypants: false,\n  xhtml: false\n});\n```\n\nYou can also supply multiple `extension` objects at once.\n\n```\nmarked.use(myExtension, extension2, extension3);\n\n\\\\ EQUIVALENT TO:\n\nmarked.use(myExtension);\nmarked.use(extension2);\nmarked.use(extension3);\n\n```\n\nAll options will overwrite those previously set, except for the following options which will be merged with the existing framework and can be used to change or extend the functionality of Marked: `renderer`, `tokenizer`, `walkTokens`, and `extensions`.\n\n* The `renderer` and `tokenizer` options are objects with functions that will be merged into the built-in `renderer` and `tokenizer` respectively.\n\n* The `walkTokens` option is a function that will be called to post-process every token before rendering.\n\n* The `extensions` option is an array of objects that can contain additional custom `renderer` and `tokenizer` steps that will execute before any of the default parsing logic occurs.\n\n***\n\n<h2>The Marked Pipeline</h2>\n\nBefore building your custom extensions, it is important to understand the components that Marked uses to translate from Markdown to HTML:\n\n1) The user supplies Marked with an input string to be translated.\n2) The `lexer` feeds segments of the input text string into each `tokenizer`, and from their output, generates a series of tokens in a nested tree structure.\n3) Each `tokenizer` receives a segment of Markdown text and, if it matches a particular pattern, generates a token object containing any relevant information.\n4) The `walkTokens` function will traverse every token in the tree and perform any final adjustments to the token contents.\n4) The `parser` traverses the token tree and feeds each token into the appropriate `renderer`, and concatenates their outputs into the final HTML result.\n5) Each `renderer` receives a token and manipulates its contents to generate a segment of HTML.\n\nMarked provides methods for directly overriding the `renderer` and `tokenizer` for any existing token type, as well as inserting additional custom `renderer` and `tokenizer` functions to handle entirely custom syntax.\n\n***\n\n<h2 id=\"renderer\">The Renderer : <code>renderer</code></h2>\n\nThe renderer defines the HTML output of a given token. If you supply a `renderer` in the options object passed to `marked.use()`, any functions in the object will override the default handling of that token type.\n\nCalling `marked.use()` to override the same function multiple times will give priority to the version that was assigned *last*. Overriding functions can return `false` to fall back to the previous override in the sequence, or resume default behavior if all overrides return `false`. Returning any other value (including nothing) will prevent fallback behavior.\n\n**Example:** Overriding output of the default `heading` token by adding an embedded anchor tag like on GitHub.\n\n```js\n// Create reference instance\nimport { marked } from 'marked';\n\n// Override function\nconst renderer = {\n  heading(text, level) {\n    const escapedText = text.toLowerCase().replace(/[^\\w]+/g, '-');\n\n    return `\n            <h${level}>\n              <a name=\"${escapedText}\" class=\"anchor\" href=\"#${escapedText}\">\n                <span class=\"header-link\"></span>\n              </a>\n              ${text}\n            </h${level}>`;\n  }\n};\n\nmarked.use({ renderer });\n\n// Run marked\nconsole.log(marked.parse('# heading+'));\n```\n\n**Output:**\n\n```html\n<h1>\n  <a name=\"heading-\" class=\"anchor\" href=\"#heading-\">\n    <span class=\"header-link\"></span>\n  </a>\n  heading+\n</h1>\n```\n\n### Block-level renderer methods\n\n- <code>**code**(*string* code, *string* infostring, *boolean* escaped)</code>\n- <code>**blockquote**(*string* quote)</code>\n- <code>**html**(*string* html, *boolean* block)</code>\n- <code>**heading**(*string* text, *number* level, *string* raw, *Slugger* slugger)</code>\n- <code>**hr**()</code>\n- <code>**list**(*string* body, *boolean* ordered, *number* start)</code>\n- <code>**listitem**(*string* text, *boolean* task, *boolean* checked)</code>\n- <code>**checkbox**(*boolean* checked)</code>\n- <code>**paragraph**(*string* text)</code>\n- <code>**table**(*string* header, *string* body)</code>\n- <code>**tablerow**(*string* content)</code>\n- <code>**tablecell**(*string* content, *object* flags)</code>\n\n### Inline-level renderer methods\n\n- <code>**strong**(*string* text)</code>\n- <code>**em**(*string* text)</code>\n- <code>**codespan**(*string* code)</code>\n- <code>**br**()</code>\n- <code>**del**(*string* text)</code>\n- <code>**link**(*string* href, *string* title, *string* text)</code>\n- <code>**image**(*string* href, *string* title, *string* text)</code>\n- <code>**text**(*string* text)</code>\n\n`Slugger` is exposed from marked as `marked.Slugger`:\n\n```js\nimport { marked } from 'marked'\nconst slugger = new marked.Slugger()\n```\n\n`slugger` has the `slug` method to create a unique id from value:\n\n```js\nslugger.slug('foo')   // foo\nslugger.slug('foo')   // foo-1\nslugger.slug('foo')   // foo-2\nslugger.slug('foo 1') // foo-1-1\nslugger.slug('foo-1') // foo-1-2\n...\n```\n\n`slugger.slug` can also be called with the `dryrun` option for stateless operation:\n```js\nslugger.slug('foo')                    // foo\nslugger.slug('foo')                    // foo-1\nslugger.slug('foo')                    // foo-2\nslugger.slug('foo', { dryrun: true })  // foo-3\nslugger.slug('foo', { dryrun: true })  // foo-3\nslugger.slug('foo')                    // foo-3\nslugger.slug('foo')                    // foo-4\n...\n```\n\n`flags` has the following properties:\n\n```js\n{\n    header: true || false,\n    align: 'center' || 'left' || 'right'\n}\n```\n\n***\n\n<h2 id=\"tokenizer\">The Tokenizer : <code>tokenizer</code></h2>\n\nThe tokenizer defines how to turn markdown text into tokens. If you supply a `tokenizer` object to the Marked options, it will be merged with the built-in tokenizer and any functions inside will override the default handling of that token type.\n\nCalling `marked.use()` to override the same function multiple times will give priority to the version that was assigned *last*. Overriding functions can return `false` to fall back to the previous override in the sequence, or resume default behavior if all overrides return `false`. Returning any other value (including nothing) will prevent fallback behavior.\n\n**Example:** Overriding default `codespan` tokenizer to include LaTeX.\n\n```js\n// Create reference instance\nimport { marked } from 'marked';\n\n// Override function\nconst tokenizer = {\n  codespan(src) {\n    const match = src.match(/^\\$+([^\\$\\n]+?)\\$+/);\n    if (match) {\n      return {\n        type: 'codespan',\n        raw: match[0],\n        text: match[1].trim()\n      };\n    }\n\n    // return false to use original codespan tokenizer\n    return false;\n  }\n};\n\nmarked.use({ tokenizer });\n\n// Run marked\nconsole.log(marked.parse('$ latex code $\\n\\n` other code `'));\n```\n\n**Output:**\n\n```html\n<p><code>latex code</code></p>\n<p><code>other code</code></p>\n```\n**NOTE**: This does not fully support latex, see issue [#1948](https://github.com/markedjs/marked/issues/1948).\n\n### Block level tokenizer methods\n\n- <code>**space**(*string* src)</code>\n- <code>**code**(*string* src)</code>\n- <code>**fences**(*string* src)</code>\n- <code>**heading**(*string* src)</code>\n- <code>**hr**(*string* src)</code>\n- <code>**blockquote**(*string* src)</code>\n- <code>**list**(*string* src)</code>\n- <code>**html**(*string* src)</code>\n- <code>**def**(*string* src)</code>\n- <code>**table**(*string* src)</code>\n- <code>**lheading**(*string* src)</code>\n- <code>**paragraph**(*string* src)</code>\n- <code>**text**(*string* src)</code>\n\n### Inline level tokenizer methods\n\n- <code>**escape**(*string* src)</code>\n- <code>**tag**(*string* src)</code>\n- <code>**link**(*string* src)</code>\n- <code>**reflink**(*string* src, *object* links)</code>\n- <code>**emStrong**(*string* src, *string* maskedSrc, *string* prevChar)</code>\n- <code>**codespan**(*string* src)</code>\n- <code>**br**(*string* src)</code>\n- <code>**del**(*string* src)</code>\n- <code>**autolink**(*string* src, *function* mangle)</code>\n- <code>**url**(*string* src, *function* mangle)</code>\n- <code>**inlineText**(*string* src, *function* smartypants)</code>\n\n`mangle` is a method that changes text to HTML character references:\n\n```js\nmangle('test@example.com')\n// \"&#x74;&#101;&#x73;&#116;&#x40;&#101;&#120;&#x61;&#x6d;&#112;&#108;&#101;&#46;&#x63;&#111;&#x6d;\"\n```\n\n`smartypants` is a method that translates plain ASCII punctuation characters into \u201csmart\u201d typographic punctuation HTML entities:\n\nhttps://daringfireball.net/projects/smartypants/\n\n```js\nsmartypants('\"this ... string\"')\n// \"\u201cthis \u2026 string\u201d\"\n```\n\n***\n\n<h2 id=\"walk-tokens\">Walk Tokens : <code>walkTokens</code></h2>\n\nThe walkTokens function gets called with every token. Child tokens are called before moving on to sibling tokens. Each token is passed by reference so updates are persisted when passed to the parser. When [`async`](#async) mode is enabled, the return value is awaited. Otherwise the return value is ignored.\n\n`marked.use()` can be called multiple times with different `walkTokens` functions. Each function will be called in order, starting with the function that was assigned *last*.\n\n**Example:** Overriding heading tokens to start at h2.\n\n```js\nimport { marked } from 'marked';\n\n// Override function\nconst walkTokens = (token) => {\n  if (token.type === 'heading') {\n    token.depth += 1;\n  }\n};\n\nmarked.use({ walkTokens });\n\n// Run marked\nconsole.log(marked.parse('# heading 2\\n\\n## heading 3'));\n```\n\n**Output:**\n\n```html\n<h2 id=\"heading-2\">heading 2</h2>\n<h3 id=\"heading-3\">heading 3</h3>\n```\n\n***\n\n<h2 id=\"hooks\">Hooks : <code>hooks</code></h2>\n\nHooks are methods that hook into some part of marked. The following hooks are available:\n\n| signature | description |\n|-----------|-------------|\n| `preprocess(markdown: string): string` | Process markdown before sending it to marked. |\n| `postprocess(html: string): string` | Process html after marked has finished parsing. |\n\n`marked.use()` can be called multiple times with different `hooks` functions. Each function will be called in order, starting with the function that was assigned *last*.\n\n**Example:** Set options based on [front-matter](https://www.npmjs.com/package/front-matter)\n\n```js\nimport { marked } from 'marked';\nimport fm from 'front-matter';\n\n// Override function\nconst hooks = {\n  preprocess(markdown) {\n    const { attributes, body } = fm(markdown);\n    for (const prop in attributes) {\n      if (prop in this.options) {\n        this.options[prop] = attributes[prop];\n      }\n    }\n    return body;\n  }\n};\n\nmarked.use({ hooks });\n\n// Run marked\nconsole.log(marked.parse(`\n---\nheaderIds: false\n---\n\n## test\n`.trim()));\n```\n\n**Output:**\n\n```html\n<h2>test</h2>\n```\n\n**Example:** Sanitize HTML with [isomorphic-dompurify](https://www.npmjs.com/package/isomorphic-dompurify)\n\n```js\nimport { marked } from 'marked';\nimport DOMPurify from 'isomorphic-dompurify';\n\n// Override function\nconst hooks = {\n  postprocess(html) {\n    return DOMPurify.sanitize(html);\n  }\n};\n\nmarked.use({ hooks });\n\n// Run marked\nconsole.log(marked.parse(`\n<img src=x onerror=alert(1)//>\n`));\n```\n\n**Output:**\n\n```html\n<img src=\"x\">\n```\n\n***\n\n<h2 id=\"extensions\">Custom Extensions : <code>extensions</code></h2>\n\nYou may supply an `extensions` array to the `options` object. This array can contain any number of `extension` objects, using the following properties:\n\n<dl>\n<dt><code><strong>name</strong></code></dt>\n<dd>A string used to identify the token that will be handled by this extension.\n\nIf the name matches an existing extension name, or an existing method in the tokenizer/renderer methods listed above, they will override the previously assigned behavior, with priority on the extension that was assigned **last**. An extension can return `false` to fall back to the previous behavior.</dd>\n\n<dt><code><strong>level</strong></code></dt>\n<dd>A string to determine when to run the extension tokenizer. Must be equal to 'block' or 'inline'.\n\nA **block-level** extension will be handled before any of the block-level tokenizer methods listed above, and generally consists of 'container-type' text (paragraphs, tables, blockquotes, etc.).\n\nAn **inline-level** extension will be handled inside each block-level token, before any of the inline-level tokenizer methods listed above. These generally consist of 'style-type' text (italics, bold, etc.).</dd>\n\n<dt><code><strong>start</strong>(<i>string</i> src)</code></dt>\n<dd>A function that returns the index of the next potential start of the custom token.\n\nThe index can be the result of a <code>src.match().index</code>, or even a simple <code>src.index()</code>. Marked will use this function to ensure that it does not skip over any text that should be part of the custom token.</dd>\n\n<dt><code><strong>tokenizer</strong>(<i>string</i> src, <i>array</i> tokens)</code></dt>\n<dd>A function that reads string of Markdown text and returns a generated token. The token pattern should be found at the beginning of the <code>src</code> string. Accordingly, if using a Regular Expression to detect a token, it should be anchored to the string start (`^`). The <code>tokens</code> parameter contains the array of tokens that have been generated by the lexer up to that point, and can be used to access the previous token, for instance.\n\nThe return value should be an object with the following parameters:\n\n<dl>\n<dt><code><strong>type</strong></code></dt>\n<dd>A string that matches the <code>name</code> parameter of the extension.</dd>\n\n<dt><code><strong>raw</strong></code></dt>\n<dd>A string containing all of the text that this token consumes from the source.</dd>\n\n<dt><code><strong>tokens</strong> [optional]</code></dt>\n<dd>An array of child tokens that will be traversed by the <code>walkTokens</code> function by default.</dd>\n</dl>\n\nThe returned token can also contain any other custom parameters of your choice that your custom `renderer` might need to access.\n\nThe tokenizer function has access to the lexer in the `this` object, which can be used if any internal section of the string needs to be parsed further, such as in handling any inline syntax on the text within a block token. The key functions that may be useful include:\n\n<dl>\n<dt><code><strong>this.lexer.blockTokens</strong>(<i>string</i> text, <i>array</i> tokens)</code></dt>\n<dd>This runs the block tokenizer functions (including any block-level extensions) on the provided text, and appends any resulting tokens onto the <code>tokens</code> array. The <code>tokens</code> array is also returned by the function. You might use this, for example, if your extension creates a \"container\"-type token (such as a blockquote) that can potentially include other block-level tokens inside.</dd>\n\n<dt><code><strong>this.lexer.inline</strong>(<i>string</i> text, <i>array</i> tokens)</code></dt>\n<dd>Parsing of inline-level tokens only occurs after all block-level tokens have been generated. This function adds <code>text</code> and <code>tokens</code> to a queue to be processed using inline-level tokenizers (including any inline-level extensions) at that later step. Tokens will be generated using the provided <code>text</code>, and any resulting tokens will be appended to the <code>tokens</code> array. Note that this function does **NOT** return anything since the inline processing cannot happen until the block-level processing is complete.</dd>\n\n<dt><code><strong>this.lexer.inlineTokens</strong>(<i>string</i> text, <i>array</i> tokens)</code></dt>\n<dd>Sometimes an inline-level token contains further nested inline tokens (such as a <pre><code>**strong**</code></pre> token inside of a <pre><code>### Heading</code></pre>). This runs the inline tokenizer functions (including any inline-level extensions) on the provided text, and appends any resulting tokens onto the <code>tokens</code> array. The <code>tokens</code> array is also returned by the function.</dd>\n</dl>\n</dd>\n\n<dt><code><strong>renderer</strong>(<i>object</i> token)</code></dt>\n<dd>A function that reads a token and returns the generated HTML output string.\n\nThe renderer function has access to the parser in the `this` object, which can be used if any part of the token needs needs to be parsed further, such as any child tokens. The key functions that may be useful include:\n\n<dl>\n<dt><code><strong>this.parser.parse</strong>(<i>array</i> tokens)</code></dt>\n<dd>Runs the block renderer functions (including any extensions) on the provided array of tokens, and returns the resulting HTML string output. This is used to generate the HTML from any child block-level tokens, for example if your extension is a \"container\"-type token (such as a blockquote) that can potentially include other block-level tokens inside.</dd>\n\n<dt><code><strong>this.parser.parseInline</strong>(<i>array</i> tokens)</code></dt>\n<dd>Runs the inline renderer functions (including any extensions) on the provided array of tokens, and returns the resulting HTML string output. This is used to generate the HTML from any child inline-level tokens.</dd>\n</dl>\n</dd>\n\n<dt><code><strong>childTokens</strong> [optional]</code></dt>\n<dd>An array of strings that match the names of any token parameters that should be traversed by the <code>walkTokens</code> functions. For instance, if you want to use a second custom parameter to contain child tokens in addition to <code>tokens</code>, it could be listed here. If <code>childTokens</code> is provided, the <code>tokens</code> array will not be walked by default unless it is also included in the <code>childTokens</code> array.</dd>\n</dl>\n\n**Example:** Add a custom syntax to generate `<dl>` description lists.\n\n``` js\nconst descriptionList = {\n  name: 'descriptionList',\n  level: 'block',                                     // Is this a block-level or inline-level tokenizer?\n  start(src) { return src.match(/:[^:\\n]/)?.index; }, // Hint to Marked.js to stop and check for a match\n  tokenizer(src, tokens) {\n    const rule = /^(?::[^:\\n]+:[^:\\n]*(?:\\n|$))+/;    // Regex for the complete token, anchor to string start\n    const match = rule.exec(src);\n    if (match) {\n      const token = {                                 // Token to generate\n        type: 'descriptionList',                      // Should match \"name\" above\n        raw: match[0],                                // Text to consume from the source\n        text: match[0].trim(),                        // Additional custom properties\n        tokens: []                                    // Array where child inline tokens will be generated\n      };\n      this.lexer.inline(token.text, token.tokens);    // Queue this data to be processed for inline tokens\n      return token;\n    }\n  },\n  renderer(token) {\n    return `<dl>${this.parser.parseInline(token.tokens)}\\n</dl>`; // parseInline to turn child tokens into HTML\n  }\n};\n\nconst description = {\n  name: 'description',\n  level: 'inline',                                 // Is this a block-level or inline-level tokenizer?\n  start(src) { return src.match(/:/)?.index; },    // Hint to Marked.js to stop and check for a match\n  tokenizer(src, tokens) {\n    const rule = /^:([^:\\n]+):([^:\\n]*)(?:\\n|$)/;  // Regex for the complete token, anchor to string start\n    const match = rule.exec(src);\n    if (match) {\n      return {                                         // Token to generate\n        type: 'description',                           // Should match \"name\" above\n        raw: match[0],                                 // Text to consume from the source\n        dt: this.lexer.inlineTokens(match[1].trim()),  // Additional custom properties, including\n        dd: this.lexer.inlineTokens(match[2].trim())   //   any further-nested inline tokens\n      };\n    }\n  },\n  renderer(token) {\n    return `\\n<dt>${this.parser.parseInline(token.dt)}</dt><dd>${this.parser.parseInline(token.dd)}</dd>`;\n  },\n  childTokens: ['dt', 'dd'],                 // Any child tokens to be visited by walkTokens\n};\n\nfunction walkTokens(token) {                        // Post-processing on the completed token tree\n  if (token.type === 'strong') {\n    token.text += ' walked';\n    token.tokens = this.Lexer.lexInline(token.text)\n  }\n}\nmarked.use({ extensions: [descriptionList, description], walkTokens });\n\n// EQUIVALENT TO:\n\nmarked.use({ extensions: [descriptionList] });\nmarked.use({ extensions: [description]     });\nmarked.use({ walkTokens })\n\nconsole.log(marked.parse('A Description List:\\n'\n                 + ':   Topic 1   :  Description 1\\n'\n                 + ': **Topic 2** : *Description 2*'));\n```\n\n**Output**\n\n``` bash\n<p>A Description List:</p>\n<dl>\n<dt>Topic 1</dt><dd>Description 1</dd>\n<dt><strong>Topic 2 walked</strong></dt><dd><em>Description 2</em></dd>\n</dl>\n```\n\n***\n\n<h2 id=\"async\">Async Marked : <code>async</code></h2>\n\nMarked will return a promise if the `async` option is true. The `async` option will tell marked to await any `walkTokens` functions before parsing the tokens and returning an HTML string.\n\nSimple Example:\n\n```js\nconst walkTokens = async (token) => {\n  if (token.type === 'link') {\n    try {\n      await fetch(token.href);\n    } catch (ex) {\n      token.title = 'invalid';\n    }\n  }\n};\n\nmarked.use({ walkTokens, async: true });\n\nconst markdown = `\n[valid link](https://example.com)\n\n[invalid link](https://invalidurl.com)\n`;\n\nconst html = await marked.parse(markdown);\n```\n\nCustom Extension Example:\n\n```js\nconst importUrl = {\n  extensions: [{\n    name: 'importUrl',\n    level: 'block',\n    start(src) { return src.indexOf('\\n:'); },\n    tokenizer(src) {\n      const rule = /^:(https?:\\/\\/.+?):/;\n      const match = rule.exec(src);\n      if (match) {\n        return {\n          type: 'importUrl',\n          raw: match[0],\n          url: match[1],\n          html: '' // will be replaced in walkTokens\n        };\n      }\n    },\n    renderer(token) {\n      return token.html;\n    }\n  }],\n  async: true, // needed to tell marked to return a promise\n  async walkTokens(token) {\n    if (token.type === 'importUrl') {\n      const res = await fetch(token.url);\n      token.html = await res.text();\n    }\n  }\n};\n\nmarked.use(importUrl);\n\nconst markdown = `\n# example.com\n\n:https://example.com:\n`;\n\nconst html = await marked.parse(markdown);\n```\n\n<h2 id=\"lexer\">The Lexer</h2>\n\nThe lexer takes a markdown string and calls the tokenizer functions.\n\n\n<h2 id=\"parser\">The Parser</h2>\n\nThe parser takes tokens as input and calls the renderer functions.\n\n<h2 id=\"extend\">Access to Lexer and Parser</h2>\n\nYou also have direct access to the lexer and parser if you so desire.\n\n``` js\nconst tokens = marked.lexer(markdown, options);\nconsole.log(marked.parser(tokens, options));\n```\n\n``` js\nconst lexer = new marked.Lexer(options);\nconst tokens = lexer.lex(markdown);\nconsole.log(tokens);\nconsole.log(lexer.tokenizer.rules.block); // block level rules used\nconsole.log(lexer.tokenizer.rules.inline); // inline level rules used\nconsole.log(marked.Lexer.rules.block); // all block level rules\nconsole.log(marked.Lexer.rules.inline); // all inline level rules\n```\n\n``` bash\n$ node\n> require('marked').lexer('> I am using marked.')\n[\n  {\n    type: \"blockquote\",\n    raw: \"> I am using marked.\",\n    tokens: [\n      {\n        type: \"paragraph\",\n        raw: \"I am using marked.\",\n        text: \"I am using marked.\",\n        tokens: [\n          {\n            type: \"text\",\n            raw: \"I am using marked.\",\n            text: \"I am using marked.\"\n          }\n        ]\n      }\n    ]\n  },\n  links: {}\n]\n```\n\nThe Lexer builds an array of tokens, which will be passed to the Parser.\nThe Parser processes each token in the token array:\n\n``` js\nimport { marked } from 'marked';\n\nconst md = `\n  # heading\n\n  [link][1]\n\n  [1]: #heading \"heading\"\n`;\n\nconst tokens = marked.lexer(md);\nconsole.log(tokens);\n\nconst html = marked.parser(tokens);\nconsole.log(html);\n```\n\n``` bash\n[\n  {\n    type: \"heading\",\n    raw: \"  # heading\\n\\n\",\n    depth: 1,\n    text: \"heading\",\n    tokens: [\n      {\n        type: \"text\",\n        raw: \"heading\",\n        text: \"heading\"\n      }\n    ]\n  },\n  {\n    type: \"paragraph\",\n    raw: \"  [link][1]\",\n    text: \"  [link][1]\",\n    tokens: [\n      {\n        type: \"text\",\n        raw: \"  \",\n        text: \"  \"\n      },\n      {\n        type: \"link\",\n        raw: \"[link][1]\",\n        text: \"link\",\n        href: \"#heading\",\n        title: \"heading\",\n        tokens: [\n          {\n            type: \"text\",\n            raw: \"link\",\n            text: \"link\"\n          }\n        ]\n      }\n    ]\n  },\n  {\n    type: \"space\",\n    raw: \"\\n\\n\"\n  },\n  links: {\n    \"1\": {\n      href: \"#heading\",\n      title: \"heading\"\n    }\n  }\n]\n<h1 id=\"heading\">heading</h1>\n<p>  <a href=\"#heading\" title=\"heading\">link</a></p>\n```\n",
          "filepath": "data/repos/markedjs/marked-5.0/docs/USING_PRO.md",
          "repo": "markedjs/marked",
          "version": "5.0",
          "chunk_index": 0,
          "chunk_id": "360fc768-a0fc-4f50-978b-921a82aec07c"
        }
      },
      {
        "id": "718a3037-2529-414d-8aa4-c18c947a43e0",
        "score": 0.015384615384615385,
        "payload": {
          "text": "Marked is\n\n1. built for speed.<sup>*</sup>\n2. a low-level markdown compiler for parsing markdown without caching or blocking for long periods of time.<sup>**</sup>\n3. light-weight while implementing all markdown features from the supported flavors & specifications.<sup>***</sup>\n4. available as a command line interface (CLI) and running in client- or server-side JavaScript projects.\n\n<p><small><sup>*</sup> Still working on metrics for comparative analysis and definition.</small><br>\n<small><sup>**</sup> As few dependencies as possible.</small><br>\n<small><sup>***</sup> Strict compliance could result in slower processing when running comparative benchmarking.</small></p>\n\n\n<h2 id=\"demo\">Demo</h2>\n\nCheckout the [demo page](./demo/) to see marked in action \u26f9\ufe0f\n\nThese documentation pages are also rendered using marked \ud83d\udcaf\n\n\n<h2 id=\"installation\">Installation</h2>\n\n**CLI:** `npm install -g marked`\n\n**In-browser:**\n```\nnpm install marked\nnpm install @types/marked # For TypeScript projects\n```\n<h2 id=\"usage\">Usage</h2>\n\n### Warning: \ud83d\udea8 Marked does not [sanitize](/using_advanced#options) the output HTML. If you are processing potentially unsafe strings, it's important to filter for possible XSS attacks. Some filtering options include [DOMPurify](https://github.com/cure53/DOMPurify) (recommended), [js-xss](https://github.com/leizongmin/js-xss), [sanitize-html](https://github.com/apostrophecms/sanitize-html) and [insane](https://github.com/bevacqua/insane) on the *output* HTML! \ud83d\udea8\n\n```\nDOMPurify.sanitize(marked.parse(`<img src=\"x\" onerror=\"alert('not happening')\">`));\n```\n\n**\u26a0\ufe0f Input: special ZERO WIDTH unicode characters (for example `\\uFEFF`) might interfere with parsing. Some text editors add them at the start of the file (see: [#2139](https://github.com/markedjs/marked/issues/2139)).**\n\n```js\n// remove the most common zerowidth characters from the start of the file \nmarked.parse(\n  contents.replace(/^[\\u200B\\u200C\\u200D\\u200E\\u200F\\uFEFF]/,\"\")\n)\n```\n\n**CLI**\n\n``` bash\n# Example with stdin input\n$ marked -o hello.html\nhello world\n^D\n$ cat hello.html\n<p>hello world</p>\n```\n\n``` bash\n# Example with string input\n$ marked -s \"*hello world*\"\n<p><em>hello world</em></p>\n```\n\n```bash\n# Example with file input\n\necho \"**bold text example**\" > readme.md\n\n$ marked -i readme.md -o readme.html\n$ cat readme.html\n<p><strong>bold text example</strong></p>\n```\n\n```bash\n# Print all options\n$ marked --help\n```\n\n**Browser**\n\n```html\n<!doctype html>\n<html>\n<head>\n  <meta charset=\"utf-8\"/>\n  <title>Marked in the browser</title>\n</head>\n<body>\n  <div id=\"content\"></div>\n  <script src=\"https://cdn.jsdelivr.net/npm/marked/marked.min.js\"></script>\n  <script>\n    document.getElementById('content').innerHTML =\n      marked.parse('# Marked in browser\\n\\nRendered by **marked**.');\n  </script>\n</body>\n</html>\n```\n\n**Node.js**\n\n```js\nimport { marked } from 'marked';\n// or const { marked } = require('marked');\n\nconst html = marked.parse('# Marked in Node.js\\n\\nRendered by **marked**.');\n```\n\n\nMarked offers [advanced configurations](/using_advanced) and [extensibility](/using_pro) as well.\n\n<h2 id=\"specifications\">Supported Markdown specifications</h2>\n\nWe actively support the features of the following [Markdown flavors](https://github.com/commonmark/CommonMark/wiki/Markdown-Flavors).\n\n| Flavor                                                     | Version | Status                                                             |\n| :--------------------------------------------------------- | :------ | :----------------------------------------------------------------- |\n| The original markdown.pl                                   | --      |                                                                    |\n| [CommonMark](http://spec.commonmark.org/0.30/)             | 0.30    | [Work in progress](https://github.com/markedjs/marked/issues/1202) |\n| [GitHub Flavored Markdown](https://github.github.com/gfm/) | 0.29    | [Work in progress](https://github.com/markedjs/marked/issues/1202) |\n\nBy supporting the above Markdown flavors, it's possible that Marked can help you use other flavors as well; however, these are not actively supported by the community.\n\n<h2 id=\"tools\">List of Tools Using Marked</h2>\n\nWe actively support the usability of Marked in super-fast markdown transformation, some of Tools using `Marked` for single-page creations are \n\n| Tools                                                               |                  Description                                               |\n| :-----------------------------------------------------------------  | :------------------------------------------------------------------------  |\n| [zero-md](https://zerodevx.github.io/zero-md/)                      | A native markdown-to-html web component to load and display an external MD file.It uses Marked for super-fast markdown transformation. |\n| [texme](https://github.com/susam/texme)                             | TeXMe is a lightweight JavaScript utility to create self-rendering Markdown + LaTeX documents.             |\n| [StrapDown.js](https://naereen.github.io/StrapDown.js/)             | StrapDown.js is an awesome on-the-fly Markdown to HTML text processor.                |\n| [Homebrewery](https://homebrewery.naturalcrit.com/)             | The Homebrewery is a tool for making authentic looking D&D content using Markdown. It is distributed under the terms of the MIT.             |\n\n<h2 id=\"security\">Security</h2>\n\nThe only completely secure system is the one that doesn't exist in the first place. Having said that, we take the security of Marked very seriously.\n\nTherefore, please disclose potential security issues by email to the project [committers](/authors) as well as the [listed owners within NPM](https://docs.npmjs.com/cli/owner). We will provide an initial assessment of security reports within 48 hours and should apply patches within 2 weeks (also, feel free to contribute a fix for the issue).\n",
          "filepath": "data/repos/markedjs/marked-5.0/docs/INDEX.md",
          "repo": "markedjs/marked",
          "version": "5.0",
          "chunk_index": 0,
          "chunk_id": "718a3037-2529-414d-8aa4-c18c947a43e0"
        }
      }
    ]
  }
]